var r9=Object.defineProperty;var a9=(e,t,n)=>t in e?r9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yt=(e,t,n)=>a9(e,typeof t!="symbol"?t+"":t,n);function i9(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var _r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Or(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function s9(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var U_={exports:{}},yh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT;function o9(){if(sT)return yh;sT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var o in a)o!=="key"&&(i[o]=a[o])}else i=a;return a=i.ref,{$$typeof:e,type:r,key:s,ref:a!==void 0?a:null,props:i}}return yh.Fragment=t,yh.jsx=n,yh.jsxs=n,yh}var oT;function l9(){return oT||(oT=1,U_.exports=o9()),U_.exports}var D=l9(),B_={exports:{}},un={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function c9(){if(lT)return un;lT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function m(N){return N===null||typeof N!="object"?null:(N=h&&N[h]||N["@@iterator"],typeof N=="function"?N:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function w(N,W,K){this.props=N,this.context=W,this.refs=_,this.updater=K||g}w.prototype.isReactComponent={},w.prototype.setState=function(N,W){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,W,"setState")},w.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function x(){}x.prototype=w.prototype;function k(N,W,K){this.props=N,this.context=W,this.refs=_,this.updater=K||g}var R=k.prototype=new x;R.constructor=k,b(R,w.prototype),R.isPureReactComponent=!0;var I=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},A=Object.prototype.hasOwnProperty;function L(N,W,K,$,J,oe){return K=oe.ref,{$$typeof:e,type:N,key:W,ref:K!==void 0?K:null,props:oe}}function C(N,W){return L(N.type,W,void 0,void 0,void 0,N.props)}function T(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function S(N){var W={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(K){return W[K]})}var j=/\/+/g;function B(N,W){return typeof N=="object"&&N!==null&&N.key!=null?S(""+N.key):W.toString(36)}function H(){}function U(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(H,H):(N.status="pending",N.then(function(W){N.status==="pending"&&(N.status="fulfilled",N.value=W)},function(W){N.status==="pending"&&(N.status="rejected",N.reason=W)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function z(N,W,K,$,J){var oe=typeof N;(oe==="undefined"||oe==="boolean")&&(N=null);var fe=!1;if(N===null)fe=!0;else switch(oe){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(N.$$typeof){case e:case t:fe=!0;break;case f:return fe=N._init,z(fe(N._payload),W,K,$,J)}}if(fe)return J=J(N),fe=$===""?"."+B(N,0):$,I(J)?(K="",fe!=null&&(K=fe.replace(j,"$&/")+"/"),z(J,W,K,"",function(Ee){return Ee})):J!=null&&(T(J)&&(J=C(J,K+(J.key==null||N&&N.key===J.key?"":(""+J.key).replace(j,"$&/")+"/")+fe)),W.push(J)),1;fe=0;var ye=$===""?".":$+":";if(I(N))for(var le=0;le<N.length;le++)$=N[le],oe=ye+B($,le),fe+=z($,W,K,oe,J);else if(le=m(N),typeof le=="function")for(N=le.call(N),le=0;!($=N.next()).done;)$=$.value,oe=ye+B($,le++),fe+=z($,W,K,oe,J);else if(oe==="object"){if(typeof N.then=="function")return z(U(N),W,K,$,J);throw W=String(N),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return fe}function F(N,W,K){if(N==null)return N;var $=[],J=0;return z(N,$,"","",function(oe){return W.call(K,oe,J++)}),$}function V(N){if(N._status===-1){var W=N._result;W=W(),W.then(function(K){(N._status===0||N._status===-1)&&(N._status=1,N._result=K)},function(K){(N._status===0||N._status===-1)&&(N._status=2,N._result=K)}),N._status===-1&&(N._status=0,N._result=W)}if(N._status===1)return N._result.default;throw N._result}var Y=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function q(){}return un.Children={map:F,forEach:function(N,W,K){F(N,function(){W.apply(this,arguments)},K)},count:function(N){var W=0;return F(N,function(){W++}),W},toArray:function(N){return F(N,function(W){return W})||[]},only:function(N){if(!T(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},un.Component=w,un.Fragment=n,un.Profiler=a,un.PureComponent=k,un.StrictMode=r,un.Suspense=c,un.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,un.__COMPILER_RUNTIME={__proto__:null,c:function(N){return O.H.useMemoCache(N)}},un.cache=function(N){return function(){return N.apply(null,arguments)}},un.cloneElement=function(N,W,K){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var $=b({},N.props),J=N.key,oe=void 0;if(W!=null)for(fe in W.ref!==void 0&&(oe=void 0),W.key!==void 0&&(J=""+W.key),W)!A.call(W,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&W.ref===void 0||($[fe]=W[fe]);var fe=arguments.length-2;if(fe===1)$.children=K;else if(1<fe){for(var ye=Array(fe),le=0;le<fe;le++)ye[le]=arguments[le+2];$.children=ye}return L(N.type,J,void 0,void 0,oe,$)},un.createContext=function(N){return N={$$typeof:s,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:i,_context:N},N},un.createElement=function(N,W,K){var $,J={},oe=null;if(W!=null)for($ in W.key!==void 0&&(oe=""+W.key),W)A.call(W,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(J[$]=W[$]);var fe=arguments.length-2;if(fe===1)J.children=K;else if(1<fe){for(var ye=Array(fe),le=0;le<fe;le++)ye[le]=arguments[le+2];J.children=ye}if(N&&N.defaultProps)for($ in fe=N.defaultProps,fe)J[$]===void 0&&(J[$]=fe[$]);return L(N,oe,void 0,void 0,null,J)},un.createRef=function(){return{current:null}},un.forwardRef=function(N){return{$$typeof:o,render:N}},un.isValidElement=T,un.lazy=function(N){return{$$typeof:f,_payload:{_status:-1,_result:N},_init:V}},un.memo=function(N,W){return{$$typeof:d,type:N,compare:W===void 0?null:W}},un.startTransition=function(N){var W=O.T,K={};O.T=K;try{var $=N(),J=O.S;J!==null&&J(K,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(q,Y)}catch(oe){Y(oe)}finally{O.T=W}},un.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},un.use=function(N){return O.H.use(N)},un.useActionState=function(N,W,K){return O.H.useActionState(N,W,K)},un.useCallback=function(N,W){return O.H.useCallback(N,W)},un.useContext=function(N){return O.H.useContext(N)},un.useDebugValue=function(){},un.useDeferredValue=function(N,W){return O.H.useDeferredValue(N,W)},un.useEffect=function(N,W,K){var $=O.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(N,W)},un.useId=function(){return O.H.useId()},un.useImperativeHandle=function(N,W,K){return O.H.useImperativeHandle(N,W,K)},un.useInsertionEffect=function(N,W){return O.H.useInsertionEffect(N,W)},un.useLayoutEffect=function(N,W){return O.H.useLayoutEffect(N,W)},un.useMemo=function(N,W){return O.H.useMemo(N,W)},un.useOptimistic=function(N,W){return O.H.useOptimistic(N,W)},un.useReducer=function(N,W,K){return O.H.useReducer(N,W,K)},un.useRef=function(N){return O.H.useRef(N)},un.useState=function(N){return O.H.useState(N)},un.useSyncExternalStore=function(N,W,K){return O.H.useSyncExternalStore(N,W,K)},un.useTransition=function(){return O.H.useTransition()},un.version="19.1.0",un}var cT;function ma(){return cT||(cT=1,B_.exports=c9()),B_.exports}var E=ma();const v=Or(E),wL=i9({__proto__:null,default:v},[E]);var $_={exports:{}},vh={},z_={exports:{}},H_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function u9(){return uT||(uT=1,function(e){function t(F,V){var Y=F.length;F.push(V);e:for(;0<Y;){var q=Y-1>>>1,N=F[q];if(0<a(N,V))F[q]=V,F[Y]=N,Y=q;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var V=F[0],Y=F.pop();if(Y!==V){F[0]=Y;e:for(var q=0,N=F.length,W=N>>>1;q<W;){var K=2*(q+1)-1,$=F[K],J=K+1,oe=F[J];if(0>a($,Y))J<N&&0>a(oe,$)?(F[q]=oe,F[J]=Y,q=J):(F[q]=$,F[K]=Y,q=K);else if(J<N&&0>a(oe,Y))F[q]=oe,F[J]=Y,q=J;else break e}}return V}function a(F,V){var Y=F.sortIndex-V.sortIndex;return Y!==0?Y:F.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],d=[],f=1,h=null,m=3,g=!1,b=!1,_=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function I(F){for(var V=n(d);V!==null;){if(V.callback===null)r(d);else if(V.startTime<=F)r(d),V.sortIndex=V.expirationTime,t(c,V);else break;V=n(d)}}function O(F){if(_=!1,I(F),!b)if(n(c)!==null)b=!0,A||(A=!0,B());else{var V=n(d);V!==null&&z(O,V.startTime-F)}}var A=!1,L=-1,C=5,T=-1;function S(){return w?!0:!(e.unstable_now()-T<C)}function j(){if(w=!1,A){var F=e.unstable_now();T=F;var V=!0;try{e:{b=!1,_&&(_=!1,k(L),L=-1),g=!0;var Y=m;try{t:{for(I(F),h=n(c);h!==null&&!(h.expirationTime>F&&S());){var q=h.callback;if(typeof q=="function"){h.callback=null,m=h.priorityLevel;var N=q(h.expirationTime<=F);if(F=e.unstable_now(),typeof N=="function"){h.callback=N,I(F),V=!0;break t}h===n(c)&&r(c),I(F)}else r(c);h=n(c)}if(h!==null)V=!0;else{var W=n(d);W!==null&&z(O,W.startTime-F),V=!1}}break e}finally{h=null,m=Y,g=!1}V=void 0}}finally{V?B():A=!1}}}var B;if(typeof R=="function")B=function(){R(j)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,U=H.port2;H.port1.onmessage=j,B=function(){U.postMessage(null)}}else B=function(){x(j,0)};function z(F,V){L=x(function(){F(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(F){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var Y=m;m=V;try{return F()}finally{m=Y}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=m;m=F;try{return V()}finally{m=Y}},e.unstable_scheduleCallback=function(F,V,Y){var q=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?q+Y:q):Y=q,F){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=Y+N,F={id:f++,callback:V,priorityLevel:F,startTime:Y,expirationTime:N,sortIndex:-1},Y>q?(F.sortIndex=Y,t(d,F),n(c)===null&&F===n(d)&&(_?(k(L),L=-1):_=!0,z(O,Y-q))):(F.sortIndex=N,t(c,F),b||g||(b=!0,A||(A=!0,B()))),F},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(F){var V=m;return function(){var Y=m;m=V;try{return F.apply(this,arguments)}finally{m=Y}}}}(H_)),H_}var dT;function d9(){return dT||(dT=1,z_.exports=u9()),z_.exports}var V_={exports:{}},Ja={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function f9(){if(fT)return Ja;fT=1;var e=ma();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(c,d,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:h==null?null:""+h,children:c,containerInfo:d,implementation:f}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ja.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ja.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(c,d,null,f)},Ja.flushSync=function(c){var d=s.T,f=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=d,r.p=f,r.d.f()}},Ja.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Ja.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Ja.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,h=o(f,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,g=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:g}):f==="script"&&r.d.X(c,{crossOrigin:h,integrity:m,fetchPriority:g,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ja.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=o(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Ja.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,h=o(f,d.crossOrigin);r.d.L(c,f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ja.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=o(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Ja.requestFormReset=function(c){r.d.r(c)},Ja.unstable_batchedUpdates=function(c,d){return c(d)},Ja.useFormState=function(c,d,f){return s.H.useFormState(c,d,f)},Ja.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ja.version="19.1.0",Ja}var hT;function xL(){if(hT)return V_.exports;hT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),V_.exports=f9(),V_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT;function h9(){if(pT)return vh;pT=1;var e=d9(),t=ma(),n=xL();function r(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function s(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function o(l){if(i(l)!==l)throw Error(r(188))}function c(l){var u=l.alternate;if(!u){if(u=i(l),u===null)throw Error(r(188));return u!==l?null:l}for(var p=l,y=u;;){var M=p.return;if(M===null)break;var P=M.alternate;if(P===null){if(y=M.return,y!==null){p=y;continue}break}if(M.child===P.child){for(P=M.child;P;){if(P===p)return o(M),l;if(P===y)return o(M),u;P=P.sibling}throw Error(r(188))}if(p.return!==y.return)p=M,y=P;else{for(var G=!1,X=M.child;X;){if(X===p){G=!0,p=M,y=P;break}if(X===y){G=!0,y=M,p=P;break}X=X.sibling}if(!G){for(X=P.child;X;){if(X===p){G=!0,p=P,y=M;break}if(X===y){G=!0,y=P,p=M;break}X=X.sibling}if(!G)throw Error(r(189))}}if(p.alternate!==y)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?l:u}function d(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=d(l),u!==null)return u;l=l.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),R=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function B(l){return l===null||typeof l!="object"?null:(l=j&&l[j]||l["@@iterator"],typeof l=="function"?l:null)}var H=Symbol.for("react.client.reference");function U(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===H?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case b:return"Fragment";case w:return"Profiler";case _:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList";case T:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case g:return"Portal";case R:return(l.displayName||"Context")+".Provider";case k:return(l._context.displayName||"Context")+".Consumer";case I:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case L:return u=l.displayName||null,u!==null?u:U(l.type)||"Memo";case C:u=l._payload,l=l._init;try{return U(l(u))}catch{}}return null}var z=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},q=[],N=-1;function W(l){return{current:l}}function K(l){0>N||(l.current=q[N],q[N]=null,N--)}function $(l,u){N++,q[N]=l.current,l.current=u}var J=W(null),oe=W(null),fe=W(null),ye=W(null);function le(l,u){switch($(fe,u),$(oe,l),$(J,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?NM(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=NM(u),l=PM(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}K(J),$(J,l)}function Ee(){K(J),K(oe),K(fe)}function ue(l){l.memoizedState!==null&&$(ye,l);var u=J.current,p=PM(u,l.type);u!==p&&($(oe,l),$(J,p))}function Me(l){oe.current===l&&(K(J),K(oe)),ye.current===l&&(K(ye),fh._currentValue=Y)}var Fe=Object.prototype.hasOwnProperty,$e=e.unstable_scheduleCallback,ze=e.unstable_cancelCallback,Xe=e.unstable_shouldYield,ot=e.unstable_requestPaint,nt=e.unstable_now,St=e.unstable_getCurrentPriorityLevel,Nt=e.unstable_ImmediatePriority,ut=e.unstable_UserBlockingPriority,_t=e.unstable_NormalPriority,wt=e.unstable_LowPriority,st=e.unstable_IdlePriority,de=e.log,Je=e.unstable_setDisableYieldValue,be=null,ke=null;function Pe(l){if(typeof de=="function"&&Je(l),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(be,l)}catch{}}var rt=Math.clz32?Math.clz32:En,at=Math.log,Jt=Math.LN2;function En(l){return l>>>=0,l===0?32:31-(at(l)/Jt|0)|0}var Ln=256,Bn=4194304;function en(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function dt(l,u,p){var y=l.pendingLanes;if(y===0)return 0;var M=0,P=l.suspendedLanes,G=l.pingedLanes;l=l.warmLanes;var X=y&134217727;return X!==0?(y=X&~P,y!==0?M=en(y):(G&=X,G!==0?M=en(G):p||(p=X&~l,p!==0&&(M=en(p))))):(X=y&~P,X!==0?M=en(X):G!==0?M=en(G):p||(p=y&~l,p!==0&&(M=en(p)))),M===0?0:u!==0&&u!==M&&(u&P)===0&&(P=M&-M,p=u&-u,P>=p||P===32&&(p&4194048)!==0)?u:M}function hn(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Re(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function it(){var l=Ln;return Ln<<=1,(Ln&4194048)===0&&(Ln=256),l}function kt(){var l=Bn;return Bn<<=1,(Bn&62914560)===0&&(Bn=4194304),l}function et(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function Xt(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function bt(l,u,p,y,M,P){var G=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var X=l.entanglements,ie=l.expirationTimes,we=l.hiddenUpdates;for(p=G&~p;0<p;){var Ne=31-rt(p),Be=1<<Ne;X[Ne]=0,ie[Ne]=-1;var Ce=we[Ne];if(Ce!==null)for(we[Ne]=null,Ne=0;Ne<Ce.length;Ne++){var De=Ce[Ne];De!==null&&(De.lane&=-536870913)}p&=~Be}y!==0&&rn(l,y,0),P!==0&&M===0&&l.tag!==0&&(l.suspendedLanes|=P&~(G&~u))}function rn(l,u,p){l.pendingLanes|=u,l.suspendedLanes&=~u;var y=31-rt(u);l.entangledLanes|=u,l.entanglements[y]=l.entanglements[y]|1073741824|p&4194090}function pn(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var y=31-rt(p),M=1<<y;M&u|l[y]&u&&(l[y]|=u),p&=~M}}function Gn(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function mn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function $t(){var l=V.p;return l!==0?l:(l=window.event,l===void 0?32:eT(l.type))}function pt(l,u){var p=V.p;try{return V.p=l,u()}finally{V.p=p}}var Mn=Math.random().toString(36).slice(2),nn="__reactFiber$"+Mn,Fn="__reactProps$"+Mn,Br="__reactContainer$"+Mn,fi="__reactEvents$"+Mn,ce="__reactListeners$"+Mn,me="__reactHandles$"+Mn,Se="__reactResources$"+Mn,Le="__reactMarker$"+Mn;function lt(l){delete l[nn],delete l[Fn],delete l[fi],delete l[ce],delete l[me]}function Ut(l){var u=l[nn];if(u)return u;for(var p=l.parentNode;p;){if(u=p[Br]||p[nn]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=UM(l);l!==null;){if(p=l[nn])return p;l=UM(l)}return u}l=p,p=l.parentNode}return null}function Lt(l){if(l=l[nn]||l[Br]){var u=l.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return l}return null}function te(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(r(33))}function re(l){var u=l[Se];return u||(u=l[Se]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function xe(l){l[Le]=!0}var Qe=new Set,qe={};function Ve(l,u){Et(l,u),Et(l+"Capture",u)}function Et(l,u){for(qe[l]=u,l=0;l<u.length;l++)Qe.add(u[l])}var Ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tt={},Wt={};function Ft(l){return Fe.call(Wt,l)?!0:Fe.call(Tt,l)?!1:Ot.test(l)?Wt[l]=!0:(Tt[l]=!0,!1)}function Pt(l,u,p){if(Ft(u))if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var y=u.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+p)}}function zt(l,u,p){if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+p)}}function Gt(l,u,p,y){if(y===null)l.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(u,p,""+y)}}var $n,Tr;function Kn(l){if($n===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);$n=u&&u[1]||"",Tr=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$n+l+Tr}var Kr=!1;function xr(l,u){if(!l||Kr)return"";Kr=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(u){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(De){var Ce=De}Reflect.construct(l,[],Be)}else{try{Be.call()}catch(De){Ce=De}l.call(Be.prototype)}}else{try{throw Error()}catch(De){Ce=De}(Be=l())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(De){if(De&&Ce&&typeof De.stack=="string")return[De.stack,Ce.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=y.DetermineComponentFrameRoot(),G=P[0],X=P[1];if(G&&X){var ie=G.split(`
`),we=X.split(`
`);for(M=y=0;y<ie.length&&!ie[y].includes("DetermineComponentFrameRoot");)y++;for(;M<we.length&&!we[M].includes("DetermineComponentFrameRoot");)M++;if(y===ie.length||M===we.length)for(y=ie.length-1,M=we.length-1;1<=y&&0<=M&&ie[y]!==we[M];)M--;for(;1<=y&&0<=M;y--,M--)if(ie[y]!==we[M]){if(y!==1||M!==1)do if(y--,M--,0>M||ie[y]!==we[M]){var Ne=`
`+ie[y].replace(" at new "," at ");return l.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",l.displayName)),Ne}while(1<=y&&0<=M);break}}}finally{Kr=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?Kn(p):""}function bn(l){switch(l.tag){case 26:case 27:case 5:return Kn(l.type);case 16:return Kn("Lazy");case 13:return Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return xr(l.type,!1);case 11:return xr(l.type.render,!1);case 1:return xr(l.type,!0);case 31:return Kn("Activity");default:return""}}function Nn(l){try{var u="";do u+=bn(l),l=l.return;while(l);return u}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function kr(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Ra(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ti(l){var u=Ra(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),y=""+l[u];if(!l.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var M=p.get,P=p.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return M.call(this)},set:function(G){y=""+G,P.call(this,G)}}),Object.defineProperty(l,u,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(G){y=""+G},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Aa(l){l._valueTracker||(l._valueTracker=Ti(l))}function hi(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),y="";return l&&(y=Ra(l)?l.checked?"true":"false":l.value),l=y,l!==p?(u.setValue(l),!0):!1}function Qr(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var ja=/[\n"\\]/g;function sr(l){return l.replace(ja,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Oa(l,u,p,y,M,P,G,X){l.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?l.type=G:l.removeAttribute("type"),u!=null?G==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+kr(u)):l.value!==""+kr(u)&&(l.value=""+kr(u)):G!=="submit"&&G!=="reset"||l.removeAttribute("value"),u!=null?Cr(l,G,kr(u)):p!=null?Cr(l,G,kr(p)):y!=null&&l.removeAttribute("value"),M==null&&P!=null&&(l.defaultChecked=!!P),M!=null&&(l.checked=M&&typeof M!="function"&&typeof M!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?l.name=""+kr(X):l.removeAttribute("name")}function Ga(l,u,p,y,M,P,G,X){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(l.type=P),u!=null||p!=null){if(!(P!=="submit"&&P!=="reset"||u!=null))return;p=p!=null?""+kr(p):"",u=u!=null?""+kr(u):p,X||u===l.value||(l.value=u),l.defaultValue=u}y=y??M,y=typeof y!="function"&&typeof y!="symbol"&&!!y,l.checked=X?l.checked:!!y,l.defaultChecked=!!y,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(l.name=G)}function Cr(l,u,p){u==="number"&&Qr(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function se(l,u,p,y){if(l=l.options,u){u={};for(var M=0;M<p.length;M++)u["$"+p[M]]=!0;for(p=0;p<l.length;p++)M=u.hasOwnProperty("$"+l[p].value),l[p].selected!==M&&(l[p].selected=M),M&&y&&(l[p].defaultSelected=!0)}else{for(p=""+kr(p),u=null,M=0;M<l.length;M++){if(l[M].value===p){l[M].selected=!0,y&&(l[M].defaultSelected=!0);return}u!==null||l[M].disabled||(u=l[M])}u!==null&&(u.selected=!0)}}function mt(l,u,p){if(u!=null&&(u=""+kr(u),u!==l.value&&(l.value=u),p==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=p!=null?""+kr(p):""}function ft(l,u,p,y){if(u==null){if(y!=null){if(p!=null)throw Error(r(92));if(z(y)){if(1<y.length)throw Error(r(93));y=y[0]}p=y}p==null&&(p=""),u=p}p=kr(u),l.defaultValue=p,y=l.textContent,y===p&&y!==""&&y!==null&&(l.value=y)}function sn(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var Pn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function It(l,u,p){var y=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":y?l.setProperty(u,p):typeof p!="number"||p===0||Pn.has(u)?u==="float"?l.cssFloat=p:l[u]=(""+p).trim():l[u]=p+"px"}function In(l,u,p){if(u!=null&&typeof u!="object")throw Error(r(62));if(l=l.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||u!=null&&u.hasOwnProperty(y)||(y.indexOf("--")===0?l.setProperty(y,""):y==="float"?l.cssFloat="":l[y]="");for(var M in u)y=u[M],u.hasOwnProperty(M)&&p[M]!==y&&It(l,M,y)}else for(var P in u)u.hasOwnProperty(P)&&It(l,P,u[P])}function Zr(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$r=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(l){return $r.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var pi=null;function mi(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Ka=null,Qa=null;function Vi(l){var u=Lt(l);if(u&&(l=u.stateNode)){var p=l[Fn]||null;e:switch(l=u.stateNode,u.type){case"input":if(Oa(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+sr(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var y=p[u];if(y!==l&&y.form===l.form){var M=y[Fn]||null;if(!M)throw Error(r(90));Oa(y,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(u=0;u<p.length;u++)y=p[u],y.form===l.form&&hi(y)}break e;case"textarea":mt(l,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&se(l,!!p.multiple,u,!1)}}}var no=!1;function Za(l,u,p){if(no)return l(u,p);no=!0;try{var y=l(u);return y}finally{if(no=!1,(Ka!==null||Qa!==null)&&(tg(),Ka&&(u=Ka,l=Qa,Qa=Ka=null,Vi(u),l)))for(u=0;u<l.length;u++)Vi(l[u])}}function sa(l,u){var p=l.stateNode;if(p===null)return null;var y=p[Fn]||null;if(y===null)return null;p=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jr=!1;if(Xr)try{var La={};Object.defineProperty(La,"passive",{get:function(){Jr=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{Jr=!1}var gi=null,ro=null,Is=null;function Vo(){if(Is)return Is;var l,u=ro,p=u.length,y,M="value"in gi?gi.value:gi.textContent,P=M.length;for(l=0;l<p&&u[l]===M[l];l++);var G=p-l;for(y=1;y<=G&&u[p-y]===M[P-y];y++);return Is=M.slice(l,1<y?1-y:void 0)}function cs(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Fs(){return!0}function js(){return!1}function ee(l){function u(p,y,M,P,G){this._reactName=p,this._targetInst=M,this.type=y,this.nativeEvent=P,this.target=G,this.currentTarget=null;for(var X in l)l.hasOwnProperty(X)&&(p=l[X],this[X]=p?p(P):P[X]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Fs:js,this.isPropagationStopped=js,this}return f(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),u}var pe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Q=ee(pe),ne=f({},pe,{view:0,detail:0}),ge=ee(ne),He,vt,ht,Rt=f({},ne,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ze,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ht&&(ht&&l.type==="mousemove"?(He=l.screenX-ht.screenX,vt=l.screenY-ht.screenY):vt=He=0,ht=l),He)},movementY:function(l){return"movementY"in l?l.movementY:vt}}),Ht=ee(Rt),tn=f({},Rt,{dataTransfer:0}),Lr=ee(tn),zr=f({},ne,{relatedTarget:0}),yi=ee(zr),ao=f({},pe,{animationName:0,elapsedTime:0,pseudoElement:0}),Oc=ee(ao),zu=f({},pe,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),kf=ee(zu),W1=f({},pe,{data:0}),wm=ee(W1),G1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ae(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=ae[l])?!!u[l]:!1}function Ze(){return Ae}var Kt=f({},ne,{key:function(l){if(l.key){var u=G1[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=cs(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Z[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ze,charCode:function(l){return l.type==="keypress"?cs(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?cs(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Ct=ee(Kt),Cn=f({},Rt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yr=ee(Cn),tr=f({},ne,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ze}),oa=ee(tr),Nr=f({},pe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hr=ee(Nr),ga=f({},Rt,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),ki=ee(ga),Ri=f({},pe,{newState:0,oldState:0}),io=ee(Ri),Us=[9,13,27,32],Bs=Xr&&"CompositionEvent"in window,Nl=null;Xr&&"documentMode"in document&&(Nl=document.documentMode);var Hu=Xr&&"TextEvent"in window&&!Nl,Lc=Xr&&(!Bs||Nl&&8<Nl&&11>=Nl),V2=" ",q2=!1;function Y2(l,u){switch(l){case"keyup":return Us.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W2(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Vu=!1;function kF(l,u){switch(l){case"compositionend":return W2(u);case"keypress":return u.which!==32?null:(q2=!0,V2);case"textInput":return l=u.data,l===V2&&q2?null:l;default:return null}}function RF(l,u){if(Vu)return l==="compositionend"||!Bs&&Y2(l,u)?(l=Vo(),Is=ro=gi=null,Vu=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Lc&&u.locale!=="ko"?null:u.data;default:return null}}var AF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G2(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!AF[l.type]:u==="textarea"}function K2(l,u,p,y){Ka?Qa?Qa.push(y):Qa=[y]:Ka=y,u=og(u,"onChange"),0<u.length&&(p=new Q("onChange","change",null,p,y),l.push({event:p,listeners:u}))}var Rf=null,Af=null;function OF(l){kM(l,0)}function xm(l){var u=te(l);if(hi(u))return l}function Q2(l,u){if(l==="change")return u}var Z2=!1;if(Xr){var K1;if(Xr){var Q1="oninput"in document;if(!Q1){var X2=document.createElement("div");X2.setAttribute("oninput","return;"),Q1=typeof X2.oninput=="function"}K1=Q1}else K1=!1;Z2=K1&&(!document.documentMode||9<document.documentMode)}function J2(){Rf&&(Rf.detachEvent("onpropertychange",eE),Af=Rf=null)}function eE(l){if(l.propertyName==="value"&&xm(Af)){var u=[];K2(u,Af,l,mi(l)),Za(OF,u)}}function LF(l,u,p){l==="focusin"?(J2(),Rf=u,Af=p,Rf.attachEvent("onpropertychange",eE)):l==="focusout"&&J2()}function NF(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return xm(Af)}function PF(l,u){if(l==="click")return xm(u)}function IF(l,u){if(l==="input"||l==="change")return xm(u)}function FF(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var qi=typeof Object.is=="function"?Object.is:FF;function Of(l,u){if(qi(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),y=Object.keys(u);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var M=p[y];if(!Fe.call(u,M)||!qi(l[M],u[M]))return!1}return!0}function tE(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function nE(l,u){var p=tE(l);l=0;for(var y;p;){if(p.nodeType===3){if(y=l+p.textContent.length,l<=u&&y>=u)return{node:p,offset:u-l};l=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=tE(p)}}function rE(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?rE(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function aE(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=Qr(l.document);u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=Qr(l.document)}return u}function Z1(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var jF=Xr&&"documentMode"in document&&11>=document.documentMode,qu=null,X1=null,Lf=null,J1=!1;function iE(l,u,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;J1||qu==null||qu!==Qr(y)||(y=qu,"selectionStart"in y&&Z1(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Lf&&Of(Lf,y)||(Lf=y,y=og(X1,"onSelect"),0<y.length&&(u=new Q("onSelect","select",null,u,p),l.push({event:u,listeners:y}),u.target=qu)))}function Nc(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var Yu={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionrun:Nc("Transition","TransitionRun"),transitionstart:Nc("Transition","TransitionStart"),transitioncancel:Nc("Transition","TransitionCancel"),transitionend:Nc("Transition","TransitionEnd")},eb={},sE={};Xr&&(sE=document.createElement("div").style,"AnimationEvent"in window||(delete Yu.animationend.animation,delete Yu.animationiteration.animation,delete Yu.animationstart.animation),"TransitionEvent"in window||delete Yu.transitionend.transition);function Pc(l){if(eb[l])return eb[l];if(!Yu[l])return l;var u=Yu[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in sE)return eb[l]=u[p];return l}var oE=Pc("animationend"),lE=Pc("animationiteration"),cE=Pc("animationstart"),UF=Pc("transitionrun"),BF=Pc("transitionstart"),$F=Pc("transitioncancel"),uE=Pc("transitionend"),dE=new Map,tb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tb.push("scrollEnd");function $s(l,u){dE.set(l,u),Ve(u,[l])}var fE=new WeakMap;function us(l,u){if(typeof l=="object"&&l!==null){var p=fE.get(l);return p!==void 0?p:(u={value:l,source:u,stack:Nn(u)},fE.set(l,u),u)}return{value:l,source:u,stack:Nn(u)}}var ds=[],Wu=0,nb=0;function Cm(){for(var l=Wu,u=nb=Wu=0;u<l;){var p=ds[u];ds[u++]=null;var y=ds[u];ds[u++]=null;var M=ds[u];ds[u++]=null;var P=ds[u];if(ds[u++]=null,y!==null&&M!==null){var G=y.pending;G===null?M.next=M:(M.next=G.next,G.next=M),y.pending=M}P!==0&&hE(p,M,P)}}function Dm(l,u,p,y){ds[Wu++]=l,ds[Wu++]=u,ds[Wu++]=p,ds[Wu++]=y,nb|=y,l.lanes|=y,l=l.alternate,l!==null&&(l.lanes|=y)}function rb(l,u,p,y){return Dm(l,u,p,y),Sm(l)}function Gu(l,u){return Dm(l,null,null,u),Sm(l)}function hE(l,u,p){l.lanes|=p;var y=l.alternate;y!==null&&(y.lanes|=p);for(var M=!1,P=l.return;P!==null;)P.childLanes|=p,y=P.alternate,y!==null&&(y.childLanes|=p),P.tag===22&&(l=P.stateNode,l===null||l._visibility&1||(M=!0)),l=P,P=P.return;return l.tag===3?(P=l.stateNode,M&&u!==null&&(M=31-rt(p),l=P.hiddenUpdates,y=l[M],y===null?l[M]=[u]:y.push(u),u.lane=p|536870912),P):null}function Sm(l){if(50<ah)throw ah=0,c_=null,Error(r(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var Ku={};function zF(l,u,p,y){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yi(l,u,p,y){return new zF(l,u,p,y)}function ab(l){return l=l.prototype,!(!l||!l.isReactComponent)}function qo(l,u){var p=l.alternate;return p===null?(p=Yi(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function pE(l,u){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,u=p.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function Em(l,u,p,y,M,P){var G=0;if(y=l,typeof l=="function")ab(l)&&(G=1);else if(typeof l=="string")G=V7(l,p,J.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case T:return l=Yi(31,p,u,M),l.elementType=T,l.lanes=P,l;case b:return Ic(p.children,M,P,u);case _:G=8,M|=24;break;case w:return l=Yi(12,p,u,M|2),l.elementType=w,l.lanes=P,l;case O:return l=Yi(13,p,u,M),l.elementType=O,l.lanes=P,l;case A:return l=Yi(19,p,u,M),l.elementType=A,l.lanes=P,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case x:case R:G=10;break e;case k:G=9;break e;case I:G=11;break e;case L:G=14;break e;case C:G=16,y=null;break e}G=29,p=Error(r(130,l===null?"null":typeof l,"")),y=null}return u=Yi(G,p,u,M),u.elementType=l,u.type=y,u.lanes=P,u}function Ic(l,u,p,y){return l=Yi(7,l,y,u),l.lanes=p,l}function ib(l,u,p){return l=Yi(6,l,null,u),l.lanes=p,l}function sb(l,u,p){return u=Yi(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var Qu=[],Zu=0,Mm=null,Tm=0,fs=[],hs=0,Fc=null,Yo=1,Wo="";function jc(l,u){Qu[Zu++]=Tm,Qu[Zu++]=Mm,Mm=l,Tm=u}function mE(l,u,p){fs[hs++]=Yo,fs[hs++]=Wo,fs[hs++]=Fc,Fc=l;var y=Yo;l=Wo;var M=32-rt(y)-1;y&=~(1<<M),p+=1;var P=32-rt(u)+M;if(30<P){var G=M-M%5;P=(y&(1<<G)-1).toString(32),y>>=G,M-=G,Yo=1<<32-rt(u)+M|p<<M|y,Wo=P+l}else Yo=1<<P|p<<M|y,Wo=l}function ob(l){l.return!==null&&(jc(l,1),mE(l,1,0))}function lb(l){for(;l===Mm;)Mm=Qu[--Zu],Qu[Zu]=null,Tm=Qu[--Zu],Qu[Zu]=null;for(;l===Fc;)Fc=fs[--hs],fs[hs]=null,Wo=fs[--hs],fs[hs]=null,Yo=fs[--hs],fs[hs]=null}var vi=null,ea=null,Xn=!1,Uc=null,so=!1,cb=Error(r(519));function Bc(l){var u=Error(r(418,""));throw If(us(u,l)),cb}function gE(l){var u=l.stateNode,p=l.type,y=l.memoizedProps;switch(u[nn]=l,u[Fn]=y,p){case"dialog":kn("cancel",u),kn("close",u);break;case"iframe":case"object":case"embed":kn("load",u);break;case"video":case"audio":for(p=0;p<sh.length;p++)kn(sh[p],u);break;case"source":kn("error",u);break;case"img":case"image":case"link":kn("error",u),kn("load",u);break;case"details":kn("toggle",u);break;case"input":kn("invalid",u),Ga(u,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),Aa(u);break;case"select":kn("invalid",u);break;case"textarea":kn("invalid",u),ft(u,y.value,y.defaultValue,y.children),Aa(u)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||y.suppressHydrationWarning===!0||LM(u.textContent,p)?(y.popover!=null&&(kn("beforetoggle",u),kn("toggle",u)),y.onScroll!=null&&kn("scroll",u),y.onScrollEnd!=null&&kn("scrollend",u),y.onClick!=null&&(u.onclick=lg),u=!0):u=!1,u||Bc(l)}function yE(l){for(vi=l.return;vi;)switch(vi.tag){case 5:case 13:so=!1;return;case 27:case 3:so=!0;return;default:vi=vi.return}}function Nf(l){if(l!==vi)return!1;if(!Xn)return yE(l),Xn=!0,!1;var u=l.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||S_(l.type,l.memoizedProps)),p=!p),p&&ea&&Bc(l),yE(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8)if(p=l.data,p==="/$"){if(u===0){ea=Hs(l.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++;l=l.nextSibling}ea=null}}else u===27?(u=ea,Ql(l.type)?(l=k_,k_=null,ea=l):ea=u):ea=vi?Hs(l.stateNode.nextSibling):null;return!0}function Pf(){ea=vi=null,Xn=!1}function vE(){var l=Uc;return l!==null&&(Li===null?Li=l:Li.push.apply(Li,l),Uc=null),l}function If(l){Uc===null?Uc=[l]:Uc.push(l)}var ub=W(null),$c=null,Go=null;function Pl(l,u,p){$(ub,u._currentValue),u._currentValue=p}function Ko(l){l._currentValue=ub.current,K(ub)}function db(l,u,p){for(;l!==null;){var y=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),l===p)break;l=l.return}}function fb(l,u,p,y){var M=l.child;for(M!==null&&(M.return=l);M!==null;){var P=M.dependencies;if(P!==null){var G=M.child;P=P.firstContext;e:for(;P!==null;){var X=P;P=M;for(var ie=0;ie<u.length;ie++)if(X.context===u[ie]){P.lanes|=p,X=P.alternate,X!==null&&(X.lanes|=p),db(P.return,p,l),y||(G=null);break e}P=X.next}}else if(M.tag===18){if(G=M.return,G===null)throw Error(r(341));G.lanes|=p,P=G.alternate,P!==null&&(P.lanes|=p),db(G,p,l),G=null}else G=M.child;if(G!==null)G.return=M;else for(G=M;G!==null;){if(G===l){G=null;break}if(M=G.sibling,M!==null){M.return=G.return,G=M;break}G=G.return}M=G}}function Ff(l,u,p,y){l=null;for(var M=u,P=!1;M!==null;){if(!P){if((M.flags&524288)!==0)P=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var G=M.alternate;if(G===null)throw Error(r(387));if(G=G.memoizedProps,G!==null){var X=M.type;qi(M.pendingProps.value,G.value)||(l!==null?l.push(X):l=[X])}}else if(M===ye.current){if(G=M.alternate,G===null)throw Error(r(387));G.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(l!==null?l.push(fh):l=[fh])}M=M.return}l!==null&&fb(u,l,p,y),u.flags|=262144}function km(l){for(l=l.firstContext;l!==null;){if(!qi(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function zc(l){$c=l,Go=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Xa(l){return bE($c,l)}function Rm(l,u){return $c===null&&zc(l),bE(l,u)}function bE(l,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},Go===null){if(l===null)throw Error(r(308));Go=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else Go=Go.next=u;return p}var HF=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(p,y){l.push(y)}};this.abort=function(){u.aborted=!0,l.forEach(function(p){return p()})}},VF=e.unstable_scheduleCallback,qF=e.unstable_NormalPriority,Da={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hb(){return{controller:new HF,data:new Map,refCount:0}}function jf(l){l.refCount--,l.refCount===0&&VF(qF,function(){l.controller.abort()})}var Uf=null,pb=0,Xu=0,Ju=null;function YF(l,u){if(Uf===null){var p=Uf=[];pb=0,Xu=g_(),Ju={status:"pending",value:void 0,then:function(y){p.push(y)}}}return pb++,u.then(_E,_E),u}function _E(){if(--pb===0&&Uf!==null){Ju!==null&&(Ju.status="fulfilled");var l=Uf;Uf=null,Xu=0,Ju=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function WF(l,u){var p=[],y={status:"pending",value:null,reason:null,then:function(M){p.push(M)}};return l.then(function(){y.status="fulfilled",y.value=u;for(var M=0;M<p.length;M++)(0,p[M])(u)},function(M){for(y.status="rejected",y.reason=M,M=0;M<p.length;M++)(0,p[M])(void 0)}),y}var wE=F.S;F.S=function(l,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&YF(l,u),wE!==null&&wE(l,u)};var Hc=W(null);function mb(){var l=Hc.current;return l!==null?l:Dr.pooledCache}function Am(l,u){u===null?$(Hc,Hc.current):$(Hc,u.pool)}function xE(){var l=mb();return l===null?null:{parent:Da._currentValue,pool:l}}var Bf=Error(r(460)),CE=Error(r(474)),Om=Error(r(542)),gb={then:function(){}};function DE(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Lm(){}function SE(l,u,p){switch(p=l[p],p===void 0?l.push(u):p!==u&&(u.then(Lm,Lm),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,ME(l),l;default:if(typeof u.status=="string")u.then(Lm,Lm);else{if(l=Dr,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=u,l.status="pending",l.then(function(y){if(u.status==="pending"){var M=u;M.status="fulfilled",M.value=y}},function(y){if(u.status==="pending"){var M=u;M.status="rejected",M.reason=y}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,ME(l),l}throw $f=u,Bf}}var $f=null;function EE(){if($f===null)throw Error(r(459));var l=$f;return $f=null,l}function ME(l){if(l===Bf||l===Om)throw Error(r(483))}var Il=!1;function yb(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vb(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Fl(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function jl(l,u,p){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(or&2)!==0){var M=y.pending;return M===null?u.next=u:(u.next=M.next,M.next=u),y.pending=u,u=Sm(l),hE(l,null,p),u}return Dm(l,y,u,p),Sm(l)}function zf(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var y=u.lanes;y&=l.pendingLanes,p|=y,u.lanes=p,pn(l,p)}}function bb(l,u){var p=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var M=null,P=null;if(p=p.firstBaseUpdate,p!==null){do{var G={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};P===null?M=P=G:P=P.next=G,p=p.next}while(p!==null);P===null?M=P=u:P=P.next=u}else M=P=u;p={baseState:y.baseState,firstBaseUpdate:M,lastBaseUpdate:P,shared:y.shared,callbacks:y.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}var _b=!1;function Hf(){if(_b){var l=Ju;if(l!==null)throw l}}function Vf(l,u,p,y){_b=!1;var M=l.updateQueue;Il=!1;var P=M.firstBaseUpdate,G=M.lastBaseUpdate,X=M.shared.pending;if(X!==null){M.shared.pending=null;var ie=X,we=ie.next;ie.next=null,G===null?P=we:G.next=we,G=ie;var Ne=l.alternate;Ne!==null&&(Ne=Ne.updateQueue,X=Ne.lastBaseUpdate,X!==G&&(X===null?Ne.firstBaseUpdate=we:X.next=we,Ne.lastBaseUpdate=ie))}if(P!==null){var Be=M.baseState;G=0,Ne=we=ie=null,X=P;do{var Ce=X.lane&-536870913,De=Ce!==X.lane;if(De?(zn&Ce)===Ce:(y&Ce)===Ce){Ce!==0&&Ce===Xu&&(_b=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var Qt=l,Bt=X;Ce=u;var gr=p;switch(Bt.tag){case 1:if(Qt=Bt.payload,typeof Qt=="function"){Be=Qt.call(gr,Be,Ce);break e}Be=Qt;break e;case 3:Qt.flags=Qt.flags&-65537|128;case 0:if(Qt=Bt.payload,Ce=typeof Qt=="function"?Qt.call(gr,Be,Ce):Qt,Ce==null)break e;Be=f({},Be,Ce);break e;case 2:Il=!0}}Ce=X.callback,Ce!==null&&(l.flags|=64,De&&(l.flags|=8192),De=M.callbacks,De===null?M.callbacks=[Ce]:De.push(Ce))}else De={lane:Ce,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Ne===null?(we=Ne=De,ie=Be):Ne=Ne.next=De,G|=Ce;if(X=X.next,X===null){if(X=M.shared.pending,X===null)break;De=X,X=De.next,De.next=null,M.lastBaseUpdate=De,M.shared.pending=null}}while(!0);Ne===null&&(ie=Be),M.baseState=ie,M.firstBaseUpdate=we,M.lastBaseUpdate=Ne,P===null&&(M.shared.lanes=0),Yl|=G,l.lanes=G,l.memoizedState=Be}}function TE(l,u){if(typeof l!="function")throw Error(r(191,l));l.call(u)}function kE(l,u){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)TE(p[l],u)}var ed=W(null),Nm=W(0);function RE(l,u){l=nl,$(Nm,l),$(ed,u),nl=l|u.baseLanes}function wb(){$(Nm,nl),$(ed,ed.current)}function xb(){nl=Nm.current,K(ed),K(Nm)}var Ul=0,_n=null,pr=null,ya=null,Pm=!1,td=!1,Vc=!1,Im=0,qf=0,nd=null,GF=0;function la(){throw Error(r(321))}function Cb(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!qi(l[p],u[p]))return!1;return!0}function Db(l,u,p,y,M,P){return Ul=P,_n=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,F.H=l===null||l.memoizedState===null?h3:p3,Vc=!1,P=p(y,M),Vc=!1,td&&(P=OE(u,p,y,M)),AE(l),P}function AE(l){F.H=zm;var u=pr!==null&&pr.next!==null;if(Ul=0,ya=pr=_n=null,Pm=!1,qf=0,nd=null,u)throw Error(r(300));l===null||Na||(l=l.dependencies,l!==null&&km(l)&&(Na=!0))}function OE(l,u,p,y){_n=l;var M=0;do{if(td&&(nd=null),qf=0,td=!1,25<=M)throw Error(r(301));if(M+=1,ya=pr=null,l.updateQueue!=null){var P=l.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}F.H=t7,P=u(p,y)}while(td);return P}function KF(){var l=F.H,u=l.useState()[0];return u=typeof u.then=="function"?Yf(u):u,l=l.useState()[0],(pr!==null?pr.memoizedState:null)!==l&&(_n.flags|=1024),u}function Sb(){var l=Im!==0;return Im=0,l}function Eb(l,u,p){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~p}function Mb(l){if(Pm){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Pm=!1}Ul=0,ya=pr=_n=null,td=!1,qf=Im=0,nd=null}function Ai(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ya===null?_n.memoizedState=ya=l:ya=ya.next=l,ya}function va(){if(pr===null){var l=_n.alternate;l=l!==null?l.memoizedState:null}else l=pr.next;var u=ya===null?_n.memoizedState:ya.next;if(u!==null)ya=u,pr=l;else{if(l===null)throw _n.alternate===null?Error(r(467)):Error(r(310));pr=l,l={memoizedState:pr.memoizedState,baseState:pr.baseState,baseQueue:pr.baseQueue,queue:pr.queue,next:null},ya===null?_n.memoizedState=ya=l:ya=ya.next=l}return ya}function Tb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yf(l){var u=qf;return qf+=1,nd===null&&(nd=[]),l=SE(nd,l,u),u=_n,(ya===null?u.memoizedState:ya.next)===null&&(u=u.alternate,F.H=u===null||u.memoizedState===null?h3:p3),l}function Fm(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Yf(l);if(l.$$typeof===R)return Xa(l)}throw Error(r(438,String(l)))}function kb(l){var u=null,p=_n.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var y=_n.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(u={data:y.data.map(function(M){return M.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=Tb(),_n.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(l),y=0;y<l;y++)p[y]=S;return u.index++,p}function Qo(l,u){return typeof u=="function"?u(l):u}function jm(l){var u=va();return Rb(u,pr,l)}function Rb(l,u,p){var y=l.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=p;var M=l.baseQueue,P=y.pending;if(P!==null){if(M!==null){var G=M.next;M.next=P.next,P.next=G}u.baseQueue=M=P,y.pending=null}if(P=l.baseState,M===null)l.memoizedState=P;else{u=M.next;var X=G=null,ie=null,we=u,Ne=!1;do{var Be=we.lane&-536870913;if(Be!==we.lane?(zn&Be)===Be:(Ul&Be)===Be){var Ce=we.revertLane;if(Ce===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),Be===Xu&&(Ne=!0);else if((Ul&Ce)===Ce){we=we.next,Ce===Xu&&(Ne=!0);continue}else Be={lane:0,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},ie===null?(X=ie=Be,G=P):ie=ie.next=Be,_n.lanes|=Ce,Yl|=Ce;Be=we.action,Vc&&p(P,Be),P=we.hasEagerState?we.eagerState:p(P,Be)}else Ce={lane:Be,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},ie===null?(X=ie=Ce,G=P):ie=ie.next=Ce,_n.lanes|=Be,Yl|=Be;we=we.next}while(we!==null&&we!==u);if(ie===null?G=P:ie.next=X,!qi(P,l.memoizedState)&&(Na=!0,Ne&&(p=Ju,p!==null)))throw p;l.memoizedState=P,l.baseState=G,l.baseQueue=ie,y.lastRenderedState=P}return M===null&&(y.lanes=0),[l.memoizedState,y.dispatch]}function Ab(l){var u=va(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var y=p.dispatch,M=p.pending,P=u.memoizedState;if(M!==null){p.pending=null;var G=M=M.next;do P=l(P,G.action),G=G.next;while(G!==M);qi(P,u.memoizedState)||(Na=!0),u.memoizedState=P,u.baseQueue===null&&(u.baseState=P),p.lastRenderedState=P}return[P,y]}function LE(l,u,p){var y=_n,M=va(),P=Xn;if(P){if(p===void 0)throw Error(r(407));p=p()}else p=u();var G=!qi((pr||M).memoizedState,p);G&&(M.memoizedState=p,Na=!0),M=M.queue;var X=IE.bind(null,y,M,l);if(Wf(2048,8,X,[l]),M.getSnapshot!==u||G||ya!==null&&ya.memoizedState.tag&1){if(y.flags|=2048,rd(9,Um(),PE.bind(null,y,M,p,u),null),Dr===null)throw Error(r(349));P||(Ul&124)!==0||NE(y,u,p)}return p}function NE(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=_n.updateQueue,u===null?(u=Tb(),_n.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function PE(l,u,p,y){u.value=p,u.getSnapshot=y,FE(u)&&jE(l)}function IE(l,u,p){return p(function(){FE(u)&&jE(l)})}function FE(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!qi(l,p)}catch{return!0}}function jE(l){var u=Gu(l,2);u!==null&&Zi(u,l,2)}function Ob(l){var u=Ai();if(typeof l=="function"){var p=l;if(l=p(),Vc){Pe(!0);try{p()}finally{Pe(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:l},u}function UE(l,u,p,y){return l.baseState=p,Rb(l,pr,typeof y=="function"?y:Qo)}function QF(l,u,p,y,M){if($m(l))throw Error(r(485));if(l=u.action,l!==null){var P={payload:M,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){P.listeners.push(G)}};F.T!==null?p(!0):P.isTransition=!1,y(P),p=u.pending,p===null?(P.next=u.pending=P,BE(u,P)):(P.next=p.next,u.pending=p.next=P)}}function BE(l,u){var p=u.action,y=u.payload,M=l.state;if(u.isTransition){var P=F.T,G={};F.T=G;try{var X=p(M,y),ie=F.S;ie!==null&&ie(G,X),$E(l,u,X)}catch(we){Lb(l,u,we)}finally{F.T=P}}else try{P=p(M,y),$E(l,u,P)}catch(we){Lb(l,u,we)}}function $E(l,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){zE(l,u,y)},function(y){return Lb(l,u,y)}):zE(l,u,p)}function zE(l,u,p){u.status="fulfilled",u.value=p,HE(u),l.state=p,u=l.pending,u!==null&&(p=u.next,p===u?l.pending=null:(p=p.next,u.next=p,BE(l,p)))}function Lb(l,u,p){var y=l.pending;if(l.pending=null,y!==null){y=y.next;do u.status="rejected",u.reason=p,HE(u),u=u.next;while(u!==y)}l.action=null}function HE(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function VE(l,u){return u}function qE(l,u){if(Xn){var p=Dr.formState;if(p!==null){e:{var y=_n;if(Xn){if(ea){t:{for(var M=ea,P=so;M.nodeType!==8;){if(!P){M=null;break t}if(M=Hs(M.nextSibling),M===null){M=null;break t}}P=M.data,M=P==="F!"||P==="F"?M:null}if(M){ea=Hs(M.nextSibling),y=M.data==="F!";break e}}Bc(y)}y=!1}y&&(u=p[0])}}return p=Ai(),p.memoizedState=p.baseState=u,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:VE,lastRenderedState:u},p.queue=y,p=u3.bind(null,_n,y),y.dispatch=p,y=Ob(!1),P=jb.bind(null,_n,!1,y.queue),y=Ai(),M={state:u,dispatch:null,action:l,pending:null},y.queue=M,p=QF.bind(null,_n,M,P,p),M.dispatch=p,y.memoizedState=l,[u,p,!1]}function YE(l){var u=va();return WE(u,pr,l)}function WE(l,u,p){if(u=Rb(l,u,VE)[0],l=jm(Qo)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var y=Yf(u)}catch(G){throw G===Bf?Om:G}else y=u;u=va();var M=u.queue,P=M.dispatch;return p!==u.memoizedState&&(_n.flags|=2048,rd(9,Um(),ZF.bind(null,M,p),null)),[y,P,l]}function ZF(l,u){l.action=u}function GE(l){var u=va(),p=pr;if(p!==null)return WE(u,p,l);va(),u=u.memoizedState,p=va();var y=p.queue.dispatch;return p.memoizedState=l,[u,y,!1]}function rd(l,u,p,y){return l={tag:l,create:p,deps:y,inst:u,next:null},u=_n.updateQueue,u===null&&(u=Tb(),_n.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=l.next=l:(y=p.next,p.next=l,l.next=y,u.lastEffect=l),l}function Um(){return{destroy:void 0,resource:void 0}}function KE(){return va().memoizedState}function Bm(l,u,p,y){var M=Ai();y=y===void 0?null:y,_n.flags|=l,M.memoizedState=rd(1|u,Um(),p,y)}function Wf(l,u,p,y){var M=va();y=y===void 0?null:y;var P=M.memoizedState.inst;pr!==null&&y!==null&&Cb(y,pr.memoizedState.deps)?M.memoizedState=rd(u,P,p,y):(_n.flags|=l,M.memoizedState=rd(1|u,P,p,y))}function QE(l,u){Bm(8390656,8,l,u)}function ZE(l,u){Wf(2048,8,l,u)}function XE(l,u){return Wf(4,2,l,u)}function JE(l,u){return Wf(4,4,l,u)}function e3(l,u){if(typeof u=="function"){l=l();var p=u(l);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function t3(l,u,p){p=p!=null?p.concat([l]):null,Wf(4,4,e3.bind(null,u,l),p)}function Nb(){}function n3(l,u){var p=va();u=u===void 0?null:u;var y=p.memoizedState;return u!==null&&Cb(u,y[1])?y[0]:(p.memoizedState=[l,u],l)}function r3(l,u){var p=va();u=u===void 0?null:u;var y=p.memoizedState;if(u!==null&&Cb(u,y[1]))return y[0];if(y=l(),Vc){Pe(!0);try{l()}finally{Pe(!1)}}return p.memoizedState=[y,u],y}function Pb(l,u,p){return p===void 0||(Ul&1073741824)!==0?l.memoizedState=u:(l.memoizedState=p,l=sM(),_n.lanes|=l,Yl|=l,p)}function a3(l,u,p,y){return qi(p,u)?p:ed.current!==null?(l=Pb(l,p,y),qi(l,u)||(Na=!0),l):(Ul&42)===0?(Na=!0,l.memoizedState=p):(l=sM(),_n.lanes|=l,Yl|=l,u)}function i3(l,u,p,y,M){var P=V.p;V.p=P!==0&&8>P?P:8;var G=F.T,X={};F.T=X,jb(l,!1,u,p);try{var ie=M(),we=F.S;if(we!==null&&we(X,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var Ne=WF(ie,y);Gf(l,u,Ne,Qi(l))}else Gf(l,u,y,Qi(l))}catch(Be){Gf(l,u,{then:function(){},status:"rejected",reason:Be},Qi())}finally{V.p=P,F.T=G}}function XF(){}function Ib(l,u,p,y){if(l.tag!==5)throw Error(r(476));var M=s3(l).queue;i3(l,M,u,Y,p===null?XF:function(){return o3(l),p(y)})}function s3(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:Y},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:p},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function o3(l){var u=s3(l).next.queue;Gf(l,u,{},Qi())}function Fb(){return Xa(fh)}function l3(){return va().memoizedState}function c3(){return va().memoizedState}function JF(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var p=Qi();l=Fl(p);var y=jl(u,l,p);y!==null&&(Zi(y,u,p),zf(y,u,p)),u={cache:hb()},l.payload=u;return}u=u.return}}function e7(l,u,p){var y=Qi();p={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},$m(l)?d3(u,p):(p=rb(l,u,p,y),p!==null&&(Zi(p,l,y),f3(p,u,y)))}function u3(l,u,p){var y=Qi();Gf(l,u,p,y)}function Gf(l,u,p,y){var M={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if($m(l))d3(u,M);else{var P=l.alternate;if(l.lanes===0&&(P===null||P.lanes===0)&&(P=u.lastRenderedReducer,P!==null))try{var G=u.lastRenderedState,X=P(G,p);if(M.hasEagerState=!0,M.eagerState=X,qi(X,G))return Dm(l,u,M,0),Dr===null&&Cm(),!1}catch{}finally{}if(p=rb(l,u,M,y),p!==null)return Zi(p,l,y),f3(p,u,y),!0}return!1}function jb(l,u,p,y){if(y={lane:2,revertLane:g_(),action:y,hasEagerState:!1,eagerState:null,next:null},$m(l)){if(u)throw Error(r(479))}else u=rb(l,p,y,2),u!==null&&Zi(u,l,2)}function $m(l){var u=l.alternate;return l===_n||u!==null&&u===_n}function d3(l,u){td=Pm=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function f3(l,u,p){if((p&4194048)!==0){var y=u.lanes;y&=l.pendingLanes,p|=y,u.lanes=p,pn(l,p)}}var zm={readContext:Xa,use:Fm,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useLayoutEffect:la,useInsertionEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useDeferredValue:la,useTransition:la,useSyncExternalStore:la,useId:la,useHostTransitionStatus:la,useFormState:la,useActionState:la,useOptimistic:la,useMemoCache:la,useCacheRefresh:la},h3={readContext:Xa,use:Fm,useCallback:function(l,u){return Ai().memoizedState=[l,u===void 0?null:u],l},useContext:Xa,useEffect:QE,useImperativeHandle:function(l,u,p){p=p!=null?p.concat([l]):null,Bm(4194308,4,e3.bind(null,u,l),p)},useLayoutEffect:function(l,u){return Bm(4194308,4,l,u)},useInsertionEffect:function(l,u){Bm(4,2,l,u)},useMemo:function(l,u){var p=Ai();u=u===void 0?null:u;var y=l();if(Vc){Pe(!0);try{l()}finally{Pe(!1)}}return p.memoizedState=[y,u],y},useReducer:function(l,u,p){var y=Ai();if(p!==void 0){var M=p(u);if(Vc){Pe(!0);try{p(u)}finally{Pe(!1)}}}else M=u;return y.memoizedState=y.baseState=M,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:M},y.queue=l,l=l.dispatch=e7.bind(null,_n,l),[y.memoizedState,l]},useRef:function(l){var u=Ai();return l={current:l},u.memoizedState=l},useState:function(l){l=Ob(l);var u=l.queue,p=u3.bind(null,_n,u);return u.dispatch=p,[l.memoizedState,p]},useDebugValue:Nb,useDeferredValue:function(l,u){var p=Ai();return Pb(p,l,u)},useTransition:function(){var l=Ob(!1);return l=i3.bind(null,_n,l.queue,!0,!1),Ai().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,p){var y=_n,M=Ai();if(Xn){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),Dr===null)throw Error(r(349));(zn&124)!==0||NE(y,u,p)}M.memoizedState=p;var P={value:p,getSnapshot:u};return M.queue=P,QE(IE.bind(null,y,P,l),[l]),y.flags|=2048,rd(9,Um(),PE.bind(null,y,P,p,u),null),p},useId:function(){var l=Ai(),u=Dr.identifierPrefix;if(Xn){var p=Wo,y=Yo;p=(y&~(1<<32-rt(y)-1)).toString(32)+p,u="«"+u+"R"+p,p=Im++,0<p&&(u+="H"+p.toString(32)),u+="»"}else p=GF++,u="«"+u+"r"+p.toString(32)+"»";return l.memoizedState=u},useHostTransitionStatus:Fb,useFormState:qE,useActionState:qE,useOptimistic:function(l){var u=Ai();u.memoizedState=u.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=jb.bind(null,_n,!0,p),p.dispatch=u,[l,u]},useMemoCache:kb,useCacheRefresh:function(){return Ai().memoizedState=JF.bind(null,_n)}},p3={readContext:Xa,use:Fm,useCallback:n3,useContext:Xa,useEffect:ZE,useImperativeHandle:t3,useInsertionEffect:XE,useLayoutEffect:JE,useMemo:r3,useReducer:jm,useRef:KE,useState:function(){return jm(Qo)},useDebugValue:Nb,useDeferredValue:function(l,u){var p=va();return a3(p,pr.memoizedState,l,u)},useTransition:function(){var l=jm(Qo)[0],u=va().memoizedState;return[typeof l=="boolean"?l:Yf(l),u]},useSyncExternalStore:LE,useId:l3,useHostTransitionStatus:Fb,useFormState:YE,useActionState:YE,useOptimistic:function(l,u){var p=va();return UE(p,pr,l,u)},useMemoCache:kb,useCacheRefresh:c3},t7={readContext:Xa,use:Fm,useCallback:n3,useContext:Xa,useEffect:ZE,useImperativeHandle:t3,useInsertionEffect:XE,useLayoutEffect:JE,useMemo:r3,useReducer:Ab,useRef:KE,useState:function(){return Ab(Qo)},useDebugValue:Nb,useDeferredValue:function(l,u){var p=va();return pr===null?Pb(p,l,u):a3(p,pr.memoizedState,l,u)},useTransition:function(){var l=Ab(Qo)[0],u=va().memoizedState;return[typeof l=="boolean"?l:Yf(l),u]},useSyncExternalStore:LE,useId:l3,useHostTransitionStatus:Fb,useFormState:GE,useActionState:GE,useOptimistic:function(l,u){var p=va();return pr!==null?UE(p,pr,l,u):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:kb,useCacheRefresh:c3},ad=null,Kf=0;function Hm(l){var u=Kf;return Kf+=1,ad===null&&(ad=[]),SE(ad,l,u)}function Qf(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Vm(l,u){throw u.$$typeof===h?Error(r(525)):(l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function m3(l){var u=l._init;return u(l._payload)}function g3(l){function u(ve,he){if(l){var _e=ve.deletions;_e===null?(ve.deletions=[he],ve.flags|=16):_e.push(he)}}function p(ve,he){if(!l)return null;for(;he!==null;)u(ve,he),he=he.sibling;return null}function y(ve){for(var he=new Map;ve!==null;)ve.key!==null?he.set(ve.key,ve):he.set(ve.index,ve),ve=ve.sibling;return he}function M(ve,he){return ve=qo(ve,he),ve.index=0,ve.sibling=null,ve}function P(ve,he,_e){return ve.index=_e,l?(_e=ve.alternate,_e!==null?(_e=_e.index,_e<he?(ve.flags|=67108866,he):_e):(ve.flags|=67108866,he)):(ve.flags|=1048576,he)}function G(ve){return l&&ve.alternate===null&&(ve.flags|=67108866),ve}function X(ve,he,_e,Ie){return he===null||he.tag!==6?(he=ib(_e,ve.mode,Ie),he.return=ve,he):(he=M(he,_e),he.return=ve,he)}function ie(ve,he,_e,Ie){var xt=_e.type;return xt===b?Ne(ve,he,_e.props.children,Ie,_e.key):he!==null&&(he.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===C&&m3(xt)===he.type)?(he=M(he,_e.props),Qf(he,_e),he.return=ve,he):(he=Em(_e.type,_e.key,_e.props,null,ve.mode,Ie),Qf(he,_e),he.return=ve,he)}function we(ve,he,_e,Ie){return he===null||he.tag!==4||he.stateNode.containerInfo!==_e.containerInfo||he.stateNode.implementation!==_e.implementation?(he=sb(_e,ve.mode,Ie),he.return=ve,he):(he=M(he,_e.children||[]),he.return=ve,he)}function Ne(ve,he,_e,Ie,xt){return he===null||he.tag!==7?(he=Ic(_e,ve.mode,Ie,xt),he.return=ve,he):(he=M(he,_e),he.return=ve,he)}function Be(ve,he,_e){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=ib(""+he,ve.mode,_e),he.return=ve,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case m:return _e=Em(he.type,he.key,he.props,null,ve.mode,_e),Qf(_e,he),_e.return=ve,_e;case g:return he=sb(he,ve.mode,_e),he.return=ve,he;case C:var Ie=he._init;return he=Ie(he._payload),Be(ve,he,_e)}if(z(he)||B(he))return he=Ic(he,ve.mode,_e,null),he.return=ve,he;if(typeof he.then=="function")return Be(ve,Hm(he),_e);if(he.$$typeof===R)return Be(ve,Rm(ve,he),_e);Vm(ve,he)}return null}function Ce(ve,he,_e,Ie){var xt=he!==null?he.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return xt!==null?null:X(ve,he,""+_e,Ie);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case m:return _e.key===xt?ie(ve,he,_e,Ie):null;case g:return _e.key===xt?we(ve,he,_e,Ie):null;case C:return xt=_e._init,_e=xt(_e._payload),Ce(ve,he,_e,Ie)}if(z(_e)||B(_e))return xt!==null?null:Ne(ve,he,_e,Ie,null);if(typeof _e.then=="function")return Ce(ve,he,Hm(_e),Ie);if(_e.$$typeof===R)return Ce(ve,he,Rm(ve,_e),Ie);Vm(ve,_e)}return null}function De(ve,he,_e,Ie,xt){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return ve=ve.get(_e)||null,X(he,ve,""+Ie,xt);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case m:return ve=ve.get(Ie.key===null?_e:Ie.key)||null,ie(he,ve,Ie,xt);case g:return ve=ve.get(Ie.key===null?_e:Ie.key)||null,we(he,ve,Ie,xt);case C:var Dn=Ie._init;return Ie=Dn(Ie._payload),De(ve,he,_e,Ie,xt)}if(z(Ie)||B(Ie))return ve=ve.get(_e)||null,Ne(he,ve,Ie,xt,null);if(typeof Ie.then=="function")return De(ve,he,_e,Hm(Ie),xt);if(Ie.$$typeof===R)return De(ve,he,_e,Rm(he,Ie),xt);Vm(he,Ie)}return null}function Qt(ve,he,_e,Ie){for(var xt=null,Dn=null,At=he,Vt=he=0,Ia=null;At!==null&&Vt<_e.length;Vt++){At.index>Vt?(Ia=At,At=null):Ia=At.sibling;var Qn=Ce(ve,At,_e[Vt],Ie);if(Qn===null){At===null&&(At=Ia);break}l&&At&&Qn.alternate===null&&u(ve,At),he=P(Qn,he,Vt),Dn===null?xt=Qn:Dn.sibling=Qn,Dn=Qn,At=Ia}if(Vt===_e.length)return p(ve,At),Xn&&jc(ve,Vt),xt;if(At===null){for(;Vt<_e.length;Vt++)At=Be(ve,_e[Vt],Ie),At!==null&&(he=P(At,he,Vt),Dn===null?xt=At:Dn.sibling=At,Dn=At);return Xn&&jc(ve,Vt),xt}for(At=y(At);Vt<_e.length;Vt++)Ia=De(At,ve,Vt,_e[Vt],Ie),Ia!==null&&(l&&Ia.alternate!==null&&At.delete(Ia.key===null?Vt:Ia.key),he=P(Ia,he,Vt),Dn===null?xt=Ia:Dn.sibling=Ia,Dn=Ia);return l&&At.forEach(function(tc){return u(ve,tc)}),Xn&&jc(ve,Vt),xt}function Bt(ve,he,_e,Ie){if(_e==null)throw Error(r(151));for(var xt=null,Dn=null,At=he,Vt=he=0,Ia=null,Qn=_e.next();At!==null&&!Qn.done;Vt++,Qn=_e.next()){At.index>Vt?(Ia=At,At=null):Ia=At.sibling;var tc=Ce(ve,At,Qn.value,Ie);if(tc===null){At===null&&(At=Ia);break}l&&At&&tc.alternate===null&&u(ve,At),he=P(tc,he,Vt),Dn===null?xt=tc:Dn.sibling=tc,Dn=tc,At=Ia}if(Qn.done)return p(ve,At),Xn&&jc(ve,Vt),xt;if(At===null){for(;!Qn.done;Vt++,Qn=_e.next())Qn=Be(ve,Qn.value,Ie),Qn!==null&&(he=P(Qn,he,Vt),Dn===null?xt=Qn:Dn.sibling=Qn,Dn=Qn);return Xn&&jc(ve,Vt),xt}for(At=y(At);!Qn.done;Vt++,Qn=_e.next())Qn=De(At,ve,Vt,Qn.value,Ie),Qn!==null&&(l&&Qn.alternate!==null&&At.delete(Qn.key===null?Vt:Qn.key),he=P(Qn,he,Vt),Dn===null?xt=Qn:Dn.sibling=Qn,Dn=Qn);return l&&At.forEach(function(n9){return u(ve,n9)}),Xn&&jc(ve,Vt),xt}function gr(ve,he,_e,Ie){if(typeof _e=="object"&&_e!==null&&_e.type===b&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case m:e:{for(var xt=_e.key;he!==null;){if(he.key===xt){if(xt=_e.type,xt===b){if(he.tag===7){p(ve,he.sibling),Ie=M(he,_e.props.children),Ie.return=ve,ve=Ie;break e}}else if(he.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===C&&m3(xt)===he.type){p(ve,he.sibling),Ie=M(he,_e.props),Qf(Ie,_e),Ie.return=ve,ve=Ie;break e}p(ve,he);break}else u(ve,he);he=he.sibling}_e.type===b?(Ie=Ic(_e.props.children,ve.mode,Ie,_e.key),Ie.return=ve,ve=Ie):(Ie=Em(_e.type,_e.key,_e.props,null,ve.mode,Ie),Qf(Ie,_e),Ie.return=ve,ve=Ie)}return G(ve);case g:e:{for(xt=_e.key;he!==null;){if(he.key===xt)if(he.tag===4&&he.stateNode.containerInfo===_e.containerInfo&&he.stateNode.implementation===_e.implementation){p(ve,he.sibling),Ie=M(he,_e.children||[]),Ie.return=ve,ve=Ie;break e}else{p(ve,he);break}else u(ve,he);he=he.sibling}Ie=sb(_e,ve.mode,Ie),Ie.return=ve,ve=Ie}return G(ve);case C:return xt=_e._init,_e=xt(_e._payload),gr(ve,he,_e,Ie)}if(z(_e))return Qt(ve,he,_e,Ie);if(B(_e)){if(xt=B(_e),typeof xt!="function")throw Error(r(150));return _e=xt.call(_e),Bt(ve,he,_e,Ie)}if(typeof _e.then=="function")return gr(ve,he,Hm(_e),Ie);if(_e.$$typeof===R)return gr(ve,he,Rm(ve,_e),Ie);Vm(ve,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,he!==null&&he.tag===6?(p(ve,he.sibling),Ie=M(he,_e),Ie.return=ve,ve=Ie):(p(ve,he),Ie=ib(_e,ve.mode,Ie),Ie.return=ve,ve=Ie),G(ve)):p(ve,he)}return function(ve,he,_e,Ie){try{Kf=0;var xt=gr(ve,he,_e,Ie);return ad=null,xt}catch(At){if(At===Bf||At===Om)throw At;var Dn=Yi(29,At,null,ve.mode);return Dn.lanes=Ie,Dn.return=ve,Dn}finally{}}}var id=g3(!0),y3=g3(!1),ps=W(null),oo=null;function Bl(l){var u=l.alternate;$(Sa,Sa.current&1),$(ps,l),oo===null&&(u===null||ed.current!==null||u.memoizedState!==null)&&(oo=l)}function v3(l){if(l.tag===22){if($(Sa,Sa.current),$(ps,l),oo===null){var u=l.alternate;u!==null&&u.memoizedState!==null&&(oo=l)}}else $l()}function $l(){$(Sa,Sa.current),$(ps,ps.current)}function Zo(l){K(ps),oo===l&&(oo=null),K(Sa)}var Sa=W(0);function qm(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||T_(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function Ub(l,u,p,y){u=l.memoizedState,p=p(y,u),p=p==null?u:f({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var Bb={enqueueSetState:function(l,u,p){l=l._reactInternals;var y=Qi(),M=Fl(y);M.payload=u,p!=null&&(M.callback=p),u=jl(l,M,y),u!==null&&(Zi(u,l,y),zf(u,l,y))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var y=Qi(),M=Fl(y);M.tag=1,M.payload=u,p!=null&&(M.callback=p),u=jl(l,M,y),u!==null&&(Zi(u,l,y),zf(u,l,y))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=Qi(),y=Fl(p);y.tag=2,u!=null&&(y.callback=u),u=jl(l,y,p),u!==null&&(Zi(u,l,p),zf(u,l,p))}};function b3(l,u,p,y,M,P,G){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,P,G):u.prototype&&u.prototype.isPureReactComponent?!Of(p,y)||!Of(M,P):!0}function _3(l,u,p,y){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,y),u.state!==l&&Bb.enqueueReplaceState(u,u.state,null)}function qc(l,u){var p=u;if("ref"in u){p={};for(var y in u)y!=="ref"&&(p[y]=u[y])}if(l=l.defaultProps){p===u&&(p=f({},p));for(var M in l)p[M]===void 0&&(p[M]=l[M])}return p}var Ym=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function w3(l){Ym(l)}function x3(l){console.error(l)}function C3(l){Ym(l)}function Wm(l,u){try{var p=l.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(y){setTimeout(function(){throw y})}}function D3(l,u,p){try{var y=l.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function $b(l,u,p){return p=Fl(p),p.tag=3,p.payload={element:null},p.callback=function(){Wm(l,u)},p}function S3(l){return l=Fl(l),l.tag=3,l}function E3(l,u,p,y){var M=p.type.getDerivedStateFromError;if(typeof M=="function"){var P=y.value;l.payload=function(){return M(P)},l.callback=function(){D3(u,p,y)}}var G=p.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(l.callback=function(){D3(u,p,y),typeof M!="function"&&(Wl===null?Wl=new Set([this]):Wl.add(this));var X=y.stack;this.componentDidCatch(y.value,{componentStack:X!==null?X:""})})}function n7(l,u,p,y,M){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(u=p.alternate,u!==null&&Ff(u,p,M,!0),p=ps.current,p!==null){switch(p.tag){case 13:return oo===null?d_():p.alternate===null&&ta===0&&(ta=3),p.flags&=-257,p.flags|=65536,p.lanes=M,y===gb?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([y]):u.add(y),h_(l,y,M)),!1;case 22:return p.flags|=65536,y===gb?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([y]):p.add(y)),h_(l,y,M)),!1}throw Error(r(435,p.tag))}return h_(l,y,M),d_(),!1}if(Xn)return u=ps.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=M,y!==cb&&(l=Error(r(422),{cause:y}),If(us(l,p)))):(y!==cb&&(u=Error(r(423),{cause:y}),If(us(u,p))),l=l.current.alternate,l.flags|=65536,M&=-M,l.lanes|=M,y=us(y,p),M=$b(l.stateNode,y,M),bb(l,M),ta!==4&&(ta=2)),!1;var P=Error(r(520),{cause:y});if(P=us(P,p),rh===null?rh=[P]:rh.push(P),ta!==4&&(ta=2),u===null)return!0;y=us(y,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,l=M&-M,p.lanes|=l,l=$b(p.stateNode,y,l),bb(p,l),!1;case 1:if(u=p.type,P=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Wl===null||!Wl.has(P))))return p.flags|=65536,M&=-M,p.lanes|=M,M=S3(M),E3(M,l,p,y),bb(p,M),!1}p=p.return}while(p!==null);return!1}var M3=Error(r(461)),Na=!1;function Ba(l,u,p,y){u.child=l===null?y3(u,null,p,y):id(u,l.child,p,y)}function T3(l,u,p,y,M){p=p.render;var P=u.ref;if("ref"in y){var G={};for(var X in y)X!=="ref"&&(G[X]=y[X])}else G=y;return zc(u),y=Db(l,u,p,G,P,M),X=Sb(),l!==null&&!Na?(Eb(l,u,M),Xo(l,u,M)):(Xn&&X&&ob(u),u.flags|=1,Ba(l,u,y,M),u.child)}function k3(l,u,p,y,M){if(l===null){var P=p.type;return typeof P=="function"&&!ab(P)&&P.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=P,R3(l,u,P,y,M)):(l=Em(p.type,null,y,u,u.mode,M),l.ref=u.ref,l.return=u,u.child=l)}if(P=l.child,!Kb(l,M)){var G=P.memoizedProps;if(p=p.compare,p=p!==null?p:Of,p(G,y)&&l.ref===u.ref)return Xo(l,u,M)}return u.flags|=1,l=qo(P,y),l.ref=u.ref,l.return=u,u.child=l}function R3(l,u,p,y,M){if(l!==null){var P=l.memoizedProps;if(Of(P,y)&&l.ref===u.ref)if(Na=!1,u.pendingProps=y=P,Kb(l,M))(l.flags&131072)!==0&&(Na=!0);else return u.lanes=l.lanes,Xo(l,u,M)}return zb(l,u,p,y,M)}function A3(l,u,p){var y=u.pendingProps,M=y.children,P=l!==null?l.memoizedState:null;if(y.mode==="hidden"){if((u.flags&128)!==0){if(y=P!==null?P.baseLanes|p:p,l!==null){for(M=u.child=l.child,P=0;M!==null;)P=P|M.lanes|M.childLanes,M=M.sibling;u.childLanes=P&~y}else u.childLanes=0,u.child=null;return O3(l,u,y,p)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&Am(u,P!==null?P.cachePool:null),P!==null?RE(u,P):wb(),v3(u);else return u.lanes=u.childLanes=536870912,O3(l,u,P!==null?P.baseLanes|p:p,p)}else P!==null?(Am(u,P.cachePool),RE(u,P),$l(),u.memoizedState=null):(l!==null&&Am(u,null),wb(),$l());return Ba(l,u,M,p),u.child}function O3(l,u,p,y){var M=mb();return M=M===null?null:{parent:Da._currentValue,pool:M},u.memoizedState={baseLanes:p,cachePool:M},l!==null&&Am(u,null),wb(),v3(u),l!==null&&Ff(l,u,y,!0),null}function Gm(l,u){var p=u.ref;if(p===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(l===null||l.ref!==p)&&(u.flags|=4194816)}}function zb(l,u,p,y,M){return zc(u),p=Db(l,u,p,y,void 0,M),y=Sb(),l!==null&&!Na?(Eb(l,u,M),Xo(l,u,M)):(Xn&&y&&ob(u),u.flags|=1,Ba(l,u,p,M),u.child)}function L3(l,u,p,y,M,P){return zc(u),u.updateQueue=null,p=OE(u,y,p,M),AE(l),y=Sb(),l!==null&&!Na?(Eb(l,u,P),Xo(l,u,P)):(Xn&&y&&ob(u),u.flags|=1,Ba(l,u,p,P),u.child)}function N3(l,u,p,y,M){if(zc(u),u.stateNode===null){var P=Ku,G=p.contextType;typeof G=="object"&&G!==null&&(P=Xa(G)),P=new p(y,P),u.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=Bb,u.stateNode=P,P._reactInternals=u,P=u.stateNode,P.props=y,P.state=u.memoizedState,P.refs={},yb(u),G=p.contextType,P.context=typeof G=="object"&&G!==null?Xa(G):Ku,P.state=u.memoizedState,G=p.getDerivedStateFromProps,typeof G=="function"&&(Ub(u,p,G,y),P.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(G=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),G!==P.state&&Bb.enqueueReplaceState(P,P.state,null),Vf(u,y,P,M),Hf(),P.state=u.memoizedState),typeof P.componentDidMount=="function"&&(u.flags|=4194308),y=!0}else if(l===null){P=u.stateNode;var X=u.memoizedProps,ie=qc(p,X);P.props=ie;var we=P.context,Ne=p.contextType;G=Ku,typeof Ne=="object"&&Ne!==null&&(G=Xa(Ne));var Be=p.getDerivedStateFromProps;Ne=typeof Be=="function"||typeof P.getSnapshotBeforeUpdate=="function",X=u.pendingProps!==X,Ne||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(X||we!==G)&&_3(u,P,y,G),Il=!1;var Ce=u.memoizedState;P.state=Ce,Vf(u,y,P,M),Hf(),we=u.memoizedState,X||Ce!==we||Il?(typeof Be=="function"&&(Ub(u,p,Be,y),we=u.memoizedState),(ie=Il||b3(u,p,ie,y,Ce,we,G))?(Ne||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(u.flags|=4194308)):(typeof P.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=we),P.props=y,P.state=we,P.context=G,y=ie):(typeof P.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{P=u.stateNode,vb(l,u),G=u.memoizedProps,Ne=qc(p,G),P.props=Ne,Be=u.pendingProps,Ce=P.context,we=p.contextType,ie=Ku,typeof we=="object"&&we!==null&&(ie=Xa(we)),X=p.getDerivedStateFromProps,(we=typeof X=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(G!==Be||Ce!==ie)&&_3(u,P,y,ie),Il=!1,Ce=u.memoizedState,P.state=Ce,Vf(u,y,P,M),Hf();var De=u.memoizedState;G!==Be||Ce!==De||Il||l!==null&&l.dependencies!==null&&km(l.dependencies)?(typeof X=="function"&&(Ub(u,p,X,y),De=u.memoizedState),(Ne=Il||b3(u,p,Ne,y,Ce,De,ie)||l!==null&&l.dependencies!==null&&km(l.dependencies))?(we||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(y,De,ie),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(y,De,ie)),typeof P.componentDidUpdate=="function"&&(u.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof P.componentDidUpdate!="function"||G===l.memoizedProps&&Ce===l.memoizedState||(u.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||G===l.memoizedProps&&Ce===l.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=De),P.props=y,P.state=De,P.context=ie,y=Ne):(typeof P.componentDidUpdate!="function"||G===l.memoizedProps&&Ce===l.memoizedState||(u.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||G===l.memoizedProps&&Ce===l.memoizedState||(u.flags|=1024),y=!1)}return P=y,Gm(l,u),y=(u.flags&128)!==0,P||y?(P=u.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:P.render(),u.flags|=1,l!==null&&y?(u.child=id(u,l.child,null,M),u.child=id(u,null,p,M)):Ba(l,u,p,M),u.memoizedState=P.state,l=u.child):l=Xo(l,u,M),l}function P3(l,u,p,y){return Pf(),u.flags|=256,Ba(l,u,p,y),u.child}var Hb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vb(l){return{baseLanes:l,cachePool:xE()}}function qb(l,u,p){return l=l!==null?l.childLanes&~p:0,u&&(l|=ms),l}function I3(l,u,p){var y=u.pendingProps,M=!1,P=(u.flags&128)!==0,G;if((G=P)||(G=l!==null&&l.memoizedState===null?!1:(Sa.current&2)!==0),G&&(M=!0,u.flags&=-129),G=(u.flags&32)!==0,u.flags&=-33,l===null){if(Xn){if(M?Bl(u):$l(),Xn){var X=ea,ie;if(ie=X){e:{for(ie=X,X=so;ie.nodeType!==8;){if(!X){X=null;break e}if(ie=Hs(ie.nextSibling),ie===null){X=null;break e}}X=ie}X!==null?(u.memoizedState={dehydrated:X,treeContext:Fc!==null?{id:Yo,overflow:Wo}:null,retryLane:536870912,hydrationErrors:null},ie=Yi(18,null,null,0),ie.stateNode=X,ie.return=u,u.child=ie,vi=u,ea=null,ie=!0):ie=!1}ie||Bc(u)}if(X=u.memoizedState,X!==null&&(X=X.dehydrated,X!==null))return T_(X)?u.lanes=32:u.lanes=536870912,null;Zo(u)}return X=y.children,y=y.fallback,M?($l(),M=u.mode,X=Km({mode:"hidden",children:X},M),y=Ic(y,M,p,null),X.return=u,y.return=u,X.sibling=y,u.child=X,M=u.child,M.memoizedState=Vb(p),M.childLanes=qb(l,G,p),u.memoizedState=Hb,y):(Bl(u),Yb(u,X))}if(ie=l.memoizedState,ie!==null&&(X=ie.dehydrated,X!==null)){if(P)u.flags&256?(Bl(u),u.flags&=-257,u=Wb(l,u,p)):u.memoizedState!==null?($l(),u.child=l.child,u.flags|=128,u=null):($l(),M=y.fallback,X=u.mode,y=Km({mode:"visible",children:y.children},X),M=Ic(M,X,p,null),M.flags|=2,y.return=u,M.return=u,y.sibling=M,u.child=y,id(u,l.child,null,p),y=u.child,y.memoizedState=Vb(p),y.childLanes=qb(l,G,p),u.memoizedState=Hb,u=M);else if(Bl(u),T_(X)){if(G=X.nextSibling&&X.nextSibling.dataset,G)var we=G.dgst;G=we,y=Error(r(419)),y.stack="",y.digest=G,If({value:y,source:null,stack:null}),u=Wb(l,u,p)}else if(Na||Ff(l,u,p,!1),G=(p&l.childLanes)!==0,Na||G){if(G=Dr,G!==null&&(y=p&-p,y=(y&42)!==0?1:Gn(y),y=(y&(G.suspendedLanes|p))!==0?0:y,y!==0&&y!==ie.retryLane))throw ie.retryLane=y,Gu(l,y),Zi(G,l,y),M3;X.data==="$?"||d_(),u=Wb(l,u,p)}else X.data==="$?"?(u.flags|=192,u.child=l.child,u=null):(l=ie.treeContext,ea=Hs(X.nextSibling),vi=u,Xn=!0,Uc=null,so=!1,l!==null&&(fs[hs++]=Yo,fs[hs++]=Wo,fs[hs++]=Fc,Yo=l.id,Wo=l.overflow,Fc=u),u=Yb(u,y.children),u.flags|=4096);return u}return M?($l(),M=y.fallback,X=u.mode,ie=l.child,we=ie.sibling,y=qo(ie,{mode:"hidden",children:y.children}),y.subtreeFlags=ie.subtreeFlags&65011712,we!==null?M=qo(we,M):(M=Ic(M,X,p,null),M.flags|=2),M.return=u,y.return=u,y.sibling=M,u.child=y,y=M,M=u.child,X=l.child.memoizedState,X===null?X=Vb(p):(ie=X.cachePool,ie!==null?(we=Da._currentValue,ie=ie.parent!==we?{parent:we,pool:we}:ie):ie=xE(),X={baseLanes:X.baseLanes|p,cachePool:ie}),M.memoizedState=X,M.childLanes=qb(l,G,p),u.memoizedState=Hb,y):(Bl(u),p=l.child,l=p.sibling,p=qo(p,{mode:"visible",children:y.children}),p.return=u,p.sibling=null,l!==null&&(G=u.deletions,G===null?(u.deletions=[l],u.flags|=16):G.push(l)),u.child=p,u.memoizedState=null,p)}function Yb(l,u){return u=Km({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function Km(l,u){return l=Yi(22,l,null,u),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function Wb(l,u,p){return id(u,l.child,null,p),l=Yb(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function F3(l,u,p){l.lanes|=u;var y=l.alternate;y!==null&&(y.lanes|=u),db(l.return,u,p)}function Gb(l,u,p,y,M){var P=l.memoizedState;P===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:M}:(P.isBackwards=u,P.rendering=null,P.renderingStartTime=0,P.last=y,P.tail=p,P.tailMode=M)}function j3(l,u,p){var y=u.pendingProps,M=y.revealOrder,P=y.tail;if(Ba(l,u,y.children,p),y=Sa.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&F3(l,p,u);else if(l.tag===19)F3(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}switch($(Sa,y),M){case"forwards":for(p=u.child,M=null;p!==null;)l=p.alternate,l!==null&&qm(l)===null&&(M=p),p=p.sibling;p=M,p===null?(M=u.child,u.child=null):(M=p.sibling,p.sibling=null),Gb(u,!1,M,p,P);break;case"backwards":for(p=null,M=u.child,u.child=null;M!==null;){if(l=M.alternate,l!==null&&qm(l)===null){u.child=M;break}l=M.sibling,M.sibling=p,p=M,M=l}Gb(u,!0,p,null,P);break;case"together":Gb(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Xo(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),Yl|=u.lanes,(p&u.childLanes)===0)if(l!==null){if(Ff(l,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,p=qo(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=qo(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function Kb(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&km(l)))}function r7(l,u,p){switch(u.tag){case 3:le(u,u.stateNode.containerInfo),Pl(u,Da,l.memoizedState.cache),Pf();break;case 27:case 5:ue(u);break;case 4:le(u,u.stateNode.containerInfo);break;case 10:Pl(u,u.type,u.memoizedProps.value);break;case 13:var y=u.memoizedState;if(y!==null)return y.dehydrated!==null?(Bl(u),u.flags|=128,null):(p&u.child.childLanes)!==0?I3(l,u,p):(Bl(u),l=Xo(l,u,p),l!==null?l.sibling:null);Bl(u);break;case 19:var M=(l.flags&128)!==0;if(y=(p&u.childLanes)!==0,y||(Ff(l,u,p,!1),y=(p&u.childLanes)!==0),M){if(y)return j3(l,u,p);u.flags|=128}if(M=u.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),$(Sa,Sa.current),y)break;return null;case 22:case 23:return u.lanes=0,A3(l,u,p);case 24:Pl(u,Da,l.memoizedState.cache)}return Xo(l,u,p)}function U3(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps)Na=!0;else{if(!Kb(l,p)&&(u.flags&128)===0)return Na=!1,r7(l,u,p);Na=(l.flags&131072)!==0}else Na=!1,Xn&&(u.flags&1048576)!==0&&mE(u,Tm,u.index);switch(u.lanes=0,u.tag){case 16:e:{l=u.pendingProps;var y=u.elementType,M=y._init;if(y=M(y._payload),u.type=y,typeof y=="function")ab(y)?(l=qc(y,l),u.tag=1,u=N3(null,u,y,l,p)):(u.tag=0,u=zb(null,u,y,l,p));else{if(y!=null){if(M=y.$$typeof,M===I){u.tag=11,u=T3(null,u,y,l,p);break e}else if(M===L){u.tag=14,u=k3(null,u,y,l,p);break e}}throw u=U(y)||y,Error(r(306,u,""))}}return u;case 0:return zb(l,u,u.type,u.pendingProps,p);case 1:return y=u.type,M=qc(y,u.pendingProps),N3(l,u,y,M,p);case 3:e:{if(le(u,u.stateNode.containerInfo),l===null)throw Error(r(387));y=u.pendingProps;var P=u.memoizedState;M=P.element,vb(l,u),Vf(u,y,null,p);var G=u.memoizedState;if(y=G.cache,Pl(u,Da,y),y!==P.cache&&fb(u,[Da],p,!0),Hf(),y=G.element,P.isDehydrated)if(P={element:y,isDehydrated:!1,cache:G.cache},u.updateQueue.baseState=P,u.memoizedState=P,u.flags&256){u=P3(l,u,y,p);break e}else if(y!==M){M=us(Error(r(424)),u),If(M),u=P3(l,u,y,p);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(ea=Hs(l.firstChild),vi=u,Xn=!0,Uc=null,so=!0,p=y3(u,null,y,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Pf(),y===M){u=Xo(l,u,p);break e}Ba(l,u,y,p)}u=u.child}return u;case 26:return Gm(l,u),l===null?(p=HM(u.type,null,u.pendingProps,null))?u.memoizedState=p:Xn||(p=u.type,l=u.pendingProps,y=cg(fe.current).createElement(p),y[nn]=u,y[Fn]=l,za(y,p,l),xe(y),u.stateNode=y):u.memoizedState=HM(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return ue(u),l===null&&Xn&&(y=u.stateNode=BM(u.type,u.pendingProps,fe.current),vi=u,so=!0,M=ea,Ql(u.type)?(k_=M,ea=Hs(y.firstChild)):ea=M),Ba(l,u,u.pendingProps.children,p),Gm(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&Xn&&((M=y=ea)&&(y=A7(y,u.type,u.pendingProps,so),y!==null?(u.stateNode=y,vi=u,ea=Hs(y.firstChild),so=!1,M=!0):M=!1),M||Bc(u)),ue(u),M=u.type,P=u.pendingProps,G=l!==null?l.memoizedProps:null,y=P.children,S_(M,P)?y=null:G!==null&&S_(M,G)&&(u.flags|=32),u.memoizedState!==null&&(M=Db(l,u,KF,null,null,p),fh._currentValue=M),Gm(l,u),Ba(l,u,y,p),u.child;case 6:return l===null&&Xn&&((l=p=ea)&&(p=O7(p,u.pendingProps,so),p!==null?(u.stateNode=p,vi=u,ea=null,l=!0):l=!1),l||Bc(u)),null;case 13:return I3(l,u,p);case 4:return le(u,u.stateNode.containerInfo),y=u.pendingProps,l===null?u.child=id(u,null,y,p):Ba(l,u,y,p),u.child;case 11:return T3(l,u,u.type,u.pendingProps,p);case 7:return Ba(l,u,u.pendingProps,p),u.child;case 8:return Ba(l,u,u.pendingProps.children,p),u.child;case 12:return Ba(l,u,u.pendingProps.children,p),u.child;case 10:return y=u.pendingProps,Pl(u,u.type,y.value),Ba(l,u,y.children,p),u.child;case 9:return M=u.type._context,y=u.pendingProps.children,zc(u),M=Xa(M),y=y(M),u.flags|=1,Ba(l,u,y,p),u.child;case 14:return k3(l,u,u.type,u.pendingProps,p);case 15:return R3(l,u,u.type,u.pendingProps,p);case 19:return j3(l,u,p);case 31:return y=u.pendingProps,p=u.mode,y={mode:y.mode,children:y.children},l===null?(p=Km(y,p),p.ref=u.ref,u.child=p,p.return=u,u=p):(p=qo(l.child,y),p.ref=u.ref,u.child=p,p.return=u,u=p),u;case 22:return A3(l,u,p);case 24:return zc(u),y=Xa(Da),l===null?(M=mb(),M===null&&(M=Dr,P=hb(),M.pooledCache=P,P.refCount++,P!==null&&(M.pooledCacheLanes|=p),M=P),u.memoizedState={parent:y,cache:M},yb(u),Pl(u,Da,M)):((l.lanes&p)!==0&&(vb(l,u),Vf(u,null,null,p),Hf()),M=l.memoizedState,P=u.memoizedState,M.parent!==y?(M={parent:y,cache:y},u.memoizedState=M,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=M),Pl(u,Da,y)):(y=P.cache,Pl(u,Da,y),y!==M.cache&&fb(u,[Da],p,!0))),Ba(l,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function Jo(l){l.flags|=4}function B3(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!GM(u)){if(u=ps.current,u!==null&&((zn&4194048)===zn?oo!==null:(zn&62914560)!==zn&&(zn&536870912)===0||u!==oo))throw $f=gb,CE;l.flags|=8192}}function Qm(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?kt():536870912,l.lanes|=u,cd|=u)}function Zf(l,u){if(!Xn)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function Vr(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,y=0;if(u)for(var M=l.child;M!==null;)p|=M.lanes|M.childLanes,y|=M.subtreeFlags&65011712,y|=M.flags&65011712,M.return=l,M=M.sibling;else for(M=l.child;M!==null;)p|=M.lanes|M.childLanes,y|=M.subtreeFlags,y|=M.flags,M.return=l,M=M.sibling;return l.subtreeFlags|=y,l.childLanes=p,u}function a7(l,u,p){var y=u.pendingProps;switch(lb(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(u),null;case 1:return Vr(u),null;case 3:return p=u.stateNode,y=null,l!==null&&(y=l.memoizedState.cache),u.memoizedState.cache!==y&&(u.flags|=2048),Ko(Da),Ee(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(Nf(u)?Jo(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,vE())),Vr(u),null;case 26:return p=u.memoizedState,l===null?(Jo(u),p!==null?(Vr(u),B3(u,p)):(Vr(u),u.flags&=-16777217)):p?p!==l.memoizedState?(Jo(u),Vr(u),B3(u,p)):(Vr(u),u.flags&=-16777217):(l.memoizedProps!==y&&Jo(u),Vr(u),u.flags&=-16777217),null;case 27:Me(u),p=fe.current;var M=u.type;if(l!==null&&u.stateNode!=null)l.memoizedProps!==y&&Jo(u);else{if(!y){if(u.stateNode===null)throw Error(r(166));return Vr(u),null}l=J.current,Nf(u)?gE(u):(l=BM(M,y,p),u.stateNode=l,Jo(u))}return Vr(u),null;case 5:if(Me(u),p=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==y&&Jo(u);else{if(!y){if(u.stateNode===null)throw Error(r(166));return Vr(u),null}if(l=J.current,Nf(u))gE(u);else{switch(M=cg(fe.current),l){case 1:l=M.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:l=M.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":l=M.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":l=M.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":l=M.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof y.is=="string"?M.createElement("select",{is:y.is}):M.createElement("select"),y.multiple?l.multiple=!0:y.size&&(l.size=y.size);break;default:l=typeof y.is=="string"?M.createElement(p,{is:y.is}):M.createElement(p)}}l[nn]=u,l[Fn]=y;e:for(M=u.child;M!==null;){if(M.tag===5||M.tag===6)l.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===u)break e;for(;M.sibling===null;){if(M.return===null||M.return===u)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}u.stateNode=l;e:switch(za(l,p,y),p){case"button":case"input":case"select":case"textarea":l=!!y.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Jo(u)}}return Vr(u),u.flags&=-16777217,null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==y&&Jo(u);else{if(typeof y!="string"&&u.stateNode===null)throw Error(r(166));if(l=fe.current,Nf(u)){if(l=u.stateNode,p=u.memoizedProps,y=null,M=vi,M!==null)switch(M.tag){case 27:case 5:y=M.memoizedProps}l[nn]=u,l=!!(l.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||LM(l.nodeValue,p)),l||Bc(u)}else l=cg(l).createTextNode(y),l[nn]=u,u.stateNode=l}return Vr(u),null;case 13:if(y=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(M=Nf(u),y!==null&&y.dehydrated!==null){if(l===null){if(!M)throw Error(r(318));if(M=u.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[nn]=u}else Pf(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Vr(u),M=!1}else M=vE(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=M),M=!0;if(!M)return u.flags&256?(Zo(u),u):(Zo(u),null)}if(Zo(u),(u.flags&128)!==0)return u.lanes=p,u;if(p=y!==null,l=l!==null&&l.memoizedState!==null,p){y=u.child,M=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(M=y.alternate.memoizedState.cachePool.pool);var P=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(P=y.memoizedState.cachePool.pool),P!==M&&(y.flags|=2048)}return p!==l&&p&&(u.child.flags|=8192),Qm(u,u.updateQueue),Vr(u),null;case 4:return Ee(),l===null&&__(u.stateNode.containerInfo),Vr(u),null;case 10:return Ko(u.type),Vr(u),null;case 19:if(K(Sa),M=u.memoizedState,M===null)return Vr(u),null;if(y=(u.flags&128)!==0,P=M.rendering,P===null)if(y)Zf(M,!1);else{if(ta!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(P=qm(l),P!==null){for(u.flags|=128,Zf(M,!1),l=P.updateQueue,u.updateQueue=l,Qm(u,l),u.subtreeFlags=0,l=p,p=u.child;p!==null;)pE(p,l),p=p.sibling;return $(Sa,Sa.current&1|2),u.child}l=l.sibling}M.tail!==null&&nt()>Jm&&(u.flags|=128,y=!0,Zf(M,!1),u.lanes=4194304)}else{if(!y)if(l=qm(P),l!==null){if(u.flags|=128,y=!0,l=l.updateQueue,u.updateQueue=l,Qm(u,l),Zf(M,!0),M.tail===null&&M.tailMode==="hidden"&&!P.alternate&&!Xn)return Vr(u),null}else 2*nt()-M.renderingStartTime>Jm&&p!==536870912&&(u.flags|=128,y=!0,Zf(M,!1),u.lanes=4194304);M.isBackwards?(P.sibling=u.child,u.child=P):(l=M.last,l!==null?l.sibling=P:u.child=P,M.last=P)}return M.tail!==null?(u=M.tail,M.rendering=u,M.tail=u.sibling,M.renderingStartTime=nt(),u.sibling=null,l=Sa.current,$(Sa,y?l&1|2:l&1),u):(Vr(u),null);case 22:case 23:return Zo(u),xb(),y=u.memoizedState!==null,l!==null?l.memoizedState!==null!==y&&(u.flags|=8192):y&&(u.flags|=8192),y?(p&536870912)!==0&&(u.flags&128)===0&&(Vr(u),u.subtreeFlags&6&&(u.flags|=8192)):Vr(u),p=u.updateQueue,p!==null&&Qm(u,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048),l!==null&&K(Hc),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),Ko(Da),Vr(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function i7(l,u){switch(lb(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Ko(Da),Ee(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return Me(u),null;case 13:if(Zo(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Pf()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return K(Sa),null;case 4:return Ee(),null;case 10:return Ko(u.type),null;case 22:case 23:return Zo(u),xb(),l!==null&&K(Hc),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return Ko(Da),null;case 25:return null;default:return null}}function $3(l,u){switch(lb(u),u.tag){case 3:Ko(Da),Ee();break;case 26:case 27:case 5:Me(u);break;case 4:Ee();break;case 13:Zo(u);break;case 19:K(Sa);break;case 10:Ko(u.type);break;case 22:case 23:Zo(u),xb(),l!==null&&K(Hc);break;case 24:Ko(Da)}}function Xf(l,u){try{var p=u.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var M=y.next;p=M;do{if((p.tag&l)===l){y=void 0;var P=p.create,G=p.inst;y=P(),G.destroy=y}p=p.next}while(p!==M)}}catch(X){vr(u,u.return,X)}}function zl(l,u,p){try{var y=u.updateQueue,M=y!==null?y.lastEffect:null;if(M!==null){var P=M.next;y=P;do{if((y.tag&l)===l){var G=y.inst,X=G.destroy;if(X!==void 0){G.destroy=void 0,M=u;var ie=p,we=X;try{we()}catch(Ne){vr(M,ie,Ne)}}}y=y.next}while(y!==P)}}catch(Ne){vr(u,u.return,Ne)}}function z3(l){var u=l.updateQueue;if(u!==null){var p=l.stateNode;try{kE(u,p)}catch(y){vr(l,l.return,y)}}}function H3(l,u,p){p.props=qc(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(y){vr(l,u,y)}}function Jf(l,u){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var y=l.stateNode;break;case 30:y=l.stateNode;break;default:y=l.stateNode}typeof p=="function"?l.refCleanup=p(y):p.current=y}}catch(M){vr(l,u,M)}}function lo(l,u){var p=l.ref,y=l.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(M){vr(l,u,M)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(M){vr(l,u,M)}else p.current=null}function V3(l){var u=l.type,p=l.memoizedProps,y=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(M){vr(l,l.return,M)}}function Qb(l,u,p){try{var y=l.stateNode;E7(y,l.type,p,u),y[Fn]=u}catch(M){vr(l,l.return,M)}}function q3(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Ql(l.type)||l.tag===4}function Zb(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||q3(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Ql(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Xb(l,u,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(l),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=lg));else if(y!==4&&(y===27&&Ql(l.type)&&(p=l.stateNode,u=null),l=l.child,l!==null))for(Xb(l,u,p),l=l.sibling;l!==null;)Xb(l,u,p),l=l.sibling}function Zm(l,u,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(y!==4&&(y===27&&Ql(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(Zm(l,u,p),l=l.sibling;l!==null;)Zm(l,u,p),l=l.sibling}function Y3(l){var u=l.stateNode,p=l.memoizedProps;try{for(var y=l.type,M=u.attributes;M.length;)u.removeAttributeNode(M[0]);za(u,y,p),u[nn]=l,u[Fn]=p}catch(P){vr(l,l.return,P)}}var el=!1,ca=!1,Jb=!1,W3=typeof WeakSet=="function"?WeakSet:Set,Pa=null;function s7(l,u){if(l=l.containerInfo,C_=mg,l=aE(l),Z1(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var M=y.anchorOffset,P=y.focusNode;y=y.focusOffset;try{p.nodeType,P.nodeType}catch{p=null;break e}var G=0,X=-1,ie=-1,we=0,Ne=0,Be=l,Ce=null;t:for(;;){for(var De;Be!==p||M!==0&&Be.nodeType!==3||(X=G+M),Be!==P||y!==0&&Be.nodeType!==3||(ie=G+y),Be.nodeType===3&&(G+=Be.nodeValue.length),(De=Be.firstChild)!==null;)Ce=Be,Be=De;for(;;){if(Be===l)break t;if(Ce===p&&++we===M&&(X=G),Ce===P&&++Ne===y&&(ie=G),(De=Be.nextSibling)!==null)break;Be=Ce,Ce=Be.parentNode}Be=De}p=X===-1||ie===-1?null:{start:X,end:ie}}else p=null}p=p||{start:0,end:0}}else p=null;for(D_={focusedElem:l,selectionRange:p},mg=!1,Pa=u;Pa!==null;)if(u=Pa,l=u.child,(u.subtreeFlags&1024)!==0&&l!==null)l.return=u,Pa=l;else for(;Pa!==null;){switch(u=Pa,P=u.alternate,l=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&P!==null){l=void 0,p=u,M=P.memoizedProps,P=P.memoizedState,y=p.stateNode;try{var Qt=qc(p.type,M,p.elementType===p.type);l=y.getSnapshotBeforeUpdate(Qt,P),y.__reactInternalSnapshotBeforeUpdate=l}catch(Bt){vr(p,p.return,Bt)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,p=l.nodeType,p===9)M_(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":M_(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=u.sibling,l!==null){l.return=u.return,Pa=l;break}Pa=u.return}}function G3(l,u,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:Hl(l,p),y&4&&Xf(5,p);break;case 1:if(Hl(l,p),y&4)if(l=p.stateNode,u===null)try{l.componentDidMount()}catch(G){vr(p,p.return,G)}else{var M=qc(p.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(M,u,l.__reactInternalSnapshotBeforeUpdate)}catch(G){vr(p,p.return,G)}}y&64&&z3(p),y&512&&Jf(p,p.return);break;case 3:if(Hl(l,p),y&64&&(l=p.updateQueue,l!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{kE(l,u)}catch(G){vr(p,p.return,G)}}break;case 27:u===null&&y&4&&Y3(p);case 26:case 5:Hl(l,p),u===null&&y&4&&V3(p),y&512&&Jf(p,p.return);break;case 12:Hl(l,p);break;case 13:Hl(l,p),y&4&&Z3(l,p),y&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=m7.bind(null,p),L7(l,p))));break;case 22:if(y=p.memoizedState!==null||el,!y){u=u!==null&&u.memoizedState!==null||ca,M=el;var P=ca;el=y,(ca=u)&&!P?Vl(l,p,(p.subtreeFlags&8772)!==0):Hl(l,p),el=M,ca=P}break;case 30:break;default:Hl(l,p)}}function K3(l){var u=l.alternate;u!==null&&(l.alternate=null,K3(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&lt(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Pr=null,Oi=!1;function tl(l,u,p){for(p=p.child;p!==null;)Q3(l,u,p),p=p.sibling}function Q3(l,u,p){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(be,p)}catch{}switch(p.tag){case 26:ca||lo(p,u),tl(l,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:ca||lo(p,u);var y=Pr,M=Oi;Ql(p.type)&&(Pr=p.stateNode,Oi=!1),tl(l,u,p),lh(p.stateNode),Pr=y,Oi=M;break;case 5:ca||lo(p,u);case 6:if(y=Pr,M=Oi,Pr=null,tl(l,u,p),Pr=y,Oi=M,Pr!==null)if(Oi)try{(Pr.nodeType===9?Pr.body:Pr.nodeName==="HTML"?Pr.ownerDocument.body:Pr).removeChild(p.stateNode)}catch(P){vr(p,u,P)}else try{Pr.removeChild(p.stateNode)}catch(P){vr(p,u,P)}break;case 18:Pr!==null&&(Oi?(l=Pr,jM(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),gh(l)):jM(Pr,p.stateNode));break;case 4:y=Pr,M=Oi,Pr=p.stateNode.containerInfo,Oi=!0,tl(l,u,p),Pr=y,Oi=M;break;case 0:case 11:case 14:case 15:ca||zl(2,p,u),ca||zl(4,p,u),tl(l,u,p);break;case 1:ca||(lo(p,u),y=p.stateNode,typeof y.componentWillUnmount=="function"&&H3(p,u,y)),tl(l,u,p);break;case 21:tl(l,u,p);break;case 22:ca=(y=ca)||p.memoizedState!==null,tl(l,u,p),ca=y;break;default:tl(l,u,p)}}function Z3(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{gh(l)}catch(p){vr(u,u.return,p)}}function o7(l){switch(l.tag){case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new W3),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new W3),u;default:throw Error(r(435,l.tag))}}function e_(l,u){var p=o7(l);u.forEach(function(y){var M=g7.bind(null,l,y);p.has(y)||(p.add(y),y.then(M,M))})}function Wi(l,u){var p=u.deletions;if(p!==null)for(var y=0;y<p.length;y++){var M=p[y],P=l,G=u,X=G;e:for(;X!==null;){switch(X.tag){case 27:if(Ql(X.type)){Pr=X.stateNode,Oi=!1;break e}break;case 5:Pr=X.stateNode,Oi=!1;break e;case 3:case 4:Pr=X.stateNode.containerInfo,Oi=!0;break e}X=X.return}if(Pr===null)throw Error(r(160));Q3(P,G,M),Pr=null,Oi=!1,P=M.alternate,P!==null&&(P.return=null),M.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)X3(u,l),u=u.sibling}var zs=null;function X3(l,u){var p=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Wi(u,l),Gi(l),y&4&&(zl(3,l,l.return),Xf(3,l),zl(5,l,l.return));break;case 1:Wi(u,l),Gi(l),y&512&&(ca||p===null||lo(p,p.return)),y&64&&el&&(l=l.updateQueue,l!==null&&(y=l.callbacks,y!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var M=zs;if(Wi(u,l),Gi(l),y&512&&(ca||p===null||lo(p,p.return)),y&4){var P=p!==null?p.memoizedState:null;if(y=l.memoizedState,p===null)if(y===null)if(l.stateNode===null){e:{y=l.type,p=l.memoizedProps,M=M.ownerDocument||M;t:switch(y){case"title":P=M.getElementsByTagName("title")[0],(!P||P[Le]||P[nn]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=M.createElement(y),M.head.insertBefore(P,M.querySelector("head > title"))),za(P,y,p),P[nn]=l,xe(P),y=P;break e;case"link":var G=YM("link","href",M).get(y+(p.href||""));if(G){for(var X=0;X<G.length;X++)if(P=G[X],P.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&P.getAttribute("rel")===(p.rel==null?null:p.rel)&&P.getAttribute("title")===(p.title==null?null:p.title)&&P.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){G.splice(X,1);break t}}P=M.createElement(y),za(P,y,p),M.head.appendChild(P);break;case"meta":if(G=YM("meta","content",M).get(y+(p.content||""))){for(X=0;X<G.length;X++)if(P=G[X],P.getAttribute("content")===(p.content==null?null:""+p.content)&&P.getAttribute("name")===(p.name==null?null:p.name)&&P.getAttribute("property")===(p.property==null?null:p.property)&&P.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&P.getAttribute("charset")===(p.charSet==null?null:p.charSet)){G.splice(X,1);break t}}P=M.createElement(y),za(P,y,p),M.head.appendChild(P);break;default:throw Error(r(468,y))}P[nn]=l,xe(P),y=P}l.stateNode=y}else WM(M,l.type,l.stateNode);else l.stateNode=qM(M,y,l.memoizedProps);else P!==y?(P===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):P.count--,y===null?WM(M,l.type,l.stateNode):qM(M,y,l.memoizedProps)):y===null&&l.stateNode!==null&&Qb(l,l.memoizedProps,p.memoizedProps)}break;case 27:Wi(u,l),Gi(l),y&512&&(ca||p===null||lo(p,p.return)),p!==null&&y&4&&Qb(l,l.memoizedProps,p.memoizedProps);break;case 5:if(Wi(u,l),Gi(l),y&512&&(ca||p===null||lo(p,p.return)),l.flags&32){M=l.stateNode;try{sn(M,"")}catch(De){vr(l,l.return,De)}}y&4&&l.stateNode!=null&&(M=l.memoizedProps,Qb(l,M,p!==null?p.memoizedProps:M)),y&1024&&(Jb=!0);break;case 6:if(Wi(u,l),Gi(l),y&4){if(l.stateNode===null)throw Error(r(162));y=l.memoizedProps,p=l.stateNode;try{p.nodeValue=y}catch(De){vr(l,l.return,De)}}break;case 3:if(fg=null,M=zs,zs=ug(u.containerInfo),Wi(u,l),zs=M,Gi(l),y&4&&p!==null&&p.memoizedState.isDehydrated)try{gh(u.containerInfo)}catch(De){vr(l,l.return,De)}Jb&&(Jb=!1,J3(l));break;case 4:y=zs,zs=ug(l.stateNode.containerInfo),Wi(u,l),Gi(l),zs=y;break;case 12:Wi(u,l),Gi(l);break;case 13:Wi(u,l),Gi(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(s_=nt()),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,e_(l,y)));break;case 22:M=l.memoizedState!==null;var ie=p!==null&&p.memoizedState!==null,we=el,Ne=ca;if(el=we||M,ca=Ne||ie,Wi(u,l),ca=Ne,el=we,Gi(l),y&8192)e:for(u=l.stateNode,u._visibility=M?u._visibility&-2:u._visibility|1,M&&(p===null||ie||el||ca||Yc(l)),p=null,u=l;;){if(u.tag===5||u.tag===26){if(p===null){ie=p=u;try{if(P=ie.stateNode,M)G=P.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{X=ie.stateNode;var Be=ie.memoizedProps.style,Ce=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;X.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(De){vr(ie,ie.return,De)}}}else if(u.tag===6){if(p===null){ie=u;try{ie.stateNode.nodeValue=M?"":ie.memoizedProps}catch(De){vr(ie,ie.return,De)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}y&4&&(y=l.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,e_(l,p))));break;case 19:Wi(u,l),Gi(l),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,e_(l,y)));break;case 30:break;case 21:break;default:Wi(u,l),Gi(l)}}function Gi(l){var u=l.flags;if(u&2){try{for(var p,y=l.return;y!==null;){if(q3(y)){p=y;break}y=y.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var M=p.stateNode,P=Zb(l);Zm(l,P,M);break;case 5:var G=p.stateNode;p.flags&32&&(sn(G,""),p.flags&=-33);var X=Zb(l);Zm(l,X,G);break;case 3:case 4:var ie=p.stateNode.containerInfo,we=Zb(l);Xb(l,we,ie);break;default:throw Error(r(161))}}catch(Ne){vr(l,l.return,Ne)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function J3(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;J3(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function Hl(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)G3(l,u.alternate,u),u=u.sibling}function Yc(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:zl(4,u,u.return),Yc(u);break;case 1:lo(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&H3(u,u.return,p),Yc(u);break;case 27:lh(u.stateNode);case 26:case 5:lo(u,u.return),Yc(u);break;case 22:u.memoizedState===null&&Yc(u);break;case 30:Yc(u);break;default:Yc(u)}l=l.sibling}}function Vl(l,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var y=u.alternate,M=l,P=u,G=P.flags;switch(P.tag){case 0:case 11:case 15:Vl(M,P,p),Xf(4,P);break;case 1:if(Vl(M,P,p),y=P,M=y.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(we){vr(y,y.return,we)}if(y=P,M=y.updateQueue,M!==null){var X=y.stateNode;try{var ie=M.shared.hiddenCallbacks;if(ie!==null)for(M.shared.hiddenCallbacks=null,M=0;M<ie.length;M++)TE(ie[M],X)}catch(we){vr(y,y.return,we)}}p&&G&64&&z3(P),Jf(P,P.return);break;case 27:Y3(P);case 26:case 5:Vl(M,P,p),p&&y===null&&G&4&&V3(P),Jf(P,P.return);break;case 12:Vl(M,P,p);break;case 13:Vl(M,P,p),p&&G&4&&Z3(M,P);break;case 22:P.memoizedState===null&&Vl(M,P,p),Jf(P,P.return);break;case 30:break;default:Vl(M,P,p)}u=u.sibling}}function t_(l,u){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&jf(p))}function n_(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&jf(l))}function co(l,u,p,y){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)eM(l,u,p,y),u=u.sibling}function eM(l,u,p,y){var M=u.flags;switch(u.tag){case 0:case 11:case 15:co(l,u,p,y),M&2048&&Xf(9,u);break;case 1:co(l,u,p,y);break;case 3:co(l,u,p,y),M&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&jf(l)));break;case 12:if(M&2048){co(l,u,p,y),l=u.stateNode;try{var P=u.memoizedProps,G=P.id,X=P.onPostCommit;typeof X=="function"&&X(G,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ie){vr(u,u.return,ie)}}else co(l,u,p,y);break;case 13:co(l,u,p,y);break;case 23:break;case 22:P=u.stateNode,G=u.alternate,u.memoizedState!==null?P._visibility&2?co(l,u,p,y):eh(l,u):P._visibility&2?co(l,u,p,y):(P._visibility|=2,sd(l,u,p,y,(u.subtreeFlags&10256)!==0)),M&2048&&t_(G,u);break;case 24:co(l,u,p,y),M&2048&&n_(u.alternate,u);break;default:co(l,u,p,y)}}function sd(l,u,p,y,M){for(M=M&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var P=l,G=u,X=p,ie=y,we=G.flags;switch(G.tag){case 0:case 11:case 15:sd(P,G,X,ie,M),Xf(8,G);break;case 23:break;case 22:var Ne=G.stateNode;G.memoizedState!==null?Ne._visibility&2?sd(P,G,X,ie,M):eh(P,G):(Ne._visibility|=2,sd(P,G,X,ie,M)),M&&we&2048&&t_(G.alternate,G);break;case 24:sd(P,G,X,ie,M),M&&we&2048&&n_(G.alternate,G);break;default:sd(P,G,X,ie,M)}u=u.sibling}}function eh(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=l,y=u,M=y.flags;switch(y.tag){case 22:eh(p,y),M&2048&&t_(y.alternate,y);break;case 24:eh(p,y),M&2048&&n_(y.alternate,y);break;default:eh(p,y)}u=u.sibling}}var th=8192;function od(l){if(l.subtreeFlags&th)for(l=l.child;l!==null;)tM(l),l=l.sibling}function tM(l){switch(l.tag){case 26:od(l),l.flags&th&&l.memoizedState!==null&&Y7(zs,l.memoizedState,l.memoizedProps);break;case 5:od(l);break;case 3:case 4:var u=zs;zs=ug(l.stateNode.containerInfo),od(l),zs=u;break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=th,th=16777216,od(l),th=u):od(l));break;default:od(l)}}function nM(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function nh(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];Pa=y,aM(y,l)}nM(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)rM(l),l=l.sibling}function rM(l){switch(l.tag){case 0:case 11:case 15:nh(l),l.flags&2048&&zl(9,l,l.return);break;case 3:nh(l);break;case 12:nh(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,Xm(l)):nh(l);break;default:nh(l)}}function Xm(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];Pa=y,aM(y,l)}nM(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:zl(8,u,u.return),Xm(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,Xm(u));break;default:Xm(u)}l=l.sibling}}function aM(l,u){for(;Pa!==null;){var p=Pa;switch(p.tag){case 0:case 11:case 15:zl(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:jf(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,Pa=y;else e:for(p=l;Pa!==null;){y=Pa;var M=y.sibling,P=y.return;if(K3(y),y===p){Pa=null;break e}if(M!==null){M.return=P,Pa=M;break e}Pa=P}}}var l7={getCacheForType:function(l){var u=Xa(Da),p=u.data.get(l);return p===void 0&&(p=l(),u.data.set(l,p)),p}},c7=typeof WeakMap=="function"?WeakMap:Map,or=0,Dr=null,Tn=null,zn=0,lr=0,Ki=null,ql=!1,ld=!1,r_=!1,nl=0,ta=0,Yl=0,Wc=0,a_=0,ms=0,cd=0,rh=null,Li=null,i_=!1,s_=0,Jm=1/0,eg=null,Wl=null,$a=0,Gl=null,ud=null,dd=0,o_=0,l_=null,iM=null,ah=0,c_=null;function Qi(){if((or&2)!==0&&zn!==0)return zn&-zn;if(F.T!==null){var l=Xu;return l!==0?l:g_()}return $t()}function sM(){ms===0&&(ms=(zn&536870912)===0||Xn?it():536870912);var l=ps.current;return l!==null&&(l.flags|=32),ms}function Zi(l,u,p){(l===Dr&&(lr===2||lr===9)||l.cancelPendingCommit!==null)&&(fd(l,0),Kl(l,zn,ms,!1)),Xt(l,p),((or&2)===0||l!==Dr)&&(l===Dr&&((or&2)===0&&(Wc|=p),ta===4&&Kl(l,zn,ms,!1)),uo(l))}function oM(l,u,p){if((or&6)!==0)throw Error(r(327));var y=!p&&(u&124)===0&&(u&l.expiredLanes)===0||hn(l,u),M=y?f7(l,u):f_(l,u,!0),P=y;do{if(M===0){ld&&!y&&Kl(l,u,0,!1);break}else{if(p=l.current.alternate,P&&!u7(p)){M=f_(l,u,!1),P=!1;continue}if(M===2){if(P=u,l.errorRecoveryDisabledLanes&P)var G=0;else G=l.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){u=G;e:{var X=l;M=rh;var ie=X.current.memoizedState.isDehydrated;if(ie&&(fd(X,G).flags|=256),G=f_(X,G,!1),G!==2){if(r_&&!ie){X.errorRecoveryDisabledLanes|=P,Wc|=P,M=4;break e}P=Li,Li=M,P!==null&&(Li===null?Li=P:Li.push.apply(Li,P))}M=G}if(P=!1,M!==2)continue}}if(M===1){fd(l,0),Kl(l,u,0,!0);break}e:{switch(y=l,P=M,P){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Kl(y,u,ms,!ql);break e;case 2:Li=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(M=s_+300-nt(),10<M)){if(Kl(y,u,ms,!ql),dt(y,0,!0)!==0)break e;y.timeoutHandle=IM(lM.bind(null,y,p,Li,eg,i_,u,ms,Wc,cd,ql,P,2,-0,0),M);break e}lM(y,p,Li,eg,i_,u,ms,Wc,cd,ql,P,0,-0,0)}}break}while(!0);uo(l)}function lM(l,u,p,y,M,P,G,X,ie,we,Ne,Be,Ce,De){if(l.timeoutHandle=-1,Be=u.subtreeFlags,(Be&8192||(Be&16785408)===16785408)&&(dh={stylesheets:null,count:0,unsuspend:q7},tM(u),Be=W7(),Be!==null)){l.cancelPendingCommit=Be(mM.bind(null,l,u,P,p,y,M,G,X,ie,Ne,1,Ce,De)),Kl(l,P,G,!we);return}mM(l,u,P,p,y,M,G,X,ie)}function u7(l){for(var u=l;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var M=p[y],P=M.getSnapshot;M=M.value;try{if(!qi(P(),M))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Kl(l,u,p,y){u&=~a_,u&=~Wc,l.suspendedLanes|=u,l.pingedLanes&=~u,y&&(l.warmLanes|=u),y=l.expirationTimes;for(var M=u;0<M;){var P=31-rt(M),G=1<<P;y[P]=-1,M&=~G}p!==0&&rn(l,p,u)}function tg(){return(or&6)===0?(ih(0),!1):!0}function u_(){if(Tn!==null){if(lr===0)var l=Tn.return;else l=Tn,Go=$c=null,Mb(l),ad=null,Kf=0,l=Tn;for(;l!==null;)$3(l.alternate,l),l=l.return;Tn=null}}function fd(l,u){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,T7(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),u_(),Dr=l,Tn=p=qo(l.current,null),zn=u,lr=0,Ki=null,ql=!1,ld=hn(l,u),r_=!1,cd=ms=a_=Wc=Yl=ta=0,Li=rh=null,i_=!1,(u&8)!==0&&(u|=u&32);var y=l.entangledLanes;if(y!==0)for(l=l.entanglements,y&=u;0<y;){var M=31-rt(y),P=1<<M;u|=l[M],y&=~P}return nl=u,Cm(),p}function cM(l,u){_n=null,F.H=zm,u===Bf||u===Om?(u=EE(),lr=3):u===CE?(u=EE(),lr=4):lr=u===M3?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ki=u,Tn===null&&(ta=1,Wm(l,us(u,l.current)))}function uM(){var l=F.H;return F.H=zm,l===null?zm:l}function dM(){var l=F.A;return F.A=l7,l}function d_(){ta=4,ql||(zn&4194048)!==zn&&ps.current!==null||(ld=!0),(Yl&134217727)===0&&(Wc&134217727)===0||Dr===null||Kl(Dr,zn,ms,!1)}function f_(l,u,p){var y=or;or|=2;var M=uM(),P=dM();(Dr!==l||zn!==u)&&(eg=null,fd(l,u)),u=!1;var G=ta;e:do try{if(lr!==0&&Tn!==null){var X=Tn,ie=Ki;switch(lr){case 8:u_(),G=6;break e;case 3:case 2:case 9:case 6:ps.current===null&&(u=!0);var we=lr;if(lr=0,Ki=null,hd(l,X,ie,we),p&&ld){G=0;break e}break;default:we=lr,lr=0,Ki=null,hd(l,X,ie,we)}}d7(),G=ta;break}catch(Ne){cM(l,Ne)}while(!0);return u&&l.shellSuspendCounter++,Go=$c=null,or=y,F.H=M,F.A=P,Tn===null&&(Dr=null,zn=0,Cm()),G}function d7(){for(;Tn!==null;)fM(Tn)}function f7(l,u){var p=or;or|=2;var y=uM(),M=dM();Dr!==l||zn!==u?(eg=null,Jm=nt()+500,fd(l,u)):ld=hn(l,u);e:do try{if(lr!==0&&Tn!==null){u=Tn;var P=Ki;t:switch(lr){case 1:lr=0,Ki=null,hd(l,u,P,1);break;case 2:case 9:if(DE(P)){lr=0,Ki=null,hM(u);break}u=function(){lr!==2&&lr!==9||Dr!==l||(lr=7),uo(l)},P.then(u,u);break e;case 3:lr=7;break e;case 4:lr=5;break e;case 7:DE(P)?(lr=0,Ki=null,hM(u)):(lr=0,Ki=null,hd(l,u,P,7));break;case 5:var G=null;switch(Tn.tag){case 26:G=Tn.memoizedState;case 5:case 27:var X=Tn;if(!G||GM(G)){lr=0,Ki=null;var ie=X.sibling;if(ie!==null)Tn=ie;else{var we=X.return;we!==null?(Tn=we,ng(we)):Tn=null}break t}}lr=0,Ki=null,hd(l,u,P,5);break;case 6:lr=0,Ki=null,hd(l,u,P,6);break;case 8:u_(),ta=6;break e;default:throw Error(r(462))}}h7();break}catch(Ne){cM(l,Ne)}while(!0);return Go=$c=null,F.H=y,F.A=M,or=p,Tn!==null?0:(Dr=null,zn=0,Cm(),ta)}function h7(){for(;Tn!==null&&!Xe();)fM(Tn)}function fM(l){var u=U3(l.alternate,l,nl);l.memoizedProps=l.pendingProps,u===null?ng(l):Tn=u}function hM(l){var u=l,p=u.alternate;switch(u.tag){case 15:case 0:u=L3(p,u,u.pendingProps,u.type,void 0,zn);break;case 11:u=L3(p,u,u.pendingProps,u.type.render,u.ref,zn);break;case 5:Mb(u);default:$3(p,u),u=Tn=pE(u,nl),u=U3(p,u,nl)}l.memoizedProps=l.pendingProps,u===null?ng(l):Tn=u}function hd(l,u,p,y){Go=$c=null,Mb(u),ad=null,Kf=0;var M=u.return;try{if(n7(l,M,u,p,zn)){ta=1,Wm(l,us(p,l.current)),Tn=null;return}}catch(P){if(M!==null)throw Tn=M,P;ta=1,Wm(l,us(p,l.current)),Tn=null;return}u.flags&32768?(Xn||y===1?l=!0:ld||(zn&536870912)!==0?l=!1:(ql=l=!0,(y===2||y===9||y===3||y===6)&&(y=ps.current,y!==null&&y.tag===13&&(y.flags|=16384))),pM(u,l)):ng(u)}function ng(l){var u=l;do{if((u.flags&32768)!==0){pM(u,ql);return}l=u.return;var p=a7(u.alternate,u,nl);if(p!==null){Tn=p;return}if(u=u.sibling,u!==null){Tn=u;return}Tn=u=l}while(u!==null);ta===0&&(ta=5)}function pM(l,u){do{var p=i7(l.alternate,l);if(p!==null){p.flags&=32767,Tn=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(l=l.sibling,l!==null)){Tn=l;return}Tn=l=p}while(l!==null);ta=6,Tn=null}function mM(l,u,p,y,M,P,G,X,ie){l.cancelPendingCommit=null;do rg();while($a!==0);if((or&6)!==0)throw Error(r(327));if(u!==null){if(u===l.current)throw Error(r(177));if(P=u.lanes|u.childLanes,P|=nb,bt(l,p,P,G,X,ie),l===Dr&&(Tn=Dr=null,zn=0),ud=u,Gl=l,dd=p,o_=P,l_=M,iM=y,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,y7(_t,function(){return _M(),null})):(l.callbackNode=null,l.callbackPriority=0),y=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||y){y=F.T,F.T=null,M=V.p,V.p=2,G=or,or|=4;try{s7(l,u,p)}finally{or=G,V.p=M,F.T=y}}$a=1,gM(),yM(),vM()}}function gM(){if($a===1){$a=0;var l=Gl,u=ud,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=F.T,F.T=null;var y=V.p;V.p=2;var M=or;or|=4;try{X3(u,l);var P=D_,G=aE(l.containerInfo),X=P.focusedElem,ie=P.selectionRange;if(G!==X&&X&&X.ownerDocument&&rE(X.ownerDocument.documentElement,X)){if(ie!==null&&Z1(X)){var we=ie.start,Ne=ie.end;if(Ne===void 0&&(Ne=we),"selectionStart"in X)X.selectionStart=we,X.selectionEnd=Math.min(Ne,X.value.length);else{var Be=X.ownerDocument||document,Ce=Be&&Be.defaultView||window;if(Ce.getSelection){var De=Ce.getSelection(),Qt=X.textContent.length,Bt=Math.min(ie.start,Qt),gr=ie.end===void 0?Bt:Math.min(ie.end,Qt);!De.extend&&Bt>gr&&(G=gr,gr=Bt,Bt=G);var ve=nE(X,Bt),he=nE(X,gr);if(ve&&he&&(De.rangeCount!==1||De.anchorNode!==ve.node||De.anchorOffset!==ve.offset||De.focusNode!==he.node||De.focusOffset!==he.offset)){var _e=Be.createRange();_e.setStart(ve.node,ve.offset),De.removeAllRanges(),Bt>gr?(De.addRange(_e),De.extend(he.node,he.offset)):(_e.setEnd(he.node,he.offset),De.addRange(_e))}}}}for(Be=[],De=X;De=De.parentNode;)De.nodeType===1&&Be.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<Be.length;X++){var Ie=Be[X];Ie.element.scrollLeft=Ie.left,Ie.element.scrollTop=Ie.top}}mg=!!C_,D_=C_=null}finally{or=M,V.p=y,F.T=p}}l.current=u,$a=2}}function yM(){if($a===2){$a=0;var l=Gl,u=ud,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=F.T,F.T=null;var y=V.p;V.p=2;var M=or;or|=4;try{G3(l,u.alternate,u)}finally{or=M,V.p=y,F.T=p}}$a=3}}function vM(){if($a===4||$a===3){$a=0,ot();var l=Gl,u=ud,p=dd,y=iM;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?$a=5:($a=0,ud=Gl=null,bM(l,l.pendingLanes));var M=l.pendingLanes;if(M===0&&(Wl=null),mn(p),u=u.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(be,u,void 0,(u.current.flags&128)===128)}catch{}if(y!==null){u=F.T,M=V.p,V.p=2,F.T=null;try{for(var P=l.onRecoverableError,G=0;G<y.length;G++){var X=y[G];P(X.value,{componentStack:X.stack})}}finally{F.T=u,V.p=M}}(dd&3)!==0&&rg(),uo(l),M=l.pendingLanes,(p&4194090)!==0&&(M&42)!==0?l===c_?ah++:(ah=0,c_=l):ah=0,ih(0)}}function bM(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,jf(u)))}function rg(l){return gM(),yM(),vM(),_M()}function _M(){if($a!==5)return!1;var l=Gl,u=o_;o_=0;var p=mn(dd),y=F.T,M=V.p;try{V.p=32>p?32:p,F.T=null,p=l_,l_=null;var P=Gl,G=dd;if($a=0,ud=Gl=null,dd=0,(or&6)!==0)throw Error(r(331));var X=or;if(or|=4,rM(P.current),eM(P,P.current,G,p),or=X,ih(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(be,P)}catch{}return!0}finally{V.p=M,F.T=y,bM(l,u)}}function wM(l,u,p){u=us(p,u),u=$b(l.stateNode,u,2),l=jl(l,u,2),l!==null&&(Xt(l,2),uo(l))}function vr(l,u,p){if(l.tag===3)wM(l,l,p);else for(;u!==null;){if(u.tag===3){wM(u,l,p);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Wl===null||!Wl.has(y))){l=us(p,l),p=S3(2),y=jl(u,p,2),y!==null&&(E3(p,y,u,l),Xt(y,2),uo(y));break}}u=u.return}}function h_(l,u,p){var y=l.pingCache;if(y===null){y=l.pingCache=new c7;var M=new Set;y.set(u,M)}else M=y.get(u),M===void 0&&(M=new Set,y.set(u,M));M.has(p)||(r_=!0,M.add(p),l=p7.bind(null,l,u,p),u.then(l,l))}function p7(l,u,p){var y=l.pingCache;y!==null&&y.delete(u),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,Dr===l&&(zn&p)===p&&(ta===4||ta===3&&(zn&62914560)===zn&&300>nt()-s_?(or&2)===0&&fd(l,0):a_|=p,cd===zn&&(cd=0)),uo(l)}function xM(l,u){u===0&&(u=kt()),l=Gu(l,u),l!==null&&(Xt(l,u),uo(l))}function m7(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),xM(l,p)}function g7(l,u){var p=0;switch(l.tag){case 13:var y=l.stateNode,M=l.memoizedState;M!==null&&(p=M.retryLane);break;case 19:y=l.stateNode;break;case 22:y=l.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(u),xM(l,p)}function y7(l,u){return $e(l,u)}var ag=null,pd=null,p_=!1,ig=!1,m_=!1,Gc=0;function uo(l){l!==pd&&l.next===null&&(pd===null?ag=pd=l:pd=pd.next=l),ig=!0,p_||(p_=!0,b7())}function ih(l,u){if(!m_&&ig){m_=!0;do for(var p=!1,y=ag;y!==null;){if(l!==0){var M=y.pendingLanes;if(M===0)var P=0;else{var G=y.suspendedLanes,X=y.pingedLanes;P=(1<<31-rt(42|l)+1)-1,P&=M&~(G&~X),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(p=!0,EM(y,P))}else P=zn,P=dt(y,y===Dr?P:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(P&3)===0||hn(y,P)||(p=!0,EM(y,P));y=y.next}while(p);m_=!1}}function v7(){CM()}function CM(){ig=p_=!1;var l=0;Gc!==0&&(M7()&&(l=Gc),Gc=0);for(var u=nt(),p=null,y=ag;y!==null;){var M=y.next,P=DM(y,u);P===0?(y.next=null,p===null?ag=M:p.next=M,M===null&&(pd=p)):(p=y,(l!==0||(P&3)!==0)&&(ig=!0)),y=M}ih(l)}function DM(l,u){for(var p=l.suspendedLanes,y=l.pingedLanes,M=l.expirationTimes,P=l.pendingLanes&-62914561;0<P;){var G=31-rt(P),X=1<<G,ie=M[G];ie===-1?((X&p)===0||(X&y)!==0)&&(M[G]=Re(X,u)):ie<=u&&(l.expiredLanes|=X),P&=~X}if(u=Dr,p=zn,p=dt(l,l===u?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y=l.callbackNode,p===0||l===u&&(lr===2||lr===9)||l.cancelPendingCommit!==null)return y!==null&&y!==null&&ze(y),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||hn(l,p)){if(u=p&-p,u===l.callbackPriority)return u;switch(y!==null&&ze(y),mn(p)){case 2:case 8:p=ut;break;case 32:p=_t;break;case 268435456:p=st;break;default:p=_t}return y=SM.bind(null,l),p=$e(p,y),l.callbackPriority=u,l.callbackNode=p,u}return y!==null&&y!==null&&ze(y),l.callbackPriority=2,l.callbackNode=null,2}function SM(l,u){if($a!==0&&$a!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(rg()&&l.callbackNode!==p)return null;var y=zn;return y=dt(l,l===Dr?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y===0?null:(oM(l,y,u),DM(l,nt()),l.callbackNode!=null&&l.callbackNode===p?SM.bind(null,l):null)}function EM(l,u){if(rg())return null;oM(l,u,!0)}function b7(){k7(function(){(or&6)!==0?$e(Nt,v7):CM()})}function g_(){return Gc===0&&(Gc=it()),Gc}function MM(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Ua(""+l)}function TM(l,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,l.id&&p.setAttribute("form",l.id),u.parentNode.insertBefore(p,u),l=new FormData(l),p.parentNode.removeChild(p),l}function _7(l,u,p,y,M){if(u==="submit"&&p&&p.stateNode===M){var P=MM((M[Fn]||null).action),G=y.submitter;G&&(u=(u=G[Fn]||null)?MM(u.formAction):G.getAttribute("formAction"),u!==null&&(P=u,G=null));var X=new Q("action","action",null,y,M);l.push({event:X,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Gc!==0){var ie=G?TM(M,G):new FormData(M);Ib(p,{pending:!0,data:ie,method:M.method,action:P},null,ie)}}else typeof P=="function"&&(X.preventDefault(),ie=G?TM(M,G):new FormData(M),Ib(p,{pending:!0,data:ie,method:M.method,action:P},P,ie))},currentTarget:M}]})}}for(var y_=0;y_<tb.length;y_++){var v_=tb[y_],w7=v_.toLowerCase(),x7=v_[0].toUpperCase()+v_.slice(1);$s(w7,"on"+x7)}$s(oE,"onAnimationEnd"),$s(lE,"onAnimationIteration"),$s(cE,"onAnimationStart"),$s("dblclick","onDoubleClick"),$s("focusin","onFocus"),$s("focusout","onBlur"),$s(UF,"onTransitionRun"),$s(BF,"onTransitionStart"),$s($F,"onTransitionCancel"),$s(uE,"onTransitionEnd"),Et("onMouseEnter",["mouseout","mouseover"]),Et("onMouseLeave",["mouseout","mouseover"]),Et("onPointerEnter",["pointerout","pointerover"]),Et("onPointerLeave",["pointerout","pointerover"]),Ve("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ve("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ve("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ve("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ve("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ve("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sh));function kM(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var y=l[p],M=y.event;y=y.listeners;e:{var P=void 0;if(u)for(var G=y.length-1;0<=G;G--){var X=y[G],ie=X.instance,we=X.currentTarget;if(X=X.listener,ie!==P&&M.isPropagationStopped())break e;P=X,M.currentTarget=we;try{P(M)}catch(Ne){Ym(Ne)}M.currentTarget=null,P=ie}else for(G=0;G<y.length;G++){if(X=y[G],ie=X.instance,we=X.currentTarget,X=X.listener,ie!==P&&M.isPropagationStopped())break e;P=X,M.currentTarget=we;try{P(M)}catch(Ne){Ym(Ne)}M.currentTarget=null,P=ie}}}}function kn(l,u){var p=u[fi];p===void 0&&(p=u[fi]=new Set);var y=l+"__bubble";p.has(y)||(RM(u,l,2,!1),p.add(y))}function b_(l,u,p){var y=0;u&&(y|=4),RM(p,l,y,u)}var sg="_reactListening"+Math.random().toString(36).slice(2);function __(l){if(!l[sg]){l[sg]=!0,Qe.forEach(function(p){p!=="selectionchange"&&(C7.has(p)||b_(p,!1,l),b_(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[sg]||(u[sg]=!0,b_("selectionchange",!1,u))}}function RM(l,u,p,y){switch(eT(u)){case 2:var M=Q7;break;case 8:M=Z7;break;default:M=N_}p=M.bind(null,u,p,l),M=void 0,!Jr||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(M=!0),y?M!==void 0?l.addEventListener(u,p,{capture:!0,passive:M}):l.addEventListener(u,p,!0):M!==void 0?l.addEventListener(u,p,{passive:M}):l.addEventListener(u,p,!1)}function w_(l,u,p,y,M){var P=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var G=y.tag;if(G===3||G===4){var X=y.stateNode.containerInfo;if(X===M)break;if(G===4)for(G=y.return;G!==null;){var ie=G.tag;if((ie===3||ie===4)&&G.stateNode.containerInfo===M)return;G=G.return}for(;X!==null;){if(G=Ut(X),G===null)return;if(ie=G.tag,ie===5||ie===6||ie===26||ie===27){y=P=G;continue e}X=X.parentNode}}y=y.return}Za(function(){var we=P,Ne=mi(p),Be=[];e:{var Ce=dE.get(l);if(Ce!==void 0){var De=Q,Qt=l;switch(l){case"keypress":if(cs(p)===0)break e;case"keydown":case"keyup":De=Ct;break;case"focusin":Qt="focus",De=yi;break;case"focusout":Qt="blur",De=yi;break;case"beforeblur":case"afterblur":De=yi;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=Ht;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=Lr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=oa;break;case oE:case lE:case cE:De=Oc;break;case uE:De=Hr;break;case"scroll":case"scrollend":De=ge;break;case"wheel":De=ki;break;case"copy":case"cut":case"paste":De=kf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=yr;break;case"toggle":case"beforetoggle":De=io}var Bt=(u&4)!==0,gr=!Bt&&(l==="scroll"||l==="scrollend"),ve=Bt?Ce!==null?Ce+"Capture":null:Ce;Bt=[];for(var he=we,_e;he!==null;){var Ie=he;if(_e=Ie.stateNode,Ie=Ie.tag,Ie!==5&&Ie!==26&&Ie!==27||_e===null||ve===null||(Ie=sa(he,ve),Ie!=null&&Bt.push(oh(he,Ie,_e))),gr)break;he=he.return}0<Bt.length&&(Ce=new De(Ce,Qt,null,p,Ne),Be.push({event:Ce,listeners:Bt}))}}if((u&7)===0){e:{if(Ce=l==="mouseover"||l==="pointerover",De=l==="mouseout"||l==="pointerout",Ce&&p!==pi&&(Qt=p.relatedTarget||p.fromElement)&&(Ut(Qt)||Qt[Br]))break e;if((De||Ce)&&(Ce=Ne.window===Ne?Ne:(Ce=Ne.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,De?(Qt=p.relatedTarget||p.toElement,De=we,Qt=Qt?Ut(Qt):null,Qt!==null&&(gr=i(Qt),Bt=Qt.tag,Qt!==gr||Bt!==5&&Bt!==27&&Bt!==6)&&(Qt=null)):(De=null,Qt=we),De!==Qt)){if(Bt=Ht,Ie="onMouseLeave",ve="onMouseEnter",he="mouse",(l==="pointerout"||l==="pointerover")&&(Bt=yr,Ie="onPointerLeave",ve="onPointerEnter",he="pointer"),gr=De==null?Ce:te(De),_e=Qt==null?Ce:te(Qt),Ce=new Bt(Ie,he+"leave",De,p,Ne),Ce.target=gr,Ce.relatedTarget=_e,Ie=null,Ut(Ne)===we&&(Bt=new Bt(ve,he+"enter",Qt,p,Ne),Bt.target=_e,Bt.relatedTarget=gr,Ie=Bt),gr=Ie,De&&Qt)t:{for(Bt=De,ve=Qt,he=0,_e=Bt;_e;_e=md(_e))he++;for(_e=0,Ie=ve;Ie;Ie=md(Ie))_e++;for(;0<he-_e;)Bt=md(Bt),he--;for(;0<_e-he;)ve=md(ve),_e--;for(;he--;){if(Bt===ve||ve!==null&&Bt===ve.alternate)break t;Bt=md(Bt),ve=md(ve)}Bt=null}else Bt=null;De!==null&&AM(Be,Ce,De,Bt,!1),Qt!==null&&gr!==null&&AM(Be,gr,Qt,Bt,!0)}}e:{if(Ce=we?te(we):window,De=Ce.nodeName&&Ce.nodeName.toLowerCase(),De==="select"||De==="input"&&Ce.type==="file")var xt=Q2;else if(G2(Ce))if(Z2)xt=IF;else{xt=NF;var Dn=LF}else De=Ce.nodeName,!De||De.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?we&&Zr(we.elementType)&&(xt=Q2):xt=PF;if(xt&&(xt=xt(l,we))){K2(Be,xt,p,Ne);break e}Dn&&Dn(l,Ce,we),l==="focusout"&&we&&Ce.type==="number"&&we.memoizedProps.value!=null&&Cr(Ce,"number",Ce.value)}switch(Dn=we?te(we):window,l){case"focusin":(G2(Dn)||Dn.contentEditable==="true")&&(qu=Dn,X1=we,Lf=null);break;case"focusout":Lf=X1=qu=null;break;case"mousedown":J1=!0;break;case"contextmenu":case"mouseup":case"dragend":J1=!1,iE(Be,p,Ne);break;case"selectionchange":if(jF)break;case"keydown":case"keyup":iE(Be,p,Ne)}var At;if(Bs)e:{switch(l){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else Vu?Y2(l,p)&&(Vt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(Vt="onCompositionStart");Vt&&(Lc&&p.locale!=="ko"&&(Vu||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Vu&&(At=Vo()):(gi=Ne,ro="value"in gi?gi.value:gi.textContent,Vu=!0)),Dn=og(we,Vt),0<Dn.length&&(Vt=new wm(Vt,l,null,p,Ne),Be.push({event:Vt,listeners:Dn}),At?Vt.data=At:(At=W2(p),At!==null&&(Vt.data=At)))),(At=Hu?kF(l,p):RF(l,p))&&(Vt=og(we,"onBeforeInput"),0<Vt.length&&(Dn=new wm("onBeforeInput","beforeinput",null,p,Ne),Be.push({event:Dn,listeners:Vt}),Dn.data=At)),_7(Be,l,we,p,Ne)}kM(Be,u)})}function oh(l,u,p){return{instance:l,listener:u,currentTarget:p}}function og(l,u){for(var p=u+"Capture",y=[];l!==null;){var M=l,P=M.stateNode;if(M=M.tag,M!==5&&M!==26&&M!==27||P===null||(M=sa(l,p),M!=null&&y.unshift(oh(l,M,P)),M=sa(l,u),M!=null&&y.push(oh(l,M,P))),l.tag===3)return y;l=l.return}return[]}function md(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function AM(l,u,p,y,M){for(var P=u._reactName,G=[];p!==null&&p!==y;){var X=p,ie=X.alternate,we=X.stateNode;if(X=X.tag,ie!==null&&ie===y)break;X!==5&&X!==26&&X!==27||we===null||(ie=we,M?(we=sa(p,P),we!=null&&G.unshift(oh(p,we,ie))):M||(we=sa(p,P),we!=null&&G.push(oh(p,we,ie)))),p=p.return}G.length!==0&&l.push({event:u,listeners:G})}var D7=/\r\n?/g,S7=/\u0000|\uFFFD/g;function OM(l){return(typeof l=="string"?l:""+l).replace(D7,`
`).replace(S7,"")}function LM(l,u){return u=OM(u),OM(l)===u}function lg(){}function mr(l,u,p,y,M,P){switch(p){case"children":typeof y=="string"?u==="body"||u==="textarea"&&y===""||sn(l,y):(typeof y=="number"||typeof y=="bigint")&&u!=="body"&&sn(l,""+y);break;case"className":zt(l,"class",y);break;case"tabIndex":zt(l,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":zt(l,p,y);break;case"style":In(l,y,P);break;case"data":if(u!=="object"){zt(l,"data",y);break}case"src":case"href":if(y===""&&(u!=="a"||p!=="href")){l.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(p);break}y=Ua(""+y),l.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(p==="formAction"?(u!=="input"&&mr(l,u,"name",M.name,M,null),mr(l,u,"formEncType",M.formEncType,M,null),mr(l,u,"formMethod",M.formMethod,M,null),mr(l,u,"formTarget",M.formTarget,M,null)):(mr(l,u,"encType",M.encType,M,null),mr(l,u,"method",M.method,M,null),mr(l,u,"target",M.target,M,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(p);break}y=Ua(""+y),l.setAttribute(p,y);break;case"onClick":y!=null&&(l.onclick=lg);break;case"onScroll":y!=null&&kn("scroll",l);break;case"onScrollEnd":y!=null&&kn("scrollend",l);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(M.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"multiple":l.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":l.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){l.removeAttribute("xlink:href");break}p=Ua(""+y),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,""+y):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":y===!0?l.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,y):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?l.setAttribute(p,y):l.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?l.removeAttribute(p):l.setAttribute(p,y);break;case"popover":kn("beforetoggle",l),kn("toggle",l),Pt(l,"popover",y);break;case"xlinkActuate":Gt(l,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Gt(l,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Gt(l,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Gt(l,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Gt(l,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Gt(l,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Gt(l,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Gt(l,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Gt(l,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Pt(l,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=hr.get(p)||p,Pt(l,p,y))}}function x_(l,u,p,y,M,P){switch(p){case"style":In(l,y,P);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(M.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"children":typeof y=="string"?sn(l,y):(typeof y=="number"||typeof y=="bigint")&&sn(l,""+y);break;case"onScroll":y!=null&&kn("scroll",l);break;case"onScrollEnd":y!=null&&kn("scrollend",l);break;case"onClick":y!=null&&(l.onclick=lg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qe.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(M=p.endsWith("Capture"),u=p.slice(2,M?p.length-7:void 0),P=l[Fn]||null,P=P!=null?P[p]:null,typeof P=="function"&&l.removeEventListener(u,P,M),typeof y=="function")){typeof P!="function"&&P!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(u,y,M);break e}p in l?l[p]=y:y===!0?l.setAttribute(p,""):Pt(l,p,y)}}}function za(l,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kn("error",l),kn("load",l);var y=!1,M=!1,P;for(P in p)if(p.hasOwnProperty(P)){var G=p[P];if(G!=null)switch(P){case"src":y=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:mr(l,u,P,G,p,null)}}M&&mr(l,u,"srcSet",p.srcSet,p,null),y&&mr(l,u,"src",p.src,p,null);return;case"input":kn("invalid",l);var X=P=G=M=null,ie=null,we=null;for(y in p)if(p.hasOwnProperty(y)){var Ne=p[y];if(Ne!=null)switch(y){case"name":M=Ne;break;case"type":G=Ne;break;case"checked":ie=Ne;break;case"defaultChecked":we=Ne;break;case"value":P=Ne;break;case"defaultValue":X=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(r(137,u));break;default:mr(l,u,y,Ne,p,null)}}Ga(l,P,X,ie,we,G,M,!1),Aa(l);return;case"select":kn("invalid",l),y=G=P=null;for(M in p)if(p.hasOwnProperty(M)&&(X=p[M],X!=null))switch(M){case"value":P=X;break;case"defaultValue":G=X;break;case"multiple":y=X;default:mr(l,u,M,X,p,null)}u=P,p=G,l.multiple=!!y,u!=null?se(l,!!y,u,!1):p!=null&&se(l,!!y,p,!0);return;case"textarea":kn("invalid",l),P=M=y=null;for(G in p)if(p.hasOwnProperty(G)&&(X=p[G],X!=null))switch(G){case"value":y=X;break;case"defaultValue":M=X;break;case"children":P=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(91));break;default:mr(l,u,G,X,p,null)}ft(l,y,M,P),Aa(l);return;case"option":for(ie in p)if(p.hasOwnProperty(ie)&&(y=p[ie],y!=null))switch(ie){case"selected":l.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:mr(l,u,ie,y,p,null)}return;case"dialog":kn("beforetoggle",l),kn("toggle",l),kn("cancel",l),kn("close",l);break;case"iframe":case"object":kn("load",l);break;case"video":case"audio":for(y=0;y<sh.length;y++)kn(sh[y],l);break;case"image":kn("error",l),kn("load",l);break;case"details":kn("toggle",l);break;case"embed":case"source":case"link":kn("error",l),kn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in p)if(p.hasOwnProperty(we)&&(y=p[we],y!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:mr(l,u,we,y,p,null)}return;default:if(Zr(u)){for(Ne in p)p.hasOwnProperty(Ne)&&(y=p[Ne],y!==void 0&&x_(l,u,Ne,y,p,void 0));return}}for(X in p)p.hasOwnProperty(X)&&(y=p[X],y!=null&&mr(l,u,X,y,p,null))}function E7(l,u,p,y){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,P=null,G=null,X=null,ie=null,we=null,Ne=null;for(De in p){var Be=p[De];if(p.hasOwnProperty(De)&&Be!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":ie=Be;default:y.hasOwnProperty(De)||mr(l,u,De,null,y,Be)}}for(var Ce in y){var De=y[Ce];if(Be=p[Ce],y.hasOwnProperty(Ce)&&(De!=null||Be!=null))switch(Ce){case"type":P=De;break;case"name":M=De;break;case"checked":we=De;break;case"defaultChecked":Ne=De;break;case"value":G=De;break;case"defaultValue":X=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,u));break;default:De!==Be&&mr(l,u,Ce,De,y,Be)}}Oa(l,G,X,ie,we,Ne,P,M);return;case"select":De=G=X=Ce=null;for(P in p)if(ie=p[P],p.hasOwnProperty(P)&&ie!=null)switch(P){case"value":break;case"multiple":De=ie;default:y.hasOwnProperty(P)||mr(l,u,P,null,y,ie)}for(M in y)if(P=y[M],ie=p[M],y.hasOwnProperty(M)&&(P!=null||ie!=null))switch(M){case"value":Ce=P;break;case"defaultValue":X=P;break;case"multiple":G=P;default:P!==ie&&mr(l,u,M,P,y,ie)}u=X,p=G,y=De,Ce!=null?se(l,!!p,Ce,!1):!!y!=!!p&&(u!=null?se(l,!!p,u,!0):se(l,!!p,p?[]:"",!1));return;case"textarea":De=Ce=null;for(X in p)if(M=p[X],p.hasOwnProperty(X)&&M!=null&&!y.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:mr(l,u,X,null,y,M)}for(G in y)if(M=y[G],P=p[G],y.hasOwnProperty(G)&&(M!=null||P!=null))switch(G){case"value":Ce=M;break;case"defaultValue":De=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:M!==P&&mr(l,u,G,M,y,P)}mt(l,Ce,De);return;case"option":for(var Qt in p)if(Ce=p[Qt],p.hasOwnProperty(Qt)&&Ce!=null&&!y.hasOwnProperty(Qt))switch(Qt){case"selected":l.selected=!1;break;default:mr(l,u,Qt,null,y,Ce)}for(ie in y)if(Ce=y[ie],De=p[ie],y.hasOwnProperty(ie)&&Ce!==De&&(Ce!=null||De!=null))switch(ie){case"selected":l.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:mr(l,u,ie,Ce,y,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in p)Ce=p[Bt],p.hasOwnProperty(Bt)&&Ce!=null&&!y.hasOwnProperty(Bt)&&mr(l,u,Bt,null,y,Ce);for(we in y)if(Ce=y[we],De=p[we],y.hasOwnProperty(we)&&Ce!==De&&(Ce!=null||De!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(137,u));break;default:mr(l,u,we,Ce,y,De)}return;default:if(Zr(u)){for(var gr in p)Ce=p[gr],p.hasOwnProperty(gr)&&Ce!==void 0&&!y.hasOwnProperty(gr)&&x_(l,u,gr,void 0,y,Ce);for(Ne in y)Ce=y[Ne],De=p[Ne],!y.hasOwnProperty(Ne)||Ce===De||Ce===void 0&&De===void 0||x_(l,u,Ne,Ce,y,De);return}}for(var ve in p)Ce=p[ve],p.hasOwnProperty(ve)&&Ce!=null&&!y.hasOwnProperty(ve)&&mr(l,u,ve,null,y,Ce);for(Be in y)Ce=y[Be],De=p[Be],!y.hasOwnProperty(Be)||Ce===De||Ce==null&&De==null||mr(l,u,Be,Ce,y,De)}var C_=null,D_=null;function cg(l){return l.nodeType===9?l:l.ownerDocument}function NM(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function PM(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function S_(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var E_=null;function M7(){var l=window.event;return l&&l.type==="popstate"?l===E_?!1:(E_=l,!0):(E_=null,!1)}var IM=typeof setTimeout=="function"?setTimeout:void 0,T7=typeof clearTimeout=="function"?clearTimeout:void 0,FM=typeof Promise=="function"?Promise:void 0,k7=typeof queueMicrotask=="function"?queueMicrotask:typeof FM<"u"?function(l){return FM.resolve(null).then(l).catch(R7)}:IM;function R7(l){setTimeout(function(){throw l})}function Ql(l){return l==="head"}function jM(l,u){var p=u,y=0,M=0;do{var P=p.nextSibling;if(l.removeChild(p),P&&P.nodeType===8)if(p=P.data,p==="/$"){if(0<y&&8>y){p=y;var G=l.ownerDocument;if(p&1&&lh(G.documentElement),p&2&&lh(G.body),p&4)for(p=G.head,lh(p),G=p.firstChild;G;){var X=G.nextSibling,ie=G.nodeName;G[Le]||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&G.rel.toLowerCase()==="stylesheet"||p.removeChild(G),G=X}}if(M===0){l.removeChild(P),gh(u);return}M--}else p==="$"||p==="$?"||p==="$!"?M++:y=p.charCodeAt(0)-48;else y=0;p=P}while(p);gh(u)}function M_(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":M_(p),lt(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function A7(l,u,p,y){for(;l.nodeType===1;){var M=p;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!y&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(y){if(!l[Le])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(P=l.getAttribute("rel"),P==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(P!==M.rel||l.getAttribute("href")!==(M.href==null||M.href===""?null:M.href)||l.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||l.getAttribute("title")!==(M.title==null?null:M.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(P=l.getAttribute("src"),(P!==(M.src==null?null:M.src)||l.getAttribute("type")!==(M.type==null?null:M.type)||l.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&P&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var P=M.name==null?null:""+M.name;if(M.type==="hidden"&&l.getAttribute("name")===P)return l}else return l;if(l=Hs(l.nextSibling),l===null)break}return null}function O7(l,u,p){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=Hs(l.nextSibling),l===null))return null;return l}function T_(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function L7(l,u){var p=l.ownerDocument;if(l.data!=="$?"||p.readyState==="complete")u();else{var y=function(){u(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),l._reactRetry=y}}function Hs(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return l}var k_=null;function UM(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return l;u--}else p==="/$"&&u++}l=l.previousSibling}return null}function BM(l,u,p){switch(u=cg(p),l){case"html":if(l=u.documentElement,!l)throw Error(r(452));return l;case"head":if(l=u.head,!l)throw Error(r(453));return l;case"body":if(l=u.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function lh(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);lt(l)}var gs=new Map,$M=new Set;function ug(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var rl=V.d;V.d={f:N7,r:P7,D:I7,C:F7,L:j7,m:U7,X:$7,S:B7,M:z7};function N7(){var l=rl.f(),u=tg();return l||u}function P7(l){var u=Lt(l);u!==null&&u.tag===5&&u.type==="form"?o3(u):rl.r(l)}var gd=typeof document>"u"?null:document;function zM(l,u,p){var y=gd;if(y&&typeof u=="string"&&u){var M=sr(u);M='link[rel="'+l+'"][href="'+M+'"]',typeof p=="string"&&(M+='[crossorigin="'+p+'"]'),$M.has(M)||($M.add(M),l={rel:l,crossOrigin:p,href:u},y.querySelector(M)===null&&(u=y.createElement("link"),za(u,"link",l),xe(u),y.head.appendChild(u)))}}function I7(l){rl.D(l),zM("dns-prefetch",l,null)}function F7(l,u){rl.C(l,u),zM("preconnect",l,u)}function j7(l,u,p){rl.L(l,u,p);var y=gd;if(y&&l&&u){var M='link[rel="preload"][as="'+sr(u)+'"]';u==="image"&&p&&p.imageSrcSet?(M+='[imagesrcset="'+sr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(M+='[imagesizes="'+sr(p.imageSizes)+'"]')):M+='[href="'+sr(l)+'"]';var P=M;switch(u){case"style":P=yd(l);break;case"script":P=vd(l)}gs.has(P)||(l=f({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:l,as:u},p),gs.set(P,l),y.querySelector(M)!==null||u==="style"&&y.querySelector(ch(P))||u==="script"&&y.querySelector(uh(P))||(u=y.createElement("link"),za(u,"link",l),xe(u),y.head.appendChild(u)))}}function U7(l,u){rl.m(l,u);var p=gd;if(p&&l){var y=u&&typeof u.as=="string"?u.as:"script",M='link[rel="modulepreload"][as="'+sr(y)+'"][href="'+sr(l)+'"]',P=M;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=vd(l)}if(!gs.has(P)&&(l=f({rel:"modulepreload",href:l},u),gs.set(P,l),p.querySelector(M)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(uh(P)))return}y=p.createElement("link"),za(y,"link",l),xe(y),p.head.appendChild(y)}}}function B7(l,u,p){rl.S(l,u,p);var y=gd;if(y&&l){var M=re(y).hoistableStyles,P=yd(l);u=u||"default";var G=M.get(P);if(!G){var X={loading:0,preload:null};if(G=y.querySelector(ch(P)))X.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":u},p),(p=gs.get(P))&&R_(l,p);var ie=G=y.createElement("link");xe(ie),za(ie,"link",l),ie._p=new Promise(function(we,Ne){ie.onload=we,ie.onerror=Ne}),ie.addEventListener("load",function(){X.loading|=1}),ie.addEventListener("error",function(){X.loading|=2}),X.loading|=4,dg(G,u,y)}G={type:"stylesheet",instance:G,count:1,state:X},M.set(P,G)}}}function $7(l,u){rl.X(l,u);var p=gd;if(p&&l){var y=re(p).hoistableScripts,M=vd(l),P=y.get(M);P||(P=p.querySelector(uh(M)),P||(l=f({src:l,async:!0},u),(u=gs.get(M))&&A_(l,u),P=p.createElement("script"),xe(P),za(P,"link",l),p.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},y.set(M,P))}}function z7(l,u){rl.M(l,u);var p=gd;if(p&&l){var y=re(p).hoistableScripts,M=vd(l),P=y.get(M);P||(P=p.querySelector(uh(M)),P||(l=f({src:l,async:!0,type:"module"},u),(u=gs.get(M))&&A_(l,u),P=p.createElement("script"),xe(P),za(P,"link",l),p.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},y.set(M,P))}}function HM(l,u,p,y){var M=(M=fe.current)?ug(M):null;if(!M)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=yd(p.href),p=re(M).hoistableStyles,y=p.get(u),y||(y={type:"style",instance:null,count:0,state:null},p.set(u,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=yd(p.href);var P=re(M).hoistableStyles,G=P.get(l);if(G||(M=M.ownerDocument||M,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(l,G),(P=M.querySelector(ch(l)))&&!P._p&&(G.instance=P,G.state.loading=5),gs.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},gs.set(l,p),P||H7(M,l,p,G.state))),u&&y===null)throw Error(r(528,""));return G}if(u&&y!==null)throw Error(r(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=vd(p),p=re(M).hoistableScripts,y=p.get(u),y||(y={type:"script",instance:null,count:0,state:null},p.set(u,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function yd(l){return'href="'+sr(l)+'"'}function ch(l){return'link[rel="stylesheet"]['+l+"]"}function VM(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function H7(l,u,p,y){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?y.loading=1:(u=l.createElement("link"),y.preload=u,u.addEventListener("load",function(){return y.loading|=1}),u.addEventListener("error",function(){return y.loading|=2}),za(u,"link",p),xe(u),l.head.appendChild(u))}function vd(l){return'[src="'+sr(l)+'"]'}function uh(l){return"script[async]"+l}function qM(l,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var y=l.querySelector('style[data-href~="'+sr(p.href)+'"]');if(y)return u.instance=y,xe(y),y;var M=f({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(l.ownerDocument||l).createElement("style"),xe(y),za(y,"style",M),dg(y,p.precedence,l),u.instance=y;case"stylesheet":M=yd(p.href);var P=l.querySelector(ch(M));if(P)return u.state.loading|=4,u.instance=P,xe(P),P;y=VM(p),(M=gs.get(M))&&R_(y,M),P=(l.ownerDocument||l).createElement("link"),xe(P);var G=P;return G._p=new Promise(function(X,ie){G.onload=X,G.onerror=ie}),za(P,"link",y),u.state.loading|=4,dg(P,p.precedence,l),u.instance=P;case"script":return P=vd(p.src),(M=l.querySelector(uh(P)))?(u.instance=M,xe(M),M):(y=p,(M=gs.get(P))&&(y=f({},p),A_(y,M)),l=l.ownerDocument||l,M=l.createElement("script"),xe(M),za(M,"link",y),l.head.appendChild(M),u.instance=M);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(y=u.instance,u.state.loading|=4,dg(y,p.precedence,l));return u.instance}function dg(l,u,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=y.length?y[y.length-1]:null,P=M,G=0;G<y.length;G++){var X=y[G];if(X.dataset.precedence===u)P=X;else if(P!==M)break}P?P.parentNode.insertBefore(l,P.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(l,u.firstChild))}function R_(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function A_(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var fg=null;function YM(l,u,p){if(fg===null){var y=new Map,M=fg=new Map;M.set(p,y)}else M=fg,y=M.get(p),y||(y=new Map,M.set(p,y));if(y.has(l))return y;for(y.set(l,null),p=p.getElementsByTagName(l),M=0;M<p.length;M++){var P=p[M];if(!(P[Le]||P[nn]||l==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var G=P.getAttribute(u)||"";G=l+G;var X=y.get(G);X?X.push(P):y.set(G,[P])}}return y}function WM(l,u,p){l=l.ownerDocument||l,l.head.insertBefore(p,u==="title"?l.querySelector("head > title"):null)}function V7(l,u,p){if(p===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function GM(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var dh=null;function q7(){}function Y7(l,u,p){if(dh===null)throw Error(r(475));var y=dh;if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var M=yd(p.href),P=l.querySelector(ch(M));if(P){l=P._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(y.count++,y=hg.bind(y),l.then(y,y)),u.state.loading|=4,u.instance=P,xe(P);return}P=l.ownerDocument||l,p=VM(p),(M=gs.get(M))&&R_(p,M),P=P.createElement("link"),xe(P);var G=P;G._p=new Promise(function(X,ie){G.onload=X,G.onerror=ie}),za(P,"link",p),u.instance=P}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(y.count++,u=hg.bind(y),l.addEventListener("load",u),l.addEventListener("error",u))}}function W7(){if(dh===null)throw Error(r(475));var l=dh;return l.stylesheets&&l.count===0&&O_(l,l.stylesheets),0<l.count?function(u){var p=setTimeout(function(){if(l.stylesheets&&O_(l,l.stylesheets),l.unsuspend){var y=l.unsuspend;l.unsuspend=null,y()}},6e4);return l.unsuspend=u,function(){l.unsuspend=null,clearTimeout(p)}}:null}function hg(){if(this.count--,this.count===0){if(this.stylesheets)O_(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var pg=null;function O_(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,pg=new Map,u.forEach(G7,l),pg=null,hg.call(l))}function G7(l,u){if(!(u.state.loading&4)){var p=pg.get(l);if(p)var y=p.get(null);else{p=new Map,pg.set(l,p);for(var M=l.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<M.length;P++){var G=M[P];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(p.set(G.dataset.precedence,G),y=G)}y&&p.set(null,y)}M=u.instance,G=M.getAttribute("data-precedence"),P=p.get(G)||y,P===y&&p.set(null,M),p.set(G,M),this.count++,y=hg.bind(this),M.addEventListener("load",y),M.addEventListener("error",y),P?P.parentNode.insertBefore(M,P.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(M,l.firstChild)),u.state.loading|=4}}var fh={$$typeof:R,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function K7(l,u,p,y,M,P,G,X){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=et(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=et(0),this.hiddenUpdates=et(null),this.identifierPrefix=y,this.onUncaughtError=M,this.onCaughtError=P,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function KM(l,u,p,y,M,P,G,X,ie,we,Ne,Be){return l=new K7(l,u,p,G,X,ie,we,Be),u=1,P===!0&&(u|=24),P=Yi(3,null,null,u),l.current=P,P.stateNode=l,u=hb(),u.refCount++,l.pooledCache=u,u.refCount++,P.memoizedState={element:y,isDehydrated:p,cache:u},yb(P),l}function QM(l){return l?(l=Ku,l):Ku}function ZM(l,u,p,y,M,P){M=QM(M),y.context===null?y.context=M:y.pendingContext=M,y=Fl(u),y.payload={element:p},P=P===void 0?null:P,P!==null&&(y.callback=P),p=jl(l,y,u),p!==null&&(Zi(p,l,u),zf(p,l,u))}function XM(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function L_(l,u){XM(l,u),(l=l.alternate)&&XM(l,u)}function JM(l){if(l.tag===13){var u=Gu(l,67108864);u!==null&&Zi(u,l,67108864),L_(l,67108864)}}var mg=!0;function Q7(l,u,p,y){var M=F.T;F.T=null;var P=V.p;try{V.p=2,N_(l,u,p,y)}finally{V.p=P,F.T=M}}function Z7(l,u,p,y){var M=F.T;F.T=null;var P=V.p;try{V.p=8,N_(l,u,p,y)}finally{V.p=P,F.T=M}}function N_(l,u,p,y){if(mg){var M=P_(y);if(M===null)w_(l,u,y,gg,p),tT(l,y);else if(J7(M,l,u,p,y))y.stopPropagation();else if(tT(l,y),u&4&&-1<X7.indexOf(l)){for(;M!==null;){var P=Lt(M);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var G=en(P.pendingLanes);if(G!==0){var X=P;for(X.pendingLanes|=2,X.entangledLanes|=2;G;){var ie=1<<31-rt(G);X.entanglements[1]|=ie,G&=~ie}uo(P),(or&6)===0&&(Jm=nt()+500,ih(0))}}break;case 13:X=Gu(P,2),X!==null&&Zi(X,P,2),tg(),L_(P,2)}if(P=P_(y),P===null&&w_(l,u,y,gg,p),P===M)break;M=P}M!==null&&y.stopPropagation()}else w_(l,u,y,null,p)}}function P_(l){return l=mi(l),I_(l)}var gg=null;function I_(l){if(gg=null,l=Ut(l),l!==null){var u=i(l);if(u===null)l=null;else{var p=u.tag;if(p===13){if(l=s(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return gg=l,null}function eT(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(St()){case Nt:return 2;case ut:return 8;case _t:case wt:return 32;case st:return 268435456;default:return 32}default:return 32}}var F_=!1,Zl=null,Xl=null,Jl=null,hh=new Map,ph=new Map,ec=[],X7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tT(l,u){switch(l){case"focusin":case"focusout":Zl=null;break;case"dragenter":case"dragleave":Xl=null;break;case"mouseover":case"mouseout":Jl=null;break;case"pointerover":case"pointerout":hh.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":ph.delete(u.pointerId)}}function mh(l,u,p,y,M,P){return l===null||l.nativeEvent!==P?(l={blockedOn:u,domEventName:p,eventSystemFlags:y,nativeEvent:P,targetContainers:[M]},u!==null&&(u=Lt(u),u!==null&&JM(u)),l):(l.eventSystemFlags|=y,u=l.targetContainers,M!==null&&u.indexOf(M)===-1&&u.push(M),l)}function J7(l,u,p,y,M){switch(u){case"focusin":return Zl=mh(Zl,l,u,p,y,M),!0;case"dragenter":return Xl=mh(Xl,l,u,p,y,M),!0;case"mouseover":return Jl=mh(Jl,l,u,p,y,M),!0;case"pointerover":var P=M.pointerId;return hh.set(P,mh(hh.get(P)||null,l,u,p,y,M)),!0;case"gotpointercapture":return P=M.pointerId,ph.set(P,mh(ph.get(P)||null,l,u,p,y,M)),!0}return!1}function nT(l){var u=Ut(l.target);if(u!==null){var p=i(u);if(p!==null){if(u=p.tag,u===13){if(u=s(p),u!==null){l.blockedOn=u,pt(l.priority,function(){if(p.tag===13){var y=Qi();y=Gn(y);var M=Gu(p,y);M!==null&&Zi(M,p,y),L_(p,y)}});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function yg(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=P_(l.nativeEvent);if(p===null){p=l.nativeEvent;var y=new p.constructor(p.type,p);pi=y,p.target.dispatchEvent(y),pi=null}else return u=Lt(p),u!==null&&JM(u),l.blockedOn=p,!1;u.shift()}return!0}function rT(l,u,p){yg(l)&&p.delete(u)}function e9(){F_=!1,Zl!==null&&yg(Zl)&&(Zl=null),Xl!==null&&yg(Xl)&&(Xl=null),Jl!==null&&yg(Jl)&&(Jl=null),hh.forEach(rT),ph.forEach(rT)}function vg(l,u){l.blockedOn===u&&(l.blockedOn=null,F_||(F_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,e9)))}var bg=null;function aT(l){bg!==l&&(bg=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){bg===l&&(bg=null);for(var u=0;u<l.length;u+=3){var p=l[u],y=l[u+1],M=l[u+2];if(typeof y!="function"){if(I_(y||p)===null)continue;break}var P=Lt(p);P!==null&&(l.splice(u,3),u-=3,Ib(P,{pending:!0,data:M,method:p.method,action:y},y,M))}}))}function gh(l){function u(ie){return vg(ie,l)}Zl!==null&&vg(Zl,l),Xl!==null&&vg(Xl,l),Jl!==null&&vg(Jl,l),hh.forEach(u),ph.forEach(u);for(var p=0;p<ec.length;p++){var y=ec[p];y.blockedOn===l&&(y.blockedOn=null)}for(;0<ec.length&&(p=ec[0],p.blockedOn===null);)nT(p),p.blockedOn===null&&ec.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var M=p[y],P=p[y+1],G=M[Fn]||null;if(typeof P=="function")G||aT(p);else if(G){var X=null;if(P&&P.hasAttribute("formAction")){if(M=P,G=P[Fn]||null)X=G.formAction;else if(I_(M)!==null)continue}else X=G.action;typeof X=="function"?p[y+1]=X:(p.splice(y,3),y-=3),aT(p)}}}function j_(l){this._internalRoot=l}_g.prototype.render=j_.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));var p=u.current,y=Qi();ZM(p,y,l,u,null,null)},_g.prototype.unmount=j_.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;ZM(l.current,2,null,l,null,null),tg(),u[Br]=null}};function _g(l){this._internalRoot=l}_g.prototype.unstable_scheduleHydration=function(l){if(l){var u=$t();l={blockedOn:null,target:l,priority:u};for(var p=0;p<ec.length&&u!==0&&u<ec[p].priority;p++);ec.splice(p,0,l),p===0&&nT(l)}};var iT=t.version;if(iT!=="19.1.0")throw Error(r(527,iT,"19.1.0"));V.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=c(u),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var t9={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wg.isDisabled&&wg.supportsFiber)try{be=wg.inject(t9),ke=wg}catch{}}return vh.createRoot=function(l,u){if(!a(l))throw Error(r(299));var p=!1,y="",M=w3,P=x3,G=C3,X=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(M=u.onUncaughtError),u.onCaughtError!==void 0&&(P=u.onCaughtError),u.onRecoverableError!==void 0&&(G=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(X=u.unstable_transitionCallbacks)),u=KM(l,1,!1,null,null,p,y,M,P,G,X,null),l[Br]=u.current,__(l),new j_(u)},vh.hydrateRoot=function(l,u,p){if(!a(l))throw Error(r(299));var y=!1,M="",P=w3,G=x3,X=C3,ie=null,we=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(M=p.identifierPrefix),p.onUncaughtError!==void 0&&(P=p.onUncaughtError),p.onCaughtError!==void 0&&(G=p.onCaughtError),p.onRecoverableError!==void 0&&(X=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(ie=p.unstable_transitionCallbacks),p.formState!==void 0&&(we=p.formState)),u=KM(l,1,!0,u,p??null,y,M,P,G,X,ie,we),u.context=QM(null),p=u.current,y=Qi(),y=Gn(y),M=Fl(y),M.callback=null,jl(p,M,y),p=y,u.current.lanes=p,Xt(u,p),uo(u),l[Br]=u.current,__(l),new _g(u)},vh.version="19.1.0",vh}var mT;function p9(){if(mT)return $_.exports;mT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$_.exports=h9(),$_.exports}var m9=p9();const g9=Or(m9);var xg={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var gT;function y9(){if(gT)return xg;gT=1,xg.parse=s,xg.serialize=d;var e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,r=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/;function s(g,b){if(typeof g!="string")throw new TypeError("argument str must be a string");var _={},w=g.length;if(w<2)return _;var x=b&&b.decode||f,k=0,R=0,I=0;do{if(R=g.indexOf("=",k),R===-1)break;if(I=g.indexOf(";",k),I===-1)I=w;else if(R>I){k=g.lastIndexOf(";",R-1)+1;continue}var O=o(g,k,R),A=c(g,R,O),L=g.slice(O,A);if(!t.call(_,L)){var C=o(g,R+1,I),T=c(g,I,C);g.charCodeAt(C)===34&&g.charCodeAt(T-1)===34&&(C++,T--);var S=g.slice(C,T);_[L]=m(S,x)}k=I+1}while(k<w);return _}function o(g,b,_){do{var w=g.charCodeAt(b);if(w!==32&&w!==9)return b}while(++b<_);return _}function c(g,b,_){for(;b>_;){var w=g.charCodeAt(--b);if(w!==32&&w!==9)return b+1}return _}function d(g,b,_){var w=_&&_.encode||encodeURIComponent;if(typeof w!="function")throw new TypeError("option encode is invalid");if(!n.test(g))throw new TypeError("argument name is invalid");var x=w(b);if(!r.test(x))throw new TypeError("argument val is invalid");var k=g+"="+x;if(!_)return k;if(_.maxAge!=null){var R=Math.floor(_.maxAge);if(!isFinite(R))throw new TypeError("option maxAge is invalid");k+="; Max-Age="+R}if(_.domain){if(!a.test(_.domain))throw new TypeError("option domain is invalid");k+="; Domain="+_.domain}if(_.path){if(!i.test(_.path))throw new TypeError("option path is invalid");k+="; Path="+_.path}if(_.expires){var I=_.expires;if(!h(I)||isNaN(I.valueOf()))throw new TypeError("option expires is invalid");k+="; Expires="+I.toUTCString()}if(_.httpOnly&&(k+="; HttpOnly"),_.secure&&(k+="; Secure"),_.partitioned&&(k+="; Partitioned"),_.priority){var O=typeof _.priority=="string"?_.priority.toLowerCase():_.priority;switch(O){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(_.sameSite){var A=typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite;switch(A){case!0:k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"strict":k+="; SameSite=Strict";break;case"none":k+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return k}function f(g){return g.indexOf("%")!==-1?decodeURIComponent(g):g}function h(g){return e.call(g)==="[object Date]"}function m(g,b){try{return b(g)}catch{return g}}return xg}y9();var yT="popstate";function v9(e={}){function t(a,i){let{pathname:s="/",search:o="",hash:c=""}=Ru(a.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),$x("",{pathname:s,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){let s=a.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let c=a.location.href,d=c.indexOf("#");o=d===-1?c:c.slice(0,d)}return o+"#"+(typeof i=="string"?i:_p(i))}function r(a,i){is(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return _9(t,n,r,e)}function Fr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function is(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function b9(){return Math.random().toString(36).substring(2,10)}function vT(e,t){return{usr:e.state,key:e.key,idx:t}}function $x(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ru(t):t,state:n,key:t&&t.key||r||b9()}}function _p({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ru(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function _9(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,o="POP",c=null,d=f();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function f(){return(s.state||{idx:null}).idx}function h(){o="POP";let w=f(),x=w==null?null:w-d;d=w,c&&c({action:o,location:_.location,delta:x})}function m(w,x){o="PUSH";let k=$x(_.location,w,x);n&&n(k,w),d=f()+1;let R=vT(k,d),I=_.createHref(k);try{s.pushState(R,"",I)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(I)}i&&c&&c({action:o,location:_.location,delta:1})}function g(w,x){o="REPLACE";let k=$x(_.location,w,x);n&&n(k,w),d=f();let R=vT(k,d),I=_.createHref(k);s.replaceState(R,"",I),i&&c&&c({action:o,location:_.location,delta:0})}function b(w){return w9(w)}let _={get action(){return o},get location(){return e(a,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(yT,h),c=w,()=>{a.removeEventListener(yT,h),c=null}},createHref(w){return t(a,w)},createURL:b,encodeLocation(w){let x=b(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:g,go(w){return s.go(w)}};return _}function w9(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Fr(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:_p(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function CL(e,t,n="/"){return x9(e,t,n,!1)}function x9(e,t,n,r){let a=typeof t=="string"?Ru(t):t,i=Dl(a.pathname||"/",n);if(i==null)return null;let s=DL(e);C9(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let d=N9(i);o=O9(s[c],d,r)}return o}function DL(e,t=[],n=[],r=""){let a=(i,s,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(Fr(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=gl([r,c.relativePath]),f=n.concat(c);i.children&&i.children.length>0&&(Fr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),DL(i.children,t,f,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:R9(d,i.index),routesMeta:f})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let c of SL(i.path))a(i,s,c)}),t}function SL(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let s=SL(r.join("/")),o=[];return o.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function C9(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:A9(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var D9=/^:[\w-]+$/,S9=3,E9=2,M9=1,T9=10,k9=-2,bT=e=>e==="*";function R9(e,t){let n=e.split("/"),r=n.length;return n.some(bT)&&(r+=k9),t&&(r+=E9),n.filter(a=>!bT(a)).reduce((a,i)=>a+(D9.test(i)?S9:i===""?M9:T9),r)}function A9(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function O9(e,t,n=!1){let{routesMeta:r}=e,a={},i="/",s=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=tv({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),m=c.route;if(!h&&d&&n&&!r[r.length-1].route.index&&(h=tv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(a,h.params),s.push({params:a,pathname:gl([i,h.pathname]),pathnameBase:j9(gl([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=gl([i,h.pathnameBase]))}return s}function tv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=L9(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:h},m)=>{if(f==="*"){let b=o[m]||"";s=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=o[m];return h&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:s,pattern:e}}function L9(e,t=!1,n=!0){is(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function N9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return is(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Dl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function P9(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Ru(e):e;return{pathname:n?n.startsWith("/")?n:I9(n,t):t,search:U9(r),hash:B9(a)}}function I9(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function q_(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F9(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _D(e){let t=F9(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function wD(e,t,n,r=!1){let a;typeof e=="string"?a=Ru(e):(a={...e},Fr(!a.pathname||!a.pathname.includes("?"),q_("?","pathname","search",a)),Fr(!a.pathname||!a.pathname.includes("#"),q_("#","pathname","hash",a)),Fr(!a.search||!a.search.includes("#"),q_("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=n;else{let h=t.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}o=h>=0?t[h]:"/"}let c=P9(a,o),d=s&&s!=="/"&&s.endsWith("/"),f=(i||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var gl=e=>e.join("/").replace(/\/\/+/g,"/"),j9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,B9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var EL=["POST","PUT","PATCH","DELETE"];new Set(EL);var z9=["GET",...EL];new Set(z9);var pf=E.createContext(null);pf.displayName="DataRouter";var W0=E.createContext(null);W0.displayName="DataRouterState";var ML=E.createContext({isTransitioning:!1});ML.displayName="ViewTransition";var H9=E.createContext(new Map);H9.displayName="Fetchers";var V9=E.createContext(null);V9.displayName="Await";var Js=E.createContext(null);Js.displayName="Navigation";var Yp=E.createContext(null);Yp.displayName="Location";var jo=E.createContext({outlet:null,matches:[],isDataRoute:!1});jo.displayName="Route";var xD=E.createContext(null);xD.displayName="RouteError";function q9(e,{relative:t}={}){Fr(mf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(Js),{hash:a,pathname:i,search:s}=Wp(e,{relative:t}),o=i;return n!=="/"&&(o=i==="/"?n:gl([n,i])),r.createHref({pathname:o,search:s,hash:a})}function mf(){return E.useContext(Yp)!=null}function Rl(){return Fr(mf(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Yp).location}var TL="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kL(e){E.useContext(Js).static||E.useLayoutEffect(e)}function gf(){let{isDataRoute:e}=E.useContext(jo);return e?aj():Y9()}function Y9(){Fr(mf(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(pf),{basename:t,navigator:n}=E.useContext(Js),{matches:r}=E.useContext(jo),{pathname:a}=Rl(),i=JSON.stringify(_D(r)),s=E.useRef(!1);return kL(()=>{s.current=!0}),E.useCallback((c,d={})=>{if(is(s.current,TL),!s.current)return;if(typeof c=="number"){n.go(c);return}let f=wD(c,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:gl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,a,e])}E.createContext(null);function Wp(e,{relative:t}={}){let{matches:n}=E.useContext(jo),{pathname:r}=Rl(),a=JSON.stringify(_D(n));return E.useMemo(()=>wD(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function W9(e,t){return RL(e,t)}function RL(e,t,n,r){var x;Fr(mf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=E.useContext(Js),{matches:i}=E.useContext(jo),s=i[i.length-1],o=s?s.params:{},c=s?s.pathname:"/",d=s?s.pathnameBase:"/",f=s&&s.route;{let k=f&&f.path||"";AL(c,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let h=Rl(),m;if(t){let k=typeof t=="string"?Ru(t):t;Fr(d==="/"||((x=k.pathname)==null?void 0:x.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${k.pathname}" was given in the \`location\` prop.`),m=k}else m=h;let g=m.pathname||"/",b=g;if(d!=="/"){let k=d.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=CL(e,{pathname:b});is(f||_!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),is(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=X9(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},o,k.params),pathname:gl([d,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:gl([d,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n,r);return t&&w?E.createElement(Yp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},w):w}function G9(){let e=rj(),t=$9(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:i},"ErrorBoundary")," or"," ",E.createElement("code",{style:i},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:a},n):null,s)}var K9=E.createElement(G9,null),Q9=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?E.createElement(jo.Provider,{value:this.props.routeContext},E.createElement(xD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Z9({routeContext:e,match:t,children:n}){let r=E.useContext(pf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(jo.Provider,{value:e},n)}function X9(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=n==null?void 0:n.errors;if(i!=null){let c=a.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);Fr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let s=!1,o=-1;if(n)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(o=c),d.route.id){let{loaderData:f,errors:h}=n,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){s=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}return a.reduceRight((c,d,f)=>{let h,m=!1,g=null,b=null;n&&(h=i&&d.route.id?i[d.route.id]:void 0,g=d.route.errorElement||K9,s&&(o<0&&f===0?(AL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):o===f&&(m=!0,b=d.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,f+1)),w=()=>{let x;return h?x=g:m?x=b:d.route.Component?x=E.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=c,E.createElement(Z9,{match:d,routeContext:{outlet:c,matches:_,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?E.createElement(Q9,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}function CD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J9(e){let t=E.useContext(pf);return Fr(t,CD(e)),t}function ej(e){let t=E.useContext(W0);return Fr(t,CD(e)),t}function tj(e){let t=E.useContext(jo);return Fr(t,CD(e)),t}function DD(e){let t=tj(e),n=t.matches[t.matches.length-1];return Fr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function nj(){return DD("useRouteId")}function rj(){var r;let e=E.useContext(xD),t=ej("useRouteError"),n=DD("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function aj(){let{router:e}=J9("useNavigate"),t=DD("useNavigate"),n=E.useRef(!1);return kL(()=>{n.current=!0}),E.useCallback(async(a,i={})=>{is(n.current,TL),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var _T={};function AL(e,t,n){!t&&!_T[e]&&(_T[e]=!0,is(!1,n))}E.memo(ij);function ij({routes:e,future:t,state:n}){return RL(e,void 0,n,t)}function Cg({to:e,replace:t,state:n,relative:r}){Fr(mf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=E.useContext(Js);is(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=E.useContext(jo),{pathname:s}=Rl(),o=gf(),c=wD(e,_D(i),s,r==="path"),d=JSON.stringify(c);return E.useEffect(()=>{o(JSON.parse(d),{replace:t,state:n,relative:r})},[o,d,r,t,n]),null}function lc(e){Fr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sj({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:i=!1}){Fr(!mf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=E.useMemo(()=>({basename:s,navigator:a,static:i,future:{}}),[s,a,i]);typeof n=="string"&&(n=Ru(n));let{pathname:c="/",search:d="",hash:f="",state:h=null,key:m="default"}=n,g=E.useMemo(()=>{let b=Dl(c,s);return b==null?null:{location:{pathname:b,search:d,hash:f,state:h,key:m},navigationType:r}},[s,c,d,f,h,m,r]);return is(g!=null,`<Router basename="${s}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:E.createElement(Js.Provider,{value:o},E.createElement(Yp.Provider,{children:t,value:g}))}function wT({children:e,location:t}){return W9(zx(e),t)}function zx(e,t=[]){let n=[];return E.Children.forEach(e,(r,a)=>{if(!E.isValidElement(r))return;let i=[...t,a];if(r.type===E.Fragment){n.push.apply(n,zx(r.props.children,i));return}Fr(r.type===lc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=zx(r.props.children,i)),n.push(s)}),n}var uy="get",dy="application/x-www-form-urlencoded";function G0(e){return e!=null&&typeof e.tagName=="string"}function oj(e){return G0(e)&&e.tagName.toLowerCase()==="button"}function lj(e){return G0(e)&&e.tagName.toLowerCase()==="form"}function cj(e){return G0(e)&&e.tagName.toLowerCase()==="input"}function uj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dj(e,t){return e.button===0&&(!t||t==="_self")&&!uj(e)}function Hx(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function fj(e,t){let n=Hx(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}var Dg=null;function hj(){if(Dg===null)try{new FormData(document.createElement("form"),0),Dg=!1}catch{Dg=!0}return Dg}var pj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Y_(e){return e!=null&&!pj.has(e)?(is(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dy}"`),null):e}function mj(e,t){let n,r,a,i,s;if(lj(e)){let o=e.getAttribute("action");r=o?Dl(o,t):null,n=e.getAttribute("method")||uy,a=Y_(e.getAttribute("enctype"))||dy,i=new FormData(e)}else if(oj(e)||cj(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(r=c?Dl(c,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||uy,a=Y_(e.getAttribute("formenctype"))||Y_(o.getAttribute("enctype"))||dy,i=new FormData(o,e),!hj()){let{name:d,type:f,value:h}=e;if(f==="image"){let m=d?`${d}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else d&&i.append(d,h)}}else{if(G0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uy,r=null,a=dy,s=e}return i&&a==="text/plain"&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:s}}function SD(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function gj(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function vj(e,t,n){let r=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let s=await gj(i,n);return s.links?s.links():[]}return[]}));return xj(r.flat(1).filter(yj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function xT(e,t,n,r,a,i){let s=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,o=(c,d)=>{var f;return n[d].pathname!==c.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,d)=>s(c,d)||o(c,d)):i==="data"?t.filter((c,d)=>{var h;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(s(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function bj(e,t,{includeHydrateFallback:n}={}){return _j(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function _j(e){return[...new Set(e)]}function wj(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function xj(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let i=JSON.stringify(wj(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Cj=new Set([100,101,204,205]);function Dj(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Dl(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function OL(){let e=E.useContext(pf);return SD(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Sj(){let e=E.useContext(W0);return SD(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ED=E.createContext(void 0);ED.displayName="FrameworkContext";function LL(){let e=E.useContext(ED);return SD(e,"You must render this element inside a <HydratedRouter> element"),e}function Ej(e,t){let n=E.useContext(ED),[r,a]=E.useState(!1),[i,s]=E.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:h}=t,m=E.useRef(null);E.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let _=x=>{x.forEach(k=>{s(k.isIntersecting)})},w=new IntersectionObserver(_,{threshold:.5});return m.current&&w.observe(m.current),()=>{w.disconnect()}}},[e]),E.useEffect(()=>{if(r){let _=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(_)}}},[r]);let g=()=>{a(!0)},b=()=>{a(!1),s(!1)};return n?e!=="intent"?[i,m,{}]:[i,m,{onFocus:bh(o,g),onBlur:bh(c,b),onMouseEnter:bh(d,g),onMouseLeave:bh(f,b),onTouchStart:bh(h,g)}]:[!1,m,{}]}function bh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Mj({page:e,...t}){let{router:n}=OL(),r=E.useMemo(()=>CL(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?E.createElement(kj,{page:e,matches:r,...t}):null}function Tj(e){let{manifest:t,routeModules:n}=LL(),[r,a]=E.useState([]);return E.useEffect(()=>{let i=!1;return vj(e,t,n).then(s=>{i||a(s)}),()=>{i=!0}},[e,t,n]),r}function kj({page:e,matches:t,...n}){let r=Rl(),{manifest:a,routeModules:i}=LL(),{basename:s}=OL(),{loaderData:o,matches:c}=Sj(),d=E.useMemo(()=>xT(e,t,c,a,r,"data"),[e,t,c,a,r]),f=E.useMemo(()=>xT(e,t,c,a,r,"assets"),[e,t,c,a,r]),h=E.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,_=!1;if(t.forEach(x=>{var R;let k=a.routes[x.route.id];!k||!k.hasLoader||(!d.some(I=>I.route.id===x.route.id)&&x.route.id in o&&((R=i[x.route.id])!=null&&R.shouldRevalidate)||k.hasClientLoader?_=!0:b.add(x.route.id))}),b.size===0)return[];let w=Dj(e,s);return _&&b.size>0&&w.searchParams.set("_routes",t.filter(x=>b.has(x.route.id)).map(x=>x.route.id).join(",")),[w.pathname+w.search]},[s,o,r,a,d,t,e,i]),m=E.useMemo(()=>bj(f,a),[f,a]),g=Tj(f);return E.createElement(E.Fragment,null,h.map(b=>E.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),m.map(b=>E.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),g.map(({key:b,link:_})=>E.createElement("link",{key:b,..._})))}function Rj(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var NL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NL&&(window.__reactRouterVersion="7.6.1")}catch{}function Aj({basename:e,children:t,window:n}){let r=E.useRef();r.current==null&&(r.current=v9({window:n,v5Compat:!0}));let a=r.current,[i,s]=E.useState({action:a.action,location:a.location}),o=E.useCallback(c=>{E.startTransition(()=>s(c))},[s]);return E.useLayoutEffect(()=>a.listen(o),[a,o]),E.createElement(sj,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var PL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IL=E.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:s,state:o,target:c,to:d,preventScrollReset:f,viewTransition:h,...m},g){let{basename:b}=E.useContext(Js),_=typeof d=="string"&&PL.test(d),w,x=!1;if(typeof d=="string"&&_&&(w=d,NL))try{let T=new URL(window.location.href),S=d.startsWith("//")?new URL(T.protocol+d):new URL(d),j=Dl(S.pathname,b);S.origin===T.origin&&j!=null?d=j+S.search+S.hash:x=!0}catch{is(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=q9(d,{relative:a}),[R,I,O]=Ej(r,m),A=Pj(d,{replace:s,state:o,target:c,preventScrollReset:f,relative:a,viewTransition:h});function L(T){t&&t(T),T.defaultPrevented||A(T)}let C=E.createElement("a",{...m,...O,href:w||k,onClick:x||i?t:L,ref:Rj(g,I),target:c,"data-discover":!_&&n==="render"?"true":void 0});return R&&!_?E.createElement(E.Fragment,null,C,E.createElement(Mj,{page:k})):C});IL.displayName="Link";var Oj=E.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:s,viewTransition:o,children:c,...d},f){let h=Wp(s,{relative:d.relative}),m=Rl(),g=E.useContext(W0),{navigator:b,basename:_}=E.useContext(Js),w=g!=null&&$j(h)&&o===!0,x=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,k=m.pathname,R=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(k=k.toLowerCase(),R=R?R.toLowerCase():null,x=x.toLowerCase()),R&&_&&(R=Dl(R,_)||R);const I=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let O=k===x||!a&&k.startsWith(x)&&k.charAt(I)==="/",A=R!=null&&(R===x||!a&&R.startsWith(x)&&R.charAt(x.length)==="/"),L={isActive:O,isPending:A,isTransitioning:w},C=O?t:void 0,T;typeof r=="function"?T=r(L):T=[r,O?"active":null,A?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let S=typeof i=="function"?i(L):i;return E.createElement(IL,{...d,"aria-current":C,className:T,ref:f,style:S,to:s,viewTransition:o},typeof c=="function"?c(L):c)});Oj.displayName="NavLink";var Lj=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:i,method:s=uy,action:o,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:h,...m},g)=>{let b=Uj(),_=Bj(o,{relative:d}),w=s.toLowerCase()==="get"?"get":"post",x=typeof o=="string"&&PL.test(o),k=R=>{if(c&&c(R),R.defaultPrevented)return;R.preventDefault();let I=R.nativeEvent.submitter,O=(I==null?void 0:I.getAttribute("formmethod"))||s;b(I||R.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:a,state:i,relative:d,preventScrollReset:f,viewTransition:h})};return E.createElement("form",{ref:g,method:w,action:_,onSubmit:r?c:k,...m,"data-discover":!x&&e==="render"?"true":void 0})});Lj.displayName="Form";function Nj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FL(e){let t=E.useContext(pf);return Fr(t,Nj(e)),t}function Pj(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:s}={}){let o=gf(),c=Rl(),d=Wp(e,{relative:i});return E.useCallback(f=>{if(dj(f,t)){f.preventDefault();let h=n!==void 0?n:_p(c)===_p(d);o(e,{replace:h,state:r,preventScrollReset:a,relative:i,viewTransition:s})}},[c,o,d,n,r,t,e,a,i,s])}function Ij(e){is(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=E.useRef(Hx(e)),n=E.useRef(!1),r=Rl(),a=E.useMemo(()=>fj(r.search,n.current?null:t.current),[r.search]),i=gf(),s=E.useCallback((o,c)=>{const d=Hx(typeof o=="function"?o(a):o);n.current=!0,i("?"+d,c)},[i,a]);return[a,s]}var Fj=0,jj=()=>`__${String(++Fj)}__`;function Uj(){let{router:e}=FL("useSubmit"),{basename:t}=E.useContext(Js),n=nj();return E.useCallback(async(r,a={})=>{let{action:i,method:s,encType:o,formData:c,body:d}=mj(r,t);if(a.navigate===!1){let f=a.fetcherKey||jj();await e.fetch(f,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function Bj(e,{relative:t}={}){let{basename:n}=E.useContext(Js),r=E.useContext(jo);Fr(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...Wp(e||".",{relative:t})},s=Rl();if(e==null){i.search=s.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(f=>f==="")){o.delete("index"),c.filter(h=>h).forEach(h=>o.append("index",h));let f=o.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:gl([n,i.pathname])),_p(i)}function $j(e,t={}){let n=E.useContext(ML);Fr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=FL("useViewTransitionState"),a=Wp(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Dl(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Dl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return tv(a.pathname,s)!=null||tv(a.pathname,i)!=null}[...Cj];var Gp=xL();const K0=Or(Gp);function Q0({gameType:e,size:t=22}){const n={"8 Ball":{emoji:"🎱"},"9 Ball":{color:"#FFD700",number:9},"10 Ball":{color:"#2196F3",number:10}};if(e==="8 Ball")return D.jsx("span",{role:"img","aria-label":"8-ball",style:{fontSize:t,verticalAlign:"middle",marginRight:4},children:n["8 Ball"].emoji});const{color:r,number:a}=n[e]||{};return!r||!a?null:D.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:t,height:t,borderRadius:"50%",background:r,color:"#222",fontWeight:"bold",fontSize:t*.65,border:"2px solid #fff",boxShadow:"0 1px 2px #0003",marginRight:4,verticalAlign:"middle"},"aria-label":`${a}-ball`,children:a})}function os({open:e,onClose:t,children:n,title:r="Modal",maxWidth:a="500px",className:i=""}){const[s,o]=E.useState({x:0,y:0}),[c,d]=E.useState(!1),f=E.useRef({x:0,y:0});E.useEffect(()=>{e&&o({x:0,y:0})},[e]);const h=b=>{d(!0),f.current={x:b.clientX-s.x,y:b.clientY-s.y},document.body.style.userSelect="none"},m=b=>{c&&o({x:b.clientX-f.current.x,y:b.clientY-f.current.y})},g=()=>{d(!1),document.body.style.userSelect=""};return E.useEffect(()=>(c?(window.addEventListener("mousemove",m),window.addEventListener("mouseup",g)):(window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",g)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",g)}),[c]),e?(console.log("DraggableModal maxWidth:",a),D.jsxs("div",{className:"modal-overlay",onClick:t,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(3px)",WebkitBackdropFilter:"blur(3px)"},children:[D.jsxs("div",{className:`draggable-modal ${i}`,style:{transform:`translate(${s.x}px, ${s.y}px)`,cursor:c?"grabbing":"default",background:"linear-gradient(120deg, #232323 80%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:window.innerWidth<=400?"0":"1.2rem",boxShadow:"0 0 32px #e53e3e, 0 0 40px rgba(0,0,0,0.85)",width:window.innerWidth<=400?"100vw":a==="90vw"?"90vw":"auto",maxWidth:window.innerWidth<=400?"100vw":a,minWidth:0,margin:window.innerWidth<=400?"0":"0 auto",left:0,right:0,animation:"modalBounceIn 0.5s cubic-bezier(.21,1.02,.73,1.01)",padding:0,position:"relative",fontFamily:"inherit",boxSizing:"border-box",height:window.innerWidth<=500?"95vh":"auto",maxHeight:window.innerWidth<=500?"95vh":"85vh",display:"flex",flexDirection:"column"},onClick:b=>b.stopPropagation(),role:"dialog","aria-modal":"true","aria-label":r,tabIndex:-1,children:[D.jsxs("div",{className:"modal-header",onMouseDown:h,style:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"#e53e3e",padding:"1.1rem 1.5rem 0.7rem 1.5rem",borderTopLeftRadius:"1.2rem",borderTopRightRadius:"1.2rem",position:"relative",cursor:"grab",userSelect:"none",gap:"1rem"},children:[D.jsx("span",{className:"modal-accent-bar",style:{position:"absolute",left:0,top:0,width:"100%",height:"5px",background:"linear-gradient(90deg, #fff0 0%, #e53e3e 60%, #fff0 100%)",borderTopLeftRadius:"1.2rem",borderTopRightRadius:"1.2rem",pointerEvents:"none"}}),D.jsx("h2",{className:"modal-title",style:{margin:0,fontSize:window.innerWidth<=500?"1.1rem":"1.3rem",fontWeight:"bold",textAlign:"center",letterSpacing:"0.02em",color:"#fff",textShadow:"0 1px 12px #000a",zIndex:2,flex:1,wordBreak:"break-word",minWidth:0},children:r}),D.jsx("button",{className:"modal-close-btn",onClick:t,"aria-label":"Close",style:{background:"none",border:"none",color:"#fff",fontSize:"2em",fontWeight:"bold",cursor:"pointer",zIndex:10,lineHeight:1,transition:"color 0.2s, transform 0.2s",padding:0,marginLeft:"1rem"},onMouseEnter:b=>{b.target.style.color="#ffd6d6",b.target.style.transform="scale(1.2) rotate(10deg)"},onMouseLeave:b=>{b.target.style.color="#fff",b.target.style.transform="scale(1) rotate(0deg)"},children:"×"})]}),D.jsx("div",{className:"modal-content",style:{...window.innerWidth<=500?{flex:"1 1 auto",minHeight:0,overflowY:"auto"}:{overflowY:"auto"},padding:window.innerWidth<=500?"1rem 1rem 0.8rem 1rem":"1.4rem 1.5rem 1.2rem 1.5rem",background:"none"},children:n})]}),D.jsx("style",{jsx:!0,children:`
        @keyframes modalBounceIn {
          0% { opacity: 0; transform: scale(0.95) translateY(-40px);}
          70% { opacity: 1; transform: scale(1.02) translateY(8px);}
          100% { opacity: 1; transform: scale(1) translateY(0);}
        }
        
        @media (max-width: 500px) {
          .draggable-modal {
            max-width: 99vw !important;
            border-radius: 0.7rem !important;
          }
          .modal-header {
            padding: 0.7rem 0.7rem 0.5rem 0.7rem !important;
          }
          .modal-content {
            padding: 1rem 0.6rem 0.8rem 0.6rem !important;
          }
        }
        /* Custom scrollbar for modal-content */
        .modal-content::-webkit-scrollbar {
          width: 10px;
        }
        .modal-content::-webkit-scrollbar-thumb {
          background: #e53e3e;
          border-radius: 6px;
        }
        .modal-content::-webkit-scrollbar-track {
          background: #232323;
          border-radius: 6px;
        }
        .modal-content {
          scrollbar-width: thin;
          scrollbar-color: #e53e3e #232323;
        }
      `})]})):null}function zj(e){if(!e)return"N/A";if(e.includes("-")&&e.length===10){const[i,s,o]=e.split("-"),c=new Date(parseInt(i),parseInt(s)-1,parseInt(o)),d=String(c.getMonth()+1).padStart(2,"0"),f=String(c.getDate()).padStart(2,"0"),h=c.getFullYear();return`${d}-${f}-${h}`}let t;if(e.includes("-"))t=new Date(e);else if(e.includes("/")){const i=e.split("/");if(i.length===3){const[s,o,c]=i;t=new Date(c,s-1,o)}else return e}else return e;if(isNaN(t.getTime()))return e;const n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),a=t.getFullYear();return`${n}-${r}-${a}`}function jL({open:e,message:t,gameType:n,raceLength:r,day:a,date:i,time:s,location:o,proposalNote:c,confirmationNote:d,phase:f,onClose:h}){if(!e)return null;const m=typeof window<"u"&&window.innerWidth<=500,g=m?"100%":"240px",b=m?"90vw":"240px",_=m?"100%":"220px";return D.jsx(os,{open:e,onClose:h,title:"Proposal Sent!",maxWidth:b,width:g,children:D.jsxs("div",{style:{textAlign:"center"},children:[D.jsx("div",{style:{background:"#222",color:"#fff",borderRadius:6,padding:"0.6rem 0.7rem 0.6rem 0.7rem",margin:"0 auto 0.7rem auto",fontWeight:600,fontSize:"0.97rem",textAlign:"center",maxWidth:"220px",width:"100%",wordBreak:"break-word",whiteSpace:"pre-line"},children:t}),D.jsxs("div",{style:{background:"#f8f8f8",color:"#222",borderRadius:8,padding:m?"0.4rem 0.2rem":"0.5rem 0.5rem",margin:"0.7rem auto 0.7rem auto",textAlign:"center",fontSize:m?"0.92rem":"0.95rem",border:"1px solid #ff0000",maxWidth:_,width:"100%"},children:[D.jsxs("div",{style:{marginBottom:6},children:[D.jsx("strong",{children:"Phase:"})," ",f==="scheduled"?"Phase 1 (Scheduled)":f==="challenge"?"Phase 2 (challenge)":f]}),D.jsxs("div",{style:{marginBottom:6},children:[D.jsx("strong",{children:"Game Type:"})," ",D.jsx(Q0,{gameType:n,size:16})," ",n]}),D.jsxs("div",{style:{marginBottom:6},children:[D.jsx("strong",{children:"Race to:"})," ",r]}),D.jsxs("div",{style:{marginBottom:6},children:[D.jsx("strong",{children:"Day:"})," ",a]}),D.jsxs("div",{style:{marginBottom:6},children:[D.jsx("strong",{children:"Date:"})," ",zj(i)]}),D.jsxs("div",{style:{marginBottom:6},children:[D.jsx("strong",{children:"Time:"})," ",s]}),D.jsxs("div",{style:{marginBottom:6},children:[D.jsx("strong",{children:"Location:"})," ",o]}),c&&D.jsxs("div",{style:{marginTop:12,padding:"0.5rem 0.7rem",background:"#fffbe6",borderLeft:"3px solid #ffb300",borderRadius:4,color:"#a36c00",fontSize:"0.97rem"},children:[D.jsx("strong",{children:"Opponent's note:"})," ",c]}),d&&D.jsxs("div",{style:{marginTop:10,padding:"0.5rem 0.7rem",background:"#e6fff0",borderLeft:"3px solid #00b36b",borderRadius:4,color:"#006b3c",fontSize:"0.97rem"},children:[D.jsx("strong",{children:"Your note:"})," ",d]})]}),D.jsx("button",{style:{marginTop:"1.8rem",background:"#ff0000",color:"#fff",border:"none",borderRadius:"8px",padding:"0.7rem 1.5rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer"},onClick:h,children:"Close"})]})})}const wp={_origin:"https://api.emailjs.com"},Hj=(e,t="https://api.emailjs.com")=>{wp._userID=e,wp._origin=t},UL=(e,t,n)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class CT{constructor(t){this.status=t.status,this.text=t.responseText}}const BL=(e,t,n={})=>new Promise((r,a)=>{const i=new XMLHttpRequest;i.addEventListener("load",({target:s})=>{const o=new CT(s);o.status===200||o.text==="OK"?r(o):a(o)}),i.addEventListener("error",({target:s})=>{a(new CT(s))}),i.open("POST",wp._origin+e,!0),Object.keys(n).forEach(s=>{i.setRequestHeader(s,n[s])}),i.send(t)}),Vj=(e,t,n,r)=>{const a=r||wp._userID;return UL(a,e,t),BL("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:a,service_id:e,template_id:t,template_params:n}),{"Content-type":"application/json"})},qj=e=>{let t;if(typeof e=="string"?t=document.querySelector(e):t=e,!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},Yj=(e,t,n,r)=>{const a=r||wp._userID,i=qj(n);UL(a,e,t);const s=new FormData(i);return s.append("lib_version","3.2.0"),s.append("service_id",e),s.append("template_id",t),s.append("user_id",a),BL("/api/v1.0/email/send-form",s)},$L={init:Hj,send:Vj,sendForm:Yj},zL=6048e5,Wj=864e5,Z0=6e4,X0=36e5,Gj=1e3,DT=Symbol.for("constructDateFrom");function fr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&DT in e?e[DT](t):e instanceof Date?new e.constructor(t):new Date(t)}function Mt(e,t){return fr(t||e,e)}function Ys(e,t,n){const r=Mt(e,n==null?void 0:n.in);return isNaN(t)?fr((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Zs(e,t,n){const r=Mt(e,n==null?void 0:n.in);if(isNaN(t))return fr(e,NaN);if(!t)return r;const a=r.getDate(),i=fr(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const s=i.getDate();return a>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function HL(e,t,n){return fr(e,+Mt(e)+t)}function Kj(e,t,n){return HL(e,t*X0)}let Qj={};function Au(){return Qj}function Sl(e,t){var o,c,d,f;const n=Au(),r=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,a=Mt(e,t==null?void 0:t.in),i=a.getDay(),s=(i<r?7:0)+i-r;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function Vd(e,t){return Sl(e,{...t,weekStartsOn:1})}function VL(e,t){const n=Mt(e,t==null?void 0:t.in),r=n.getFullYear(),a=fr(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const i=Vd(a),s=fr(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Vd(s);return n.getTime()>=i.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function nv(e){const t=Mt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Al(e,...t){const n=fr.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function _u(e,t){const n=Mt(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function qd(e,t,n){const[r,a]=Al(n==null?void 0:n.in,e,t),i=_u(r),s=_u(a),o=+i-nv(i),c=+s-nv(s);return Math.round((o-c)/Wj)}function Zj(e,t){const n=VL(e,t),r=fr(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Vd(r)}function Vx(e,t,n){const r=Mt(e,n==null?void 0:n.in);return r.setTime(r.getTime()+t*Z0),r}function MD(e,t,n){return Zs(e,t*3,n)}function Xj(e,t,n){return HL(e,t*1e3)}function rv(e,t,n){return Ys(e,t*7,n)}function yl(e,t,n){return Zs(e,t*12,n)}function ST(e,t){let n,r=t==null?void 0:t.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=fr.bind(null,a));const i=Mt(a,r);(!n||n<i||isNaN(+i))&&(n=i)}),fr(r,n||NaN)}function ET(e,t){let n,r=t==null?void 0:t.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=fr.bind(null,a));const i=Mt(a,r);(!n||n>i||isNaN(+i))&&(n=i)}),fr(r,n||NaN)}function Jj(e,t,n){const[r,a]=Al(n==null?void 0:n.in,e,t);return+_u(r)==+_u(a)}function vl(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function av(e){return!(!vl(e)&&typeof e!="number"||isNaN(+Mt(e)))}function iv(e,t,n){const[r,a]=Al(n==null?void 0:n.in,e,t),i=r.getFullYear()-a.getFullYear(),s=r.getMonth()-a.getMonth();return i*12+s}function fu(e,t){const n=Mt(e,t==null?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function sv(e,t,n){const[r,a]=Al(n==null?void 0:n.in,e,t),i=r.getFullYear()-a.getFullYear(),s=fu(r)-fu(a);return i*4+s}function ov(e,t,n){const[r,a]=Al(n==null?void 0:n.in,e,t);return r.getFullYear()-a.getFullYear()}function eU(e,t,n){const[r,a]=Al(n==null?void 0:n.in,e,t),i=MT(r,a),s=Math.abs(qd(r,a));r.setDate(r.getDate()-i*s);const o=+(MT(r,a)===-i),c=i*(s-o);return c===0?0:c}function MT(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function qL(e,t){const n=Mt(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function YL(e,t){const n=Mt(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function qx(e,t){const n=Mt(e,t==null?void 0:t.in),r=n.getMonth(),a=r-r%3;return n.setMonth(a,1),n.setHours(0,0,0,0),n}function WL(e,t){const n=Mt(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function GL(e,t){const n=Mt(e,t==null?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function J0(e,t){const n=Mt(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function tU(e,t){var o,c;const n=Au(),r=n.weekStartsOn??((c=(o=n.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??0,a=Mt(e,t==null?void 0:t.in),i=a.getDay(),s=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}const nU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rU=(e,t,n)=>{let r;const a=nU[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function W_(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const aU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oU={date:W_({formats:aU,defaultWidth:"full"}),time:W_({formats:iU,defaultWidth:"full"}),dateTime:W_({formats:sU,defaultWidth:"full"})},lU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cU=(e,t,n,r)=>lU[e];function _h(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):s;a=e.formattingValues[o]||e.formattingValues[s]}else{const s=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[o]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const uU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gU=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},yU={ordinalNumber:gU,era:_h({values:uU,defaultWidth:"wide"}),quarter:_h({values:dU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:_h({values:fU,defaultWidth:"wide"}),day:_h({values:hU,defaultWidth:"wide"}),dayPeriod:_h({values:pU,defaultWidth:"wide",formattingValues:mU,defaultFormattingWidth:"wide"})};function wh(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?bU(o,h=>h.test(s)):vU(o,h=>h.test(s));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const f=t.slice(s.length);return{value:d,rest:f}}}function vU(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function bU(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function _U(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;const o=t.slice(a.length);return{value:s,rest:o}}}const wU=/^(\d+)(th|st|nd|rd)?/i,xU=/\d+/i,CU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},DU={any:[/^b/i,/^(a|c)/i]},SU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},EU={any:[/1/i,/2/i,/3/i,/4/i]},MU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},AU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},OU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LU={ordinalNumber:_U({matchPattern:wU,parsePattern:xU,valueCallback:e=>parseInt(e,10)}),era:wh({matchPatterns:CU,defaultMatchWidth:"wide",parsePatterns:DU,defaultParseWidth:"any"}),quarter:wh({matchPatterns:SU,defaultMatchWidth:"wide",parsePatterns:EU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wh({matchPatterns:MU,defaultMatchWidth:"wide",parsePatterns:TU,defaultParseWidth:"any"}),day:wh({matchPatterns:kU,defaultMatchWidth:"wide",parsePatterns:RU,defaultParseWidth:"any"}),dayPeriod:wh({matchPatterns:AU,defaultMatchWidth:"any",parsePatterns:OU,defaultParseWidth:"any"})},KL={code:"en-US",formatDistance:rU,formatLong:oU,formatRelative:cU,localize:yU,match:LU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function NU(e,t){const n=Mt(e,t==null?void 0:t.in);return qd(n,J0(n))+1}function TD(e,t){const n=Mt(e,t==null?void 0:t.in),r=+Vd(n)-+Zj(n);return Math.round(r/zL)+1}function kD(e,t){var f,h,m,g;const n=Mt(e,t==null?void 0:t.in),r=n.getFullYear(),a=Au(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((g=(m=a.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,s=fr((t==null?void 0:t.in)||e,0);s.setFullYear(r+1,0,i),s.setHours(0,0,0,0);const o=Sl(s,t),c=fr((t==null?void 0:t.in)||e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=Sl(c,t);return+n>=+o?r+1:+n>=+d?r:r-1}function PU(e,t){var o,c,d,f;const n=Au(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=kD(e,t),i=fr((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Sl(i,t)}function QL(e,t){const n=Mt(e,t==null?void 0:t.in),r=+Sl(n,t)-+PU(n,t);return Math.round(r/zL)+1}function ur(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const nc={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ur(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ur(n+1,2)},d(e,t){return ur(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ur(e.getHours()%12||12,t.length)},H(e,t){return ur(e.getHours(),t.length)},m(e,t){return ur(e.getMinutes(),t.length)},s(e,t){return ur(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return ur(a,t.length)}},bd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},TT={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return nc.y(e,t)},Y:function(e,t,n,r){const a=kD(e,r),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return ur(s,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):ur(i,t.length)},R:function(e,t){const n=VL(e);return ur(n,t.length)},u:function(e,t){const n=e.getFullYear();return ur(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ur(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ur(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return nc.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ur(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=QL(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):ur(a,t.length)},I:function(e,t,n){const r=TD(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ur(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):nc.d(e,t)},D:function(e,t,n){const r=NU(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ur(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ur(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ur(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return ur(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=bd.noon:r===0?a=bd.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=bd.evening:r>=12?a=bd.afternoon:r>=4?a=bd.morning:a=bd.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return nc.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):nc.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ur(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ur(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):nc.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):nc.s(e,t)},S:function(e,t){return nc.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return RT(r);case"XXXX":case"XX":return Xc(r);case"XXXXX":case"XXX":default:return Xc(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return RT(r);case"xxxx":case"xx":return Xc(r);case"xxxxx":case"xxx":default:return Xc(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+kT(r,":");case"OOOO":default:return"GMT"+Xc(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+kT(r,":");case"zzzz":default:return"GMT"+Xc(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return ur(r,t.length)},T:function(e,t,n){return ur(+e,t.length)}};function kT(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+ur(i,2)}function RT(e,t){return e%60===0?(e>0?"-":"+")+ur(Math.abs(e)/60,2):Xc(e,t)}function Xc(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=ur(Math.trunc(r/60),2),i=ur(r%60,2);return n+a+t+i}const AT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ZL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},IU=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return AT(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",AT(r,t)).replace("{{time}}",ZL(a,t))},Yx={p:ZL,P:IU},FU=/^D+$/,jU=/^Y+$/,UU=["D","DD","YY","YYYY"];function BU(e){return FU.test(e)}function $U(e){return jU.test(e)}function zU(e,t,n){const r=HU(e,t,n);if(console.warn(r),UU.includes(e))throw new RangeError(r)}function HU(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const VU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YU=/^'([^]*?)'?$/,WU=/''/g,GU=/[a-zA-Z]/;function lv(e,t,n){var f,h,m,g,b,_,w,x;const r=Au(),a=(n==null?void 0:n.locale)??r.locale??KL,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((_=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((x=(w=r.locale)==null?void 0:w.options)==null?void 0:x.weekStartsOn)??0,o=Mt(e,n==null?void 0:n.in);if(!av(o))throw new RangeError("Invalid time value");let c=t.match(qU).map(k=>{const R=k[0];if(R==="p"||R==="P"){const I=Yx[R];return I(k,a.formatLong)}return k}).join("").match(VU).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const R=k[0];if(R==="'")return{isToken:!1,value:KU(k)};if(TT[R])return{isToken:!0,value:k};if(R.match(GU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:k}});a.localize.preprocessor&&(c=a.localize.preprocessor(o,c));const d={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(k=>{if(!k.isToken)return k.value;const R=k.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&$U(R)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&BU(R))&&zU(R,t,String(e));const I=TT[R[0]];return I(o,R,a.localize,d)}).join("")}function KU(e){const t=e.match(YU);return t?t[1].replace(WU,"'"):e}function OT(e,t){return Mt(e,t==null?void 0:t.in).getDate()}function QU(e,t){return Mt(e,t==null?void 0:t.in).getDay()}function ZU(e,t){const n=Mt(e,t==null?void 0:t.in),r=n.getFullYear(),a=n.getMonth(),i=fr(n,0);return i.setFullYear(r,a+1,0),i.setHours(0,0,0,0),i.getDate()}function XU(){return Object.assign({},Au())}function bl(e,t){return Mt(e,t==null?void 0:t.in).getHours()}function JU(e,t){const n=Mt(e,t==null?void 0:t.in).getDay();return n===0?7:n}function _l(e,t){return Mt(e,t==null?void 0:t.in).getMinutes()}function ai(e,t){return Mt(e,t==null?void 0:t.in).getMonth()}function yc(e){return Mt(e).getSeconds()}function Wx(e){return+Mt(e)}function wn(e,t){return Mt(e,t==null?void 0:t.in).getFullYear()}function Cc(e,t){return+Mt(e)>+Mt(t)}function wu(e,t){return+Mt(e)<+Mt(t)}function eB(e,t){return+Mt(e)==+Mt(t)}function tB(e,t){const n=nB(t)?new t(0):fr(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function nB(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const rB=10;class XL{constructor(){yt(this,"subPriority",0)}validate(t,n){return!0}}class aB extends XL{constructor(t,n,r,a,i){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=a,i&&(this.subPriority=i)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class iB extends XL{constructor(n,r){super();yt(this,"priority",rB);yt(this,"subPriority",-1);this.context=n||(a=>fr(r,a))}set(n,r){return r.timestampIsSet?n:fr(n,tB(n,this.context))}}class er{run(t,n,r,a){const i=this.parse(t,n,r,a);return i?{setter:new aB(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,n,r){return!0}}class sB extends er{constructor(){super(...arguments);yt(this,"priority",140);yt(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,a){switch(r){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})||a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"})}}set(n,r,a){return r.era=a,n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}const da={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Do={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function fa(e,t){return e&&{value:t(e.value),rest:e.rest}}function Wr(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function So(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,a=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(a*X0+i*Z0+s*Gj),rest:t.slice(n[0].length)}}function JL(e){return Wr(da.anyDigitsSigned,e)}function ia(e,t){switch(e){case 1:return Wr(da.singleDigit,t);case 2:return Wr(da.twoDigits,t);case 3:return Wr(da.threeDigits,t);case 4:return Wr(da.fourDigits,t);default:return Wr(new RegExp("^\\d{1,"+e+"}"),t)}}function cv(e,t){switch(e){case 1:return Wr(da.singleDigitSigned,t);case 2:return Wr(da.twoDigitsSigned,t);case 3:return Wr(da.threeDigitsSigned,t);case 4:return Wr(da.fourDigitsSigned,t);default:return Wr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function RD(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function eN(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const i=r+50,s=Math.trunc(i/100)*100,o=e>=i%100;a=e+s-(o?100:0)}return n?a:1-a}function tN(e){return e%400===0||e%4===0&&e%100!==0}class oB extends er{constructor(){super(...arguments);yt(this,"priority",130);yt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,a){const i=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return fa(ia(4,n),i);case"yo":return fa(a.ordinalNumber(n,{unit:"year"}),i);default:return fa(ia(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,a){const i=n.getFullYear();if(a.isTwoDigitYear){const o=eN(a.year,i);return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}const s=!("era"in r)||r.era===1?a.year:1-a.year;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class lB extends er{constructor(){super(...arguments);yt(this,"priority",130);yt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,a){const i=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return fa(ia(4,n),i);case"Yo":return fa(a.ordinalNumber(n,{unit:"year"}),i);default:return fa(ia(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,a,i){const s=kD(n,i);if(a.isTwoDigitYear){const c=eN(a.year,s);return n.setFullYear(c,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Sl(n,i)}const o=!("era"in r)||r.era===1?a.year:1-a.year;return n.setFullYear(o,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Sl(n,i)}}class cB extends er{constructor(){super(...arguments);yt(this,"priority",130);yt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return cv(r==="R"?4:r.length,n)}set(n,r,a){const i=fr(n,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),Vd(i)}}class uB extends er{constructor(){super(...arguments);yt(this,"priority",130);yt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return cv(r==="u"?4:r.length,n)}set(n,r,a){return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class dB extends er{constructor(){super(...arguments);yt(this,"priority",120);yt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"Q":case"QQ":return ia(r.length,n);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})||a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class fB extends er{constructor(){super(...arguments);yt(this,"priority",120);yt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"q":case"qq":return ia(r.length,n);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})||a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class hB extends er{constructor(){super(...arguments);yt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);yt(this,"priority",110)}parse(n,r,a){const i=s=>s-1;switch(r){case"M":return fa(Wr(da.month,n),i);case"MM":return fa(ia(2,n),i);case"Mo":return fa(a.ordinalNumber(n,{unit:"month"}),i);case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})||a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}class pB extends er{constructor(){super(...arguments);yt(this,"priority",110);yt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,a){const i=s=>s-1;switch(r){case"L":return fa(Wr(da.month,n),i);case"LL":return fa(ia(2,n),i);case"Lo":return fa(a.ordinalNumber(n,{unit:"month"}),i);case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})||a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}function mB(e,t,n){const r=Mt(e,n==null?void 0:n.in),a=QL(r,n)-t;return r.setDate(r.getDate()-a*7),Mt(r,n==null?void 0:n.in)}class gB extends er{constructor(){super(...arguments);yt(this,"priority",100);yt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,a){switch(r){case"w":return Wr(da.week,n);case"wo":return a.ordinalNumber(n,{unit:"week"});default:return ia(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,a,i){return Sl(mB(n,a,i),i)}}function yB(e,t,n){const r=Mt(e,n==null?void 0:n.in),a=TD(r,n)-t;return r.setDate(r.getDate()-a*7),r}class vB extends er{constructor(){super(...arguments);yt(this,"priority",100);yt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,a){switch(r){case"I":return Wr(da.week,n);case"Io":return a.ordinalNumber(n,{unit:"week"});default:return ia(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,a){return Vd(yB(n,a))}}const bB=[31,28,31,30,31,30,31,31,30,31,30,31],_B=[31,29,31,30,31,30,31,31,30,31,30,31];class wB extends er{constructor(){super(...arguments);yt(this,"priority",90);yt(this,"subPriority",1);yt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"d":return Wr(da.date,n);case"do":return a.ordinalNumber(n,{unit:"date"});default:return ia(r.length,n)}}validate(n,r){const a=n.getFullYear(),i=tN(a),s=n.getMonth();return i?r>=1&&r<=_B[s]:r>=1&&r<=bB[s]}set(n,r,a){return n.setDate(a),n.setHours(0,0,0,0),n}}class xB extends er{constructor(){super(...arguments);yt(this,"priority",90);yt(this,"subpriority",1);yt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,a){switch(r){case"D":case"DD":return Wr(da.dayOfYear,n);case"Do":return a.ordinalNumber(n,{unit:"date"});default:return ia(r.length,n)}}validate(n,r){const a=n.getFullYear();return tN(a)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,a){return n.setMonth(0,a),n.setHours(0,0,0,0),n}}function AD(e,t,n){var h,m,g,b;const r=Au(),a=(n==null?void 0:n.weekStartsOn)??((m=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((b=(g=r.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??0,i=Mt(e,n==null?void 0:n.in),s=i.getDay(),c=(t%7+7)%7,d=7-a,f=t<0||t>6?t-(s+d)%7:(c+d)%7-(s+d)%7;return Ys(i,f,n)}class CB extends er{constructor(){super(...arguments);yt(this,"priority",90);yt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,i){return n=AD(n,a,i),n.setHours(0,0,0,0),n}}class DB extends er{constructor(){super(...arguments);yt(this,"priority",90);yt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,a,i){const s=o=>{const c=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return fa(ia(r.length,n),s);case"eo":return fa(a.ordinalNumber(n,{unit:"day"}),s);case"eee":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,i){return n=AD(n,a,i),n.setHours(0,0,0,0),n}}class SB extends er{constructor(){super(...arguments);yt(this,"priority",90);yt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,a,i){const s=o=>{const c=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return fa(ia(r.length,n),s);case"co":return fa(a.ordinalNumber(n,{unit:"day"}),s);case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})||a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,i){return n=AD(n,a,i),n.setHours(0,0,0,0),n}}function EB(e,t,n){const r=Mt(e,n==null?void 0:n.in),a=JU(r,n),i=t-a;return Ys(r,i,n)}class MB extends er{constructor(){super(...arguments);yt(this,"priority",90);yt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,a){const i=s=>s===0?7:s;switch(r){case"i":case"ii":return ia(r.length,n);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return fa(a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return fa(a.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return fa(a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return fa(a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,a){return n=EB(n,a),n.setHours(0,0,0,0),n}}class TB extends er{constructor(){super(...arguments);yt(this,"priority",80);yt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,a){switch(r){case"a":case"aa":case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(RD(a),0,0,0),n}}class kB extends er{constructor(){super(...arguments);yt(this,"priority",80);yt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,a){switch(r){case"b":case"bb":case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(RD(a),0,0,0),n}}class RB extends er{constructor(){super(...arguments);yt(this,"priority",80);yt(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,a){switch(r){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(RD(a),0,0,0),n}}class AB extends er{constructor(){super(...arguments);yt(this,"priority",70);yt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,a){switch(r){case"h":return Wr(da.hour12h,n);case"ho":return a.ordinalNumber(n,{unit:"hour"});default:return ia(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,a){const i=n.getHours()>=12;return i&&a<12?n.setHours(a+12,0,0,0):!i&&a===12?n.setHours(0,0,0,0):n.setHours(a,0,0,0),n}}class OB extends er{constructor(){super(...arguments);yt(this,"priority",70);yt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,a){switch(r){case"H":return Wr(da.hour23h,n);case"Ho":return a.ordinalNumber(n,{unit:"hour"});default:return ia(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,a){return n.setHours(a,0,0,0),n}}class LB extends er{constructor(){super(...arguments);yt(this,"priority",70);yt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,a){switch(r){case"K":return Wr(da.hour11h,n);case"Ko":return a.ordinalNumber(n,{unit:"hour"});default:return ia(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.getHours()>=12&&a<12?n.setHours(a+12,0,0,0):n.setHours(a,0,0,0),n}}class NB extends er{constructor(){super(...arguments);yt(this,"priority",70);yt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,a){switch(r){case"k":return Wr(da.hour24h,n);case"ko":return a.ordinalNumber(n,{unit:"hour"});default:return ia(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,a){const i=a<=24?a%24:a;return n.setHours(i,0,0,0),n}}class PB extends er{constructor(){super(...arguments);yt(this,"priority",60);yt(this,"incompatibleTokens",["t","T"])}parse(n,r,a){switch(r){case"m":return Wr(da.minute,n);case"mo":return a.ordinalNumber(n,{unit:"minute"});default:return ia(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,a){return n.setMinutes(a,0,0),n}}class IB extends er{constructor(){super(...arguments);yt(this,"priority",50);yt(this,"incompatibleTokens",["t","T"])}parse(n,r,a){switch(r){case"s":return Wr(da.second,n);case"so":return a.ordinalNumber(n,{unit:"second"});default:return ia(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,a){return n.setSeconds(a,0),n}}class FB extends er{constructor(){super(...arguments);yt(this,"priority",30);yt(this,"incompatibleTokens",["t","T"])}parse(n,r){const a=i=>Math.trunc(i*Math.pow(10,-r.length+3));return fa(ia(r.length,n),a)}set(n,r,a){return n.setMilliseconds(a),n}}class jB extends er{constructor(){super(...arguments);yt(this,"priority",10);yt(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return So(Do.basicOptionalMinutes,n);case"XX":return So(Do.basic,n);case"XXXX":return So(Do.basicOptionalSeconds,n);case"XXXXX":return So(Do.extendedOptionalSeconds,n);case"XXX":default:return So(Do.extended,n)}}set(n,r,a){return r.timestampIsSet?n:fr(n,n.getTime()-nv(n)-a)}}class UB extends er{constructor(){super(...arguments);yt(this,"priority",10);yt(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return So(Do.basicOptionalMinutes,n);case"xx":return So(Do.basic,n);case"xxxx":return So(Do.basicOptionalSeconds,n);case"xxxxx":return So(Do.extendedOptionalSeconds,n);case"xxx":default:return So(Do.extended,n)}}set(n,r,a){return r.timestampIsSet?n:fr(n,n.getTime()-nv(n)-a)}}class BB extends er{constructor(){super(...arguments);yt(this,"priority",40);yt(this,"incompatibleTokens","*")}parse(n){return JL(n)}set(n,r,a){return[fr(n,a*1e3),{timestampIsSet:!0}]}}class $B extends er{constructor(){super(...arguments);yt(this,"priority",20);yt(this,"incompatibleTokens","*")}parse(n){return JL(n)}set(n,r,a){return[fr(n,a),{timestampIsSet:!0}]}}const zB={G:new sB,y:new oB,Y:new lB,R:new cB,u:new uB,Q:new dB,q:new fB,M:new hB,L:new pB,w:new gB,I:new vB,d:new wB,D:new xB,E:new CB,e:new DB,c:new SB,i:new MB,a:new TB,b:new kB,B:new RB,h:new AB,H:new OB,K:new LB,k:new NB,m:new PB,s:new IB,S:new FB,X:new jB,x:new UB,t:new BB,T:new $B},HB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qB=/^'([^]*?)'?$/,YB=/''/g,WB=/\S/,GB=/[a-zA-Z]/;function KB(e,t,n,r){var w,x,k,R,I,O,A,L;const a=()=>fr((r==null?void 0:r.in)||n,NaN),i=XU(),s=(r==null?void 0:r.locale)??i.locale??KL,o=(r==null?void 0:r.firstWeekContainsDate)??((x=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:x.firstWeekContainsDate)??i.firstWeekContainsDate??((R=(k=i.locale)==null?void 0:k.options)==null?void 0:R.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((O=(I=r==null?void 0:r.locale)==null?void 0:I.options)==null?void 0:O.weekStartsOn)??i.weekStartsOn??((L=(A=i.locale)==null?void 0:A.options)==null?void 0:L.weekStartsOn)??0;if(!t)return e?a():Mt(n,r==null?void 0:r.in);const d={firstWeekContainsDate:o,weekStartsOn:c,locale:s},f=[new iB(r==null?void 0:r.in,n)],h=t.match(VB).map(C=>{const T=C[0];if(T in Yx){const S=Yx[T];return S(C,s.formatLong)}return C}).join("").match(HB),m=[];for(let C of h){const T=C[0],S=zB[T];if(S){const{incompatibleTokens:j}=S;if(Array.isArray(j)){const H=m.find(U=>j.includes(U.token)||U.token===T);if(H)throw new RangeError(`The format string mustn't contain \`${H.fullToken}\` and \`${C}\` at the same time`)}else if(S.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${C}\` and any other token at the same time`);m.push({token:T,fullToken:C});const B=S.run(e,C,s.match,d);if(!B)return a();f.push(B.setter),e=B.rest}else{if(T.match(GB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");if(C==="''"?C="'":T==="'"&&(C=QB(C)),e.indexOf(C)===0)e=e.slice(C.length);else return a()}}if(e.length>0&&WB.test(e))return a();const g=f.map(C=>C.priority).sort((C,T)=>T-C).filter((C,T,S)=>S.indexOf(C)===T).map(C=>f.filter(T=>T.priority===C).sort((T,S)=>S.subPriority-T.subPriority)).map(C=>C[0]);let b=Mt(n,r==null?void 0:r.in);if(isNaN(+b))return a();const _={};for(const C of g){if(!C.validate(b,d))return a();const T=C.set(b,_,d);Array.isArray(T)?(b=T[0],Object.assign(_,T[1])):b=T}return b}function QB(e){return e.match(qB)[1].replace(YB,"'")}function ZB(e,t,n){const[r,a]=Al(n==null?void 0:n.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function XB(e,t,n){const[r,a]=Al(n==null?void 0:n.in,e,t);return+qx(r)==+qx(a)}function JB(e,t,n){const[r,a]=Al(n==null?void 0:n.in,e,t);return r.getFullYear()===a.getFullYear()}function xp(e,t,n){const r=+Mt(e,n==null?void 0:n.in),[a,i]=[+Mt(t.start,n==null?void 0:n.in),+Mt(t.end,n==null?void 0:n.in)].sort((s,o)=>s-o);return r>=a&&r<=i}function e$(e,t,n){return Ys(e,-1,n)}function nN(e,t){const n=()=>fr(t==null?void 0:t.in,NaN),a=a$(e);let i;if(a.date){const d=i$(a.date,2);i=s$(d.restDateString,d.year)}if(!i||isNaN(+i))return n();const s=+i;let o=0,c;if(a.time&&(o=o$(a.time),isNaN(o)))return n();if(a.timezone){if(c=l$(a.timezone),isNaN(c))return n()}else{const d=new Date(s+o),f=Mt(0,t==null?void 0:t.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return Mt(s+o+c,t==null?void 0:t.in)}const Sg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},t$=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,n$=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,r$=/^([+-])(\d{2})(?::?(\d{2}))?$/;function a$(e){const t={},n=e.split(Sg.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Sg.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Sg.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=Sg.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function i$(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function s$(e,t){if(t===null)return new Date(NaN);const n=e.match(t$);if(!n)return new Date(NaN);const r=!!n[4],a=xh(n[1]),i=xh(n[2])-1,s=xh(n[3]),o=xh(n[4]),c=xh(n[5])-1;if(r)return h$(t,o,c)?c$(t,o,c):new Date(NaN);{const d=new Date(0);return!d$(t,i,s)||!f$(t,a)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(a,s)),d)}}function xh(e){return e?parseInt(e):1}function o$(e){const t=e.match(n$);if(!t)return NaN;const n=G_(t[1]),r=G_(t[2]),a=G_(t[3]);return p$(n,r,a)?n*X0+r*Z0+a*1e3:NaN}function G_(e){return e&&parseFloat(e.replace(",","."))||0}function l$(e){if(e==="Z")return 0;const t=e.match(r$);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return m$(r,a)?n*(r*X0+a*Z0):NaN}function c$(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,i=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}const u$=[31,null,31,30,31,30,31,31,30,31,30,31];function rN(e){return e%400===0||e%4===0&&e%100!==0}function d$(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(u$[t]||(rN(e)?29:28))}function f$(e,t){return t>=1&&t<=(rN(e)?366:365)}function h$(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function p$(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function m$(e,t){return t>=0&&t<=59}function Cs(e,t,n){const r=Mt(e,n==null?void 0:n.in),a=r.getFullYear(),i=r.getDate(),s=fr(e,0);s.setFullYear(a,t,15),s.setHours(0,0,0,0);const o=ZU(s);return r.setMonth(t,Math.min(i,o)),r}function fy(e,t,n){const r=Mt(e,n==null?void 0:n.in);return r.setHours(t),r}function hy(e,t,n){const r=Mt(e,n==null?void 0:n.in);return r.setMinutes(t),r}function Sd(e,t,n){const r=Mt(e,n==null?void 0:n.in),a=Math.trunc(r.getMonth()/3)+1,i=t-a;return Cs(r,r.getMonth()+i*3)}function py(e,t,n){const r=Mt(e,n==null?void 0:n.in);return r.setSeconds(t),r}function wo(e,t,n){const r=Mt(e,n==null?void 0:n.in);return isNaN(+r)?fr(e,NaN):(r.setFullYear(t),r)}function hu(e,t,n){return Zs(e,-t,n)}function aN(e,t,n){return MD(e,-1,n)}function LT(e,t,n){return rv(e,-1,n)}function Yd(e,t,n){return yl(e,-t,n)}function g$({to_email:e,to_name:t,from_name:n,from_email:r,day:a,date:i,time:s,location:o,note:c,gameType:d,raceLength:f}){if(!e||e==="undefined")return alert("Recipient email is missing. Cannot send proposal."),Promise.reject(new Error("Recipient email is missing."));if(!r||r==="undefined")return alert("Your email is missing. Cannot send proposal."),Promise.reject(new Error("Sender email is missing."));const h=lv(nN(i),"MM-dd-yyyy"),b=`https://frbcapl.github.io/NEWAPP/#/confirm-match?${Object.entries({from:n,to:t,day:a,date:h,time:s,location:o,note:c,proposerEmail:r,gameType:d,raceLength:f}).map(([_,w])=>`${_}=${encodeURIComponent(w)}`).join("&")}`;return $L.send("service_l5q2047","template_xu0tl3i",{to_email:e,to_name:t,from_name:n,day:a,date:h,time:s,location:o,note:c,gameType:d,raceLength:f,confirm_link:b},"g6vqrOs_Jb6LL1VCZ")}function y$({to_email:e,to_name:t,day:n,date:r,time:a,location:i,proposal_note:s,confirmation_note:o,confirmed_by:c,gameType:d,raceLength:f}){return $L.send("service_l5q2047","template_dtc43h8",{to_email:e,to_name:t,day:n,date:r,time:a,location:i,proposal_note:s,confirmation_note:o,confirmed_by:c,gameType:d,raceLength:f},"g6vqrOs_Jb6LL1VCZ")}const v$="_confirmMatchCard_7heot_7",b$="_confirmMatchTitle_7heot_31",_$="_redTitle_7heot_45",w$="_confirmMatchDetails_7heot_55",x$="_detailRow_7heot_65",C$="_proposalNote_7heot_85",D$="_noteSection_7heot_109",S$="_noteLabel_7heot_119",E$="_noteTextarea_7heot_133",M$="_confirmBtn_7heot_173",ln={confirmMatchCard:v$,confirmMatchTitle:b$,redTitle:_$,confirmMatchDetails:w$,detailRow:x$,proposalNote:C$,noteSection:D$,noteLabel:S$,noteTextarea:E$,confirmBtn:M$};function T$({text:e,query:t}){return t?e.split(new RegExp(`(${t})`,"gi")).map((r,a)=>r.toLowerCase()===t.toLowerCase()?D.jsx("mark",{children:r},a):r):D.jsx(D.Fragment,{children:e})}function k$(e){if(!e)return"N/A";if(e.includes("-")&&e.length===10){const[i,s,o]=e.split("-"),c=new Date(parseInt(i),parseInt(s)-1,parseInt(o)),d=String(c.getMonth()+1).padStart(2,"0"),f=String(c.getDate()).padStart(2,"0"),h=c.getFullYear();return`${d}-${f}-${h}`}let t;if(e.includes("-"))t=new Date(e);else if(e.includes("/")){const i=e.split("/");if(i.length===3){const[s,o,c]=i;t=new Date(c,s-1,o)}else return e}else return e;if(isNaN(t.getTime()))return e;const n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),a=t.getFullYear();return`${n}-${r}-${a}`}function R$(e){if(!e)return"";const[t,n]=e.split(" ");let[r,a]=t.split(":");return r==="12"&&(r="00"),n==="PM"&&r!=="00"&&(r=String(parseInt(r,10)+12)),`${r.padStart(2,"0")}:${a}`}function A$(){const[e]=Ij(),[t,n]=E.useState(!1),[r,a]=E.useState(""),i=e.get("from"),s=e.get("to"),o=e.get("day"),c=e.get("date"),d=e.get("time"),f=e.get("location"),h=e.get("proposerEmail"),m=e.get("note"),g=e.get("gameType"),b=e.get("raceLength"),_=()=>{console.log("CONFIRM BUTTON CLICKED"),y$({to_email:h,to_name:i,day:o,date:c,time:d,location:f,confirmed_by:s,proposal_note:m||"",confirmation_note:r||"",gameType:g||"",raceLength:b||""}),fetch("https://atlasbackend-bnng.onrender.com/api/matches",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({opponent:i?i.trim():"",player:s?s.trim():"",day:o,date:c,time:R$(d),location:f,gameType:g,raceLength:b})}).then(()=>n(!0)).catch(x=>{alert("Failed to save match to server."),console.error(x)})};return D.jsx("div",{className:ln.confirmMatchBg,children:D.jsxs("div",{className:ln.confirmMatchCard,children:[D.jsxs("h1",{className:ln.confirmMatchTitle,children:["🎱 Front Range ",D.jsx("br",{}),"Pool League ",D.jsx("br",{}),"Confirm Match"]}),D.jsxs("p",{className:ln.confirmMatchNotice,children:["You are about to confirm this match. ",D.jsx("br",{}),"Your opponent will be notified by email!"]}),D.jsxs("div",{className:ln.confirmMatchDetails,children:[D.jsxs("div",{className:ln.detailRow,children:[D.jsx("span",{role:"img","aria-label":"you",children:"🧑"})," ",D.jsx("strong",{children:"You:"})," ",s||"N/A"]}),D.jsxs("div",{className:ln.detailRow,children:[D.jsx("span",{role:"img","aria-label":"opponent",children:"🤝"})," ",D.jsx("strong",{children:"Opponent:"})," ",i||"N/A"]}),D.jsxs("div",{className:ln.detailRow,children:[D.jsx("span",{role:"img","aria-label":"calendar",children:"📅"})," ",D.jsx("strong",{children:"Day:"})," ",o||"N/A"]}),D.jsxs("div",{className:ln.detailRow,children:[D.jsx("span",{role:"img","aria-label":"date",children:"🗓️"})," ",D.jsx("strong",{children:"Date:"})," ",k$(c)]}),D.jsxs("div",{className:ln.detailRow,children:[D.jsx("span",{role:"img","aria-label":"clock",children:"⏰"})," ",D.jsx("strong",{children:"Time:"})," ",d||"N/A"]}),g&&D.jsxs("div",{className:ln.detailRow,children:[D.jsx(Q0,{gameType:g,size:16})," ",D.jsx("strong",{children:"Game Type:"})," ",g]}),b&&D.jsxs("div",{className:ln.detailRow,children:[D.jsx("span",{role:"img","aria-label":"race",children:"🏁"})," ",D.jsx("strong",{children:"Race to:"})," ",b]}),D.jsxs("div",{className:ln.detailRow,children:[D.jsx("span",{role:"img","aria-label":"location",children:"📍"})," ",D.jsx("strong",{children:"Location:"})," ",f||"N/A"]})]}),m&&D.jsxs("div",{className:ln.proposalNote,children:[D.jsx("span",{role:"img","aria-label":"note",children:"📝"})," ",D.jsx("strong",{children:"Note from opponent:"}),D.jsx("br",{}),m]}),D.jsxs("div",{className:ln.noteSection,children:[D.jsx("label",{htmlFor:"note",className:ln.noteLabel,children:"📝 Add a note (optional):"}),D.jsx("textarea",{id:"note",value:r,onChange:w=>a(w.target.value),rows:3,placeholder:"Write a message to your opponent…",className:ln.noteTextarea})]}),D.jsx("button",{className:ln.confirmBtn,onMouseDown:w=>w.currentTarget.style.transform="scale(0.97)",onMouseUp:w=>w.currentTarget.style.transform="scale(1)",onMouseLeave:w=>w.currentTarget.style.transform="scale(1)",onClick:_,children:"✅ Confirm Match"}),D.jsx(jL,{open:t,message:"Match confirmed! The opponent has been notified.",proposalNote:m,confirmationNote:r,gameType:g,raceLength:b,day:o,date:c,time:d,location:f,onClose:()=>n(!1)})]})})}const O$="_dashboardBg_1c8dg_18",L$="_dashboardFrame_1c8dg_36",N$="_dashboardCard_1c8dg_52",P$="_dashboardTitle_1c8dg_82",I$="_dashboardUserName_1c8dg_90",F$="_dashboardSection_1c8dg_98",j$="_dashboardSectionBox_1c8dg_109",U$="_dashboardSectionTitle_1c8dg_121",B$="_dashboardHelperText_1c8dg_130",$$="_matchesSection_1c8dg_138",z$="_dashboardList_1c8dg_150",H$="_matchCard_1c8dg_161",V$="_matchCardButton_1c8dg_184",q$="_matchCardOpponentLabel_1c8dg_210",Y$="_matchCardOpponentName_1c8dg_211",W$="_matchCardDetail_1c8dg_212",G$="_dashboardBtn_1c8dg_263",K$="_errorBox_1c8dg_285",Q$="_dashboardAdminBtn_1c8dg_295",Z$="_dashboardLogoutBtn_1c8dg_313",X$="_dashboardNoteItem_1c8dg_332",J$="_modalOverlay_1c8dg_372",ez="_proposalAlertRow_1c8dg_664",tz="_proposalAlertButton_1c8dg_669",nz="_newsUpdatesHeader_1c8dg_675",rz="_modalDetailRowSnazzy_1c8dg_777",az="_proposalModalContent_1c8dg_814",iz="_matchCardContentWrapper_1c8dg_1000",sz="_matchCardDoneBtn_1c8dg_1007",oz="_inputField_1c8dg_1109",lz="_proposalModalHeaderBar_1c8dg_1133",cz="_phasePill_1c8dg_1142",uz="_divisionPill_1c8dg_1152",dz="_proposalModalToRow_1c8dg_1160",fz="_toOpponentLabel_1c8dg_1167",hz="_toOpponentName_1c8dg_1173",pz="_proposalModalDayRow_1c8dg_1178",mz="_dayLabel_1c8dg_1185",gz="_dayValue_1c8dg_1191",yz="_proposalModalFieldRow_1c8dg_1196",vz="_fieldLabel_1c8dg_1201",bz="_proposalModalButtonRow_1c8dg_1223",_z="_challengeStatsContainer_1c8dg_1389",wz="_challengeStatsHeader_1c8dg_1397",xz="_challengeStatsGrid_1c8dg_1401",Cz="_challengeStatCard_1c8dg_1408",Dz="_challengeStatHeader_1c8dg_1420",Sz="_challengeProgressBar_1c8dg_1429",Ez="_challengeProgressFill_1c8dg_1438",Mz="_challengeStatDetails_1c8dg_1443",Tz="_challengeStatusSummary_1c8dg_1453",kz="_mobileMatchesOverlay_1c8dg_1575",Rz="_countersRow_1c8dg_1578",Az="_noMatchesText_1c8dg_1660",Oz="_poolTableContainer_1c8dg_1674",Oe={dashboardBg:O$,dashboardFrame:L$,dashboardCard:N$,dashboardTitle:P$,dashboardUserName:I$,dashboardSection:F$,dashboardSectionBox:j$,dashboardSectionTitle:U$,dashboardHelperText:B$,matchesSection:$$,dashboardList:z$,matchCard:H$,matchCardButton:V$,matchCardOpponentLabel:q$,matchCardOpponentName:Y$,matchCardDetail:W$,dashboardBtn:G$,errorBox:K$,dashboardAdminBtn:Q$,dashboardLogoutBtn:Z$,dashboardNoteItem:X$,modalOverlay:J$,proposalAlertRow:ez,proposalAlertButton:tz,newsUpdatesHeader:nz,modalDetailRowSnazzy:rz,proposalModalContent:az,matchCardContentWrapper:iz,matchCardDoneBtn:sz,inputField:oz,proposalModalHeaderBar:lz,phasePill:cz,divisionPill:uz,proposalModalToRow:dz,toOpponentLabel:fz,toOpponentName:hz,proposalModalDayRow:pz,dayLabel:mz,dayValue:gz,proposalModalFieldRow:yz,fieldLabel:vz,proposalModalButtonRow:bz,challengeStatsContainer:_z,challengeStatsHeader:wz,challengeStatsGrid:xz,challengeStatCard:Cz,challengeStatHeader:Dz,challengeProgressBar:Sz,challengeProgressFill:Ez,challengeStatDetails:Mz,challengeStatusSummary:Tz,mobileMatchesOverlay:kz,countersRow:Rz,noMatchesText:Az,poolTableContainer:Oz},Lz=""+new URL("table2-C6STYTiE.svg",import.meta.url).href,Gx=""+new URL("nineball-cUPWR7io.svg",import.meta.url).href,Kx=""+new URL("tenball-KFrercR9.svg",import.meta.url).href,Qx=""+new URL("8ball-COe24mO4.svg",import.meta.url).href,Nz="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='133'%20height='133'%3e%3cpath%20d='M0%200%20C1.00401855%200.00829834%202.00803711%200.01659668%203.04248047%200.02514648%20C20.52267623%200.42069609%2035.54504551%207.27668501%2047.9609375%2019.546875%20C60.43263552%2032.76901903%2067.32139494%2048.51774554%2067.125%2066.75%20C67.11670166%2067.75401855%2067.10840332%2068.75803711%2067.09985352%2069.79248047%20C66.70430391%2087.27267623%2059.84831499%20102.29504551%2047.578125%20114.7109375%20C34.35598097%20127.18263552%2018.60725446%20134.07139494%200.375%20133.875%20C-0.62901855%20133.86670166%20-1.63303711%20133.85840332%20-2.66748047%20133.84985352%20C-20.14767623%20133.45430391%20-35.17004551%20126.59831499%20-47.5859375%20114.328125%20C-60.05763552%20101.10598097%20-66.94639494%2085.35725446%20-66.75%2067.125%20C-66.74170166%2066.12098145%20-66.73340332%2065.11696289%20-66.72485352%2064.08251953%20C-66.32930391%2046.60232377%20-59.47331499%2031.57995449%20-47.203125%2019.1640625%20C-33.98098097%206.69236448%20-18.23225446%20-0.19639494%200%200%20Z%20'%20fill='%23D2D2D2'%20transform='translate(66.3125,-0.4375)'/%3e%3cpath%20d='M0%200%20C1.13463064%204.88763969%201.56442841%207.79534263%20-1.0625%2012.1875%20C-3.60252038%2015.80898565%20-6.51546596%2018.30740551%20-10%2021%20C-10.33%2021.66%20-10.66%2022.32%20-11%2023%20C-17.42857143%2024.28571429%20-17.42857143%2024.28571429%20-20%2023%20C-20.66744236%2018.04053247%20-21.06401486%2013.78129851%20-18.4296875%209.37109375%20C-13.13804959%203.26458384%20-8.39364973%20-0.59954641%200%200%20Z%20'%20fill='%23F9F9F9'%20transform='translate(113,91)'/%3e%3cpath%20d='M0%200%20C0.85883109%202.39512522%201.17516838%203.5616433%200.21484375%205.96484375%20C-2.74587086%2010.53720118%20-5.69424777%2013.67282782%20-10%2017%20C-10.33%2017.66%20-10.66%2018.32%20-11%2019%20C-13.32156597%2019.40729228%20-15.6568787%2019.74438677%20-18%2020%20C-18%2019.34%20-18%2018.68%20-18%2018%20C-17.34%2018%20-16.68%2018%20-16%2018%20C-16%2017.34%20-16%2016.68%20-16%2016%20C-14.35%2016%20-12.7%2016%20-11%2016%20C-10.7421875%2015.4225%20-10.484375%2014.845%20-10.21875%2014.25%20C-8.49064852%2011.05965881%20-6.10391733%208.65509676%20-3.65625%206%20C-2.06105306%204.07372445%20-1.01567082%202.27510263%200%200%20Z%20'%20fill='%23E7E7E7'%20transform='translate(113,95)'/%3e%3cpath%20d='M0%200%20C0.66%200.99%201.32%201.98%202%203%20C-8.86574353%2015.74413004%20-8.86574353%2015.74413004%20-14%2019%20C-14.99%2018.67%20-15.98%2018.34%20-17%2018%20C-17%2017.34%20-17%2016.68%20-17%2016%20C-16.01%2016%20-15.02%2016%20-14%2016%20C-13.67%2015.01%20-13.34%2014.02%20-13%2013%20C-11.58203125%2011.640625%20-11.58203125%2011.640625%20-9.8125%2010.25%20C-6.07775116%207.17886356%20-3.03178992%203.75364466%200%200%20Z%20'%20fill='%23CACACA'%20transform='translate(116,98)'/%3e%3cpath%20d='M0%200%20C-2.75890384%202.11306953%20-5.58099132%204.05313994%20-8.5%205.9375%20C-13.26488072%208.93135437%20-13.26488072%208.93135437%20-17%2013%20C-17.61085537%2016.32810857%20-17.87104705%2019.62143263%20-18%2023%20C-18.33%2023%20-18.66%2023%20-19%2023%20C-19.66744236%2018.04053247%20-20.06401486%2013.78129851%20-17.4296875%209.37109375%20C-12.60239979%203.80044044%20-7.78648269%20-0.68704259%200%200%20Z%20'%20fill='%23E6E6E6'%20transform='translate(112,91)'/%3e%3cpath%20d='M0%200%20C0.33%200%200.66%200%201%200%20C1%201.65%201%203.3%201%205%20C-0.98%205.99%20-0.98%205.99%20-3%207%20C-3%203.4833494%20-2.23600438%202.59376508%200%200%20Z%20'%20fill='%23D8D8D8'%20transform='translate(92,103)'/%3e%3c/svg%3e",Pz="_pinLoginBg_npqw7_15",Iz="_pinLoginFrame_npqw7_41",Fz="_pinLoginCard_npqw7_69",jz="_simulationContainer_npqw7_117",Uz="_pinLoginSubtitle_npqw7_205",Bz="_pinLoginLock_npqw7_219",$z="_pinInput_npqw7_231",zz="_pinLoginBtn_npqw7_279",Hz="_signupBtn_npqw7_331",Vz="_pinLoginError_npqw7_383",qz="_pinBallImg_npqw7_407",bs={pinLoginBg:Pz,pinLoginFrame:Iz,pinLoginCard:Fz,simulationContainer:jz,pinLoginSubtitle:Uz,pinLoginLock:Bz,pinInput:$z,pinLoginBtn:zz,signupBtn:Hz,pinLoginError:Vz,pinBallImg:qz},Zx=""+new URL("logo-CyezyYO7.png",import.meta.url).href,Yz=[{key:"cue",src:Nz,alt:"Cue Ball"},{key:"8",src:Qx,alt:"8 Ball"},{key:"9",src:Gx,alt:"9 Ball"},{key:"10",src:Kx,alt:"10 Ball"}],Va=600,xi=300,ua=15,Ha=ua/2,Ds=0,Ss=0,Eg=3,NT=1.8;function Wz(e){const t=[{x:Ds,y:Ss,margin:ua*Eg},{x:Ds+Va,y:Ss,margin:ua*Eg},{x:Ds,y:Ss+xi,margin:ua*Eg},{x:Ds+Va,y:Ss+xi,margin:ua*Eg},{x:Ds+Va/2,y:Ss,margin:ua*NT},{x:Ds+Va/2,y:Ss+xi,margin:ua*NT}],n=e.x,r=e.y;return t.some(a=>Math.hypot(n-a.x,r-a.y)<a.margin+Ha*.85)}function Gz(e,t,n){const r=t.x-e.x,a=t.y-e.y,i=Math.sqrt(r*r+a*a);if(i===0||i>=n)return;const s=n-i+.01,o=r/i,c=a/i;e.x-=o*(s/2),e.y-=c*(s/2),t.x+=o*(s/2),t.y+=c*(s/2);const d=e.vx-t.vx,f=e.vy-t.vy,m=-(d*o+f*c)||.01;e.vx+=m*o,e.vy+=m*c,t.vx-=m*o,t.vy-=m*c,e.isMoving=!0,t.isMoving=!0}function K_(e,t,n,r,a,i){if(!a.visible||a.key===i)return!1;const s={x:e,y:t},o={x:n,y:r},c={x:a.x,y:a.y},d={x:o.x-s.x,y:o.y-s.y},f={x:c.x-s.x,y:c.y-s.y},h=d.x*d.x+d.y*d.y,m=Math.max(0,Math.min(1,(f.x*d.x+f.y*d.y)/h)),g={x:s.x+d.x*m,y:s.y+d.y*m};return Math.hypot(g.x-c.x,g.y-c.y)<ua*.95}function Kz(){return[{x:Ds,y:Ss},{x:Ds+Va,y:Ss},{x:Ds,y:Ss+xi},{x:Ds+Va,y:Ss+xi},{x:Ds+Va/2,y:Ss},{x:Ds+Va/2,y:Ss+xi}]}function PT(e,t){const n=ua*.6,r=e.x-t.x,a=e.y-t.y,i=Math.hypot(r,a);return{x:e.x-r/i*n,y:e.y-a/i*n}}function OD(){const e=E.useRef(null),[t,n]=E.useState({width:600,height:300}),[r,a]=E.useState(!1),i=E.useRef(null),s=E.useRef({cue:v.createRef(),8:v.createRef(),9:v.createRef(),10:v.createRef()}),o=E.useRef({}),c=E.useRef({}),d=E.useRef(null),f=E.useRef(null),h=E.useRef(0);E.useEffect(()=>{function H(){e.current&&(n({width:e.current.offsetWidth,height:e.current.offsetHeight}),a(!0))}return H(),window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]);const m=t.width/600,g=t.height/300;function b(){Object.keys(o.current).forEach(H=>{c.current[H]={x:o.current[H].x,y:o.current[H].y}})}function _(){const H=Va*.3,U=xi/2,z=ua*.87,F=ua/2;function V(){return(Math.random()-.5)*2.5}o.current={8:{ref:s.current[8],x:H+V(),y:U+V(),vx:0,vy:0,isMoving:!1,visible:!0},9:{ref:s.current[9],x:H-z+V(),y:U-F+V(),vx:0,vy:0,isMoving:!1,visible:!0},10:{ref:s.current[10],x:H-z+V(),y:U+F+V(),vx:0,vy:0,isMoving:!1,visible:!0},cue:{ref:s.current.cue,x:Va*.8+V(),y:xi/2+V(),vx:0,vy:0,isMoving:!1,visible:!0}},Object.values(o.current).forEach(Y=>{Y.ref.current&&(Y.ref.current.style.opacity=1)}),b()}function w(){_(),h.current=0,setTimeout(()=>{x()},1e3)}E.useEffect(()=>{if(!r)return;_();const H=setTimeout(()=>{x()},1e3);return()=>{cancelAnimationFrame(d.current),clearTimeout(f.current),clearTimeout(H)}},[r]);function x(){if(!o.current.cue||o.current.cue.isMoving)return;const H=o.current.cue;if(h.current+=1,h.current===1){const U=o.current[8],z=U.x-H.x,F=U.y-H.y,V=Math.atan2(F,z)+(Math.random()-.5)*(Math.PI/36),Y=15+Math.random()*2;H.vx=Math.cos(V)*Y,H.vy=Math.sin(V)*Y,H.isMoving=!0,R();return}k()}function k(){var J,oe,fe;const H=["8","9","10"],U=H.find(ye=>{var le;return(le=o.current[ye])==null?void 0:le.visible});if(!U)return;const z=o.current.cue,F=o.current[U],V=Kz();let Y=null,q=1/0;for(const ye of V){const le=PT(ye,F),Ee=le.x-F.x,ue=le.y-F.y,Me=Math.hypot(Ee,ue),Fe=F.x-Ee/Me*ua,$e=F.y-ue/Me*ua;let ze=!1;for(const wt of H)if(wt!==U&&(J=o.current[wt])!=null&&J.visible&&K_(z.x,z.y,Fe,$e,{...o.current[wt],key:wt},U)){ze=!0;break}let Xe=!1;for(const wt of H.concat("cue"))if(wt!==U&&(oe=o.current[wt])!=null&&oe.visible&&K_(F.x,F.y,le.x,le.y,{...o.current[wt],key:wt},U)){Xe=!0;break}let ot=0;for(const wt of V)Math.hypot(Fe-wt.x,$e-wt.y)<ua*1.8&&(ot+=1);const nt=Va/2,St=xi/2,Nt=Math.hypot(z.x-Fe,z.y-$e),ut=Math.hypot(Fe-nt,$e-St),_t=(ze?1e3:0)+(Xe?1e3:0)+ot*150+Nt*.7+ut*.3;_t<q&&(q=_t,Y={ghostX:Fe,ghostY:$e})}if(!Y||q>999)for(const ye of V){const le=[{x:Math.max(F.x,2*Ha),y:0},{x:Math.max(F.x,2*Ha),y:xi},{x:0,y:Math.max(F.y,2*Ha)},{x:Va,y:Math.max(F.y,2*Ha)}];for(const Ee of le){const ue=PT(ye,F);let Me=ue.x,Fe=ue.y;Ee.x===0&&(Me=-ue.x),Ee.x===Va&&(Me=2*Va-ue.x),Ee.y===0&&(Fe=-ue.y),Ee.y===xi&&(Fe=2*xi-ue.y);const $e=Me-F.x,ze=Fe-F.y,Xe=Math.hypot($e,ze),ot=F.x-$e/Xe*ua,nt=F.y-ze/Xe*ua;let St=!1;for(const _t of H)if(_t!==U&&(fe=o.current[_t])!=null&&fe.visible&&K_(z.x,z.y,ot,nt,{...o.current[_t],key:_t},U)){St=!0;break}const Nt=Math.hypot(z.x-ot,z.y-nt),ut=(St?2e3:0)+Nt*1.2+500;ut<q&&(q=ut,Y={ghostX:ot,ghostY:nt})}}if(!Y||q>1999){const ye=[{x:z.x,y:0},{x:z.x,y:xi},{x:0,y:z.y},{x:Va,y:z.y}];for(const le of ye){let Ee=F.x,ue=F.y;le.x===0&&(Ee=-F.x),le.x===Va&&(Ee=2*Va-F.x),le.y===0&&(ue=-F.y),le.y===xi&&(ue=2*xi-F.y);const Me=Ee-z.x,Fe=ue-z.y,$e=Math.hypot(Me,Fe),ze=z.x+Me/$e*($e*.9),Xe=z.y+Fe/$e*($e*.9),nt=Math.hypot(z.x-ze,z.y-Xe)*2+2e3;nt<q&&(q=nt,Y={ghostX:ze,ghostY:Xe})}}if(!Y){const ye=Math.atan2(F.y-z.y,F.x-z.x)+(Math.random()-.5)*.2,le=Math.hypot(F.x-z.x,F.y-z.y);Y={ghostX:z.x+Math.cos(ye)*le*.8,ghostY:z.y+Math.sin(ye)*le*.8}}const N=Y.ghostX-z.x,W=Y.ghostY-z.y,K=Math.hypot(N,W),$=7;z.vx=N/K*$,z.vy=W/K*$,z.isMoving=!0,R()}function R(){function q(){for(let N=0;N<16;N++){Object.entries(o.current).forEach(([K,$])=>{if(!$.visible)return;let J=$.x+$.vx/16,oe=$.y+$.vy/16;J<18.25+Ha?($.x=18.25+Ha,$.vx=Math.abs($.vx)*.8):J>570.77-Ha?($.x=570.77-Ha,$.vx=-Math.abs($.vx)*.8):$.x=J,oe<20.2+Ha?($.y=20.2+Ha,$.vy=Math.abs($.vy)*.8):oe>270.18-Ha?($.y=270.18-Ha,$.vy=-Math.abs($.vy)*.8):$.y=oe,$.vx*=Math.pow(.99,1/16),$.vy*=Math.pow(.99,1/16),Wz($)&&($.isMoving=!1,$.visible=!1,$.ref.current&&($.ref.current.style.opacity=0)),$.isMoving&&Math.abs($.vx)<.03&&Math.abs($.vy)<.03&&($.vx=0,$.vy=0,$.isMoving=!1)});const W=Object.keys(o.current);for(let K=0;K<W.length;K++)for(let $=K+1;$<W.length;$++){const J=o.current[W[K]],oe=o.current[W[$]];!J.visible||!oe.visible||Gz(J,oe,ua)}}if(Object.entries(o.current).forEach(([N,W])=>{W.ref.current&&W.visible&&(W.ref.current.style.left=(W.x-Ha)*m+"px",W.ref.current.style.top=(W.y-Ha)*g+"px",W.ref.current.style.width=ua*m+"px",W.ref.current.style.height=ua*g+"px",W.ref.current.style.opacity=1)}),!o.current.cue.visible){setTimeout(()=>{const N=c.current.cue;N&&(o.current.cue.x=N.x,o.current.cue.y=N.y),o.current.cue.vx=0,o.current.cue.vy=0,o.current.cue.isMoving=!1,o.current.cue.visible=!0,o.current.cue.ref.current&&(o.current.cue.ref.current.style.opacity=1),setTimeout(()=>{k()},500)},800);return}if(!o.current[10].visible){setTimeout(()=>{w()},1200);return}Object.values(o.current).some(N=>N.isMoving)?d.current=requestAnimationFrame(q):f.current||(f.current=setTimeout(()=>{f.current=null,k()},1200))}d.current=requestAnimationFrame(q)}const I=18.25,O=570.77,A=20.2,L=270.18,C=28,T=I+C,S=A+C,j=O-I-C*2,B=L-A-C*2;return r?D.jsxs("div",{ref:e,style:{width:"100%",height:"100%",position:"relative",background:"black",zIndex:99999,pointerEvents:"none"},children:[D.jsx("img",{ref:i,src:Lz,alt:"Pool Table",style:{width:"100%",height:"100%",display:"block",objectFit:"fill",position:"absolute",top:1,left:0,zIndex:1,pointerEvents:"none",opacity:1,filter:"opacity(1) contrast(1.25) brightness(1.18)"}}),D.jsx("img",{src:Zx,alt:"League Logo",style:{position:"absolute",left:T*m,top:S*g,width:j*m,height:B*g,objectFit:"contain",zIndex:2,opacity:.55,filter:"drop-shadow(0 2px 8px #000)",pointerEvents:"none",userSelect:"none"}}),Yz.map(H=>{var U,z,F;return D.jsx("img",{src:H.src,alt:H.alt,ref:s.current[H.key],className:bs.pinBallImg,style:{position:"absolute",left:((U=o.current[H.key])==null?void 0:U.x)!==void 0?(o.current[H.key].x-Ha)*m:0,top:((z=o.current[H.key])==null?void 0:z.y)!==void 0?(o.current[H.key].y-Ha)*g:0,width:ua*m,height:ua*g,zIndex:10,opacity:((F=o.current[H.key])==null?void 0:F.visible)===!1?0:1,transition:"none",pointerEvents:"none",filter:"opacity(1) contrast(1.25) brightness(1.18)"}},H.key)})]}):D.jsx("div",{ref:e,style:{width:"100%",height:"100%"}})}function iN({aspectWidth:e,aspectHeight:t,children:n}){const r=E.useRef(null),[a,i]=E.useState(1);return E.useLayoutEffect(()=>{function s(){if(!r.current)return;const{width:c,height:d}=r.current.getBoundingClientRect();i(Math.min(c/e,d/t))}s();const o=new window.ResizeObserver(s);return o.observe(r.current),()=>o.disconnect()},[e,t]),D.jsx("div",{ref:r,style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},children:D.jsx("div",{style:{width:e,height:t,transform:`scale(${a})`,transformOrigin:"top left",position:"absolute",top:0,left:0},children:n})})}function Qz({open:e,onClose:t,standingsUrl:n}){const[r,a]=E.useState(!0);return e?D.jsxs(os,{open:e,onClose:t,title:"📊 League Standings",maxWidth:"90vw",className:"standings-modal",children:[D.jsxs("div",{style:{height:"70vh",width:"100%",position:"relative"},children:[r&&D.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:10,color:"#e53e3e",fontSize:"1.2rem",fontWeight:"bold"},children:"Loading standings..."}),D.jsx("iframe",{src:n,style:{width:"100%",height:"100%",border:"none",borderRadius:"8px",background:"#fff"},title:"League Standings",onLoad:()=>a(!1)})]}),D.jsx("div",{style:{marginTop:"1rem",textAlign:"center",color:"#888",fontSize:"0.9rem"},children:"Front Range Pool League"})]}):null}const Zz="_modalOverlay_1l7ua_7",Xz="_modalContentSnazzy_1l7ua_33",Jz="_modalHeaderSnazzy_1l7ua_69",eH="_modalAccentBar_1l7ua_89",tH="_modalTitleSnazzy_1l7ua_107",nH="_modalCloseBtnSnazzy_1l7ua_131",rH="_modalDetailsSnazzy_1l7ua_173",aH="_modalDetailRowSnazzy_1l7ua_189",iH="_modalDetailIcon_1l7ua_217",sH="_modalDetailLabelSnazzy_1l7ua_229",oH="_modalDetailValueSnazzy_1l7ua_243",lH="_modalOpponentName_1l7ua_263",cH="_modalVs_1l7ua_277",uH="_gameTypeIcon_1l7ua_293",dH="_modalActionBtn_1l7ua_397",on={modalOverlay:Zz,modalContentSnazzy:Xz,modalHeaderSnazzy:Jz,modalAccentBar:eH,modalTitleSnazzy:tH,modalCloseBtnSnazzy:nH,modalDetailsSnazzy:rH,modalDetailRowSnazzy:aH,modalDetailIcon:iH,modalDetailLabelSnazzy:sH,modalDetailValueSnazzy:oH,modalOpponentName:lH,modalVs:cH,gameTypeIcon:uH,modalActionBtn:dH};function LD({open:e,onClose:t,player1:n,player2:r,onSelect:a}){return e?D.jsxs(os,{open:e,onClose:t,title:"Who won?",maxWidth:"340px",children:[D.jsx("div",{style:{textAlign:"center",marginBottom:18,color:"#fff",fontSize:"1.1em"},children:"Please select the winner:"}),D.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16,alignItems:"center"},children:[D.jsx("button",{style:{background:"#23232a",color:"#28a745",border:"2px solid #28a745",borderRadius:8,padding:"0.7rem 1.5rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",minWidth:"160px"},onClick:()=>a(n),children:n}),D.jsx("button",{style:{background:"#23232a",color:"#e53e3e",border:"2px solid #e53e3e",borderRadius:8,padding:"0.7rem 1.5rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",minWidth:"160px"},onClick:()=>a(r),children:r})]}),D.jsx("button",{style:{marginTop:24,background:"#6c757d",color:"#fff",border:"none",borderRadius:"6px",padding:"0.7rem 1.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",minWidth:"120px",display:"block",marginLeft:"auto",marginRight:"auto"},onClick:t,children:"Cancel"})]}):null}const fH="https://atlasbackend-bnng.onrender.com";class aa{static async request(t,n={}){const r=`${fH}${t}`,a=await fetch(r,{headers:{"Content-Type":"application/json",...n.headers},...n});if(!a.ok)throw new Error(`API Error: ${a.status}`);return await a.json()}static get(t){return this.request(t)}static post(t,n){return this.request(t,{method:"POST",body:JSON.stringify(n)})}static patch(t,n){return this.request(t,{method:"PATCH",body:JSON.stringify(n)})}static delete(t){return this.request(t,{method:"DELETE"})}}const vc={async getPendingProposals(e,t){return aa.get(`/api/proposals/by-name?receiverName=${encodeURIComponent(e)}&division=${encodeURIComponent(t)}`)},async getSentProposals(e,t){return aa.get(`/api/proposals/by-sender?senderName=${encodeURIComponent(e)}&division=${encodeURIComponent(t)}`)},async updateProposalStatus(e,t,n){return aa.patch(`/api/proposals/${e}/status`,{status:t,note:n})},async createProposal(e){return aa.post("/api/proposals",e)},async counterProposal(e,t){return aa.patch(`/api/proposals/${e}/counter`,t)},async markCompleted(e,t,n,r){return aa.patch(`/api/matches/completed/${e}`,{winner:t,markedByName:n,markedByEmail:r})},async cancelProposal(e){return aa.post(`/api/proposals/${e}/cancel`)}};function hH(e){if(!e)return"N/A";if(e.includes("-")&&e.length===10){const[i,s,o]=e.split("-"),c=new Date(parseInt(i),parseInt(s)-1,parseInt(o)),d=String(c.getMonth()+1).padStart(2,"0"),f=String(c.getDate()).padStart(2,"0"),h=c.getFullYear();return`${d}-${f}-${h}`}let t;if(e.includes("-"))t=new Date(e);else if(e.includes("/")){const i=e.split("/");if(i.length===3){const[s,o,c]=i;t=new Date(c,s-1,o)}else return e}else return e;if(isNaN(t.getTime()))return e;const n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),a=t.getFullYear();return`${n}-${r}-${a}`}function pH({open:e,onClose:t,match:n,onCompleted:r,userPin:a,onMatchUpdated:i,senderName:s,senderEmail:o}){const[c,d]=E.useState({x:0,y:0}),[f,h]=E.useState(!1),m=E.useRef({x:0,y:0}),g=H=>{h(!0),m.current={x:H.clientX-c.x,y:H.clientY-c.y},document.body.style.userSelect="none"},b=H=>{f&&d({x:H.clientX-m.current.x,y:H.clientY-m.current.y})},_=()=>{h(!1),document.body.style.userSelect=""};E.useEffect(()=>(f?(window.addEventListener("mousemove",b),window.addEventListener("mouseup",_)):(window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",_)),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",_)}),[f]);const[w,x]=E.useState(!1),[k,R]=E.useState(!1),[I,O]=E.useState({player1:"",player2:""}),[A,L]=E.useState(n);E.useEffect(()=>{L(n)},[n]);const C=()=>{let H=n.player||n.senderName,U=n.opponent||n.receiverName;O({player1:H,player2:U}),R(!0)},T=async H=>{R(!1),x(!0);const U=s&&s.trim()?s:A.player||A.senderName||"Unknown",z=o&&o.trim()?o:A.senderEmail||"unknown@example.com";console.log("Marking winner with:",{winner:H,markedByName:U,markedByEmail:z});try{const F=await vc.markCompleted(A._id,H,U,z);F&&F.proposal?(L(F.proposal),i&&i(F.proposal)):(L({...A,winner:H}),i&&i({...A,winner:H})),r&&r(A._id)}catch{alert("Failed to mark as completed.")}x(!1)};if(!e||!A)return null;let S=new Date,j="",B="";if(A.date&&A.time){const[H,U,z]=A.date.split("-"),F=`${H}-${U.padStart(2,"0")}-${z.padStart(2,"0")}`;let V=A.time.trim().toUpperCase(),[Y,q]=V.split(" "),[N,W]=Y.split(":").map(Number);q==="PM"&&N<12&&(N+=12),q==="AM"&&N===12&&(N=0);const K=N.toString().padStart(2,"0"),$=(W||0).toString().padStart(2,"0"),J=`${K}:${$}`;S=new Date(`${F}T${J}:00`),j=hH(A.date),B=S.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"})}return D.jsx("div",{className:on.modalOverlay,onClick:t,children:D.jsxs("div",{className:on.modalContentSnazzy,style:{transform:`translate(${c.x}px, ${c.y}px)`,cursor:f?"grabbing":"default"},onClick:H=>H.stopPropagation(),role:"dialog","aria-modal":"true","aria-label":"Match Details",tabIndex:-1,children:[D.jsx("button",{className:on.modalCloseBtnSnazzy,onClick:t,"aria-label":"Close",children:"×"}),D.jsxs("div",{className:on.modalHeaderSnazzy,onMouseDown:g,style:{cursor:"grab",userSelect:"none"},children:[D.jsx("span",{className:on.modalAccentBar}),D.jsx("h2",{className:on.modalTitleSnazzy,children:"🎱 Match Details"})]}),D.jsxs("div",{className:on.modalDetailsSnazzy,children:[D.jsxs("div",{className:on.modalDetailRowSnazzy,children:[D.jsx("span",{className:on.modalDetailIcon,children:"🤝"}),D.jsx("span",{className:on.modalDetailLabelSnazzy,children:"Players:"}),D.jsxs("span",{className:on.modalDetailValueSnazzy,children:[D.jsx("span",{className:on.modalOpponentName,children:A.player||A.senderName}),D.jsx("span",{className:on.modalVs,children:"vs"}),D.jsx("span",{className:on.modalOpponentName,children:A.opponent||A.receiverName})]})]}),D.jsxs("div",{className:on.modalDetailRowSnazzy,children:[D.jsx("span",{className:on.modalDetailIcon,children:"📅"}),D.jsx("span",{className:on.modalDetailLabelSnazzy,children:"Date:"}),D.jsx("span",{className:on.modalDetailValueSnazzy,children:j})]}),D.jsxs("div",{className:on.modalDetailRowSnazzy,children:[D.jsx("span",{className:on.modalDetailIcon,children:"⏰"}),D.jsx("span",{className:on.modalDetailLabelSnazzy,children:"Time:"}),D.jsx("span",{className:on.modalDetailValueSnazzy,children:B})]}),D.jsxs("div",{className:on.modalDetailRowSnazzy,children:[D.jsx("span",{className:on.modalDetailIcon,children:"��"}),D.jsx("span",{className:on.modalDetailLabelSnazzy,children:"Location:"}),D.jsx("span",{className:on.modalDetailValueSnazzy,children:A.location})]}),A.gameType&&D.jsxs("div",{className:on.modalDetailRowSnazzy,children:[mH(A.gameType),D.jsx("span",{className:on.modalDetailLabelSnazzy,children:"Game Type:"}),D.jsx("span",{className:on.modalDetailValueSnazzy,children:A.gameType})]}),A.raceLength&&D.jsxs("div",{className:on.modalDetailRowSnazzy,children:[D.jsx("span",{className:on.modalDetailIcon,children:"🏁"}),D.jsx("span",{className:on.modalDetailLabelSnazzy,children:"Race to:"}),D.jsx("span",{className:on.modalDetailValueSnazzy,children:A.raceLength})]}),A.winner&&D.jsxs("div",{style:{color:"#ffd700",fontWeight:700,marginTop:6,fontSize:"1em"},children:["🏆 Winner: ",A.winner,a==="777777"&&A.winnerChangedByName&&D.jsxs("span",{style:{color:"#aaa",fontWeight:400,fontSize:"0.95em",marginLeft:8},children:["(marked by ",A.winnerChangedByName,A.winnerChangedAt?` on ${new Date(A.winnerChangedAt).toLocaleString()}`:"",")"]})]})]}),!A.completed&&D.jsxs(D.Fragment,{children:[D.jsx("button",{className:on.modalActionBtn,onClick:C,disabled:w,style:{marginTop:16,minWidth:180},type:"button",children:w?"Marking...":"Mark as Completed"}),D.jsx(LD,{open:k,onClose:()=>R(!1),player1:I.player1,player2:I.player2,onSelect:T})]})]})})}function mH(e){if(!e)return D.jsx("span",{className:on.modalDetailIcon,children:"🎯"});const t=e.trim().toLowerCase();return t==="8 ball"||t==="8-ball"||t==="8ball"?D.jsx("img",{src:Qx,alt:"8 Ball",className:on.gameTypeIcon}):t==="9 ball"||t==="9-ball"||t==="9ball"?D.jsx("img",{src:Gx,alt:"9 Ball",className:on.gameTypeIcon}):t==="10 ball"||t==="10-ball"||t==="10ball"?D.jsx("img",{src:Kx,alt:"10 Ball",className:on.gameTypeIcon}):t==="mixed"||t==="mixed games"?D.jsxs(D.Fragment,{children:[D.jsx("img",{src:Qx,alt:"8 Ball",className:on.gameTypeIcon}),D.jsx("img",{src:Gx,alt:"9 Ball",className:on.gameTypeIcon}),D.jsx("img",{src:Kx,alt:"10 Ball",className:on.gameTypeIcon})]}):D.jsx("span",{className:on.modalDetailIcon,children:"🎯"})}const gH="_proposalList_1gl2k_39",yH="_proposalCardButton_1gl2k_169",vH="_proposalCardLabel_1gl2k_211",bH="_proposalCardMessage_1gl2k_223",_H="_modalContent_1gl2k_277",wH="_confirmDialogBox_1gl2k_345",Ea={proposalList:gH,proposalCardButton:yH,proposalCardLabel:vH,proposalCardMessage:bH,modalContent:_H,confirmDialogBox:wH};function IT(e){if(!e)return"N/A";if(e.includes("-")&&e.length===10){const[i,s,o]=e.split("-"),c=new Date(parseInt(i),parseInt(s)-1,parseInt(o)),d=String(c.getMonth()+1).padStart(2,"0"),f=String(c.getDate()).padStart(2,"0"),h=c.getFullYear();return`${d}-${f}-${h}`}let t;if(e.includes("-"))t=new Date(e);else if(e.includes("/")){const i=e.split("/");if(i.length===3){const[s,o,c]=i;t=new Date(c,s-1,o)}else return e}else return e;if(isNaN(t.getTime()))return e;const n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),a=t.getFullYear();return`${n}-${r}-${a}`}function xH(e){if(!e)return"N/A";if(e.includes(":")&&e.length===5){const[t,n]=e.split(":"),r=parseInt(t),a=r>=12?"PM":"AM";return`${r===0?12:r>12?r-12:r}:${n} ${a}`}return e}function Q_({proposals:e,onSelect:t,onClose:n,type:r="received",isAdmin:a=!1,senderEmail:i,senderName:s,selectedDivision:o,phase:c}){console.log("Proposals:",e);const[d,f]=E.useState(null),[h,m]=E.useState(!1),[g,b]=E.useState(""),[_,w]=E.useState(e),[x,k]=E.useState("all"),R=e.filter(F=>F.isCounter),I=e.filter(F=>!F.isCounter),O=x==="counter"?R:I,[A,L]=E.useState(!1),[C,T]=E.useState(null),[S,j]=E.useState({player1:"",player2:""}),[B,H]=E.useState(!1),U=async F=>{m(!0),b("");try{await vc.cancelProposal(F),w(V=>V.filter(Y=>Y._id!==F)),f(null)}catch{b("Failed to cancel proposal. Please try again.")}finally{m(!1)}},z=r==="completed"?_:e;return D.jsxs(os,{open:!0,onClose:n,title:r==="completed"?"Completed Matches":r==="sent"?"Matches You Proposed":"Pending Match Proposals",maxWidth:"600px",children:[D.jsxs("div",{className:Ea.modalContent,style:{position:"relative",maxHeight:"none",overflowY:"visible"},children:[r!=="completed"&&D.jsxs("div",{style:{display:"flex",gap:8,marginBottom:16},children:[D.jsxs("button",{onClick:()=>k("all"),style:{background:x==="all"?"#e53e3e":"#333",color:"#fff",border:"none",borderRadius:"6px",padding:"0.5rem 1.2rem",fontWeight:"bold",cursor:"pointer",boxShadow:x==="all"?"0 2px 8px #e53e3e44":"none",position:"relative"},children:["All Proposals (",I.length,")",I.length>0&&D.jsx("span",{style:{background:"#fff",color:"#e53e3e",borderRadius:"50%",padding:"2px 8px",fontSize:"0.85em",fontWeight:"bold",marginLeft:8,position:"absolute",top:"-8px",right:"-12px",minWidth:24,textAlign:"center",boxShadow:"0 1px 4px #0002"},children:I.length})]}),D.jsxs("button",{onClick:()=>k("counter"),style:{background:x==="counter"?"#ff9800":"#333",color:"#fff",border:"none",borderRadius:"6px",padding:"0.5rem 1.2rem",fontWeight:"bold",cursor:"pointer",boxShadow:x==="counter"?"0 2px 8px #ff980044":"none",position:"relative"},children:["Counter Proposals (",R.length,")",R.length>0&&D.jsx("span",{style:{background:"#fff",color:"#ff9800",borderRadius:"50%",padding:"2px 8px",fontSize:"0.85em",fontWeight:"bold",marginLeft:8,position:"absolute",top:"-8px",right:"-12px",minWidth:24,textAlign:"center",boxShadow:"0 1px 4px #0002"},children:R.length})]})]}),D.jsx("ul",{className:Ea.proposalList,style:{listStyle:"none",padding:0,margin:0},children:r==="completed"?z.map(F=>D.jsx("li",{style:{position:"relative",marginBottom:12},children:D.jsxs("div",{className:Ea.proposalCardButton,style:{cursor:"default",background:"#23232a",color:"#28a745",border:"2px solid #28a745",borderRadius:8,padding:"1rem",fontWeight:600},children:[D.jsxs("div",{children:[D.jsx("span",{className:Ea.proposalCardLabel,children:"Opponent:"})," ",F.opponent||F.receiverName||F.senderName]}),D.jsxs("div",{children:[D.jsx("span",{className:Ea.proposalCardLabel,children:"Date:"})," ",IT(F.date),"  ",D.jsx("span",{className:Ea.proposalCardLabel,children:"Time:"})," ",F.time]}),D.jsxs("div",{children:[D.jsx("span",{className:Ea.proposalCardLabel,children:"Location:"})," ",F.location]}),D.jsxs("div",{children:[D.jsx("span",{className:Ea.proposalCardLabel,children:"Game Type:"})," ",F.gameType]}),D.jsxs("div",{children:[D.jsx("span",{className:Ea.proposalCardLabel,children:"Division:"})," ",F.divisions&&F.divisions.length>0?F.divisions.join(", "):o||"N/A",D.jsxs("span",{style:{marginLeft:12},children:[D.jsx("span",{className:Ea.proposalCardLabel,children:"Phase:"})," ",F.phase==="challenge"?"2":F.phase==="scheduled"?"1":F.phase||c||"N/A"]})]}),F.winner&&D.jsxs("div",{style:{color:"#ffd700",fontWeight:700,marginTop:6,fontSize:"1em"},children:["🏆 Winner: ",F.winner,a&&F.winnerChangedByName&&D.jsxs("span",{style:{color:"#aaa",fontWeight:400,fontSize:"0.95em",marginLeft:8},children:["(marked by ",F.winnerChangedByName,F.winnerChangedAt?` on ${new Date(F.winnerChangedAt).toLocaleString()}`:"",")"]})]}),a&&D.jsx("button",{style:{marginTop:10,background:"#444",color:"#fff",border:"1px solid #ffd700",borderRadius:6,padding:"4px 12px",fontWeight:600,cursor:"pointer",fontSize:"0.95em",display:"inline-block"},disabled:B,onClick:()=>{const V=F.player||F.senderName,Y=F.opponent||F.receiverName;T(F),j({player1:V,player2:Y}),L(!0)},type:"button",children:B?"Saving...":F.winner?"Edit Winner":"Set Winner"})]})},F._id)):O.map(F=>D.jsxs("li",{style:{position:"relative"},children:[D.jsxs("button",{onClick:()=>t(F),className:Ea.proposalCardButton,children:[D.jsxs("div",{children:[D.jsx("span",{className:Ea.proposalCardLabel,children:r==="sent"?"To:":"From:"}),r==="sent"?F.receiverName:F.senderName,F.isCounter&&D.jsx("span",{style:{background:"#ff9800",color:"#fff",borderRadius:"6px",padding:"2px 8px",fontSize:"0.85em",marginLeft:"8px",fontWeight:"bold",display:"inline-block"},children:"Counter Proposal"})]}),D.jsxs("div",{children:[D.jsx("span",{className:Ea.proposalCardLabel,children:"Date:"})," ",IT(F.date),"  ",D.jsx("span",{className:Ea.proposalCardLabel,children:"Time:"})," ",xH(F.time)]}),D.jsxs("div",{children:[D.jsx("span",{className:Ea.proposalCardLabel,children:"Location:"})," ",F.location]}),D.jsx("div",{className:Ea.proposalCardMessage,children:F.message}),D.jsxs("div",{children:[D.jsx("span",{className:Ea.proposalCardLabel,children:"Status:"}),D.jsx("span",{style:{color:F.status==="pending"?"#d32f2f":F.status==="countered"?"#fbc02d":"#388e3c"},children:F.status})]})]}),r==="sent"&&F.status==="pending"&&D.jsx("button",{className:Ea.cancelProposalBtn,style:{position:"absolute",top:10,right:10},onClick:V=>{V.stopPropagation(),f(F._id)},disabled:h,children:"Cancel"})]},F._id))}),O.length===0&&D.jsx("div",{style:{color:"#ffecb3",textAlign:"center",marginTop:16},children:"Nothing to see here."}),d&&D.jsxs("div",{className:Ea.confirmDialogBox,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1001,background:"#222",color:"#fff",borderRadius:"10px",padding:"2rem 2.5rem",boxShadow:"0 4px 32px #000a",maxWidth:"90vw",minWidth:"260px",textAlign:"center",border:"2px solid #e53e3e"},children:[D.jsx("p",{children:"Are you sure you want to cancel this proposal?"}),D.jsx("button",{onClick:()=>U(d),disabled:h,style:{marginRight:12},children:h?"Cancelling...":"Yes, Cancel"}),D.jsx("button",{onClick:()=>f(null),disabled:h,children:"No, Go Back"}),g&&D.jsx("div",{style:{color:"red",marginTop:8},children:g})]})]}),D.jsx(LD,{open:A,onClose:()=>L(!1),player1:S.player1,player2:S.player2,onSelect:async F=>{if(C){H(!0);try{const V=await vc.markCompleted(C._id,F,s,i),Y=V&&V.proposal?V.proposal:{...C,winner:F,winnerChangedByName:s,winnerChangedByEmail:i,winnerChangedAt:new Date().toISOString()};w(q=>q.map(N=>N._id===C._id?Y:N)),L(!1)}catch{alert("Failed to update winner.")}H(!1)}}})]})}function CH(e){if(!e)return"N/A";if(e.includes("-")&&e.length===10){const[i,s,o]=e.split("-"),c=new Date(parseInt(i),parseInt(s)-1,parseInt(o)),d=String(c.getMonth()+1).padStart(2,"0"),f=String(c.getDate()).padStart(2,"0"),h=c.getFullYear();return`${d}-${f}-${h}`}let t;if(e.includes("-"))t=new Date(e);else if(e.includes("/")){const i=e.split("/");if(i.length===3){const[s,o,c]=i;t=new Date(c,s-1,o)}else return e}else return e;if(isNaN(t.getTime()))return e;const n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),a=t.getFullYear();return`${n}-${r}-${a}`}function DH({proposal:e,phase:t,userNote:n,setUserNote:r,onConfirm:a,onClose:i,onCounterPropose:s,showNote:o=!0,confirmLabel:c="✅ Confirm Match",currentUserName:d,currentUserEmail:f}){if(!e)return null;const{senderName:h,receiverName:m,senderEmail:g,receiverEmail:b,day:_,date:w,time:x,location:k,gameType:R,raceLength:I,message:O,proposalNote:A}=e,L=f&&g&&f.toLowerCase()===g.toLowerCase()||d&&h&&d.toLowerCase()===h.toLowerCase();return D.jsxs("div",{className:ln.confirmMatchCard,children:[D.jsx("h1",{className:ln.confirmMatchTitle,children:D.jsx("span",{className:ln.redTitle,children:"🎱 Confirm Match"})}),D.jsxs("div",{className:ln.confirmMatchDetails,children:[D.jsxs("div",{className:ln.detailRow,children:[D.jsx("strong",{className:ln.redTitle,children:"You:"})," ",m||e.to||"N/A"]}),D.jsxs("div",{className:ln.detailRow,children:[D.jsx("strong",{className:ln.redTitle,children:"Opponent:"})," ",h||e.from||"N/A"]}),_&&D.jsxs("div",{className:ln.detailRow,children:[D.jsx("strong",{className:ln.redTitle,children:"Day:"})," ",_]}),D.jsxs("div",{className:ln.detailRow,children:[D.jsx("strong",{className:ln.redTitle,children:"Date:"})," ",CH(w)]}),D.jsxs("div",{className:ln.detailRow,children:[D.jsx("strong",{className:ln.redTitle,children:"Time:"})," ",x||"N/A"]}),D.jsxs("div",{className:ln.detailRow,children:[D.jsx("strong",{className:ln.redTitle,children:"Location:"})," ",k||"N/A"]}),R&&D.jsxs("div",{className:ln.detailRow,children:[D.jsx(Q0,{gameType:R,size:16}),D.jsx("strong",{className:ln.redTitle,children:"Game Type:"})," ",R]}),I&&D.jsxs("div",{className:ln.detailRow,children:[D.jsx("strong",{className:ln.redTitle,children:"Race to:"})," ",I]}),D.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:12,marginTop:18,justifyContent:"center",paddingBottom:8,width:"100%",boxSizing:"border-box"},children:L?D.jsxs(D.Fragment,{children:[D.jsx("span",{style:{color:"#888",fontWeight:500,fontSize:"1.1em"},children:"You proposed this match. You can edit or message, but only your opponent can confirm/counter/cancel."}),D.jsx("button",{className:ln.confirmBtn,style:{background:"#aaa",minWidth:120,marginLeft:16},onClick:i,children:"OK"})]}):D.jsxs(D.Fragment,{children:[D.jsx("button",{className:ln.confirmBtn,style:{minWidth:120},onClick:a,children:c}),s&&D.jsx("button",{className:ln.confirmBtn,style:{background:"#fff",color:"#d32f2f",border:"1.5px solid #d32f2f",minWidth:120},onClick:s,type:"button",children:"Counter-Propose"}),D.jsx("button",{className:ln.confirmBtn,style:{background:"#aaa",minWidth:120},onClick:i,children:"Close"})]})})]})]})}function sN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=sN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ue(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=sN(e))&&(r&&(r+=" "),r+=t);return r}function e1(){return typeof window<"u"}function yf(e){return oN(e)?(e.nodeName||"").toLowerCase():"#document"}function ns(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Uo(e){var t;return(t=(oN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function oN(e){return e1()?e instanceof Node||e instanceof ns(e).Node:!1}function Si(e){return e1()?e instanceof Element||e instanceof ns(e).Element:!1}function Lo(e){return e1()?e instanceof HTMLElement||e instanceof ns(e).HTMLElement:!1}function FT(e){return!e1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ns(e).ShadowRoot}function Kp(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=As(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function SH(e){return["table","td","th"].includes(yf(e))}function t1(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ND(e){const t=PD(),n=Si(e)?As(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function EH(e){let t=Dc(e);for(;Lo(t)&&!Wd(t);){if(ND(t))return t;if(t1(t))return null;t=Dc(t)}return null}function PD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wd(e){return["html","body","#document"].includes(yf(e))}function As(e){return ns(e).getComputedStyle(e)}function n1(e){return Si(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Dc(e){if(yf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||FT(e)&&e.host||Uo(e);return FT(t)?t.host:t}function lN(e){const t=Dc(e);return Wd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Lo(t)&&Kp(t)?t:lN(t)}function Cp(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=lN(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),s=ns(a);if(i){const o=Xx(s);return t.concat(s,s.visualViewport||[],Kp(a)?a:[],o&&n?Cp(o):[])}return t.concat(a,Cp(a,[],n))}function Xx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Gd=Math.min,pu=Math.max,uv=Math.round,Mg=Math.floor,Ro=e=>({x:e,y:e}),MH={left:"right",right:"left",bottom:"top",top:"bottom"},TH={start:"end",end:"start"};function kH(e,t,n){return pu(e,Gd(t,n))}function r1(e,t){return typeof e=="function"?e(t):e}function Kd(e){return e.split("-")[0]}function Qp(e){return e.split("-")[1]}function RH(e){return e==="x"?"y":"x"}function ID(e){return e==="y"?"height":"width"}function Id(e){return["top","bottom"].includes(Kd(e))?"y":"x"}function FD(e){return RH(Id(e))}function AH(e,t,n){n===void 0&&(n=!1);const r=Qp(e),a=FD(e),i=ID(a);let s=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=dv(s)),[s,dv(s)]}function OH(e){const t=dv(e);return[Jx(e),t,Jx(t)]}function Jx(e){return e.replace(/start|end/g,t=>TH[t])}function LH(e,t,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?i:s;default:return[]}}function NH(e,t,n,r){const a=Qp(e);let i=LH(Kd(e),n==="start",r);return a&&(i=i.map(s=>s+"-"+a),t&&(i=i.concat(i.map(Jx)))),i}function dv(e){return e.replace(/left|right|bottom|top/g,t=>MH[t])}function PH(e){return{top:0,right:0,bottom:0,left:0,...e}}function cN(e){return typeof e!="number"?PH(e):{top:e,right:e,bottom:e,left:e}}function fv(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}var hv=typeof document<"u"?E.useLayoutEffect:E.useEffect;const IH={...wL},FH=IH.useInsertionEffect,jH=FH||(e=>e());function UH(e){const t=E.useRef(()=>{});return jH(()=>{t.current=e}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function jT(e,t,n){let{reference:r,floating:a}=e;const i=Id(t),s=FD(t),o=ID(s),c=Kd(t),d=i==="y",f=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,m=r[o]/2-a[o]/2;let g;switch(c){case"top":g={x:f,y:r.y-a.height};break;case"bottom":g={x:f,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-a.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Qp(t)){case"start":g[s]-=m*(n&&d?-1:1);break;case"end":g[s]+=m*(n&&d?-1:1);break}return g}const BH=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:s}=n,o=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let d=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:h}=jT(d,r,c),m=r,g={},b=0;for(let _=0;_<o.length;_++){const{name:w,fn:x}=o[_],{x:k,y:R,data:I,reset:O}=await x({x:f,y:h,initialPlacement:r,placement:m,strategy:a,middlewareData:g,rects:d,platform:s,elements:{reference:e,floating:t}});f=k??f,h=R??h,g={...g,[w]:{...g[w],...I}},O&&b<=50&&(b++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(d=O.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):O.rects),{x:f,y:h}=jT(d,m,c)),_=-1)}return{x:f,y:h,placement:m,strategy:a,middlewareData:g}};async function $H(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:s,elements:o,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=r1(t,e),b=cN(g),w=o[m?h==="floating"?"reference":"floating":h],x=fv(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:d,rootBoundary:f,strategy:c})),k=h==="floating"?{x:r,y:a,width:s.floating.width,height:s.floating.height}:s.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),I=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},O=fv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:k,offsetParent:R,strategy:c}):k);return{top:(x.top-O.top+b.top)/I.y,bottom:(O.bottom-x.bottom+b.bottom)/I.y,left:(x.left-O.left+b.left)/I.x,right:(O.right-x.right+b.right)/I.x}}const zH=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:s,elements:o,middlewareData:c}=t,{element:d,padding:f=0}=r1(e,t)||{};if(d==null)return{};const h=cN(f),m={x:n,y:r},g=FD(a),b=ID(g),_=await s.getDimensions(d),w=g==="y",x=w?"top":"left",k=w?"bottom":"right",R=w?"clientHeight":"clientWidth",I=i.reference[b]+i.reference[g]-m[g]-i.floating[b],O=m[g]-i.reference[g],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d));let L=A?A[R]:0;(!L||!await(s.isElement==null?void 0:s.isElement(A)))&&(L=o.floating[R]||i.floating[b]);const C=I/2-O/2,T=L/2-_[b]/2-1,S=Gd(h[x],T),j=Gd(h[k],T),B=S,H=L-_[b]-j,U=L/2-_[b]/2+C,z=kH(B,U,H),F=!c.arrow&&Qp(a)!=null&&U!==z&&i.reference[b]/2-(U<B?S:j)-_[b]/2<0,V=F?U<B?U-B:U-H:0;return{[g]:m[g]+V,data:{[g]:z,centerOffset:U-z-V,...F&&{alignmentOffset:V}},reset:F}}}),HH=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:s,initialPlacement:o,platform:c,elements:d}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:_=!0,...w}=r1(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Kd(a),k=Id(o),R=Kd(o)===o,I=await(c.isRTL==null?void 0:c.isRTL(d.floating)),O=m||(R||!_?[dv(o)]:OH(o)),A=b!=="none";!m&&A&&O.push(...NH(o,_,b,I));const L=[o,...O],C=await $H(t,w),T=[];let S=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&T.push(C[x]),h){const z=AH(a,s,I);T.push(C[z[0]],C[z[1]])}if(S=[...S,{placement:a,overflows:T}],!T.every(z=>z<=0)){var j,B;const z=(((j=i.flip)==null?void 0:j.index)||0)+1,F=L[z];if(F){var H;const Y=h==="alignment"?k!==Id(F):!1,q=((H=S[0])==null?void 0:H.overflows[0])>0;if(!Y||q)return{data:{index:z,overflows:S},reset:{placement:F}}}let V=(B=S.filter(Y=>Y.overflows[0]<=0).sort((Y,q)=>Y.overflows[1]-q.overflows[1])[0])==null?void 0:B.placement;if(!V)switch(g){case"bestFit":{var U;const Y=(U=S.filter(q=>{if(A){const N=Id(q.placement);return N===k||N==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(N=>N>0).reduce((N,W)=>N+W,0)]).sort((q,N)=>q[1]-N[1])[0])==null?void 0:U[0];Y&&(V=Y);break}case"initialPlacement":V=o;break}if(a!==V)return{reset:{placement:V}}}return{}}}};async function VH(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),s=Kd(n),o=Qp(n),c=Id(n)==="y",d=["left","top"].includes(s)?-1:1,f=i&&c?-1:1,h=r1(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof b=="number"&&(g=o==="end"?b*-1:b),c?{x:g*f,y:m*d}:{x:m*d,y:g*f}}const qH=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:s,middlewareData:o}=t,c=await VH(t,e);return s===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}};function uN(e){const t=As(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Lo(e),i=a?e.offsetWidth:n,s=a?e.offsetHeight:r,o=uv(n)!==i||uv(r)!==s;return o&&(n=i,r=s),{width:n,height:r,$:o}}function jD(e){return Si(e)?e:e.contextElement}function Fd(e){const t=jD(e);if(!Lo(t))return Ro(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=uN(t);let s=(i?uv(n.width):n.width)/r,o=(i?uv(n.height):n.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const YH=Ro(0);function dN(e){const t=ns(e);return!PD()||!t.visualViewport?YH:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function WH(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ns(e)?!1:t}function xu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=jD(e);let s=Ro(1);t&&(r?Si(r)&&(s=Fd(r)):s=Fd(e));const o=WH(i,n,r)?dN(i):Ro(0);let c=(a.left+o.x)/s.x,d=(a.top+o.y)/s.y,f=a.width/s.x,h=a.height/s.y;if(i){const m=ns(i),g=r&&Si(r)?ns(r):r;let b=m,_=Xx(b);for(;_&&r&&g!==b;){const w=Fd(_),x=_.getBoundingClientRect(),k=As(_),R=x.left+(_.clientLeft+parseFloat(k.paddingLeft))*w.x,I=x.top+(_.clientTop+parseFloat(k.paddingTop))*w.y;c*=w.x,d*=w.y,f*=w.x,h*=w.y,c+=R,d+=I,b=ns(_),_=Xx(b)}}return fv({width:f,height:h,x:c,y:d})}function UD(e,t){const n=n1(e).scrollLeft;return t?t.left+n:xu(Uo(e)).left+n}function fN(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:UD(e,r)),i=r.top+t.scrollTop;return{x:a,y:i}}function GH(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",s=Uo(r),o=t?t1(t.floating):!1;if(r===s||o&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Ro(1);const f=Ro(0),h=Lo(r);if((h||!h&&!i)&&((yf(r)!=="body"||Kp(s))&&(c=n1(r)),Lo(r))){const g=xu(r);d=Fd(r),f.x=g.x+r.clientLeft,f.y=g.y+r.clientTop}const m=s&&!h&&!i?fN(s,c,!0):Ro(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+m.x,y:n.y*d.y-c.scrollTop*d.y+f.y+m.y}}function KH(e){return Array.from(e.getClientRects())}function QH(e){const t=Uo(e),n=n1(e),r=e.ownerDocument.body,a=pu(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=pu(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+UD(e);const o=-n.scrollTop;return As(r).direction==="rtl"&&(s+=pu(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:s,y:o}}function ZH(e,t){const n=ns(e),r=Uo(e),a=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,o=0,c=0;if(a){i=a.width,s=a.height;const d=PD();(!d||d&&t==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}return{width:i,height:s,x:o,y:c}}function XH(e,t){const n=xu(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Lo(e)?Fd(e):Ro(1),s=e.clientWidth*i.x,o=e.clientHeight*i.y,c=a*i.x,d=r*i.y;return{width:s,height:o,x:c,y:d}}function UT(e,t,n){let r;if(t==="viewport")r=ZH(e,n);else if(t==="document")r=QH(Uo(e));else if(Si(t))r=XH(t,n);else{const a=dN(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return fv(r)}function hN(e,t){const n=Dc(e);return n===t||!Si(n)||Wd(n)?!1:As(n).position==="fixed"||hN(n,t)}function JH(e,t){const n=t.get(e);if(n)return n;let r=Cp(e,[],!1).filter(o=>Si(o)&&yf(o)!=="body"),a=null;const i=As(e).position==="fixed";let s=i?Dc(e):e;for(;Si(s)&&!Wd(s);){const o=As(s),c=ND(s);!c&&o.position==="fixed"&&(a=null),(i?!c&&!a:!c&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Kp(s)&&!c&&hN(e,s))?r=r.filter(f=>f!==s):a=o,s=Dc(s)}return t.set(e,r),r}function eV(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const s=[...n==="clippingAncestors"?t1(t)?[]:JH(t,this._c):[].concat(n),r],o=s[0],c=s.reduce((d,f)=>{const h=UT(t,f,a);return d.top=pu(h.top,d.top),d.right=Gd(h.right,d.right),d.bottom=Gd(h.bottom,d.bottom),d.left=pu(h.left,d.left),d},UT(t,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function tV(e){const{width:t,height:n}=uN(e);return{width:t,height:n}}function nV(e,t,n){const r=Lo(t),a=Uo(t),i=n==="fixed",s=xu(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const c=Ro(0);function d(){c.x=UD(a)}if(r||!r&&!i)if((yf(t)!=="body"||Kp(a))&&(o=n1(t)),r){const g=xu(t,!0,i,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else a&&d();i&&!r&&a&&d();const f=a&&!r&&!i?fN(a,o):Ro(0),h=s.left+o.scrollLeft-c.x-f.x,m=s.top+o.scrollTop-c.y-f.y;return{x:h,y:m,width:s.width,height:s.height}}function Z_(e){return As(e).position==="static"}function BT(e,t){if(!Lo(e)||As(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Uo(e)===n&&(n=n.ownerDocument.body),n}function pN(e,t){const n=ns(e);if(t1(e))return n;if(!Lo(e)){let a=Dc(e);for(;a&&!Wd(a);){if(Si(a)&&!Z_(a))return a;a=Dc(a)}return n}let r=BT(e,t);for(;r&&SH(r)&&Z_(r);)r=BT(r,t);return r&&Wd(r)&&Z_(r)&&!ND(r)?n:r||EH(e)||n}const rV=async function(e){const t=this.getOffsetParent||pN,n=this.getDimensions,r=await n(e.floating);return{reference:nV(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function aV(e){return As(e).direction==="rtl"}const iV={convertOffsetParentRelativeRectToViewportRelativeRect:GH,getDocumentElement:Uo,getClippingRect:eV,getOffsetParent:pN,getElementRects:rV,getClientRects:KH,getDimensions:tV,getScale:Fd,isElement:Si,isRTL:aV};function mN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function sV(e,t){let n=null,r;const a=Uo(e);function i(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function s(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:f,top:h,width:m,height:g}=d;if(o||t(),!m||!g)return;const b=Mg(h),_=Mg(a.clientWidth-(f+m)),w=Mg(a.clientHeight-(h+g)),x=Mg(f),R={rootMargin:-b+"px "+-_+"px "+-w+"px "+-x+"px",threshold:pu(0,Gd(1,c))||1};let I=!0;function O(A){const L=A[0].intersectionRatio;if(L!==c){if(!I)return s();L?s(!1,L):r=setTimeout(()=>{s(!1,1e-7)},1e3)}L===1&&!mN(d,e.getBoundingClientRect())&&s(),I=!1}try{n=new IntersectionObserver(O,{...R,root:a.ownerDocument})}catch{n=new IntersectionObserver(O,R)}n.observe(e)}return s(!0),i}function oV(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=jD(e),f=a||i?[...d?Cp(d):[],...Cp(t)]:[];f.forEach(x=>{a&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=d&&o?sV(d,n):null;let m=-1,g=null;s&&(g=new ResizeObserver(x=>{let[k]=x;k&&k.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var R;(R=g)==null||R.observe(t)})),n()}),d&&!c&&g.observe(d),g.observe(t));let b,_=c?xu(e):null;c&&w();function w(){const x=xu(e);_&&!mN(_,x)&&n(),_=x,b=requestAnimationFrame(w)}return n(),()=>{var x;f.forEach(k=>{a&&k.removeEventListener("scroll",n),i&&k.removeEventListener("resize",n)}),h==null||h(),(x=g)==null||x.disconnect(),g=null,c&&cancelAnimationFrame(b)}}const lV=qH,cV=HH,$T=zH,uV=(e,t,n)=>{const r=new Map,a={platform:iV,...n},i={...a.platform,_c:r};return BH(e,t,{...a,platform:i})};var my=typeof document<"u"?E.useLayoutEffect:E.useEffect;function pv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!pv(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!pv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function gN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function zT(e,t){const n=gN(e);return Math.round(t*n)/n}function X_(e){const t=E.useRef(e);return my(()=>{t.current=e}),t}function dV(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:s}={},transform:o=!0,whileElementsMounted:c,open:d}=e,[f,h]=E.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=E.useState(r);pv(m,r)||g(r);const[b,_]=E.useState(null),[w,x]=E.useState(null),k=E.useCallback(Y=>{Y!==A.current&&(A.current=Y,_(Y))},[]),R=E.useCallback(Y=>{Y!==L.current&&(L.current=Y,x(Y))},[]),I=i||b,O=s||w,A=E.useRef(null),L=E.useRef(null),C=E.useRef(f),T=c!=null,S=X_(c),j=X_(a),B=X_(d),H=E.useCallback(()=>{if(!A.current||!L.current)return;const Y={placement:t,strategy:n,middleware:m};j.current&&(Y.platform=j.current),uV(A.current,L.current,Y).then(q=>{const N={...q,isPositioned:B.current!==!1};U.current&&!pv(C.current,N)&&(C.current=N,Gp.flushSync(()=>{h(N)}))})},[m,t,n,j,B]);my(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(Y=>({...Y,isPositioned:!1})))},[d]);const U=E.useRef(!1);my(()=>(U.current=!0,()=>{U.current=!1}),[]),my(()=>{if(I&&(A.current=I),O&&(L.current=O),I&&O){if(S.current)return S.current(I,O,H);H()}},[I,O,H,S,T]);const z=E.useMemo(()=>({reference:A,floating:L,setReference:k,setFloating:R}),[k,R]),F=E.useMemo(()=>({reference:I,floating:O}),[I,O]),V=E.useMemo(()=>{const Y={position:n,left:0,top:0};if(!F.floating)return Y;const q=zT(F.floating,f.x),N=zT(F.floating,f.y);return o?{...Y,transform:"translate("+q+"px, "+N+"px)",...gN(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:N}},[n,o,F.floating,f.x,f.y]);return E.useMemo(()=>({...f,update:H,refs:z,elements:F,floatingStyles:V}),[f,H,z,F,V])}const fV=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?$T({element:r.current,padding:a}).fn(n):{}:r?$T({element:r,padding:a}).fn(n):{}}}},hV=(e,t)=>({...lV(e),options:[e,t]}),pV=(e,t)=>({...cV(e),options:[e,t]}),mV=(e,t)=>({...fV(e),options:[e,t]}),gV={...wL};let HT=!1,yV=0;const VT=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+yV++;function vV(){const[e,t]=E.useState(()=>HT?VT():void 0);return hv(()=>{e==null&&t(VT())},[]),E.useEffect(()=>{HT=!0},[]),e}const bV=gV.useId,yN=bV||vV,_V=E.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:a},middlewareData:{arrow:i,shift:s}},width:o=14,height:c=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:h,stroke:m,d:g,style:{transform:b,..._}={},...w}=t,x=yN(),[k,R]=E.useState(!1);if(hv(()=>{if(!a)return;As(a).direction==="rtl"&&R(!0)},[a]),!a)return null;const[I,O]=r.split("-"),A=I==="top"||I==="bottom";let L=h;(A&&s!=null&&s.x||!A&&s!=null&&s.y)&&(L=null);const C=f*2,T=C/2,S=o/2*(d/-8+1),j=c/2*d/4,B=!!g,H=L&&O==="end"?"bottom":"top";let U=L&&O==="end"?"right":"left";L&&k&&(U=O==="end"?"left":"right");const z=(i==null?void 0:i.x)!=null?L||i.x:"",F=(i==null?void 0:i.y)!=null?L||i.y:"",V=g||"M0,0"+(" H"+o)+(" L"+(o-S)+","+(c-j))+(" Q"+o/2+","+c+" "+S+","+(c-j))+" Z",Y={top:B?"rotate(180deg)":"",left:B?"rotate(90deg)":"rotate(-90deg)",bottom:B?"":"rotate(180deg)",right:B?"rotate(-90deg)":"rotate(90deg)"}[I];return D.jsxs("svg",{...w,"aria-hidden":!0,ref:n,width:B?o:o+C,height:o,viewBox:"0 0 "+o+" "+(c>o?c:o),style:{position:"absolute",pointerEvents:"none",[U]:z,[H]:F,[I]:A||B?"100%":"calc(100% - "+C/2+"px)",transform:[Y,b].filter(q=>!!q).join(" "),..._},children:[C>0&&D.jsx("path",{clipPath:"url(#"+x+")",fill:"none",stroke:m,strokeWidth:C+(g?0:1),d:V}),D.jsx("path",{stroke:C&&!g?w.fill:"none",d:V}),D.jsx("clipPath",{id:x,children:D.jsx("rect",{x:-T,y:T*(B?-1:1),width:o+C,height:o})})]})});function wV(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(a=>a(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const xV=E.createContext(null),CV=E.createContext(null),DV=()=>{var e;return((e=E.useContext(xV))==null?void 0:e.id)||null},SV=()=>E.useContext(CV);function EV(e){const{open:t=!1,onOpenChange:n,elements:r}=e,a=yN(),i=E.useRef({}),[s]=E.useState(()=>wV()),o=DV()!=null,[c,d]=E.useState(r.reference),f=UH((g,b,_)=>{i.current.openEvent=g?b:void 0,s.emit("openchange",{open:g,event:b,reason:_,nested:o}),n==null||n(g,b,_)}),h=E.useMemo(()=>({setPositionReference:d}),[]),m=E.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return E.useMemo(()=>({dataRef:i,open:t,onOpenChange:f,elements:m,events:s,floatingId:a,refs:h}),[t,f,m,s,a,h])}function MV(e){e===void 0&&(e={});const{nodeId:t}=e,n=EV({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[i,s]=E.useState(null),[o,c]=E.useState(null),f=(a==null?void 0:a.domReference)||i,h=E.useRef(null),m=SV();hv(()=>{f&&(h.current=f)},[f]);const g=dV({...e,elements:{...a,...o&&{reference:o}}}),b=E.useCallback(R=>{const I=Si(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),getClientRects:()=>R.getClientRects(),contextElement:R}:R;c(I),g.refs.setReference(I)},[g.refs]),_=E.useCallback(R=>{(Si(R)||R===null)&&(h.current=R,s(R)),(Si(g.refs.reference.current)||g.refs.reference.current===null||R!==null&&!Si(R))&&g.refs.setReference(R)},[g.refs]),w=E.useMemo(()=>({...g.refs,setReference:_,setPositionReference:b,domReference:h}),[g.refs,_,b]),x=E.useMemo(()=>({...g.elements,domReference:f}),[g.elements,f]),k=E.useMemo(()=>({...g,...r,refs:w,elements:x,nodeId:t}),[g,w,x,t,r]);return hv(()=>{r.dataRef.current.floatingContext=k;const R=m==null?void 0:m.nodesRef.current.find(I=>I.id===t);R&&(R.context=k)}),E.useMemo(()=>({...g,context:k,refs:w,elements:x}),[g,w,x,k])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var eC=function(t,n){return eC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},eC(t,n)};function Fa(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");eC(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Wn=function(){return Wn=Object.assign||function(n){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},Wn.apply(this,arguments)};function Eo(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var TV=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,a=r===void 0?!1:r,i=e.className,s=e.children,o=n?"Choose Time":"Choose Date".concat(a?" and Time":"");return v.createElement("div",{className:i,role:"dialog","aria-label":o,"aria-modal":"true"},s)},kV=function(e,t){var n=E.useRef(null),r=E.useRef(e);r.current=e;var a=E.useCallback(function(i){var s,o=i.composed&&i.composedPath&&i.composedPath().find(function(c){return c instanceof Node})||i.target;n.current&&!n.current.contains(o)&&(t&&o instanceof HTMLElement&&o.classList.contains(t)||(s=r.current)===null||s===void 0||s.call(r,i))},[t]);return E.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),n},a1=function(e){var t=e.children,n=e.onClickOutside,r=e.className,a=e.containerRef,i=e.style,s=e.ignoreClass,o=kV(n,s);return v.createElement("div",{className:r,style:i,ref:function(c){o.current=c,a&&(a.current=c)}},t)},ct;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(ct||(ct={}));function vN(){var e=typeof window<"u"?window:globalThis;return e}var Zp=12;function ar(e){if(e==null)return new Date;var t=typeof e=="string"?nN(e):Mt(e);return i1(t)?t:new Date}function J_(e,t,n,r,a){a===void 0&&(a=ar());for(var i=Qd(n)||Qd(BD()),s=Array.isArray(t)?t:[t],o=0,c=s;o<c.length;o++){var d=c[o],f=KB(e,d,a,{locale:i});if(i1(f)&&(!r||e===Ir(f,d,n)))return f}return null}function i1(e,t){return av(e)&&!wu(e,new Date("1/1/1800"))}function Ir(e,t,n){if(n==="en")return lv(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Qd(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||Qd(BD()),lv(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function xs(e,t){var n=t.dateFormat,r=t.locale,a=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Ir(e,a,r)||""}var bN=" - ";function RV(e,t,n){if(!e)return"";var r=xs(e,n),a=t?xs(t,n):"";return"".concat(r).concat(bN).concat(a)}function AV(e,t){if(!(e!=null&&e.length))return"";var n=e[0]?xs(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=xs(e[1],t);return"".concat(n,", ").concat(r)}var a=e.length-1;return"".concat(n," (+").concat(a,")")}function ew(e,t){var n=t.hour,r=n===void 0?0:n,a=t.minute,i=a===void 0?0:a,s=t.second,o=s===void 0?0:s;return fy(hy(py(e,o),i),r)}function OV(e){return TD(e)}function LV(e,t){return Ir(e,"ddd",t)}function gy(e){return _u(e)}function bc(e,t,n){var r=Qd(t||BD());return Sl(e,{locale:r,weekStartsOn:n})}function wl(e){return WL(e)}function $h(e){return J0(e)}function qT(e){return qx(e)}function YT(){return _u(ar())}function WT(e){return qL(e)}function NV(e){return tU(e)}function PV(e){return YL(e)}function xo(e,t){return e&&t?JB(e,t):!e&&!t}function Ci(e,t){return e&&t?ZB(e,t):!e&&!t}function mv(e,t){return e&&t?XB(e,t):!e&&!t}function Yn(e,t){return e&&t?Jj(e,t):!e&&!t}function au(e,t){return e&&t?eB(e,t):!e&&!t}function zh(e,t,n){var r,a=_u(t),i=qL(n);try{r=xp(e,{start:a,end:i})}catch{r=!1}return r}function BD(){var e=vN();return e.__localeId__}function Qd(e){if(typeof e=="string"){var t=vN();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function IV(e,t,n){return t(Ir(e,"EEEE",n))}function FV(e,t){return Ir(e,"EEEEEE",t)}function jV(e,t){return Ir(e,"EEE",t)}function $D(e,t){return Ir(Cs(ar(),e),"LLLL",t)}function _N(e,t){return Ir(Cs(ar(),e),"LLL",t)}function UV(e,t){return Ir(Sd(ar(),e),"QQQ",t)}function Es(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,i=n.excludeDates,s=n.excludeDateIntervals,o=n.includeDates,c=n.includeDateIntervals,d=n.filterDate;return Xp(e,{minDate:r,maxDate:a})||i&&i.some(function(f){return f instanceof Date?Yn(e,f):Yn(e,f.date)})||s&&s.some(function(f){var h=f.start,m=f.end;return xp(e,{start:h,end:m})})||o&&!o.some(function(f){return Yn(e,f)})||c&&!c.some(function(f){var h=f.start,m=f.end;return xp(e,{start:h,end:m})})||d&&!d(ar(e))||!1}function zD(e,t){var n=t===void 0?{}:t,r=n.excludeDates,a=n.excludeDateIntervals;return a&&a.length>0?a.some(function(i){var s=i.start,o=i.end;return xp(e,{start:s,end:o})}):r&&r.some(function(i){var s;return i instanceof Date?Yn(e,i):Yn(e,(s=i.date)!==null&&s!==void 0?s:new Date)})||!1}function wN(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,i=n.excludeDates,s=n.includeDates,o=n.filterDate;return Xp(e,{minDate:r?WL(r):void 0,maxDate:a?YL(a):void 0})||(i==null?void 0:i.some(function(c){return Ci(e,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return Ci(e,c)})||o&&!o(ar(e))||!1}function Tg(e,t,n,r){var a=wn(e),i=ai(e),s=wn(t),o=ai(t),c=wn(r);return a===s&&a===c?i<=n&&n<=o:a<s?c===a&&i<=n||c===s&&o>=n||c<s&&c>a:!1}function BV(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,i=n.excludeDates,s=n.includeDates;return Xp(e,{minDate:r,maxDate:a})||i&&i.some(function(o){return Ci(o instanceof Date?o:o.date,e)})||s&&!s.some(function(o){return Ci(o,e)})||!1}function kg(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,i=n.excludeDates,s=n.includeDates,o=n.filterDate;return Xp(e,{minDate:r,maxDate:a})||(i==null?void 0:i.some(function(c){return mv(e,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return mv(e,c)})||o&&!o(ar(e))||!1}function Rg(e,t,n){if(!t||!n||!av(t)||!av(n))return!1;var r=wn(t),a=wn(n);return r<=e&&a>=e}function yy(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,i=n.excludeDates,s=n.includeDates,o=n.filterDate,c=new Date(e,0,1);return Xp(c,{minDate:r?J0(r):void 0,maxDate:a?GL(a):void 0})||(i==null?void 0:i.some(function(d){return xo(c,d instanceof Date?d:d.date)}))||s&&!s.some(function(d){return xo(c,d)})||o&&!o(ar(c))||!1}function Ag(e,t,n,r){var a=wn(e),i=fu(e),s=wn(t),o=fu(t),c=wn(r);return a===s&&a===c?i<=n&&n<=o:a<s?c===a&&i<=n||c===s&&o>=n||c<s&&c>a:!1}function Xp(e,t){var n,r=t===void 0?{}:t,a=r.minDate,i=r.maxDate;return(n=a&&qd(e,a)<0||i&&qd(e,i)>0)!==null&&n!==void 0?n:!1}function GT(e,t){return t.some(function(n){return bl(n)===bl(e)&&_l(n)===_l(e)&&yc(n)===yc(e)})}function KT(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,a=n.includeTimes,i=n.filterTime;return r&&GT(e,r)||a&&!GT(e,a)||i&&!i(e)||!1}function QT(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var a=ar();a=fy(a,bl(e)),a=hy(a,_l(e)),a=py(a,yc(e));var i=ar();i=fy(i,bl(n)),i=hy(i,_l(n)),i=py(i,yc(n));var s=ar();s=fy(s,bl(r)),s=hy(s,_l(r)),s=py(s,yc(r));var o;try{o=!xp(a,{start:i,end:s})}catch{o=!1}return o}function ZT(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,i=hu(e,1);return r&&iv(r,i)>0||a&&a.every(function(s){return iv(s,i)>0})||!1}function XT(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,i=Zs(e,1);return r&&iv(i,r)>0||a&&a.every(function(s){return iv(i,s)>0})||!1}function $V(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,i=J0(e),s=aN(i);return r&&sv(r,s)>0||a&&a.every(function(o){return sv(o,s)>0})||!1}function zV(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,i=GL(e),s=MD(i,1);return r&&sv(s,r)>0||a&&a.every(function(o){return sv(s,o)>0})||!1}function JT(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,i=Yd(e,1);return r&&ov(r,i)>0||a&&a.every(function(s){return ov(s,i)>0})||!1}function HV(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.yearItemNumber,i=a===void 0?Zp:a,s=$h(Yd(e,i)),o=mc(s,i).endPeriod,c=r&&wn(r);return c&&c>o||!1}function ek(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,i=yl(e,1);return r&&ov(i,r)>0||a&&a.every(function(s){return ov(i,s)>0})||!1}function VV(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.yearItemNumber,i=a===void 0?Zp:a,s=yl(e,i),o=mc(s,i).startPeriod,c=r&&wn(r);return c&&c<o||!1}function xN(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return qd(a,t)>=0});return ET(r)}else return n?ET(n):t}function CN(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return qd(a,t)<=0});return ST(r)}else return n?ST(n):t}function tk(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,a=0,i=e.length;a<i;a++){var s=e[a];if(vl(s)){var o=Ir(s,"MM.dd.yyyy"),c=r.get(o)||[];c.includes(t)||(c.push(t),r.set(o,c))}else if(typeof s=="object"){var d=Object.keys(s),f=(n=d[0])!==null&&n!==void 0?n:"",h=s[f];if(typeof f=="string"&&Array.isArray(h))for(var m=0,g=h.length;m<g;m++){var b=h[m];if(b){var o=Ir(b,"MM.dd.yyyy"),c=r.get(o)||[];c.includes(f)||(c.push(f),r.set(o,c))}}}}return r}function qV(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function YV(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var a=r.date,i=r.holidayName;if(vl(a)){var s=Ir(a,"MM.dd.yyyy"),o=n.get(s)||{className:"",holidayNames:[]};if(!("className"in o&&o.className===t&&qV(o.holidayNames,[i]))){o.className=t;var c=o.holidayNames;o.holidayNames=c?Eo(Eo([],c,!0),[i],!1):[i],n.set(s,o)}}}),n}function WV(e,t,n,r,a){for(var i=a.length,s=[],o=0;o<i;o++){var c=e,d=a[o];d&&(c=Kj(c,bl(d)),c=Vx(c,_l(d)),c=Xj(c,yc(d)));var f=Vx(e,(n+1)*r);Cc(c,t)&&wu(c,f)&&d!=null&&s.push(d)}return s}function nk(e){return e<10?"0".concat(e):"".concat(e)}function mc(e,t){t===void 0&&(t=Zp);var n=Math.ceil(wn(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function GV(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function rk(e){var t=e.getSeconds(),n=e.getMilliseconds();return Mt(e.getTime()-t*1e3-n)}function KV(e,t){return rk(e).getTime()===rk(t).getTime()}function ak(e){if(!vl(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function ik(e,t){if(!vl(e)||!vl(t))throw new Error("Invalid date received");var n=ak(e),r=ak(t);return wu(n,r)}function DN(e){return e.key===ct.Space}var QV=function(e){Fa(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=v.createRef(),r.onTimeChange=function(a){var i,s;r.setState({time:a});var o=r.props.date,c=o instanceof Date&&!isNaN(+o),d=c?o:new Date;if(a!=null&&a.includes(":")){var f=a.split(":"),h=f[0],m=f[1];d.setHours(Number(h)),d.setMinutes(Number(m))}(s=(i=r.props).onChange)===null||s===void 0||s.call(i,d)},r.renderTimeInput=function(){var a=r.state.time,i=r.props,s=i.date,o=i.timeString,c=i.customTimeInput;return c?E.cloneElement(c,{date:s,value:a,onChange:r.onTimeChange}):v.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var d;(d=r.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:a,onChange:function(d){r.onTimeChange(d.target.value||o)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return v.createElement("div",{className:"react-datepicker__input-time-container"},v.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),v.createElement("div",{className:"react-datepicker-time__input-container"},v.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(E.Component),ZV=function(e){Fa(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=E.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var a,i,s=r.key;s===ct.Space&&(r.preventDefault(),r.key=ct.Enter),(i=(a=n.props).handleOnKeyDown)===null||i===void 0||i.call(a,r)},n.isSameDay=function(r){return Yn(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var a=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return n.isSameDayOrWeek(s)}):n.isSameDayOrWeek(n.props.selected),i=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!a&&n.isSameDayOrWeek(n.props.preSelection)&&!i},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Es(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return zD(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Yn(n.props.day,bc(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&Yn(r,bc(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,a=r.day,i=r.highlightDates;if(!i)return!1;var s=Ir(a,"MM.dd.yyyy");return i.get(s)},n.getHolidaysClass=function(){var r,a=n.props,i=a.day,s=a.holidays;if(!s)return[void 0];var o=Ir(i,"MM.dd.yyyy");return s.has(o)?[(r=s.get(o))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,a=r.day,i=r.startDate,s=r.endDate;return!i||!s?!1:zh(a,i,s)},n.isInSelectingRange=function(){var r,a=n.props,i=a.day,s=a.selectsStart,o=a.selectsEnd,c=a.selectsRange,d=a.selectsDisabledDaysInRange,f=a.startDate,h=a.endDate,m=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(s||o||c)||!m||!d&&n.isDisabled()?!1:s&&h&&(wu(m,h)||au(m,h))?zh(i,m,h):o&&f&&(Cc(m,f)||au(m,f))||c&&f&&!h&&(Cc(m,f)||au(m,f))?zh(i,f,m):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var a=n.props,i=a.day,s=a.startDate,o=a.selectsStart,c=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return o?Yn(i,c):Yn(i,s)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var a=n.props,i=a.day,s=a.endDate,o=a.selectsEnd,c=a.selectsRange,d=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return o||c?Yn(i,d):Yn(i,s)},n.isRangeStart=function(){var r=n.props,a=r.day,i=r.startDate,s=r.endDate;return!i||!s?!1:Yn(i,a)},n.isRangeEnd=function(){var r=n.props,a=r.day,i=r.startDate,s=r.endDate;return!i||!s?!1:Yn(s,a)},n.isWeekend=function(){var r=QU(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===ai(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(ai(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(ar())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var a=n.props.dayClassName?n.props.dayClassName(r):void 0;return Ue("react-datepicker__day",a,"react-datepicker__day--"+LV(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,a=r.day,i=r.ariaLabelPrefixWhenEnabled,s=i===void 0?"Choose":i,o=r.ariaLabelPrefixWhenDisabled,c=o===void 0?"Not available":o,d=n.isDisabled()||n.isExcluded()?c:s;return"".concat(d," ").concat(Ir(a,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,a=r.day,i=r.holidays,s=i===void 0?new Map:i,o=r.excludeDates,c=Ir(a,"MM.dd.yyyy"),d=[];return s.has(c)&&d.push.apply(d,s.get(c).holidayNames),n.isExcluded()&&d.push(o==null?void 0:o.filter(function(f){return f instanceof Date?Yn(f,a):Yn(f==null?void 0:f.date,a)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),d.join(", ")},n.getTabIndex=function(){var r=n.props.selected,a=n.props.preSelection,i=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&Yn(a,r))?0:-1;return i},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(OT(n.props.day),n.props.day):OT(n.props.day)},n.render=function(){return v.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&v.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,a;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(E.Component),XV=function(e){Fa(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=E.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var a,i,s=r.key;s===ct.Space&&(r.preventDefault(),r.key=ct.Enter),(i=(a=n.props).handleOnKeyDown)===null||i===void 0||i.call(a,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Yn(n.props.date,n.props.selected)&&Yn(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Yn(n.props.date,n.props.selected)&&Yn(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var a=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Yn(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(a=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,a=n.isWeekDisabled,i=n.ariaLabelPrefix,s=i===void 0?t.defaultProps.ariaLabelPrefix:i,o=n.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o&&!a,"react-datepicker__week-number--selected":!!o&&Yn(this.props.date,this.props.selected)};return v.createElement("div",{ref:this.weekNumberEl,className:Ue(c),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},t}(E.Component),JV=function(e){Fa(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return Es(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,a){n.props.onDayClick&&n.props.onDayClick(r,a)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,a,i){for(var s,o,c,d=new Date(r),f=0;f<7;f++){var h=new Date(r);h.setDate(h.getDate()+f);var m=!n.isDisabled(h);if(m){d=h;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(d,a,i),n.props.showWeekPicker&&n.handleDayClick(d,i),((s=n.props.shouldCloseOnSelect)!==null&&s!==void 0?s:t.defaultProps.shouldCloseOnSelect)&&((c=(o=n.props).setOpen)===null||c===void 0||c.call(o,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):OV(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),a=Ys(r,6),i=new Date(r);i<=a;){if(!n.isDisabled(i))return!1;i=Ys(i,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),a=[],i=n.formatWeekNumber(r);if(n.props.showWeekNumber){var s=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,i):void 0;a.push(v.createElement(XV,Wn({key:"W"},t.defaultProps,n.props,{weekNumber:i,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:s})))}return a.concat([0,1,2,3,4,5,6].map(function(o){var c=Ys(r,o);return v.createElement(ZV,Wn({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:n.handleDayClick.bind(n,c),onMouseEnter:n.handleDayMouseEnter.bind(n,c)}))}))},n.startOfWeek=function(){return bc(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Yn(n.startOfWeek(),n.props.selected)&&Yn(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Yn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return v.createElement("div",{className:Ue(n)},this.renderDays())},t}(E.Component),Ch,eq=6,jd={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},tw=(Ch={},Ch[jd.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ch[jd.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ch[jd.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ch),Og=1;function sk(e,t){return e?jd.FOUR_COLUMNS:t?jd.TWO_COLUMNS:jd.THREE_COLUMNS}var tq=function(e){Fa(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=Eo([],Array(12),!0).map(function(){return E.createRef()}),n.QUARTER_REFS=Eo([],Array(4),!0).map(function(){return E.createRef()}),n.isDisabled=function(r){return Es(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return zD(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,a){var i,s;(s=(i=n.props).onDayClick)===null||s===void 0||s.call(i,r,a,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var a,i;(i=(a=n.props).onDayMouseEnter)===null||i===void 0||i.call(a,r)},n.handleMouseLeave=function(){var r,a;(a=(r=n.props).onMouseLeave)===null||a===void 0||a.call(r)},n.isRangeStartMonth=function(r){var a=n.props,i=a.day,s=a.startDate,o=a.endDate;return!s||!o?!1:Ci(Cs(i,r),s)},n.isRangeStartQuarter=function(r){var a=n.props,i=a.day,s=a.startDate,o=a.endDate;return!s||!o?!1:mv(Sd(i,r),s)},n.isRangeEndMonth=function(r){var a=n.props,i=a.day,s=a.startDate,o=a.endDate;return!s||!o?!1:Ci(Cs(i,r),o)},n.isRangeEndQuarter=function(r){var a=n.props,i=a.day,s=a.startDate,o=a.endDate;return!s||!o?!1:mv(Sd(i,r),o)},n.isInSelectingRangeMonth=function(r){var a,i=n.props,s=i.day,o=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,f=i.startDate,h=i.endDate,m=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(o||c||d)||!m?!1:o&&h?Tg(m,h,r,s):c&&f||d&&f&&!h?Tg(f,m,r,s):!1},n.isSelectingMonthRangeStart=function(r){var a;if(!n.isInSelectingRangeMonth(r))return!1;var i=n.props,s=i.day,o=i.startDate,c=i.selectsStart,d=Cs(s,r),f=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return c?Ci(d,f):Ci(d,o)},n.isSelectingMonthRangeEnd=function(r){var a;if(!n.isInSelectingRangeMonth(r))return!1;var i=n.props,s=i.day,o=i.endDate,c=i.selectsEnd,d=i.selectsRange,f=Cs(s,r),h=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return c||d?Ci(f,h):Ci(f,o)},n.isInSelectingRangeQuarter=function(r){var a,i=n.props,s=i.day,o=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,f=i.startDate,h=i.endDate,m=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(o||c||d)||!m?!1:o&&h?Ag(m,h,r,s):c&&f||d&&f&&!h?Ag(f,m,r,s):!1},n.isWeekInMonth=function(r){var a=n.props.day,i=Ys(r,6);return Ci(r,a)||Ci(i,a)},n.isCurrentMonth=function(r,a){return wn(r)===wn(ar())&&a===ai(ar())},n.isCurrentQuarter=function(r,a){return wn(r)===wn(ar())&&a===fu(ar())},n.isSelectedMonth=function(r,a,i){return ai(i)===a&&wn(r)===wn(i)},n.isSelectMonthInList=function(r,a,i){return i.some(function(s){return n.isSelectedMonth(r,a,s)})},n.isSelectedQuarter=function(r,a,i){return fu(r)===a&&wn(r)===wn(i)},n.isMonthSelected=function(){var r=n.props,a=r.day,i=r.selected,s=r.selectedDates,o=r.selectsMultiple,c=ai(a);return o?s==null?void 0:s.some(function(d){return n.isSelectedMonth(a,c,d)}):!!i&&n.isSelectedMonth(a,c,i)},n.renderWeeks=function(){for(var r=[],a=n.props.fixedHeight,i=0,s=!1,o=bc(wl(n.props.day),n.props.locale,n.props.calendarStartDay),c=function(b){return n.props.showWeekPicker?bc(b,n.props.locale,n.props.calendarStartDay):n.props.preSelection},d=function(b){return n.props.showWeekPicker?bc(b,n.props.locale,n.props.calendarStartDay):n.props.selected},f=n.props.selected?d(n.props.selected):void 0,h=n.props.preSelection?c(n.props.preSelection):void 0;r.push(v.createElement(JV,Wn({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:i,day:o,month:ai(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:f,preSelection:h,showWeekNumber:n.props.showWeekNumbers}))),!s;){i++,o=rv(o,1);var m=a&&i>=eq,g=!a&&!n.isWeekInMonth(o);if(m||g)if(n.props.peekNextMonth)s=!0;else break}return r},n.onMonthClick=function(r,a){var i=n.isMonthDisabledForLabelDate(a),s=i.isDisabled,o=i.labelDate;s||n.handleDayClick(wl(o),r)},n.onMonthMouseEnter=function(r){var a=n.isMonthDisabledForLabelDate(r),i=a.isDisabled,s=a.labelDate;i||n.handleDayMouseEnter(wl(s))},n.handleMonthNavigation=function(r,a){var i,s,o,c;(s=(i=n.props).setPreSelection)===null||s===void 0||s.call(i,a),(c=(o=n.MONTH_REFS[r])===null||o===void 0?void 0:o.current)===null||c===void 0||c.focus()},n.handleKeyboardNavigation=function(r,a,i){var s,o=n.props,c=o.selected,d=o.preSelection,f=o.setPreSelection,h=o.minDate,m=o.maxDate,g=o.showFourColumnMonthYearPicker,b=o.showTwoColumnMonthYearPicker;if(d){var _=sk(g,b),w=n.getVerticalOffset(_),x=(s=tw[_])===null||s===void 0?void 0:s.grid,k=function(L,C,T){var S,j,B=C,H=T;switch(L){case ct.ArrowRight:B=Zs(C,Og),H=T===11?0:T+Og;break;case ct.ArrowLeft:B=hu(C,Og),H=T===0?11:T-Og;break;case ct.ArrowUp:B=hu(C,w),H=!((S=x==null?void 0:x[0])===null||S===void 0)&&S.includes(T)?T+12-w:T-w;break;case ct.ArrowDown:B=Zs(C,w),H=!((j=x==null?void 0:x[x.length-1])===null||j===void 0)&&j.includes(T)?T-12+w:T+w;break}return{newCalculatedDate:B,newCalculatedMonth:H}},R=function(L,C,T){for(var S=40,j=L,B=!1,H=0,U=k(j,C,T),z=U.newCalculatedDate,F=U.newCalculatedMonth;!B;){if(H>=S){z=C,F=T;break}if(h&&z<h){j=ct.ArrowRight;var V=k(j,z,F);z=V.newCalculatedDate,F=V.newCalculatedMonth}if(m&&z>m){j=ct.ArrowLeft;var V=k(j,z,F);z=V.newCalculatedDate,F=V.newCalculatedMonth}if(BV(z,n.props)){var V=k(j,z,F);z=V.newCalculatedDate,F=V.newCalculatedMonth}else B=!0;H++}return{newCalculatedDate:z,newCalculatedMonth:F}};if(a===ct.Enter){n.isMonthDisabled(i)||(n.onMonthClick(r,i),f==null||f(c));return}var I=R(a,d,i),O=I.newCalculatedDate,A=I.newCalculatedMonth;switch(a){case ct.ArrowRight:case ct.ArrowLeft:case ct.ArrowUp:case ct.ArrowDown:n.handleMonthNavigation(A,O);break}}},n.getVerticalOffset=function(r){var a,i;return(i=(a=tw[r])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&i!==void 0?i:0},n.onMonthKeyDown=function(r,a){var i=n.props,s=i.disabledKeyboardNavigation,o=i.handleOnMonthKeyDown,c=r.key;c!==ct.Tab&&r.preventDefault(),s||n.handleKeyboardNavigation(r,c,a),o&&o(r)},n.onQuarterClick=function(r,a){var i=Sd(n.props.day,a);kg(i,n.props)||n.handleDayClick(qT(i),r)},n.onQuarterMouseEnter=function(r){var a=Sd(n.props.day,r);kg(a,n.props)||n.handleDayMouseEnter(qT(a))},n.handleQuarterNavigation=function(r,a){var i,s,o,c;n.isDisabled(a)||n.isExcluded(a)||((s=(i=n.props).setPreSelection)===null||s===void 0||s.call(i,a),(c=(o=n.QUARTER_REFS[r-1])===null||o===void 0?void 0:o.current)===null||c===void 0||c.focus())},n.onQuarterKeyDown=function(r,a){var i,s,o=r.key;if(!n.props.disabledKeyboardNavigation)switch(o){case ct.Enter:n.onQuarterClick(r,a),(s=(i=n.props).setPreSelection)===null||s===void 0||s.call(i,n.props.selected);break;case ct.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===4?1:a+1,MD(n.props.preSelection,1));break;case ct.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===1?4:a-1,aN(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var a,i=n.props,s=i.day,o=i.minDate,c=i.maxDate,d=i.excludeDates,f=i.includeDates,h=Cs(s,r);return{isDisabled:(a=(o||c||d||f)&&wN(h,n.props))!==null&&a!==void 0?a:!1,labelDate:h}},n.isMonthDisabled=function(r){var a=n.isMonthDisabledForLabelDate(r).isDisabled;return a},n.getMonthClassNames=function(r){var a=n.props,i=a.day,s=a.startDate,o=a.endDate,c=a.preSelection,d=a.monthClassName,f=d?d(Cs(i,r)):void 0,h=n.getSelection();return Ue("react-datepicker__month-text","react-datepicker__month-".concat(r),f,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":h?n.isSelectMonthInList(i,r,h):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&c&&n.isSelectedMonth(i,r,c)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":s&&o?Tg(s,o,r,i):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(i,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var a=ai(n.props.preSelection),i=n.isMonthDisabledForLabelDate(a).isDisabled,s=r===a&&!(i||n.props.disabledKeyboardNavigation)?"0":"-1";return s},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var a=fu(n.props.preSelection),i=kg(n.props.day,n.props),s=r===a&&!(i||n.props.disabledKeyboardNavigation)?"0":"-1";return s},n.getAriaLabel=function(r){var a=n.props,i=a.chooseDayAriaLabelPrefix,s=i===void 0?"Choose":i,o=a.disabledDayAriaLabelPrefix,c=o===void 0?"Not available":o,d=a.day,f=a.locale,h=Cs(d,r),m=n.isDisabled(h)||n.isExcluded(h)?c:s;return"".concat(m," ").concat(Ir(h,"MMMM yyyy",f))},n.getQuarterClassNames=function(r){var a=n.props,i=a.day,s=a.startDate,o=a.endDate,c=a.selected,d=a.minDate,f=a.maxDate,h=a.excludeDates,m=a.includeDates,g=a.filterDate,b=a.preSelection,_=a.disabledKeyboardNavigation,w=(d||f||h||m||g)&&kg(Sd(i,r),n.props);return Ue("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":c?n.isSelectedQuarter(i,r,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!_&&b&&n.isSelectedQuarter(i,r,b)&&!w,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":s&&o?Ag(s,o,r,i):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(i,r)})},n.getMonthContent=function(r){var a=n.props,i=a.showFullMonthYearPicker,s=a.renderMonthContent,o=a.locale,c=a.day,d=_N(r,o),f=$D(r,o);return s?s(r,d,f,c):i?f:d},n.getQuarterContent=function(r){var a,i=n.props,s=i.renderQuarterContent,o=i.locale,c=UV(r,o);return(a=s==null?void 0:s(r,c))!==null&&a!==void 0?a:c},n.renderMonths=function(){var r,a=n.props,i=a.showTwoColumnMonthYearPicker,s=a.showFourColumnMonthYearPicker,o=a.day,c=a.selected,d=(r=tw[sk(s,i)])===null||r===void 0?void 0:r.grid;return d==null?void 0:d.map(function(f,h){return v.createElement("div",{className:"react-datepicker__month-wrapper",key:h},f.map(function(m,g){return v.createElement("div",{ref:n.MONTH_REFS[m],key:g,onClick:function(b){n.onMonthClick(b,m)},onKeyDown:function(b){DN(b)&&(b.preventDefault(),b.key=ct.Enter),n.onMonthKeyDown(b,m)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(m)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(m)}:void 0,tabIndex:Number(n.getTabIndex(m)),className:n.getMonthClassNames(m),"aria-disabled":n.isMonthDisabled(m),role:"option","aria-label":n.getAriaLabel(m),"aria-current":n.isCurrentMonth(o,m)?"date":void 0,"aria-selected":c?n.isSelectedMonth(o,m,c):void 0},n.getMonthContent(m))}))})},n.renderQuarters=function(){var r=n.props,a=r.day,i=r.selected,s=[1,2,3,4];return v.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(o,c){return v.createElement("div",{key:c,ref:n.QUARTER_REFS[c],role:"option",onClick:function(d){n.onQuarterClick(d,o)},onKeyDown:function(d){n.onQuarterKeyDown(d,o)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(o)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(o)}:void 0,className:n.getQuarterClassNames(o),"aria-selected":i?n.isSelectedQuarter(a,o,i):void 0,tabIndex:Number(n.getQuarterTabIndex(o)),"aria-current":n.isCurrentQuarter(a,o)?"date":void 0},n.getQuarterContent(o))}))},n.getClassNames=function(){var r=n.props,a=r.selectingDate,i=r.selectsStart,s=r.selectsEnd,o=r.showMonthYearPicker,c=r.showQuarterYearPicker,d=r.showWeekPicker;return Ue("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(i||s)},{"react-datepicker__monthPicker":o},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":d})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,a=n.selectedDates,i=n.selectsMultiple;if(i)return a;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,a=n.showQuarterYearPicker,i=n.day,s=n.ariaLabelPrefix,o=s===void 0?"Month ":s,c=o?o.trim()+" ":"";return v.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(Ir(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},t}(E.Component),nq=function(e){Fa(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,a){return v.createElement("div",{className:n.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,a),"aria-selected":n.isSelectedMonth(a)?"true":void 0},n.isSelectedMonth(a)?v.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return v.createElement(a1,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(E.Component),rq=function(e){Fa(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(a,i){return v.createElement("option",{key:a,value:i},a)})},n.renderSelectMode=function(r){return v.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(a){return n.onChange(parseInt(a.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,a){return v.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},v.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),v.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[n.props.month]))},n.renderDropdown=function(r){return v.createElement(nq,Wn({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var a=n.state.dropdownVisible,i=[n.renderReadView(!a,r)];return a&&i.unshift(n.renderDropdown(r)),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return _N(i,n.props.locale)}:function(i){return $D(i,n.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(r);break;case"select":a=this.renderSelectMode(r);break}return v.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t}(E.Component);function aq(e,t){for(var n=[],r=wl(e),a=wl(t);!Cc(r,a);)n.push(ar(r)),r=Zs(r,1);return n}var iq=function(e){Fa(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(a){var i=Wx(a),s=xo(r.props.date,a)&&Ci(r.props.date,a);return v.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:r.onChange.bind(r,i),"aria-selected":s?"true":void 0},s?v.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Ir(a,r.props.dateFormat,r.props.locale))})},r.onChange=function(a){return r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:aq(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=Ue({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return v.createElement(a1,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(E.Component),sq=function(e){Fa(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=wl(n.props.minDate),a=wl(n.props.maxDate),i=[];!Cc(r,a);){var s=Wx(r);i.push(v.createElement("option",{key:s,value:s},Ir(r,n.props.dateFormat,n.props.locale))),r=Zs(r,1)}return i},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return v.createElement("select",{value:Wx(wl(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var a=Ir(n.props.date,n.props.dateFormat,n.props.locale);return v.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},v.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),v.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},n.renderDropdown=function(){return v.createElement(iq,Wn({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,a=[n.renderReadView(!r)];return r&&a.unshift(n.renderDropdown()),a},n.onChange=function(r){n.toggleDropdown();var a=ar(r);xo(n.props.date,a)&&Ci(n.props.date,a)||n.props.onChange(a)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return v.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(E.Component),oq=function(e){Fa(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,a,i;n.list&&(n.list.scrollTop=(i=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((a=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&a!==void 0?a:0):n.list.clientHeight,n.centerLi))!==null&&i!==void 0?i:0)})},n.handleClick=function(r){var a,i;(n.props.minTime||n.props.maxTime)&&QT(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&KT(r,n.props)||(i=(a=n.props).onChange)===null||i===void 0||i.call(a,r)},n.isSelectedTime=function(r){return n.props.selected&&KV(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&QT(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&KT(r,n.props)},n.liClasses=function(r){var a,i=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&i.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&i.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(bl(r)*3600+_l(r)*60+yc(r))%(((a=n.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},n.handleOnKeyDown=function(r,a){var i,s;r.key===ct.Space&&(r.preventDefault(),r.key=ct.Enter),(r.key===ct.ArrowUp||r.key===ct.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===ct.ArrowDown||r.key===ct.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===ct.Enter&&n.handleClick(a),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.renderTimes=function(){for(var r,a=[],i=typeof n.props.format=="string"?n.props.format:"p",s=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,o=n.props.selected||n.props.openToDate||ar(),c=gy(o),d=n.props.injectTimes&&n.props.injectTimes.sort(function(w,x){return w.getTime()-x.getTime()}),f=60*GV(o),h=f/s,m=0;m<h;m++){var g=Vx(c,m*s);if(a.push(g),d){var b=WV(c,g,m,s,d);a=a.concat(b)}}var _=a.reduce(function(w,x){return x.getTime()<=o.getTime()?x:w},a[0]);return a.map(function(w){return v.createElement("li",{key:w.valueOf(),onClick:n.handleClick.bind(n,w),className:n.liClasses(w),ref:function(x){w===_&&(n.centerLi=x)},onKeyDown:function(x){n.handleOnKeyDown(x,w)},tabIndex:w===_?0:-1,role:"option","aria-selected":n.isSelectedTime(w)?"true":void 0,"aria-disabled":n.isDisabledTime(w)?"true":void 0},Ir(w,i,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?v.createElement(v.Fragment,null):v.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},v.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,a=this.state.height;return v.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),v.createElement("div",{className:"react-datepicker__time"},v.createElement("div",{className:"react-datepicker__time-box"},v.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){n.list=i},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t}(E.Component),ok=3,lq=function(e){Fa(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=Eo([],Array(r.props.yearItemNumber),!0).map(function(){return E.createRef()}),r.isDisabled=function(a){return Es(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(a){return zD(a,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var a;return(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection},r.updateFocusOnPaginate=function(a){var i=function(){var s,o;(o=(s=r.YEAR_REFS[a])===null||s===void 0?void 0:s.current)===null||o===void 0||o.focus()};window.requestAnimationFrame(i)},r.handleYearClick=function(a,i){r.props.onDayClick&&r.props.onDayClick(a,i)},r.handleYearNavigation=function(a,i){var s,o,c,d,f=r.props,h=f.date,m=f.yearItemNumber;if(!(h===void 0||m===void 0)){var g=mc(h,m).startPeriod;r.isDisabled(i)||r.isExcluded(i)||((o=(s=r.props).setPreSelection)===null||o===void 0||o.call(s,i),a-g<0?r.updateFocusOnPaginate(m-(g-a)):a-g>=m?r.updateFocusOnPaginate(Math.abs(m-(a-g))):(d=(c=r.YEAR_REFS[a-g])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())}},r.isSameDay=function(a,i){return Yn(a,i)},r.isCurrentYear=function(a){return a===wn(ar())},r.isRangeStart=function(a){return r.props.startDate&&r.props.endDate&&xo(wo(ar(),a),r.props.startDate)},r.isRangeEnd=function(a){return r.props.startDate&&r.props.endDate&&xo(wo(ar(),a),r.props.endDate)},r.isInRange=function(a){return Rg(a,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(a){var i=r.props,s=i.selectsStart,o=i.selectsEnd,c=i.selectsRange,d=i.startDate,f=i.endDate;return!(s||o||c)||!r.selectingDate()?!1:s&&f?Rg(a,r.selectingDate(),f):o&&d||c&&d&&!f?Rg(a,d,r.selectingDate()):!1},r.isSelectingRangeStart=function(a){var i;if(!r.isInSelectingRange(a))return!1;var s=r.props,o=s.startDate,c=s.selectsStart,d=wo(ar(),a);return c?xo(d,(i=r.selectingDate())!==null&&i!==void 0?i:null):xo(d,o??null)},r.isSelectingRangeEnd=function(a){var i;if(!r.isInSelectingRange(a))return!1;var s=r.props,o=s.endDate,c=s.selectsEnd,d=s.selectsRange,f=wo(ar(),a);return c||d?xo(f,(i=r.selectingDate())!==null&&i!==void 0?i:null):xo(f,o??null)},r.isKeyboardSelected=function(a){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var i=r.props,s=i.minDate,o=i.maxDate,c=i.excludeDates,d=i.includeDates,f=i.filterDate,h=$h(wo(r.props.date,a)),m=(s||o||c||d||f)&&yy(a,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Yn(h,$h(r.props.selected))&&Yn(h,$h(r.props.preSelection))&&!m}},r.isSelectedYear=function(a){var i=r.props,s=i.selectsMultiple,o=i.selected,c=i.selectedDates;return s?c==null?void 0:c.some(function(d){return a===wn(d)}):!!o&&a===wn(o)},r.onYearClick=function(a,i){var s=r.props.date;s!==void 0&&r.handleYearClick($h(wo(s,i)),a)},r.onYearKeyDown=function(a,i){var s,o,c=a.key,d=r.props,f=d.date,h=d.yearItemNumber,m=d.handleOnKeyDown;if(c!==ct.Tab&&a.preventDefault(),!r.props.disabledKeyboardNavigation)switch(c){case ct.Enter:if(r.props.selected==null)break;r.onYearClick(a,i),(o=(s=r.props).setPreSelection)===null||o===void 0||o.call(s,r.props.selected);break;case ct.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(i+1,yl(r.props.preSelection,1));break;case ct.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(i-1,Yd(r.props.preSelection,1));break;case ct.ArrowUp:{if(f===void 0||h===void 0||r.props.preSelection==null)break;var g=mc(f,h).startPeriod,b=ok,_=i-b;if(_<g){var w=h%b;i>=g&&i<g+w?b=w:b+=w,_=i-b}r.handleYearNavigation(_,Yd(r.props.preSelection,b));break}case ct.ArrowDown:{if(f===void 0||h===void 0||r.props.preSelection==null)break;var x=mc(f,h).endPeriod,b=ok,_=i+b;if(_>x){var w=h%b;i<=x&&i>x-w?b=w:b+=w,_=i+b}r.handleYearNavigation(_,yl(r.props.preSelection,b));break}}m&&m(a)},r.getYearClassNames=function(a){var i=r.props,s=i.date,o=i.minDate,c=i.maxDate,d=i.excludeDates,f=i.includeDates,h=i.filterDate,m=i.yearClassName;return Ue("react-datepicker__year-text","react-datepicker__year-".concat(a),s?m==null?void 0:m(wo(s,a)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(a),"react-datepicker__year-text--disabled":(o||c||d||f||h)&&yy(a,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(a),"react-datepicker__year-text--range-start":r.isRangeStart(a),"react-datepicker__year-text--range-end":r.isRangeEnd(a),"react-datepicker__year-text--in-range":r.isInRange(a),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(a),"react-datepicker__year-text--today":r.isCurrentYear(a)})},r.getYearTabIndex=function(a){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var i=wn(r.props.preSelection),s=yy(a,r.props);return a===i&&!s?"0":"-1"},r.getYearContent=function(a){return r.props.renderYearContent?r.props.renderYearContent(a):a},r}return t.prototype.render=function(){var n=this,r=[],a=this.props,i=a.date,s=a.yearItemNumber,o=a.onYearMouseEnter,c=a.onYearMouseLeave;if(i===void 0)return null;for(var d=mc(i,s),f=d.startPeriod,h=d.endPeriod,m=function(_){r.push(v.createElement("div",{ref:g.YEAR_REFS[_-f],onClick:function(w){n.onYearClick(w,_)},onKeyDown:function(w){DN(w)&&(w.preventDefault(),w.key=ct.Enter),n.onYearKeyDown(w,_)},tabIndex:Number(g.getYearTabIndex(_)),className:g.getYearClassNames(_),onMouseEnter:g.props.usePointerEvent?void 0:function(w){return o(w,_)},onPointerEnter:g.props.usePointerEvent?function(w){return o(w,_)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(w){return c(w,_)},onPointerLeave:g.props.usePointerEvent?function(w){return c(w,_)}:void 0,key:_,"aria-current":g.isCurrentYear(_)?"date":void 0},g.getYearContent(_)))},g=this,b=f;b<=h;b++)m(b);return v.createElement("div",{className:"react-datepicker__year"},v.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t}(E.Component);function cq(e,t,n,r){for(var a=[],i=0;i<2*t+1;i++){var s=e+t-i,o=!0;n&&(o=wn(n)<=s),r&&o&&(o=wn(r)>=s),o&&a.push(s)}return a}var uq=function(e){Fa(t,e);function t(n){var r=e.call(this,n)||this;r.renderOptions=function(){var o=r.props.year,c=r.state.yearsList.map(function(h){return v.createElement("div",{className:o===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:r.onChange.bind(r,h),"aria-selected":o===h?"true":void 0},o===h?v.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",h)}),d=r.props.minDate?wn(r.props.minDate):null,f=r.props.maxDate?wn(r.props.maxDate):null;return(!f||!r.state.yearsList.find(function(h){return h===f}))&&c.unshift(v.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},v.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!r.state.yearsList.find(function(h){return h===d}))&&c.push(v.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},v.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},r.onChange=function(o){r.props.onChange(o)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(o){var c=r.state.yearsList.map(function(d){return d+o});r.setState({yearsList:c})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var a=n.yearDropdownItemNumber,i=n.scrollableYearDropdown,s=a||(i?10:5);return r.state={yearsList:cq(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=E.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,a=r?r.find(function(i){return i.ariaSelected}):null;n.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=Ue({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return v.createElement(a1,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(E.Component),dq=function(e){Fa(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?wn(n.props.minDate):1900,a=n.props.maxDate?wn(n.props.maxDate):2100,i=[],s=r;s<=a;s++)i.push(v.createElement("option",{key:s,value:s},s));return i},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return v.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return v.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return n.toggleDropdown(a)}},v.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),v.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return v.createElement(uq,Wn({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,a=[n.renderReadView(!r)];return r&&a.unshift(n.renderDropdown()),a},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,a){var i;(i=n.onSelect)===null||i===void 0||i.call(n,r,a),n.setOpen()},n.onSelect=function(r,a){var i,s;(s=(i=n.props).onSelect)===null||s===void 0||s.call(i,r,a)},n.setOpen=function(){var r,a;(a=(r=n.props).setOpen)===null||a===void 0||a.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return v.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(E.Component),fq=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],hq=function(e){var t=(e.className||"").split(/\s+/);return fq.some(function(n){return t.indexOf(n)>=0})},pq=function(e){Fa(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(a){r.props.onClickOutside(a)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(a){var i,s;hq(a.target)&&((s=(i=r.props).onDropdownFocus)===null||s===void 0||s.call(i,a))},r.getDateInView=function(){var a=r.props,i=a.preSelection,s=a.selected,o=a.openToDate,c=xN(r.props),d=CN(r.props),f=ar(),h=o||s||i;return h||(c&&wu(f,c)?c:d&&Cc(f,d)?d:f)},r.increaseMonth=function(){r.setState(function(a){var i=a.date;return{date:Zs(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(a){var i=a.date;return{date:hu(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(a,i,s){r.props.onSelect(a,i,s),r.props.setPreSelection&&r.props.setPreSelection(a)},r.handleDayMouseEnter=function(a){r.setState({selectingDate:a}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(a,i){r.setState({selectingDate:wo(ar(),i)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(a,i)},r.handleYearMouseLeave=function(a,i){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(a,i)},r.handleYearChange=function(a){var i,s,o,c;(s=(i=r.props).onYearChange)===null||s===void 0||s.call(i,a),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(a),(c=(o=r.props).setOpen)===null||c===void 0||c.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(a)},r.getEnabledPreSelectionDateForMonth=function(a){if(!Es(a,r.props))return a;for(var i=wl(a),s=PV(a),o=eU(s,i),c=null,d=0;d<=o;d++){var f=Ys(i,d);if(!Es(f,r.props)){c=f;break}}return c},r.handleMonthChange=function(a){var i,s,o,c=(i=r.getEnabledPreSelectionDateForMonth(a))!==null&&i!==void 0?i:a;r.handleCustomMonthChange(c),r.props.adjustDateOnChange&&(r.props.onSelect(c),(o=(s=r.props).setOpen)===null||o===void 0||o.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(c)},r.handleCustomMonthChange=function(a){var i,s;(s=(i=r.props).onMonthChange)===null||s===void 0||s.call(i,a),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(a){r.handleYearChange(a),r.handleMonthChange(a)},r.changeYear=function(a){r.setState(function(i){var s=i.date;return{date:wo(s,Number(a))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(a){r.setState(function(i){var s=i.date;return{date:Cs(s,Number(a))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(a){r.setState(function(i){var s=i.date;return{date:wo(Cs(s,ai(a)),wn(a))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(a){a===void 0&&(a=r.state.date);var i=bc(a,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push(v.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(o){var c=Ys(i,o),d=r.formatWeekday(c,r.props.locale),f=r.props.weekDayClassName?r.props.weekDayClassName(c):void 0;return v.createElement("div",{key:o,"aria-label":Ir(c,"EEEE",r.props.locale),className:Ue("react-datepicker__day-name",f)},d)}))},r.formatWeekday=function(a,i){return r.props.formatWeekDay?IV(a,r.props.formatWeekDay,i):r.props.useWeekdaysShort?jV(a,i):FV(a,i)},r.decreaseYear=function(){r.setState(function(a){var i,s=a.date;return{date:Yd(s,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var a,i,s;if(!r.props.renderCustomHeader){var o=(a=r.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=r.props.showPreviousMonths?o-1:0,d=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:c,f=hu(r.state.date,d),h;switch(!0){case r.props.showMonthYearPicker:h=JT(r.state.date,r.props);break;case r.props.showYearPicker:h=HV(r.state.date,r.props);break;case r.props.showQuarterYearPicker:h=$V(r.state.date,r.props);break;default:h=ZT(f,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&h||r.props.showTimeSelectOnly)){var m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],g=["react-datepicker__navigation","react-datepicker__navigation--previous"],b=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(b=r.decreaseYear),h&&r.props.showDisabledMonthNavigation&&(g.push("react-datepicker__navigation--previous--disabled"),b=void 0);var _=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,x=w.previousMonthButtonLabel,k=x===void 0?t.defaultProps.previousMonthButtonLabel:x,R=w.previousYearButtonLabel,I=R===void 0?t.defaultProps.previousYearButtonLabel:R,O=r.props,A=O.previousMonthAriaLabel,L=A===void 0?typeof k=="string"?k:"Previous Month":A,C=O.previousYearAriaLabel,T=C===void 0?typeof I=="string"?I:"Previous Year":C;return v.createElement("button",{type:"button",className:g.join(" "),onClick:b,onKeyDown:r.props.handleOnKeyDown,"aria-label":_?T:L},v.createElement("span",{className:m.join(" ")},_?I:k))}}},r.increaseYear=function(){r.setState(function(a){var i,s=a.date;return{date:yl(s,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var a;if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=ek(r.state.date,r.props);break;case r.props.showYearPicker:i=VV(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=zV(r.state.date,r.props);break;default:i=XT(r.state.date,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var c=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(c=r.increaseYear),i&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),c=void 0);var d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,f=r.props,h=f.nextMonthButtonLabel,m=h===void 0?t.defaultProps.nextMonthButtonLabel:h,g=f.nextYearButtonLabel,b=g===void 0?t.defaultProps.nextYearButtonLabel:g,_=r.props,w=_.nextMonthAriaLabel,x=w===void 0?typeof m=="string"?m:"Next Month":w,k=_.nextYearAriaLabel,R=k===void 0?typeof b=="string"?b:"Next Year":k;return v.createElement("button",{type:"button",className:s.join(" "),onClick:c,onKeyDown:r.props.handleOnKeyDown,"aria-label":d?R:x},v.createElement("span",{className:o.join(" ")},d?b:m))}}},r.renderCurrentMonth=function(a){a===void 0&&(a=r.state.date);var i=["react-datepicker__current-month"];return r.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),v.createElement("h2",{className:i.join(" ")},Ir(a,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showYearDropdown||a))return v.createElement(dq,Wn({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:wn(r.state.date)}))},r.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthDropdown||a))return v.createElement(rq,Wn({},t.defaultProps,r.props,{month:ai(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthYearDropdown||a))return v.createElement(sq,Wn({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(a){r.props.onSelect(YT(),a),r.props.setPreSelection&&r.props.setPreSelection(YT())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return v.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(a){var i=a.monthDate,s=a.i;return v.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(i),v.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),v.createElement("div",{className:"react-datepicker__day-names"},r.header(i)))},r.renderCustomHeader=function(a){var i,s,o=a.monthDate,c=a.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var d=ZT(r.state.date,r.props),f=XT(r.state.date,r.props),h=JT(r.state.date,r.props),m=ek(r.state.date,r.props),g=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return v.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(s=(i=r.props).renderCustomHeader)===null||s===void 0?void 0:s.call(i,Wn(Wn({},r.state),{customHeaderCount:c,monthDate:o,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:f,prevYearButtonDisabled:h,nextYearButtonDisabled:m})),g&&v.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderYearHeader=function(a){var i=a.monthDate,s=r.props,o=s.showYearPicker,c=s.yearItemNumber,d=c===void 0?t.defaultProps.yearItemNumber:c,f=mc(i,d),h=f.startPeriod,m=f.endPeriod;return v.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(h," - ").concat(m):wn(i))},r.renderHeader=function(a){var i=a.monthDate,s=a.i,o=s===void 0?0:s,c={monthDate:i,i:o};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(c);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(c);default:return r.renderDefaultHeader(c)}},r.renderMonths=function(){var a,i;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],o=(a=r.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=r.props.showPreviousMonths?o-1:0,d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?yl(r.state.date,c):hu(r.state.date,c),f=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:c,h=0;h<o;++h){var m=h-f+c,g=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?yl(d,m):Zs(d,m),b="month-".concat(h),_=h<o-1,w=h>0;s.push(v.createElement("div",{key:b,ref:function(x){r.monthContainer=x??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:g,i:h}),v.createElement(tq,Wn({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:g,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:h,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:_,monthShowsDuplicateDaysStart:w}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return v.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),v.createElement(lq,Wn({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return v.createElement(oq,Wn({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var a=r.props.selected?new Date(r.props.selected):void 0,i=a&&i1(a)&&!!r.props.selected,s=i?"".concat(nk(a.getHours()),":").concat(nk(a.getMinutes())):"";if(r.props.showTimeInput)return v.createElement(QV,Wn({},t.defaultProps,r.props,{date:a,timeString:s,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var a,i=mc(r.state.date,(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),s=i.startPeriod,o=i.endPeriod,c;return r.props.showYearPicker?c="".concat(s," - ").concat(o):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?c=wn(r.state.date):c="".concat($D(ai(r.state.date),r.props.locale)," ").concat(wn(r.state.date)),v.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&c)},r.renderChildren=function(){if(r.props.children)return v.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=E.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Zp}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!Yn(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var a=!Ci(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Yn(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||TV;return v.createElement(a1,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},v.createElement("div",{style:{display:"contents"},ref:this.containerRef},v.createElement(n,{className:Ue("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(E.Component),mq=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,a=e.onClick,i="react-datepicker__calendar-icon";if(typeof t=="string")return v.createElement("i",{className:"".concat(i," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:a});if(v.isValidElement(t)){var s=t;return v.cloneElement(s,{className:"".concat(s.props.className||""," ").concat(i," ").concat(r),onClick:function(o){typeof s.props.onClick=="function"&&s.props.onClick(o),typeof a=="function"&&a(o)}})}return v.createElement("svg",{className:"".concat(i," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},v.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},SN=function(e){Fa(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return K0.createPortal(this.props.children,this.el)},t}(E.Component),gq="[tabindex], a, button, input, select, textarea",yq=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},EN=function(e){Fa(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var a;return Array.prototype.slice.call((a=r.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(gq),1,-1).filter(yq)},r.handleFocusStart=function(){var a=r.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},r.handleFocusEnd=function(){var a=r.getTabChildren();a&&a.length>1&&a[0].focus()},r.tabLoopRef=E.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?v.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},v.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,v.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(E.Component);function vq(e){var t=function(n){var r,a=typeof n.hidePopper=="boolean"?n.hidePopper:!0,i=E.useRef(null),s=MV(Wn({open:!a,whileElementsMounted:oV,placement:n.popperPlacement,middleware:Eo([pV({padding:15}),hV(10),mV({element:i})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),o=Wn(Wn({},n),{hidePopper:a,popperProps:Wn(Wn({},s),{arrowRef:i})});return v.createElement(e,Wn({},o))};return t}var bq=function(e){Fa(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,r=n.className,a=n.wrapperClassName,i=n.hidePopper,s=i===void 0?t.defaultProps.hidePopper:i,o=n.popperComponent,c=n.targetComponent,d=n.enableTabLoop,f=n.popperOnKeyDown,h=n.portalId,m=n.portalHost,g=n.popperProps,b=n.showArrow,_=void 0;if(!s){var w=Ue("react-datepicker-popper",r);_=v.createElement(EN,{enableTabLoop:d},v.createElement("div",{ref:g.refs.setFloating,style:g.floatingStyles,className:w,"data-placement":g.placement,onKeyDown:f},o,b&&v.createElement(_V,{ref:g.arrowRef,context:g.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(_=E.createElement(this.props.popperContainer,{},_)),h&&!s&&(_=v.createElement(SN,{portalId:h,portalHost:m},_));var x=Ue("react-datepicker-wrapper",a);return v.createElement(v.Fragment,null,v.createElement("div",{ref:g.refs.setReference,className:x},c),_)},t}(E.Component),_q=vq(bq),lk="react-datepicker-ignore-onclickoutside";function wq(e,t){return e&&t?ai(e)!==ai(t)||wn(e)!==wn(t):e!==t}var nw="Date input not valid.",MN=function(e){Fa(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:ar()},r.modifyHolidays=function(){var a;return(a=r.props.holidays)===null||a===void 0?void 0:a.reduce(function(i,s){var o=new Date(s.date);return i1(o)?Eo(Eo([],i,!0),[Wn(Wn({},s),{date:o})],!1):i},[])},r.calcInitialState=function(){var a,i=r.getPreSelection(),s=xN(r.props),o=CN(r.props),c=s&&wu(i,gy(s))?s:o&&Cc(i,WT(o))?o:i;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&a!==void 0?a:c,highlightDates:tk(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Wn(Wn({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Wn(Wn({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var a,i;(i=(a=r.input)===null||a===void 0?void 0:a.focus)===null||i===void 0||i.call(a,{preventScroll:!0})},r.setBlur=function(){var a,i;(i=(a=r.input)===null||a===void 0?void 0:a.blur)===null||i===void 0||i.call(a),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(a,i){i===void 0&&(i=!1),r.setState({open:a,preSelection:a&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:rw},function(){a||r.setState(function(s){return{focused:i?s.focused:!1}},function(){!i&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return vl(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(a){var i,s,o=r.state.wasHidden,c=o?r.state.open:!0;o&&r.resetHiddenStatus(),r.state.preventFocus||((s=(i=r.props).onFocus)===null||s===void 0||s.call(i,a),c&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(a){var i,s;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((s=(i=r.props).onBlur)===null||s===void 0||s.call(i,a)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(a){var i,s;r.props.inline||r.setOpen(!1),(s=(i=r.props).onClickOutside)===null||s===void 0||s.call(i,a),r.props.withPortal&&a.preventDefault()},r.handleChange=function(){for(var a,i,s,o,c,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var h=d[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,d),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){r.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:xq});var m=r.props,g=m.selectsRange,b=m.startDate,_=m.endDate,w=(a=r.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,x=(i=r.props.strictParsing)!==null&&i!==void 0?i:t.defaultProps.strictParsing,k=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(g){var R=k.split(w.includes("-")?bN:"-",2).map(function(j){return j.trim()}),I=R[0],O=R[1],A=J_(I??"",w,r.props.locale,x),L=J_(O??"",w,r.props.locale,x),C=(b==null?void 0:b.getTime())!==(A==null?void 0:A.getTime()),T=(_==null?void 0:_.getTime())!==(L==null?void 0:L.getTime());if(!C&&!T||A&&Es(A,r.props)||L&&Es(L,r.props))return;(o=(s=r.props).onChange)===null||o===void 0||o.call(s,[A,L],h)}else{var S=J_(k,w,r.props.locale,x,(c=r.props.selected)!==null&&c!==void 0?c:void 0);(S||!k)&&r.setSelected(S,h,!0)}}},r.handleSelect=function(a,i,s){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(i),r.setSelected(a,i,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(a);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var o=r.props,c=o.startDate,d=o.endDate;c&&!d&&(r.props.swapRange||!ik(a,c))&&r.setOpen(!1)}}},r.setSelected=function(a,i,s,o){var c,d,f=a;if(r.props.showYearPicker){if(f!==null&&yy(wn(f),r.props))return}else if(r.props.showMonthYearPicker){if(f!==null&&wN(f,r.props))return}else if(f!==null&&Es(f,r.props))return;var h=r.props,m=h.onChange,g=h.selectsRange,b=h.startDate,_=h.endDate,w=h.selectsMultiple,x=h.selectedDates,k=h.minTime,R=h.swapRange;if(!au(r.props.selected,f)||r.props.allowSameDay||g||w)if(f!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(f=ew(f,{hour:bl(r.props.selected),minute:_l(r.props.selected),second:yc(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&k&&(f=ew(f,{hour:k.getHours(),minute:k.getMinutes(),second:k.getSeconds()})),r.props.inline||r.setState({preSelection:f}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:o})),g){var I=!b&&!_,O=b&&!_,A=b&&_;I?m==null||m([f,null],i):O&&(f===null?m==null||m([null,null],i):ik(f,b)?R?m==null||m([f,b],i):m==null||m([f,null],i):m==null||m([b,f],i)),A&&(m==null||m([f,null],i))}else if(w){if(f!==null)if(!(x!=null&&x.length))m==null||m([f],i);else{var L=x.some(function(T){return Yn(T,f)});if(L){var C=x.filter(function(T){return!Yn(T,f)});m==null||m(C,i)}else m==null||m(Eo(Eo([],x,!0),[f],!1),i)}}else m==null||m(f,i);s||((d=(c=r.props).onSelect)===null||d===void 0||d.call(c,f,i),r.setState({inputValue:null}))},r.setPreSelection=function(a){if(!r.props.readOnly){var i=vl(r.props.minDate),s=vl(r.props.maxDate),o=!0;if(a){var c=gy(a);if(i&&s)o=zh(a,r.props.minDate,r.props.maxDate);else if(i){var d=gy(r.props.minDate);o=Cc(a,d)||au(c,d)}else if(s){var f=WT(r.props.maxDate);o=wu(a,f)||au(c,f)}}o&&r.setState({preSelection:a})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(a){var i,s;if(!(r.props.selectsRange||r.props.selectsMultiple)){var o=r.props.selected?r.props.selected:r.getPreSelection(),c=r.props.selected?a:ew(o,{hour:bl(a),minute:_l(a)});r.setState({preSelection:c}),(s=(i=r.props).onChange)===null||s===void 0||s.call(i,c),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var a,i;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(i=(a=r.props).onInputClick)===null||i===void 0||i.call(a)},r.onInputKeyDown=function(a){var i,s,o,c,d,f;(s=(i=r.props).onKeyDown)===null||s===void 0||s.call(i,a);var h=a.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(h===ct.ArrowDown||h===ct.ArrowUp||h===ct.Enter)&&((o=r.onInputClick)===null||o===void 0||o.call(r));return}if(r.state.open){if(h===ct.ArrowDown||h===ct.ArrowUp){a.preventDefault();var m=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((c=r.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(m);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var b=ar(r.state.preSelection);h===ct.Enter?(a.preventDefault(),a.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===rw?(r.handleSelect(b,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(b)):r.setOpen(!1)):h===ct.Escape?(a.preventDefault(),a.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):h===ct.Tab&&r.setOpen(!1),r.inputOk()||(f=(d=r.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:nw})}},r.onPortalKeyDown=function(a){var i=a.key;i===ct.Escape&&(a.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(a){var i,s,o,c,d,f,h=r.props,m=h.minDate,g=h.maxDate,b=h.disabledKeyboardNavigation,_=h.showWeekPicker,w=h.shouldCloseOnSelect,x=h.locale,k=h.calendarStartDay,R=h.adjustDateOnChange,I=h.inline;if((s=(i=r.props).onKeyDown)===null||s===void 0||s.call(i,a),!b){var O=a.key,A=a.shiftKey,L=ar(r.state.preSelection),C=function(z,F){var V=F;switch(z){case ct.ArrowRight:V=_?rv(F,1):Ys(F,1);break;case ct.ArrowLeft:V=_?LT(F):e$(F);break;case ct.ArrowUp:V=LT(F);break;case ct.ArrowDown:V=rv(F,1);break;case ct.PageUp:V=A?Yd(F,1):hu(F,1);break;case ct.PageDown:V=A?yl(F,1):Zs(F,1);break;case ct.Home:V=bc(F,x,k);break;case ct.End:V=NV(F);break}return V},T=function(z,F){for(var V=40,Y=z,q=!1,N=0,W=C(z,F);!q;){if(N>=V){W=F;break}m&&W<m&&(Y=ct.ArrowRight,W=Es(m,r.props)?C(Y,W):m),g&&W>g&&(Y=ct.ArrowLeft,W=Es(g,r.props)?C(Y,W):g),Es(W,r.props)?((Y===ct.PageUp||Y===ct.Home)&&(Y=ct.ArrowRight),(Y===ct.PageDown||Y===ct.End)&&(Y=ct.ArrowLeft),W=C(Y,W)):q=!0,N++}return W};if(O===ct.Enter){a.preventDefault(),r.handleSelect(L,a),!w&&r.setPreSelection(L);return}else if(O===ct.Escape){a.preventDefault(),r.setOpen(!1),r.inputOk()||(c=(o=r.props).onInputError)===null||c===void 0||c.call(o,{code:1,msg:nw});return}var S=null;switch(O){case ct.ArrowLeft:case ct.ArrowRight:case ct.ArrowUp:case ct.ArrowDown:case ct.PageUp:case ct.PageDown:case ct.Home:case ct.End:S=T(O,L);break}if(!S){(f=(d=r.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:nw});return}if(a.preventDefault(),r.setState({lastPreSelectChange:rw}),R&&r.setSelected(S),r.setPreSelection(S),I){var j=ai(L),B=ai(S),H=wn(L),U=wn(S);j!==B||H!==U?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(a){var i=a.key;i===ct.Escape&&(a.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),r.sendFocusBackToInput();var i=r.props,s=i.selectsRange,o=i.onChange;s?o==null||o([null,null],a):o==null||o(null,a),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(a){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(a)&&r.setOpen(!1)},r.renderCalendar=function(){var a,i;return!r.props.inline&&!r.isCalendarOpen()?null:v.createElement(pq,Wn({showMonthYearDropdown:void 0,ref:function(s){r.calendar=s}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(a=r.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:YV(r.modifyHolidays()),outsideClickIgnoreClass:lk,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(i=r.props.dropdownMode)!==null&&i!==void 0?i:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var a=r.props,i=a.dateFormat,s=i===void 0?t.defaultProps.dateFormat:i,o=a.locale,c=r.props.showTimeInput||r.props.showTimeSelect,d=c?"PPPPp":"PPPP",f;return r.props.selectsRange?f="Selected start date: ".concat(xs(r.props.startDate,{dateFormat:d,locale:o}),". ").concat(r.props.endDate?"End date: "+xs(r.props.endDate,{dateFormat:d,locale:o}):""):r.props.showTimeSelectOnly?f="Selected time: ".concat(xs(r.props.selected,{dateFormat:s,locale:o})):r.props.showYearPicker?f="Selected year: ".concat(xs(r.props.selected,{dateFormat:"yyyy",locale:o})):r.props.showMonthYearPicker?f="Selected month: ".concat(xs(r.props.selected,{dateFormat:"MMMM yyyy",locale:o})):r.props.showQuarterYearPicker?f="Selected quarter: ".concat(xs(r.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):f="Selected date: ".concat(xs(r.props.selected,{dateFormat:d,locale:o})),v.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},f)},r.renderDateInput=function(){var a,i,s,o=Ue(r.props.className,(a={},a[lk]=r.state.open,a)),c=r.props.customInput||v.createElement("input",{type:"text"}),d=r.props.customInputRef||"ref",f=r.props,h=f.dateFormat,m=h===void 0?t.defaultProps.dateFormat:h,g=f.locale,b=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?RV(r.props.startDate,r.props.endDate,{dateFormat:m,locale:g}):r.props.selectsMultiple?AV((s=r.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:m,locale:g}):xs(r.props.selected,{dateFormat:m,locale:g});return E.cloneElement(c,(i={},i[d]=function(_){r.input=_},i.value=b,i.onBlur=r.handleBlur,i.onChange=r.handleChange,i.onClick=r.onInputClick,i.onFocus=r.handleFocus,i.onKeyDown=r.onInputKeyDown,i.id=r.props.id,i.name=r.props.name,i.form=r.props.form,i.autoFocus=r.props.autoFocus,i.placeholder=r.props.placeholderText,i.disabled=r.props.disabled,i.autoComplete=r.props.autoComplete,i.className=Ue(c.props.className,o),i.title=r.props.title,i.readOnly=r.props.readOnly,i.required=r.props.required,i.tabIndex=r.props.tabIndex,i["aria-describedby"]=r.props.ariaDescribedBy,i["aria-invalid"]=r.props.ariaInvalid,i["aria-labelledby"]=r.props.ariaLabelledBy,i["aria-required"]=r.props.ariaRequired,i))},r.renderClearButton=function(){var a=r.props,i=a.isClearable,s=a.disabled,o=a.selected,c=a.startDate,d=a.endDate,f=a.clearButtonTitle,h=a.clearButtonClassName,m=h===void 0?"":h,g=a.ariaLabelClose,b=g===void 0?"Close":g,_=a.selectedDates,w=a.readOnly;return i&&!w&&(o!=null||c!=null||d!=null||_!=null&&_.length)?v.createElement("button",{type:"button",className:Ue("react-datepicker__close-icon",m,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":b,onClick:r.onClearClick,title:f,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Zp,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var a,i,s,o;n.inline&&wq(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:tk(this.props.highlightDates)}),!r.focused&&!au(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((i=(a=this.props).onCalendarOpen)===null||i===void 0||i.call(a)),r.open===!0&&this.state.open===!1&&((o=(s=this.props).onCalendarClose)===null||o===void 0||o.call(s)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,a=n.icon,i=n.calendarIconClassname,s=n.calendarIconClassName,o=n.toggleCalendarOnIconClick,c=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),v.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&v.createElement(mq,Wn({icon:a,className:Ue(s,!s&&i,c&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?v.createElement(EN,{enableTabLoop:this.props.enableTabLoop},v.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=v.createElement(SN,Wn({portalId:this.props.portalId},this.props),r)),v.createElement("div",null,this.renderInputContainer(),r)}return v.createElement(_q,Wn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(E.Component),xq="input",rw="navigate";function ck(e){if(!e||typeof e!="string"||!e.match(/\d/))return{h:0,m:0};const[t,n]=e.trim().split(/\s+/);let[r,a]=t.split(":").map(Number);return n&&n.toLowerCase()==="pm"&&r!==12&&(r+=12),n&&n.toLowerCase()==="am"&&r===12&&(r=0),{h:r,m:a}}function HD(e,t,n=30){const r=ck(e),a=ck(t),i=[];let s=new Date(0,0,0,r.h,r.m);const o=new Date(0,0,0,a.h,a.m);for(;s<=o;){const c=s.getHours(),d=s.getMinutes();let f=(c%12||12)+":"+(d<10?"0":"")+d+(c<12?" AM":" PM");i.push(f),s=new Date(s.getTime()+n*6e4)}return i}function Cq(e){const t={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6},n=new Date,r=n.getDay();let i=(t[e]-r+7)%7;i===0&&(i=7);const s=new Date(n);return s.setDate(n.getDate()+i),s}function Dq({proposal:e,open:t,onClose:n,onSubmit:r,senderPlayer:a,phase:i,selectedDivision:s}){var Y;const[o,c]=E.useState(new Date),[d,f]=E.useState(""),[h,m]=E.useState(""),[g,b]=E.useState(""),[_,w]=E.useState(""),[x,k]=E.useState(""),[R,I]=E.useState(""),[O,A]=E.useState("");E.useEffect(()=>{if(e&&t){if(e.date){const[q,N,W]=e.date.split("-");c(new Date(parseInt(q),parseInt(N)-1,parseInt(W)))}f(""),m(""),b(e.location||""),w(e.gameType||"8 Ball"),k(e.raceLength||(i==="scheduled"||i==="challenge"?5:7)),I("")}},[e,t,i]),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][o.getDay()];const T=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][o.getDay()],S=((Y=a==null?void 0:a.availability)==null?void 0:Y[T])||[],j=["6:00 PM - 8:00 PM","8:00 PM - 10:00 PM","10:00 PM - 12:00 AM"],B=S.length>0?S:j,H=a!=null&&a.locations?a.locations.split(/\r?\n/).map(q=>q.trim()).filter(Boolean):[],U=E.useMemo(()=>{if(!d)return[];const q=d.replace(/[–—−]/g,"-").replace(/\s*-\s*/g," - ").trim();if(!q.includes(" - "))return[];let[N,W]=q.split(" - ").map(K=>z(K.trim()));return!N||!W?[]:HD(N,W,30)},[d]);function z(q){let N=q.trim();N=N.replace(/(\d{1,2}):(\d{2})\s*(am|pm)/i,(K,$,J,oe)=>`${parseInt($,10)}:${J} ${oe.toUpperCase()}`),N=N.replace(/^(\d{1,2})(\d{2})(am|pm)$/i,(K,$,J,oe)=>`${parseInt($,10)}:${J} ${oe.toUpperCase()}`),N=N.replace(/^(\d{1,2})(am|pm)$/i,(K,$,J)=>`${parseInt($,10)}:00 ${J.toUpperCase()}`),N=N.replace(/(am|pm)$/i," $1"),N=N.replace(/(am|pm)$/i,K=>K.toUpperCase());const W=N.match(/^(\d{1,2}):(\d{2}) (AM|PM)$/i);if(W){const K=W[1],$=W[2],J=W[3].toUpperCase();return`${K}:${$} ${J}`}return N}function F(q){if(!q)return"";const N=new Date(q),W=String(N.getMonth()+1).padStart(2,"0"),K=String(N.getDate()).padStart(2,"0"),$=N.getFullYear();return`${W}-${K}-${$}`}const V=q=>{if(q.preventDefault(),!o||!h||!g){A("Please fill in all required fields.");return}A(""),r({date:F(o),time:h,location:g,gameType:_,raceLength:x,note:R})};return!t||!e?null:D.jsx(os,{open:t,onClose:n,title:"🔄 Counter Proposal",maxWidth:"500px",children:D.jsxs("form",{onSubmit:V,style:{textAlign:"left"},children:[D.jsxs("div",{style:{fontWeight:"bold",fontSize:"1.15rem",margin:"0 0 1rem 0",color:"#fff",textAlign:"center"},children:["To: ",e.senderName||"Opponent"]}),D.jsxs("div",{style:{marginBottom:"1rem"},children:[D.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"},children:"Date:"}),D.jsx(MN,{selected:o,onChange:q=>c(q),dateFormat:"MM-dd-yyyy",className:"counter-proposal-date-input",required:!0})]}),D.jsxs("div",{style:{marginBottom:"1rem"},children:[D.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"},children:"Time Block:"}),D.jsxs("select",{value:d,onChange:q=>{f(q.target.value),m("")},required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"},children:[D.jsx("option",{value:"",children:"Select time block"}),B.map((q,N)=>D.jsx("option",{value:q,children:q},N))]})]}),D.jsxs("div",{style:{marginBottom:"1rem"},children:[D.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"},children:"Start Time:"}),D.jsxs("select",{value:h,onChange:q=>m(q.target.value),required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"},children:[D.jsx("option",{value:"",children:"Select..."}),U.map((q,N)=>D.jsx("option",{value:q,children:q},N))]})]}),D.jsxs("div",{style:{marginBottom:"1rem"},children:[D.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"},children:"Location:"}),D.jsxs("select",{value:g,onChange:q=>b(q.target.value),required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"},children:[D.jsx("option",{value:"",children:"Select location"}),H.map((q,N)=>D.jsx("option",{value:q,children:q},N))]})]}),D.jsxs("div",{style:{marginBottom:"1rem"},children:[D.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"},children:"Game Type:"}),D.jsxs("select",{value:_,onChange:q=>w(q.target.value),required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"},children:[D.jsx("option",{value:"8 Ball",children:"8 Ball"}),D.jsx("option",{value:"9 Ball",children:"9 Ball"}),D.jsx("option",{value:"10 Ball",children:"10 Ball"}),D.jsx("option",{value:"Mixed",children:"Mixed"})]})]}),D.jsxs("div",{style:{marginBottom:"1rem"},children:[D.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"},children:"Race Length:"}),D.jsx("select",{value:x,onChange:q=>k(Number(q.target.value)),required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"},children:i==="scheduled"||i==="challenge"?D.jsx("option",{value:5,children:"5"}):[...Array(13)].map((q,N)=>{const W=N+3;return D.jsx("option",{value:W,children:W},W)})})]}),D.jsxs("div",{style:{marginBottom:"1.5rem"},children:[D.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"},children:"Note (optional):"}),D.jsx("textarea",{value:R,onChange:q=>I(q.target.value),placeholder:"Add a note explaining your counter proposal...",rows:3,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px",resize:"vertical"}})]}),O&&D.jsx("div",{style:{color:"#e53e3e",marginBottom:"1rem"},children:O}),D.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[D.jsx("button",{type:"submit",style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:"6px",padding:"0.7rem 1.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",minWidth:"120px"},children:"Submit Counter"}),D.jsx("button",{type:"button",onClick:n,style:{background:"#6c757d",color:"#fff",border:"none",borderRadius:"6px",padding:"0.7rem 1.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",minWidth:"120px"},children:"Cancel"})]})]})})}function Sq({open:e,onClose:t,opponents:n,onOpponentClick:r,phase:a}){return e?D.jsx(os,{open:e,onClose:t,title:`🎱 Select Opponent - ${a==="scheduled"?"Phase 1":"Phase 2"}`,maxWidth:"500px",children:D.jsxs("div",{style:{textAlign:"center"},children:[D.jsx("p",{style:{marginBottom:"1.5rem",color:"#fff",fontSize:"1.1rem"},children:"Choose an opponent to schedule a match with:"}),D.jsx("div",{style:{display:"grid",gap:"12px",maxHeight:"60vh",overflowY:"auto"},children:n.map((i,s)=>D.jsx("button",{onClick:()=>r(i.player?`${i.player.firstName} ${i.player.lastName}`:i.opponentName),style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"0.7rem 0.5rem",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"center",width:"220px",margin:"0 auto",display:"block"},onMouseEnter:o=>{o.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",o.target.style.transform="translateY(-2px)",o.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:o=>{o.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",o.target.style.transform="translateY(0)",o.target.style.boxShadow="none"},children:i.player?`${i.player.firstName} ${i.player.lastName}`:i.opponentName},i.player&&i.player.email||i.opponentName||s))}),n.length===0&&D.jsx("div",{style:{color:"#888",fontSize:"1rem",padding:"2rem",fontStyle:"italic"},children:"No opponents available for scheduling at this time."})]})}):null}function TN({player:e,onClose:t,senderEmail:n,onProposeMatch:r,selectedDivision:a,phase:i}){if(!e)return null;const[s,o]=E.useState(!1),[c,d]=E.useState(10);return E.useEffect(()=>{let f;return s&&(d(10),f=setInterval(()=>{d(h=>h<=1?(clearInterval(f),o(!1),10):h-1)},1e3)),()=>clearInterval(f)},[s]),D.jsx(os,{open:!0,onClose:t,title:`👤 ${e.firstName} ${e.lastName}`,maxWidth:"300px",children:D.jsxs("div",{style:{textAlign:"left"},children:[D.jsx("div",{style:{fontSize:"0.9rem",color:"#888",marginBottom:"1.5rem",textAlign:"center"},children:i==="scheduled"?"Phase 1 (Scheduled)":i==="challenge"?"Phase 2 (Challenge)":i}),D.jsxs("div",{style:{marginBottom:"1.5rem"},children:[D.jsx("h3",{style:{color:"#e53e3e",marginBottom:"0.5rem",fontSize:"1.1rem",textAlign:"center"},children:"Preferred Locations:"}),D.jsx("div",{style:{color:"#fff",wordBreak:"break-word",overflowWrap:"anywhere"},children:e.locations?e.locations.split(/\r?\n/).filter(Boolean).map((f,h,m)=>D.jsxs(v.Fragment,{children:[D.jsx("span",{children:f}),h<m.length-1&&D.jsx("span",{style:{color:"#e53e3e",margin:"0 0.5rem"},children:" • "}),(h+1)%5===0&&D.jsx("br",{})]},f+h)):"No locations specified"})]}),D.jsxs("div",{style:{marginBottom:"1.5rem"},children:[D.jsx("h3",{style:{color:"#e53e3e",marginBottom:"0.5rem",fontSize:"1.1rem",textAlign:"center"},children:"Availability:"}),D.jsx("div",{style:{color:"#fff",fontSize:"0.9rem",marginBottom:"1rem",textAlign:"center",fontStyle:"italic"},children:"Pick a timeblock within a day to schedule a match with this opponent."}),D.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[D.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",justifyContent:"center"},children:["Mon","Tue","Wed"].map(f=>D.jsxs("div",{style:{textAlign:"center",minWidth:80,flex:"0 1 auto"},children:[D.jsx("div",{style:{color:"#e53e3e",fontWeight:"bold",marginBottom:"0.5rem",fontSize:"0.9rem"},children:f}),(e.availability[f]||[]).length===0?D.jsx("div",{style:{color:"#666",fontSize:"0.8rem",padding:"0.28rem 0.4rem",background:"#222",borderRadius:"4px",minWidth:60,marginBottom:"0.18rem"},children:"—"}):D.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px",alignItems:"center"},children:(e.availability[f]||[]).map((h,m)=>D.jsx("div",{onClick:()=>{r&&r(f,h,i,a)},style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"1px solid #e53e3e",borderRadius:"6px",padding:"0.28rem 0.4rem",fontSize:"1.02rem",cursor:"pointer",transition:"all 0.2s ease",minWidth:60,maxWidth:120,display:"inline-flex",whiteSpace:"normal",wordBreak:"break-word"},onMouseEnter:g=>{g.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",g.target.style.transform="translateY(-1px)",g.target.style.boxShadow="0 2px 8px rgba(229, 62, 62, 0.3)"},onMouseLeave:g=>{g.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",g.target.style.transform="translateY(0)",g.target.style.boxShadow="none"},tabIndex:0,role:"button","aria-label":`Propose match on ${f} at ${h}`,onKeyPress:g=>{(g.key==="Enter"||g.key===" ")&&r&&r(f,h,i,a)},children:h},m))})]},f))}),D.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",justifyContent:"center"},children:["Thu","Fri","Sat"].map(f=>D.jsxs("div",{style:{textAlign:"center",minWidth:80,flex:"0 1 auto"},children:[D.jsx("div",{style:{color:"#e53e3e",fontWeight:"bold",marginBottom:"0.5rem",fontSize:"0.9rem"},children:f}),(e.availability[f]||[]).length===0?D.jsx("div",{style:{color:"#666",fontSize:"0.8rem",padding:"0.28rem 0.4rem",background:"#222",borderRadius:"4px",minWidth:60,marginBottom:"0.18rem"},children:"—"}):D.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px",alignItems:"center"},children:(e.availability[f]||[]).map((h,m)=>D.jsx("div",{onClick:()=>{r&&r(f,h,i,a)},style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"1px solid #e53e3e",borderRadius:"6px",padding:"0.28rem 0.4rem",fontSize:"1.02rem",cursor:"pointer",transition:"all 0.2s ease",minWidth:60,maxWidth:120,display:"inline-flex",whiteSpace:"normal",wordBreak:"break-word"},onMouseEnter:g=>{g.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",g.target.style.transform="translateY(-1px)",g.target.style.boxShadow="0 2px 8px rgba(229, 62, 62, 0.3)"},onMouseLeave:g=>{g.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",g.target.style.transform="translateY(0)",g.target.style.boxShadow="none"},tabIndex:0,role:"button","aria-label":`Propose match on ${f} at ${h}`,onKeyPress:g=>{(g.key==="Enter"||g.key===" ")&&r&&r(f,h,i,a)},children:h},m))})]},f))})]})]}),D.jsxs("div",{style:{marginBottom:"1.5rem",textAlign:"center"},children:[D.jsx("h3",{style:{color:"#e53e3e",marginBottom:"0.5rem",fontSize:"1.1rem",textAlign:"center"},children:"Contact Information:"}),D.jsx("div",{style:{color:"#fff",textAlign:"center"},children:s?D.jsxs("div",{style:{background:"rgba(229, 62, 62, 0.1)",border:"1px solid #e53e3e",borderRadius:"6px",padding:"1rem"},children:[D.jsxs("div",{style:{marginBottom:"0.5rem"},children:[D.jsx("strong",{children:"Email:"})," ",e.email||"Not provided"]}),e.phone&&D.jsxs("div",{style:{marginBottom:"0.5rem"},children:[D.jsx("strong",{children:"Phone:"})," ",e.phone]}),e.text&&D.jsxs("div",{style:{marginBottom:"0.5rem"},children:[D.jsx("strong",{children:"Text:"})," ",e.text]}),e.preferredContacts&&e.preferredContacts.length>0&&D.jsxs("div",{children:[D.jsx("strong",{children:"Preferred Contact:"})," ",e.preferredContacts.join(", ")]}),D.jsxs("div",{style:{color:"#ffc107",fontSize:"0.9rem",marginTop:"0.5rem"},children:["Auto-hiding in ",c," seconds..."]})]}):D.jsx("button",{onClick:()=>o(!0),style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:"6px",padding:"0.7rem 1.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:"Show Contact Info"})})]})]})})}const Eq="_opponentName_11tso_479",qr={"match-proposal-content":"_match-proposal-content_11tso_49","match-proposal-row":"_match-proposal-row_11tso_155","match-proposal-select":"_match-proposal-select_11tso_177","match-proposal-location-select":"_match-proposal-location-select_11tso_179","match-proposal-textarea":"_match-proposal-textarea_11tso_229","match-proposal-date-input":"_match-proposal-date-input_11tso_347","match-proposal-send-btn":"_match-proposal-send-btn_11tso_373","match-proposal-day-value":"_match-proposal-day-value_11tso_449",opponentName:Eq,"match-proposal-division":"_match-proposal-division_11tso_493","match-proposal-phase":"_match-proposal-phase_11tso_493","match-proposal-label-red":"_match-proposal-label-red_11tso_501"};var aw={},Mq=Object.create,kN=Object.defineProperty,Tq=Object.getOwnPropertyDescriptor,RN=Object.getOwnPropertyNames,kq=Object.getPrototypeOf,Rq=Object.prototype.hasOwnProperty,Jp=(e,t)=>function(){return t||(0,e[RN(e)[0]])((t={exports:{}}).exports,t),t.exports},Aq=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of RN(t))!Rq.call(e,a)&&a!==n&&kN(e,a,{get:()=>t[a],enumerable:!(r=Tq(t,a))||r.enumerable});return e},em=(e,t,n)=>(n=e!=null?Mq(kq(e)):{},Aq(!e||!e.__esModule?kN(n,"default",{value:e,enumerable:!0}):n,e)),Oq=Jp({"node_modules/base64-js/index.js"(e){e.byteLength=c,e.toByteArray=f,e.fromByteArray=g;var t=[],n=[],r=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=0,s=a.length;i<s;++i)t[i]=a[i],n[a.charCodeAt(i)]=i;var i,s;n[45]=62,n[95]=63;function o(b){var _=b.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=b.indexOf("=");w===-1&&(w=_);var x=w===_?0:4-w%4;return[w,x]}function c(b){var _=o(b),w=_[0],x=_[1];return(w+x)*3/4-x}function d(b,_,w){return(_+w)*3/4-w}function f(b){var _,w=o(b),x=w[0],k=w[1],R=new r(d(b,x,k)),I=0,O=k>0?x-4:x,A;for(A=0;A<O;A+=4)_=n[b.charCodeAt(A)]<<18|n[b.charCodeAt(A+1)]<<12|n[b.charCodeAt(A+2)]<<6|n[b.charCodeAt(A+3)],R[I++]=_>>16&255,R[I++]=_>>8&255,R[I++]=_&255;return k===2&&(_=n[b.charCodeAt(A)]<<2|n[b.charCodeAt(A+1)]>>4,R[I++]=_&255),k===1&&(_=n[b.charCodeAt(A)]<<10|n[b.charCodeAt(A+1)]<<4|n[b.charCodeAt(A+2)]>>2,R[I++]=_>>8&255,R[I++]=_&255),R}function h(b){return t[b>>18&63]+t[b>>12&63]+t[b>>6&63]+t[b&63]}function m(b,_,w){for(var x,k=[],R=_;R<w;R+=3)x=(b[R]<<16&16711680)+(b[R+1]<<8&65280)+(b[R+2]&255),k.push(h(x));return k.join("")}function g(b){for(var _,w=b.length,x=w%3,k=[],R=16383,I=0,O=w-x;I<O;I+=R)k.push(m(b,I,I+R>O?O:I+R));return x===1?(_=b[w-1],k.push(t[_>>2]+t[_<<4&63]+"==")):x===2&&(_=(b[w-2]<<8)+b[w-1],k.push(t[_>>10]+t[_>>4&63]+t[_<<2&63]+"=")),k.join("")}}}),Lq=Jp({"(disabled):https"(){}}),Nq=Jp({"node_modules/form-data/lib/browser.js"(e,t){t.exports=typeof self=="object"?self.FormData:window.FormData}}),Pq=Jp({"(disabled):node_modules/jsonwebtoken/index.js"(){}}),Iq=Jp({"(disabled):crypto"(){}}),Fq=em(Oq());function tC(e){return typeof e=="string"}function uk(e,t){return!!t&&tC(e)}function jq(e,t){const n=[];if(tC(e)&&uk(e,t)){for(let r=0,a=e.length;r<a;r++)if(e.charAt(r)){const i=e.charAt(r),s=t(i,r,e);n[r]=s}}else if(!tC(e)&&!uk(e,t)){for(let r=0,a=e.length;r<a;r++)if(r in e){const i=e[r],s=t(i,r,e);n[r]=s}}return n}var Uq=e=>(0,Fq.fromByteArray)(new Uint8Array(jq(e,t=>t.charCodeAt(0)))),Bq=e=>{const t={},n=String.fromCharCode,r=e.length;let a,i=0,s,o,c=0,d,f="";const h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(a=0;a<64;a++)t[h.charAt(a)]=a;for(o=0;o<r;o++)for(s=t[e.charAt(o)],i=(i<<6)+s,c+=6;c>=8;)((d=i>>>(c-=8)&255)||o<r-2)&&(f+=n(d));return f},dk=class{constructor(e,t,n){this.client=e,this.id=t,this.data=n}async create(){var n,r,a,i,s,o,c,d,f,h,m,g;const e={id:this.id,message_template:(n=this.data)==null?void 0:n.message_template,segment_ids:(r=this.data)==null?void 0:r.segment_ids,sender_id:(a=this.data)==null?void 0:a.sender_id,sender_mode:(i=this.data)==null?void 0:i.sender_mode,channel_template:(s=this.data)==null?void 0:s.channel_template,create_channels:(o=this.data)==null?void 0:o.create_channels,show_channels:(c=this.data)==null?void 0:c.show_channels,description:(d=this.data)==null?void 0:d.description,name:(f=this.data)==null?void 0:f.name,skip_push:(h=this.data)==null?void 0:h.skip_push,skip_webhook:(m=this.data)==null?void 0:m.skip_webhook,user_ids:(g=this.data)==null?void 0:g.user_ids},t=await this.client.createCampaign(e);return this.id=t.campaign.id,this.data=t.campaign,t}verifyCampaignId(){if(!this.id)throw new Error("Campaign id is missing. Either create the campaign using campaign.create() or set the id during instantiation - const campaign = client.campaign(id)")}async start(e){return this.verifyCampaignId(),await this.client.startCampaign(this.id,e)}update(e){return this.verifyCampaignId(),this.client.updateCampaign(this.id,e)}async delete(){return this.verifyCampaignId(),await this.client.deleteCampaign(this.id)}stop(){return this.verifyCampaignId(),this.client.stopCampaign(this.id)}get(e){return this.verifyCampaignId(),this.client.getCampaign(this.id,e)}};function AN(e,t){return function(){return e.apply(t,arguments)}}var{toString:$q}=Object.prototype,{getPrototypeOf:VD}=Object,s1=(e=>t=>{const n=$q.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Bo=e=>(e=e.toLowerCase(),t=>s1(t)===e),o1=e=>t=>typeof t===e,{isArray:vf}=Array,Dp=o1("undefined");function zq(e){return e!==null&&!Dp(e)&&e.constructor!==null&&!Dp(e.constructor)&&ks(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}var ON=Bo("ArrayBuffer");function Hq(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ON(e.buffer),t}var Vq=o1("string"),ks=o1("function"),LN=o1("number"),l1=e=>e!==null&&typeof e=="object",qq=e=>e===!0||e===!1,vy=e=>{if(s1(e)!=="object")return!1;const t=VD(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Yq=Bo("Date"),Wq=Bo("File"),Gq=Bo("Blob"),Kq=Bo("FileList"),Qq=e=>l1(e)&&ks(e.pipe),Zq=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ks(e.append)&&((t=s1(e))==="formdata"||t==="object"&&ks(e.toString)&&e.toString()==="[object FormData]"))},Xq=Bo("URLSearchParams"),Jq=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tm(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),vf(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let o;for(r=0;r<s;r++)o=i[r],t.call(null,e[o],o,e)}}function NN(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}var PN=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,IN=e=>!Dp(e)&&e!==PN;function nC(){const{caseless:e}=IN(this)&&this||{},t={},n=(r,a)=>{const i=e&&NN(t,a)||a;vy(t[i])&&vy(r)?t[i]=nC(t[i],r):vy(r)?t[i]=nC({},r):vf(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&tm(arguments[r],n);return t}var eY=(e,t,n,{allOwnKeys:r}={})=>(tm(t,(a,i)=>{n&&ks(a)?e[i]=AN(a,n):e[i]=a},{allOwnKeys:r}),e),tY=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),nY=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},rY=(e,t,n,r)=>{let a,i,s;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)s=a[i],(!r||r(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=n!==!1&&VD(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},aY=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},iY=e=>{if(!e)return null;if(vf(e))return e;let t=e.length;if(!LN(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},sY=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&VD(Uint8Array)),oY=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},lY=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},cY=Bo("HTMLFormElement"),uY=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),fk=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),dY=Bo("RegExp"),FN=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};tm(n,(a,i)=>{let s;(s=t(a,i,e))!==!1&&(r[i]=s||a)}),Object.defineProperties(e,r)},fY=e=>{FN(e,(t,n)=>{if(ks(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ks(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},hY=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return vf(e)?r(e):r(String(e).split(t)),n},pY=()=>{},mY=(e,t)=>(e=+e,Number.isFinite(e)?e:t),iw="abcdefghijklmnopqrstuvwxyz",hk="0123456789",jN={DIGIT:hk,ALPHA:iw,ALPHA_DIGIT:iw+iw.toUpperCase()+hk},gY=(e=16,t=jN.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function yY(e){return!!(e&&ks(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}var vY=e=>{const t=new Array(10),n=(r,a)=>{if(l1(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const i=vf(r)?[]:{};return tm(r,(s,o)=>{const c=n(s,a+1);!Dp(c)&&(i[o]=c)}),t[a]=void 0,i}}return r};return n(e,0)},bY=Bo("AsyncFunction"),_Y=e=>e&&(l1(e)||ks(e))&&ks(e.then)&&ks(e.catch),je={isArray:vf,isArrayBuffer:ON,isBuffer:zq,isFormData:Zq,isArrayBufferView:Hq,isString:Vq,isNumber:LN,isBoolean:qq,isObject:l1,isPlainObject:vy,isUndefined:Dp,isDate:Yq,isFile:Wq,isBlob:Gq,isRegExp:dY,isFunction:ks,isStream:Qq,isURLSearchParams:Xq,isTypedArray:sY,isFileList:Kq,forEach:tm,merge:nC,extend:eY,trim:Jq,stripBOM:tY,inherits:nY,toFlatObject:rY,kindOf:s1,kindOfTest:Bo,endsWith:aY,toArray:iY,forEachEntry:oY,matchAll:lY,isHTMLForm:cY,hasOwnProperty:fk,hasOwnProp:fk,reduceDescriptors:FN,freezeMethods:fY,toObjectSet:hY,toCamelCase:uY,noop:pY,toFiniteNumber:mY,findKey:NN,global:PN,isContextDefined:IN,ALPHABET:jN,generateString:gY,isSpecCompliantForm:yY,toJSONObject:vY,isAsyncFn:bY,isThenable:_Y};function Zd(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a)}je.inherits(Zd,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:je.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var UN=Zd.prototype,BN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{BN[e]={value:e}});Object.defineProperties(Zd,BN);Object.defineProperty(UN,"isAxiosError",{value:!0});Zd.from=(e,t,n,r,a,i)=>{const s=Object.create(UN);return je.toFlatObject(e,s,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),Zd.call(s,e.message,t,n,r,a),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};var dr=Zd,wY=null;function rC(e){return je.isPlainObject(e)||je.isArray(e)}function $N(e){return je.endsWith(e,"[]")?e.slice(0,-2):e}function pk(e,t,n){return e?e.concat(t).map(function(a,i){return a=$N(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function xY(e){return je.isArray(e)&&!e.some(rC)}var CY=je.toFlatObject(je,{},null,function(t){return/^is[A-Z]/.test(t)});function DY(e,t,n){if(!je.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=je.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,w){return!je.isUndefined(w[_])});const r=n.metaTokens,a=n.visitor||f,i=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&je.isSpecCompliantForm(t);if(!je.isFunction(a))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(je.isDate(b))return b.toISOString();if(!c&&je.isBlob(b))throw new dr("Blob is not supported. Use a Buffer instead.");return je.isArrayBuffer(b)||je.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,_,w){let x=b;if(b&&!w&&typeof b=="object"){if(je.endsWith(_,"{}"))_=r?_:_.slice(0,-2),b=JSON.stringify(b);else if(je.isArray(b)&&xY(b)||(je.isFileList(b)||je.endsWith(_,"[]"))&&(x=je.toArray(b)))return _=$N(_),x.forEach(function(R,I){!(je.isUndefined(R)||R===null)&&t.append(s===!0?pk([_],I,i):s===null?_:_+"[]",d(R))}),!1}return rC(b)?!0:(t.append(pk(w,_,i),d(b)),!1)}const h=[],m=Object.assign(CY,{defaultVisitor:f,convertValue:d,isVisitable:rC});function g(b,_){if(!je.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+_.join("."));h.push(b),je.forEach(b,function(x,k){(!(je.isUndefined(x)||x===null)&&a.call(t,x,je.isString(k)?k.trim():k,_,m))===!0&&g(x,_?_.concat(k):[k])}),h.pop()}}if(!je.isObject(e))throw new TypeError("data must be an object");return g(e),t}var c1=DY;function mk(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function zN(e,t){this._pairs=[],e&&c1(e,this,t)}var HN=zN.prototype;HN.append=function(t,n){this._pairs.push([t,n])};HN.toString=function(t){const n=t?function(r){return t.call(this,r,mk)}:mk;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};var VN=zN;function SY(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qN(e,t,n){if(!t)return e;const r=n&&n.encode||SY,a=n&&n.serialize;let i;if(a?i=a(t,n):i=je.isURLSearchParams(t)?t.toString():new VN(t,n).toString(r),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}var EY=class{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){je.forEach(this.handlers,function(r){r!==null&&t(r)})}},gk=EY,YN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},MY=typeof URLSearchParams<"u"?URLSearchParams:VN,TY=typeof FormData<"u"?FormData:null,kY=typeof Blob<"u"?Blob:null,RY=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),AY=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Mo={classes:{URLSearchParams:MY,FormData:TY,Blob:kY},isStandardBrowserEnv:RY,isStandardBrowserWebWorkerEnv:AY,protocols:["http","https","file","blob","url","data"]};function OY(e,t){return c1(e,new Mo.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,i){return Mo.isNode&&je.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function LY(e){return je.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function NY(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function PY(e){function t(n,r,a,i){let s=n[i++];const o=Number.isFinite(+s),c=i>=n.length;return s=!s&&je.isArray(a)?a.length:s,c?(je.hasOwnProp(a,s)?a[s]=[a[s],r]:a[s]=r,!o):((!a[s]||!je.isObject(a[s]))&&(a[s]=[]),t(n,r,a[s],i)&&je.isArray(a[s])&&(a[s]=NY(a[s])),!o)}if(je.isFormData(e)&&je.isFunction(e.entries)){const n={};return je.forEachEntry(e,(r,a)=>{t(LY(r),a,n,0)}),n}return null}var WN=PY;function IY(e,t,n){if(je.isString(e))try{return(t||JSON.parse)(e),je.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var qD={transitional:YN,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=je.isObject(t);if(i&&je.isHTMLForm(t)&&(t=new FormData(t)),je.isFormData(t))return a&&a?JSON.stringify(WN(t)):t;if(je.isArrayBuffer(t)||je.isBuffer(t)||je.isStream(t)||je.isFile(t)||je.isBlob(t))return t;if(je.isArrayBufferView(t))return t.buffer;if(je.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return OY(t,this.formSerializer).toString();if((o=je.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return c1(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),IY(t)):t}],transformResponse:[function(t){const n=this.transitional||qD.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(t&&je.isString(t)&&(r&&!this.responseType||a)){const s=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(o){if(s)throw o.name==="SyntaxError"?dr.from(o,dr.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mo.classes.FormData,Blob:Mo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};je.forEach(["delete","get","head","post","put","patch"],e=>{qD.headers[e]={}});var YD=qD,FY=je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jY=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(s){a=s.indexOf(":"),n=s.substring(0,a).trim().toLowerCase(),r=s.substring(a+1).trim(),!(!n||t[n]&&FY[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},yk=Symbol("internals");function Dh(e){return e&&String(e).trim().toLowerCase()}function by(e){return e===!1||e==null?e:je.isArray(e)?e.map(by):String(e)}function UY(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}var BY=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function sw(e,t,n,r,a){if(je.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!je.isString(t)){if(je.isString(r))return t.indexOf(r)!==-1;if(je.isRegExp(r))return r.test(t)}}function $Y(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function zY(e,t){const n=je.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,s){return this[r].call(this,t,a,i,s)},configurable:!0})})}var u1=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(o,c,d){const f=Dh(c);if(!f)throw new Error("header name must be a non-empty string");const h=je.findKey(a,f);(!h||a[h]===void 0||d===!0||d===void 0&&a[h]!==!1)&&(a[h||c]=by(o))}const s=(o,c)=>je.forEach(o,(d,f)=>i(d,f,c));return je.isPlainObject(t)||t instanceof this.constructor?s(t,n):je.isString(t)&&(t=t.trim())&&!BY(t)?s(jY(t),n):t!=null&&i(n,t,r),this}get(t,n){if(t=Dh(t),t){const r=je.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return UY(a);if(je.isFunction(n))return n.call(this,a,r);if(je.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Dh(t),t){const r=je.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||sw(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(s){if(s=Dh(s),s){const o=je.findKey(r,s);o&&(!n||sw(r,r[o],o,n))&&(delete r[o],a=!0)}}return je.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||sw(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return je.forEach(this,(a,i)=>{const s=je.findKey(r,i);if(s){n[s]=by(a),delete n[i];return}const o=t?$Y(i):String(i).trim();o!==i&&delete n[i],n[o]=by(a),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return je.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&je.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[yk]=this[yk]={accessors:{}}).accessors,a=this.prototype;function i(s){const o=Dh(s);r[o]||(zY(a,s),r[o]=!0)}return je.isArray(t)?t.forEach(i):i(t),this}};u1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);je.reduceDescriptors(u1.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});je.freezeMethods(u1);var xl=u1;function ow(e,t){const n=this||YD,r=t||n,a=xl.from(r.headers);let i=r.data;return je.forEach(e,function(o){i=o.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function GN(e){return!!(e&&e.__CANCEL__)}function KN(e,t,n){dr.call(this,e??"canceled",dr.ERR_CANCELED,t,n),this.name="CanceledError"}je.inherits(KN,dr,{__CANCEL__:!0});var d1=KN;function HY(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new dr("Request failed with status code "+n.status,[dr.ERR_BAD_REQUEST,dr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}var VY=Mo.isStandardBrowserEnv?function(){return{write:function(n,r,a,i,s,o){const c=[];c.push(n+"="+encodeURIComponent(r)),je.isNumber(a)&&c.push("expires="+new Date(a).toGMTString()),je.isString(i)&&c.push("path="+i),je.isString(s)&&c.push("domain="+s),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function qY(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function YY(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function QN(e,t){return e&&!qY(t)?YY(e,t):t}var WY=Mo.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function a(i){let s=i;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=a(window.location.href),function(s){const o=je.isString(s)?a(s):s;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}();function GY(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function KY(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,s;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),f=r[i];s||(s=d),n[a]=c,r[a]=d;let h=i,m=0;for(;h!==a;)m+=n[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-s<t)return;const g=f&&d-f;return g?Math.round(m*1e3/g):void 0}}var QY=KY;function vk(e,t){let n=0;const r=QY(50,250);return a=>{const i=a.loaded,s=a.lengthComputable?a.total:void 0,o=i-n,c=r(o),d=i<=s;n=i;const f={loaded:i,total:s,progress:s?i/s:void 0,bytes:o,rate:c||void 0,estimated:c&&s&&d?(s-i)/c:void 0,event:a};f[t?"download":"upload"]=!0,e(f)}}var ZY=typeof XMLHttpRequest<"u",XY=ZY&&function(e){return new Promise(function(n,r){let a=e.data;const i=xl.from(e.headers).normalize(),s=e.responseType;let o;function c(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}let d;je.isFormData(a)&&(Mo.isStandardBrowserEnv||Mo.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.getContentType(/^\s*multipart\/form-data/)?je.isString(d=i.getContentType())&&i.setContentType(d.replace(/^\s*(multipart\/form-data);+/,"$1")):i.setContentType("multipart/form-data"));let f=new XMLHttpRequest;if(e.auth){const b=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(b+":"+_))}const h=QN(e.baseURL,e.url);f.open(e.method.toUpperCase(),qN(h,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function m(){if(!f)return;const b=xl.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),w={data:!s||s==="text"||s==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:b,config:e,request:f};HY(function(k){n(k),c()},function(k){r(k),c()},w),f=null}if("onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(m)},f.onabort=function(){f&&(r(new dr("Request aborted",dr.ECONNABORTED,e,f)),f=null)},f.onerror=function(){r(new dr("Network Error",dr.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let _=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const w=e.transitional||YN;e.timeoutErrorMessage&&(_=e.timeoutErrorMessage),r(new dr(_,w.clarifyTimeoutError?dr.ETIMEDOUT:dr.ECONNABORTED,e,f)),f=null},Mo.isStandardBrowserEnv){const b=WY(h)&&e.xsrfCookieName&&VY.read(e.xsrfCookieName);b&&i.set(e.xsrfHeaderName,b)}a===void 0&&i.setContentType(null),"setRequestHeader"in f&&je.forEach(i.toJSON(),function(_,w){f.setRequestHeader(w,_)}),je.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),s&&s!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",vk(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",vk(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=b=>{f&&(r(!b||b.type?new d1(null,e,f):b),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const g=GY(h);if(g&&Mo.protocols.indexOf(g)===-1){r(new dr("Unsupported protocol "+g+":",dr.ERR_BAD_REQUEST,e));return}f.send(a||null)})},aC={http:wY,xhr:XY};je.forEach(aC,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});var bk=e=>`- ${e}`,JY=e=>je.isFunction(e)||e===null||e===!1,ZN={getAdapter:e=>{e=je.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let s;if(r=n,!JY(n)&&(r=aC[(s=String(n)).toLowerCase()],r===void 0))throw new dr(`Unknown adapter '${s}'`);if(r)break;a[s||"#"+i]=r}if(!r){const i=Object.entries(a).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?i.length>1?`since :
`+i.map(bk).join(`
`):" "+bk(i[0]):"as no adapter specified";throw new dr("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:aC};function lw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new d1(null,e)}function _k(e){return lw(e),e.headers=xl.from(e.headers),e.data=ow.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ZN.getAdapter(e.adapter||YD.adapter)(e).then(function(r){return lw(e),r.data=ow.call(e,e.transformResponse,r),r.headers=xl.from(r.headers),r},function(r){return GN(r)||(lw(e),r&&r.response&&(r.response.data=ow.call(e,e.transformResponse,r.response),r.response.headers=xl.from(r.response.headers))),Promise.reject(r)})}var wk=e=>e instanceof xl?e.toJSON():e;function Xd(e,t){t=t||{};const n={};function r(d,f,h){return je.isPlainObject(d)&&je.isPlainObject(f)?je.merge.call({caseless:h},d,f):je.isPlainObject(f)?je.merge({},f):je.isArray(f)?f.slice():f}function a(d,f,h){if(je.isUndefined(f)){if(!je.isUndefined(d))return r(void 0,d,h)}else return r(d,f,h)}function i(d,f){if(!je.isUndefined(f))return r(void 0,f)}function s(d,f){if(je.isUndefined(f)){if(!je.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function o(d,f,h){if(h in t)return r(d,f);if(h in e)return r(void 0,d)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(d,f)=>a(wk(d),wk(f),!0)};return je.forEach(Object.keys(Object.assign({},e,t)),function(f){const h=c[f]||a,m=h(e[f],t[f],f);je.isUndefined(m)&&h!==o||(n[f]=m)}),n}var XN="1.6.0",WD={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{WD[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var xk={};WD.transitional=function(t,n,r){function a(i,s){return"[Axios v"+XN+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,o)=>{if(t===!1)throw new dr(a(s," has been removed"+(n?" in "+n:"")),dr.ERR_DEPRECATED);return n&&!xk[s]&&(xk[s]=!0,console.warn(a(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,s,o):!0}};function eW(e,t,n){if(typeof e!="object")throw new dr("options must be an object",dr.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],s=t[i];if(s){const o=e[i],c=o===void 0||s(o,i,e);if(c!==!0)throw new dr("option "+i+" must be "+c,dr.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new dr("Unknown option "+i,dr.ERR_BAD_OPTION)}}var iC={assertOptions:eW,validators:WD},rc=iC.validators,gv=class{constructor(t){this.defaults=t,this.interceptors={request:new gk,response:new gk}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Xd(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&iC.assertOptions(r,{silentJSONParsing:rc.transitional(rc.boolean),forcedJSONParsing:rc.transitional(rc.boolean),clarifyTimeoutError:rc.transitional(rc.boolean)},!1),a!=null&&(je.isFunction(a)?n.paramsSerializer={serialize:a}:iC.assertOptions(a,{encode:rc.function,serialize:rc.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&je.merge(i.common,i[n.method]);i&&je.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),n.headers=xl.concat(s,i);const o=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(c=c&&_.synchronous,o.unshift(_.fulfilled,_.rejected))});const d=[];this.interceptors.response.forEach(function(_){d.push(_.fulfilled,_.rejected)});let f,h=0,m;if(!c){const b=[_k.bind(this),void 0];for(b.unshift.apply(b,o),b.push.apply(b,d),m=b.length,f=Promise.resolve(n);h<m;)f=f.then(b[h++],b[h++]);return f}m=o.length;let g=n;for(h=0;h<m;){const b=o[h++],_=o[h++];try{g=b(g)}catch(w){_.call(this,w);break}}try{f=_k.call(this,g)}catch(b){return Promise.reject(b)}for(h=0,m=d.length;h<m;)f=f.then(d[h++],d[h++]);return f}getUri(t){t=Xd(this.defaults,t);const n=QN(t.baseURL,t.url);return qN(n,t.params,t.paramsSerializer)}};je.forEach(["delete","get","head","options"],function(t){gv.prototype[t]=function(n,r){return this.request(Xd(r||{},{method:t,url:n,data:(r||{}).data}))}});je.forEach(["post","put","patch"],function(t){function n(r){return function(i,s,o){return this.request(Xd(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}gv.prototype[t]=n(),gv.prototype[t+"Form"]=n(!0)});var _y=gv,tW=class JN{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(o=>{r.subscribe(o),i=o}).then(a);return s.cancel=function(){r.unsubscribe(i)},s},t(function(i,s,o){r.reason||(r.reason=new d1(i,s,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new JN(function(a){t=a}),cancel:t}}},nW=tW;function rW(e){return function(n){return e.apply(null,n)}}function aW(e){return je.isObject(e)&&e.isAxiosError===!0}var sC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sC).forEach(([e,t])=>{sC[t]=e});var iW=sC;function eP(e){const t=new _y(e),n=AN(_y.prototype.request,t);return je.extend(n,_y.prototype,t,{allOwnKeys:!0}),je.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return eP(Xd(e,a))},n}var Ca=eP(YD);Ca.Axios=_y;Ca.CanceledError=d1;Ca.CancelToken=nW;Ca.isCancel=GN;Ca.VERSION=XN;Ca.toFormData=c1;Ca.AxiosError=dr;Ca.Cancel=Ca.CanceledError;Ca.all=function(t){return Promise.all(t)};Ca.spread=rW;Ca.isAxiosError=aW;Ca.mergeConfig=Xd;Ca.AxiosHeaders=xl;Ca.formToJSON=e=>WN(je.isHTMLForm(e)?new FormData(e):e);Ca.getAdapter=ZN.getAdapter;Ca.HttpStatusCode=iW;Ca.default=Ca;var Sp=Ca,{Axios:XTe,AxiosError:JTe,CanceledError:eke,isCancel:tke,CancelToken:nke,VERSION:rke,all:ake,Cancel:ike,isAxiosError:ske,spread:oke,toFormData:lke,AxiosHeaders:cke,HttpStatusCode:uke,formToJSON:dke,getAdapter:fke,mergeConfig:hke}=Sp,sW=em(Lq()),oW=em(Nq()),lW=25,cW=100,cw={hasNext:!1,hasPrev:!1},uW=100*1024*1024,dW=10,fW=100,hW={created_at:!0,deleted_at:!0,pinned_at:!0,updated_at:!0,command:!0,mentioned_users:!0,quoted_message:!0,latest_reactions:!0,own_reactions:!0,reaction_counts:!0,reply_count:!0,i18n:!0,type:!0,html:!0,__html:!0,user:!0},pW={error:!0};function tP(e,t){e.then().catch(n=>{console.warn(`failed to do ${t}, ran into error: `,n)})}var mu=e=>new Promise(t=>setTimeout(t,e));function oC(e){return typeof e=="function"||e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}var Hh={TOKEN_EXPIRED:40,WS_CLOSED_SUCCESS:1e3};function mW(e){return e!==null&&typeof e=="object"&&(e.readable||typeof e._read=="function")}function gW(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function yW(e){return typeof window<"u"&&"File"in window&&e instanceof File}function vW(e){return typeof window<"u"&&"Blob"in window&&e instanceof Blob}function bW(e){return{channel_mutes:!0,devices:!0,mutes:!0,total_unread_count:!0,unread_channels:!0,unread_count:!0,unread_threads:!0,invisible:!0,privacy_settings:!0,roles:!0,push_preferences:!0}[e]}function _W(e,t,n){const r=new oW.default;return mW(e)||gW(e)||yW(e)||vW(e)?t?r.append("file",e,t):r.append("file",e):r.append("file",{uri:e,name:t||e.split("/").reverse()[0],contentType:n,type:n}),r}function ni(e){const t=[],n=Array.isArray(e)?e:[e];for(const r of n){const a=Object.entries(r);a.length>1&&console.warn("client._buildSort() - multiple fields in a single sort object detected. Object's field order is not guaranteed");for(const[i,s]of a)t.push({field:i,direction:s})}return t}function yv(e){const t=Math.min(500+e*2e3,25e3),n=Math.min(Math.max(250,(e-1)*2e3),25e3);return Math.floor(Math.random()*(t-n)+n)}function Od(){return Xs()}function Sh(e){let t="";for(let n=0;n<e.length;n++)t+=e[n].toString(16).padStart(2,"0");return t}function Xs(){const e=CW(16);return e[6]=e[6]&15|64,e[8]=e[8]&191|128,Sh(e.subarray(0,4))+"-"+Sh(e.subarray(4,6))+"-"+Sh(e.subarray(6,8))+"-"+Sh(e.subarray(8,10))+"-"+Sh(e.subarray(10,16))}function wW(e){const t=Math.pow(2,8*e.byteLength/e.length);for(let n=0;n<e.length;n++)e[n]=Math.random()*t}var xW=typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)<"u"?crypto.getRandomValues.bind(crypto):typeof msCrypto<"u"?msCrypto.getRandomValues.bind(msCrypto):wW;function CW(e){const t=new Uint8Array(e);return xW(t),t}function DW(e){const t={};if(!e)return t;try{Object.getOwnPropertyNames(e).forEach(n=>{t[n]=Object.getOwnPropertyDescriptor(e,n)})}catch{return{error:"failed to serialize the error"}}return t}function SW(){const e=typeof navigator<"u"?navigator:typeof window<"u"&&window.navigator?window.navigator:void 0;return e?typeof e.onLine!="boolean"?!0:e.onLine:(console.warn("isOnline failed to access window.navigator and assume browser is online"),!0)}function nP(e){typeof window<"u"&&window.addEventListener&&(window.addEventListener("offline",e),window.addEventListener("online",e))}function rP(e){typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("offline",e),window.removeEventListener("online",e))}var EW=e=>{const t=[];for(const n in e)e[n]!==void 0&&(Array.isArray(e[n])||typeof e[n]=="object"?t.push(`${n}=${encodeURIComponent(JSON.stringify(e[n]))}`):t.push(`${n}=${encodeURIComponent(e[n])}`));return t.join("&")};function Ji(e){const t=n=>n?{...n,created_at:e.created_at?new Date(e.created_at):new Date,deleted_at:e.deleted_at?new Date(e.deleted_at):null,pinned_at:e.pinned_at?new Date(e.pinned_at):null,reaction_groups:TW(e.reaction_groups,e.reaction_counts,e.reaction_scores),status:e.status||"received",updated_at:e.updated_at?new Date(e.updated_at):new Date}:null;return{...t(e),error:e.error??null,quoted_message:t(e.quoted_message)}}var MW=e=>{var x;const{created_at:t,updated_at:n,deleted_at:r,error:a,status:i,latest_reactions:s,own_reactions:o,reaction_counts:c,reaction_scores:d,reply_count:f,command:h,html:m,i18n:g,quoted_message:b,mentioned_users:_,...w}=e;return{...w,pinned_at:(x=w.pinned_at)==null?void 0:x.toISOString(),mentioned_users:_==null?void 0:_.map(k=>k.id)}},aP=e=>{var r;const t={...hW,...pW};return{...Object.fromEntries(Object.entries(e).filter(([a])=>!t[a])),pinned:!!e.pinned_at,mentioned_users:(r=e.mentioned_users)==null?void 0:r.map(a=>typeof a=="string"?a:a.id)}},iP=({needle:e,sortedArray:t,selectKey:n,selectValueToCompare:r=i=>i,sortDirection:a="ascending"})=>{if(!t.length)return 0;let i=0,s=t.length-1,o=0;const c=()=>{o=Math.round((i+s)/2)},d=r(e);for(;i<=s;){c();const f=r(t[o]);a==="ascending"&&d<f||a==="descending"&&d>=f?s=o-1:i=o+1}if(n){const f=n(e),h=a==="ascending"?-1:1;for(let m=i+h;0<=m&&m<t.length&&r(t[m])===d;m+=h)if(n(t[m])===f)return m}return i};function sP(e,t,n=!1,r="created_at",a=!0){const i=a||n;let s=[...e];if(n&&(s=s.filter(f=>!(f.id&&t.id===f.id))),s.length===0&&i)return s.concat(t);if(s.length===0)return s;const o=t[r].getTime(),c=s.at(-1)[r].getTime()<o;if(c&&i)return s.concat(t);if(c)return s;const d=iP({needle:t,sortedArray:s,sortDirection:"ascending",selectValueToCompare:f=>f[r].getTime(),selectKey:f=>f.id});return!n&&t.id&&s[d]&&t.id===s[d].id?(s[d]=t,s):(i&&s.splice(d,0,t),s)}function TW(e,t,n){if(e)return e;if(t&&n){const r={};for(const a of Object.keys(t))r[a]={count:t[a],sum_scores:n[a]};return r}return null}var lC=(e,t=0,{leading:n=!1,trailing:r=!0}={})=>{let a=null,i=null,s;const o=(...c)=>(a?clearTimeout(a):n&&(s=e(...c)),r&&(i=c),a=setTimeout(()=>{i&&(s=e(...i),i=null),a=null},t),s);return o.cancel=()=>{a&&clearTimeout(a)},o.flush=()=>(a&&(clearTimeout(a),a=null,i&&(s=e(...i))),s),o},oP=(e,t=200,{leading:n=!0,trailing:r=!1}={})=>{let a=null,i=null;return(...s)=>{if(a){r&&(i=s);return}n&&e(...s);const o=()=>{if(i){e(...i),i=null,a=setTimeout(o,t);return}a=null};a=setTimeout(o,t)}},kW=(e,t)=>t.split(".").reduce((n,r)=>{if(n&&typeof n=="object"&&r in n)return n[r]},e),RW=(e,t)=>{if(!Array.isArray(e))return[];const n=new Set;return e.filter(r=>{const a=kW(r,t);return n.has(a)?!1:(n.add(a),!0)})};function AW(e,t){let n=0,r=e.length-1;for(;n<=r;){const a=Math.floor((n+r)/2),i=e[a].created_at;if(!i){n+=1;continue}const s=new Date(i);if(s.getTime()===t.getTime())return a;s.getTime()<t.getTime()?n=a+1:r=a-1}return n}var OW=({parentSet:e,requestedPageSize:t,returnedPage:n,messagePaginationOptions:r})=>{var w,x;const a={...e.pagination};if(!(r!=null&&r.created_at_around))return a;let i,s,o,c;const d=new Date(r.created_at_around),[f,h]=[n[0],n.slice(-1)[0]],m=!!(f!=null&&f.created_at)&&new Date(f.created_at)>d,g=!!(h!=null&&h.created_at)&&new Date(h.created_at)<d,b=t>e.messages.length&&t>n.length,_=(t>e.messages.length||e.messages.length>=n.length)&&t>n.length;if(m)i=!1,o=!0,b&&(s=!1,c=!0);else if(g)s=!1,c=!0,b&&(i=!1,o=!0);else if(_)s=i=!1,o=c=!0;else{const[k,R]=[(f==null?void 0:f.id)&&f.id===((w=e.messages[0])==null?void 0:w.id),(h==null?void 0:h.id)&&h.id===((x=e.messages.slice(-1)[0])==null?void 0:x.id)];o=k,c=R;const I=Math.floor(n.length/2),O=AW(n,d);O!==-1&&(i=I<=O,s=I>=O)}return o&&typeof i<"u"&&(a.hasPrev=i),c&&typeof s<"u"&&(a.hasNext=s),a},LW=({parentSet:e,requestedPageSize:t,returnedPage:n,messagePaginationOptions:r})=>{var w,x;const a={...e.pagination},{id_around:i}=r||{};if(!i)return a;let s,o;const[c,d]=[n[0],n.slice(-1)[0]],[f,h]=[(c==null?void 0:c.id)===((w=e.messages[0])==null?void 0:w.id),(d==null?void 0:d.id)===((x=e.messages.slice(-1)[0])==null?void 0:x.id)];let m=f,g=h;const b=Math.floor(n.length/2);if((t>e.messages.length||e.messages.length>=n.length)&&t>n.length)o=s=!1,m=g=!0;else if(n[b])if(n[b].id===i)s=o=!0;else{let k;const R=[n.slice(0,b),n.slice(b)];s=o=!0;for(let I=0;I<R.length;I++)k=R[I].find(O=>O.id===i),k&&I===0&&(s=!1),k&&I===1&&(o=!1)}else return a;return m&&typeof s<"u"&&(a.hasPrev=s),g&&typeof o<"u"&&(a.hasNext=o),a},NW=({parentSet:e,requestedPageSize:t,returnedPage:n,messagePaginationOptions:r})=>{var w,x;const a={...e.pagination};let i,s;const[o,c]=[n[0],n.slice(-1)[0]],[d,f]=[(o==null?void 0:o.id)&&o.id===((w=e.messages[0])==null?void 0:w.id),(c==null?void 0:c.id)&&c.id===((x=e.messages.slice(-1)[0])==null?void 0:x.id)],h=r&&(r.created_at_after_or_equal||r.created_at_after||r.id_gt||r.id_gte),m=typeof r>"u"?!0:r.created_at_before_or_equal||r.created_at_before||r.id_lt||r.id_lte||r.offset,g=!h&&!m&&!(r!=null&&r.id_around)&&!(r!=null&&r.created_at_around),b=n.length>=t;(typeof m<"u"||g)&&(i=b),typeof h<"u"&&(s=b);const _=n.length===0;return(d||_)&&typeof i<"u"&&(a.hasPrev=i),(f||_)&&typeof s<"u"&&(a.hasNext=s),a},lP=e=>{var t,n,r;return e.parentSet.messages.length<e.returnedPage.length?((t=e.logger)==null||t.call(e,"error","Corrupted message set state: parent set size < returned page size"),e.parentSet.pagination):(n=e.messagePaginationOptions)!=null&&n.created_at_around?OW(e):(r=e.messagePaginationOptions)!=null&&r.id_around?LW(e):NW(e)},Lg={},uw=async({channel:e,client:t,id:n,members:r,options:a,type:i})=>{if(!e&&!i)throw new Error("Channel or channel type have to be provided to query a channel.");const s=e||t.channel(i,n,{members:r}),o=s.id?s.cid:r&&r.length?GD(s.type,r):void 0;if(!o)throw new Error("Channel ID or channel members array have to be provided to query a channel.");const c=Lg[o];if(c)await c;else try{Lg[o]=s.watch(a),await Lg[o]}finally{delete Lg[o]}return s},GD=(e,t)=>{if(!t)return;const n=[...t].sort().join(",");if(n)return`${e}:!members-${n}`},vv=e=>{if(!e)return!1;const t=e.state.membership;return!!(t!=null&&t.pinned_at)},Ng=e=>{if(!e)return!1;const t=e.state.membership;return!!(t!=null&&t.archived_at)},Pg=e=>e?typeof e.archived=="boolean":!1,cP=({atIndex:e,sort:t,targetKey:n})=>{if(!t)return null;let r=null;if(Array.isArray(t))r=t[e]??null;else for(const a in t){if(a!==n)return null;r=t;break}return(r==null?void 0:r[n])??null},cC=e=>{const t=PW({sort:e});return typeof t!="number"?!1:Math.abs(t)===1},PW=({sort:e})=>cP({atIndex:0,sort:e,targetKey:"pinned_at"}),uP=({channels:e})=>{let t=null;for(const n of e){if(!vv(n))break;typeof t=="number"?t++:t=0}return t},Ig=({channels:e,channelToMove:t,channelToMoveIndexWithinChannels:n,sort:r})=>{const a=n??e.findIndex(h=>h.cid===t.cid),i=a>=0,s=a===0,o=cC(r),c=vv(t);if(s||o&&c)return e;const d=[...e];i&&d.splice(a,1);let f=null;return o&&(f=uP({channels:d})),d.splice(typeof f=="number"?f+1:0,0,t),d},IW=e=>!!e.getTime,dP=e=>IW(e.created_at),FW=class{constructor(e){var t;this.messageSets=[],this.formatMessage=n=>Ji(n),this.setIsUpToDate=n=>{this.isUpToDate=n},this.removeMessageFromArray=(n,r)=>{const a=n.filter(i=>!(i.id&&r.id&&i.id===r.id));return{removed:a.length<n.length,result:a}},this.updateUserMessages=n=>{const r=(a,i)=>{var s;for(let o=0;o<a.length;o++){const c=a[o];((s=c.user)==null?void 0:s.id)===i.id&&(a[o]={...c,user:i})}};this.messageSets.forEach(a=>r(a.messages,n));for(const a in this.threads)r(this.threads[a],n);r(this.pinnedMessages,n)},this.deleteUserMessages=(n,r=!1)=>{const a=(i,s,o=!1)=>{var c;for(let d=0;d<i.length;d++){const f=i[d];((c=f.user)==null?void 0:c.id)===s.id&&(o?i[d]={cid:f.cid,created_at:f.created_at,deleted_at:s.deleted_at,id:f.id,latest_reactions:[],mentioned_users:[],own_reactions:[],parent_id:f.parent_id,reply_count:f.reply_count,status:f.status,thread_participants:f.thread_participants,type:"deleted",updated_at:f.updated_at,user:f.user}:i[d]={...f,type:"deleted",deleted_at:s.deleted_at?new Date(s.deleted_at):null})}};this.messageSets.forEach(i=>a(i.messages,n,r));for(const i in this.threads)a(this.threads[i],n,r);a(this.pinnedMessages,n,r)},this._channel=e,this.watcher_count=0,this.typing={},this.read={},this.initMessages(),this.pinnedMessages=[],this.pending_messages=[],this.threads={},this.mutedUsers=[],this.watchers={},this.members={},this.membership={},this.unreadCount=0,this.isUpToDate=!0,this.last_message_at=((t=e==null?void 0:e.state)==null?void 0:t.last_message_at)!=null?new Date(e.state.last_message_at):null}get messages(){var e;return((e=this.messageSets.find(t=>t.isCurrent))==null?void 0:e.messages)||[]}set messages(e){const t=this.messageSets.findIndex(n=>n.isCurrent);this.messageSets[t].messages=e}get latestMessages(){var e;return((e=this.messageSets.find(t=>t.isLatest))==null?void 0:e.messages)||[]}set latestMessages(e){const t=this.messageSets.findIndex(n=>n.isLatest);this.messageSets[t].messages=e}get messagePagination(){var e;return((e=this.messageSets.find(t=>t.isCurrent))==null?void 0:e.pagination)||cw}addMessageSorted(e,t=!1,n=!0,r="latest"){return this.addMessagesSorted([e],t,!1,n,r)}addMessagesSorted(e,t=!1,n=!1,r=!0,a="current"){var o;const{messagesToAdd:i,targetMessageSetIndex:s}=this.findTargetMessageSet(e,r,a);for(let c=0;c<i.length;c+=1){if(i[c].shadowed)continue;const f=i[c].created_at instanceof Date;let h;f?h=i[c]:(h=this.formatMessage(i[c]),h.user&&((o=this._channel)!=null&&o.cid)&&this._channel.getClient().state.updateUserReference(h.user,this._channel.cid),n&&h.id&&this.threads[h.id]&&delete this.threads[h.id],this.last_message_at||(this.last_message_at=new Date(h.created_at.getTime())),h.created_at.getTime()>this.last_message_at.getTime()&&(this.last_message_at=new Date(h.created_at.getTime())));const m=h.parent_id;if((!m||h.show_in_channel)&&s!==-1&&(this.messageSets[s].messages=this._addToMessageList(this.messageSets[s].messages,h,t,"created_at",r)),m&&!n){const g=this.threads[m]||[];this.threads[m]=this._addToMessageList(g,h,t,"created_at",r)}}return{messageSet:this.messageSets[s]}}addPinnedMessages(e){for(let t=0;t<e.length;t+=1)this.addPinnedMessage(e[t])}addPinnedMessage(e){this.pinnedMessages=this._addToMessageList(this.pinnedMessages,this.formatMessage(e),!1,"pinned_at")}removePinnedMessage(e){const{result:t}=this.removeMessageFromArray(this.pinnedMessages,e);this.pinnedMessages=t}addReaction(e,t,n){if(!t)return;const r=t;return this._updateMessage(t,a=>(r.own_reactions=this._addOwnReactionToMessage(a.own_reactions,e,n),this.formatMessage(r))),r}_addOwnReactionToMessage(e,t,n){return n?e=[]:e=this._removeOwnReactionFromMessage(e,t),e=e||[],this._channel.getClient().userID===t.user_id&&e.push(t),e}_removeOwnReactionFromMessage(e,t){return e&&e.filter(n=>n.user_id!==t.user_id||n.type!==t.type)}removeReaction(e,t){if(!t)return;const n=t;return this._updateMessage(t,r=>(n.own_reactions=this._removeOwnReactionFromMessage(r.own_reactions,e),this.formatMessage(n))),n}_updateQuotedMessageReferences({message:e,remove:t}){const n=a=>{var i,s;return{...a,created_at:a.created_at.toISOString(),pinned_at:(i=a.pinned_at)==null?void 0:i.toISOString(),updated_at:(s=a.updated_at)==null?void 0:s.toISOString()}},r=a=>{const i=a.reduce((s,o)=>(o.quoted_message_id===e.id&&s.push({...n(o),quoted_message:t?{...e,attachments:[]}:e}),s),[]);this.addMessagesSorted(i,!0)};e.parent_id?e.parent_id&&this.threads[e.parent_id]&&r(this.threads[e.parent_id]):this.messageSets.forEach(a=>r(a.messages))}removeQuotedMessageReferences(e){this._updateQuotedMessageReferences({message:e,remove:!0})}_updateMessage(e,t){const{parent_id:n,show_in_channel:r,pinned:a}=e;if(n&&this.threads[n]){const i=this.threads[n],s=i.findIndex(o=>o.id===e.id);s!==-1&&(i[s]=t(i[s]),this.threads[n]=i)}if(!r&&!n||r){const i=this.findMessageSetIndex(e);if(i!==-1){const s=this.messageSets[i].messages.findIndex(o=>o.id===e.id);s!==-1&&(this.messageSets[i].messages[s]=t(this.messageSets[i].messages[s]))}}if(a){const i=this.pinnedMessages.findIndex(s=>s.id===e.id);i!==-1&&(this.pinnedMessages[i]=t(this.pinnedMessages[i]))}}_addToMessageList(e,t,n=!1,r="created_at",a=!0){return sP(e,t,n,r,a)}removeMessage(e){let t=!1;if(e.parent_id&&this.threads[e.parent_id]){const{removed:n,result:r}=this.removeMessageFromArray(this.threads[e.parent_id],e);this.threads[e.parent_id]=r,t=n}else{const n=e.messageSetIndex??this.findMessageSetIndex(e);if(n!==-1){const{removed:r,result:a}=this.removeMessageFromArray(this.messageSets[n].messages,e);this.messageSets[n].messages=a,t=r}}return t}filterErrorMessages(){const e=this.latestMessages.filter(t=>t.type!=="error");this.latestMessages=e}clean(){const e=new Date;for(const[t,n]of Object.entries(this.typing)){const r=typeof n.received_at=="string"?new Date(n.received_at):n.received_at||new Date;e.getTime()-r.getTime()>7e3&&(delete this.typing[t],this._channel.getClient().dispatchEvent({cid:this._channel.cid,type:"typing.stop",user:{id:t}}))}}clearMessages(){this.initMessages(),this.pinnedMessages=[]}initMessages(){this.messageSets=[{messages:[],isLatest:!0,isCurrent:!0,pagination:cw}]}async loadMessageIntoState(e,t,n=25){var o;let r,a=!1,i=!1;const s=t||e;if(e==="latest"){if(this.messages===this.latestMessages)return;r=this.messageSets.findIndex(c=>c.isLatest)}else r=this.findMessageSetIndex({id:s});r!==-1&&(this.switchToMessageSet(r),a=!0),i=!t||!!((o=this.threads[t])!=null&&o.find(c=>c.id===e)),!(a&&i)&&(a||await this._channel.query({messages:{id_around:s,limit:n}},"new"),!i&&t&&await this._channel.getReplies(t,{id_around:e,limit:n}),r=this.findMessageSetIndex({id:s}),r!==-1&&this.switchToMessageSet(r))}findMessage(e,t){if(t){const r=this.threads[t];return r?r.find(a=>a.id===e):void 0}const n=this.findMessageSetIndex({id:e});if(n!==-1)return this.messageSets[n].messages.find(r=>r.id===e)}switchToMessageSet(e){const t=this.messageSets.find(n=>n.isCurrent);t&&(t.isCurrent=!1,this.messageSets[e].isCurrent=!0)}areMessageSetsOverlap(e,t){return e.some(n=>t.find(r=>n.id===r.id))}findMessageSetIndex(e){return this.messageSets.findIndex(t=>!!t.messages.find(n=>n.id===e.id))}findTargetMessageSet(e,t=!0,n="current"){let r=e,a;if(t){const i=this.messageSets.map((c,d)=>d).filter(c=>this.areMessageSetsOverlap(this.messageSets[c].messages,e));switch(n){case"new":i.length>0?a=i[0]:e.some(c=>!c.parent_id)&&(this.messageSets.push({messages:[],isCurrent:!1,isLatest:!1,pagination:cw}),a=this.messageSets.length-1);break;case"current":a=this.messageSets.findIndex(c=>c.isCurrent);break;case"latest":a=this.messageSets.findIndex(c=>c.isLatest);break;default:a=-1}const s=i.splice(0,1)[0],o=[...i];if(s!==void 0&&s!==a&&o.push(a),o.length>0){const c=this.messageSets[s],d=this.messageSets.filter((h,m)=>o.indexOf(m)!==-1);d.forEach(h=>{c.isLatest=c.isLatest||h.isLatest,c.isCurrent=c.isCurrent||h.isCurrent,c.pagination.hasPrev=h.messages[0].created_at<c.messages[0].created_at?h.pagination.hasPrev:c.pagination.hasPrev,c.pagination.hasNext=c.messages.slice(-1)[0].created_at<h.messages.slice(-1)[0].created_at?h.pagination.hasNext:c.pagination.hasNext,r=[...r,...h.messages]}),d.forEach(h=>this.messageSets.splice(this.messageSets.indexOf(h),1)),a=this.messageSets.findIndex(h=>this.areMessageSetsOverlap(h.messages,e))}}else a=this.findMessageSetIndex(e[0]);return{targetMessageSetIndex:a,messagesToAdd:r}}},KD=e=>!!(e!=null&&e.og_scrape_url)||!!(e!=null&&e.title_link),Ou=e=>{var t;return!!((t=e==null?void 0:e.localMetadata)!=null&&t.id)},jW=e=>{var t;return!!((t=e==null?void 0:e.localMetadata)!=null&&t.uploadState)},QD=(e,t=[])=>e.type==="file"||!!(e.mime_type&&t.indexOf(e.mime_type)===-1&&e.type!=="video"),UW=e=>QD(e)&&Ou(e),bv=e=>e.type==="image"&&!KD(e),fP=e=>bv(e)&&Ou(e),ZD=e=>e.type==="audio",BW=e=>ZD(e)&&Ou(e),XD=e=>e.type==="voiceRecording",$W=e=>XD(e)&&Ou(e),JD=(e,t=[])=>e.type==="video"||!!(e.mime_type&&t.indexOf(e.mime_type)!==-1),zW=e=>JD(e)&&Ou(e),HW=e=>ZD(e)||QD(e)||bv(e)||JD(e)||XD(e),wy=e=>!!e.lastModified&&!("uri"in e),VW=e=>e==null||typeof e!="object"?!1:e instanceof FileList||"item"in e&&"length"in e&&!Array.isArray(e),qW=e=>e instanceof Blob&&!(e instanceof File),Eh=e=>e!==null&&typeof e=="object"&&!wy(e)&&!qW(e)&&typeof e.name=="string"&&typeof e.uri=="string"&&typeof e.size=="number"&&typeof e.type=="string",Ck=({blobsArray:e,fileName:t,mimeType:n})=>{const r=new Blob(e,{type:n});return new File([r],t,{type:r.type})},YW=e=>{const t=e.match(/\/([^/;]+)/);return t==null?void 0:t[1]},Dk=e=>{const t=YW(e);return`file_${new Date().toISOString()}${t?"."+t:""}`},Mh=e=>{const t=e.type;return t.startsWith("image/")&&!t.endsWith(".photoshop")},WW=e=>e.startsWith("image/")&&!e.endsWith(".photoshop")?"image":e.includes("video/")?"video":e.includes("audio/")?"audio":"file",Sk=e=>{if(!e)return null;if(Ou(e))return e;const{localMetadata:t,...n}=e;return{localMetadata:{...t??{},id:(t==null?void 0:t.id)||Xs()},...n}},hP=e=>typeof e=="function",ka=class{constructor(e){this.value=e,this.handlerSet=new Set,this.next=t=>{const n=hP(t)?t(this.value):t;if(n===this.value)return;const r=this.value;this.value=n,this.handlerSet.forEach(a=>a(this.value,r))},this.partialNext=t=>this.next(n=>({...n,...t})),this.getLatestValue=()=>this.value,this.subscribe=t=>(t(this.value,void 0),this.handlerSet.add(t),()=>{this.handlerSet.delete(t)}),this.subscribeWithSelector=(t,n)=>{let r;const a=i=>{const s=t(i);let o=!r;for(const d in r)if(r[d]!==s[d]){o=!0;break}if(!o)return;const c=r;r=s,n(s,c)};return this.subscribe(a)}}},gu=e=>{if(!e||typeof e!="object"||Array.isArray(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype?!1:e.constructor&&e.constructor!==Object},uC=(e,t,n=new Set,r=new WeakSet,a=new WeakSet)=>{if(e===t)return!0;if(e==null||t==null)return!1;const i=typeof e;if(i!==typeof t)return!1;if(i!=="object")return e!==e&&t!==t?!0:e===t;const o=e,c=t;if(r.has(o)||a.has(c))return r.has(o)&&a.has(c);if(r.add(o),a.add(c),e instanceof Date&&t instanceof Date)return r.delete(o),a.delete(c),e.getTime()===t.getTime();if(e instanceof RegExp&&t instanceof RegExp)return r.delete(o),a.delete(c),e.toString()===t.toString();if(gu(e)||gu(t))return r.delete(o),a.delete(c),!1;const d=Array.isArray(e),f=Array.isArray(t);if(d!==f)return r.delete(o),a.delete(c),!1;if(d&&f){const w=e,x=t;if(w.length!==x.length)return r.delete(o),a.delete(c),!1;const k=[e,t];if(n.has(k))return r.delete(o),a.delete(c),!0;n.add(k);for(let R=0;R<w.length;R++)if(!uC(w[R],x[R],n,r,a))return n.delete(k),r.delete(o),a.delete(c),!1;return n.delete(k),r.delete(o),a.delete(c),!0}const h=e,m=t,g=Object.keys(h),b=Object.keys(m);if(g.length!==b.length)return r.delete(o),a.delete(c),!1;for(const w of b)if(!Object.prototype.hasOwnProperty.call(h,w))return r.delete(o),a.delete(c),!1;const _=[e,t];if(n.has(_))return r.delete(o),a.delete(c),!0;n.add(_);for(const w of g)if(!uC(h[w],m[w],n,r,a))return n.delete(_),r.delete(o),a.delete(c),!1;return n.delete(_),r.delete(o),a.delete(c),!0};function GW(e,t){const n={children:{}};return pP(e,t,n),eS(n)}function pP(e,t,n,r,a=new Set,i=new Set){if(uC(e,t,new Set(a)))return;if(e==null){r!==void 0&&(n.children[String(r)]={type:"added",value:t,children:{}});return}if(typeof e=="object"&&e!==null){if(i.has(e)){r!==void 0&&(n.children[String(r)]={type:"circular",value:t,oldValue:e,children:{}});return}i.add(e)}if(typeof e!="object"||typeof t!="object"||e===null||t===null||Array.isArray(e)!==Array.isArray(t)||gu(e)||gu(t)){r!==void 0&&(n.children[String(r)]={type:"updated",value:t,oldValue:e,children:{}}),typeof e=="object"&&e!==null&&i.delete(e);return}const o=e,c=t,d=r!==void 0?{type:"updated",children:{},oldValue:e,value:t}:n;r!==void 0&&(n.children[String(r)]=d);const f=[e,t];if(a.has(f)){typeof e=="object"&&e!==null&&i.delete(e);return}a.add(f);const h=new Set([...Object.keys(o),...Object.getOwnPropertySymbols(o),...Object.keys(c),...Object.getOwnPropertySymbols(c)]);for(const m of h){const g=o[m],b=c[m];if(m in c){if(!(m in o)){d.children[String(m)]={type:"added",value:b,children:{}};continue}pP(g,b,d,m,a,i)}}a.delete(f),typeof e=="object"&&e!==null&&i.delete(e)}function mP(e={}){const{trackDiff:t=!1}=e;return function({target:r,source:a,customizer:i}){const s=Array.isArray(a)?a:[a],o=t?structuredClone(r):void 0;function c(w,x,k,R,I,O){const A=i==null?void 0:i(w,x,k,R,I,O);return A!==void 0?(Object.defineProperty(R,k,{value:A,enumerable:!0,writable:!0,configurable:!0}),!0):!1}function d(w,x){if(w&&typeof w=="object"){const k=gu(w),R=gu(x);return k||R?R?x:w:Array.isArray(w)?[...w]:{...w}}return Array.isArray(x)?[]:{}}function f(w,x,k,R,I){const O=x[k],A=w[k];if(!c(A,O,k,w,x,R))if(O&&typeof O=="object"){if(!R.has(O)){const L=d(A,O);if(Object.defineProperty(w,k,{value:L,enumerable:!0,writable:!0,configurable:!0}),gu(L))return;I.push({target:L,source:O,sourceKey:k,parentTarget:w})}}else O!==void 0&&(w[k]=O)}function h(w,x,k,R){const I=[...Object.keys(x),...Object.getOwnPropertySymbols(x)];for(const O of I)f(w,x,O,k,R)}function m({target:w,source:x,sourceKey:k,parentTarget:R},I,O){if(I.has(x)){t&&k&&R&&Object.defineProperty(R,k,{value:w,enumerable:!0,writable:!0,configurable:!0});return}!I.has(w)&&!I.has(x)&&(I.add(w),I.add(x),h(w,x,I,O),I.delete(x),I.delete(w))}function g(w,x,k=new Set){if(k.has(w)||k.has(x))return{...w};const R={...w},I=[];for(k.add(R),k.add(x),h(R,x,k,I);I.length;)m(I.pop(),k,I);return k.delete(x),k.delete(R),R}const b=s.reduce((w,x)=>g(w,x),{...r}),_=t&&o?GW(o,b):null;return{result:b,diff:_}}}function eS(e){const t={};let n=!1;for(const r in e.children){const a=eS(e.children[r]);a&&(t[r]=a,n=!0)}return e.type||n?{...e,children:t}:null}function _v(e,t,n){return mP()({target:e,source:t,customizer:n}).result}function gP(e,t,n){const r=mP({trackDiff:!0}),{result:a,diff:i}=r({target:e,source:t,customizer:n});return{result:a,diff:eS(i??{children:{}})||{children:{}}}}var Ek=({message:e})=>{var t;return{attachments:(t=(e==null?void 0:e.attachments)??[])==null?void 0:t.filter(({og_scrape_url:n})=>!n).map(n=>{const r=HW(n)?{id:Xs(),uploadState:"finished"}:{id:Xs()};return{...n,localMetadata:r}})}},KW=class{constructor({composer:e,message:t}){this.setCustomUploadFn=n=>{this.composer.updateConfig({attachments:{doUploadRequest:n}})},this.initState=({message:n}={})=>{this.state.next(Ek({message:n}))},this.getAttachmentIndex=n=>this.attachments.findIndex(r=>{var a;return r.localMetadata.id&&n===((a=r.localMetadata)==null?void 0:a.id)}),this.upsertAttachments=n=>{if(!n.length)return;const r=this.attachments,a=[...this.attachments];n.forEach(i=>{const s=this.getAttachmentIndex(i.localMetadata.id);if(s===-1){const o=Sk(i);o&&a.push(o)}else{const o=gP(r[s]??{},i);if(o.diff&&Object.keys(o.diff.children).length){const d=Sk(o.result);d&&a.splice(s,1,d)}}}),this.state.partialNext({attachments:a})},this.removeAttachments=n=>{this.state.partialNext({attachments:this.attachments.filter(r=>{var a;return!n.includes((a=r.localMetadata)==null?void 0:a.id)})})},this.getUploadConfigCheck=async n=>{var g,b;const r=this.channel.getClient();let a;r.appSettingsPromise?a=await r.appSettingsPromise:a=await r.getAppSettings();const i=Mh(n)?(g=a==null?void 0:a.app)==null?void 0:g.image_upload_config:(b=a==null?void 0:a.app)==null?void 0:b.file_upload_config;if(!i)return{uploadBlocked:!1};const{allowed_file_extensions:s,allowed_mime_types:o,blocked_file_extensions:c,blocked_mime_types:d,size_limit:f}=i,h=f||uW,m=n.type;if(wy(n)){if(s!=null&&s.length&&!s.some(_=>n.name.toLowerCase().endsWith(_.toLowerCase())))return{uploadBlocked:!0,reason:"allowed_file_extensions"};if(c!=null&&c.length&&c.some(_=>n.name.toLowerCase().endsWith(_.toLowerCase())))return{uploadBlocked:!0,reason:"blocked_file_extensions"}}return o!=null&&o.length&&!o.some(_=>_.toLowerCase()===(m==null?void 0:m.toLowerCase()))?{uploadBlocked:!0,reason:"allowed_mime_types"}:d!=null&&d.length&&d.some(_=>_.toLowerCase()===(m==null?void 0:m.toLowerCase()))?{uploadBlocked:!0,reason:"blocked_mime_types"}:n.size&&n.size>h?{uploadBlocked:!0,reason:"size_limit"}:{uploadBlocked:!1}},this.fileToLocalUploadAttachment=async n=>{var s;const r=Eh(n)||wy(n)?n:Ck({blobsArray:[n],fileName:Dk(n.type),mimeType:n.type}),a=await this.getUploadConfigCheck(r),i={file_size:r.size,mime_type:r.type,localMetadata:{file:r,id:Xs(),uploadPermissionCheck:a,uploadState:a.uploadBlocked?"blocked":"pending"},type:WW(r.type)};return i[Mh(r)?"fallback":"title"]=r.name,Mh(r)&&(i.localMetadata.previewUri=Eh(n)?n.uri:(s=URL.createObjectURL)==null?void 0:s.call(URL,n),Eh(n)&&n.height&&n.width&&(i.original_height=n.height,i.original_width=n.width)),Eh(n)&&n.thumb_url&&(i.thumb_url=n.thumb_url),i},this.ensureLocalUploadAttachment=async n=>{var a;if(!((a=n.localMetadata)!=null&&a.file)||!n.localMetadata.id){this.client.notifications.addError({message:"File is required for upload attachment",origin:{emitter:"AttachmentManager",context:{attachment:n}}});return}if(!this.fileUploadFilter(n))return;const r=await this.fileToLocalUploadAttachment(n.localMetadata.file);return n.localMetadata.id&&(r.localMetadata.id=n.localMetadata.id),r},this.doDefaultUploadRequest=async n=>{if(Eh(n))return this.channel[Mh(n)?"sendImage":"sendFile"](n.uri,n.name,n.type);const r=wy(n)?n:Ck({blobsArray:[n],fileName:Dk(n.type),mimeType:n.type}),{duration:a,...i}=await this.channel[Mh(n)?"sendImage":"sendFile"](r);return i},this.doUploadRequest=async n=>{const r=this.config.doUploadRequest;return r?await r(n):this.doDefaultUploadRequest(n)},this.uploadAttachment=async n=>{if(!this.isUploadEnabled)return;const r=await this.ensureLocalUploadAttachment(n);if(typeof r>"u")return;if(r.localMetadata.uploadState==="blocked")return this.upsertAttachments([r]),this.client.notifications.addError({message:"Error uploading attachment",origin:{emitter:"AttachmentManager",context:{attachment:n}}}),r;this.upsertAttachments([{...n,localMetadata:{...n.localMetadata,uploadState:"uploading"}}]);let a;try{a=await this.doUploadRequest(r.localMetadata.file)}catch(s){let o={message:"Error uploading attachment",name:"Error"};typeof s.message=="string"?o=s:typeof s=="object"&&(o=Object.assign(o,s)),this.client.notifications.addError({message:o.message,origin:{emitter:"AttachmentManager",context:{attachment:n}}});const c={...n,localMetadata:{...n.localMetadata,uploadState:"failed"}};return this.upsertAttachments([c]),c}if(!a){this.removeAttachments([n.localMetadata.id]);return}const i={...n,localMetadata:{...n.localMetadata,uploadState:"finished"}};return fP(i)?(i.localMetadata.previewUri&&(URL.revokeObjectURL(i.localMetadata.previewUri),delete i.localMetadata.previewUri),i.image_url=a.file):i.asset_url=a.file,a.thumb_url&&(i.thumb_url=a.thumb_url),this.upsertAttachments([i]),i},this.uploadFiles=async n=>{if(!this.isUploadEnabled)return;const r=VW(n)?Array.from(n):n,a=await Promise.all(r.map(this.fileToLocalUploadAttachment));return Promise.all(a.filter(this.fileUploadFilter).slice(0,this.availableUploadSlots).map(this.uploadAttachment))},this.composer=e,this.state=new ka(Ek({message:t}))}get client(){return this.composer.client}get channel(){return this.composer.channel}get config(){return this.composer.config.attachments}get acceptedFiles(){return this.config.acceptedFiles}set acceptedFiles(e){this.composer.updateConfig({attachments:{acceptedFiles:e}})}get fileUploadFilter(){return this.config.fileUploadFilter}set fileUploadFilter(e){this.composer.updateConfig({attachments:{fileUploadFilter:e}})}get maxNumberOfFilesPerMessage(){return this.config.maxNumberOfFilesPerMessage}set maxNumberOfFilesPerMessage(e){e!==this.maxNumberOfFilesPerMessage&&this.composer.updateConfig({attachments:{maxNumberOfFilesPerMessage:e}})}get attachments(){return this.state.getLatestValue().attachments}get hasUploadPermission(){var e,t;return!!((t=(e=this.channel.data)==null?void 0:e.own_capabilities)!=null&&t.includes("upload-file"))}get isUploadEnabled(){return this.hasUploadPermission&&this.availableUploadSlots>0}get successfulUploads(){return this.getUploadsByState("finished")}get successfulUploadsCount(){return this.successfulUploads.length}get uploadsInProgressCount(){return this.getUploadsByState("uploading").length}get failedUploadsCount(){return this.getUploadsByState("failed").length}get blockedUploadsCount(){return this.getUploadsByState("blocked").length}get pendingUploadsCount(){return this.getUploadsByState("pending").length}get availableUploadSlots(){return this.config.maxNumberOfFilesPerMessage-this.successfulUploadsCount-this.uploadsInProgressCount}getUploadsByState(e){return Object.values(this.attachments).filter(({localMetadata:t})=>t.uploadState===e)}},QW="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",ZW="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Jd=(e,t)=>{for(const n in t)e[n]=t[n];return e},dC="numeric",fC="ascii",hC="alpha",Jh="asciinumeric",Vh="alphanumeric",pC="domain",yP="emoji",XW="scheme",JW="slashscheme",dw="whitespace";function eG(e,t){return e in t||(t[e]=[]),t[e]}function iu(e,t,n){t[dC]&&(t[Jh]=!0,t[Vh]=!0),t[fC]&&(t[Jh]=!0,t[hC]=!0),t[Jh]&&(t[Vh]=!0),t[hC]&&(t[Vh]=!0),t[Vh]&&(t[pC]=!0),t[yP]&&(t[pC]=!0);for(const r in t){const a=eG(r,n);a.indexOf(e)<0&&a.push(e)}}function tG(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function es(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}es.groups={};es.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const a=t.jr[r][0],i=t.jr[r][1];if(i&&a.test(e))return i}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let a=0;a<e.length;a++)this.tt(e[a],t,n,r)},tr(e,t,n,r){r=r||es.groups;let a;return t&&t.j?a=t:(a=new es(t),n&&r&&iu(t,n,r)),this.jr.push([e,a]),a},ts(e,t,n,r){let a=this;const i=e.length;if(!i)return a;for(let s=0;s<i-1;s++)a=a.tt(e[s]);return a.tt(e[i-1],t,n,r)},tt(e,t,n,r){r=r||es.groups;const a=this;if(t&&t.j)return a.j[e]=t,t;const i=t;let s,o=a.go(e);if(o?(s=new es,Jd(s.j,o.j),s.jr.push.apply(s.jr,o.jr),s.jd=o.jd,s.t=o.t):s=new es,i){if(r)if(s.t&&typeof s.t=="string"){const c=Jd(tG(s.t,r),n);iu(i,c,r)}else n&&iu(i,n,r);s.t=i}return a.j[e]=s,s}};var gn=(e,t,n,r,a)=>e.ta(t,n,r,a),na=(e,t,n,r,a)=>e.tr(t,n,r,a),Mk=(e,t,n,r,a)=>e.ts(t,n,r,a),Ye=(e,t,n,r,a)=>e.tt(t,n,r,a),cl="WORD",mC="UWORD",vP="ASCIINUMERICAL",bP="ALPHANUMERICAL",Ep="LOCALHOST",gC="TLD",yC="UTLD",xy="SCHEME",Ed="SLASH_SCHEME",tS="NUM",vC="WS",nS="NL",ep="OPENBRACE",tp="CLOSEBRACE",wv="OPENBRACKET",xv="CLOSEBRACKET",Cv="OPENPAREN",Dv="CLOSEPAREN",Sv="OPENANGLEBRACKET",Ev="CLOSEANGLEBRACKET",Mv="FULLWIDTHLEFTPAREN",Tv="FULLWIDTHRIGHTPAREN",kv="LEFTCORNERBRACKET",Rv="RIGHTCORNERBRACKET",Av="LEFTWHITECORNERBRACKET",Ov="RIGHTWHITECORNERBRACKET",Lv="FULLWIDTHLESSTHAN",Nv="FULLWIDTHGREATERTHAN",Pv="AMPERSAND",rS="APOSTROPHE",Iv="ASTERISK",cc="AT",Fv="BACKSLASH",jv="BACKTICK",Uv="CARET",fc="COLON",aS="COMMA",Bv="DOLLAR",go="DOT",$v="EQUALS",iS="EXCLAMATION",_s="HYPHEN",np="PERCENT",zv="PIPE",Hv="PLUS",Vv="POUND",rp="QUERY",sS="QUOTE",_P="FULLWIDTHMIDDLEDOT",oS="SEMI",yo="SLASH",ap="TILDE",qv="UNDERSCORE",wP="EMOJI",Yv="SYM",xP=Object.freeze({__proto__:null,WORD:cl,UWORD:mC,ASCIINUMERICAL:vP,ALPHANUMERICAL:bP,LOCALHOST:Ep,TLD:gC,UTLD:yC,SCHEME:xy,SLASH_SCHEME:Ed,NUM:tS,WS:vC,NL:nS,OPENBRACE:ep,CLOSEBRACE:tp,OPENBRACKET:wv,CLOSEBRACKET:xv,OPENPAREN:Cv,CLOSEPAREN:Dv,OPENANGLEBRACKET:Sv,CLOSEANGLEBRACKET:Ev,FULLWIDTHLEFTPAREN:Mv,FULLWIDTHRIGHTPAREN:Tv,LEFTCORNERBRACKET:kv,RIGHTCORNERBRACKET:Rv,LEFTWHITECORNERBRACKET:Av,RIGHTWHITECORNERBRACKET:Ov,FULLWIDTHLESSTHAN:Lv,FULLWIDTHGREATERTHAN:Nv,AMPERSAND:Pv,APOSTROPHE:rS,ASTERISK:Iv,AT:cc,BACKSLASH:Fv,BACKTICK:jv,CARET:Uv,COLON:fc,COMMA:aS,DOLLAR:Bv,DOT:go,EQUALS:$v,EXCLAMATION:iS,HYPHEN:_s,PERCENT:np,PIPE:zv,PLUS:Hv,POUND:Vv,QUERY:rp,QUOTE:sS,FULLWIDTHMIDDLEDOT:_P,SEMI:oS,SLASH:yo,TILDE:ap,UNDERSCORE:qv,EMOJI:wP,SYM:Yv}),al=/[a-z]/,Th=new RegExp("\\p{L}","u"),fw=new RegExp("\\p{Emoji}","u"),il=/\d/,hw=/\s/,Tk="\r",pw=`
`,nG="️",rG="‍",mw="￼",Fg=null,jg=null;function aG(e=[]){const t={};es.groups=t;const n=new es;Fg==null&&(Fg=kk(QW)),jg==null&&(jg=kk(ZW)),Ye(n,"'",rS),Ye(n,"{",ep),Ye(n,"}",tp),Ye(n,"[",wv),Ye(n,"]",xv),Ye(n,"(",Cv),Ye(n,")",Dv),Ye(n,"<",Sv),Ye(n,">",Ev),Ye(n,"（",Mv),Ye(n,"）",Tv),Ye(n,"「",kv),Ye(n,"」",Rv),Ye(n,"『",Av),Ye(n,"』",Ov),Ye(n,"＜",Lv),Ye(n,"＞",Nv),Ye(n,"&",Pv),Ye(n,"*",Iv),Ye(n,"@",cc),Ye(n,"`",jv),Ye(n,"^",Uv),Ye(n,":",fc),Ye(n,",",aS),Ye(n,"$",Bv),Ye(n,".",go),Ye(n,"=",$v),Ye(n,"!",iS),Ye(n,"-",_s),Ye(n,"%",np),Ye(n,"|",zv),Ye(n,"+",Hv),Ye(n,"#",Vv),Ye(n,"?",rp),Ye(n,'"',sS),Ye(n,"/",yo),Ye(n,";",oS),Ye(n,"~",ap),Ye(n,"_",qv),Ye(n,"\\",Fv),Ye(n,"・",_P);const r=na(n,il,tS,{[dC]:!0});na(r,il,r);const a=na(r,al,vP,{[Jh]:!0}),i=na(r,Th,bP,{[Vh]:!0}),s=na(n,al,cl,{[fC]:!0});na(s,il,a),na(s,al,s),na(a,il,a),na(a,al,a);const o=na(n,Th,mC,{[hC]:!0});na(o,al),na(o,il,i),na(o,Th,o),na(i,il,i),na(i,al),na(i,Th,i);const c=Ye(n,pw,nS,{[dw]:!0}),d=Ye(n,Tk,vC,{[dw]:!0}),f=na(n,hw,vC,{[dw]:!0});Ye(n,mw,f),Ye(d,pw,c),Ye(d,mw,f),na(d,hw,f),Ye(f,Tk),Ye(f,pw),na(f,hw,f),Ye(f,mw,f);const h=na(n,fw,wP,{[yP]:!0});Ye(h,"#"),na(h,fw,h),Ye(h,nG,h);const m=Ye(h,rG);Ye(m,"#"),na(m,fw,h);const g=[[al,s],[il,a]],b=[[al,null],[Th,o],[il,i]];for(let _=0;_<Fg.length;_++)ac(n,Fg[_],gC,cl,g);for(let _=0;_<jg.length;_++)ac(n,jg[_],yC,mC,b);iu(gC,{tld:!0,ascii:!0},t),iu(yC,{utld:!0,alpha:!0},t),ac(n,"file",xy,cl,g),ac(n,"mailto",xy,cl,g),ac(n,"http",Ed,cl,g),ac(n,"https",Ed,cl,g),ac(n,"ftp",Ed,cl,g),ac(n,"ftps",Ed,cl,g),iu(xy,{scheme:!0,ascii:!0},t),iu(Ed,{slashscheme:!0,ascii:!0},t),e=e.sort((_,w)=>_[0]>w[0]?1:-1);for(let _=0;_<e.length;_++){const w=e[_][0],k=e[_][1]?{[XW]:!0}:{[JW]:!0};w.indexOf("-")>=0?k[pC]=!0:al.test(w)?il.test(w)?k[Jh]=!0:k[fC]=!0:k[dC]=!0,Mk(n,w,w,k)}return Mk(n,"localhost",Ep,{ascii:!0}),n.jd=new es(Yv),{start:n,tokens:Jd({groups:t},xP)}}function CP(e,t){const n=iG(t.replace(/[A-Z]/g,o=>o.toLowerCase())),r=n.length,a=[];let i=0,s=0;for(;s<r;){let o=e,c=null,d=0,f=null,h=-1,m=-1;for(;s<r&&(c=o.go(n[s]));)o=c,o.accepts()?(h=0,m=0,f=o):h>=0&&(h+=n[s].length,m++),d+=n[s].length,i+=n[s].length,s++;i-=h,s-=m,d-=h,a.push({t:f.t,v:t.slice(i-d,i),s:i-d,e:i})}return a}function iG(e){const t=[],n=e.length;let r=0;for(;r<n;){let a=e.charCodeAt(r),i,s=a<55296||a>56319||r+1===n||(i=e.charCodeAt(r+1))<56320||i>57343?e[r]:e.slice(r,r+2);t.push(s),r+=s.length}return t}function ac(e,t,n,r,a){let i;const s=t.length;for(let o=0;o<s-1;o++){const c=t[o];e.j[c]?i=e.j[c]:(i=new es(r),i.jr=a.slice(),e.j[c]=i),e=i}return i=new es(n),i.jr=a.slice(),e.j[t[s-1]]=i,i}function kk(e){const t=[],n=[];let r=0,a="0123456789";for(;r<e.length;){let i=0;for(;a.indexOf(e[r+i])>=0;)i++;if(i>0){t.push(n.join(""));for(let s=parseInt(e.substring(r,r+i),10);s>0;s--)n.pop();r+=i}else n.push(e[r]),r++}return t}var Mp={defaultProtocol:"http",events:null,format:Rk,formatHref:Rk,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function lS(e,t=null){let n=Jd({},Mp);e&&(n=Jd(n,e instanceof lS?e.o:e));const r=n.ignoreTags,a=[];for(let i=0;i<r.length;i++)a.push(r[i].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=a}lS.prototype={o:Mp,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let a=this.o[e];return a&&(typeof a=="object"?(a=n.t in a?a[n.t]:Mp[e],typeof a=="function"&&r&&(a=a(t,n))):typeof a=="function"&&r&&(a=a(t,n.t,n)),a)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function Rk(e){return e}function DP(e,t){this.t="token",this.v=e,this.tk=t}DP.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Mp.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),a=e.get("tagName",n,t),i=this.toFormattedString(e),s={},o=e.get("className",n,t),c=e.get("target",n,t),d=e.get("rel",n,t),f=e.getObj("attributes",n,t),h=e.getObj("events",n,t);return s.href=r,o&&(s.class=o),c&&(s.target=c),d&&(s.rel=d),f&&Jd(s,f),{tagName:a,attributes:s,content:i,eventListeners:h}}};function f1(e,t){class n extends DP{constructor(a,i){super(a,i),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}var Ak=f1("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Ok=f1("text"),sG=f1("nl"),Ug=f1("url",{isLink:!0,toHref(e=Mp.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Ep&&e[1].t===fc}}),ys=e=>new es(e);function oG({groups:e}){const t=e.domain.concat([Pv,Iv,cc,Fv,jv,Uv,Bv,$v,_s,tS,np,zv,Hv,Vv,yo,Yv,ap,qv]),n=[fc,aS,go,iS,np,rp,sS,oS,Sv,Ev,ep,tp,xv,wv,Cv,Dv,Mv,Tv,kv,Rv,Av,Ov,Lv,Nv],r=[Pv,rS,Iv,Fv,jv,Uv,Bv,$v,_s,ep,tp,np,zv,Hv,Vv,rp,yo,Yv,ap,qv],a=ys(),i=Ye(a,ap);gn(i,r,i),gn(i,e.domain,i);const s=ys(),o=ys(),c=ys();gn(a,e.domain,s),gn(a,e.scheme,o),gn(a,e.slashscheme,c),gn(s,r,i),gn(s,e.domain,s);const d=Ye(s,cc);Ye(i,cc,d),Ye(o,cc,d),Ye(c,cc,d);const f=Ye(i,go);gn(f,r,i),gn(f,e.domain,i);const h=ys();gn(d,e.domain,h),gn(h,e.domain,h);const m=Ye(h,go);gn(m,e.domain,h);const g=ys(Ak);gn(m,e.tld,g),gn(m,e.utld,g),Ye(d,Ep,g);const b=Ye(h,_s);Ye(b,_s,b),gn(b,e.domain,h),gn(g,e.domain,h),Ye(g,go,m),Ye(g,_s,b);const _=Ye(g,fc);gn(_,e.numeric,Ak);const w=Ye(s,_s),x=Ye(s,go);Ye(w,_s,w),gn(w,e.domain,s),gn(x,r,i),gn(x,e.domain,s);const k=ys(Ug);gn(x,e.tld,k),gn(x,e.utld,k),gn(k,e.domain,s),gn(k,r,i),Ye(k,go,x),Ye(k,_s,w),Ye(k,cc,d);const R=Ye(k,fc),I=ys(Ug);gn(R,e.numeric,I);const O=ys(Ug),A=ys();gn(O,t,O),gn(O,n,A),gn(A,t,O),gn(A,n,A),Ye(k,yo,O),Ye(I,yo,O);const L=Ye(o,fc),C=Ye(c,fc),T=Ye(C,yo),S=Ye(T,yo);gn(o,e.domain,s),Ye(o,go,x),Ye(o,_s,w),gn(c,e.domain,s),Ye(c,go,x),Ye(c,_s,w),gn(L,e.domain,O),Ye(L,yo,O),Ye(L,rp,O),gn(S,e.domain,O),gn(S,t,O),Ye(S,yo,O);const j=[[ep,tp],[wv,xv],[Cv,Dv],[Sv,Ev],[Mv,Tv],[kv,Rv],[Av,Ov],[Lv,Nv]];for(let B=0;B<j.length;B++){const[H,U]=j[B],z=Ye(O,H);Ye(A,H,z),Ye(z,U,O);const F=ys(Ug);gn(z,t,F);const V=ys();gn(z,n),gn(F,t,F),gn(F,n,V),gn(V,t,F),gn(V,n,V),Ye(F,U,O),Ye(V,U,O)}return Ye(a,Ep,k),Ye(a,nS,sG),{start:a,tokens:xP}}function lG(e,t,n){let r=n.length,a=0,i=[],s=[];for(;a<r;){let o=e,c=null,d=null,f=0,h=null,m=-1;for(;a<r&&!(c=o.go(n[a].t));)s.push(n[a++]);for(;a<r&&(d=c||o.go(n[a].t));)c=null,o=d,o.accepts()?(m=0,h=o):m>=0&&m++,a++,f++;if(m<0)a-=f,a<r&&(s.push(n[a]),a++);else{s.length>0&&(i.push(gw(Ok,t,s)),s=[]),a-=m,f-=m;const g=h.t,b=n.slice(a-f,a);i.push(gw(g,t,b))}}return s.length>0&&i.push(gw(Ok,t,s)),i}function gw(e,t,n){const r=n[0].s,a=n[n.length-1].e,i=t.slice(r,a);return new e(i,n)}var ei={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function cG(){ei.scanner=aG(ei.customSchemes);for(let e=0;e<ei.tokenQueue.length;e++)ei.tokenQueue[e][1]({scanner:ei.scanner});ei.parser=oG(ei.scanner.tokens);for(let e=0;e<ei.pluginQueue.length;e++)ei.pluginQueue[e][1]({scanner:ei.scanner,parser:ei.parser});return ei.initialized=!0,ei}function SP(e){return ei.initialized||cG(),lG(ei.parser.start,e,CP(ei.scanner.start,e))}SP.scan=CP;function uG(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new lS(n),a=SP(e),i=[];for(let s=0;s<a.length;s++){const o=a[s];o.isLink&&(!t||o.t===t)&&r.check(o)&&i.push(o.toFormattedObject(r))}return i}var dG={debounceURLEnrichmentMs:1500,enabled:!1,findURLFn:e=>uG(e,"url",{defaultProtocol:"https"}).reduce((t,n)=>{try{const r=new URL(n.href);n.isLink&&/^[a-zA-Z0-9-.]+\.[a-zA-Z]{2,}$/.test(r.hostname)&&t.push(n.href)}catch{}return t},[])},fG={acceptedFiles:[],fileUploadFilter:()=>!0,maxNumberOfFilesPerMessage:dW},hG={enabled:!0,publishTypingEvents:!0},pG={attachments:fG,drafts:{enabled:!1},linkPreviews:dG,text:hG},Lk=e=>e?{message:{},custom:{}}:{message:{},custom:{}},mG=class{constructor({composer:e,message:t}){this.isMessageDataEqual=(n,r)=>JSON.stringify(n.message)===JSON.stringify(r==null?void 0:r.message),this.initState=({message:n}={})=>{this.state.next(Lk({composer:this.composer}))},this.composer=e,this.state=new ka(Lk({}))}get customMessageData(){return this.state.getLatestValue().message}get customComposerData(){return this.state.getLatestValue().custom}setMessageData(e){this.state.partialNext({message:{...this.state.getLatestValue().message,...e}})}setCustomData(e){this.state.partialNext({custom:{...this.state.getLatestValue().custom,...e}})}},gG=e=>new Map(e.map(t=>[t.og_scrape_url,t])),Nk=({message:e})=>{var t;return e?{previews:((t=e.attachments)==null?void 0:t.reduce((n,r)=>(r.og_scrape_url&&n.set(r.og_scrape_url,{...r,status:"loaded"}),n),new Map))??new Map}:{previews:new Map}},Lu=class Jc{constructor({composer:t,message:n}){this.shouldDiscardEnrichQueries=!1,this.initState=({message:r}={})=>{this.state.next(Nk({message:this.enabled?r:void 0}))},this._findAndEnrichUrls=async r=>{if(!this.enabled)return;const a=this.config.findURLFn(r);if(this.shouldDiscardEnrichQueries=!a.length,this.shouldDiscardEnrichQueries){this.state.next({previews:new Map});return}const i=new Map(Array.from(this.previews).filter(([o])=>a.includes(o)||a.includes(o+"/"))),s=a.filter(o=>{const c=this.previews;return!(c.get(o)||c.get(o+"/"))}).map(o=>({og_scrape_url:o.trim(),status:"loading"}));s.length&&(this.state.partialNext({previews:new Map([...i,...gG(s)])}),await Promise.all(s.map(async o=>{try{const{duration:c,...d}=await this.client.enrichURL(o.og_scrape_url);if(this.shouldDiscardEnrichQueries)return;this.previews.has(o.og_scrape_url)&&this.updatePreview(o.og_scrape_url,{status:"loaded",...d})}catch{this.previews.has(o.og_scrape_url)&&this.updatePreview(o.og_scrape_url,{status:"failed"})}return o})))},this.cancelURLEnrichment=()=>{this.findAndEnrichUrls.cancel(),this.findAndEnrichUrls.flush()},this.clearPreviews=()=>{const r=this.previews,a=new Map;r.forEach((i,s)=>{Jc.previewIsDismissed(i)&&a.set(s,i)}),this.state.partialNext({previews:a})},this.updatePreview=(r,a)=>{var c;if(!r)return;const i=this.previews.get(r),s=a.status??((c=this.previews.get(r))==null?void 0:c.status)??"pending";let o=a;if(i){const d=gP(i,a);if(!d.diff||Object.keys(d.diff).length===0)return;o=d.result}this.state.partialNext({previews:new Map(this.previews).set(r,{...o,og_scrape_url:r,status:s})})},this.dismissPreview=r=>{var i;const a=this.previews.get(r);a&&((i=this.onLinkPreviewDismissed)==null||i.call(this,a),this.updatePreview(r,{status:"dismissed"}))},this.composer=t,this.state=new ka(Nk({message:this.enabled?n:void 0})),this.findAndEnrichUrls=lC(this._findAndEnrichUrls.bind(this),this.config.debounceURLEnrichmentMs)}get client(){return this.composer.client}get channel(){return this.composer.channel}get previews(){return this.state.getLatestValue().previews}get loadingPreviews(){return Array.from(this.previews.values()).filter(t=>Jc.previewIsLoading(t))}get loadedPreviews(){return Array.from(this.previews.values()).filter(t=>Jc.previewIsLoaded(t))}get dismissedPreviews(){return Array.from(this.previews.values()).filter(t=>Jc.previewIsDismissed(t))}get failedPreviews(){return Array.from(this.previews.values()).filter(t=>Jc.previewIsFailed(t))}get pendingPreviews(){return Array.from(this.previews.values()).filter(t=>Jc.previewIsPending(t))}get config(){return this.composer.config.linkPreviews}get debounceURLEnrichmentMs(){return this.config.debounceURLEnrichmentMs}set debounceURLEnrichmentMs(t){this.cancelURLEnrichment(),this.findAndEnrichUrls=lC(this._findAndEnrichUrls.bind(this),this.config.debounceURLEnrichmentMs),this.composer.updateConfig({linkPreviews:{debounceURLEnrichmentMs:t}})}get enabled(){var t;return!!((t=this.channel.getConfig())!=null&&t.url_enrichment)&&this.composer.config.linkPreviews.enabled}set enabled(t){t!==this.enabled&&this.composer.updateConfig({linkPreviews:{enabled:t}})}get findURLFn(){return this.config.findURLFn}set findURLFn(t){this.composer.updateConfig({linkPreviews:{findURLFn:t}})}get onLinkPreviewDismissed(){return this.config.onLinkPreviewDismissed}set onLinkPreviewDismissed(t){this.composer.updateConfig({linkPreviews:{onLinkPreviewDismissed:t}})}};Lu.previewIsLoading=e=>e.status==="loading";Lu.previewIsLoaded=e=>e.status==="loaded";Lu.previewIsDismissed=e=>e.status==="dismissed";Lu.previewIsFailed=e=>e.status==="failed";Lu.previewIsPending=e=>e.status==="pending";Lu.getPreviewData=e=>{const{status:t,...n}=e;return n};var _c=Lu,yG=vG(bG),bC=new Map;function vG(e){return function(n,r){const{cb:a,onContinued:i}=e(n,r),s=bC.get(n);s==null||s.onContinued();const o=s?s.promise.then(a,a):a();return bC.set(n,{promise:o,onContinued:i}),o}}function bG(e,t){const n=new AbortController;return{cb:()=>n.signal.aborted?Promise.resolve("canceled"):t(n.signal).finally(()=>{n.signal.aborted||bC.delete(e)}),onContinued:()=>n.abort()}}var nm=class{constructor(){this.middleware=[],this.id=Xs()}use(e){return this.middleware=this.middleware.concat(e),this}replace(e){const t=[...this.middleware];return e.forEach(n=>{const r=this.middleware.findIndex(a=>a.id===n.id);r>=0?t.splice(r,1,n):t.push(n)}),this.middleware=t,this}insert({middleware:e,position:t,unique:n}){n&&e.forEach(s=>{const o=this.middleware.findIndex(c=>c.id===s.id);o>=0&&this.middleware.splice(o,1)});const r=t.after||t.before,a=this.middleware.findIndex(s=>s.id===r),i=t.after?a+1:a;return this.middleware.splice(i,0,...e),this}setOrder(e){this.middleware=e.map(t=>this.middleware.find(n=>n.id===t)).filter(Boolean)}async executeMiddlewareChain({eventName:e,initialValue:t}){let n=-1;const r=async(i,s,o)=>{if(i<=n)throw new Error("next() called multiple times");if(n=i,i===this.middleware.length||o&&["complete","discard"].includes(o))return{state:s,status:o};const f=this.middleware[i].handlers[e];return f?await f({state:s,next:_=>r(i+1,_),complete:_=>r(i+1,_,"complete"),discard:()=>r(i+1,s,"discard"),forward:()=>r(i+1,s)}):r(i+1,s,o)},a=await yG(`middleware-execution-${this.id}-${e}`,async i=>{const s=await r(0,t);return i.aborted?"canceled":s});return a==="canceled"?{state:t,status:"discard"}:a}async execute({eventName:e,initialValue:t}){return await this.executeMiddlewareChain({eventName:e,initialValue:t})}},cS=/^([2-9]|10)$/,_G=100,Pk={enforce_unique_vote:()=>({max_votes_allowed:void 0}),max_votes_allowed:({data:e,value:t})=>e.enforce_unique_vote&&t?{max_votes_allowed:"Enforce unique vote is enabled"}:!t.match(/^[0-9]+$/)&&t?{max_votes_allowed:"Only numbers are allowed"}:(t==null?void 0:t.length)>1&&!t.match(cS)?{max_votes_allowed:"Type a number from 2 to 10"}:{max_votes_allowed:void 0},options:({value:e})=>{const t={},n=new Set;return e.forEach(r=>{const a=r.text.trim();n.has(a)?t[r.id]="Option already exists":n.add(a)}),Object.keys(t).length>0?{options:t}:{options:void 0}}},wG={name:({currentError:e,value:t})=>t&&e?{name:void 0}:{name:typeof e=="string"?e:void 0}},xG={max_votes_allowed:({value:e})=>e&&!e.match(cS)?{max_votes_allowed:"Type a number from 2 to 10"}:{max_votes_allowed:void 0},name:({value:e})=>e?{name:void 0}:{name:"Name is required"}},CG=e=>!Array.isArray(e)&&typeof(e==null?void 0:e.index)=="number"&&typeof(e==null?void 0:e.text)=="string",DG={enforce_unique_vote:({value:e})=>({enforce_unique_vote:e,max_votes_allowed:""}),options:({value:e,data:t})=>{if(Array.isArray(e))return{options:e.map(f=>({id:f.id,text:f.text.trim()}))};const{index:n,text:r}=e,a=t.options||[],i=a.length<_G&&(!a||a.slice(n+1).length===0&&!!r),s=a&&a.slice(n+1).length>0&&!r,o=a.slice(0,n),c=i?[{id:Xs(),text:""}]:a.slice(n+1);return{options:[...o,...s?[]:[{...a[n],text:r}],...c]}}},SG=({processors:e,validators:t}={})=>{const n=(r,a,i)=>{const{previousState:s,targetFields:o}=r;let c;if(!i&&CG(o.options)){const f=[...s.data.options],h=s.data.options[o.options.index];h&&(h.text=o.options.text,f.splice(o.options.index,1,h)),c={...o,options:f}}else i?c=Object.entries(o).reduce((f,[h,m])=>{const g=i[h];return f={...f,...g?g({data:s.data,value:m}):{[h]:m}},f},{}):c=o;const d=Object.keys(o).reduce((f,h)=>{const m=a[h];if(m){const g=m({data:s.data,value:c[h],currentError:s.errors[h]});f={...f,...g}}return f},{});return{newData:c,newErrors:d}};return{id:"stream-io/poll-composer-state-processing",handlers:{handleFieldChange:({state:r,next:a,forward:i})=>{if(!r.targetFields)return i();const{previousState:s,injectedFieldErrors:o}=r,c={...Pk,...wG,...t==null?void 0:t.handleFieldChange},d={...DG,...e==null?void 0:e.handleFieldChange},{newData:f,newErrors:h}=n(r,c,d);return a({...r,nextState:{...s,data:{...s.data,...f},errors:{...s.errors,...h,...o}}})},handleFieldBlur:({state:r,next:a,forward:i})=>{if(!r.targetFields)return i();const{previousState:s}=r,o={...Pk,...xG,...t==null?void 0:t.handleFieldBlur},{newData:c,newErrors:d}=n(r,o,e==null?void 0:e.handleFieldBlur);return a({...r,nextState:{...s,data:{...s.data,...c},errors:{...s.errors,...d,...r.injectedFieldErrors}}})}}}},EG=e=>({id:"stream-io/poll-composer-composition",handlers:{compose:({discard:t,forward:n})=>e.pollComposer.canCreatePoll?n():t()}}),MG=class extends nm{constructor({composer:e}){super(),this.use([EG(e)])}},TG=class extends nm{constructor(){super(),this.use([SG()])}},kG=class extends Error{constructor(e,{code:t,status:n,response:r}){super(e),this.code=t,this.response=r,this.status=n}},_C=(e=>(e.anonymous="anonymous",e.public="public",e))(_C||{}),RG=class{constructor({composer:e}){this.initState=()=>{this.state.next(this.initialState)},this.updateFields=async(t,n)=>{const{state:r,status:a}=await this.stateMiddlewareExecutor.execute({eventName:"handleFieldChange",initialValue:{nextState:{...this.state.getLatestValue()},previousState:{...this.state.getLatestValue()},targetFields:t,injectedFieldErrors:n}});a!=="discard"&&this.state.next(r.nextState)},this.handleFieldBlur=async t=>{const n=await this.stateMiddlewareExecutor.execute({eventName:"handleFieldBlur",initialValue:{nextState:{...this.state.getLatestValue()},previousState:{...this.state.getLatestValue()},targetFields:{[t]:this.state.getLatestValue().data[t]}}});n.status!=="discard"&&this.state.next(n.state.nextState)},this.compose=async()=>{var a;const{data:t,errors:n}=this.state.getLatestValue(),r=await this.compositionMiddlewareExecutor.execute({eventName:"compose",initialValue:{data:{...t,max_votes_allowed:t.max_votes_allowed?parseInt(t.max_votes_allowed):void 0,options:(a=t.options)==null?void 0:a.filter(i=>i.text).map(i=>({text:i.text}))},errors:n}});if(r.status!=="discard")return r.state},this.composer=e,this.state=new ka(this.initialState),this.compositionMiddlewareExecutor=new MG({composer:e}),this.stateMiddlewareExecutor=new TG}get initialState(){var e;return{data:{allow_answers:!1,allow_user_suggested_options:!1,description:"",enforce_unique_vote:!0,id:Xs(),max_votes_allowed:"",name:"",options:[{id:Xs(),text:""}],user_id:(e=this.composer.client.user)==null?void 0:e.id,voting_visibility:"public"},errors:{}}}get allow_answers(){return this.state.getLatestValue().data.allow_answers}get allow_user_suggested_options(){return this.state.getLatestValue().data.allow_user_suggested_options}get description(){return this.state.getLatestValue().data.description}get enforce_unique_vote(){return this.state.getLatestValue().data.enforce_unique_vote}get id(){return this.state.getLatestValue().data.id}get max_votes_allowed(){return this.state.getLatestValue().data.max_votes_allowed}get name(){return this.state.getLatestValue().data.name}get options(){return this.state.getLatestValue().data.options}get user_id(){return this.state.getLatestValue().data.user_id}get voting_visibility(){return this.state.getLatestValue().data.voting_visibility}get canCreatePoll(){var s,o;const{data:e,errors:t}=this.state.getLatestValue(),n=e.options.filter(c=>!!c.text).length>0,r=!!e.name,a=parseInt(((o=(s=e.max_votes_allowed)==null?void 0:s.match(cS))==null?void 0:o[0])||""),i=e.max_votes_allowed===""||!!a&&(2<=a||a<=10);return n&&r&&i&&Object.values(t).filter(c=>!!c).length===0}},EP=e=>{const{localMetadata:t,...n}=e;return n},AG=e=>({id:"stream-io/message-composer-middleware/attachments",handlers:{compose:({state:t,next:n,discard:r,forward:a})=>{const{attachmentManager:i}=e;if(!i)return a();if(i.uploadsInProgressCount>0)return e.client.notifications.addWarning({message:"Wait until all attachments have uploaded",origin:{emitter:"MessageComposer",context:{composer:e}}}),r();const s=(t.message.attachments??[]).concat(i.successfulUploads.map(EP));return s.length?n({...t,localMessage:{...t.localMessage,attachments:s},message:{...t.message,attachments:s}}):a()}}}),OG=e=>({id:"stream-io/message-composer-middleware/draft-attachments",handlers:{compose:({state:t,next:n,forward:r})=>{const{attachmentManager:a}=e;if(!a)return r();const i=a.successfulUploads,s=i.length?(t.draft.attachments??[]).concat(i.map(EP)):void 0;return n({...t,draft:{...t.draft,attachments:s}})}}}),LG=e=>({id:"stream-io/message-composer-middleware/data-cleanup",handlers:{compose:({state:t,next:n})=>{var i,s,o;const r={type:((i=e.editedMessage)==null?void 0:i.type)??"regular"},a=e.editedMessage?aP(e.editedMessage):void 0;return n({...t,localMessage:Ji({...e.editedMessage,...t.localMessage,...r,user:e.client.user}),message:{...a,...t.message,...r},sendOptions:e.editedMessage&&((s=t.sendOptions)!=null&&s.skip_enrich_url)?{skip_enrich_url:(o=t.sendOptions)==null?void 0:o.skip_enrich_url}:t.sendOptions})}}}),NG=e=>({id:"stream-io/message-composer-middleware/custom-data",handlers:{compose:({state:t,next:n,forward:r})=>{const a=e.customDataManager.customMessageData;return a?n({...t,localMessage:{...t.localMessage,...a},message:{...t.message,...a}}):r()}}}),PG=e=>({id:"stream-io/message-composer-middleware/draft-custom-data",handlers:{compose:({state:t,next:n,forward:r})=>{const a=e.customDataManager.customMessageData;return a?n({...t,draft:{...t.draft,...a}}):r()}}}),IG=e=>({id:"stream-io/message-composer-middleware/data-validation",handlers:{compose:async({state:t,discard:n,forward:r})=>{var c;const{maxLengthOnSend:a}=e.config.text??{},i=t.message.text??"",s=uS(i)&&!((c=t.message.attachments)!=null&&c.length)&&!t.message.poll_id,o=typeof a=="number"&&i.length>a;return s||!e.lastChangeOriginIsLocal||o?await n():await r()}}}),FG=e=>({id:"stream-io/message-composer-middleware/draft-data-validation",handlers:{compose:async({state:t,discard:n,forward:r})=>{var s;const a=!uS(t.draft.text??"")||((s=t.draft.attachments)==null?void 0:s.length)||t.draft.poll_id||t.draft.quoted_message_id;return e.lastChangeOriginIsLocal&&a?await r():await n()}}}),jG=e=>({id:"stream-io/message-composer-middleware/link-previews",handlers:{compose:({state:t,next:n,forward:r})=>{const{linkPreviewsManager:a}=e;if(!a)return r();a.cancelURLEnrichment();const i=a.loadingPreviews.length>0,s=a.dismissedPreviews.length>0,o=a.loadingPreviews.length>0?[]:a.loadedPreviews.map(h=>_c.getPreviewData(h)),c=(t.message.attachments??[]).concat(o);if(!c.length)return r();const d={...t.sendOptions};return(!i&&o.length>0||s)&&(d.skip_enrich_url=!0),n({...t,message:{...t.message,attachments:c},localMessage:{...t.localMessage,attachments:c},sendOptions:d})}}}),UG=e=>({id:"stream-io/message-composer-middleware/draft-link-previews",handlers:{compose:({state:t,next:n,forward:r})=>{const{linkPreviewsManager:a}=e;if(!a)return r();a.cancelURLEnrichment();const i=a.loadedPreviews.map(s=>_c.getPreviewData(s));return i.length?n({...t,draft:{...t.draft,attachments:(t.draft.attachments??[]).concat(i)}}):r()}}}),BG=e=>({id:"stream-io/message-composer-middleware/text-composition",handlers:{compose:({state:t,next:n,forward:r})=>{if(!e.textComposer)return r();const{mentionedUsers:a,text:i}=e.textComposer,s=Array.from(new Set(a.filter(({id:o,name:c})=>i.includes(`@${o}`)||i.includes(`@${c}`))));return!i&&s.length===0?r():n({...t,localMessage:{...t.localMessage,mentioned_users:s,text:i},message:{...t.message,mentioned_users:s.map(o=>o.id),text:i}})}}}),$G=e=>({id:"stream-io/message-composer-middleware/draft-text-composition",handlers:{compose:({state:t,next:n,forward:r})=>{if(!e.textComposer)return r();const{maxLengthOnSend:a}=e.config.text??{},{mentionedUsers:i,text:s}=e.textComposer,o=i.length?Array.from(new Set(i.filter(({id:d,name:f})=>s.includes(`@${d}`)||s.includes(`@${f}`)))):void 0,c=typeof a=="number"&&s.length>a?s.slice(0,a):s;return n({...t,draft:{...t.draft,mentioned_users:o==null?void 0:o.map(d=>d.id),text:c}})}}}),zG=e=>({id:"stream-io/message-composer-middleware/own-state",handlers:{compose:({state:t,next:n})=>{const r={};return e.quotedMessage&&(r.quoted_message_id=e.quotedMessage.id),e.pollId&&(r.poll_id=e.pollId),n({...t,localMessage:{...t.localMessage,...r,quoted_message:e.quotedMessage??void 0},message:{...t.message,...r}})}}}),HG=e=>({id:"stream-io/message-composer-middleware/draft-own-state",handlers:{compose:({state:t,next:n})=>{const r={};return e.quotedMessage&&(r.quoted_message_id=e.quotedMessage.id),e.pollId&&(r.poll_id=e.pollId),n({...t,draft:{...t.draft,...r}})}}}),VG={attachments:[],mentioned_users:[],parent_id:void 0,quoted_message:void 0,text:""},qG=e=>({id:"stream-io/message-composer-middleware/poll-only",handlers:{compose:({state:t,complete:n,forward:r})=>{const a=e.pollId,i=!!e.editedMessage,s=!!e.threadId;return!a||s||i?r():n({...t,localMessage:{...t.localMessage,...VG,poll_id:a},message:{id:t.localMessage.id,poll_id:a}})}}}),YG=class extends nm{constructor({composer:e}){super(),this.use([qG(e),BG(e),AG(e),jG(e),zG(e),NG(e),IG(e),LG(e)])}},WG=class extends nm{constructor({composer:e}){super(),this.use([$G(e),OG(e),UG(e),HG(e),PG(e),FG(e)])}},GG={debounceMs:300,pageSize:10},rm=class{constructor(e){this.setDebounceOptions=({debounceMs:r})=>{this.searchDebounced=lC(this.executeQuery.bind(this),r)},this.activate=()=>{this.isActive||this.state.partialNext({isActive:!0})},this.deactivate=()=>{this.isActive&&this.state.partialNext({isActive:!1})},this.canExecuteQuery=r=>{const a=typeof r<"u",i=r??this.searchQuery;return!!(this.isActive&&!this.isLoading&&(this.hasNext||a)&&i)},this.search=r=>this.searchDebounced(r);const{debounceMs:t,pageSize:n}={...GG,...e};this.pageSize=n,this.state=new ka(this.initialState),this.setDebounceOptions({debounceMs:t})}get lastQueryError(){return this.state.getLatestValue().lastQueryError}get hasNext(){return this.state.getLatestValue().hasNext}get hasResults(){return Array.isArray(this.state.getLatestValue().items)}get isActive(){return this.state.getLatestValue().isActive}get isLoading(){return this.state.getLatestValue().isLoading}get initialState(){return{hasNext:!0,isActive:!1,isLoading:!1,items:void 0,lastQueryError:void 0,next:void 0,offset:0,searchQuery:""}}get items(){return this.state.getLatestValue().items}get next(){return this.state.getLatestValue().next}get offset(){return this.state.getLatestValue().offset}get searchQuery(){return this.state.getLatestValue().searchQuery}getStateBeforeFirstQuery(e){return{...this.initialState,isActive:this.isActive,isLoading:!0,searchQuery:e}}getStateAfterQuery(e,t){return{...this.state.getLatestValue(),lastQueryError:void 0,...e,isLoading:!1,items:t?e.items:[...this.items??[],...e.items||[]]}}async executeQuery(e){if(!this.canExecuteQuery(e))return;const t=typeof e<"u",n=e??this.searchQuery;t?this.state.next(this.getStateBeforeFirstQuery(e??"")):this.state.partialNext({isLoading:!0});const r={};try{const a=await this.query(n);if(!a)return;const{items:i,next:s}=a;s||s===null?(r.next=s,r.hasNext=!!s):(r.offset=(this.offset??0)+i.length,r.hasNext=i.length===this.pageSize),r.items=await this.filterQueryResults(i)}catch(a){r.lastQueryError=a}finally{this.state.next(this.getStateAfterQuery(r,t))}}cancelScheduledQuery(){this.searchDebounced.cancel()}resetState(){this.state.next(this.initialState)}resetStateAndActivate(){this.resetState(),this.activate()}},KG=class extends rm{constructor(e,t){super(t),this.type="users",this.client=e}async query(e){const t={$or:[{id:{$autocomplete:e}},{name:{$autocomplete:e}}],...this.filters},n={id:1,...this.sort},r={...this.searchOptions,limit:this.pageSize,offset:this.offset},{users:a}=await this.client.queryUsers(t,n,r);return{items:a}}filterQueryResults(e){return e.filter(t=>{var n;return t.id!==((n=this.client.user)==null?void 0:n.id)})}},QG=class extends rm{constructor(e,t){super(t),this.type="channels",this.client=e}async query(e){const t={members:{$in:[this.client.userID]},name:{$autocomplete:e},...this.filters},n=this.sort??{},r={...this.searchOptions,limit:this.pageSize,offset:this.offset};return{items:await this.client.queryChannels(t,n,r)}}filterQueryResults(e){return e}},ZG=class extends rm{constructor(e,t){super(t),this.type="messages",this.client=e}async query(e){if(!this.client.userID)return{items:[]};const t={members:{$in:[this.client.userID]},...this.messageSearchChannelFilters},n={text:e,type:"regular",...this.messageSearchFilters},r={created_at:-1,...this.messageSearchSort},a={limit:this.pageSize,next:this.next,sort:r},{next:i,results:s}=await this.client.search(t,n,a),o=s.map(({message:f})=>f),c=Array.from(o.reduce((f,h)=>(h.cid&&!this.client.activeChannels[h.cid]&&f.add(h.cid),f),new Set));return c.length===0||await this.client.queryChannels({cid:{$in:c},...this.channelQueryFilters},{last_message_at:-1,...this.channelQuerySort},this.channelQueryOptions),{items:o,next:i}}filterQueryResults(e){return e}},XG=class{constructor({config:e,sources:t}={}){this.addSource=n=>{this.state.partialNext({sources:[...this.sources,n]})},this.getSource=n=>this.sources.find(r=>r.type===n),this.removeSource=n=>{const r=this.sources.filter(a=>a.type!==n);r.length!==this.sources.length&&this.state.partialNext({sources:r})},this.activateSource=n=>{const r=this.getSource(n);!r||r.isActive||(this.config.keepSingleActiveSource&&this.sources.forEach(a=>{a.type!==n&&a.deactivate()}),r.activate(),this.state.partialNext({sources:[...this.sources]}))},this.deactivateSource=n=>{const r=this.getSource(n);r!=null&&r.isActive&&this.activeSources.length!==1&&(r.deactivate(),this.state.partialNext({sources:[...this.sources]}))},this.activate=()=>{this.activeSources.length||(this.config.keepSingleActiveSource?this.sources.slice(0,1):this.sources).forEach(r=>r.activate()),!this.isActive&&this.state.partialNext({isActive:!0})},this.search=async n=>{const r=this.activeSources;this.state.partialNext({searchQuery:n}),await Promise.all(r.map(a=>a.search(n)))},this.cancelSearchQueries=()=>{this.activeSources.forEach(n=>n.cancelScheduledQuery())},this.clear=()=>{this.cancelSearchQueries(),this.sources.forEach(n=>n.state.next({...n.initialState,isActive:n.isActive})),this.state.next(n=>({...n,isActive:!0,queriesInProgress:[],searchQuery:""}))},this.exit=()=>{this.cancelSearchQueries(),this.sources.forEach(n=>n.state.next({...n.initialState,isActive:n.isActive})),this.state.next(n=>({...n,isActive:!1,queriesInProgress:[],searchQuery:""}))},this.state=new ka({isActive:!1,searchQuery:"",sources:t??[]}),this._internalState=new ka({}),this.config={keepSingleActiveSource:!0,...e}}get hasNext(){return this.sources.some(e=>e.hasNext)}get sources(){return this.state.getLatestValue().sources}get activeSources(){return this.state.getLatestValue().sources.filter(e=>e.isActive)}get isActive(){return this.state.getLatestValue().isActive}get searchQuery(){return this.state.getLatestValue().searchQuery}get searchSourceTypes(){return this.sources.map(e=>e.type)}},MP=({trigger:e,text:t,isCommand:n=!1,acceptTrailingSpaces:r=!0})=>{const a=`[^\\s${e}]*`,i=t.match(new RegExp(n?`^[${e}]${a}$`:r?`(?!^|\\W)?[${e}]${a}\\s?${a}$`:`(?!^|\\W)?[${e}]${a}$`,"g"));return i&&i[i.length-1].trim()},TP=({insertText:e,selection:t,text:n,trigger:r})=>{const a=n.slice(0,t.end),i=n.slice(t.end),s=a.lastIndexOf(r);return{text:a.slice(0,s)+e+i,selection:{start:s+e.length,end:s+e.length}}};function JG(e){return e.replace(/[-[\]{}()*+?.,/\\^$|#]/g,"\\$&")}var eK=({displayName:e,searchToken:t})=>({tokenizedDisplayName:{token:t,parts:t?e.split(new RegExp(`(${JG(t)})`,"gi")).filter(Boolean):[e]}}),tK=class extends rm{constructor(e,t){super(t),this.type="commands",this.canExecuteQuery=n=>{const r=typeof n<"u";return this.isActive&&!this.isLoading&&(this.hasNext||r)},this.channel=e}getStateBeforeFirstQuery(e){const t=super.getStateBeforeFirstQuery(e),{items:n}=this.state.getLatestValue();return{...t,items:n}}query(e){const t=this.channel.getConfig(),r=((t==null?void 0:t.commands)||[]).filter(a=>!!(a.name&&a.name.toLowerCase().indexOf(e.toLowerCase())!==-1));return r.sort((a,i)=>{var c,d;let s=(c=a.name)==null?void 0:c.toLowerCase(),o=(d=i.name)==null?void 0:d.toLowerCase();if((s==null?void 0:s.indexOf(e))===0&&(s=`0${s}`),(o==null?void 0:o.indexOf(e))===0&&(o=`0${o}`),s!=null&&o!=null){if(s<o)return-1;if(s>o)return 1}return 0}),Promise.resolve({items:r.map(a=>({...a,id:a.name})),next:null})}filterQueryResults(e){return e}},nK={minChars:1,trigger:"/"},rK=(e,t)=>{const n=_v(nK,{});let r=new tK(e);return r.activate(),{id:"stream-io/text-composer/commands-middleware",handlers:{onChange:({state:a,next:i,complete:s,forward:o})=>{var h;if(!a.selection)return o();const c=MP({trigger:n.trigger,text:a.text.slice(0,a.selection.end),acceptTrailingSpaces:!1,isCommand:!0});if(c&&c.length===n.minChars&&r.resetStateAndActivate(),!c||c.length<n.minChars){const m=((h=a.suggestions)==null?void 0:h.trigger)===n.trigger,g={...a};return m&&delete g.suggestions,i(g)}return s({...a,suggestions:{query:c.slice(1),searchSource:r,trigger:n.trigger}})},onSuggestionItemSelect:({state:a,complete:i,forward:s})=>{var c;const{selectedSuggestion:o}=a.change??{};return!o||((c=a.suggestions)==null?void 0:c.trigger)!==n.trigger?s():(r.resetStateAndActivate(),i({...a,...TP({insertText:`/${o.name} `,selection:a.selection,text:a.text,trigger:n.trigger}),suggestions:void 0}))}}}},Ik={a:"á|à|ã|â|À|Á|Ã|Â",c:"ç|Ç",e:"é|è|ê|É|È|Ê",i:"í|ì|î|Í|Ì|Î",n:"ñ|Ñ",o:"ó|ò|ô|ő|õ|Ó|Ò|Ô|Õ",u:"ú|ù|û|ü|Ú|Ù|Û|Ü"},yw=e=>e?Object.keys(Ik).reduce((t,n)=>t.replace(new RegExp(Ik[n],"g"),n),e):"",Fk=(e,t)=>{if(e.length===0)return t.length;if(t.length===0)return e.length;const n=[];let r;for(r=0;r<=t.length;r++)n[r]=[r];let a;for(a=0;a<=e.length;a++)n[0][a]=a;for(r=1;r<=t.length;r++)for(a=1;a<=e.length;a++)t.charAt(r-1)===e.charAt(a-1)?n[r][a]=n[r-1][a-1]:n[r][a]=Math.min(n[r-1][a-1]+1,Math.min(n[r][a-1]+1,n[r-1][a]+1));return n[t.length][e.length]},aK=class extends rm{constructor(e,t){const{mentionAllAppUsers:n,textComposerText:r,transliterate:a,...i}=t||{};super(i),this.type="mentions",this.canExecuteQuery=s=>{const o=typeof s<"u";return this.isActive&&!this.isLoading&&(o||this.hasNext)},this.transliterate=s=>s,this.getMembersAndWatchers=()=>{const s=Object.values(this.channel.state.members??{}).map(({user:f})=>f),o=Object.values(this.channel.state.watchers??{}),c=[...s,...o],d={};return c.forEach(f=>{f&&!d[f.id]&&(d[f.id]=f)}),Object.values(d)},this.searchMembersLocally=s=>{const{textComposerText:o}=this.config;return o?this.getMembersAndWatchers().filter(c=>{if(c.id===this.client.userID)return!1;if(!s)return!0;const d=this.transliterate(yw(c.id)).toLowerCase(),f=this.transliterate(yw(c.name)).toLowerCase(),h=this.transliterate(yw(s)).toLowerCase(),m=3,g=o.slice(-4).includes("@");if(f){const _=Fk(h,f);if(f.includes(h)||_<=m&&g)return!0}const b=Fk(h,d);return d.includes(h)||b<=m&&g}).sort((c,d)=>{if(!this.memberSort)return(c.name||"").localeCompare(d.name||"");for(const[f,h]of Object.entries(this.memberSort)){const m=c[f],g=d[f];if(m!==g)return h===1?String(m||"").localeCompare(String(g||"")):String(g||"").localeCompare(String(m||""))}return 0}):[]},this.prepareQueryUsersParams=s=>({filters:{$or:[{id:{$autocomplete:s}},{name:{$autocomplete:s}}],...this.userFilters},sort:this.userSort??[{name:1},{id:1}],options:{...this.searchOptions,limit:this.pageSize,offset:this.offset}}),this.prepareQueryMembersParams=s=>{let c=[{user_id:1}];return this.memberSort?Array.isArray(this.memberSort)?c=this.memberSort[0]:Object.keys(this.memberSort).length===1&&(c=this.memberSort):c=[{user_id:1}],{filters:this.memberFilters??{name:{$autocomplete:s}},sort:c,options:{...this.searchOptions,limit:this.pageSize,offset:this.offset}}},this.queryUsers=async s=>{const{filters:o,sort:c,options:d}=this.prepareQueryUsersParams(s),{users:f}=await this.client.queryUsers(o,c,d);return f},this.queryMembers=async s=>{const{filters:o,sort:c,options:d}=this.prepareQueryMembersParams(s);return(await this.channel.queryMembers(o,c,d)).members.map(h=>h.user)},this.filterMutes=s=>{const{textComposerText:o}=this.config;if(!o)return[];const{mutedUsers:c}=this.client;return o.includes("/unmute")&&!c.length?[]:c.length?o.includes("/unmute")?s.filter(d=>c.some(f=>f.target.id===d.id)):s.filter(d=>c.every(f=>f.target.id!==d.id)):s},this.client=e.getClient(),this.channel=e,this.config={mentionAllAppUsers:n,textComposerText:r},a&&(this.transliterate=a)}get allMembersLoadedWithInitialChannelQuery(){return Object.keys(this.channel.state.members||{}).length<fW}getStateBeforeFirstQuery(e){const t=super.getStateBeforeFirstQuery(e),{items:n}=this.state.getLatestValue();return{...t,items:n}}async query(e){let t;const n=this.allMembersLoadedWithInitialChannelQuery||!e;return this.config.mentionAllAppUsers?t=await this.queryUsers(e):n?t=this.searchMembersLocally(e):t=await this.queryMembers(e),{items:t.map(r=>({...r,...eK({displayName:r.name||r.id,searchToken:this.searchQuery})}))}}filterQueryResults(e){return this.filterMutes(e)}},iK={minChars:1,trigger:"@"},sK=e=>{const{tokenizedDisplayName:t,...n}=e;return n},oK=(e,t)=>{const n=_v(iK,{});let r;return r=new aK(e),r.activate(),{id:"stream-io/text-composer/mentions-middleware",handlers:{onChange:({state:a,next:i,complete:s,forward:o})=>{var h;if(!a.selection)return o();const c=MP({trigger:n.trigger,text:a.text.slice(0,a.selection.end)});if(c&&c.length===n.minChars&&r.resetStateAndActivate(),!c||c.length<n.minChars){const m=((h=a.suggestions)==null?void 0:h.trigger)===n.trigger,g={...a};return m&&delete g.suggestions,i(g)}return r.config.textComposerText=a.text,s({...a,suggestions:{query:c.slice(1),searchSource:r,trigger:n.trigger}})},onSuggestionItemSelect:({state:a,complete:i,forward:s})=>{var c;const{selectedSuggestion:o}=a.change??{};return!o||((c=a.suggestions)==null?void 0:c.trigger)!==n.trigger?s():(r.resetStateAndActivate(),i({...a,...TP({insertText:`@${o.name||o.id} `,selection:a.selection,text:a.text,trigger:n.trigger}),mentionedUsers:a.mentionedUsers.concat(sK(o)),suggestions:void 0}))}}}},lK=e=>({id:"stream-io/text-composer/pre-validation-middleware",handlers:{onChange:({state:t,next:n,forward:r})=>{const{maxLengthOnEdit:a}=e.config.text??{};return typeof a=="number"&&t.text.length>a?(t.text=t.text.slice(0,a),n({...t,text:t.text})):r()},onSuggestionItemSelect:({forward:t})=>t()}}),cK=class extends nm{constructor({composer:e}){super(),this.use([lK(e),oK(e.channel),rK(e.channel)])}async execute({eventName:e,initialValue:t}){var i;const n=await this.executeMiddlewareChain({eventName:e,initialValue:t}),{query:r,searchSource:a}=n.state.suggestions??{};return(i=a==null?void 0:a.search(r))==null||i.catch(console.error),n}},uS=e=>{const t=e.trim();return t===""||t===">"||t==="``````"||t==="``"||t==="**"||t==="____"||t==="__"||t==="****"},jk=({composer:e,message:t})=>{if(!t){const r=e.config.text.defaultValue??"";return{mentionedUsers:[],text:r,selection:{start:r.length,end:r.length}}}const n=t.text??"";return{mentionedUsers:(t.mentioned_users??[]).map(r=>typeof r=="string"?{id:r}:r),text:n,selection:{start:n.length,end:n.length}}},uK=class{constructor({composer:e,message:t}){this.initState=({message:n}={})=>{this.state.next(jk({composer:this.composer,message:n}))},this.upsertMentionedUser=n=>{const r=[...this.mentionedUsers],a=r.findIndex(i=>i.id===n.id);a>=0?(r.splice(a,1,n),this.state.partialNext({mentionedUsers:r})):(r.push(n),this.state.partialNext({mentionedUsers:r}))},this.getMentionedUser=n=>this.state.getLatestValue().mentionedUsers.find(r=>r.id===n),this.removeMentionedUser=n=>{const r=this.mentionedUsers.findIndex(i=>i.id===n);if(r===-1)return;const a=[...this.mentionedUsers];a.splice(r,1),this.state.partialNext({mentionedUsers:a})},this.setText=n=>{!this.enabled||n===this.text||this.state.partialNext({text:n})},this.setSelection=n=>{const r=n.start!==this.selection.start||n.end!==this.selection.end;!this.enabled||!r||this.state.partialNext({selection:n})},this.insertText=({text:n,selection:r})=>{if(!this.enabled)return;const a=r??this.selection,{maxLengthOnEdit:i}=this.composer.config.text??{},s=this.text,o=[s.slice(0,a.start),n,s.slice(a.end)].join(""),c=o.slice(0,typeof i=="number"?i:o.length),d=s.slice(0,a.start).length+n.length,f=d>=c.length?c.length:s.slice(0,d).length;this.state.partialNext({text:c,selection:{start:f,end:f}})},this.wrapSelection=({head:n="",selection:r,tail:a=""})=>{if(!this.enabled)return;const i=r??this.selection,s=this.text.slice(0,i.start),o=this.text.slice(i.start,i.end),c=this.text.slice(i.end),d={start:s.length+n.length,end:s.length+n.length+o.length};this.state.partialNext({text:[s,n,o,a,c].join(""),selection:d})},this.setSuggestions=n=>{this.state.partialNext({suggestions:n})},this.closeSuggestions=()=>{const{suggestions:n}=this.state.getLatestValue();n&&this.state.partialNext({suggestions:void 0})},this.handleChange=async({text:n,selection:r})=>{if(!this.enabled)return;const a=await this.middlewareExecutor.execute({eventName:"onChange",initialValue:{...this.state.getLatestValue(),text:n,selection:r}});a.status!=="discard"&&(this.state.next(a.state),this.config.publishTypingEvents&&n&&tP(this.channel.keystroke(this.composer.threadId??void 0),"start typing event"))},this.handleSelect=async n=>{if(!this.enabled)return;const r=await this.middlewareExecutor.execute({eventName:"onSuggestionItemSelect",initialValue:{...this.state.getLatestValue(),change:{selectedSuggestion:n}}});(r==null?void 0:r.status)!=="discard"&&this.state.next(r.state)},this.composer=e,this.state=new ka(jk({composer:e,message:t})),this.middlewareExecutor=new cK({composer:e})}get channel(){return this.composer.channel}get config(){return this.composer.config.text}get enabled(){return this.composer.config.text.enabled}set enabled(e){e!==this.enabled&&this.composer.updateConfig({text:{enabled:e}})}get defaultValue(){return this.composer.config.text.defaultValue}set defaultValue(e){e!==this.defaultValue&&this.composer.updateConfig({text:{defaultValue:e}})}get maxLengthOnEdit(){return this.composer.config.text.maxLengthOnEdit}set maxLengthOnEdit(e){e!==this.maxLengthOnEdit&&this.composer.updateConfig({text:{maxLengthOnEdit:e}})}get maxLengthOnSend(){return this.composer.config.text.maxLengthOnSend}set maxLengthOnSend(e){e!==this.maxLengthOnSend&&this.composer.updateConfig({text:{maxLengthOnSend:e}})}get publishTypingEvents(){return this.composer.config.text.publishTypingEvents}set publishTypingEvents(e){e!==this.publishTypingEvents&&this.composer.updateConfig({text:{publishTypingEvents:e}})}get mentionedUsers(){return this.state.getLatestValue().mentionedUsers}get selection(){return this.state.getLatestValue().selection}get suggestions(){return this.state.getLatestValue().suggestions}get text(){return this.state.getLatestValue().text}get textIsEmpty(){return uS(this.text)}setMentionedUsers(e){this.state.partialNext({mentionedUsers:e})}},vw=50,dK=[{created_at:-1}],fK=1e3,hK={active_participant_count:!0,channel:!0,channel_cid:!0,created_at:!0,created_by:!0,created_by_user_id:!0,deleted_at:!0,draft:!0,last_message_at:!0,latest_replies:!0,parent_message:!0,parent_message_id:!0,participant_count:!0,read:!0,reply_count:!0,thread_participants:!0,title:!0,updated_at:!0},Uk=e=>{const t={};for(const n in e){if(hK[n])continue;const r=n;t[r]=e[r]}return t},ip=class{constructor({client:t,threadData:n}){this.unsubscribeFunctions=new Set,this.failedRepliesMap=new Map,this.activate=()=>{this.state.partialNext({active:!0})},this.deactivate=()=>{this.state.partialNext({active:!1})},this.reload=async()=>{if(!this.state.getLatestValue().isLoading){this.state.partialNext({isLoading:!0});try{const i=await this.client.getThread(this.id,{watch:!0});this.hydrateState(i)}finally{this.state.partialNext({isLoading:!1})}}},this.hydrateState=i=>{if(i===this)return;if(i.id!==this.id)throw new Error("Cannot hydrate thread's state using thread with different threadId");const{createdAt:s,custom:o,title:c,deletedAt:d,parentMessage:f,participants:h,read:m,replyCount:g,replies:b,updatedAt:_}=i.state.getLatestValue(),w=Array.from(this.failedRepliesMap.values());this.state.partialNext({title:c,createdAt:s,custom:o,deletedAt:d,parentMessage:f,participants:h,read:m,replyCount:g,replies:w.length?b.concat(w):b,updatedAt:_,isStateStale:!1})},this.registerSubscriptions=()=>{this.unsubscribeFunctions.size||(this.unsubscribeFunctions.add(this.subscribeThreadUpdated()),this.unsubscribeFunctions.add(this.subscribeMarkActiveThreadRead()),this.unsubscribeFunctions.add(this.subscribeReloadActiveStaleThread()),this.unsubscribeFunctions.add(this.subscribeMarkThreadStale()),this.unsubscribeFunctions.add(this.subscribeNewReplies()),this.unsubscribeFunctions.add(this.subscribeRepliesRead()),this.unsubscribeFunctions.add(this.subscribeMessageDeleted()),this.unsubscribeFunctions.add(this.subscribeMessageUpdated()))},this.subscribeThreadUpdated=()=>this.client.on("thread.updated",i=>{if(!i.thread||i.thread.parent_message_id!==this.id)return;const s=i.thread;this.state.partialNext({title:s.title,updatedAt:new Date(s.updated_at),deletedAt:s.deleted_at?new Date(s.deleted_at):null,custom:Uk(s)})}).unsubscribe,this.subscribeMarkActiveThreadRead=()=>this.state.subscribeWithSelector(i=>({active:i.active,unreadMessageCount:Bk(this.client.userID)(i)}),({active:i,unreadMessageCount:s})=>{!i||!s||this.throttledMarkAsRead()}),this.subscribeReloadActiveStaleThread=()=>this.state.subscribeWithSelector(i=>({active:i.active,isStateStale:i.isStateStale}),({active:i,isStateStale:s})=>{i&&s&&this.reload()}),this.subscribeMarkThreadStale=()=>this.client.on("user.watching.stop",i=>{var o,c;const{channel:s}=this.state.getLatestValue();!this.client.userID||this.client.userID!==((o=i.user)==null?void 0:o.id)||((c=i.channel)==null?void 0:c.cid)!==s.cid||this.state.partialNext({isStateStale:!0})}).unsubscribe,this.subscribeNewReplies=()=>this.client.on("message.new",i=>{var f,h,m;if(!this.client.userID||((f=i.message)==null?void 0:f.parent_id)!==this.id)return;const s=((h=i.message.user)==null?void 0:h.id)===this.client.userID,{active:o,read:c}=this.state.getLatestValue();this.upsertReplyLocally({message:i.message,timestampChanged:s}),o&&this.throttledMarkAsRead();const d={};for(const g of Object.keys(c)){const b=c[g];if(b){let _=b;g===((m=i.user)==null?void 0:m.id)?_={..._,lastReadAt:i.created_at?new Date(i.created_at):new Date,user:i.user,unreadMessageCount:0}:o&&g===this.client.userID||(_={..._,unreadMessageCount:b.unreadMessageCount+1}),d[g]=_}}this.state.partialNext({read:d})}).unsubscribe,this.subscribeRepliesRead=()=>this.client.on("message.read",i=>{if(!i.user||!i.created_at||!i.thread||i.thread.parent_message_id!==this.id)return;const s=i.user.id,o=i.created_at,c=i.user;this.state.next(d=>({...d,read:{...d.read,[s]:{lastReadAt:new Date(o),user:c,lastReadMessageId:i.last_read_message_id,unreadMessageCount:0}}}))}).unsubscribe,this.subscribeMessageDeleted=()=>this.client.on("message.deleted",i=>{i.message&&(i.message.parent_id===this.id&&(i.hard_delete?this.deleteReplyLocally({message:i.message}):this.upsertReplyLocally({message:i.message})),i.message.id===this.id&&this.updateParentMessageLocally({message:i.message}))}).unsubscribe,this.subscribeMessageUpdated=()=>{const s=["message.updated","reaction.new","reaction.deleted","reaction.updated"].map(o=>this.client.on(o,c=>{c.message&&this.updateParentMessageOrReplyLocally(c.message)}).unsubscribe);return()=>s.forEach(o=>o())},this.unregisterSubscriptions=()=>{this.unsubscribeFunctions.forEach(i=>i()),this.unsubscribeFunctions.clear(),this.state.partialNext({isStateStale:!0})},this.deleteReplyLocally=({message:i})=>{var d;const{replies:s}=this.state.getLatestValue(),o=iP({needle:Ji(i),sortedArray:s,sortDirection:"ascending",selectValueToCompare:f=>f.created_at.getTime(),selectKey:f=>f.id});if(((d=s[o])==null?void 0:d.id)!==i.id)return;const c=[...s];c.splice(o,1),this.state.partialNext({replies:c})},this.upsertReplyLocally=({message:i,timestampChanged:s=!1})=>{if(i.parent_id!==this.id)throw new Error("Reply does not belong to this thread");const o=Ji(i);i.status==="failed"?this.failedRepliesMap.set(o.id,o):this.failedRepliesMap.has(i.id)&&this.failedRepliesMap.delete(i.id),this.state.next(c=>({...c,replies:sP(c.replies,o,s)}))},this.updateParentMessageLocally=({message:i})=>{if(i.id!==this.id)throw new Error("Message does not belong to this thread");this.state.next(s=>{const o=Ji(i);return{...s,deletedAt:o.deleted_at,parentMessage:o,replyCount:i.reply_count??s.replyCount}})},this.updateParentMessageOrReplyLocally=i=>{i.parent_id===this.id&&this.upsertReplyLocally({message:i}),!i.parent_id&&i.id===this.id&&this.updateParentMessageLocally({message:i})},this.markAsRead=async({force:i=!1}={})=>this.ownUnreadCount===0&&!i?null:await this.channel.markRead({thread_id:this.id}),this.throttledMarkAsRead=oP(()=>this.markAsRead(),fK,{trailing:!0}),this.queryReplies=({limit:i=vw,sort:s=dK,...o}={})=>this.channel.getReplies(this.id,{limit:i,...o},s),this.loadNextPage=({limit:i=vw}={})=>this.loadPage(i),this.loadPrevPage=({limit:i=vw}={})=>this.loadPage(-i),this.loadPage=async i=>{var m;const{pagination:s}=this.state.getLatestValue(),[o,c,d]=i>0?["isLoadingNext","nextCursor","push"]:["isLoadingPrev","prevCursor","unshift"];if(s[o]||s[c]===null)return;const f={[i>0?"id_gt":"id_lt"]:s[c]},h=Math.abs(i);this.state.partialNext({pagination:{...s,[o]:!0}});try{const g=await this.queryReplies({...f,limit:h}),b=g.messages.map(Ji),_=((m=b.at(i>0?-1:0))==null?void 0:m.id)??null;this.state.next(w=>{let x=w.replies;return b.length>0&&(x=[...w.replies],x[d](...b)),{...w,replies:x,pagination:{...w.pagination,[c]:g.messages.length<h?null:_,[o]:!1}}})}catch(g){this.client.logger("error",g.message),this.state.next(b=>({...b,pagination:{...b.pagination,[o]:!1}}))}};const r=t.channel(n.channel.type,n.channel.id,{name:n.channel.name});r._hydrateMembers({members:n.channel.members??[],overrideCurrentState:!1});const a=t.userID?[{user:{id:t.userID},unread_messages:0,last_read:new Date().toISOString()}]:[];this.state=new ka({active:!1,isLoading:!1,isStateStale:!1,channel:r,createdAt:new Date(n.created_at),deletedAt:n.deleted_at?new Date(n.deleted_at):null,pagination:mK(n),parentMessage:Ji(n.parent_message),participants:n.thread_participants,read:pK(!n.read||n.read.length===0?a:n.read),replies:n.latest_replies.map(Ji),replyCount:n.reply_count??0,updatedAt:n.updated_at?new Date(n.updated_at):null,title:n.title,custom:Uk(n)}),this.id=n.parent_message_id,this.client=t,this.messageComposer=new hl({client:t,composition:n.draft,compositionContext:this})}get channel(){return this.state.getLatestValue().channel}get hasStaleState(){return this.state.getLatestValue().isStateStale}get ownUnreadCount(){return Bk(this.client.userID)(this.state.getLatestValue())}},pK=e=>e.reduce((t,n)=>(t[n.user.id]={user:n.user,lastReadMessageId:n.last_read_message_id,unreadMessageCount:n.unread_messages??0,lastReadAt:new Date(n.last_read)},t),{}),mK=e=>{var n;return{nextCursor:null,prevCursor:e.latest_replies.length===e.reply_count?null:((n=e.latest_replies.at(0))==null?void 0:n.id)??null,isLoadingNext:!1,isLoadingPrev:!1}},Bk=e=>t=>{var n;return e&&((n=t.read[e])==null?void 0:n.unreadMessageCount)||0},sp=e=>!!(e!=null&&e.message),gK=e=>{let t=null,n=new Date().getTime();return sp(e)?n=t=new Date(e.created_at).getTime():e&&dP(e)&&(n=new Date(e.updated_at).getTime()),{lastChange:{draftUpdate:t,stateUpdate:n}}},$k=e=>{if(!e)return{id:hl.generateId(),quotedMessage:null,pollId:null,draftId:null};const t=e.quoted_message;let n,r=null,a=hl.generateId();return sp(e)?(n=e.message,r=e.message.id):(n=e,a=e.id),{draftId:r,id:a,quotedMessage:t?Ji(t):null,pollId:n.poll_id??null}},yK=()=>{},kP=class wC{constructor({composition:t,config:n,compositionContext:r,client:a}){if(this.unsubscribeFunctions=new Set,this.initState=({composition:s}={})=>{this.editingAuditState.partialNext(this.initEditingAuditState(s));const o=typeof s>"u"?s:sp(s)?s.message:Ji(s);this.attachmentManager.initState({message:o}),this.linkPreviewsManager.initState({message:o}),this.textComposer.initState({message:o}),this.pollComposer.initState(),this.customDataManager.initState({message:o}),this.state.next($k(s)),s&&!sp(s)&&o&&dP(o)&&(this.editedMessage=o)},this.initEditingAuditState=s=>gK(s),this.registerSubscriptions=()=>this.unsubscribeFunctions.size?yK:(this.unsubscribeFunctions.add(this.subscribeMessageComposerSetupStateChange()),this.unsubscribeFunctions.add(this.subscribeMessageUpdated()),this.unsubscribeFunctions.add(this.subscribeMessageDeleted()),this.unsubscribeFunctions.add(this.subscribeTextComposerStateChanged()),this.unsubscribeFunctions.add(this.subscribeAttachmentManagerStateChanged()),this.unsubscribeFunctions.add(this.subscribeLinkPreviewsManagerStateChanged()),this.unsubscribeFunctions.add(this.subscribePollComposerStateChanged()),this.unsubscribeFunctions.add(this.subscribeCustomDataManagerStateChanged()),this.unsubscribeFunctions.add(this.subscribeMessageComposerStateChanged()),this.unsubscribeFunctions.add(this.subscribeMessageComposerConfigStateChanged()),this.config.drafts.enabled&&(this.unsubscribeFunctions.add(this.subscribeDraftUpdated()),this.unsubscribeFunctions.add(this.subscribeDraftDeleted())),this.unregisterSubscriptions),this.unregisterSubscriptions=()=>{this.unsubscribeFunctions.forEach(s=>s()),this.unsubscribeFunctions.clear()},this.subscribeMessageUpdated=()=>{const o=["message.updated","reaction.new","reaction.deleted","reaction.updated"].map(c=>this.client.on(c,d=>{var f;d.message&&(d.message.id===this.id&&this.initState({composition:d.message}),(f=this.quotedMessage)!=null&&f.id&&d.message.id===this.quotedMessage.id&&this.setQuotedMessage(Ji(d.message)))}).unsubscribe);return()=>o.forEach(c=>c())},this.subscribeMessageComposerSetupStateChange=()=>{let s=null;const o=this.client._messageComposerSetupState.subscribeWithSelector(({setupFunction:c})=>({setup:c}),({setup:c})=>{s==null||s(),s=(c==null?void 0:c({composer:this}))??null});return()=>{s==null||s(),o()}},this.subscribeMessageDeleted=()=>this.client.on("message.deleted",s=>{s.message&&(s.message.id===this.id?this.clear():this.quotedMessage&&s.message.id===this.quotedMessage.id&&this.setQuotedMessage(null))}).unsubscribe,this.subscribeDraftUpdated=()=>this.client.on("draft.updated",s=>{const o=s.draft;!o||!!o.parent_id!=!!this.threadId||o.channel_cid!==this.channel.cid||this.initState({composition:o})}).unsubscribe,this.subscribeDraftDeleted=()=>this.client.on("draft.deleted",s=>{const o=s.draft;!o||!!o.parent_id!=!!this.threadId||o.channel_cid!==this.channel.cid||(this.logDraftUpdateTimestamp(),!this.compositionIsEmpty&&this.clear())}).unsubscribe,this.subscribeTextComposerStateChanged=()=>this.textComposer.state.subscribe((s,o)=>{if(o&&s.text!==(o==null?void 0:o.text)&&(this.logStateUpdateTimestamp(),this.compositionIsEmpty)){this.deleteDraft();return}!this.linkPreviewsManager.enabled||s.text===(o==null?void 0:o.text)||(s.text?this.linkPreviewsManager.findAndEnrichUrls(s.text):this.linkPreviewsManager.clearPreviews())}),this.subscribeAttachmentManagerStateChanged=()=>this.attachmentManager.state.subscribe((s,o)=>{if(!(typeof o>"u")&&(this.logStateUpdateTimestamp(),this.compositionIsEmpty)){this.deleteDraft();return}}),this.subscribeLinkPreviewsManagerStateChanged=()=>this.linkPreviewsManager.state.subscribe((s,o)=>{if(!(typeof o>"u")&&(this.logStateUpdateTimestamp(),this.compositionIsEmpty)){this.deleteDraft();return}}),this.subscribePollComposerStateChanged=()=>this.pollComposer.state.subscribe((s,o)=>{if(!(typeof o>"u")&&(this.logStateUpdateTimestamp(),this.compositionIsEmpty)){this.deleteDraft();return}}),this.subscribeCustomDataManagerStateChanged=()=>this.customDataManager.state.subscribe((s,o)=>{typeof o<"u"&&!this.customDataManager.isMessageDataEqual(s,o)&&this.logStateUpdateTimestamp()}),this.subscribeMessageComposerStateChanged=()=>this.state.subscribe((s,o)=>{if(!(typeof o>"u")&&(this.logStateUpdateTimestamp(),this.compositionIsEmpty)){this.deleteDraft();return}}),this.subscribeMessageComposerConfigStateChanged=()=>this.configState.subscribe(s=>{const{text:o}=s;this.textComposer.text===""&&o.defaultValue&&this.textComposer.insertText({text:o.defaultValue,selection:{start:0,end:0}})}),this.setQuotedMessage=s=>{this.state.partialNext({quotedMessage:s})},this.clear=()=>{this.initState()},this.restore=()=>{const{editedMessage:s}=this;if(s){this.initState({composition:s});return}this.clear()},this.compose=async()=>{var d;const s=((d=this.editedMessage)==null?void 0:d.created_at)??new Date,c=await this.compositionMiddlewareExecutor.execute({eventName:"compose",initialValue:{message:{id:this.id,parent_id:this.threadId??void 0,type:"regular"},localMessage:{attachments:[],created_at:s,deleted_at:null,error:void 0,id:this.id,mentioned_users:[],parent_id:this.threadId??void 0,pinned_at:null,reaction_groups:null,status:this.editedMessage?this.editedMessage.status:"sending",text:"",type:"regular",updated_at:s},sendOptions:{}}});if(c.status!=="discard")return c.state},this.composeDraft=async()=>{const{state:s,status:o}=await this.draftCompositionMiddlewareExecutor.execute({eventName:"compose",initialValue:{draft:{id:this.id,parent_id:this.threadId??void 0,text:""}}});if(o!=="discard")return s},this.createDraft=async()=>{if(this.editedMessage||!this.config.drafts.enabled)return;const s=await this.composeDraft();if(!s)return;const{draft:o}=s;this.state.partialNext({draftId:o.id}),this.logDraftUpdateTimestamp(),await this.channel.createDraft(o)},this.deleteDraft=async()=>{this.editedMessage||!this.config.drafts.enabled||!this.draftId||(this.state.partialNext({draftId:null}),this.logDraftUpdateTimestamp(),await this.channel.deleteDraft({parent_id:this.threadId??void 0}))},this.createPoll=async()=>{const s=await this.pollComposer.compose();if(!(!s||!s.data.id))try{const{poll:o}=await this.client.createPoll(s.data);this.state.partialNext({pollId:o.id}),this.pollComposer.initState()}catch(o){throw this.client.notifications.add({message:"Failed to create the poll",origin:{emitter:"MessageComposer",context:{composer:this}}}),o}},this.compositionContext=r,this.configState=new ka(_v(pG,n??{})),r instanceof Ud)this.channel=r;else if(r instanceof ip)this.channel=r.channel;else if(r.cid){const[s,o]=r.cid.split(":");this.channel=a.channel(s,o)}else throw new Error("MessageComposer requires composition context pointing to channel (channel or context.cid)");let i;sp(t)?i=t.message:t&&(i=Ji(t),this.editedMessage=i),this.attachmentManager=new KW({composer:this,message:i}),this.linkPreviewsManager=new _c({composer:this,message:i}),this.textComposer=new uK({composer:this,message:i}),this.pollComposer=new RG({composer:this}),this.customDataManager=new mG({composer:this,message:i}),this.editingAuditState=new ka(this.initEditingAuditState(t)),this.state=new ka($k(t)),this.compositionMiddlewareExecutor=new YG({composer:this}),this.draftCompositionMiddlewareExecutor=new WG({composer:this})}static evaluateContextType(t){return t instanceof Ud?"channel":t instanceof ip?"thread":typeof t.legacyThreadId=="string"?"legacy_thread":"message"}static constructTag(t){return`${this.evaluateContextType(t)}_${t.id}`}get config(){return this.configState.getLatestValue()}updateConfig(t){this.configState.partialNext(_v(this.config,t))}get contextType(){return wC.evaluateContextType(this.compositionContext)}get tag(){return wC.constructTag(this.compositionContext)}get threadId(){return this.compositionContext instanceof Ud?null:this.compositionContext instanceof ip?this.compositionContext.id:typeof this.compositionContext.legacyThreadId=="string"?this.compositionContext.legacyThreadId:typeof this.compositionContext.parent_id=="string"?this.compositionContext.parent_id:null}get client(){return this.channel.getClient()}get id(){return this.state.getLatestValue().id}get draftId(){return this.state.getLatestValue().draftId}get lastChange(){return this.editingAuditState.getLatestValue().lastChange}get quotedMessage(){return this.state.getLatestValue().quotedMessage}get pollId(){return this.state.getLatestValue().pollId}get hasSendableData(){return!!(!this.attachmentManager.uploadsInProgressCount&&(!this.textComposer.textIsEmpty||this.attachmentManager.successfulUploadsCount>0)||this.pollId)}get compositionIsEmpty(){return!this.quotedMessage&&this.textComposer.textIsEmpty&&!this.attachmentManager.attachments.length&&!this.pollId}get lastChangeOriginIsLocal(){var i;const n=this.lastChange.draftUpdate===null&&!this.editedMessage,r=!!((i=this.editedMessage)!=null&&i.updated_at)&&new Date(this.editedMessage.updated_at).getTime()<this.lastChange.stateUpdate,a=!!this.lastChange.draftUpdate&&this.lastChange.draftUpdate<this.lastChange.stateUpdate;return r||a||n}logStateUpdateTimestamp(){this.editingAuditState.partialNext({lastChange:{...this.lastChange,stateUpdate:new Date().getTime()}})}logDraftUpdateTimestamp(){if(!this.config.drafts.enabled)return;const t=new Date().getTime();this.editingAuditState.partialNext({lastChange:{draftUpdate:t,stateUpdate:t}})}};kP.generateId=Xs;var hl=kP,Ud=class{constructor(t,n,r,a){this.create=async o=>{const c={...o,watch:!1,state:!1,presence:!1};return await this.query(c,"latest")},this._callChannelListeners=o=>{const c=this,d=[];c.listeners.all&&d.push(...c.listeners.all),c.listeners[o.type]&&d.push(...c.listeners[o.type]);for(const f of d)typeof f!="string"&&f(o)},this._channelURL=()=>{if(!this.id)throw new Error("channel id is not defined");return`${this.getClient().baseURL}/channels/${encodeURIComponent(this.type)}/${encodeURIComponent(this.id)}`};const i=/^[\w_-]+$/,s=/^[\w!_-]+$/;if(!i.test(n))throw new Error(`Invalid chat type ${n}, letters, numbers and "_-" are allowed`);if(typeof r=="string"&&!s.test(r))throw new Error(`Invalid chat id ${r}, letters, numbers and "!-_" are allowed`);this._client=t,this.type=n,this.id=r,this.data=a,this._data={...a},this.cid=`${n}:${r}`,this.listeners={},this.state=new FW(this),this.initialized=!1,this.offlineMode=!1,this.lastTypingEvent=null,this.isTyping=!1,this.disconnected=!1,this.messageComposer=new hl({client:this._client,compositionContext:this})}getClient(){if(this.disconnected===!0)throw Error("You can't use a channel after client.disconnect() was called");return this._client}getConfig(){return this.getClient().configs[this.cid]}async sendMessage(t,n){return await this.getClient().post(this._channelURL()+"/message",{message:t,...n})}sendFile(t,n,r,a){return this.getClient().sendFile(`${this._channelURL()}/file`,t,n,r,a)}sendImage(t,n,r,a){return this.getClient().sendFile(`${this._channelURL()}/image`,t,n,r,a)}deleteFile(t){return this.getClient().delete(`${this._channelURL()}/file`,{url:t})}deleteImage(t){return this.getClient().delete(`${this._channelURL()}/image`,{url:t})}async sendEvent(t){return this._checkInitialized(),await this.getClient().post(this._channelURL()+"/event",{event:t})}async search(t,n={}){if(n.offset&&n.next)throw Error("Cannot specify offset with next");const r={filter_conditions:{cid:this.cid},...n,sort:n.sort?ni(n.sort):void 0};if(typeof t=="string")r.query=t;else if(typeof t=="object")r.message_filter_conditions=t;else throw Error(`Invalid type ${typeof t} for query parameter`);return await this.getClient().wsPromise,await this.getClient().get(this.getClient().baseURL+"/search",{payload:r})}async queryMembers(t,n=[],r={}){var o;let a;const i=this.type;let s;return this.id?a=this.id:(o=this.data)!=null&&o.members&&Array.isArray(this.data.members)&&(s=this.data.members),await this.getClient().get(this.getClient().baseURL+"/members",{payload:{type:i,id:a,members:s,sort:ni(n),filter_conditions:t,...r}})}async updateMemberPartial(t,n){const r=new URL(`${this._channelURL()}/member`);return n!=null&&n.userId&&r.searchParams.append("user_id",n.userId),await this.getClient().patch(r.toString(),t)}async partialUpdateMember(t,n){if(!t)throw Error("Please specify the user id");return await this.getClient().patch(this._channelURL()+`/member/${encodeURIComponent(t)}`,n)}async sendReaction(t,n,r){if(!t)throw Error("Message id is missing");if(!n||Object.keys(n).length===0)throw Error("Reaction object is missing");return await this.getClient().post(this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/reaction`,{reaction:n,...r})}deleteReaction(t,n,r){if(this._checkInitialized(),!n||!t)throw Error("Deleting a reaction requires specifying both the message and reaction type");const a=this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/reaction/${encodeURIComponent(n)}`;return r?this.getClient().delete(a,{user_id:r}):this.getClient().delete(a,{})}async update(t={},n,r){return["config","cid","created_by","id","member_count","type","created_at","updated_at","last_message_at","own_capabilities"].forEach(i=>{delete t[i]}),await this._update({message:n,data:t,...r})}async updatePartial(t){var a,i;const n=await this.getClient().patch(this._channelURL(),t),r=[...n.channel.own_capabilities||[]].sort().join()!==[...Array.isArray((a=this.data)==null?void 0:a.own_capabilities)?(i=this.data)==null?void 0:i.own_capabilities:[]].sort().join();return this.data=n.channel,r&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:n.channel.own_capabilities}),n}async enableSlowMode(t){const n=await this.getClient().post(this._channelURL(),{cooldown:t});return this.data=n.channel,n}async disableSlowMode(){const t=await this.getClient().post(this._channelURL(),{cooldown:0});return this.data=t.channel,t}async delete(t={}){return await this.getClient().delete(this._channelURL(),{...t})}async truncate(t={}){return await this.getClient().post(this._channelURL()+"/truncate",t)}async acceptInvite(t={}){return await this._update({accept_invite:!0,...t})}async rejectInvite(t={}){return await this._update({reject_invite:!0,...t})}async addMembers(t,n,r={}){return await this._update({add_members:t,message:n,...r})}async addModerators(t,n,r={}){return await this._update({add_moderators:t,message:n,...r})}async assignRoles(t,n,r={}){return await this._update({assign_roles:t,message:n,...r})}async inviteMembers(t,n,r={}){return await this._update({invites:t,message:n,...r})}async removeMembers(t,n,r={}){return await this._update({remove_members:t,message:n,...r})}async demoteModerators(t,n,r={}){return await this._update({demote_moderators:t,message:n,...r})}async _update(t){const n=await this.getClient().post(this._channelURL(),t);return this.data=n.channel,n}async mute(t={}){return await this.getClient().post(this.getClient().baseURL+"/moderation/mute/channel",{channel_cid:this.cid,...t})}async unmute(t={}){return await this.getClient().post(this.getClient().baseURL+"/moderation/unmute/channel",{channel_cid:this.cid,...t})}async archive(t={}){const n=this.getClient(),r=t.user_id||n.userID;if(!r)throw Error("A user_id is required for archiving a channel");return(await this.partialUpdateMember(r,{set:{archived:!0}})).channel_member}async unarchive(t={}){const n=this.getClient(),r=t.user_id||n.userID;if(!r)throw Error("A user_id is required for unarchiving a channel");return(await this.partialUpdateMember(r,{set:{archived:!1}})).channel_member}async pin(t={}){const n=this.getClient(),r=t.user_id||n.userID;if(!r)throw new Error("A user_id is required for pinning a channel");return(await this.partialUpdateMember(r,{set:{pinned:!0}})).channel_member}async unpin(t={}){const n=this.getClient(),r=t.user_id||n.userID;if(!r)throw new Error("A user_id is required for unpinning a channel");return(await this.partialUpdateMember(r,{set:{pinned:!1}})).channel_member}muteStatus(){return this._checkInitialized(),this.getClient()._muteStatus(this.cid)}sendAction(t,n){if(this._checkInitialized(),!t)throw Error("Message id is missing");return this.getClient().post(this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/action`,{message_id:t,form_data:n,id:this.id,type:this.type})}async keystroke(t,n){if(!this._isTypingIndicatorsEnabled())return;const r=new Date,a=this.lastTypingEvent&&r.getTime()-this.lastTypingEvent.getTime();this.lastKeyStroke=r,this.isTyping=!0,(a===null||a>2e3)&&(this.lastTypingEvent=new Date,await this.sendEvent({type:"typing.start",parent_id:t,...n||{}}))}async updateAIState(t,n,r={}){await this.sendEvent({...r,type:"ai_indicator.update",message_id:t,ai_state:n})}async clearAIIndicator(){await this.sendEvent({type:"ai_indicator.clear"})}async stopAIResponse(){await this.sendEvent({type:"ai_indicator.stop"})}async stopTyping(t,n){this._isTypingIndicatorsEnabled()&&(this.lastTypingEvent=null,this.isTyping=!1,await this.sendEvent({type:"typing.stop",parent_id:t,...n||{}}))}_isTypingIndicatorsEnabled(){var t,n,r,a;return(t=this.getConfig())!=null&&t.typing_events?((a=(r=(n=this.getClient().user)==null?void 0:n.privacy_settings)==null?void 0:r.typing_indicators)==null?void 0:a.enabled)??!0:!1}lastMessage(){let t=this.state.latestMessages.length-5;t<0&&(t=0);const n=this.state.latestMessages.length+1,r=this.state.latestMessages.slice(t,n);return r.sort((a,i)=>i.created_at.getTime()-a.created_at.getTime()),r[0]}async markRead(t={}){var n;return this._checkInitialized(),!((n=this.getConfig())!=null&&n.read_events)&&!this.getClient()._isUsingServerAuth()?Promise.resolve(null):await this.getClient().post(this._channelURL()+"/read",{...t})}async markUnread(t){var n;return this._checkInitialized(),!((n=this.getConfig())!=null&&n.read_events)&&!this.getClient()._isUsingServerAuth()?Promise.resolve(null):await this.getClient().post(this._channelURL()+"/unread",{...t})}clean(){this.lastKeyStroke&&new Date().getTime()-this.lastKeyStroke.getTime()>1e3&&this.isTyping&&tP(this.stopTyping(),"stop typing event"),this.state.clean()}async watch(t){const n={state:!0,watch:!0,presence:!1};await this.getClient().wsPromise,this.getClient()._hasConnectionID()||(n.watch=!1);const r={...n,...t},a=await this.query(r,"latest");return this.initialized=!0,this.data=a.channel,this._client.logger("info",`channel:watch() - started watching channel ${this.cid}`,{tags:["channel"],channel:this}),a}async stopWatching(){const t=await this.getClient().post(this._channelURL()+"/stop-watching",{});return this._client.logger("info",`channel:watch() - stopped watching channel ${this.cid}`,{tags:["channel"],channel:this}),t}async getReplies(t,n,r){const a=r?ni(r):void 0,i=await this.getClient().get(this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/replies`,{sort:a,...n});return i.messages&&this.state.addMessagesSorted(i.messages),i}async getPinnedMessages(t,n=[]){return await this.getClient().get(this._channelURL()+"/pinned_messages",{payload:{...t,sort:ni(n)}})}getReactions(t,n){return this.getClient().get(this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/reactions`,{...n})}getMessagesById(t){return this.getClient().get(this._channelURL()+"/messages",{ids:t.join(",")})}lastRead(){const{userID:t}=this.getClient();if(t)return this.state.read[t]?this.state.read[t].last_read:null}_countMessageAsUnread(t){var n,r,a,i;return!(t.shadowed||t.silent||t.parent_id&&!t.show_in_channel||((n=t.user)==null?void 0:n.id)===this.getClient().userID||(r=t.user)!=null&&r.id&&this.getClient().userMuteStatus(t.user.id)||Array.isArray((a=this.data)==null?void 0:a.own_capabilities)&&!((i=this.data)!=null&&i.own_capabilities.includes("read-events"))||this.muteStatus().muted)}countUnread(t){if(!t)return this.state.unreadCount;let n=0;for(let r=0;r<this.state.latestMessages.length;r+=1){const a=this.state.latestMessages[r];a.created_at>t&&this._countMessageAsUnread(a)&&n++}return n}countUnreadMentions(){var a;const t=this.lastRead(),n=this.getClient().userID;let r=0;for(let i=0;i<this.state.latestMessages.length;i+=1){const s=this.state.latestMessages[i];this._countMessageAsUnread(s)&&(!t||s.created_at>t)&&((a=s.mentioned_users)!=null&&a.some(o=>o.id===n))&&r++}return r}async query(t={},n="current"){var c,d,f,h,m,g;await this.getClient().wsPromise;const r=((c=t.created_by)==null?void 0:c.id)??t.created_by_id??((f=(d=this._data)==null?void 0:d.created_by)==null?void 0:f.id)??((h=this._data)==null?void 0:h.created_by_id);this.getClient()._isUsingServerAuth()&&typeof r!="string"&&this.getClient().logger("warn","Either `created_by` (with `id` property) or `created_by_id` are missing from both `Channel._data` and `options` parameter");let a=`${this.getClient().baseURL}/channels/${encodeURIComponent(this.type)}`;this.id&&(a+=`/${encodeURIComponent(this.id)}`);const i=await this.getClient().post(a+"/query",{data:this._data,state:!0,...t});if(!this.id){this.id=i.channel.id,this.cid=i.channel.cid;const b=GD(this.type,i.members.map(_=>{var w;return _.user_id||((w=_.user)==null?void 0:w.id)||""}));b&&b in this.getClient().activeChannels&&delete this.getClient().activeChannels[b],!(this.cid in this.getClient().activeChannels)&&this.getClient()._cacheEnabled()&&(this.getClient().activeChannels[this.cid]=this)}this.getClient()._addChannelConfig(i.channel);const{messageSet:s}=this._initializeState(i,n);s.pagination={...s.pagination,...lP({parentSet:s,messagePaginationOptions:t==null?void 0:t.messages,requestedPageSize:((m=t==null?void 0:t.messages)==null?void 0:m.limit)??cW,returnedPage:i.messages,logger:this.getClient().logger})},this.getClient().polls.hydratePollCache(i.messages,!0),i.draft&&this.messageComposer.initState({composition:i.draft});const o=[...i.channel.own_capabilities||[]].sort().join()!==[...this.data&&Array.isArray((g=this.data)==null?void 0:g.own_capabilities)?this.data.own_capabilities:[]].sort().join();return this.data=i.channel,this.offlineMode=!1,o&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:i.channel.own_capabilities}),this.getClient().dispatchEvent({type:"channels.queried",queriedChannels:{channels:[i],isLatestMessageSet:s.isLatest}}),i}async banUser(t,n){return this._checkInitialized(),await this.getClient().banUser(t,{...n,type:this.type,id:this.id})}async hide(t=null,n=!1){return this._checkInitialized(),await this.getClient().post(`${this._channelURL()}/hide`,{user_id:t,clear_history:n})}async show(t=null){return this._checkInitialized(),await this.getClient().post(`${this._channelURL()}/show`,{user_id:t})}async unbanUser(t){return this._checkInitialized(),await this.getClient().unbanUser(t,{type:this.type,id:this.id})}async shadowBan(t,n){return this._checkInitialized(),await this.getClient().shadowBan(t,{...n,type:this.type,id:this.id})}async removeShadowBan(t){return this._checkInitialized(),await this.getClient().removeShadowBan(t,{type:this.type,id:this.id})}async vote(t,n,r){return await this.getClient().castPollVote(t,n,r)}async removeVote(t,n,r){return await this.getClient().removePollVote(t,n,r)}async createDraft(t){return await this.getClient().post(this._channelURL()+"/draft",{message:t})}async deleteDraft({parent_id:t}={}){return await this.getClient().delete(this._channelURL()+"/draft",{parent_id:t})}async getDraft({parent_id:t}={}){return await this.getClient().get(this._channelURL()+"/draft",{parent_id:t})}on(t,n){const r=n?t:"all",a=n||t;return r in this.listeners||(this.listeners[r]=[]),this._client.logger("info",`Attaching listener for ${r} event on channel ${this.cid}`,{tags:["event","channel"],channel:this}),this.listeners[r].push(a),{unsubscribe:()=>{this._client.logger("info",`Removing listener for ${r} event from channel ${this.cid}`,{tags:["event","channel"],channel:this}),this.listeners[r]=this.listeners[r].filter(i=>i!==a)}}}off(t,n){const r=n?t:"all",a=n||t;r in this.listeners||(this.listeners[r]=[]),this._client.logger("info",`Removing listener for ${r} event from channel ${this.cid}`,{tags:["event","channel"],channel:this}),this.listeners[r]=this.listeners[r].filter(i=>i!==a)}_handleChannelEvent(t){var a,i,s,o,c,d,f,h,m,g,b,_,w,x,k,R,I,O,A,L,C,T,S,j,B;const n=this;this._client.logger("info",`channel:_handleChannelEvent - Received event of type { ${t.type} } on ${this.cid}`,{tags:["event","channel"],channel:this});const r=n.state;switch(t.type){case"typing.start":(a=t.user)!=null&&a.id&&(r.typing[t.user.id]=t);break;case"typing.stop":(i=t.user)!=null&&i.id&&delete r.typing[t.user.id];break;case"message.read":(s=t.user)!=null&&s.id&&t.created_at&&(r.read[t.user.id]={last_read:new Date(t.created_at),last_read_message_id:t.last_read_message_id,user:t.user,unread_messages:0},((o=t.user)==null?void 0:o.id)===((c=this.getClient().user)==null?void 0:c.id)&&(r.unreadCount=0));break;case"user.watching.start":case"user.updated":(d=t.user)!=null&&d.id&&(r.watchers[t.user.id]=t.user);break;case"user.watching.stop":(f=t.user)!=null&&f.id&&delete r.watchers[t.user.id];break;case"message.deleted":t.message&&(this._extendEventWithOwnReactions(t),t.hard_delete?r.removeMessage(t.message):r.addMessageSorted(t.message,!1,!1),r.removeQuotedMessageReferences(t.message),t.message.pinned&&r.removePinnedMessage(t.message));break;case"message.new":if(t.message){const H=((h=t.user)==null?void 0:h.id)===((m=this.getClient().user)==null?void 0:m.id),U=t.message.parent_id&&!t.message.show_in_channel;if((this.state.isUpToDate||U)&&r.addMessageSorted(t.message,H),t.message.pinned&&r.addPinnedMessage(t.message),H||U)break;if((g=t.user)!=null&&g.id)for(const F in r.read)F===t.user.id?r.read[t.user.id]={last_read:new Date(t.created_at),user:t.user,unread_messages:0}:r.read[F].unread_messages+=1;this._countMessageAsUnread(t.message)&&(r.unreadCount=r.unreadCount+1)}break;case"message.updated":case"message.undeleted":t.message&&(this._extendEventWithOwnReactions(t),r.addMessageSorted(t.message,!1,!1),r._updateQuotedMessageReferences({message:t.message}),t.message.pinned?r.addPinnedMessage(t.message):r.removePinnedMessage(t.message));break;case"channel.truncated":if((b=t.channel)!=null&&b.truncated_at){const H=+new Date(t.channel.truncated_at);r.messageSets.forEach((U,z)=>{U.messages.forEach(({created_at:F,id:V})=>{H>+F&&r.removeMessage({id:V,messageSetIndex:z})})}),r.pinnedMessages.forEach(({id:U,created_at:z})=>{H>+z&&r.removePinnedMessage({id:U})})}else r.clearMessages();r.unreadCount=0,t.message&&(r.addMessageSorted(t.message),t.message.pinned&&r.addPinnedMessage(t.message));break;case"member.added":case"member.updated":{const H={...t.member};H.pinned_at===null&&delete H.pinned_at,H.archived_at===null&&delete H.archived_at,H!=null&&H.user&&(r.members={...r.members,[H.user.id]:H});const U=this.getClient().userID;typeof U=="string"&&typeof((_=H==null?void 0:H.user)==null?void 0:_.id)=="string"&&H.user.id===U&&(r.membership=H);break}case"member.removed":if((w=t.user)!=null&&w.id){const H={...r.members};delete H[t.user.id],r.members=H}break;case"notification.mark_unread":{if(!(((x=t.user)==null?void 0:x.id)===((k=this.getClient().user)==null?void 0:k.id)&&t.user))break;const U=t.unread_messages??0;r.read[t.user.id]={first_unread_message_id:t.first_unread_message_id,last_read:new Date(t.last_read_at),last_read_message_id:t.last_read_message_id,user:t.user,unread_messages:U},r.unreadCount=U;break}case"channel.updated":t.channel&&(((R=t.channel)==null?void 0:R.frozen)!==void 0&&t.channel.frozen!==((I=n.data)==null?void 0:I.frozen)&&this.query({state:!1,messages:{limit:0},watchers:{limit:0}}),n.data={...t.channel,hidden:((O=t.channel)==null?void 0:O.hidden)??((A=n.data)==null?void 0:A.hidden),own_capabilities:((L=t.channel)==null?void 0:L.own_capabilities)??((C=n.data)==null?void 0:C.own_capabilities)});break;case"reaction.new":t.message&&t.reaction&&(t.message=r.addReaction(t.reaction,t.message));break;case"reaction.deleted":t.reaction&&(t.message=r.removeReaction(t.reaction,t.message));break;case"reaction.updated":t.reaction&&(t.message=r.addReaction(t.reaction,t.message,!0));break;case"channel.hidden":n.data={...n.data,hidden:!0},t.clear_history&&r.clearMessages();break;case"channel.visible":n.data={...n.data,hidden:!1};break;case"user.banned":if(!((T=t.user)!=null&&T.id))break;r.members[t.user.id]={...r.members[t.user.id]||{},shadow_banned:!!t.shadow,banned:!t.shadow,user:{...((S=r.members[t.user.id])==null?void 0:S.user)||{},...t.user}};break;case"user.unbanned":if(!((j=t.user)!=null&&j.id))break;r.members[t.user.id]={...r.members[t.user.id]||{},shadow_banned:!1,banned:!1,user:{...((B=r.members[t.user.id])==null?void 0:B.user)||{},...t.user}};break}t.watcher_count!==void 0&&(n.state.watcher_count=t.watcher_count)}_checkInitialized(){if(!this.initialized&&!this.offlineMode&&!this.getClient()._isUsingServerAuth())throw Error(`Channel ${this.cid} hasn't been initialized yet. Make sure to call .watch() and wait for it to resolve`)}_initializeState(t,n="latest"){const{state:r,user:a,userID:i}=this.getClient();if(t.members){this._hydrateMembers({members:t.members});for(const c of t.members)c.user&&r.updateUserReference(c.user,this.cid)}this.state.membership=t.membership||{};const s=t.messages||[];this.state.messages||this.state.initMessages();const{messageSet:o}=this.state.addMessagesSorted(s,!1,!0,!0,n);if(this.state.pinnedMessages||(this.state.pinnedMessages=[]),this.state.addPinnedMessages(t.pinned_messages||[]),t.pending_messages&&(this.state.pending_messages=t.pending_messages),t.watcher_count!==void 0&&(this.state.watcher_count=t.watcher_count),t.watchers)for(const c of t.watchers)c&&(r.updateUserReference(c,this.cid),this.state.watchers[c.id]=c);if(i!=null){const c=this.state.last_message_at||new Date;a&&(this.state.read[a.id]={user:a,last_read:c,unread_messages:0})}if(t.read)for(const c of t.read)this.state.read[c.user.id]={last_read:new Date(c.last_read),last_read_message_id:c.last_read_message_id,unread_messages:c.unread_messages??0,user:c.user},c.user.id===(a==null?void 0:a.id)&&(this.state.unreadCount=this.state.read[c.user.id].unread_messages);return{messageSet:o}}_extendEventWithOwnReactions(t){if(!t.message)return;const n=this.state.findMessage(t.message.id,t.message.parent_id);n&&(t.message.own_reactions=n.own_reactions)}_hydrateMembers({members:t,overrideCurrentState:n=!0}){const r=t.reduce((a,i)=>(i.user&&(a[i.user.id]=i),a),{});n?this.state.members=r:!n&&t.length&&(this.state.members={...this.state.members,...r})}_disconnect(){this._client.logger("info",`channel:disconnect() - Disconnecting the channel ${this.cid}`,{tags:["connection","channel"],channel:this}),this.disconnected=!0,this.state.setIsUpToDate(!1)}},zk=class{constructor({client:e}){this.client=e,this.users={},this.userChannelReferences={}}updateUsers(e){for(const t of e)this.updateUser(t)}updateUser(e){e!=null&&this.client._cacheEnabled()&&(this.users[e.id]=e)}updateUserReference(e,t){e==null||!this.client._cacheEnabled()||(this.updateUser(e),this.userChannelReferences[e.id]||(this.userChannelReferences[e.id]={}),this.userChannelReferences[e.id][t]=!0)}deleteAllChannelReference(e){for(const t in this.userChannelReferences)delete this.userChannelReferences[t][e]}},Md=null;typeof WebSocket<"u"?Md=WebSocket:typeof MozWebSocket<"u"?Md=MozWebSocket:typeof global<"u"?Md=global.WebSocket||global.MozWebSocket:typeof window<"u"?Md=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Md=self.WebSocket||self.MozWebSocket);var vK=Md,bK=class{constructor(){this.connectionStartTimestamp=null,this.wsTotalFailures=0,this.wsConsecutiveFailures=0,this.instanceClientId=Od()}},qh=async(e,t)=>{for(let r=0;r<3;r++){try{await Sp.post(`https://chat-insights.getstream.io/insights/${e}`,t)}catch{await mu((r+1)*3e3);continue}break}};function _K(e,t){return{...t,...RP(e)}}function RP(e){var n;const{client:t}=e;return{ready_state:(n=e.ws)==null?void 0:n.readyState,url:e._buildUrl(),api_key:t.key,start_ts:t.insightMetrics.connectionStartTimestamp,end_ts:new Date().getTime(),auth_type:t.getAuthType(),token:t.tokenManager.token,user_id:t.userID,user_details:t._user,device:t.options.device,client_id:e.connectionID,ws_details:e.ws,ws_consecutive_failures:t.insightMetrics.wsConsecutiveFailures,ws_total_failures:t.insightMetrics.wsTotalFailures,request_id:e.requestID,online:typeof navigator<"u"?navigator==null?void 0:navigator.onLine:null,user_agent:typeof navigator<"u"?navigator==null?void 0:navigator.userAgent:null,instance_client_id:t.insightMetrics.instanceClientId}}function wK(e){return RP(e)}var xK=e=>e.code!==void 0,CK=e=>e.error!==void 0,DK=class{constructor({client:e}){this._buildUrl=()=>{const t=this.client._buildWSPayload(this.requestID),n=this.client.tokenManager.getToken(),r=this.client.options.wsUrlParams,a=new URLSearchParams(r);return a.set("json",t),a.set("api_key",this.client.key),a.set("authorization",`${n}`),a.set("stream-auth-type",this.client.getAuthType()),a.set("X-Stream-Client",this.client.getUserAgent()),`${this.client.wsBaseURL}/connect?${a.toString()}`},this.onlineStatusChanged=t=>{t.type==="offline"?(this._log("onlineStatusChanged() - Status changing to offline"),this._setHealth(!1)):t.type==="online"&&(this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`),this.isHealthy||this._reconnect({interval:10}))},this.onopen=t=>{this.wsID===t&&this._log("onopen() - onopen callback",{wsID:t})},this.onmessage=(t,n)=>{var a,i;if(this.wsID!==t)return;this._log("onmessage() - onmessage callback",{event:n,wsID:t});const r=typeof n.data=="string"?JSON.parse(n.data):null;if(!this.isResolved&&r){if(this.isResolved=!0,r.error){(a=this.rejectPromise)==null||a.call(this,this._errorFromWSEvent(r,!1));return}(i=this.resolvePromise)==null||i.call(this,r),this._setHealth(!0)}this.lastEvent=new Date,r&&r.type==="health.check"&&this.scheduleNextPing(),this.client.handleEvent(n),this.scheduleConnectionCheck()},this.onclose=(t,n)=>{var r,a;if(this.wsID===t)if(this._log("onclose() - onclose callback - "+n.code,{event:n,wsID:t}),n.code===Hh.WS_CLOSED_SUCCESS){const i=new Error(`WS connection reject with error ${n.reason}`);i.reason=n.reason,i.code=n.code,i.wasClean=n.wasClean,i.target=n.target,(r=this.rejectPromise)==null||r.call(this,i),this._log(`onclose() - WS connection reject with error ${n.reason}`,{event:n})}else this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,(a=this.rejectPromise)==null||a.call(this,this._errorFromWSEvent(n)),this._log("onclose() - WS connection closed. Calling reconnect ...",{event:n}),this._reconnect()},this.onerror=(t,n)=>{var r;this.wsID===t&&(this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,(r=this.rejectPromise)==null||r.call(this,this._errorFromWSEvent(n)),this._log("onerror() - WS connection resulted into error",{event:n}),this._reconnect())},this._setHealth=t=>{if(t!==this.isHealthy){if(this.isHealthy=t,this.isHealthy){this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy});return}setTimeout(()=>{this.isHealthy||this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy})},5e3)}},this._errorFromWSEvent=(t,n=!0)=>{let r,a,i;xK(t)&&(r=t.code,a="unknown",i=t.reason),CK(t)&&(r=t.error.code,a=t.error.StatusCode,i=t.error.message),this._log(`_errorFromWSEvent() - WS failed with code ${r}`,{event:t},"warn");const s=new Error(`WS failed with code ${r} and reason - ${i}`);return s.code=r,s.StatusCode=a,s.isWSFailure=n,s},this._setupConnectionPromise=()=>{this.isResolved=!1,this.connectionOpen=new Promise((t,n)=>{this.resolvePromise=t,this.rejectPromise=n})},this.scheduleNextPing=()=>{this.healthCheckTimeoutRef&&clearTimeout(this.healthCheckTimeoutRef),this.healthCheckTimeoutRef=setTimeout(()=>{var n;const t=[{type:"health.check",client_id:this.client.clientID}];try{(n=this.ws)==null||n.send(JSON.stringify(t))}catch{}},this.pingInterval)},this.scheduleConnectionCheck=()=>{this.connectionCheckTimeoutRef&&clearTimeout(this.connectionCheckTimeoutRef),this.connectionCheckTimeoutRef=setTimeout(()=>{const t=new Date;this.lastEvent&&t.getTime()-this.lastEvent.getTime()>this.connectionCheckTimeout&&(this._log("scheduleConnectionCheck - going to reconnect"),this._setHealth(!1),this._reconnect())},this.connectionCheckTimeout)},this.client=e,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.isDisconnected=!1,this.isResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25*1e3,this.connectionCheckTimeout=this.pingInterval+10*1e3,nP(this.onlineStatusChanged)}_log(e,t={},n="info"){this.client.logger(n,"connection:"+e,{tags:["connection"],...t})}setClient(e){this.client=e}async connect(e=15e3){if(this.isConnecting)throw Error("You've called connect twice, can only attempt 1 connection at the time");this.isDisconnected=!1;try{const t=await this._connect();this.consecutiveFailures=0,this._log(`connect() - Established ws connection with healthcheck: ${t}`)}catch(t){this.isHealthy=!1,this.consecutiveFailures+=1;const n=t;if(n.code===Hh.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});else if(!n.isWSFailure)throw new Error(JSON.stringify({code:n.code,StatusCode:n.StatusCode,message:n.message,isWSFailure:n.isWSFailure}))}return await this._waitForHealthy(e)}_waitForHealthy(e=15e3){return Promise.race([(async()=>{for(let n=0;n<=e;n+=50)try{return await this.connectionOpen}catch(r){if(n===e)throw new Error(JSON.stringify({code:r.code,StatusCode:r.StatusCode,message:r.message,isWSFailure:r.isWSFailure}));await mu(50)}})(),(async()=>{throw await mu(e),this.isConnecting=!1,new Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}))})()])}disconnect(e){this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),rP(this.onlineStatusChanged),this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();let t;const{ws:n}=this;return n&&n.close&&n.readyState===n.OPEN?(t=new Promise(r=>{const a=i=>{this._log(`disconnect() - resolving isClosedPromise ${i?"with":"without"} close frame`,{event:i}),r()};n.onclose=a,setTimeout(a,e??1e3)}),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),n.close(Hh.WS_CLOSED_SUCCESS,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),t=Promise.resolve()),delete this.ws,t}async _connect(){if(this.isConnecting||this.isDisconnected&&this.client.options.enableWSFallback)return;this.isConnecting=!0,this.requestID=Od(),this.client.insightMetrics.connectionStartTimestamp=new Date().getTime();let e=!1;try{this._log("_connect() - waiting for token"),await this.client.tokenManager.tokenReady(),e=!0}catch{}try{e||(this._log("_connect() - tokenProvider failed before, so going to retry"),await this.client.tokenManager.loadToken()),this._setupConnectionPromise();const t=this._buildUrl();this._log(`_connect() - Connecting to ${t}`,{wsURL:t,requestID:this.requestID}),this.ws=new vK(t),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID);const n=await this.connectionOpen;if(this.isConnecting=!1,n)return this.connectionID=n.connection_id,this.client.insightMetrics.wsConsecutiveFailures>0&&this.client.options.enableInsights&&(qh("ws_success_after_failure",wK(this)),this.client.insightMetrics.wsConsecutiveFailures=0),n}catch(t){if(this.isConnecting=!1,this._log("_connect() - Error - ",t),this.client.options.enableInsights){this.client.insightMetrics.wsConsecutiveFailures++,this.client.insightMetrics.wsTotalFailures++;const n=_K(this,DW(t));qh==null||qh("ws_fatal",n)}throw t}}async _reconnect(e={}){if(this._log("_reconnect() - Initiating the reconnect"),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (1) since already connecting or healthy");return}let t=e.interval;if(t||(t=yv(this.consecutiveFailures)),await mu(t),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (2) since already connecting or healthy");return}if(this.isDisconnected&&this.client.options.enableWSFallback){this._log("_reconnect() - Abort (3) since disconnect() is called");return}this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),e.refreshToken&&await this.client.tokenManager.loadToken();try{await this._connect(),this._log("_reconnect() - Waiting for recoverCallBack"),await this.client.recoverState(),this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0}catch(n){if(this.isHealthy=!1,this.consecutiveFailures+=1,n.code===Hh.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});n.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect())}this._log("_reconnect() - == END ==")}_destroyCurrentWSConnection(){var e,t;this.wsID+=1;try{(e=this==null?void 0:this.ws)==null||e.removeAllListeners(),(t=this==null?void 0:this.ws)==null||t.close()}catch{}}},Cy=em(Pq()),Hk=em(Iq());function AP(e,t,n={},r={}){if(typeof t!="string")throw new TypeError("userId should be a string");const a={user_id:t,...n};if(Cy.default==null||Cy.default.sign==null)throw Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.");const i=Object.assign({algorithm:"HS256",noTimestamp:!0},r);return a.iat&&(i.noTimestamp=!1),Cy.default.sign(a,e,i)}function Vk(e,t={}){const n={server:!0},r=Object.assign({algorithm:"HS256",noTimestamp:!0},t);return Cy.default.sign(n,e,r)}function SK(e){const t=e.split(".");if(t.length!==3)return"";const n=t[1],r=Bq(n);return JSON.parse(r).user_id}function EK(e){return["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",Uq(JSON.stringify({user_id:e})),"devtoken"].join(".")}function MK(e,t,n){const r=Buffer.from(t,"utf8"),a=Hk.default.createHmac("sha256",r).update(e).digest("hex");try{return Hk.default.timingSafeEqual(Buffer.from(a),Buffer.from(n))}catch{return!1}}var TK=class{constructor(e){this.setTokenOrProvider=async(t,n)=>{this.validateToken(t,n),this.user=n,oC(t)&&(this.tokenProvider=t,this.type="provider"),typeof t=="string"&&(this.token=t,this.type="static"),!t&&this.user&&this.secret&&(this.token=AP(this.secret,n.id,{},{}),this.type="static"),await this.loadToken()},this.reset=()=>{this.token=void 0,this.tokenProvider=void 0,this.type="static",this.user=void 0,this.loadTokenPromise=null},this.validateToken=(t,n)=>{if(!(n&&n.anon&&!t)){if(!this.secret&&!t)throw new Error("User token can not be empty");if(t&&typeof t!="string"&&!oC(t))throw new Error("user token should either be a string or a function");if(typeof t=="string"){if(n.anon&&t==="")return;const r=SK(t);if(t!=null&&(r==null||r===""||r!==n.id))throw new Error("userToken does not have a user_id or is not matching with user.id")}}},this.tokenReady=()=>this.loadTokenPromise,this.loadToken=()=>(this.loadTokenPromise=new Promise(async(t,n)=>{if(this.type==="static")return t(this.token);if(this.tokenProvider&&typeof this.tokenProvider!="string"){try{this.token=await this.tokenProvider()}catch(r){return n(new Error(`Call to tokenProvider failed with message: ${r}`))}t(this.token)}}),this.loadTokenPromise),this.getToken=()=>{if(this.token)return this.token;if(this.user&&this.user.anon&&!this.token)return this.token;if(this.secret)return Vk(this.secret);throw new Error("Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called")},this.isStatic=()=>this.type==="static",this.loadTokenPromise=null,e&&(this.secret=e),this.type="static",this.secret&&(this.token=Vk(this.secret))}},kK={"-1":{name:"InternalSystemError",retryable:!0},2:{name:"AccessKeyError",retryable:!1},3:{name:"AuthenticationFailedError",retryable:!0},4:{name:"InputError",retryable:!1},6:{name:"DuplicateUsernameError",retryable:!1},9:{name:"RateLimitError",retryable:!0},16:{name:"DoesNotExistError",retryable:!1},17:{name:"NotAllowedError",retryable:!1},18:{name:"EventNotSupportedError",retryable:!1},19:{name:"ChannelFeatureNotSupportedError",retryable:!1},20:{name:"MessageTooLongError",retryable:!1},21:{name:"MultipleNestingLevelError",retryable:!1},22:{name:"PayloadTooBigError",retryable:!1},23:{name:"RequestTimeoutError",retryable:!0},24:{name:"MaxHeaderSizeExceededError",retryable:!1},40:{name:"AuthErrorTokenExpired",retryable:!1},41:{name:"AuthErrorTokenNotValidYet",retryable:!1},42:{name:"AuthErrorTokenUsedBeforeIssuedAt",retryable:!1},43:{name:"AuthErrorTokenSignatureInvalid",retryable:!1},44:{name:"CustomCommandEndpointMissingError",retryable:!1},45:{name:"CustomCommandEndpointCallError",retryable:!0},46:{name:"ConnectionIDNotFoundError",retryable:!1},60:{name:"CoolDownError",retryable:!0},69:{name:"ErrWrongRegion",retryable:!1},70:{name:"ErrQueryChannelPermissions",retryable:!1},71:{name:"ErrTooManyConnections",retryable:!0},99:{name:"AppSuspendedError",retryable:!1}};function RK(e){return e.code!==void 0}function qk(e){if(!e.code)return!1;const t=kK[`${e.code}`];return t?t.retryable:!1}function AK(e){return e.code===46}function OK(e){if(typeof e.isWSFailure=="boolean")return e.isWSFailure;try{return JSON.parse(e.message).isWSFailure}catch{return!1}}function LK(e){return!e.status||e.status<200||300<=e.status}var NK=class{constructor({client:e}){this._onlineStatusChanged=t=>{var n;if(this._log(`_onlineStatusChanged() - ${t.type}`),t.type==="offline"){this._setState("CLOSED"),(n=this.cancelToken)==null||n.cancel("disconnect() is called"),this.cancelToken=void 0;return}t.type==="online"&&this.state==="CLOSED"&&this.connect(!0)},this._req=async(t,n,r)=>{var a;!this.cancelToken&&!t.close&&(this.cancelToken=Sp.CancelToken.source());try{const i=await this.client.doAxiosRequest("get",this.client.baseURL.replace(":3030",":8900")+"/longpoll",void 0,{config:{...n,cancelToken:(a=this.cancelToken)==null?void 0:a.token},params:t});return this.consecutiveFailures=0,i}catch(i){if(this.consecutiveFailures+=1,r&&qk(i))return this._log("_req() - Retryable error, retrying request"),await mu(yv(this.consecutiveFailures)),this._req(t,n,r);throw i}},this._poll=async()=>{var t;for(;this.state==="CONNECTED";)try{const n=await this._req({},{timeout:3e4},!0);if((t=n.events)!=null&&t.length)for(let r=0;r<n.events.length;r++)this.client.dispatchEvent(n.events[r])}catch(n){if(Sp.isCancel(n)){this._log("_poll() - axios canceled request");return}if(AK(n)){this._log("_poll() - ConnectionID error, connecting without ID..."),this._setState("DISCONNECTED"),this.connect(!0);return}if(RK(n)&&!qk(n)){this._setState("CLOSED");return}await mu(yv(this.consecutiveFailures))}},this.connect=async(t=!1)=>{if(this.state==="CONNECTING"){this._log("connect() - connecting already in progress",{reconnect:t},"warn");return}if(this.state==="CONNECTED"){this._log("connect() - already connected and polling",{reconnect:t},"warn");return}this._setState("CONNECTING"),this.connectionID=void 0;try{const{event:n}=await this._req({json:this.client._buildWSPayload()},{timeout:8e3},t);return this._setState("CONNECTED"),this.connectionID=n.connection_id,this.client.dispatchEvent(n),this._poll(),t&&this.client.recoverState(),n}catch(n){throw this._setState("CLOSED"),n}},this.isHealthy=()=>!!this.connectionID&&this.state==="CONNECTED",this.disconnect=async(t=2e3)=>{var r;rP(this._onlineStatusChanged),this._setState("DISCONNECTED"),(r=this.cancelToken)==null||r.cancel("disconnect() is called"),this.cancelToken=void 0;const n=this.connectionID;this.connectionID=void 0;try{await this._req({close:!0,connection_id:n},{timeout:t},!1),this._log("disconnect() - Closed connectionID")}catch(a){this._log("disconnect() - Failed",{err:a},"error")}},this.client=e,this.state="INIT",this.consecutiveFailures=0,nP(this._onlineStatusChanged)}_log(e,t={},n="info"){this.client.logger(n,"WSConnectionFallback:"+e,{tags:["connection_fallback","connection"],...t})}_setState(e){this._log(`_setState() - ${e}`),this.state==="CONNECTING"&&e==="CONNECTED"&&this.client.dispatchEvent({type:"connection.changed",online:!0}),(e==="CLOSED"||e==="DISCONNECTED")&&this.client.dispatchEvent({type:"connection.changed",online:!1}),this.state=e}},Yk=class{constructor(e,t,n,r){this.client=e,this.type=t,this.id=n,this.data=r}create(){var t,n,r,a,i;const e={name:(t=this.data)==null?void 0:t.name,filter:(n=this.data)==null?void 0:n.filter,description:(r=this.data)==null?void 0:r.description,all_sender_channels:(a=this.data)==null?void 0:a.all_sender_channels,all_users:(i=this.data)==null?void 0:i.all_users};return this.client.createSegment(this.type,this.id,e)}verifySegmentId(){if(!this.id)throw new Error("Segment id is missing. Either create the segment using segment.create() or set the id during instantiation - const segment = client.segment(id)")}get(){return this.verifySegmentId(),this.client.getSegment(this.id)}update(e){return this.verifySegmentId(),this.client.updateSegment(this.id,e)}addTargets(e){return this.verifySegmentId(),this.client.addSegmentTargets(this.id,e)}removeTargets(e){return this.verifySegmentId(),this.client.removeSegmentTargets(this.id,e)}delete(){return this.verifySegmentId(),this.client.deleteSegment(this.id)}targetExists(e){return this.verifySegmentId(),this.client.segmentTargetExists(this.id,e)}queryTargets(e={},t=[],n={}){return this.verifySegmentId(),this.client.querySegmentTargets(this.id,e,t,n)}},Bg={user:"stream:user",message:"stream:chat:v1:message",userprofile:"stream:v1:user_profile"},PK=class{constructor(e){this.client=e}flagUser(e,t,n={}){return this.flag(Bg.user,e,"",t,n)}flagMessage(e,t,n={}){return this.flag(Bg.message,e,"",t,n)}async flag(e,t,n,r,a={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/flag",{entity_type:e,entity_id:t,entity_creator_id:n,reason:r,...a})}async muteUser(e,t={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/mute",{target_ids:[e],...t})}async unmuteUser(e,t){return await this.client.post(this.client.baseURL+"/api/v2/moderation/unmute",{target_ids:[e],...t})}async getUserModerationReport(e,t={}){return await this.client.get(this.client.baseURL+"/api/v2/moderation/user_report",{user_id:e,...t})}async queryReviewQueue(e={},t=[],n={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/review_queue",{filter:e,sort:ni(t),...n})}async upsertConfig(e){return await this.client.post(this.client.baseURL+"/api/v2/moderation/config",e)}async getConfig(e,t){return await this.client.get(this.client.baseURL+"/api/v2/moderation/config/"+e,t)}async deleteConfig(e,t){return await this.client.delete(this.client.baseURL+"/api/v2/moderation/config/"+e,t)}async queryConfigs(e,t,n={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/configs",{filter:e,sort:t,...n})}async submitAction(e,t,n={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/submit_action",{action_type:e,item_id:t,...n})}async check(e,t,n,r,a,i){return await this.client.post(this.client.baseURL+"/api/v2/moderation/check",{entity_type:e,entity_id:t,entity_creator_id:n,moderation_payload:r,config_key:a,options:i})}async checkUserProfile(e,t){if(!t.username&&!t.image)throw new Error("Either username or image must be provided");const n={};return t.username&&(n.texts=[t.username]),t.image&&(n.images=[t.image]),await this.check(Bg.userprofile,e,e,n,"user_profile:default",{force_sync:!0,test_mode:!0})}async addCustomFlags(e,t,n,r,a){return await this.client.post(this.client.baseURL+"/api/v2/moderation/custom_check",{entity_type:e,entity_id:t,entity_creator_id:n,moderation_payload:r,flags:a})}async addCustomMessageFlags(e,t){return await this.addCustomFlags(Bg.message,e,"",{},t)}},IK=1e3,Wk=25,Gk={active:!1,isThreadOrderStale:!1,threads:[],unreadThreadCount:0,unseenThreadIds:[],lastConnectionDropAt:null,pagination:{isLoading:!1,isLoadingNext:!1,nextCursor:null},ready:!1},FK=class{constructor({client:e}){this.unsubscribeFunctions=new Set,this.resetState=()=>{this.state.next(Gk)},this.activate=()=>{this.state.partialNext({active:!0})},this.deactivate=()=>{this.state.partialNext({active:!1})},this.registerSubscriptions=()=>{this.unsubscribeFunctions.size||(this.unsubscribeFunctions.add(this.subscribeUnreadThreadsCountChange()),this.unsubscribeFunctions.add(this.subscribeManageThreadSubscriptions()),this.unsubscribeFunctions.add(this.subscribeReloadOnActivation()),this.unsubscribeFunctions.add(this.subscribeNewReplies()),this.unsubscribeFunctions.add(this.subscribeRecoverAfterConnectionDrop()),this.unsubscribeFunctions.add(this.subscribeChannelDeleted()))},this.subscribeUnreadThreadsCountChange=()=>{const{unread_threads:t=0}=this.client.user??{};this.state.partialNext({unreadThreadCount:t});const n=["health.check","notification.mark_read","notification.thread_message_new","notification.channel_deleted"].map(r=>this.client.on(r,a=>{const{unread_threads:i}=a.me??a;typeof i=="number"&&this.state.partialNext({unreadThreadCount:i})}).unsubscribe);return()=>n.forEach(r=>r())},this.subscribeChannelDeleted=()=>this.client.on("notification.channel_deleted",t=>{const{cid:n}=t,{threads:r}=this.state.getLatestValue(),a=r.filter(i=>i.channel.cid!==n);this.state.partialNext({threads:a})}).unsubscribe,this.subscribeManageThreadSubscriptions=()=>this.state.subscribeWithSelector(t=>({threads:t.threads}),({threads:t},n)=>{const{threads:r=[]}=n??{},a=r.filter(i=>i!==this.threadsById[i.id]);t.forEach(i=>i.registerSubscriptions()),a.forEach(i=>i.unregisterSubscriptions())}),this.subscribeReloadOnActivation=()=>this.state.subscribeWithSelector(t=>({active:t.active}),({active:t})=>{t&&this.reload()}),this.subscribeNewReplies=()=>this.client.on("notification.thread_message_new",t=>{var i;const n=(i=t.message)==null?void 0:i.parent_id;if(!n)return;const{unseenThreadIds:r,ready:a}=this.state.getLatestValue();a&&(this.threadsById[n]?this.state.partialNext({isThreadOrderStale:!0}):r.includes(n)||this.state.partialNext({unseenThreadIds:r.concat(n)}))}).unsubscribe,this.subscribeRecoverAfterConnectionDrop=()=>{const t=this.client.on("connection.changed",a=>{a.online===!1&&this.state.next(i=>i.lastConnectionDropAt?i:{...i,lastConnectionDropAt:new Date})}).unsubscribe,n=oP(()=>{const{lastConnectionDropAt:a}=this.state.getLatestValue();a&&this.reload({force:!0})},IK,{trailing:!0}),r=this.client.on("connection.recovered",n).unsubscribe;return()=>{t(),r()}},this.unregisterSubscriptions=()=>{this.state.getLatestValue().threads.forEach(t=>t.unregisterSubscriptions()),this.unsubscribeFunctions.forEach(t=>t()),this.unsubscribeFunctions.clear()},this.reload=async({force:t=!1}={})=>{const{threads:n,unseenThreadIds:r,isThreadOrderStale:a,pagination:i,ready:s}=this.state.getLatestValue();if(i.isLoading||!t&&s&&!r.length&&!a)return;const o=n.length+r.length;try{this.state.next(f=>({...f,pagination:{...f.pagination,isLoading:!0}}));const c=await this.queryThreads({limit:Math.min(o,Wk)||Wk}),d=[];for(const f of c.threads){const h=this.threadsById[f.id];h?(d.push(h),h.hasStaleState&&h.hydrateState(f)):d.push(f)}this.state.next(f=>({...f,threads:d,unseenThreadIds:[],isThreadOrderStale:!1,pagination:{...f.pagination,isLoading:!1,nextCursor:c.next??null},ready:!0}))}catch(c){this.client.logger("error",c.message),this.state.next(d=>({...d,pagination:{...d.pagination,isLoading:!1}}))}},this.queryThreads=(t={})=>this.client.queryThreads({limit:25,participant_limit:10,reply_limit:10,watch:!0,...t}),this.loadNextPage=async(t={})=>{const{pagination:n}=this.state.getLatestValue();if(!(n.isLoadingNext||!n.nextCursor))try{this.state.partialNext({pagination:{...n,isLoadingNext:!0}});const r=await this.queryThreads({...t,next:n.nextCursor});this.state.next(a=>({...a,threads:r.threads.length?a.threads.concat(r.threads):a.threads,pagination:{...a.pagination,nextCursor:r.next??null,isLoadingNext:!1}}))}catch(r){this.client.logger("error",r.message),this.state.next(a=>({...a,pagination:{...a.pagination,isLoadingNext:!1}}))}},this.client=e,this.state=new ka(Gk),this.threadsByIdGetterCache={threads:[],threadsById:{}}}get threadsById(){const{threads:e}=this.state.getLatestValue();if(e===this.threadsByIdGetterCache.threads)return this.threadsByIdGetterCache.threadsById;const t=e.reduce((n,r)=>(n[r.id]=r,n),{});return this.threadsByIdGetterCache.threads=e,this.threadsByIdGetterCache.threadsById=t,t}},jK=e=>e.type==="poll.updated",UK=e=>e.type==="poll.closed",BK=e=>e.type==="poll.vote_casted",$K=e=>e.type==="poll.vote_changed",zK=e=>e.type==="poll.vote_removed",fl=e=>!!(e!=null&&e.answer_text),Kk=class{constructor({client:t,poll:n}){this.unsubscribeFunctions=new Set,this.getInitialStateFromPollResponse=r=>{const{own_votes:a,id:i,...s}=r,{ownAnswer:o,ownVotes:c}=(a==null?void 0:a.reduce((d,f)=>(fl(f)?d.ownAnswer=f:d.ownVotes.push(f),d),{ownVotes:[]}))??{ownVotes:[]};return{...s,lastActivityAt:new Date,maxVotedOptionIds:kh(s.vote_counts_by_option),ownAnswer:o,ownVotesByOptionId:HK(c)}},this.reinitializeState=r=>{this.state.partialNext(this.getInitialStateFromPollResponse(r))},this.handlePollUpdated=r=>{var s;if((s=r.poll)!=null&&s.id&&r.poll.id!==this.id||!jK(r))return;const{id:a,...i}=VK(r.poll);this.state.partialNext({...i,lastActivityAt:new Date(r.created_at)})},this.handlePollClosed=r=>{var a;(a=r.poll)!=null&&a.id&&r.poll.id!==this.id||UK(r)&&this.state.partialNext({is_closed:!0,lastActivityAt:new Date(r.created_at)})},this.handleVoteCasted=r=>{var h;if((h=r.poll)!=null&&h.id&&r.poll.id!==this.id||!BK(r))return;const a=this.data,i=r.poll_vote.user_id===this.client.userID;let s=[...a.latest_answers],o=a.ownAnswer;const c=a.ownVotesByOptionId;let d=a.maxVotedOptionIds;i&&(fl(r.poll_vote)?o=r.poll_vote:r.poll_vote.option_id&&(c[r.poll_vote.option_id]=r.poll_vote)),fl(r.poll_vote)?s=[r.poll_vote,...s]:d=kh(r.poll.vote_counts_by_option);const f=bw(r.poll);this.state.partialNext({...f,latest_answers:s,lastActivityAt:new Date(r.created_at),ownAnswer:o,ownVotesByOptionId:c,maxVotedOptionIds:d})},this.handleVoteChanged=r=>{var h;if((h=r.poll)!=null&&h.id&&r.poll.id!==this.id||!$K(r))return;const a=this.data,i=r.poll_vote.user_id===this.client.userID;let s=[...a.latest_answers],o=a.ownAnswer,c=a.ownVotesByOptionId,d=a.maxVotedOptionIds;i?fl(r.poll_vote)?(s=[r.poll_vote,...s.filter(m=>m.id!==r.poll_vote.id)],o=r.poll_vote):r.poll_vote.option_id&&(r.poll.enforce_unique_vote?c={[r.poll_vote.option_id]:r.poll_vote}:(c=Object.entries(c).reduce((m,[g,b])=>(g!==r.poll_vote.option_id&&b.id===r.poll_vote.id||(m[g]=b),m),{}),c[r.poll_vote.option_id]=r.poll_vote),(o==null?void 0:o.id)===r.poll_vote.id&&(o=void 0),d=kh(r.poll.vote_counts_by_option)):fl(r.poll_vote)?s=[r.poll_vote,...s]:d=kh(r.poll.vote_counts_by_option);const f=bw(r.poll);this.state.partialNext({...f,latest_answers:s,lastActivityAt:new Date(r.created_at),ownAnswer:o,ownVotesByOptionId:c,maxVotedOptionIds:d})},this.handleVoteRemoved=r=>{var h;if((h=r.poll)!=null&&h.id&&r.poll.id!==this.id||!zK(r))return;const a=this.data,i=r.poll_vote.user_id===this.client.userID;let s=[...a.latest_answers],o=a.ownAnswer;const c={...a.ownVotesByOptionId};let d=a.maxVotedOptionIds;fl(r.poll_vote)?(s=s.filter(m=>m.id!==r.poll_vote.id),i&&(o=void 0)):(d=kh(r.poll.vote_counts_by_option),i&&r.poll_vote.option_id&&delete c[r.poll_vote.option_id]);const f=bw(r.poll);this.state.partialNext({...f,latest_answers:s,lastActivityAt:new Date(r.created_at),ownAnswer:o,ownVotesByOptionId:c,maxVotedOptionIds:d})},this.query=async r=>{const{poll:a}=await this.client.getPoll(r);return this.state.partialNext({...a,lastActivityAt:new Date}),a},this.update=async r=>await this.client.updatePoll({...r,id:this.id}),this.partialUpdate=async r=>await this.client.partialUpdatePoll(this.id,r),this.close=async()=>await this.client.closePoll(this.id),this.delete=async()=>await this.client.deletePoll(this.id),this.createOption=async r=>await this.client.createPollOption(this.id,r),this.updateOption=async r=>await this.client.updatePollOption(this.id,r),this.deleteOption=async r=>await this.client.deletePollOption(this.id,r),this.castVote=async(r,a)=>{const{max_votes_allowed:i,ownVotesByOptionId:s}=this.data;if(i&&i===Object.keys(s).length){let c=Object.values(s)[0];Object.values(s).slice(1).forEach(d=>{(!(c!=null&&c.created_at)||new Date(d.created_at)<new Date(c.created_at))&&(c=d)}),c!=null&&c.id&&await this.removeVote(c.id,a)}return await this.client.castPollVote(a,this.id,{option_id:r})},this.removeVote=async(r,a)=>await this.client.removePollVote(a,this.id,r),this.addAnswer=async(r,a)=>await this.client.addPollAnswer(a,this.id,r),this.removeAnswer=async(r,a)=>await this.client.removePollVote(a,this.id,r),this.queryAnswers=async r=>await this.client.queryPollAnswers(this.id,r.filter,r.sort,r.options),this.queryOptionVotes=async r=>await this.client.queryPollVotes(this.id,r.filter,r.sort,r.options),this.client=t,this.id=n.id,this.state=new ka(this.getInitialStateFromPollResponse(n))}get data(){return this.state.getLatestValue()}};function kh(e){let t=0,n=[];for(const[r,a]of Object.entries(e??{}))a>t?(n=[r],t=a):a===t&&n.push(r);return n}function HK(e){return e?e.reduce((t,n)=>(fl(n)||!n.option_id||(t[n.option_id]=n),t),{}):{}}function VK(e){return{allow_answers:e.allow_answers,allow_user_suggested_options:e.allow_user_suggested_options,description:e.description,enforce_unique_vote:e.enforce_unique_vote,id:e.id,is_closed:e.is_closed,max_votes_allowed:e.max_votes_allowed,name:e.name,options:e.options,voting_visibility:e.voting_visibility}}function bw(e){return{answers_count:e.answers_count,latest_votes_by_option:e.latest_votes_by_option,vote_count:e.vote_count,vote_counts_by_option:e.vote_counts_by_option}}var qK=class{constructor({client:e}){this.pollCache=new Map,this.unsubscribeFunctions=new Set,this.fromState=t=>this.pollCache.get(t),this.registerSubscriptions=()=>{this.unsubscribeFunctions.size||(this.unsubscribeFunctions.add(this.subscribeMessageNew()),this.unsubscribeFunctions.add(this.subscribePollUpdated()),this.unsubscribeFunctions.add(this.subscribePollClosed()),this.unsubscribeFunctions.add(this.subscribeVoteCasted()),this.unsubscribeFunctions.add(this.subscribeVoteChanged()),this.unsubscribeFunctions.add(this.subscribeVoteRemoved()))},this.unregisterSubscriptions=()=>{this.unsubscribeFunctions.forEach(t=>t()),this.unsubscribeFunctions.clear()},this.createPoll=async t=>{const{poll:n}=await this.client.createPoll(t);return new Kk({client:this.client,poll:n})},this.getPoll=async t=>{const n=this.fromState(t);if(n)return this.client.getPoll(t).then(({poll:a})=>this.setOrOverwriteInCache(a,!0)),n;const{poll:r}=await this.client.getPoll(t);return this.setOrOverwriteInCache(r),this.fromState(t)},this.queryPolls=async(t,n=[],r={})=>{const{polls:a,next:i}=await this.client.queryPolls(t,n,r);return{polls:a.map(o=>(this.setOrOverwriteInCache(o,!0),this.fromState(o.id))),next:i}},this.hydratePollCache=(t,n)=>{for(const r of t){if(!r.poll)continue;const a=r.poll;this.setOrOverwriteInCache(a,n)}},this.setOrOverwriteInCache=(t,n)=>{if(!this.client._cacheEnabled())return;const r=this.fromState(t.id);if(r)n&&r.reinitializeState(t);else{const a=new Kk({client:this.client,poll:t});this.pollCache.set(a.id,a)}},this.subscribePollUpdated=()=>this.client.on("poll.updated",t=>{var n,r;(n=t.poll)!=null&&n.id&&((r=this.fromState(t.poll.id))==null||r.handlePollUpdated(t))}).unsubscribe,this.subscribePollClosed=()=>this.client.on("poll.closed",t=>{var n,r;(n=t.poll)!=null&&n.id&&((r=this.fromState(t.poll.id))==null||r.handlePollClosed(t))}).unsubscribe,this.subscribeVoteCasted=()=>this.client.on("poll.vote_casted",t=>{var n,r;(n=t.poll)!=null&&n.id&&((r=this.fromState(t.poll.id))==null||r.handleVoteCasted(t))}).unsubscribe,this.subscribeVoteChanged=()=>this.client.on("poll.vote_changed",t=>{var n,r;(n=t.poll)!=null&&n.id&&((r=this.fromState(t.poll.id))==null||r.handleVoteChanged(t))}).unsubscribe,this.subscribeVoteRemoved=()=>this.client.on("poll.vote_removed",t=>{var n,r;(n=t.poll)!=null&&n.id&&((r=this.fromState(t.poll.id))==null||r.handleVoteRemoved(t))}).unsubscribe,this.subscribeMessageNew=()=>this.client.on("message.new",t=>{const{message:n}=t;if(n){const r=Ji(n);this.hydratePollCache([r])}}).unsubscribe,this.client=e}get data(){return this.pollCache}},Qk={"channel.deleted":"channelDeletedHandler","channel.hidden":"channelHiddenHandler","channel.truncated":"channelTruncatedHandler","channel.updated":"channelUpdatedHandler","channel.visible":"channelVisibleHandler","message.new":"newMessageHandler","member.updated":"memberUpdatedHandler","notification.added_to_channel":"notificationAddedToChannelHandler","notification.message_new":"notificationNewMessageHandler","notification.removed_from_channel":"notificationRemovedFromChannelHandler"},YK={abortInFlightQuery:!1,allowNotLoadedChannelPromotionForEvent:{"channel.visible":!0,"message.new":!0,"notification.added_to_channel":!0,"notification.message_new":!0},lockChannelOrder:!1},_w={limit:10,offset:0},WK=class{constructor({client:e,eventHandlerOverrides:t={},options:n={}}){this.unsubscribeFunctions=new Set,this.eventHandlers=new Map,this.eventHandlerOverrides=new Map,this.options={},this.stateOptions={},this.setChannels=r=>{this.state.next(a=>{const{channels:i}=a,s=hP(r)?r(i):r;return i===s?a:{...a,channels:s}})},this.setEventHandlerOverrides=(r={})=>{const a=Object.entries(r).reduce((i,[s,o])=>(o&&(i[s]=o),i),{});this.eventHandlerOverrides=new Map(Object.entries(a))},this.setOptions=(r={})=>{this.options={...YK,...r}},this.queryChannels=async(r,a=[],i={},s={})=>{const{offset:o,limit:c}={..._w,...i},{pagination:{isLoading:d}}=this.state.getLatestValue();if(!(d&&!this.options.abortInFlightQuery))try{this.stateOptions=s,this.state.next(b=>({...b,pagination:{...b.pagination,isLoading:!0,isLoadingNext:!1,filters:r,sort:a,options:i}}));const f=await this.client.queryChannels(r,a,i,s),h=o+((f==null?void 0:f.length)??0),m={...i,offset:h},{pagination:g}=this.state.getLatestValue();this.state.partialNext({channels:f,pagination:{...g,hasNext:((f==null?void 0:f.length)??0)>=c,isLoading:!1,options:m},initialized:!0})}catch(f){throw this.client.logger("error",f.message),this.state.next(h=>({...h,pagination:{...h.pagination,isLoading:!1}})),f}},this.loadNext=async()=>{const{pagination:r,initialized:a}=this.state.getLatestValue(),{filters:i,sort:s,options:o,isLoadingNext:c,hasNext:d}=r;if(!(!a||c||!d))try{const{offset:f,limit:h}={..._w,...o};this.state.partialNext({pagination:{...r,isLoading:!1,isLoadingNext:!0}});const m=await this.client.queryChannels(i,s,o,this.stateOptions),{channels:g}=this.state.getLatestValue(),b=f+((m==null?void 0:m.length)??0),_={...o,offset:b};this.state.partialNext({channels:RW([...g||[],...m],"cid"),pagination:{...r,hasNext:((m==null?void 0:m.length)??0)>=h,isLoading:!1,isLoadingNext:!1,options:_}})}catch(f){throw this.client.logger("error",f.message),this.state.next(h=>({...h,pagination:{...h.pagination,isLoadingNext:!1}})),f}},this.notificationAddedToChannelHandler=async r=>{var h;const{id:a,type:i,members:s}=(r==null?void 0:r.channel)??{};if(!i||!((h=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&h["notification.added_to_channel"]))return;const o=await uw({client:this.client,id:a,members:s==null?void 0:s.reduce((m,{user:g,user_id:b})=>{const _=b||(g==null?void 0:g.id);return _&&m.push(_),m},[]),type:i}),{pagination:c,channels:d}=this.state.getLatestValue();if(!d)return;const{sort:f}=c??{};this.setChannels(Ig({channels:d,channelToMove:o,sort:f}))},this.channelDeletedHandler=r=>{const{channels:a}=this.state.getLatestValue();if(!a)return;const i=[...a],s=i.findIndex(o=>{var c;return o.cid===(r.cid||((c=r.channel)==null?void 0:c.cid))});s<0||(i.splice(s,1),this.setChannels(i))},this.channelHiddenHandler=this.channelDeletedHandler,this.newMessageHandler=r=>{var x;const{pagination:a,channels:i}=this.state.getLatestValue();if(!i)return;const{filters:s,sort:o}=a??{},c=r.channel_type,d=r.channel_id;if(!c||!d)return;const f=this.client.channel(c,d),h=i.indexOf(f),m=h>=0,g=vv(f),b=Ng(f),_=Pg(s),w=cC(o);_&&b&&!s.archived||_&&!b&&s.archived||w&&g||this.options.lockChannelOrder||!m&&!((x=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&x["message.new"])||this.setChannels(Ig({channels:i,channelToMove:f,channelToMoveIndexWithinChannels:h,sort:o}))},this.notificationNewMessageHandler=async r=>{var g;const{id:a,type:i}=(r==null?void 0:r.channel)??{};if(!a||!i)return;const s=await uw({client:this.client,id:a,type:i}),{channels:o,pagination:c}=this.state.getLatestValue(),{filters:d,sort:f}=c??{},h=Pg(d),m=Ng(s);!o||h&&m&&!d.archived||h&&!m&&d.archived||!((g=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&g["notification.message_new"])||this.setChannels(Ig({channels:o,channelToMove:s,sort:f}))},this.channelVisibleHandler=async r=>{var g;const{channel_type:a,channel_id:i}=r;if(!a||!i)return;const s=await uw({client:this.client,id:r.channel_id,type:r.channel_type}),{channels:o,pagination:c}=this.state.getLatestValue(),{sort:d,filters:f}=c??{},h=Pg(f),m=Ng(s);!o||h&&m&&!f.archived||h&&!m&&f.archived||!((g=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&g["channel.visible"])||this.setChannels(Ig({channels:o,channelToMove:s,sort:d}))},this.notificationRemovedFromChannelHandler=this.channelDeletedHandler,this.memberUpdatedHandler=r=>{var O;const{pagination:a,channels:i}=this.state.getLatestValue(),{filters:s,sort:o}=a;if(!((O=r.member)!=null&&O.user)||r.member.user.id!==this.client.userID||!r.channel_type||!r.channel_id)return;const c=r.channel_type,d=r.channel_id,f=cC(o),h=Pg(s),m=cP({atIndex:0,sort:o,targetKey:"pinned_at"});if(!i||!f&&!h||this.options.lockChannelOrder)return;const g=this.client.channel(c,d),b=i.indexOf(g),_=b>=0,w=vv(g),x=Ng(g),k=[...i];if(_&&k.splice(b,1),h&&!x&&(s!=null&&s.archived)||h&&x&&!(s!=null&&s.archived)){this.setChannels(k);return}let R=null;(m===1||m===-1&&!w)&&(R=uP({channels:k}));const I=typeof R=="number"?R+1:0;i[I]!==g&&(k.splice(I,0,g),this.setChannels(k))},this.subscriptionOrOverride=r=>{const a=Qk[r.type],i=this.eventHandlers.get(a),s=this.eventHandlerOverrides.get(a);if(s&&typeof s=="function"){s(this.setChannels,r);return}i&&typeof i=="function"&&i(r)},this.registerSubscriptions=()=>{if(!this.unsubscribeFunctions.size)for(const r of Object.keys(Qk))this.unsubscribeFunctions.add(this.client.on(r,this.subscriptionOrOverride).unsubscribe)},this.unregisterSubscriptions=()=>{this.unsubscribeFunctions.forEach(r=>r()),this.unsubscribeFunctions.clear()},this.client=e,this.state=new ka({channels:[],pagination:{isLoading:!1,isLoadingNext:!1,hasNext:!1,filters:{},sort:{},options:_w},initialized:!1}),this.setEventHandlerOverrides(t),this.setOptions(n),this.eventHandlers=new Map(Object.entries({channelDeletedHandler:this.channelDeletedHandler,channelHiddenHandler:this.channelHiddenHandler,channelVisibleHandler:this.channelVisibleHandler,memberUpdatedHandler:this.memberUpdatedHandler,newMessageHandler:this.newMessageHandler,notificationAddedToChannelHandler:this.notificationAddedToChannelHandler,notificationNewMessageHandler:this.notificationNewMessageHandler,notificationRemovedFromChannelHandler:this.notificationRemovedFromChannelHandler}))}},GK={error:1e4,warning:5e3,info:3e3,success:3e3},KK=class{constructor(e={}){this.timeouts=new Map,this.store=new ka({notifications:[]}),this.config={...e,durations:e.durations||GK}}get notifications(){return this.store.getLatestValue().notifications}get warning(){return this.notifications.filter(e=>e.severity==="warning")}get error(){return this.notifications.filter(e=>e.severity==="error")}get info(){return this.notifications.filter(e=>e.severity==="info")}get success(){return this.notifications.filter(e=>e.severity==="success")}add({message:e,origin:t,options:n={}}){const r=Xs(),a=Date.now(),i={id:r,message:e,origin:t,severity:n.severity||"info",createdAt:a,expiresAt:n.duration?a+n.duration:void 0,autoClose:n.autoClose??!0,actions:n.actions,metadata:n.metadata};if(this.store.partialNext({notifications:[...this.store.getLatestValue().notifications,i]}),i.autoClose&&i.expiresAt){const s=setTimeout(()=>{this.remove(r)},n.duration||this.config.durations[i.severity]);this.timeouts.set(r,s)}return r}addError({message:e,origin:t,options:n}){return this.add({message:e,origin:t,options:{...n,severity:"error"}})}addWarning({message:e,origin:t,options:n}){return this.add({message:e,origin:t,options:{...n,severity:"warning"}})}addInfo({message:e,origin:t,options:n}){return this.add({message:e,origin:t,options:{...n,severity:"info"}})}addSuccess({message:e,origin:t,options:n}){return this.add({message:e,origin:t,options:{...n,severity:"success"}})}remove(e){const t=this.timeouts.get(e);t&&(clearTimeout(t),this.timeouts.delete(e)),this.store.partialNext({notifications:this.store.getLatestValue().notifications.filter(n=>n.id!==e)})}clear(){this.timeouts.forEach(e=>clearTimeout(e)),this.timeouts.clear(),this.store.partialNext({notifications:[]})}};function ww(e){return typeof e=="string"||e instanceof String}var dS=class eu{constructor(t,n,r){var i;this.nextRequestAbortController=null,this._messageComposerSetupState=new ka({setupFunction:null}),this._getConnectionID=()=>{var s,o;return((s=this.wsConnection)==null?void 0:s.connectionID)||((o=this.wsFallback)==null?void 0:o.connectionID)},this._hasConnectionID=()=>!!this._getConnectionID(),this.connectUser=async(s,o)=>{if(!s.id)throw new Error('The "id" field on the user is missing');if(this.userID===s.id&&this.setUserPromise)return console.warn("Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),this.setUserPromise;if(this.userID)throw new Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");(this._isUsingServerAuth()||this.node)&&!this.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),this.userID=s.id,this.anonymous=!1;const c=this._setToken(s,o);this._setUser(s);const d=this.openConnection();this.setUserPromise=Promise.all([c,d]).then(f=>f[1]);try{return await this.setUserPromise}catch(f){throw this.persistUserOnConnectionFailure?this.closeConnection():this.disconnectUser(),f}},this.setUser=this.connectUser,this._setToken=(s,o)=>this.tokenManager.setTokenOrProvider(o,s),this.closeConnection=async s=>{var o,c;return this.cleaningIntervalRef!=null&&(clearInterval(this.cleaningIntervalRef),this.cleaningIntervalRef=void 0),await Promise.all([(o=this.wsConnection)==null?void 0:o.disconnect(s),(c=this.wsFallback)==null?void 0:c.disconnect(s)]),Promise.resolve()},this.createChannelManager=({eventHandlerOverrides:s={},options:o={}})=>new WK({client:this,eventHandlerOverrides:s,options:o}),this.openConnection=()=>{var s,o,c;if(!this.userID)throw Error("User is not set on client, use client.connectUser or client.connectAnonymousUser instead");if((s=this.wsConnection)!=null&&s.isConnecting&&this.wsPromise)return this.logger("info","client:openConnection() - connection already in progress",{tags:["connection","client"]}),this.wsPromise;if(((o=this.wsConnection)!=null&&o.isHealthy||(c=this.wsFallback)!=null&&c.isHealthy())&&this._hasConnectionID()){this.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists",{tags:["connection","client"]});return}return this.clientID=`${this.userID}--${Od()}`,this.wsPromise=this.connect(),this._startCleaning(),this.wsPromise},this._setupConnection=this.openConnection,this._normalizeDate=s=>{if(s instanceof Date&&(s=s.toISOString()),s==="")throw new Error("Don't pass blank string for since, use null instead if resetting the token revoke");return s},this.disconnectUser=s=>{this.logger("info","client:disconnect() - Disconnecting the client",{tags:["connection","client"]}),delete this.user,delete this._user,delete this.userID,this.anonymous=!1;const o=this.closeConnection(s);for(const c of Object.values(this.activeChannels))c._disconnect();return this.activeChannels={},this.state=new zk({client:this}),this.threads.resetState(),setTimeout(this.tokenManager.reset),o},this.disconnect=this.disconnectUser,this.connectAnonymousUser=()=>{(this._isUsingServerAuth()||this.node)&&!this.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),this.anonymous=!0,this.userID=Od();const s={id:this.userID,anon:!0};return this._setToken(s,""),this._setUser(s),this._setupConnection()},this.setAnonymousUser=this.connectAnonymousUser,this.doAxiosRequest=async(s,o,c,d={})=>{var h;await this.tokenManager.tokenReady();const f=this._enrichAxiosOptions(d);try{let m;switch(this._logApiRequest(s,o,c,f),s){case"get":m=await this.axiosInstance.get(o,f);break;case"delete":m=await this.axiosInstance.delete(o,f);break;case"post":m=await this.axiosInstance.post(o,c,f);break;case"postForm":m=await this.axiosInstance.postForm(o,c,f);break;case"put":m=await this.axiosInstance.put(o,c,f);break;case"patch":m=await this.axiosInstance.patch(o,c,f);break;case"options":m=await this.axiosInstance.options(o,f);break;default:throw new Error("Invalid request type")}return this._logApiResponse(s,o,m),this.consecutiveFailures=0,this.handleResponse(m)}catch(m){if(m.client_request_id=(h=f.headers)==null?void 0:h["x-client-request-id"],this._logApiError(s,o,m),this.consecutiveFailures+=1,m.response)return m.response.data.code===Hh.TOKEN_EXPIRED&&!this.tokenManager.isStatic()?(this.consecutiveFailures>1&&await mu(yv(this.consecutiveFailures)),this.tokenManager.loadToken(),await this.doAxiosRequest(s,o,c,d)):this.handleResponse(m.response);throw m}},this.dispatchEvent=s=>{s.received_at||(s.received_at=new Date);const o=this._handleClientEvent(s),c=s.cid,d=c?this.activeChannels[c]:void 0;d&&d._handleChannelEvent(s),this._callClientListeners(s),d&&d._callChannelListeners(s),o.forEach(f=>f())},this.handleEvent=s=>{const o=s.data,c=JSON.parse(o);this.dispatchEvent(c)},this._updateMemberWatcherReferences=s=>{const o=this.state.userChannelReferences[s.id]||{};for(const c in o){const d=this.activeChannels[c];d!=null&&d.state&&(d.state.members[s.id]&&(d.state.members[s.id].user=s),d.state.watchers[s.id]&&(d.state.watchers[s.id]=s),d.state.read[s.id]&&(d.state.read[s.id].user=s))}},this._updateUserReferences=this._updateMemberWatcherReferences,this._updateUserMessageReferences=s=>{const o=this.state.userChannelReferences[s.id]||{};for(const c in o){const d=this.activeChannels[c];if(!d)continue;const f=d.state;f==null||f.updateUserMessages(s)}},this._deleteUserMessageReference=(s,o=!1)=>{const c=this.state.userChannelReferences[s.id]||{};for(const d in c){const f=this.activeChannels[d];if(f){const h=f.state;h==null||h.deleteUserMessages(s,o)}}},this._handleUserEvent=s=>{if(s.user){if(s.type==="user.presence.changed"||s.type==="user.updated"){if(s.user.id===this.userID){const o={...this.user},c={...this._user};for(const d in this.user){if(d in s.user||bW(d))continue;const f=d;delete o[f],delete c[f]}for(const d in c){const f=d;f in s.user&&(c[f]=s.user[f])}this._user=c,this.user={...o,...s.user}}this.state.updateUser(s.user),this._updateMemberWatcherReferences(s.user)}s.type==="user.updated"&&this._updateUserMessageReferences(s.user),s.type==="user.deleted"&&s.user.deleted_at&&(s.mark_messages_deleted||s.hard_delete)&&this._deleteUserMessageReference(s.user,s.hard_delete)}},this._callClientListeners=s=>{const o=this,c=[];o.listeners.all&&c.push(...o.listeners.all),o.listeners[s.type]&&c.push(...o.listeners[s.type]);for(const d of c)d(s)},this.recoverState=async()=>{this.logger("info",`client:recoverState() - Start of recoverState with connectionID ${this._getConnectionID()}`,{tags:["connection"]});const s=Object.keys(this.activeChannels);s.length&&this.recoverStateOnReconnect?(this.logger("info",`client:recoverState() - Start the querying of ${s.length} channels`,{tags:["connection","client"]}),await this.queryChannels({cid:{$in:s}},{last_message_at:-1},{limit:30}),this.logger("info","client:recoverState() - Querying channels finished",{tags:["connection","client"]}),this.dispatchEvent({type:"connection.recovered"})):this.dispatchEvent({type:"connection.recovered"}),this.wsPromise=Promise.resolve(),this.setUserPromise=Promise.resolve()},this.getChannelByMembers=(s,o)=>{const c=(o.members??[]).map(m=>typeof m=="string"?m:m.user_id??""),d=c.sort().join(","),f=GD(s,c);if(!f)throw Error("Please specify atleast one member when creating unique conversation");for(const m in this.activeChannels){const g=this.activeChannels[m];if(!g.disconnected&&(m===f||m.indexOf(`${s}:!members-`)===0&&Object.keys(g.state.members).sort().join(",")===d))return g}const h=new Ud(this,s,void 0,o);return this._cacheEnabled()&&(this.activeChannels[f]=h),h},this.getChannelById=(s,o,c)=>{if(typeof o=="string"&&~o.indexOf(":"))throw Error(`Invalid channel id ${o}, can't contain the : character`);const d=`${s}:${o}`;if(d in this.activeChannels&&this.activeChannels[d]&&!this.activeChannels[d].disconnected){const h=this.activeChannels[d];return Object.keys(c).length>0&&(h.data={...h.data,...c},h._data={...h._data,...c}),h}const f=new Ud(this,s,o,c);return this._cacheEnabled()&&(this.activeChannels[f.cid]=f),f},this.updateUsers=this.upsertUsers,this.updateUser=this.upsertUser,this._unblockMessage=this.unblockMessage,this.markAllRead=this.markChannelsRead,this._isUsingServerAuth=()=>!!this.secret,this._cacheEnabled=()=>!this._isUsingServerAuth()||!this.options.disableCache,this._buildWSPayload=s=>JSON.stringify({user_id:this.userID,user_details:this._user,device:this.options.device,client_request_id:s}),this.setMessageComposerSetupFunction=s=>{this._messageComposerSetupState.partialNext({setupFunction:s})},this.key=t,this.listeners={},this.state=new zk({client:this}),this.mutedChannels=[],this.mutedUsers=[],this.moderation=new PK(this),this.notifications=(r==null?void 0:r.notifications)??new KK,n&&ww(n)&&(this.secret=n);const a=r||(n&&!ww(n)?n:{});this.browser=typeof a.browser<"u"?a.browser:typeof window<"u",this.node=!this.browser,this.options={timeout:3e3,withCredentials:!1,warmUp:!1,recoverStateOnReconnect:!0,disableCache:!1,wsUrlParams:new URLSearchParams({}),...a},this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new sW.default.Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.axiosInstance=Sp.create(this.options),this.setBaseURL(this.options.baseURL||"https://chat.stream-io-api.com"),typeof process<"u"&&"env"in process&&aw.STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030"),typeof process<"u"&&"env"in process&&aw.STREAM_LOCAL_TEST_HOST&&this.setBaseURL("http://"+aw.STREAM_LOCAL_TEST_HOST),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.activeChannels={},this.configs={},this.anonymous=!1,this.persistUserOnConnectionFailure=(i=this.options)==null?void 0:i.persistUserOnConnectionFailure,this.tokenManager=new TK(this.secret),this.consecutiveFailures=0,this.insightMetrics=new bK,this.defaultWSTimeoutWithFallback=6*1e3,this.defaultWSTimeout=15*1e3,this.axiosInstance.defaults.paramsSerializer=EW,this.logger=oC(a.logger)?a.logger:()=>null,this.recoverStateOnReconnect=this.options.recoverStateOnReconnect,this.threads=new FK({client:this}),this.polls=new qK({client:this})}static getInstance(t,n,r){return eu._instance||(typeof n=="string"?eu._instance=new eu(t,n,r):eu._instance=new eu(t,n)),eu._instance}devToken(t){return EK(t)}getAuthType(){return this.anonymous?"anonymous":"jwt"}setBaseURL(t){this.baseURL=t,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")}_setUser(t){this.user=t,this.userID=t.id,this._user={...t}}async updateAppSettings(t){const n=t.apn_config;return n!=null&&n.p12_cert&&(t={...t,apn_config:{...n,p12_cert:Buffer.from(n.p12_cert).toString("base64")}}),await this.patch(this.baseURL+"/app",t)}async revokeTokens(t){return await this.updateAppSettings({revoke_tokens_issued_before:this._normalizeDate(t)})}async revokeUserToken(t,n){return await this.revokeUsersToken([t],n)}async revokeUsersToken(t,n){n===void 0?n=new Date().toISOString():n=this._normalizeDate(n);const r=[];for(const a of t)r.push({id:a,set:{revoke_tokens_issued_before:n}});return await this.partialUpdateUsers(r)}async getAppSettings(){return this.appSettingsPromise=this.get(this.baseURL+"/app"),await this.appSettingsPromise}async testPushSettings(t,n={}){return await this.post(this.baseURL+"/check_push",{user_id:t,...n.messageID?{message_id:n.messageID}:{},...n.apnTemplate?{apn_template:n.apnTemplate}:{},...n.firebaseTemplate?{firebase_template:n.firebaseTemplate}:{},...n.firebaseDataTemplate?{firebase_data_template:n.firebaseDataTemplate}:{},...n.skipDevices?{skip_devices:!0}:{},...n.pushProviderName?{push_provider_name:n.pushProviderName}:{},...n.pushProviderType?{push_provider_type:n.pushProviderType}:{}})}async testSQSSettings(t={}){return await this.post(this.baseURL+"/check_sqs",t)}async testSNSSettings(t={}){return await this.post(this.baseURL+"/check_sns",t)}async setGuestUser(t){let n;this.anonymous=!0;try{n=await this.post(this.baseURL+"/guest",{user:t})}catch(c){throw this.anonymous=!1,c}this.anonymous=!1;const{created_at:r,updated_at:a,last_active:i,online:s,...o}=n.user;return await this.connectUser(o,n.access_token)}createToken(t,n,r){if(this.secret==null)throw Error("tokens can only be created server-side using the API Secret");const a={};return n&&(a.exp=n),r&&(a.iat=r),AP(this.secret,t,a,{})}on(t,n){const r=n?t:"all",a=n||t;return r in this.listeners||(this.listeners[r]=[]),this.logger("info",`Attaching listener for ${r} event`,{tags:["event","client"]}),this.listeners[r].push(a),{unsubscribe:()=>{this.logger("info",`Removing listener for ${r} event`,{tags:["event","client"]}),this.listeners[r]=this.listeners[r].filter(i=>i!==a)}}}off(t,n){const r=n?t:"all",a=n||t;r in this.listeners||(this.listeners[r]=[]),this.logger("info",`Removing listener for ${r} event`,{tags:["event","client"]}),this.listeners[r]=this.listeners[r].filter(i=>i!==a)}_logApiRequest(t,n,r,a){this.logger("info",`client: ${t} - Request - ${n}`,{tags:["api","api_request","client"],url:n,payload:r,config:a})}_logApiResponse(t,n,r){this.logger("info",`client:${t} - Response - url: ${n} > status ${r.status}`,{tags:["api","api_response","client"],url:n,response:r})}_logApiError(t,n,r){this.logger("error",`client:${t} - Error - url: ${n}`,{tags:["api","api_response","client"],url:n,error:r})}get(t,n){return this.doAxiosRequest("get",t,null,{params:n})}put(t,n){return this.doAxiosRequest("put",t,n)}post(t,n){return this.doAxiosRequest("post",t,n)}patch(t,n){return this.doAxiosRequest("patch",t,n)}delete(t,n){return this.doAxiosRequest("delete",t,null,{params:n})}sendFile(t,n,r,a,i){const s=_W(n,r,a||"multipart/form-data");return i!=null&&s.append("user",JSON.stringify(i)),this.doAxiosRequest("postForm",t,s,{headers:s.getHeaders?s.getHeaders():{},config:{timeout:0,maxContentLength:1/0,maxBodyLength:1/0}})}errorFromResponse(t){const n=typeof t.data.code<"u"?`StreamChat error code ${t.data.code}: ${t.data.message}`:`StreamChat error HTTP code: ${t.status}`;return new kG(n,{code:t.data.code??null,response:t,status:t.status})}handleResponse(t){const n=t.data;if(LK(t))throw this.errorFromResponse(t);return n}_handleClientEvent(t){var a,i,s;const n=this,r=[];return this.logger("info",`client:_handleClientEvent - Received event of type { ${t.type} }`,{tags:["event","client"],event:t}),(t.type==="user.presence.changed"||t.type==="user.updated"||t.type==="user.deleted")&&this._handleUserEvent(t),t.type==="health.check"&&t.me&&(n.user=t.me,n.state.updateUser(t.me),n.mutedChannels=t.me.channel_mutes,n.mutedUsers=t.me.mutes),t.channel&&t.type==="notification.message_new"&&this._addChannelConfig(t.channel),t.type==="notification.channel_mutes_updated"&&((a=t.me)!=null&&a.channel_mutes)&&(this.mutedChannels=t.me.channel_mutes),t.type==="notification.mutes_updated"&&((i=t.me)!=null&&i.mutes)&&(this.mutedUsers=t.me.mutes),t.type==="notification.mark_read"&&t.unread_channels===0&&Object.keys(this.activeChannels).forEach(c=>this.activeChannels[c].state.unreadCount=0),(t.type==="channel.deleted"||t.type==="notification.channel_deleted")&&t.cid&&(n.state.deleteAllChannelReference(t.cid),(s=this.activeChannels[t.cid])==null||s._disconnect(),r.push(()=>{t.cid&&delete this.activeChannels[t.cid]})),r}_muteStatus(t){var r;let n;for(let a=0;a<this.mutedChannels.length;a++){const i=this.mutedChannels[a];if(((r=i.channel)==null?void 0:r.cid)===t){n={muted:i.expires?new Date(i.expires).getTime()>new Date().getTime():!0,createdAt:i.created_at?new Date(i.created_at):new Date,expiresAt:i.expires?new Date(i.expires):null};break}}return n||{muted:!1,createdAt:null,expiresAt:null}}async connect(){if(!this.userID||!this._user)throw Error("Call connectUser or connectAnonymousUser before starting the connection");if(!this.wsBaseURL)throw Error("Websocket base url not set");if(!this.clientID)throw Error("clientID is not set");!this.wsConnection&&(this.options.warmUp||this.options.enableInsights)&&this._sayHi(),this.options.wsConnection&&this.node?(this.options.wsConnection.setClient(this),this.wsConnection=this.options.wsConnection):this.wsConnection=new DK({client:this});try{return this.wsFallback?await this.wsFallback.connect():await this.wsConnection.connect(this.options.enableWSFallback?this.defaultWSTimeoutWithFallback:this.defaultWSTimeout)}catch(t){if(this.options.enableWSFallback&&OK(t)&&SW())return this.logger("info","client:connect() - WS failed, fallback to longpoll",{tags:["connection","client"]}),this.dispatchEvent({type:"transport.changed",mode:"longpoll"}),this.wsConnection._destroyCurrentWSConnection(),this.wsConnection.disconnect().then(),this.wsFallback=new NK({client:this}),await this.wsFallback.connect();throw t}}_sayHi(){const t=Od(),n={headers:{"x-client-request-id":t}};this.doAxiosRequest("get",this.baseURL+"/hi",null,n).catch(r=>{this.options.enableInsights&&qh("http_hi_failed",{api_key:this.key,err:r,client_request_id:t})})}async queryUsers(t,n=[],r={}){const a={presence:!1};await this.wsPromise,this._hasConnectionID()||(a.presence=!1);const i=await this.get(this.baseURL+"/users",{payload:{filter_conditions:t,sort:ni(n),...a,...r}});return this.state.updateUsers(i.users),i}async queryBannedUsers(t={},n=[],r={}){return await this.get(this.baseURL+"/query_banned_users",{payload:{filter_conditions:t,sort:ni(n),...r}})}async queryMessageFlags(t={},n={}){return await this.get(this.baseURL+"/moderation/flags/message",{payload:{filter_conditions:t,...n}})}async queryChannelsRequest(t,n=[],r={}){const a={state:!0,watch:!0,presence:!1};await this.wsPromise,this._hasConnectionID()||(a.watch=!1);const i={filter_conditions:t,sort:ni(n),...a,...r};return(await this.post(this.baseURL+"/channels",i)).channels}async queryChannels(t,n=[],r={},a={}){const i=await this.queryChannelsRequest(t,n,r);return this.dispatchEvent({type:"channels.queried",queriedChannels:{channels:i,isLatestMessageSet:!0}}),this.hydrateActiveChannels(i,a,r)}async queryReactions(t,n,r=[],a={}){await this.wsPromise;const i={filter:n,sort:ni(r),...a};return await this.post(this.baseURL+"/messages/"+encodeURIComponent(t)+"/reactions",i)}hydrateActiveChannels(t=[],n={},r){const{skipInitialization:a,offlineMode:i=!1}=n,s=[];for(const o of t){this._addChannelConfig(o.channel);const c=this.channel(o.channel.type,o.channel.id);c.data=o.channel,c.offlineMode=i,c.initialized=!i,c.push_preferences=o.push_preferences;let d;if(a===void 0){const{messageSet:f}=c._initializeState(o,"latest");d=f}else if(!a.includes(o.channel.id)){c.state.clearMessages();const{messageSet:f}=c._initializeState(o,"latest");d=f}d&&(d.pagination={...d.pagination,...lP({parentSet:d,requestedPageSize:(r==null?void 0:r.message_limit)||lW,returnedPage:o.messages,logger:this.logger})},this.polls.hydratePollCache(o.messages,!0)),o.draft&&c.messageComposer.initState({composition:o.draft}),s.push(c)}return s}async search(t,n,r={}){if(r.offset&&r.next)throw Error("Cannot specify offset with next");const a={filter_conditions:t,...r,sort:r.sort?ni(r.sort):void 0};if(typeof n=="string")a.query=n;else if(typeof n=="object")a.message_filter_conditions=n;else throw Error(`Invalid type ${typeof n} for query parameter`);return await this.wsPromise,await this.get(this.baseURL+"/search",{payload:a})}setLocalDevice(t){var n,r,a;if((n=this.wsConnection)!=null&&n.isConnecting&&this.wsPromise||((r=this.wsConnection)!=null&&r.isHealthy||(a=this.wsFallback)!=null&&a.isHealthy())&&this._hasConnectionID())throw new Error("you can only set device before opening a websocket connection");this.options.device=t}async addDevice(t,n,r,a){return await this.post(this.baseURL+"/devices",{id:t,push_provider:n,...r!=null?{user_id:r}:{},...a!=null?{push_provider_name:a}:{}})}async getDevices(t){return await this.get(this.baseURL+"/devices",t?{user_id:t}:{})}async getUnreadCount(t){return await this.get(this.baseURL+"/unread",t?{user_id:t}:{})}async getUnreadCountBatch(t){return await this.post(this.baseURL+"/unread_batch",{user_ids:t})}async setPushPreferences(t){return await this.post(this.baseURL+"/push_preferences",{preferences:t})}async removeDevice(t,n){return await this.delete(this.baseURL+"/devices",{id:t,...n?{user_id:n}:{}})}getRateLimits(t){const{serverSide:n,web:r,android:a,ios:i,endpoints:s}=t||{};return this.get(this.baseURL+"/rate_limits",{server_side:n,web:r,android:a,ios:i,endpoints:s?s.join(","):void 0})}_addChannelConfig({cid:t,config:n}){this._cacheEnabled()&&(this.configs[t]=n)}channel(t,n,r={}){var a;if(!this.userID&&!this._isUsingServerAuth())throw Error("Call connectUser or connectAnonymousUser before creating a channel");if(~t.indexOf(":"))throw new Error(`Invalid channel group ${t}, can't contain the : character`);return n&&typeof n=="object"?this.getChannelByMembers(t,n):!n&&typeof r=="object"&&((a=r.members)!=null&&a.length)?this.getChannelByMembers(t,r):n?this.getChannelById(t,n,r):new Ud(this,t,void 0,r)}async partialUpdateUser(t){return await this.partialUpdateUsers([t])}async upsertUsers(t){const n={};for(const r of t){if(!r.id)throw Error("User ID is required when updating a user");n[r.id]=r}return await this.post(this.baseURL+"/users",{users:n})}upsertUser(t){return this.upsertUsers([t])}async partialUpdateUsers(t){for(const n of t)if(!n.id)throw Error("User ID is required when updating a user");return await this.patch(this.baseURL+"/users",{users:t})}async deleteUser(t,n){return await this.delete(this.baseURL+`/users/${encodeURIComponent(t)}`,n)}async restoreUsers(t){return await this.post(this.baseURL+"/users/restore",{user_ids:t})}async reactivateUser(t,n){return await this.post(this.baseURL+`/users/${encodeURIComponent(t)}/reactivate`,{...n})}async reactivateUsers(t,n){return await this.post(this.baseURL+"/users/reactivate",{user_ids:t,...n})}async deactivateUser(t,n){return await this.post(this.baseURL+`/users/${encodeURIComponent(t)}/deactivate`,{...n})}async deactivateUsers(t,n){return await this.post(this.baseURL+"/users/deactivate",{user_ids:t,...n})}async exportUser(t,n){return await this.get(this.baseURL+`/users/${encodeURIComponent(t)}/export`,{...n})}async banUser(t,n){return await this.post(this.baseURL+"/moderation/ban",{target_user_id:t,...n})}async unbanUser(t,n){return await this.delete(this.baseURL+"/moderation/ban",{target_user_id:t,...n})}async shadowBan(t,n){return await this.banUser(t,{shadow:!0,...n})}async removeShadowBan(t,n){return await this.unbanUser(t,{shadow:!0,...n})}async blockUser(t,n){return await this.post(this.baseURL+"/users/block",{blocked_user_id:t,...n?{user_id:n}:{}})}async getBlockedUsers(t){return await this.get(this.baseURL+"/users/block",{...t?{user_id:t}:{}})}async unBlockUser(t,n){return await this.post(this.baseURL+"/users/unblock",{blocked_user_id:t,...n?{user_id:n}:{}})}async muteUser(t,n,r={}){return await this.post(this.baseURL+"/moderation/mute",{target_id:t,...n?{user_id:n}:{},...r})}async unmuteUser(t,n){return await this.post(this.baseURL+"/moderation/unmute",{target_id:t,...n?{user_id:n}:{}})}userMuteStatus(t){if(!this.user||!this.wsPromise)throw new Error("Make sure to await connectUser() first.");for(let n=0;n<this.mutedUsers.length;n+=1)if(this.mutedUsers[n].target.id===t)return!0;return!1}async flagMessage(t,n={}){return await this.post(this.baseURL+"/moderation/flag",{target_message_id:t,...n})}async flagUser(t,n={}){return await this.post(this.baseURL+"/moderation/flag",{target_user_id:t,...n})}async unflagMessage(t,n={}){return await this.post(this.baseURL+"/moderation/unflag",{target_message_id:t,...n})}async unflagUser(t,n={}){return await this.post(this.baseURL+"/moderation/unflag",{target_user_id:t,...n})}async _queryFlags(t={},n={}){return await this.post(this.baseURL+"/moderation/flags",{filter_conditions:t,...n})}async _queryFlagReports(t={},n={}){return await this.post(this.baseURL+"/moderation/reports",{filter_conditions:t,...n})}async _reviewFlagReport(t,n,r={}){return await this.patch(this.baseURL+`/moderation/reports/${encodeURIComponent(t)}`,{review_result:n,...r})}async unblockMessage(t,n={}){return await this.post(this.baseURL+"/moderation/unblock_message",{target_message_id:t,...n})}async markChannelsRead(t={}){await this.post(this.baseURL+"/channels/read",{...t})}createCommand(t){return this.post(this.baseURL+"/commands",t)}getCommand(t){return this.get(this.baseURL+`/commands/${encodeURIComponent(t)}`)}updateCommand(t,n){return this.put(this.baseURL+`/commands/${encodeURIComponent(t)}`,n)}deleteCommand(t){return this.delete(this.baseURL+`/commands/${encodeURIComponent(t)}`)}listCommands(){return this.get(this.baseURL+"/commands")}createChannelType(t){const n=Object.assign({},{commands:["all"]},t);return this.post(this.baseURL+"/channeltypes",n)}getChannelType(t){return this.get(this.baseURL+`/channeltypes/${encodeURIComponent(t)}`)}updateChannelType(t,n){return this.put(this.baseURL+`/channeltypes/${encodeURIComponent(t)}`,n)}deleteChannelType(t){return this.delete(this.baseURL+`/channeltypes/${encodeURIComponent(t)}`)}listChannelTypes(){return this.get(this.baseURL+"/channeltypes")}async translateMessage(t,n){return await this.post(this.baseURL+`/messages/${encodeURIComponent(t)}/translate`,{language:n})}async translate(t,n,r){return await this.post(this.baseURL+"/translate",{text:t,source_language:r,destination_language:n})}_normalizeExpiration(t){let n=null;if(typeof t=="number"){const r=new Date;r.setSeconds(r.getSeconds()+t),n=r.toISOString()}else ww(t)?n=t:t instanceof Date&&(n=t.toISOString());return n}_validateAndGetMessageId(t,n){let r;if(typeof t=="string")r=t;else{if(!t.id)throw Error(n);r=t.id}return r}pinMessage(t,n,r,a){const i=this._validateAndGetMessageId(t,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(i,{set:{pinned:!0,pin_expires:this._normalizeExpiration(n),pinned_at:this._normalizeExpiration(a)}},r)}unpinMessage(t,n){const r=this._validateAndGetMessageId(t,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(r,{set:{pinned:!1}},n)}async updateMessage(t,n,r){if(!t.id)throw Error("Please specify the message.id when calling updateMessage");const a=aP(t);return typeof n=="string"?a.user_id=n:typeof(n==null?void 0:n.id)=="string"&&(a.user_id=n.id),await this.post(this.baseURL+`/messages/${encodeURIComponent(t.id)}`,{message:a,...r})}async partialUpdateMessage(t,n,r,a){if(!t)throw Error("Please specify the message.id when calling partialUpdateMessage");let i;return typeof r=="string"?i={id:r}:typeof(r==null?void 0:r.id)=="string"&&(i={id:r.id}),await this.put(this.baseURL+`/messages/${encodeURIComponent(t)}`,{...n,...a,user:i})}async deleteMessage(t,n){let r={};return n&&(r={hard:!0}),await this.delete(this.baseURL+`/messages/${encodeURIComponent(t)}`,r)}async undeleteMessage(t,n){return await this.post(this.baseURL+`/messages/${encodeURIComponent(t)}/undelete`,{undeleted_by:n})}async getMessage(t,n){return await this.get(this.baseURL+`/messages/${encodeURIComponent(t)}`,{...n})}async queryThreads(t={}){const n={limit:10,participant_limit:10,reply_limit:3,watch:!0,...t},r={...n};n.filter&&Object.keys(n.filter).length>0&&(r.filter=n.filter),n.sort&&(Array.isArray(n.sort)?n.sort.length>0:Object.keys(n.sort).length>0)&&(r.sort=ni(n.sort));const a=await this.post(`${this.baseURL}/threads`,r);return{threads:a.threads.map(i=>new ip({client:this,threadData:i})),next:a.next}}async getThread(t,n={}){if(!t)throw new Error("Please specify the messageId when calling getThread");const r={participant_limit:100,reply_limit:3,watch:!0,...n},a=await this.get(`${this.baseURL}/threads/${encodeURIComponent(t)}`,r);return new ip({client:this,threadData:a.thread})}async partialUpdateThread(t,n){if(!t)throw Error("Please specify the message id when calling partialUpdateThread");const r=["created_at","id","last_message_at","type","updated_at","user","reply_count","participants","channel","custom"];for(const a in{...n.set,...n.unset})if(r.includes(a))throw Error(`You cannot set ${a} field on Thread object. ${a} is reserved for server-side use. Please omit ${a} from your set object.`);return await this.patch(`${this.baseURL}/threads/${encodeURIComponent(t)}`,n)}getUserAgent(){if(this.userAgent)return this.userAgent;const t="9.1.1",n="browser-esm";let r="";this.sdkIdentifier?r=`stream-chat-${this.sdkIdentifier.name}-v${this.sdkIdentifier.version}-llc-v${t}`:r=`stream-chat-js-v${t}-${this.node?"node":"browser"}`;const{os:a,model:i}=this.deviceIdentifier??{};return[["os",a],["device_model",i],["client_bundle",n]].reduce((s,[o,c])=>c&&c.length>0?s.concat(`|${o}=${c}`):s,r)}setUserAgent(t){this.userAgent=t}_enrichAxiosOptions(t={params:{},headers:{},config:{}}){var c;const n=this._getToken(),r=n?{Authorization:n}:void 0;let a=null;this.nextRequestAbortController!==null&&(a=this.nextRequestAbortController.signal,this.nextRequestAbortController=null),(c=t.headers)!=null&&c["x-client-request-id"]||(t.headers={...t.headers,"x-client-request-id":Od()});const{params:i,headers:s,...o}=this.options.axiosRequestConfig||{};return{params:{user_id:this.userID,connection_id:this._getConnectionID(),api_key:this.key,...t.params,...i||{}},headers:{...r,"stream-auth-type":this.getAuthType(),"X-Stream-Client":this.getUserAgent(),...t.headers,...s||{}},...a?{signal:a}:{},...t.config,...o||{}}}_getToken(){return!this.tokenManager||this.anonymous?null:this.tokenManager.getToken()}_startCleaning(){const t=this;this.cleaningIntervalRef==null&&(this.cleaningIntervalRef=setInterval(()=>{for(const n of Object.values(t.activeChannels))n.clean()},500))}verifyWebhook(t,n){return!!this.secret&&MK(t,this.secret,n)}getPermission(t){return this.get(`${this.baseURL}/permissions/${encodeURIComponent(t)}`)}createPermission(t){return this.post(`${this.baseURL}/permissions`,{...t})}updatePermission(t,n){return this.put(`${this.baseURL}/permissions/${encodeURIComponent(t)}`,{...n})}deletePermission(t){return this.delete(`${this.baseURL}/permissions/${encodeURIComponent(t)}`)}listPermissions(){return this.get(`${this.baseURL}/permissions`)}createRole(t){return this.post(`${this.baseURL}/roles`,{name:t})}listRoles(){return this.get(`${this.baseURL}/roles`)}deleteRole(t){return this.delete(`${this.baseURL}/roles/${encodeURIComponent(t)}`)}sync(t,n,r={}){return this.post(`${this.baseURL}/sync`,{channel_cids:t,last_sync_at:n,...r})}async sendUserCustomEvent(t,n){return await this.post(`${this.baseURL}/users/${encodeURIComponent(t)}/event`,{event:n})}createBlockList(t){return this.post(`${this.baseURL}/blocklists`,t)}listBlockLists(t){return this.get(`${this.baseURL}/blocklists`,t)}getBlockList(t,n){return this.get(`${this.baseURL}/blocklists/${encodeURIComponent(t)}`,n)}updateBlockList(t,n){return this.put(`${this.baseURL}/blocklists/${encodeURIComponent(t)}`,n)}deleteBlockList(t,n){return this.delete(`${this.baseURL}/blocklists/${encodeURIComponent(t)}`,n)}exportChannels(t,n={}){const r={channels:t,...n};return this.post(`${this.baseURL}/export_channels`,r)}exportUsers(t){return this.post(`${this.baseURL}/export/users`,t)}exportChannel(t,n){return this.exportChannels([t],n)}getExportChannelStatus(t){return this.get(`${this.baseURL}/export_channels/${encodeURIComponent(t)}`)}campaign(t,n){return t&&typeof t=="object"?new dk(this,null,t):new dk(this,t,n)}segment(t,n,r){return typeof n=="string"?new Yk(this,t,n,r):new Yk(this,t,null,n)}validateServerSideAuth(){if(!this.secret)throw new Error("Campaigns is a server-side only feature. Please initialize the client with a secret to use this feature.")}createSegment(t,n,r){this.validateServerSideAuth();const a={id:n,type:t,...r};return this.post(this.baseURL+"/segments",a)}createUserSegment(t,n){return this.validateServerSideAuth(),this.createSegment("user",t,n)}createChannelSegment(t,n){return this.validateServerSideAuth(),this.createSegment("channel",t,n)}getSegment(t){return this.validateServerSideAuth(),this.get(this.baseURL+`/segments/${encodeURIComponent(t)}`)}updateSegment(t,n){return this.validateServerSideAuth(),this.put(this.baseURL+`/segments/${encodeURIComponent(t)}`,n)}addSegmentTargets(t,n){this.validateServerSideAuth();const r={target_ids:n};return this.post(this.baseURL+`/segments/${encodeURIComponent(t)}/addtargets`,r)}querySegmentTargets(t,n={},r=[],a={}){return this.validateServerSideAuth(),this.post(this.baseURL+`/segments/${encodeURIComponent(t)}/targets/query`,{filter:n||{},sort:r||[],...a})}removeSegmentTargets(t,n){this.validateServerSideAuth();const r={target_ids:n};return this.post(this.baseURL+`/segments/${encodeURIComponent(t)}/deletetargets`,r)}querySegments(t,n,r={}){return this.validateServerSideAuth(),this.post(this.baseURL+"/segments/query",{filter:t,sort:n,...r})}deleteSegment(t){return this.validateServerSideAuth(),this.delete(this.baseURL+`/segments/${encodeURIComponent(t)}`)}segmentTargetExists(t,n){return this.validateServerSideAuth(),this.get(this.baseURL+`/segments/${encodeURIComponent(t)}/target/${encodeURIComponent(n)}`)}createCampaign(t){return this.validateServerSideAuth(),this.post(this.baseURL+"/campaigns",{...t})}getCampaign(t,n){return this.validateServerSideAuth(),this.get(this.baseURL+`/campaigns/${encodeURIComponent(t)}`,{...n==null?void 0:n.users})}startCampaign(t,n){return this.validateServerSideAuth(),this.post(this.baseURL+`/campaigns/${encodeURIComponent(t)}/start`,{scheduled_for:n==null?void 0:n.scheduledFor,stop_at:n==null?void 0:n.stopAt})}async queryCampaigns(t,n,r){return this.validateServerSideAuth(),await this.post(this.baseURL+"/campaigns/query",{filter:t,sort:n,...r||{}})}updateCampaign(t,n){return this.validateServerSideAuth(),this.put(this.baseURL+`/campaigns/${encodeURIComponent(t)}`,n)}deleteCampaign(t){return this.validateServerSideAuth(),this.delete(this.baseURL+`/campaigns/${encodeURIComponent(t)}`)}stopCampaign(t){return this.validateServerSideAuth(),this.post(this.baseURL+`/campaigns/${encodeURIComponent(t)}/stop`)}enrichURL(t){return this.get(this.baseURL+"/og",{url:t})}getTask(t){return this.get(`${this.baseURL}/tasks/${encodeURIComponent(t)}`)}async deleteChannels(t,n={}){return await this.post(this.baseURL+"/channels/delete",{cids:t,...n})}async deleteUsers(t,n={}){if(typeof n.user<"u"&&!["soft","hard","pruning"].includes(n.user))throw new Error("Invalid delete user options. user must be one of [soft hard pruning]");if(typeof n.conversations<"u"&&!["soft","hard"].includes(n.conversations))throw new Error("Invalid delete user options. conversations must be one of [soft hard]");if(typeof n.messages<"u"&&!["soft","hard","pruning"].includes(n.messages))throw new Error("Invalid delete user options. messages must be one of [soft hard pruning]");return await this.post(this.baseURL+"/users/delete",{user_ids:t,...n})}async _createImportURL(t){return await this.post(this.baseURL+"/import_urls",{filename:t})}async _createImport(t,n={mode:"upsert"}){return await this.post(this.baseURL+"/imports",{path:t,...n})}async _getImport(t){return await this.get(this.baseURL+`/imports/${encodeURIComponent(t)}`)}async _listImports(t){return await this.get(this.baseURL+"/imports",t)}async upsertPushProvider(t){return await this.post(this.baseURL+"/push_providers",{push_provider:t})}async deletePushProvider({type:t,name:n}){return await this.delete(this.baseURL+`/push_providers/${encodeURIComponent(t)}/${encodeURIComponent(n)}`)}async listPushProviders(){return await this.get(this.baseURL+"/push_providers")}createAbortControllerForNextRequest(){return this.nextRequestAbortController=new AbortController}async commitMessage(t){return await this.post(this.baseURL+`/messages/${encodeURIComponent(t)}/commit`)}async createPoll(t,n){return await this.post(this.baseURL+"/polls",{...t,...n?{user_id:n}:{}})}async getPoll(t,n){return await this.get(this.baseURL+`/polls/${encodeURIComponent(t)}`,n?{user_id:n}:{})}async updatePoll(t,n){return await this.put(this.baseURL+"/polls",{...t,...n?{user_id:n}:{}})}async partialUpdatePoll(t,n,r){return await this.patch(this.baseURL+`/polls/${encodeURIComponent(t)}`,{...n,...r?{user_id:r}:{}})}async deletePoll(t,n){return await this.delete(this.baseURL+`/polls/${encodeURIComponent(t)}`,{...n?{user_id:n}:{}})}closePoll(t,n){return this.partialUpdatePoll(t,{set:{is_closed:!0}},n)}async createPollOption(t,n,r){return await this.post(this.baseURL+`/polls/${encodeURIComponent(t)}/options`,{...n,...r?{user_id:r}:{}})}async getPollOption(t,n,r){return await this.get(this.baseURL+`/polls/${encodeURIComponent(t)}/options/${encodeURIComponent(n)}`,r?{user_id:r}:{})}async updatePollOption(t,n,r){return await this.put(this.baseURL+`/polls/${encodeURIComponent(t)}/options`,{...n,...r?{user_id:r}:{}})}async deletePollOption(t,n,r){return await this.delete(this.baseURL+`/polls/${encodeURIComponent(t)}/options/${encodeURIComponent(n)}`,r?{user_id:r}:{})}async castPollVote(t,n,r,a){return await this.post(this.baseURL+`/messages/${encodeURIComponent(t)}/polls/${encodeURIComponent(n)}/vote`,{vote:r,...a?{user_id:a}:{}})}addPollAnswer(t,n,r,a){return this.castPollVote(t,n,{answer_text:r},a)}async removePollVote(t,n,r,a){return await this.delete(this.baseURL+`/messages/${encodeURIComponent(t)}/polls/${encodeURIComponent(n)}/vote/${encodeURIComponent(r)}`,{...a?{user_id:a}:{}})}async queryPolls(t={},n=[],r={},a){const i=a?`?user_id=${a}`:"";return await this.post(this.baseURL+`/polls/query${i}`,{filter:t,sort:ni(n),...r})}async queryPollVotes(t,n={},r=[],a={},i){const s=i?`?user_id=${i}`:"";return await this.post(this.baseURL+`/polls/${encodeURIComponent(t)}/votes${s}`,{filter:n,sort:ni(r),...a})}async queryPollAnswers(t,n={},r=[],a={},i){const s=i?`?user_id=${i}`:"";return await this.post(this.baseURL+`/polls/${encodeURIComponent(t)}/votes${s}`,{filter:{...n,is_answer:!0},sort:ni(r),...a})}async queryMessageHistory(t={},n=[],r={}){return await this.post(this.baseURL+"/messages/history",{filter:t,sort:ni(n),...r})}async updateFlags(t,n,r={}){return await this.post(this.baseURL+"/automod/v1/moderation/update_flags",{message_ids:t,reviewed_by:n,...r})}async queryDrafts(t={}){const n={...t,sort:t.sort?ni(t.sort):void 0};return await this.post(this.baseURL+"/drafts/query",n)}},QK=class{constructor(e,t){if(!e)throw new Error("Size must be greater than 0");this.keys=[],this.size=e,this.map=new Map,this.dispose=(t==null?void 0:t.dispose)??null}add(e,t){var r;if(this.keys.indexOf(e)>-1)this.keys.splice(this.keys.indexOf(e),1);else if(this.keys.length>=this.size){const a=this.keys.shift();if(a){const i=this.peek(a);i&&((r=this.dispose)==null||r.call(this,a,i)),this.map.delete(a)}}this.keys.push(e),this.map.set(e,t)}peek(e){return this.map.get(e)}get(e){const t=this.peek(e);return t&&this.keys.indexOf(e)!==this.size-1&&(this.keys.splice(this.keys.indexOf(e),1),this.keys.push(e)),t}};const OP=(e,t)=>{const[n,r]=E.useState([]),[a,i]=E.useState([]),[s,o]=E.useState(!0),[c,d]=E.useState(null),f=async()=>{try{o(!0);const[h,m]=await Promise.all([vc.getPendingProposals(e,t),vc.getSentProposals(e,t)]);r(h.filter(g=>g.status==="pending")),i(m.filter(g=>["pending","countered"].includes(g.status))),d(null)}catch(h){d(h.message),r([]),i([])}finally{o(!1)}};return E.useEffect(()=>{e&&t&&f()},[e,t]),{pendingProposals:n,sentProposals:a,loading:s,error:c,refetch:f}},ZK="nbvut8j4y6se",XK="frbcaplgmailcom";function Zk(e){if(!e)return"";const t=new Date(e),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),a=t.getFullYear();return`${n}-${r}-${a}`}function xw(e){if(!e)return"";const t=new Date(e),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${t.getFullYear()}-${n}-${r}`}function JK(e){let t=e.trim();t=t.replace(/(\d{1,2}):(\d{2})\s*(am|pm)/i,(r,a,i,s)=>`${parseInt(a,10)}:${i} ${s.toUpperCase()}`),t=t.replace(/^(\d{1,2})(\d{2})(am|pm)$/i,(r,a,i,s)=>`${parseInt(a,10)}:${i} ${s.toUpperCase()}`),t=t.replace(/^(\d{1,2})(am|pm)$/i,(r,a,i)=>`${parseInt(a,10)}:00 ${i.toUpperCase()}`),t=t.replace(/(am|pm)$/i," $1"),t=t.replace(/(am|pm)$/i,r=>r.toUpperCase());const n=t.match(/^(\d{1,2}):(\d{2}) (AM|PM)$/i);if(n){const r=n[1],a=n[2],i=n[3].toUpperCase(),s=`${r}:${a} ${i}`;return console.log("normalizeTimeString final:",s),s}return console.log("normalizeTimeString fallback:",t),t}const LP="https://newapp-xyen.onrender.com";function $g(e){return e.replace(/[^a-zA-Z0-9]/g,"")}async function eQ({senderEmail:e,senderName:t,receiverEmail:n,receiverName:r,matchName:a}){try{const i=dS.getInstance(ZK),s=await fetch(`${LP}/token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:$g(e)})}),{token:o}=await s.json();if(!o)throw new Error("Could not get chat token");i.userID||await i.connectUser({id:$g(e),name:t},o);const c=Array.from(new Set([$g(e),$g(n),XK])),d=i.channel("messaging",{members:c,name:a});await d.create(),await d.sendMessage({text:"Chat created for your match proposal!"})}catch(i){console.error("Failed to create chat channel:",i),alert("Failed to create chat channel: "+i.message)}}const Cw=`This is a BETA test match. Matches that are created, scheduled, and confirmed will NOT be played.

`,tQ=e=>e.replace(/[–—−]/g,"-").replace(/\s*-\s*/g," - ").trim();function NP({player:e,day:t,slot:n,onClose:r,senderName:a,senderEmail:i,onProposalComplete:s,selectedDivision:o,phase:c}){console.log("MatchProposalModal player prop:",e),console.log("MatchProposalModal phase prop:",c),console.log("MatchProposalModal slot prop:",n,JSON.stringify(n));const[d,f]=E.useState(n),[h,m]=E.useState(""),[g,b]=E.useState(""),[_,w]=E.useState(""),[x,k]=E.useState(!1),[R,I]=E.useState("8 Ball"),[O,A]=E.useState(c==="scheduled"||c==="challenge"?5:7),L=e.locations?e.locations.split(/\r?\n/).map(q=>q.trim()).filter(Boolean):[],C=Cq(t),[T,S]=E.useState(C),j=e.availability[t]||[],H=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][T.getDay()],U=E.useMemo(()=>{if(!n)return[];const q=tQ(n);if(console.log("DEBUG: normalized slot:",q),!q.includes(" - "))return[];let[N,W]=q.split(" - ").map($=>JK($.trim()));if(console.log("DEBUG: blockStart:",N,"blockEnd:",W),!N||!W)return[];const K=HD(N,W,30);return console.log("DEBUG: generated times:",K),K},[n]);E.useEffect(()=>{m("")},[n]);const{sentProposals:z}=OP(a,o);function F(q){return z.some(N=>N.receiverName===(q.player?`${q.player.firstName} ${q.player.lastName}`:q.opponentName)&&N.date===xw(T)&&N.time===h&&N.location===g&&N.phase===c&&N.divisions&&N.divisions.includes(o)&&["pending","countered"].includes(N.status))}e.opponents&&e.opponents.filter(q=>!F(q));const V=()=>{if(!i||!e.email||!h||!g||!T){alert("Please fill in all required fields.");return}const q={senderEmail:i,senderName:a,receiverEmail:e.email,receiverName:e.firstName?`${e.firstName} ${e.lastName}`:e.name,date:xw(T),time:h,location:g,message:_,gameType:R,raceLength:O,phase:c,divisions:[o]};console.log("Proposal data to send:",q),fetch(`${LP}/api/proposals`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)}).then(N=>N.json()).then(N=>{if(console.log("Backend response:",N),N.error)throw new Error(N.error);eQ({senderEmail:i,senderName:a,receiverEmail:e.email,receiverName:e.firstName?`${e.firstName} ${e.lastName}`:e.name,matchName:`${a} vs ${e.firstName?`${e.firstName} ${e.lastName}`:e.name} - ${Zk(T)}`}),g$({to_email:e.email,to_name:e.firstName?`${e.firstName} ${e.lastName}`:e.name,from_name:a,from_email:i,day:H,date:xw(T),time:h,location:g,note:_,gameType:R,raceLength:O}),k(!0)}).catch(N=>{console.error("Failed to send proposal:",N),alert("Failed to send proposal: "+N.message)})},Y=()=>{k(!1),r(),s&&s()};return D.jsxs(D.Fragment,{children:[D.jsx(os,{open:!0,onClose:r,title:D.jsx("span",{style:{fontWeight:700,fontSize:"2rem",letterSpacing:"0.01em",color:"#fff",textShadow:"0 1px 12px #000a"},children:"Propose a Match - BETA"}),maxWidth:"520px",children:D.jsxs("div",{className:qr["match-proposal-content"],children:[D.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:12,marginBottom:12},children:[D.jsx("div",{className:qr["match-proposal-phase"],children:D.jsxs("b",{children:[D.jsx("span",{style:{color:"#fff"},children:c==="scheduled"?"Phase 1:":c==="challenge"?"Phase 2:":""}),D.jsx("span",{className:qr["match-proposal-label-red"],style:{marginLeft:4},children:c==="scheduled"?"Scheduled Match Phase":c==="challenge"?"Challenge Phase":""})]})}),D.jsxs("div",{className:qr["match-proposal-division"],children:[D.jsx("b",{children:D.jsx("span",{style:{color:"#fff"},children:"Division:"})})," ",D.jsx("span",{className:qr["match-proposal-label-red"],children:o})]})]}),D.jsxs("div",{className:qr["match-proposal-row"],style:{marginBottom:10},children:[D.jsx("b",{children:"To Opponent:"}),D.jsx("div",{className:qr.opponentName,style:{fontWeight:"bold",fontSize:"1.25rem",margin:"2px 0"},children:e.firstName?`${e.firstName} ${e.lastName}`:e.name}),D.jsx("span",{style:{color:"#fff",fontSize:"1rem"},children:"Day: "}),D.jsx("span",{className:qr["match-proposal-day-value"],style:{color:"#e53e3e",fontWeight:600},children:H})]}),D.jsxs("div",{className:qr["match-proposal-row"],style:{marginBottom:10},children:[D.jsx("b",{children:"Date:"}),D.jsx(MN,{selected:T,onChange:q=>S(q),dateFormat:"MM-dd-yyyy",className:qr["match-proposal-date-input"],required:!0})]}),D.jsxs("div",{className:qr["match-proposal-row"],style:{marginBottom:10},children:[D.jsx("b",{children:"Time Block:"}),D.jsxs("select",{className:qr["match-proposal-select"],value:d,onChange:q=>f(q.target.value),children:[D.jsx("option",{value:"",children:"Select time block"}),j.map((q,N)=>D.jsx("option",{value:q,children:q},N))]})]}),D.jsxs("div",{className:qr["match-proposal-row"],style:{marginBottom:10},children:[D.jsx("b",{children:"Start Time:"}),D.jsxs("select",{className:qr["match-proposal-select"],value:h,onChange:q=>m(q.target.value),children:[D.jsx("option",{value:"",children:"Select..."}),U.map((q,N)=>D.jsx("option",{value:q,children:q},N))]})]}),D.jsxs("div",{className:qr["match-proposal-row"],style:{marginBottom:10},children:[D.jsx("b",{children:"Game Type:"}),D.jsxs("select",{className:qr["match-proposal-select"],value:R,onChange:q=>I(q.target.value),children:[D.jsx("option",{value:"8 Ball",children:"8 Ball"}),D.jsx("option",{value:"9 Ball",children:"9 Ball"}),D.jsx("option",{value:"10 Ball",children:"10 Ball"}),D.jsx("option",{value:"Mixed",children:"Mixed"})]})]}),D.jsxs("div",{className:qr["match-proposal-row"],style:{marginBottom:10},children:[D.jsx("b",{children:"Race Length:"}),D.jsx("select",{className:qr["match-proposal-select"],value:O,onChange:q=>A(Number(q.target.value)),children:c==="scheduled"||c==="challenge"?D.jsx("option",{value:5,children:"5"}):[...Array(13)].map((q,N)=>{const W=N+3;return D.jsx("option",{value:W,children:W},W)})})]}),D.jsxs("div",{className:qr["match-proposal-row"],style:{marginBottom:10},children:[D.jsx("b",{children:"Location:"}),D.jsxs("select",{className:qr["match-proposal-location-select"],value:g,onChange:q=>b(q.target.value),children:[D.jsx("option",{value:"",children:"Select..."}),L.map((q,N)=>D.jsx("option",{value:q,children:q},N))]})]}),D.jsxs("div",{className:qr["match-proposal-row"],style:{marginBottom:10},children:[D.jsx("b",{children:"Message to Opponent:"}),D.jsx("textarea",{className:qr["match-proposal-textarea"],value:Cw+_,onChange:q=>{const N=q.target.value;N.startsWith(Cw)?w(N.slice(Cw.length)):w("")},placeholder:"Add a comment to your opponent...",rows:5})]}),D.jsx("button",{className:qr["match-proposal-send-btn"],onClick:V,disabled:!h||!g,children:"Send Proposal"})]})}),x&&D.jsx(jL,{open:x,onClose:Y,message:`Your match proposal has been sent to ${e.firstName?`${e.firstName} ${e.lastName}`:e.name}.
          They will receive an email notification and can respond through the app.`,phase:c,gameType:R,raceLength:O,day:H,date:Zk(T),time:h,location:g,proposalNote:_})]})}function PP(e,t){return function(){return e.apply(t,arguments)}}const{toString:nQ}=Object.prototype,{getPrototypeOf:fS}=Object,{iterator:h1,toStringTag:IP}=Symbol,p1=(e=>t=>{const n=nQ.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),eo=e=>(e=e.toLowerCase(),t=>p1(t)===e),m1=e=>t=>typeof t===e,{isArray:bf}=Array,Tp=m1("undefined");function rQ(e){return e!==null&&!Tp(e)&&e.constructor!==null&&!Tp(e.constructor)&&Fi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const FP=eo("ArrayBuffer");function aQ(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&FP(e.buffer),t}const iQ=m1("string"),Fi=m1("function"),jP=m1("number"),g1=e=>e!==null&&typeof e=="object",sQ=e=>e===!0||e===!1,Dy=e=>{if(p1(e)!=="object")return!1;const t=fS(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(IP in e)&&!(h1 in e)},oQ=eo("Date"),lQ=eo("File"),cQ=eo("Blob"),uQ=eo("FileList"),dQ=e=>g1(e)&&Fi(e.pipe),fQ=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Fi(e.append)&&((t=p1(e))==="formdata"||t==="object"&&Fi(e.toString)&&e.toString()==="[object FormData]"))},hQ=eo("URLSearchParams"),[pQ,mQ,gQ,yQ]=["ReadableStream","Request","Response","Headers"].map(eo),vQ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function am(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),bf(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let o;for(r=0;r<s;r++)o=i[r],t.call(null,e[o],o,e)}}function UP(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const su=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,BP=e=>!Tp(e)&&e!==su;function xC(){const{caseless:e}=BP(this)&&this||{},t={},n=(r,a)=>{const i=e&&UP(t,a)||a;Dy(t[i])&&Dy(r)?t[i]=xC(t[i],r):Dy(r)?t[i]=xC({},r):bf(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&am(arguments[r],n);return t}const bQ=(e,t,n,{allOwnKeys:r}={})=>(am(t,(a,i)=>{n&&Fi(a)?e[i]=PP(a,n):e[i]=a},{allOwnKeys:r}),e),_Q=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),wQ=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},xQ=(e,t,n,r)=>{let a,i,s;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)s=a[i],(!r||r(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=n!==!1&&fS(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},CQ=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},DQ=e=>{if(!e)return null;if(bf(e))return e;let t=e.length;if(!jP(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},SQ=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&fS(Uint8Array)),EQ=(e,t)=>{const r=(e&&e[h1]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},MQ=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},TQ=eo("HTMLFormElement"),kQ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),Xk=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),RQ=eo("RegExp"),$P=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};am(n,(a,i)=>{let s;(s=t(a,i,e))!==!1&&(r[i]=s||a)}),Object.defineProperties(e,r)},AQ=e=>{$P(e,(t,n)=>{if(Fi(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Fi(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},OQ=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return bf(e)?r(e):r(String(e).split(t)),n},LQ=()=>{},NQ=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function PQ(e){return!!(e&&Fi(e.append)&&e[IP]==="FormData"&&e[h1])}const IQ=e=>{const t=new Array(10),n=(r,a)=>{if(g1(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const i=bf(r)?[]:{};return am(r,(s,o)=>{const c=n(s,a+1);!Tp(c)&&(i[o]=c)}),t[a]=void 0,i}}return r};return n(e,0)},FQ=eo("AsyncFunction"),jQ=e=>e&&(g1(e)||Fi(e))&&Fi(e.then)&&Fi(e.catch),zP=((e,t)=>e?setImmediate:t?((n,r)=>(su.addEventListener("message",({source:a,data:i})=>{a===su&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),su.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Fi(su.postMessage)),UQ=typeof queueMicrotask<"u"?queueMicrotask.bind(su):typeof process<"u"&&process.nextTick||zP,BQ=e=>e!=null&&Fi(e[h1]),Te={isArray:bf,isArrayBuffer:FP,isBuffer:rQ,isFormData:fQ,isArrayBufferView:aQ,isString:iQ,isNumber:jP,isBoolean:sQ,isObject:g1,isPlainObject:Dy,isReadableStream:pQ,isRequest:mQ,isResponse:gQ,isHeaders:yQ,isUndefined:Tp,isDate:oQ,isFile:lQ,isBlob:cQ,isRegExp:RQ,isFunction:Fi,isStream:dQ,isURLSearchParams:hQ,isTypedArray:SQ,isFileList:uQ,forEach:am,merge:xC,extend:bQ,trim:vQ,stripBOM:_Q,inherits:wQ,toFlatObject:xQ,kindOf:p1,kindOfTest:eo,endsWith:CQ,toArray:DQ,forEachEntry:EQ,matchAll:MQ,isHTMLForm:TQ,hasOwnProperty:Xk,hasOwnProp:Xk,reduceDescriptors:$P,freezeMethods:AQ,toObjectSet:OQ,toCamelCase:kQ,noop:LQ,toFiniteNumber:NQ,findKey:UP,global:su,isContextDefined:BP,isSpecCompliantForm:PQ,toJSONObject:IQ,isAsyncFn:FQ,isThenable:jQ,setImmediate:zP,asap:UQ,isIterable:BQ};function cn(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Te.inherits(cn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Te.toJSONObject(this.config),code:this.code,status:this.status}}});const HP=cn.prototype,VP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{VP[e]={value:e}});Object.defineProperties(cn,VP);Object.defineProperty(HP,"isAxiosError",{value:!0});cn.from=(e,t,n,r,a,i)=>{const s=Object.create(HP);return Te.toFlatObject(e,s,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),cn.call(s,e.message,t,n,r,a),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};const $Q=null;function CC(e){return Te.isPlainObject(e)||Te.isArray(e)}function qP(e){return Te.endsWith(e,"[]")?e.slice(0,-2):e}function Jk(e,t,n){return e?e.concat(t).map(function(a,i){return a=qP(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function zQ(e){return Te.isArray(e)&&!e.some(CC)}const HQ=Te.toFlatObject(Te,{},null,function(t){return/^is[A-Z]/.test(t)});function y1(e,t,n){if(!Te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,w){return!Te.isUndefined(w[_])});const r=n.metaTokens,a=n.visitor||f,i=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Te.isSpecCompliantForm(t);if(!Te.isFunction(a))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(Te.isDate(b))return b.toISOString();if(!c&&Te.isBlob(b))throw new cn("Blob is not supported. Use a Buffer instead.");return Te.isArrayBuffer(b)||Te.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,_,w){let x=b;if(b&&!w&&typeof b=="object"){if(Te.endsWith(_,"{}"))_=r?_:_.slice(0,-2),b=JSON.stringify(b);else if(Te.isArray(b)&&zQ(b)||(Te.isFileList(b)||Te.endsWith(_,"[]"))&&(x=Te.toArray(b)))return _=qP(_),x.forEach(function(R,I){!(Te.isUndefined(R)||R===null)&&t.append(s===!0?Jk([_],I,i):s===null?_:_+"[]",d(R))}),!1}return CC(b)?!0:(t.append(Jk(w,_,i),d(b)),!1)}const h=[],m=Object.assign(HQ,{defaultVisitor:f,convertValue:d,isVisitable:CC});function g(b,_){if(!Te.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+_.join("."));h.push(b),Te.forEach(b,function(x,k){(!(Te.isUndefined(x)||x===null)&&a.call(t,x,Te.isString(k)?k.trim():k,_,m))===!0&&g(x,_?_.concat(k):[k])}),h.pop()}}if(!Te.isObject(e))throw new TypeError("data must be an object");return g(e),t}function eR(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function hS(e,t){this._pairs=[],e&&y1(e,this,t)}const YP=hS.prototype;YP.append=function(t,n){this._pairs.push([t,n])};YP.toString=function(t){const n=t?function(r){return t.call(this,r,eR)}:eR;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function VQ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function WP(e,t,n){if(!t)return e;const r=n&&n.encode||VQ;Te.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=Te.isURLSearchParams(t)?t.toString():new hS(t,n).toString(r),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class tR{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Te.forEach(this.handlers,function(r){r!==null&&t(r)})}}const GP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qQ=typeof URLSearchParams<"u"?URLSearchParams:hS,YQ=typeof FormData<"u"?FormData:null,WQ=typeof Blob<"u"?Blob:null,GQ={isBrowser:!0,classes:{URLSearchParams:qQ,FormData:YQ,Blob:WQ},protocols:["http","https","file","blob","url","data"]},pS=typeof window<"u"&&typeof document<"u",DC=typeof navigator=="object"&&navigator||void 0,KQ=pS&&(!DC||["ReactNative","NativeScript","NS"].indexOf(DC.product)<0),QQ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZQ=pS&&window.location.href||"http://localhost",XQ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pS,hasStandardBrowserEnv:KQ,hasStandardBrowserWebWorkerEnv:QQ,navigator:DC,origin:ZQ},Symbol.toStringTag,{value:"Module"})),ii={...XQ,...GQ};function JQ(e,t){return y1(e,new ii.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,i){return ii.isNode&&Te.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function eZ(e){return Te.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function tZ(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function KP(e){function t(n,r,a,i){let s=n[i++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),c=i>=n.length;return s=!s&&Te.isArray(a)?a.length:s,c?(Te.hasOwnProp(a,s)?a[s]=[a[s],r]:a[s]=r,!o):((!a[s]||!Te.isObject(a[s]))&&(a[s]=[]),t(n,r,a[s],i)&&Te.isArray(a[s])&&(a[s]=tZ(a[s])),!o)}if(Te.isFormData(e)&&Te.isFunction(e.entries)){const n={};return Te.forEachEntry(e,(r,a)=>{t(eZ(r),a,n,0)}),n}return null}function nZ(e,t,n){if(Te.isString(e))try{return(t||JSON.parse)(e),Te.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const im={transitional:GP,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=Te.isObject(t);if(i&&Te.isHTMLForm(t)&&(t=new FormData(t)),Te.isFormData(t))return a?JSON.stringify(KP(t)):t;if(Te.isArrayBuffer(t)||Te.isBuffer(t)||Te.isStream(t)||Te.isFile(t)||Te.isBlob(t)||Te.isReadableStream(t))return t;if(Te.isArrayBufferView(t))return t.buffer;if(Te.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return JQ(t,this.formSerializer).toString();if((o=Te.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return y1(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),nZ(t)):t}],transformResponse:[function(t){const n=this.transitional||im.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(Te.isResponse(t)||Te.isReadableStream(t))return t;if(t&&Te.isString(t)&&(r&&!this.responseType||a)){const s=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(o){if(s)throw o.name==="SyntaxError"?cn.from(o,cn.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ii.classes.FormData,Blob:ii.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Te.forEach(["delete","get","head","post","put","patch"],e=>{im.headers[e]={}});const rZ=Te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aZ=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(s){a=s.indexOf(":"),n=s.substring(0,a).trim().toLowerCase(),r=s.substring(a+1).trim(),!(!n||t[n]&&rZ[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},nR=Symbol("internals");function Rh(e){return e&&String(e).trim().toLowerCase()}function Sy(e){return e===!1||e==null?e:Te.isArray(e)?e.map(Sy):String(e)}function iZ(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const sZ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Dw(e,t,n,r,a){if(Te.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!Te.isString(t)){if(Te.isString(r))return t.indexOf(r)!==-1;if(Te.isRegExp(r))return r.test(t)}}function oZ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function lZ(e,t){const n=Te.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,s){return this[r].call(this,t,a,i,s)},configurable:!0})})}let ji=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(o,c,d){const f=Rh(c);if(!f)throw new Error("header name must be a non-empty string");const h=Te.findKey(a,f);(!h||a[h]===void 0||d===!0||d===void 0&&a[h]!==!1)&&(a[h||c]=Sy(o))}const s=(o,c)=>Te.forEach(o,(d,f)=>i(d,f,c));if(Te.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(Te.isString(t)&&(t=t.trim())&&!sZ(t))s(aZ(t),n);else if(Te.isObject(t)&&Te.isIterable(t)){let o={},c,d;for(const f of t){if(!Te.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[d=f[0]]=(c=o[d])?Te.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}s(o,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Rh(t),t){const r=Te.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return iZ(a);if(Te.isFunction(n))return n.call(this,a,r);if(Te.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Rh(t),t){const r=Te.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Dw(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(s){if(s=Rh(s),s){const o=Te.findKey(r,s);o&&(!n||Dw(r,r[o],o,n))&&(delete r[o],a=!0)}}return Te.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||Dw(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return Te.forEach(this,(a,i)=>{const s=Te.findKey(r,i);if(s){n[s]=Sy(a),delete n[i];return}const o=t?oZ(i):String(i).trim();o!==i&&delete n[i],n[o]=Sy(a),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Te.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&Te.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[nR]=this[nR]={accessors:{}}).accessors,a=this.prototype;function i(s){const o=Rh(s);r[o]||(lZ(a,s),r[o]=!0)}return Te.isArray(t)?t.forEach(i):i(t),this}};ji.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Te.reduceDescriptors(ji.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Te.freezeMethods(ji);function Sw(e,t){const n=this||im,r=t||n,a=ji.from(r.headers);let i=r.data;return Te.forEach(e,function(o){i=o.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function QP(e){return!!(e&&e.__CANCEL__)}function _f(e,t,n){cn.call(this,e??"canceled",cn.ERR_CANCELED,t,n),this.name="CanceledError"}Te.inherits(_f,cn,{__CANCEL__:!0});function ZP(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new cn("Request failed with status code "+n.status,[cn.ERR_BAD_REQUEST,cn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function cZ(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function uZ(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,s;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),f=r[i];s||(s=d),n[a]=c,r[a]=d;let h=i,m=0;for(;h!==a;)m+=n[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-s<t)return;const g=f&&d-f;return g?Math.round(m*1e3/g):void 0}}function dZ(e,t){let n=0,r=1e3/t,a,i;const s=(d,f=Date.now())=>{n=f,a=null,i&&(clearTimeout(i),i=null),e.apply(null,d)};return[(...d)=>{const f=Date.now(),h=f-n;h>=r?s(d,f):(a=d,i||(i=setTimeout(()=>{i=null,s(a)},r-h)))},()=>a&&s(a)]}const Wv=(e,t,n=3)=>{let r=0;const a=uZ(50,250);return dZ(i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,c=s-r,d=a(c),f=s<=o;r=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&f?(o-s)/d:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},n)},rR=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},aR=e=>(...t)=>Te.asap(()=>e(...t)),fZ=ii.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ii.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ii.origin),ii.navigator&&/(msie|trident)/i.test(ii.navigator.userAgent)):()=>!0,hZ=ii.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const s=[e+"="+encodeURIComponent(t)];Te.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Te.isString(r)&&s.push("path="+r),Te.isString(a)&&s.push("domain="+a),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pZ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function mZ(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function XP(e,t,n){let r=!pZ(t);return e&&(r||n==!1)?mZ(e,t):t}const iR=e=>e instanceof ji?{...e}:e;function Cu(e,t){t=t||{};const n={};function r(d,f,h,m){return Te.isPlainObject(d)&&Te.isPlainObject(f)?Te.merge.call({caseless:m},d,f):Te.isPlainObject(f)?Te.merge({},f):Te.isArray(f)?f.slice():f}function a(d,f,h,m){if(Te.isUndefined(f)){if(!Te.isUndefined(d))return r(void 0,d,h,m)}else return r(d,f,h,m)}function i(d,f){if(!Te.isUndefined(f))return r(void 0,f)}function s(d,f){if(Te.isUndefined(f)){if(!Te.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function o(d,f,h){if(h in t)return r(d,f);if(h in e)return r(void 0,d)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(d,f,h)=>a(iR(d),iR(f),h,!0)};return Te.forEach(Object.keys(Object.assign({},e,t)),function(f){const h=c[f]||a,m=h(e[f],t[f],f);Te.isUndefined(m)&&h!==o||(n[f]=m)}),n}const JP=e=>{const t=Cu({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:o}=t;t.headers=s=ji.from(s),t.url=WP(XP(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(Te.isFormData(n)){if(ii.hasStandardBrowserEnv||ii.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[d,...f]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...f].join("; "))}}if(ii.hasStandardBrowserEnv&&(r&&Te.isFunction(r)&&(r=r(t)),r||r!==!1&&fZ(t.url))){const d=a&&i&&hZ.read(i);d&&s.set(a,d)}return t},gZ=typeof XMLHttpRequest<"u",yZ=gZ&&function(e){return new Promise(function(n,r){const a=JP(e);let i=a.data;const s=ji.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,f,h,m,g,b;function _(){g&&g(),b&&b(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function x(){if(!w)return;const R=ji.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),O={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:R,config:e,request:w};ZP(function(L){n(L),_()},function(L){r(L),_()},O),w=null}"onloadend"in w?w.onloadend=x:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(x)},w.onabort=function(){w&&(r(new cn("Request aborted",cn.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new cn("Network Error",cn.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let I=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const O=a.transitional||GP;a.timeoutErrorMessage&&(I=a.timeoutErrorMessage),r(new cn(I,O.clarifyTimeoutError?cn.ETIMEDOUT:cn.ECONNABORTED,e,w)),w=null},i===void 0&&s.setContentType(null),"setRequestHeader"in w&&Te.forEach(s.toJSON(),function(I,O){w.setRequestHeader(O,I)}),Te.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),o&&o!=="json"&&(w.responseType=a.responseType),d&&([m,b]=Wv(d,!0),w.addEventListener("progress",m)),c&&w.upload&&([h,g]=Wv(c),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",g)),(a.cancelToken||a.signal)&&(f=R=>{w&&(r(!R||R.type?new _f(null,e,w):R),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const k=cZ(a.url);if(k&&ii.protocols.indexOf(k)===-1){r(new cn("Unsupported protocol "+k+":",cn.ERR_BAD_REQUEST,e));return}w.send(i||null)})},vZ=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const i=function(d){if(!a){a=!0,o();const f=d instanceof Error?d:this.reason;r.abort(f instanceof cn?f:new _f(f instanceof Error?f.message:f))}};let s=t&&setTimeout(()=>{s=null,i(new cn(`timeout ${t} of ms exceeded`,cn.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>Te.asap(o),c}},bZ=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},_Z=async function*(e,t){for await(const n of wZ(e))yield*bZ(n,t)},wZ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},sR=(e,t,n,r)=>{const a=_Z(e,t);let i=0,s,o=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:f}=await a.next();if(d){o(),c.close();return}let h=f.byteLength;if(n){let m=i+=h;n(m)}c.enqueue(new Uint8Array(f))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},v1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",e5=v1&&typeof ReadableStream=="function",xZ=v1&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),t5=(e,...t)=>{try{return!!e(...t)}catch{return!1}},CZ=e5&&t5(()=>{let e=!1;const t=new Request(ii.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),oR=64*1024,SC=e5&&t5(()=>Te.isReadableStream(new Response("").body)),Gv={stream:SC&&(e=>e.body)};v1&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Gv[t]&&(Gv[t]=Te.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new cn(`Response type '${t}' is not supported`,cn.ERR_NOT_SUPPORT,r)})})})(new Response);const DZ=async e=>{if(e==null)return 0;if(Te.isBlob(e))return e.size;if(Te.isSpecCompliantForm(e))return(await new Request(ii.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Te.isArrayBufferView(e)||Te.isArrayBuffer(e))return e.byteLength;if(Te.isURLSearchParams(e)&&(e=e+""),Te.isString(e))return(await xZ(e)).byteLength},SZ=async(e,t)=>{const n=Te.toFiniteNumber(e.getContentLength());return n??DZ(t)},EZ=v1&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:i,timeout:s,onDownloadProgress:o,onUploadProgress:c,responseType:d,headers:f,withCredentials:h="same-origin",fetchOptions:m}=JP(e);d=d?(d+"").toLowerCase():"text";let g=vZ([a,i&&i.toAbortSignal()],s),b;const _=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let w;try{if(c&&CZ&&n!=="get"&&n!=="head"&&(w=await SZ(f,r))!==0){let O=new Request(t,{method:"POST",body:r,duplex:"half"}),A;if(Te.isFormData(r)&&(A=O.headers.get("content-type"))&&f.setContentType(A),O.body){const[L,C]=rR(w,Wv(aR(c)));r=sR(O.body,oR,L,C)}}Te.isString(h)||(h=h?"include":"omit");const x="credentials"in Request.prototype;b=new Request(t,{...m,signal:g,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:x?h:void 0});let k=await fetch(b);const R=SC&&(d==="stream"||d==="response");if(SC&&(o||R&&_)){const O={};["status","statusText","headers"].forEach(T=>{O[T]=k[T]});const A=Te.toFiniteNumber(k.headers.get("content-length")),[L,C]=o&&rR(A,Wv(aR(o),!0))||[];k=new Response(sR(k.body,oR,L,()=>{C&&C(),_&&_()}),O)}d=d||"text";let I=await Gv[Te.findKey(Gv,d)||"text"](k,e);return!R&&_&&_(),await new Promise((O,A)=>{ZP(O,A,{data:I,headers:ji.from(k.headers),status:k.status,statusText:k.statusText,config:e,request:b})})}catch(x){throw _&&_(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new cn("Network Error",cn.ERR_NETWORK,e,b),{cause:x.cause||x}):cn.from(x,x&&x.code,e,b)}}),EC={http:$Q,xhr:yZ,fetch:EZ};Te.forEach(EC,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const lR=e=>`- ${e}`,MZ=e=>Te.isFunction(e)||e===null||e===!1,n5={getAdapter:e=>{e=Te.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let s;if(r=n,!MZ(n)&&(r=EC[(s=String(n)).toLowerCase()],r===void 0))throw new cn(`Unknown adapter '${s}'`);if(r)break;a[s||"#"+i]=r}if(!r){const i=Object.entries(a).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?i.length>1?`since :
`+i.map(lR).join(`
`):" "+lR(i[0]):"as no adapter specified";throw new cn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:EC};function Ew(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _f(null,e)}function cR(e){return Ew(e),e.headers=ji.from(e.headers),e.data=Sw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),n5.getAdapter(e.adapter||im.adapter)(e).then(function(r){return Ew(e),r.data=Sw.call(e,e.transformResponse,r),r.headers=ji.from(r.headers),r},function(r){return QP(r)||(Ew(e),r&&r.response&&(r.response.data=Sw.call(e,e.transformResponse,r.response),r.response.headers=ji.from(r.response.headers))),Promise.reject(r)})}const r5="1.9.0",b1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{b1[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const uR={};b1.transitional=function(t,n,r){function a(i,s){return"[Axios v"+r5+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,o)=>{if(t===!1)throw new cn(a(s," has been removed"+(n?" in "+n:"")),cn.ERR_DEPRECATED);return n&&!uR[s]&&(uR[s]=!0,console.warn(a(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,s,o):!0}};b1.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function TZ(e,t,n){if(typeof e!="object")throw new cn("options must be an object",cn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],s=t[i];if(s){const o=e[i],c=o===void 0||s(o,i,e);if(c!==!0)throw new cn("option "+i+" must be "+c,cn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new cn("Unknown option "+i,cn.ERR_BAD_OPTION)}}const Ey={assertOptions:TZ,validators:b1},fo=Ey.validators;let yu=class{constructor(t){this.defaults=t||{},this.interceptors={request:new tR,response:new tR}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Cu(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&Ey.assertOptions(r,{silentJSONParsing:fo.transitional(fo.boolean),forcedJSONParsing:fo.transitional(fo.boolean),clarifyTimeoutError:fo.transitional(fo.boolean)},!1),a!=null&&(Te.isFunction(a)?n.paramsSerializer={serialize:a}:Ey.assertOptions(a,{encode:fo.function,serialize:fo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ey.assertOptions(n,{baseUrl:fo.spelling("baseURL"),withXsrfToken:fo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&Te.merge(i.common,i[n.method]);i&&Te.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),n.headers=ji.concat(s,i);const o=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(c=c&&_.synchronous,o.unshift(_.fulfilled,_.rejected))});const d=[];this.interceptors.response.forEach(function(_){d.push(_.fulfilled,_.rejected)});let f,h=0,m;if(!c){const b=[cR.bind(this),void 0];for(b.unshift.apply(b,o),b.push.apply(b,d),m=b.length,f=Promise.resolve(n);h<m;)f=f.then(b[h++],b[h++]);return f}m=o.length;let g=n;for(h=0;h<m;){const b=o[h++],_=o[h++];try{g=b(g)}catch(w){_.call(this,w);break}}try{f=cR.call(this,g)}catch(b){return Promise.reject(b)}for(h=0,m=d.length;h<m;)f=f.then(d[h++],d[h++]);return f}getUri(t){t=Cu(this.defaults,t);const n=XP(t.baseURL,t.url,t.allowAbsoluteUrls);return WP(n,t.params,t.paramsSerializer)}};Te.forEach(["delete","get","head","options"],function(t){yu.prototype[t]=function(n,r){return this.request(Cu(r||{},{method:t,url:n,data:(r||{}).data}))}});Te.forEach(["post","put","patch"],function(t){function n(r){return function(i,s,o){return this.request(Cu(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}yu.prototype[t]=n(),yu.prototype[t+"Form"]=n(!0)});let kZ=class a5{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(o=>{r.subscribe(o),i=o}).then(a);return s.cancel=function(){r.unsubscribe(i)},s},t(function(i,s,o){r.reason||(r.reason=new _f(i,s,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new a5(function(a){t=a}),cancel:t}}};function RZ(e){return function(n){return e.apply(null,n)}}function AZ(e){return Te.isObject(e)&&e.isAxiosError===!0}const MC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(MC).forEach(([e,t])=>{MC[t]=e});function i5(e){const t=new yu(e),n=PP(yu.prototype.request,t);return Te.extend(n,yu.prototype,t,{allOwnKeys:!0}),Te.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return i5(Cu(e,a))},n}const pa=i5(im);pa.Axios=yu;pa.CanceledError=_f;pa.CancelToken=kZ;pa.isCancel=QP;pa.VERSION=r5;pa.toFormData=y1;pa.AxiosError=cn;pa.Cancel=pa.CanceledError;pa.all=function(t){return Promise.all(t)};pa.spread=RZ;pa.isAxiosError=AZ;pa.mergeConfig=Cu;pa.AxiosHeaders=ji;pa.formToJSON=e=>KP(Te.isHTMLForm(e)?new FormData(e):e);pa.getAdapter=n5.getAdapter;pa.HttpStatusCode=MC;pa.default=pa;const{Axios:bke,AxiosError:_ke,CanceledError:wke,isCancel:xke,CancelToken:Cke,VERSION:Dke,all:Ske,Cancel:Eke,isAxiosError:Mke,spread:Tke,toFormData:kke,AxiosHeaders:Rke,HttpStatusCode:Ake,formToJSON:Oke,getAdapter:Lke,mergeConfig:Nke}=pa,OZ="AIzaSyCr05_9Bg1oZE7uJcGg48mWzOo4rLjxTQ8";async function mS(e,t){const n=`https://sheets.googleapis.com/v4/spreadsheets/${e}/values/${encodeURIComponent(t)}?key=${OZ}`;return(await pa.get(n)).data.values}const LZ="1tvMgMHsRwQxsR6lMNlSnztmwpK7fhZeNEyqjTqmRFRc",NZ="BCAPL SIGNUP",PZ="https://newapp-xyen.onrender.com";function dR(e){if(!e)return"";e=e.trim().toLowerCase().replace(/\s+/g,"");let t=e.match(/^(\d{1,2})(:?(\d{2}))?(am|pm)$/);if(!t)return e.toUpperCase();let[,n,,r,a]=t;return r||(r="00"),`${parseInt(n,10)}:${r} ${a.toUpperCase()}`}function IZ(e){const t={Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat"},n={Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[]};return e&&e.split(/\r?\n/).forEach(r=>{const a=r.match(/Day:\s*(\w+),\s*Available From:\s*([\w:]+),\s*Available Until:\s*([\w: ]+)/i);if(a){const[i,s,o,c]=a,d=t[s];if(d){const f=dR(o),h=dR(c);n[d].push(`${f} - ${h}`)}}}),n}async function FZ(e){try{if(!e)return console.warn("No division selected for standings"),[];const t=e.replace(/[^A-Za-z0-9]/g,"_"),n=`${PZ}/static/standings_${t}.json`,r=await fetch(n);if(!r.ok)throw new Error(`Failed to fetch standings: ${r.status}`);const a=await r.json();if(!Array.isArray(a))return console.error("Standings data is not an array:",a),[];const i=a.filter(s=>{if(!s||typeof s!="object")return console.warn("Invalid standings entry:",s),!1;if(!s.name||!s.rank)return console.warn("Standings entry missing name or rank:",s),!1;const o=parseInt(s.rank);return isNaN(o)||o<=0?(console.warn("Invalid rank in standings entry:",s),!1):!0});return console.log(`Loaded ${i.length} valid standings entries for division: ${e}`),i}catch(t){return console.error("Failed to load standings:",t),[]}}function ef(e,t){const n=t.toLowerCase().trim(),r=e.find(a=>a.name.toLowerCase().trim()===n);return r?parseInt(r.rank):null}function jZ(e,t){return e.sort((n,r)=>{const a=`${n.firstName} ${n.lastName}`,i=`${r.firstName} ${r.lastName}`,s=ef(t,a),o=ef(t,i);return s!==null&&o!==null?s-o:s!==null&&o===null?-1:s===null&&o!==null?1:a.localeCompare(i)})}function UZ(e,t,n){if(!t||t.length===0)return console.warn("No standings data available for Phase 2 filtering"),e;console.log("=== PHASE 2 FILTERING DEBUG ==="),console.log("Current player name:",n),console.log("Standings data:",t),console.log("All players from sheet:",e.map(i=>`${i.firstName} ${i.lastName}`));const r=ef(t,n);if(r===null)return console.warn(`Player ${n} not found in standings`),console.log("Available standings names:",t.map(i=>i.name)),e;console.log(`Phase 2 filtering: ${n} is at position ${r}`);const a=e.filter(i=>{const s=`${i.firstName} ${i.lastName}`,o=ef(t,s);if(o===null)return console.warn(`Opponent ${s} not found in standings - excluding from Phase 2`),!1;const c=o-r,d=c<0&&c>=-4;return console.log(`${s} (${o}) - difference: ${c}, eligible: ${d}`),d});return console.log(`Phase 2 filtering complete: ${a.length} eligible opponents out of ${e.length} total players`),console.log("Eligible players:",a.map(i=>`${i.firstName} ${i.lastName}`)),console.log("=== END PHASE 2 DEBUG ==="),a}function TC({onClose:e,excludeName:t,senderName:n,senderEmail:r,onProposalComplete:a,selectedDivision:i,phase:s}){const[o,c]=E.useState([]),[d,f]=E.useState(""),[h,m]=E.useState(!0),[g,b]=E.useState([]),[_,w]=E.useState("search"),[x,k]=E.useState(null),[R,I]=E.useState(null);E.useEffect(()=>{},[o]),E.useEffect(()=>{let C=!0;async function T(){try{const S=await FZ(i);C&&b(S);const j=await mS(LZ,`${NZ}!A1:L1000`);if(!j||j.length===0){C&&c([]),m(!1);return}let B=j.slice(1).map(H=>({firstName:H[0]||"",lastName:H[1]||"",email:H[2]||"",phone:H[3]||"",locations:H[8]||"",availability:IZ(H[7]||""),pin:H[11]||"",preferredContacts:(H[10]||"").split(/\r?\n/).map(U=>U.trim().toLowerCase()).filter(Boolean)})).filter(H=>H.email&&H.firstName&&H.lastName&&`${H.firstName} ${H.lastName}`.toLowerCase()!==(t==null?void 0:t.toLowerCase()));s==="challenge"&&S.length>0?(console.log("🔄 Phase value:",s),console.log("🔄 Standings data length:",S.length),console.log("🔄 Sender name:",n),B=UZ(B,S,n),B=jZ(B,S)):(console.log("🔄   - phase === 'challenge':",s==="challenge"),console.log("🔄   - standingsData.length > 0:",S.length>0),console.log("🔄   - phase value:",s),console.log("🔄   - standingsData length:",S.length)),C&&(c(B),setTimeout(()=>{},2e3))}catch(S){console.error("Error loading data:",S),C&&c([])}finally{C&&m(!1)}}return T(),()=>{C=!1}},[t,s,n,i]);const O=d.length>=3?o.filter(C=>`${C.firstName} ${C.lastName}`.toLowerCase().includes(d.toLowerCase())&&`${C.firstName} ${C.lastName}`.toLowerCase()!==(t==null?void 0:t.toLowerCase())):[],A=ef(g,n),L=D.jsxs(D.Fragment,{children:[_==="search"&&D.jsx(os,{open:!0,onClose:e,title:"🔍 Player Search",maxWidth:"500px",children:s==="challenge"?D.jsxs(D.Fragment,{children:[D.jsxs("div",{style:{background:"rgba(229, 62, 62, 0.1)",border:"1px solid #e53e3e",borderRadius:"6px",padding:"1rem",marginBottom:"1.5rem",color:"#fff"},children:[D.jsx("strong",{children:"Phase 2 (Challenge):"})," You can only challenge players ranked 4 spots above in the standings.",D.jsx("br",{}),D.jsxs("span",{style:{fontSize:"1rem",color:"#fff",marginTop:8,display:"block"},children:[D.jsx("b",{children:"Your Position:"})," #",A??"N/A"]}),o.length>0&&D.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",opacity:.9},children:[o.length," eligible opponent",o.length!==1?"s":""," available"]})]}),h?D.jsx("p",{style:{color:"#fff",textAlign:"center"},children:"Loading players..."}):D.jsx("div",{style:{maxHeight:"60vh",overflowY:"auto"},children:o.length===0?D.jsx("p",{style:{color:"#888",textAlign:"center",fontStyle:"italic"},children:"No eligible opponents found within 4 spots above you in the standings."}):D.jsx("div",{style:{display:"grid",gap:"8px"},children:o.map((C,T)=>{const S=`${C.firstName} ${C.lastName}`,j=ef(g,S);return D.jsx("button",{onClick:()=>{k(C),w("availability")},style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"1rem",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseEnter:B=>{B.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",B.target.style.transform="translateY(-2px)",B.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:B=>{B.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",B.target.style.transform="translateY(0)",B.target.style.boxShadow="none"},children:D.jsxs("span",{style:{fontWeight:"bold",color:"#fff"},children:["#",j??"N/A"," ",S]})},T)})})})]}):D.jsxs(D.Fragment,{children:[d.length>=3&&O.length>0&&D.jsx("div",{style:{color:"#e53e3e",fontSize:"0.9rem",marginBottom:"1rem",textAlign:"center"},children:"Click opponent's name to see availability."}),D.jsx("input",{type:"text",placeholder:"Type at least 3 letters to search...",value:d,onChange:C=>f(C.target.value),autoFocus:!0,"aria-label":"Search for player",style:{width:"100%",padding:"0.75rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"6px",fontSize:"1rem",marginBottom:"1rem"}}),h?D.jsx("p",{style:{color:"#fff",textAlign:"center"},children:"Loading players..."}):D.jsx(D.Fragment,{children:d.length<3?D.jsx("p",{style:{color:"#888",textAlign:"center",fontStyle:"italic"},children:"Please enter at least 3 letters to search for a player."}):D.jsx("div",{style:{maxHeight:"60vh",overflowY:"auto"},children:O.length===0?D.jsx("p",{style:{color:"#888",textAlign:"center",fontStyle:"italic"},children:"No players found."}):D.jsx("div",{style:{display:"grid",gap:"8px"},children:O.map((C,T)=>D.jsx("button",{onClick:()=>{k(C),w("availability")},style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"1rem",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseEnter:S=>{S.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",S.target.style.transform="translateY(-2px)",S.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:S=>{S.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",S.target.style.transform="translateY(0)",S.target.style.boxShadow="none"},children:D.jsx(T$,{text:`${C.firstName} ${C.lastName}`,query:d})},T))})})})]})}),_==="availability"&&x&&D.jsx(TN,{player:x,onClose:e,onProposeMatch:(C,T,S,j)=>{I({player:x,day:C,slot:T,phase:S,selectedDivision:j||i}),w("proposal")},phase:s,selectedDivision:i}),_==="proposal"&&R&&D.jsx(D.Fragment,{children:D.jsx(NP,{player:R.player,day:R.day,slot:R.slot,onClose:e,senderName:n,senderEmail:r,onProposalComplete:()=>{w("search"),I(null),k(null),a&&a(),e()},phase:R.phase,selectedDivision:R.selectedDivision||i})})]});return K0.createPortal(L,document.body)}function BZ(e){if(!e)return"N/A";if(e.includes("-")&&e.length===10){const[i,s,o]=e.split("-"),c=new Date(parseInt(i),parseInt(s)-1,parseInt(o)),d=String(c.getMonth()+1).padStart(2,"0"),f=String(c.getDate()).padStart(2,"0"),h=c.getFullYear();return`${d}-${f}-${h}`}let t;if(e.includes("-"))t=new Date(e);else if(e.includes("/")){const i=e.split("/");if(i.length===3){const[s,o,c]=i;t=new Date(c,s-1,o)}else return e}else return e;if(isNaN(t.getTime()))return e;const n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),a=t.getFullYear();return`${n}-${r}-${a}`}function $Z({proposal:e,open:t,onClose:n,onEdit:r,onMessage:a}){if(E.useEffect(()=>{t&&setTimeout(()=>{window.dispatchEvent(new Event("resize"))},50)},[t]),!t||!e)return null;const{senderName:i,receiverName:s,day:o,date:c,time:d,location:f,gameType:h,raceLength:m,message:g,proposalNote:b}=e,_=window.innerWidth<=500,[w,x]=E.useState(!1),[k,R]=E.useState("");async function I(){x(!0),R("");try{if(!(await fetch(`/api/proposals/${e._id}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"confirmed"})})).ok)throw new Error("Failed to confirm proposal");n&&n()}catch(A){R(A.message||"Failed to confirm proposal")}finally{x(!1)}}const O=D.jsxs(os,{open:t,onClose:n,title:"🎱 Proposal Details",maxWidth:_?"99vw":"480px",children:[e.isCounter&&D.jsxs("div",{style:{color:"#ff9800",fontWeight:"bold",marginBottom:8,fontSize:"1.05em",textAlign:"center"},children:["This is a counter proposal from ",e.counteredBy||"your opponent"]}),D.jsxs("div",{style:{textAlign:"left",marginBottom:_?"0.7rem":"1.5rem",fontSize:_?"0.95rem":"1.05rem",padding:_?"0.2rem 0.2rem":void 0},children:[D.jsxs("div",{className:Oe.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0},children:[D.jsx("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0},children:"You:"}),D.jsx("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"},children:i||"N/A"})]}),D.jsxs("div",{className:Oe.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0},children:[D.jsx("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0},children:"Opponent:"}),D.jsx("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"},children:s||"N/A"})]}),o&&D.jsxs("div",{className:Oe.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0},children:[D.jsx("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0},children:"Day:"}),D.jsx("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"},children:o})]}),D.jsxs("div",{className:Oe.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0},children:[D.jsx("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0},children:"Date:"}),D.jsx("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"},children:BZ(c)})]}),D.jsxs("div",{className:Oe.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0},children:[D.jsx("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0},children:"Time:"}),D.jsx("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"},children:d||"N/A"})]}),D.jsxs("div",{className:Oe.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0},children:[D.jsx("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0},children:"Location:"}),D.jsx("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"},children:f||"N/A"})]}),h&&D.jsxs("div",{className:Oe.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0},children:[D.jsx(Q0,{gameType:h,size:_?12:16}),D.jsx("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0},children:"Game:"}),D.jsx("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"},children:h})]}),m&&D.jsxs("div",{className:Oe.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0},children:[D.jsx("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0},children:"Race:"}),D.jsx("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"},children:m})]}),b&&D.jsxs("div",{style:{margin:_?"8px 0 0 0":"16px 0 0 0",padding:_?"0.4rem 0.5rem":"0.8rem 1rem",background:"rgba(255, 193, 7, 0.1)",borderLeft:"3px solid #ffc107",borderRadius:"6px",color:"#ffc107",fontSize:_?"0.9rem":"0.95rem",textAlign:"left"},children:[D.jsx("span",{role:"img","aria-label":"note",children:"📝"})," ",D.jsx("strong",{children:"Note:"}),D.jsx("br",{}),b]})]}),D.jsxs("div",{style:{display:"flex",gap:_?6:12,justifyContent:"center",marginTop:_?10:24,flexDirection:_?"column":"row",alignItems:_?"stretch":"center"},children:[r&&D.jsx("button",{className:Oe.dashboardBtn,onClick:r,style:{background:"#e53e3e",color:"#fff",minWidth:_?"90px":"120px",fontSize:_?"0.95em":void 0,padding:_?"0.5em 0.7em":void 0},children:"Edit"}),a&&D.jsx("button",{className:Oe.dashboardBtn,onClick:a,style:{background:"#007bff",color:"#fff",minWidth:_?"90px":"120px",fontSize:_?"0.95em":void 0,padding:_?"0.5em 0.7em":void 0},children:"Msg"}),e.isCounter&&e.status==="countered"&&D.jsx("button",{className:Oe.dashboardBtn,onClick:I,disabled:w,style:{background:"#43a047",color:"#fff",minWidth:_?"90px":"120px",fontSize:_?"0.95em":void 0,padding:_?"0.5em 0.7em":void 0},children:w?"Confirming...":"Confirm"}),D.jsx("button",{className:Oe.dashboardBtn,onClick:n,style:{background:"#6c757d",color:"#fff",minWidth:_?"90px":"120px",fontSize:_?"0.95em":void 0,padding:_?"0.5em 0.7em":void 0},children:"Close"})]}),k&&D.jsx("div",{style:{color:"red",marginTop:8},children:k})]});return K0.createPortal(O,document.body)}function Mw(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}const zZ="https://newapp-xyen.onrender.com";function HZ(e){const n=e.trim().replace(/\s+/g,"").toLowerCase().match(/^(\d{1,2})(:\d{2})?(am|pm)$/);if(n){const a=n[1],i=n[2]?n[2]:":00",s=n[3].toUpperCase();return`${a}${i} ${s}`}const r=e.trim().match(/^(\d{1,2})(:\d{2})?\s?(am|pm)$/i);if(r){const a=r[1],i=r[2]?r[2]:":00",s=r[3].toUpperCase();return`${a}${i} ${s}`}return e.trim()}const VZ=e=>e.replace(/[–—−]/g,"-").replace(/\s*-\s*/g," - ").trim();function qZ({proposal:e,open:t,onClose:n,onSave:r,selectedDivision:a,phase:i,receiverPlayer:s}){var N;const[o,c]=E.useState(new Date),[d,f]=E.useState(""),[h,m]=E.useState(""),[g,b]=E.useState(""),[_,w]=E.useState(""),[x,k]=E.useState(""),[R,I]=E.useState(""),[O,A]=E.useState(""),[L,C]=E.useState(!1);E.useEffect(()=>{if(e&&t){if(e.date){const[W,K,$]=e.date.split("-");c(new Date(parseInt(W),parseInt(K)-1,parseInt($)))}f(e.time||""),b(e.location||""),w(e.message||""),k(e.gameType||""),I(e.raceLength||"")}},[e,t]);const S=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][o.getDay()],B=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][o.getDay()],H=((N=s==null?void 0:s.availability)==null?void 0:N[B])||[];console.log("EditProposalModal - Receiver player:",s),console.log("EditProposalModal - Selected day short:",B),console.log("EditProposalModal - Opponent time blocks:",H);const U=["6:00 PM - 8:00 PM","8:00 PM - 10:00 PM","10:00 PM - 12:00 AM"],z=H.length>0?H:U;console.log("EditProposalModal - Available time blocks:",z);const F=!s&&t,V=v.useMemo(()=>{if(!d)return console.log("EditProposalModal - No time selected:",d),[];console.log("EditProposalModal - Selected time block:",d);const W=VZ(d);if(console.log("EditProposalModal - Normalized slot:",W),!W.includes(" - "))return console.log("EditProposalModal - No dash found in normalized slot"),[];let[K,$]=W.split(" - ").map(oe=>HZ(oe.trim()));if(console.log("EditProposalModal - Normalized times:",{blockStart:K,blockEnd:$}),!K||!$)return console.log("EditProposalModal - Failed to normalize times"),[];const J=HD(K,$,30);return console.log("EditProposalModal - Generated start times:",J),console.log("EditProposalModal - Times array length:",J.length),J},[d]);E.useEffect(()=>{m("")},[d]);const Y=async()=>{if(!h||!g){A("Please fill in all required fields.");return}C(!0),A("");try{const W=await fetch(`${zZ}/api/proposals/${e._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:Mw(o),time:h,location:g,message:_,gameType:x,raceLength:R,phase:i,divisions:[a]})}),K=await W.json();if(!W.ok)throw new Error(K.error||"Failed to update proposal");r&&r({...e,date:Mw(o),time:h,location:g,message:_,gameType:x,raceLength:R}),n()}catch(W){A(W.message||"Failed to update proposal")}finally{C(!1)}};if(!t||!e)return null;const q=D.jsx(os,{open:t,onClose:n,title:"✏️ Edit Proposal",maxWidth:"400px",children:D.jsxs("div",{className:Oe.proposalModalContent,style:{width:"100%",maxWidth:400,margin:"0 auto"},children:[D.jsxs("div",{className:Oe.proposalModalHeaderBar,children:[D.jsx("span",{className:Oe.phasePill,children:"Phase 1: Scheduled Match Phase"}),D.jsxs("span",{className:Oe.divisionPill,children:["Division: ",a||"N/A"]})]}),D.jsxs("div",{className:Oe.proposalModalToRow,children:[D.jsx("span",{className:Oe.toOpponentLabel,children:"To Opponent:"}),D.jsx("span",{className:Oe.toOpponentName,children:e.receiverName})]}),D.jsxs("div",{className:Oe.proposalModalDayRow,children:[D.jsx("span",{className:Oe.dayLabel,children:"Day:"}),D.jsx("span",{className:Oe.dayValue,children:S})]}),D.jsxs("div",{className:Oe.formGroup,style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[D.jsx("label",{htmlFor:"proposal-date",style:{marginBottom:4,textAlign:"center"},children:"Date"}),D.jsx("input",{id:"proposal-date",type:"date",value:Mw(o),onChange:W=>{const[K,$,J]=W.target.value.split("-");c(new Date(parseInt(K),parseInt($)-1,parseInt(J)))},className:Oe.input,required:!0,style:{textAlign:"center"}})]}),D.jsxs("div",{className:Oe.proposalModalFieldRow,children:[D.jsx("span",{className:Oe.fieldLabel,children:"Time Block:"}),F&&D.jsx("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginBottom:"0.5rem"},children:"⚠️ Opponent availability data not available. Using default time blocks."}),s&&H.length===0&&D.jsxs("div",{style:{color:"#ffa500",fontSize:"0.9rem",marginBottom:"0.5rem"},children:["ℹ️ No availability for ",S,". Using default time blocks."]}),D.jsxs("select",{value:d,onChange:W=>f(W.target.value),className:Oe.inputField,children:[D.jsx("option",{value:"",children:"Select time block"}),z.map(W=>D.jsx("option",{value:W,children:W},W))]})]}),D.jsxs("div",{className:Oe.proposalModalFieldRow,children:[D.jsx("span",{className:Oe.fieldLabel,children:"Start Time:"}),D.jsxs("select",{value:h,onChange:W=>m(W.target.value),className:Oe.inputField,children:[D.jsx("option",{value:"",children:"Select start time"}),V.map(W=>D.jsx("option",{value:W,children:W},W))]})]}),D.jsxs("div",{className:Oe.proposalModalFieldRow,children:[D.jsx("span",{className:Oe.fieldLabel,children:"Game Type:"}),D.jsxs("select",{value:x,onChange:W=>k(W.target.value),className:Oe.inputField,children:[D.jsx("option",{value:"",children:"Select game type"}),D.jsx("option",{value:"8 Ball",children:"8 Ball"}),D.jsx("option",{value:"9 Ball",children:"9 Ball"}),D.jsx("option",{value:"10 Ball",children:"10 Ball"}),D.jsx("option",{value:"Mixed",children:"Mixed"})]})]}),D.jsxs("div",{className:Oe.proposalModalFieldRow,children:[D.jsx("span",{className:Oe.fieldLabel,children:"Race Length:"}),D.jsxs("select",{value:R,onChange:W=>I(W.target.value),className:Oe.inputField,children:[D.jsx("option",{value:"",children:"Select race length"}),D.jsx("option",{value:"3",children:"3"}),D.jsx("option",{value:"5",children:"5"}),D.jsx("option",{value:"7",children:"7"}),D.jsx("option",{value:"9",children:"9"})]})]}),D.jsxs("div",{className:Oe.proposalModalFieldRow,children:[D.jsx("span",{className:Oe.fieldLabel,children:"Location:"}),D.jsx("input",{type:"text",value:g,onChange:W=>b(W.target.value),placeholder:"Enter location",className:Oe.inputField})]}),D.jsxs("div",{className:Oe.proposalModalFieldRow,children:[D.jsx("span",{className:Oe.fieldLabel,children:"Message to Opponent:"}),D.jsx("textarea",{value:_,onChange:W=>w(W.target.value),placeholder:"Message to opponent",rows:3,className:Oe.inputField})]}),O&&D.jsx("div",{className:Oe.errorBox,children:O}),D.jsxs("div",{className:Oe.proposalModalButtonRow,children:[D.jsx("button",{className:Oe.dashboardBtn,onClick:Y,disabled:L,style:{width:"48%"},children:L?"Saving...":"Save Changes"}),D.jsx("button",{className:Oe.dashboardBtn,onClick:n,disabled:L,style:{width:"48%"},children:"Cancel"})]})]})});return K0.createPortal(q,document.body)}function fR({loading:e,children:t,loadingText:n="Loading...",disabled:r=!1,...a}){return D.jsxs("button",{...a,disabled:e||r,style:{...a.style,position:"relative",opacity:e?.7:1,cursor:e?"not-allowed":"pointer"},children:[e?D.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[D.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid rgba(255,255,255,0.3)",borderTop:"2px solid #fff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),n]}):t,D.jsx("style",{jsx:!0,children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function YZ({lines:e=3,height:t="20px",width:n="100%",gap:r="8px"}){return D.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r,padding:"16px"},children:[Array.from({length:e}).map((a,i)=>D.jsx("div",{style:{height:t,width:i===e-1?"60%":n,background:"linear-gradient(90deg, #333 25%, #444 50%, #333 75%)",backgroundSize:"200% 100%",borderRadius:"4px",animation:"shimmer 1.5s infinite"}},i)),D.jsx("style",{jsx:!0,children:`
        @keyframes shimmer {
          0% { background-position: -200% 0; }
          100% { background-position: 200% 0; }
        }
      `})]})}const hR={async validateChallenge(e,t,n,r=!1,a=null){return aa.post("/api/challenges/validate",{senderName:e,receiverName:t,division:n,isRematch:r,originalChallengeId:a})},async getChallengeStats(e,t){return aa.get(`/api/challenges/stats/${encodeURIComponent(e)}/${encodeURIComponent(t)}`)},async getChallengeLimits(e,t){return aa.get(`/api/challenges/limits/${encodeURIComponent(e)}/${encodeURIComponent(t)}`)},async getEligibleOpponents(e,t){return aa.get(`/api/challenges/eligible-opponents/${encodeURIComponent(e)}/${encodeURIComponent(t)}`)},async getDivisionChallengeStats(e){return aa.get(`/api/challenges/division-stats/${encodeURIComponent(e)}`)},async updateChallengeStats(e,t,n){return aa.put(`/api/challenges/stats/${encodeURIComponent(e)}/${encodeURIComponent(t)}`,n)},async resetDivisionChallengeStats(e){return aa.delete(`/api/challenges/division-stats/${encodeURIComponent(e)}`)}};function WZ({playerName:e,division:t,phase:n}){const[r,a]=E.useState(null),[i,s]=E.useState(null),[o,c]=E.useState(!0),[d,f]=E.useState(null);if(E.useEffect(()=>{if(!e||!t||n!=="challenge"){c(!1);return}async function g(){try{c(!0),f(null);const[b,_]=await Promise.all([hR.getChallengeStats(e,t),hR.getChallengeLimits(e,t)]);a(b),s(_)}catch(b){console.error("Error loading challenge data:",b),f("Failed to load challenge statistics")}finally{c(!1)}}g()},[e,t,n]),n!=="challenge")return null;if(o)return D.jsx("div",{className:Oe.challengeStatsContainer,children:D.jsx("div",{style:{textAlign:"center",padding:"1rem",color:"#888"},children:"Loading challenge statistics..."})});if(d)return D.jsx("div",{className:Oe.challengeStatsContainer,children:D.jsx("div",{style:{textAlign:"center",padding:"1rem",color:"#e53e3e",background:"rgba(229, 62, 62, 0.1)",border:"1px solid #e53e3e",borderRadius:"6px"},children:d})});if(!r||!i)return null;const h=g=>g?"#28a745":"#e53e3e",m=(g,b)=>{const _=g/b*100;return _>=90?"#e53e3e":_>=75?"#ffc107":"#28a745"};return D.jsxs("div",{className:Oe.challengeStatsContainer,style:{padding:"0.75rem",marginBottom:"1rem"},children:[D.jsxs("div",{className:Oe.challengeStatsHeader,style:{marginBottom:"0.75rem"},children:[D.jsx("h3",{style:{color:"#e53e3e",margin:"0 0 0.25rem 0",fontSize:"1.3rem"},children:"🏆 Challenge Stats"}),D.jsxs("div",{style:{fontSize:"0.8rem",color:"#888"},children:["Week ",r.currentWeek," • Position #",r.currentStanding||"N/A"]})]}),D.jsxs("div",{className:Oe.challengeStatsGrid,style:{gap:"0.5rem",marginBottom:"0.5rem"},children:[D.jsxs("div",{className:Oe.challengeStatCard,style:{padding:"0.5rem"},children:[D.jsxs("div",{className:Oe.challengeStatHeader,style:{marginBottom:"0.5rem",fontSize:"0.9rem"},children:[D.jsx("span",{children:"Challenges"}),D.jsxs("span",{style:{color:h(r.isEligibleForChallenges),fontWeight:"bold"},children:[r.totalChallengeMatches,"/",i.limits.maxChallengeMatches]})]}),D.jsx("div",{className:Oe.challengeProgressBar,style:{marginBottom:"0.5rem",height:"6px"},children:D.jsx("div",{className:Oe.challengeProgressFill,style:{width:`${r.totalChallengeMatches/i.limits.maxChallengeMatches*100}%`,backgroundColor:m(r.totalChallengeMatches,i.limits.maxChallengeMatches)}})}),D.jsxs("div",{className:Oe.challengeStatDetails,style:{fontSize:"0.8rem",lineHeight:"1.3"},children:[D.jsxs("div",{children:["Challenger: ",r.matchesAsChallenger," | Defender: ",r.matchesAsDefender]}),D.jsxs("div",{style:{color:r.remainingChallenges>0?"#28a745":"#e53e3e",fontWeight:"bold"},children:["Remaining: ",r.remainingChallenges]})]})]}),D.jsxs("div",{className:Oe.challengeStatCard,style:{padding:"0.5rem"},children:[D.jsxs("div",{className:Oe.challengeStatHeader,style:{marginBottom:"0.5rem",fontSize:"0.9rem"},children:[D.jsx("span",{children:"Defense"}),D.jsxs("span",{style:{color:h(r.isEligibleForDefense),fontWeight:"bold"},children:[r.requiredDefenses,"/",i.limits.maxRequiredDefenses]})]}),D.jsx("div",{className:Oe.challengeProgressBar,style:{marginBottom:"0.5rem",height:"6px"},children:D.jsx("div",{className:Oe.challengeProgressFill,style:{width:`${r.requiredDefenses/i.limits.maxRequiredDefenses*100}%`,backgroundColor:m(r.requiredDefenses,i.limits.maxRequiredDefenses)}})}),D.jsxs("div",{className:Oe.challengeStatDetails,style:{fontSize:"0.8rem",lineHeight:"1.3"},children:[D.jsxs("div",{children:["Required: ",r.requiredDefenses," | Voluntary: ",r.voluntaryDefenses]}),D.jsxs("div",{style:{color:r.remainingDefenses>0?"#28a745":"#e53e3e",fontWeight:"bold"},children:["Can Defend: ",r.remainingDefenses>0?"Yes":"No"]})]})]}),D.jsxs("div",{className:Oe.challengeStatCard,style:{padding:"0.5rem"},children:[D.jsxs("div",{className:Oe.challengeStatHeader,style:{marginBottom:"0.5rem",fontSize:"0.9rem"},children:[D.jsx("span",{children:"This Week"}),D.jsx("span",{style:{color:i.weeklyStatus.canChallengeThisWeek||i.weeklyStatus.canDefendThisWeek?"#28a745":"#e53e3e",fontWeight:"bold"},children:i.weeklyStatus.canChallengeThisWeek||i.weeklyStatus.canDefendThisWeek?"Available":"Busy"})]}),D.jsxs("div",{className:Oe.challengeStatDetails,style:{fontSize:"0.8rem",lineHeight:"1.3"},children:[D.jsxs("div",{children:["Challenges: ",i.weeklyStatus.challengesThisWeek," | Defenses: ",i.weeklyStatus.defensesThisWeek]}),D.jsxs("div",{style:{color:i.weeklyStatus.canChallengeThisWeek?"#28a745":"#e53e3e"},children:["Can Challenge: ",i.weeklyStatus.canChallengeThisWeek?"Yes":"No"]})]})]}),D.jsxs("div",{className:Oe.challengeStatCard,style:{padding:"0.5rem"},children:[D.jsxs("div",{className:Oe.challengeStatHeader,style:{marginBottom:"0.5rem",fontSize:"0.9rem"},children:[D.jsx("span",{children:"Opponents"}),D.jsx("span",{style:{color:r.eligibleOpponentsCount>0?"#28a745":"#e53e3e",fontWeight:"bold"},children:r.eligibleOpponentsCount})]}),D.jsxs("div",{className:Oe.challengeStatDetails,style:{fontSize:"0.8rem",lineHeight:"1.3"},children:[D.jsxs("div",{children:["Eligible: ",r.eligibleOpponentsCount," Available"]}),D.jsx("div",{style:{fontSize:"0.75rem",color:"#888"},children:r.challengedOpponents.length>0?`Challenged: ${r.challengedOpponents.slice(0,2).join(", ")}${r.challengedOpponents.length>2?"...":""}`:"No previous challenges"})]})]})]}),D.jsx("div",{className:Oe.challengeStatusSummary,style:{marginTop:"0.5rem"},children:D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem",background:"rgba(229, 62, 62, 0.1)",border:"1px solid #e53e3e",borderRadius:"4px",fontSize:"0.8rem"},children:[D.jsxs("div",{children:[D.jsx("strong",{style:{color:"#e53e3e"},children:"Status:"}),D.jsx("span",{style:{marginLeft:"0.25rem",color:"#fff"},children:r.hasReachedChallengeLimit?"Challenge Limit Reached":r.hasReachedDefenseLimit?"Defense Limit Reached":"Active"})]}),D.jsx("div",{style:{fontSize:"0.75rem",color:"#888"},children:new Date(r.lastUpdated).toLocaleDateString()})]})})]})}const GZ="_container_qqpwh_3",KZ="_header_qqpwh_23",QZ="_headerButtons_qqpwh_57",ZZ="_newChatButton_qqpwh_69",XZ="_closeButton_qqpwh_101",JZ="_content_qqpwh_133",eX="_conversationsList_qqpwh_147",tX="_loading_qqpwh_181",nX="_emptyState_qqpwh_193",rX="_startChatButton_qqpwh_215",aX="_conversationItems_qqpwh_245",iX="_conversationItem_qqpwh_245",sX="_active_qqpwh_283",oX="_conversationInfo_qqpwh_293",lX="_conversationName_qqpwh_303",cX="_lastMessage_qqpwh_321",uX="_conversationMeta_qqpwh_345",dX="_timestamp_qqpwh_361",fX="_unreadBadge_qqpwh_379",hX="_messagesArea_qqpwh_407",pX="_messagesHeader_qqpwh_421",mX="_messagesList_qqpwh_447",gX="_messageItem_qqpwh_465",yX="_myMessage_qqpwh_475",vX="_theirMessage_qqpwh_483",bX="_messageBubble_qqpwh_491",_X="_messageContent_qqpwh_527",wX="_messageTime_qqpwh_539",xX="_readStatus_qqpwh_563",CX="_noConversation_qqpwh_571",DX="_messageInput_qqpwh_591",SX="_sendButton_qqpwh_647",EX="_playerList_qqpwh_769",MX="_playerItem_qqpwh_781",TX="_selected_qqpwh_807",kX="_playerName_qqpwh_817",RX="_modalActions_qqpwh_847",AX="_cancelButton_qqpwh_861",OX="_startButton_qqpwh_893",LX="_error_qqpwh_939",yn={container:GZ,header:KZ,headerButtons:QZ,newChatButton:ZZ,closeButton:XZ,content:JZ,conversationsList:eX,loading:tX,emptyState:nX,startChatButton:rX,conversationItems:aX,conversationItem:iX,active:sX,conversationInfo:oX,conversationName:lX,lastMessage:cX,conversationMeta:uX,timestamp:dX,unreadBadge:fX,messagesArea:hX,messagesHeader:pX,messagesList:mX,messageItem:gX,myMessage:yX,theirMessage:vX,messageBubble:bX,messageContent:_X,messageTime:wX,readStatus:xX,noConversation:CX,messageInput:DX,sendButton:SX,playerList:EX,playerItem:MX,selected:TX,playerName:kX,modalActions:RX,cancelButton:AX,startButton:OX,error:LX},tu="https://newapp-xyen.onrender.com";console.log("BACKEND_URL in use:",tu);function NX({userName:e,userEmail:t,userPin:n,selectedDivision:r,opponentEmails:a=[],onClose:i}){console.log("Opponent Emails:",a);const[s,o]=E.useState([]),[c,d]=E.useState(null),[f,h]=E.useState([]),[m,g]=E.useState(""),[b,_]=E.useState(!1),[w,x]=E.useState(!1),[k,R]=E.useState(""),[I,O]=E.useState([]),[A,L]=E.useState(!1),[C,T]=E.useState(null),S=E.useRef(null);E.useEffect(()=>{async function F(){try{const Y=await(await fetch(`${tu}/api/users`)).json();Array.isArray(Y)&&O(Y.filter(q=>q.email!==t))}catch(V){console.error("Failed to load players:",V)}}F()},[t]),E.useEffect(()=>{async function F(){_(!0);try{const Y=await(await fetch(`${tu}/api/messages/conversations?user=${encodeURIComponent(t)}`)).json();console.log("Conversations fetch data:",Y),Array.isArray(Y)&&o(Y)}catch(V){console.error("Failed to load conversations:",V),R("Failed to load conversations")}finally{_(!1)}}F()},[t]),E.useEffect(()=>{if(!c){h([]);return}async function F(){try{const Y=await(await fetch(`${tu}/api/messages?user1=${encodeURIComponent(t)}&user2=${encodeURIComponent(c.email)}`)).json();Array.isArray(Y)&&(h(Y),Y.forEach(q=>{q.receiverEmail===t&&!q.read&&fetch(`${tu}/api/messages/${q._id}/read`,{method:"PUT"})}))}catch(V){console.error("Failed to load messages:",V),R("Failed to load messages")}}F()},[c,t]),E.useEffect(()=>{S.current&&S.current.scrollIntoView({behavior:"smooth"})},[f]);const j=async()=>{if(!m.trim()||!c)return;x(!0),R("");let F=c.email;if(!F){const V=I.find(Y=>Y.name===c.name&&Y.email);V&&(F=V.email)}if(console.log("Sending message to:",F),!F){R("No email found for selected opponent."),x(!1);return}try{const V=await fetch(`${tu}/api/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({senderEmail:t,receiverEmail:F,content:m})});if(console.log("Send response:",V),!V.ok)throw new Error("Failed to send message");g("");const q=await(await fetch(`${tu}/api/messages?user1=${encodeURIComponent(t)}&user2=${encodeURIComponent(F)}`)).json();Array.isArray(q)&&h(q)}catch(V){R(V.message||"Failed to send message")}finally{x(!1)}},B=async()=>{C&&(d(C),L(!1),T(null))},H=F=>F.unreadCount||0,U=F=>{const V=new Date(F),q=(new Date-V)/(1e3*60*60);return q<24?V.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):q<48?"Yesterday":V.toLocaleDateString()},z=I.filter(F=>a.length>0?a.includes(F.name):r?Array.isArray(F.divisions)?F.divisions.includes(r):typeof F.divisions=="string"?F.divisions.split(",").map(V=>V.trim()).includes(r):!1:!0).sort((F,V)=>{const Y=`${F.name||""}`.trim().toLowerCase(),q=`${V.name||""}`.trim().toLowerCase();return Y.localeCompare(q)});return D.jsxs("div",{className:yn.container,children:[D.jsxs("div",{className:yn.header,children:[D.jsx("h2",{children:"Direct Messages"}),D.jsxs("div",{className:yn.headerButtons,children:[D.jsx("button",{className:yn.newChatButton,onClick:()=>L(!0),type:"button",children:"💬 New Chat"}),D.jsx("button",{className:yn.closeButton,onClick:i,type:"button",children:"×"})]})]}),D.jsxs("div",{className:yn.content,children:[D.jsxs("div",{className:yn.conversationsList,children:[D.jsx("h3",{children:"Conversations"}),b?D.jsx("div",{className:yn.loading,children:"Loading conversations..."}):s.length===0?D.jsxs("div",{className:yn.emptyState,children:[D.jsx("p",{children:"No conversations yet"}),D.jsx("button",{className:yn.startChatButton,onClick:()=>L(!0),type:"button",children:"Start a conversation"})]}):D.jsx("div",{className:yn.conversationItems,children:s.map(F=>D.jsxs("div",{className:`${yn.conversationItem} ${(c==null?void 0:c.email)===F.email?yn.active:""}`,onClick:()=>d(F),children:[D.jsxs("div",{className:yn.conversationInfo,children:[D.jsx("div",{className:yn.conversationName,children:F.name||F.email}),D.jsx("div",{className:yn.lastMessage,children:F.lastMessage||"No messages yet"})]}),D.jsxs("div",{className:yn.conversationMeta,children:[D.jsx("div",{className:yn.timestamp,children:F.lastMessageTime?U(F.lastMessageTime):""}),H(F)>0&&D.jsx("div",{className:yn.unreadBadge,children:H(F)})]})]},F.email))})]}),D.jsx("div",{className:yn.messagesArea,children:c?D.jsxs(D.Fragment,{children:[D.jsx("div",{className:yn.messagesHeader,children:D.jsxs("h3",{children:["Chat with ",c.name||c.email]})}),D.jsxs("div",{className:yn.messagesList,children:[f.map(F=>D.jsx("div",{className:`${yn.messageItem} ${F.senderEmail===t?yn.myMessage:yn.theirMessage}`,children:D.jsxs("div",{className:yn.messageBubble,children:[D.jsx("div",{className:yn.messageContent,children:F.content}),D.jsxs("div",{className:yn.messageTime,children:[U(F.timestamp),F.senderEmail===t&&D.jsx("span",{className:yn.readStatus,children:F.read?"✓✓":"✓"})]})]})},F._id)),D.jsx("div",{ref:S})]}),D.jsxs("div",{className:yn.messageInput,children:[D.jsx("input",{type:"text",value:m,onChange:F=>g(F.target.value),onKeyDown:F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),j())},placeholder:"Type a message...",disabled:w}),D.jsx("button",{onClick:j,disabled:w||!m.trim(),className:yn.sendButton,type:"button",children:"Send"})]})]}):D.jsx("div",{className:yn.noConversation,children:D.jsx("p",{children:"Select a conversation to start messaging"})})})]}),A&&D.jsxs(os,{open:A,onClose:()=>{L(!1),T(null)},title:"Start New Conversation",maxWidth:"400px",children:[D.jsx("button",{style:{position:"absolute",top:10,right:10,background:"none",border:"none",color:"#fff",fontSize:24,cursor:"pointer",zIndex:10001},onClick:()=>{L(!1),T(null)},"aria-label":"Close",type:"button",children:"×"}),D.jsx("div",{className:yn.playerList,children:z.map(F=>D.jsx("div",{className:`${yn.playerItem} ${(C==null?void 0:C.email)===F.email?yn.selected:""}`,onClick:()=>T(F),children:D.jsx("div",{className:yn.playerName,children:F.name?F.name:F.email})},F._id||F.email))}),D.jsxs("div",{className:yn.modalActions,children:[D.jsx("button",{onClick:()=>{L(!1),T(null)},className:yn.cancelButton,type:"button",children:"Cancel"}),D.jsx("button",{onClick:B,disabled:!C,className:yn.startButton,type:"button",children:"Start Chat"})]})]}),k&&D.jsx("div",{className:yn.error,children:k})]})}const pR=""+new URL("bcapl_logo-BvvUeHn5.png",import.meta.url).href,mR=""+new URL("csi_logo-ChVaLM6t.png",import.meta.url).href,gR=""+new URL("usapl_logo-jJ_LE_Bw.png",import.meta.url).href,yR=""+new URL("fargorate-logo-BVCRpqvV.png",import.meta.url).href;function PX(){const[e,t]=E.useState(window.innerWidth),[n,r]=E.useState(window.innerHeight),[a]=E.useState(()=>[0,1,2,3,4].map(()=>{const k=e/2-60-10,R=n/2-60-10,I=k*.3,O=R*.3,A=.06,L=.15;return{cx:e*.5,cy:n*.5,rx1:I+Math.random()*(k-I),rx2:I*.4+Math.random()*(k*.6-I*.4),sx1:A+Math.random()*(L-A),sx2:A+Math.random()*(L-A),ry1:O+Math.random()*(R-O),ry2:O*.4+Math.random()*(R*.6-O*.4),sy1:A+Math.random()*(L-A),sy2:A+Math.random()*(L-A),phase:Math.random()*Math.PI*2}})),[i]=E.useState(()=>[0,1,2,3,4].map(()=>{const k=Math.random()*e,R=Math.random()*n,I=Math.random()*(e*.4)+e*.1,O=Math.random()*(n*.4)+n*.1,A=I*(.2+Math.random()*.3),L=O*(.2+Math.random()*.3),C=.04+Math.random()*.08,T=C+.12+Math.random()*.08;return{cx:k,cy:R,rx1:A+Math.random()*(I-A),rx2:A*(.3+Math.random()*.4)+Math.random()*(I*.7-A*.7),sx1:C+Math.random()*(T-C),sx2:C+Math.random()*(T-C),ry1:L+Math.random()*(O-L),ry2:L*(.3+Math.random()*.4)+Math.random()*(O*.7-L*.7),sy1:C+Math.random()*(T-C),sy2:C+Math.random()*(T-C),phase:Math.random()*Math.PI*2,reverse:Math.random()>.5}}));E.useEffect(()=>{const k=()=>{t(window.innerWidth),r(window.innerHeight)};return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);function s(k){const[R,I]=E.useState({x:k.cx,y:k.cy});return E.useEffect(()=>{let O;const A=()=>{const L=Date.now()/1e3,C=k.reverse?-1:1;I({x:k.cx+Math.cos(L*k.sx1*C+k.phase)*k.rx1+Math.sin(L*k.sx2*C+k.phase*1.7)*k.rx2,y:k.cy+Math.sin(L*k.sy1*C+k.phase)*k.ry1+Math.cos(L*k.sy2*C+k.phase*2.3)*k.ry2}),O=requestAnimationFrame(A)};return A(),()=>cancelAnimationFrame(O)},[k]),R}const o=s(a[0]),c=s(a[1]),d=s(a[2]),f=s(a[3]),h=s(a[4]),m=s(i[0]),g=s(i[1]),b=s(i[2]),_=s(i[3]),w=s(i[4]),x=(k,R,I,O)=>({position:"absolute",left:k.x,top:k.y,transform:"translate(-50%, -50%)",width:R,height:"auto",opacity:I,zIndex:2,pointerEvents:"none",filter:O});return D.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0,pointerEvents:"none",overflow:"hidden"},children:[D.jsx("img",{src:Zx,alt:"League Logo Background",style:x(o,150,.55,"drop-shadow(0 0 24px #e53e3e88)")}),D.jsx("img",{src:pR,alt:"BCAPL Logo Background",style:x(c,120,.55,"drop-shadow(0 0 18px #e53e3e66)")}),D.jsx("img",{src:mR,alt:"CSI Logo Background",style:x(d,120,.55,"drop-shadow(0 0 12px #e53e3e44)")}),D.jsx("img",{src:gR,alt:"USAPL Logo Background",style:x(f,140,.6,"drop-shadow(0 0 10px #e53e3e33)")}),D.jsx("img",{src:yR,alt:"Fargorate Logo Background",style:x(h,140,.6,"drop-shadow(0 0 10px #e53e3e33)")}),D.jsx("img",{src:Zx,alt:"League Logo Background 2",style:x(m,100,.35,"drop-shadow(0 0 16px #e53e3e55)")}),D.jsx("img",{src:pR,alt:"BCAPL Logo Background 2",style:x(g,80,.4,"drop-shadow(0 0 14px #e53e3e44)")}),D.jsx("img",{src:mR,alt:"CSI Logo Background 2",style:x(b,90,.45,"drop-shadow(0 0 12px #e53e3e33)")}),D.jsx("img",{src:gR,alt:"USAPL Logo Background 2",style:x(_,110,.5,"drop-shadow(0 0 8px #e53e3e22)")}),D.jsx("img",{src:yR,alt:"Fargorate Logo Background 2",style:x(w,95,.45,"drop-shadow(0 0 10px #e53e3e33)")})]})}const IX={async getAllMatches(e,t,n){const r=new URLSearchParams({player:e,...t&&{division:t},...n&&{phase:n}});return aa.get(`/api/matches/all-matches?${r}`)},async getCompletedMatches(e,t){const n=new URLSearchParams({player:e,...t&&{division:t}});return aa.get(`/api/matches/completed-matches?${n}`)},async createMatch(e){return aa.post("/api/matches",e)}},FX=(e,t,n)=>{const[r,a]=E.useState([]),[i,s]=E.useState([]),[o,c]=E.useState(!0),[d,f]=E.useState(null),h=async()=>{try{c(!0);const g=await IX.getAllMatches(e,t,n),b=g.filter(w=>w.status==="confirmed"&&(w.completed===!1||w.completed===void 0)),_=g.filter(w=>w.status==="confirmed"&&w.completed===!0);b.sort((w,x)=>m(w)-m(x)),_.sort((w,x)=>m(w)-m(x)),a(b),s(_),f(null)}catch(g){f(g.message),a([]),s([])}finally{c(!1)}},m=g=>{if(g.date&&g.time){const b=g.date.split("-");if(b.length===3){const _=b[0],w=b[1],x=b[2],k=`${_}-${w.padStart(2,"0")}-${x.padStart(2,"0")}`;let I=g.time.trim().toUpperCase().split(" "),O=I[0],A=I[1],L=O.split(":"),C=parseInt(L[0],10),T=parseInt(L[1],10);A==="PM"&&C<12&&(C+=12),A==="AM"&&C===12&&(C=0);const S=C.toString().padStart(2,"0"),j=(T||0).toString().padStart(2,"0"),B=`${S}:${j}`;return new Date(`${k}T${B}:00`)}}return new Date(0)};return E.useEffect(()=>{e&&t&&h()},[e,t,n]),{matches:r,completedMatches:i,scheduledConfirmedMatches:r,loading:o,error:d,refetch:h,markMatchCompleted:g=>{a(b=>b.filter(_=>_._id!==g._id)),s(b=>{const _={...g,completed:!0};return[...b,_]})}}},jX={async getUser(e){return aa.get(`/api/users/${encodeURIComponent(e)}`)},async syncUsers(){return aa.post("/admin/sync-users")}},zg={async getAllNotes(){return aa.get("/api/notes")},async createNote(e){return aa.post("/api/notes",{text:e})},async deleteNote(e){return aa.delete(`/api/notes/${e}`)}},UX="1tvMgMHsRwQxsR6lMNlSnztmwpK7fhZeNEyqjTqmRFRc",BX="BCAPL SIGNUP",$X={"FRBCAPL TEST":"https://lms.fargorate.com/PublicReport/LeagueReports?leagueId=e05896bb-b0f4-4a80-bf99-b2ca012ceaaa&divisionId=b345a437-3415-4765-b19a-b2f7014f2cfa","Singles Test":"https://lms.fargorate.com/PublicReport/LeagueReports?leagueId=e05896bb-b0f4-4a80-bf99-b2ca012ceaaa&divisionId=9058a0cc-3231-4118-bd91-b305006fe578"},vR="https://newapp-xyen.onrender.com";function zX(e){const t={Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat"},n={Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[]};return e&&e.split(/\r?\n/).forEach(r=>{const a=r.match(/Day:\s*(\w+),\s*Available From:\s*([\w:]+),\s*Available Until:\s*([\w: ]+)/i);if(a){const[i,s,o,c]=a,d=t[s];d&&n[d].push(`${o} - ${c}`)}}),n}function Hg(e){if(!e)return"N/A";if(e.includes("-")&&e.length===10){const[i,s,o]=e.split("-"),c=new Date(parseInt(i),parseInt(s)-1,parseInt(o)),d=String(c.getMonth()+1).padStart(2,"0"),f=String(c.getDate()).padStart(2,"0"),h=c.getFullYear();return`${d}-${f}-${h}`}let t;if(e.includes("-"))t=new Date(e);else if(e.includes("/")){const i=e.split("/");if(i.length===3){const[s,o,c]=i;t=new Date(c,s-1,o)}else return e}else return e;if(isNaN(t.getTime()))return e;const n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),a=t.getFullYear();return`${n}-${r}-${a}`}function s5({playerName:e,playerLastName:t,onOpenChat:n,userPin:r,onGoToAdmin:a,onLogout:i,onScheduleMatch:s,senderEmail:o}){const[c,d]=E.useState([]),[f,h]=E.useState(""),[m,g]=E.useState(!1),[b,_]=E.useState(!1),[w,x]=E.useState(null),[k,R]=E.useState(""),[I,O]=E.useState(!1),[A,L]=E.useState(!1),[C,T]=E.useState(null),[S,j]=E.useState([]),[B,H]=E.useState(!0),[U,z]=E.useState(!1),[F,V]=E.useState(""),[Y,q]=E.useState(""),[N,W]=E.useState(null),[K,$]=E.useState(!1),[J,oe]=E.useState(!1),[fe,ye]=E.useState(!1),[le,Ee]=E.useState("scheduled"),[ue,Me]=E.useState([]),[Fe,$e]=E.useState(!1),[ze,Xe]=E.useState(!1),[ot,nt]=E.useState(!1),[St,Nt]=E.useState(null),[ut,_t]=E.useState(!1),[wt,st]=E.useState(null),[de,Je]=E.useState(!1),[be,ke]=E.useState(null),[Pe,rt]=E.useState([]),[at,Jt]=E.useState(0),[En,Ln]=E.useState(0),[Bn,en]=E.useState(0),dt=`${e} ${t}`.trim(),{pendingProposals:hn,sentProposals:Re,loading:it,refetch:kt}=OP(dt,f),et=St||le,{matches:Xt,completedMatches:bt,loading:rn,refetch:pn,markMatchCompleted:Gn}=FX(dt,f,et),[mn,$t]=E.useState(0),[pt,Mn]=E.useState(0),[nn,Fn]=E.useState(!1),[Br,fi]=E.useState(!1),[ce,me]=E.useState(null),[Se,Le]=E.useState(!1),[lt,Ut]=E.useState(!1),[Lt,te]=E.useState(!1),[re,xe]=E.useState(0),[Qe,qe]=E.useState(!1),[Ve,Et]=E.useState(null),[Ot,Tt]=E.useState({player1:"",player2:""});E.useEffect(()=>{$t(hn.length)},[hn]),E.useEffect(()=>{Mn(Re.length)},[Re]),E.useEffect(()=>{async function se(){try{const ft=await(await fetch(`${vR}/api/messages/unread?user=${encodeURIComponent(o)}`)).json();Array.isArray(ft)&&xe(ft.length)}catch(mt){console.error("Failed to fetch unread messages:",mt)}}if(o){se();const mt=setInterval(se,3e4);return()=>clearInterval(mt)}},[o]),E.useEffect(()=>{if(!e||!t||!f||rn||it)return;const se=et==="challenge"?2:1,ft=ue.filter(In=>In.division===f&&In.phase===se&&(In.player1&&In.player1.trim().toLowerCase()===dt.toLowerCase()||In.player2&&In.player2.trim().toLowerCase()===dt.toLowerCase())).length;Ln(bt.length);const Pn=Xt.filter(In=>In.status==="confirmed"&&(In.completed===!1||In.completed===void 0)).length+bt.length,It=Math.max(0,ft-Pn);Jt(It),en(ft)},[e,t,f,ue,bt,Xt,rn,it]),(()=>{if(!e||!t||!f)return 0;const se=et==="challenge"?2:1;return ue.filter(ft=>ft.division===f&&ft.phase===se&&(ft.player1&&ft.player1.trim().toLowerCase()===dt.toLowerCase()||ft.player2&&ft.player2.trim().toLowerCase()===dt.toLowerCase())).length})(),E.useEffect(()=>{let se=!0;async function mt(){try{const ft=await mS(UX,`${BX}!A1:L1000`);if(!ft||ft.length===0){se&&rt([]);return}const sn=ft.slice(1).map(Pn=>({firstName:Pn[0]||"",lastName:Pn[1]||"",email:Pn[2]||"",phone:Pn[3]||"",locations:Pn[8]||"",availability:zX(Pn[7]||""),pin:Pn[11]||"",preferredContacts:(Pn[10]||"").split(/\r?\n/).map(It=>It.trim().toLowerCase()).filter(Boolean)})).filter(Pn=>Pn.email&&Pn.firstName&&Pn.lastName);se&&rt(sn)}catch{se&&rt([])}}return mt(),()=>{se=!1}},[]),E.useEffect(()=>{if(!f){Me([]);return}const se=f.replace(/[^A-Za-z0-9]/g,"_"),mt=`${vR}/static/schedule_${se}.json`;fetch(mt).then(ft=>{if(!ft.ok)throw new Error("Schedule not found");return ft.json()}).then(ft=>{Me(ft)}).catch(ft=>{console.error("Failed to load schedule for",f,":",ft),Me([])})},[f]),E.useEffect(()=>{o&&jX.getUser(o).then(se=>{let mt=[];Array.isArray(se.divisions)?mt=se.divisions.map(ft=>ft.trim()).filter(Boolean):typeof se.divisions=="string"?mt=se.divisions.split(",").map(ft=>ft.trim()).filter(Boolean):mt=[],d(mt)}).catch(()=>{d([])})},[o]),E.useEffect(()=>{c.length>0?h(c[0]):h("")},[c]),E.useEffect(()=>{H(!0),zg.getAllNotes().then(se=>{j(se),H(!1)}).catch(()=>{j([]),H(!1)})},[]),E.useEffect(()=>{if(!e||!t||!f)return;const se=setInterval(()=>{kt(),pn()},2*60*1e3);return()=>clearInterval(se)},[e,t,f,kt,pn]);const Wt=async()=>{q("");try{const se=await zg.createNote(F.trim());j([se,...S]),V(""),z(!1)}catch{q("Failed to add note")}},Ft=async se=>{if(window.confirm("Delete this note?"))try{await zg.deleteNote(se),j(S.filter(mt=>mt._id!==se))}catch(mt){console.error("Failed to delete note:",mt)}},Pt=async()=>{if(window.confirm("Are you sure you want to clear all notes?"))try{for(const se of S)await zg.deleteNote(se._id);j([])}catch(se){console.error("Failed to clear notes:",se)}};async function zt(se){if(C)try{await vc.counterProposal(C._id,se),L(!1),T(null),pn(),kt()}catch(mt){console.error("Failed to counter proposal:",mt)}}function Gt(){$(!1),W(null)}const $n=et==="challenge"?2:1,Tr=ue.filter(se=>se.division===f&&(!se.phase||se.phase===$n)&&(se.player1&&se.player1.trim().toLowerCase()===dt.toLowerCase()||se.player2&&se.player2.trim().toLowerCase()===dt.toLowerCase())),Kn=Array.from(new Set(Tr.map(se=>se.player1&&se.player1.trim().toLowerCase()===dt.toLowerCase()?se.player2Email||se.player2EmailAddress||se.player2Email||se.player2||null:se.player2&&se.player2.trim().toLowerCase()===dt.toLowerCase()&&(se.player1Email||se.player1EmailAddress||se.player1Email||se.player1)||null).filter(Boolean)));function Kr(){var ft,sn;const se=new Set,mt=[];for(const Pn of Tr){const It=Pn.player1&&Pn.player1.trim().toLowerCase()===dt.toLowerCase()?Pn.player2:Pn.player1;if(bt.some(hr=>{var Ua,pi;const $r=[(Ua=hr.senderName)==null?void 0:Ua.trim().toLowerCase(),(pi=hr.receiverName)==null?void 0:pi.trim().toLowerCase()];return Array.isArray(hr.divisions)&&hr.divisions.includes(f)&&$r.includes(dt.toLowerCase())&&$r.includes(It==null?void 0:It.trim().toLowerCase())}))continue;let Zr=!1;for(let hr=0;hr<Xt.length;hr++){if(se.has(hr))continue;const $r=Xt[hr],Ua=[(ft=$r.senderName)==null?void 0:ft.trim().toLowerCase(),(sn=$r.receiverName)==null?void 0:sn.trim().toLowerCase()];if(Array.isArray($r.divisions)&&$r.divisions.includes(f)&&Ua.includes(dt.toLowerCase())&&Ua.includes(It==null?void 0:It.trim().toLowerCase())){se.add(hr),Zr=!0;break}}Zr||mt.push(Pn)}return mt}const xr=Kr(),bn=xr.map(se=>{var sn,Pn;const mt=se.player1&&se.player1.trim().toLowerCase()===dt.toLowerCase()?(sn=se.player2)==null?void 0:sn.trim():(Pn=se.player1)==null?void 0:Pn.trim();if(!mt)return null;const ft=Pe.find(It=>`${It.firstName} ${It.lastName}`.trim().toLowerCase()===mt.toLowerCase());return{match:se,player:ft,opponentName:mt}}).filter(Boolean);function Nn(se){const mt=Pe.find(ft=>`${ft.firstName} ${ft.lastName}`.trim().toLowerCase()===se.trim().toLowerCase());if(!mt){alert("Player data not found for: "+se);return}if(!mt.email){alert("This opponent does not have an email on file and cannot be proposed a match.");return}st(mt),_t(!0)}function kr(){console.log("Schedule Match button clicked"),et==="scheduled"?$e(!0):Xe(!0)}const Ra=Xt.filter(se=>se.divisions&&f&&Array.isArray(se.divisions)&&se.divisions.includes(f));function Ti(se){W(se),$(!0)}const Aa=fe&&D.jsx("div",{className:Oe.modalOverlay,children:D.jsxs("div",{className:Oe.modalContent,style:{maxWidth:600,maxHeight:"80vh",overflowY:"auto"},children:[D.jsx("h2",{style:{color:"#fff",marginBottom:16},children:"All Upcoming Matches"}),D.jsx("ul",{className:Oe.dashboardList,style:{width:"100%",maxWidth:520,margin:"0 auto"},children:Ra.map((se,mt)=>{let ft="",sn="";if(se.type==="scheduled")if(se.player1&&se.player2&&(se.player1.trim().toLowerCase()===dt.trim().toLowerCase()?ft=se.player2:ft=se.player1),se.date){const It=se.date.split("/");if(It.length===3){const[In,Zr,hr]=It,$r=new Date(`${hr}-${In.padStart(2,"0")}-${Zr.padStart(2,"0")}`);isNaN($r.getTime())?sn="[Invalid Date]":sn=Hg(se.date)}else sn="[Invalid Date]"}else sn="[No Date]";else if(se.senderName&&se.receiverName&&(se.senderName.trim().toLowerCase()===dt.trim().toLowerCase()?ft=se.receiverName:ft=se.senderName),se.date){const It=se.date.split("-");if(It.length===3){const[In,Zr,hr]=It,$r=new Date(`${In}-${Zr}-${hr}`);isNaN($r.getTime())?sn="[Invalid Date]":sn=Hg(se.date)}else sn="[Invalid Date]"}else sn="[No Date]";se.completed;const Pn=!!se.completed;return D.jsx("li",{className:Oe.matchCard,style:{padding:"0.4rem 0.5rem",fontSize:"0.98em",marginBottom:8},children:D.jsxs("div",{className:Oe.matchCardContentWrapper,children:[D.jsxs("button",{className:Oe.matchCardButton,onClick:()=>Ti(se),type:"button",style:{padding:0,margin:0,minHeight:0,fontSize:"0.98em",display:"flex",alignItems:"center",gap:8,width:"100%",background:"none",border:"none"},children:[D.jsx("span",{className:Oe.matchCardOpponentLabel,style:{fontSize:"1em",marginRight:4},children:"VS:"}),D.jsx("span",{className:Oe.matchCardOpponentName,style:{fontSize:"1em",marginRight:8},children:ft||"[Unknown Opponent]"}),D.jsx("span",{className:Oe.matchCardDetail,style:{fontSize:"0.97em",marginRight:8},children:sn}),D.jsx("span",{className:Oe.matchCardDetail,style:{fontSize:"0.97em"},children:se.location||"[No Location]"})]}),!Pn&&D.jsx(fR,{className:Oe.dashboardBtn+" "+Oe.matchCardDoneBtn,loading:ce===se._id,loadingText:"Completing...",style:{marginLeft:0,minWidth:70,padding:"4px 8px",fontSize:"0.75em",height:28,lineHeight:"20px",marginTop:6,opacity:.18,filter:"blur(0.5px) grayscale(0.2)",transition:"opacity 0.22s, filter 0.22s, background 0.22s"},onMouseEnter:It=>{ce!==se._id&&(It.target.style.opacity="1",It.target.style.filter="none")},onMouseLeave:It=>{ce!==se._id&&(It.target.style.opacity="0.18",It.target.style.filter="blur(0.5px) grayscale(0.2)")},onClick:()=>{let It="",In="";se.type==="scheduled"?(It=se.player1,In=se.player2):(It=se.senderName,In=se.receiverName),Et(se),Tt({player1:It,player2:In}),qe(!0)},type:"button",children:"Complete"})]})},se._id||mt)})}),D.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:16},children:D.jsx("button",{className:Oe.dashboardBtn,onClick:()=>ye(!1),children:"Close"})})]})}),hi=et==="challenge"?4:6,Qr=[...Xt.filter(se=>{var mt,ft;return se.status==="confirmed"&&Array.isArray(se.divisions)&&se.divisions.includes(f)&&[(mt=se.senderName)==null?void 0:mt.trim().toLowerCase(),(ft=se.receiverName)==null?void 0:ft.trim().toLowerCase()].includes(dt.toLowerCase())}),...bt.filter(se=>{var mt,ft;return Array.isArray(se.divisions)&&se.divisions.includes(f)&&[(mt=se.senderName)==null?void 0:mt.trim().toLowerCase(),(ft=se.receiverName)==null?void 0:ft.trim().toLowerCase()].includes(dt.toLowerCase())})],sr=Array.from(new Set(Qr.map(se=>se._id))).map(se=>Qr.find(mt=>mt._id===se)).length,Oa=Math.max(0,hi-sr),[Ga,Cr]=E.useState(!1);return[...hn.filter(se=>se.status==="pending"&&se.receiverName===dt),...Re.filter(se=>se.status==="countered"&&se.senderName===dt)],[...Re.filter(se=>se.status==="pending"&&se.senderName===dt),...hn.filter(se=>se.status==="countered"&&se.receiverName===dt)],console.log("players:",Pe),console.log("matchesToSchedule:",xr),console.log("opponentsToSchedule:",bn),D.jsxs("div",{className:Oe.dashboardBg,style:{position:"relative"},children:[D.jsx("div",{className:Oe.dashboardFrame,style:{position:"relative",zIndex:1,overflow:"hidden"},children:D.jsxs("div",{className:Oe.dashboardCard,style:{position:"relative",zIndex:1},children:[D.jsxs("h1",{className:Oe.dashboardTitle,children:["Welcome,",D.jsxs("span",{className:Oe.dashboardUserName,children:[e," ",t]})]}),D.jsxs("div",{className:Oe.announcement,children:[D.jsx("p",{children:"This is the BETA version. "}),"Matches that are created, scheduled, and confirmed will NOT be played.",D.jsx("br",{}),"This is for testing purposes only."]}),D.jsx("br",{}),c.length>0&&D.jsxs("div",{style:{marginBottom:16},children:[D.jsxs("label",{children:["Division: ",c.length>1?D.jsx("select",{value:f,onChange:se=>h(se.target.value),style:{fontSize:"1em",padding:4,borderRadius:4},children:c.map(se=>D.jsx("option",{value:se,children:se},se))}):D.jsx("span",{style:{fontWeight:600},children:c[0]})]}),"   ",D.jsxs("span",{style:{fontSize:"0.9em",padding:"4px 8px",borderRadius:"4px",backgroundColor:et==="challenge"?"#e53e3e":"#28a745",color:"white",fontWeight:"600"},children:["Phase ",et==="challenge"?"2":et==="scheduled"?"1":"Complete"]})]}),D.jsx(WZ,{playerName:`${e} ${t}`,division:f,phase:et}),D.jsxs("section",{className:`${Oe.dashboardSection} ${Oe.dashboardSectionBox} ${Oe.matchesSection}`,style:{position:"relative",overflow:"visible",minHeight:"370px",marginBottom:"36px",paddingBottom:"20px"},children:[D.jsx("div",{style:{position:"relative",zIndex:2,marginBottom:"0.5rem",display:"flex",justifyContent:"center"},children:D.jsxs("div",{className:Oe.proposalAlertRow,children:[D.jsxs("button",{className:Oe.proposalAlertButton,onClick:()=>_(!0),"aria-label":"View pending match proposals",children:["📥  ",mn," proposals waiting for you"]}),D.jsxs("button",{className:Oe.proposalAlertButton,onClick:()=>O(!0),"aria-label":"View matches you have proposed",children:["📤 ",pt," proposals waiting for opponent"]})]})}),D.jsxs("div",{style:{textAlign:"center",margin:"2px 0 2px 0"},children:[D.jsx("h2",{className:Oe.dashboardSectionTitle,style:{margin:0,fontWeight:600},children:"Upcoming Confirmed Matches"}),D.jsx("div",{className:Oe.dashboardHelperText,style:{margin:0,marginBottom:6},children:"Click Match For Details"})]}),D.jsx("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:D.jsxs("div",{className:Oe.poolTableContainer,style:{marginBottom:"24px"},children:[D.jsx(iN,{aspectWidth:600,aspectHeight:300,children:D.jsx(OD,{})}),D.jsx("div",{className:Oe.mobileMatchesOverlay,style:{position:"absolute",left:"3.04%",width:"92.1%",bottom:"9.94%",height:"60px",zIndex:2,pointerEvents:"auto",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center"},children:D.jsx("ul",{className:Oe.dashboardList,style:{minHeight:"auto",margin:0,pointerEvents:"auto",padding:0},children:(J?Ra:Ra.slice(0,3)).length===0?D.jsx("li",{className:Oe.noMatchesText,style:{position:"absolute",bottom:"0",left:"50%",transform:"translateX(-50%)"},children:"No matches scheduled yet."}):D.jsx(D.Fragment,{children:(J?Ra:Ra.slice(0,3)).map((se,mt)=>{let ft="",sn="";if(se.type==="scheduled")if(se.player1&&se.player2&&(se.player1.trim().toLowerCase()===dt.trim().toLowerCase()?ft=se.player2:ft=se.player1),se.date){const It=se.date.split("/");if(It.length===3){const[In,Zr,hr]=It,$r=new Date(`${hr}-${In.padStart(2,"0")}-${Zr.padStart(2,"0")}`);isNaN($r.getTime())?sn="[Invalid Date]":sn=Hg(se.date)}else sn="[Invalid Date]"}else sn="[No Date]";else if(se.senderName&&se.receiverName&&(se.senderName.trim().toLowerCase()===dt.trim().toLowerCase()?ft=se.receiverName:ft=se.senderName),se.date){const It=se.date.split("-");if(It.length===3){const[In,Zr,hr]=It,$r=new Date(`${In}-${Zr}-${hr}`);isNaN($r.getTime())?sn="[Invalid Date]":sn=Hg(se.date)}else sn="[Invalid Date]"}else sn="[No Date]";se.completed;const Pn=!!se.completed;return D.jsx("li",{className:Oe.matchCard,style:{padding:"0.2rem 0.3rem",fontSize:"0.85em",marginBottom:4},children:D.jsxs("div",{className:Oe.matchCardContentWrapper,children:[D.jsxs("button",{className:Oe.matchCardButton,onClick:()=>Ti(se),type:"button",style:{padding:0,margin:0,minHeight:0,fontSize:"0.85em",display:"flex",alignItems:"center",gap:8,width:"100%",background:"none",border:"none",justifyContent:"flex-start",textAlign:"left"},children:[D.jsx("span",{className:Oe.matchCardOpponentLabel,style:{fontSize:"0.95em",marginRight:2},children:"VS"}),D.jsx("span",{className:Oe.matchCardOpponentName,style:{fontSize:"1.25em",marginRight:8,fontWeight:700},children:ft||"[Unknown]"})]}),D.jsxs("div",{style:{width:"100%",textAlign:"center",margin:"4px 0 0 0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[D.jsx("span",{className:Oe.matchCardDetail,style:{fontSize:"1.08em",marginRight:10},children:sn}),D.jsx("span",{className:Oe.matchCardDetail,style:{fontSize:"1.08em"},children:se.location||""})]}),!Pn&&D.jsx(fR,{className:Oe.dashboardBtn+" "+Oe.matchCardDoneBtn,loading:ce===se._id,loadingText:"Completing...",style:{marginLeft:0,minWidth:70,padding:"4px 8px",fontSize:"0.75em",height:28,lineHeight:"20px",marginTop:6,opacity:.18,filter:"blur(0.5px) grayscale(0.2)",transition:"opacity 0.22s, filter 0.22s, background 0.22s"},onMouseEnter:It=>{ce!==se._id&&(It.target.style.opacity="1",It.target.style.filter="none")},onMouseLeave:It=>{ce!==se._id&&(It.target.style.opacity="0.18",It.target.style.filter="blur(0.5px) grayscale(0.2)")},onClick:()=>{let It="",In="";se.type==="scheduled"?(It=se.player1,In=se.player2):(It=se.senderName,In=se.receiverName),Et(se),Tt({player1:It,player2:In}),qe(!0)},type:"button",children:"Complete"})]})},se._id||mt)})})})})]})}),D.jsxs("div",{style:{textAlign:"center",marginBottom:8,color:"#aaa",fontSize:"0.98em"},children:[D.jsx("br",{})," Click to view or schedule matches."]}),D.jsx("div",{className:Oe.countersRow,style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"5px 0 0 0",width:"100%",paddingBottom:"12px"},children:D.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:16,width:"100%",marginBottom:"12px"},children:[D.jsxs("button",{style:{background:"#23232a",color:"#28a745",borderRadius:6,padding:"4px 10px",fontWeight:600,fontSize:"0.92em",zIndex:9999,position:"relative",textAlign:"center",border:"2px solid #28a745",minWidth:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:"0 4px"},onClick:()=>Cr(!0),title:"Click to view completed matches",type:"button",children:[et==="challenge"?"Phase 2":et==="scheduled"?"Phase 1":et," Matches Completed: ",En]}),D.jsxs("button",{style:{background:"#23232a",color:"#e53e3e",borderRadius:6,padding:"4px 10px",fontWeight:600,fontSize:"0.92em",zIndex:9999,position:"relative",textAlign:"center",border:"2px solid #e53e3e",minWidth:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:"0 4px"},title:"Schedule a match",type:"button",onClick:()=>kr(),children:[et==="challenge"?"Phase 2":et==="scheduled"?"Phase 1":et," Matches To Schedule: ",Oa]})]})})]}),D.jsxs("section",{className:`${Oe.dashboardSection} ${Oe.dashboardSectionBox}`,children:[D.jsxs("div",{className:Oe.newsUpdatesHeader,children:[D.jsxs("button",{className:Oe.dashboardBtn,onClick:()=>te(!0),type:"button",style:{position:"relative"},children:["💬 Open Chat",re>0&&D.jsx("span",{style:{position:"absolute",top:"-8px",right:"-8px",background:"#e53e3e",color:"#fff",borderRadius:"50%",width:"20px",height:"20px",fontSize:"0.75em",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:re>99?"99+":re})]}),D.jsx("h2",{className:Oe.dashboardSectionTitle,children:"News & Updates"}),D.jsx("button",{className:Oe.dashboardBtn,type:"button",onClick:()=>g(!0),children:"📊 View Standings"})]}),B?D.jsx(YZ,{lines:3,height:"16px"}):D.jsx("ul",{className:Oe.dashboardList,children:S.length===0?D.jsx("li",{className:Oe.dashboardNoteItem,children:"No news yet."}):S.map((se,mt)=>D.jsxs("li",{className:Oe.dashboardNoteItem,children:[D.jsx("span",{style:{flex:1},children:se.text}),r==="777777"&&D.jsx("button",{onClick:()=>Ft(se._id),style:{background:"#e53935",color:"#fff",border:"none",borderRadius:4,padding:"2px 8px",cursor:"pointer",fontSize:"0.95em"},"aria-label":"Delete note",title:"Delete note",type:"button",children:"Delete"})]},se._id||mt))}),r==="777777"&&S.length>0&&D.jsx("button",{style:{marginTop:10,background:"#444",color:"#fff",border:"none",borderRadius:5,padding:"4px 14px",cursor:"pointer",fontSize:"0.98em"},onClick:Pt,type:"button",children:"Clear All Notes"})]}),D.jsx("button",{className:Oe.dashboardLogoutBtn,onClick:i,type:"button",children:"Logout"}),r==="777777"&&D.jsxs(D.Fragment,{children:[D.jsx("button",{className:Oe.dashboardAdminBtn,onClick:()=>z(!0),type:"button",children:"Add Note"}),D.jsx("button",{className:Oe.dashboardAdminBtn,onClick:a,type:"button",children:"Admin"}),D.jsx("button",{className:Oe.dashboardAdminBtn,onClick:()=>Nt(St==="challenge"?"scheduled":"challenge"),type:"button",children:St==="challenge"?"Switch to Phase 1 (Scheduled)":"Switch to Phase 2 (Challenge)"}),St&&D.jsx("button",{className:Oe.dashboardAdminBtn,onClick:()=>Nt(null),type:"button",style:{background:"#888"},children:"Clear Phase Override"})]})]})}),D.jsx(Sq,{open:Fe,onClose:()=>$e(!1),opponents:bn,onOpponentClick:Nn,phase:et}),ze&&D.jsx(D.Fragment,{children:D.jsx(TC,{onClose:()=>Xe(!1),excludeName:dt,senderName:dt,senderEmail:o,selectedDivision:f,phase:et,onProposalComplete:()=>Xe(!1)})}),ot&&D.jsx(TC,{onClose:()=>nt(!1),excludeName:null,senderName:dt,senderEmail:o,phase:et,onProposalComplete:()=>nt(!1)}),ut&&wt&&D.jsx(TN,{onClose:()=>{_t(!1),st(null)},player:wt,onProposeMatch:(se,mt)=>{ke({player:wt,day:se,slot:mt,selectedDivision:f,phase:et}),Je(!0),_t(!1),st(null)},selectedDivision:f,phase:et}),de&&be&&D.jsx(NP,{player:be.player,day:be.day,slot:be.slot,selectedDivision:be.selectedDivision,phase:be.phase||et,onClose:()=>Je(!1),senderName:`${e} ${t}`,senderEmail:o,onProposalComplete:()=>{Je(!1),ke(null),pn(),kt()}}),D.jsx(Qz,{open:m,onClose:()=>g(!1),standingsUrl:$X[f]}),D.jsx(pH,{open:K,onClose:Gt,match:N,onCompleted:se=>setUpcomingMatches(mt=>mt.filter(ft=>ft._id!==se)),userPin:r,onMatchUpdated:se=>W(se),senderName:`${e} ${t}`,senderEmail:o}),U&&D.jsx("div",{className:Oe.modalOverlay,style:{zIndex:99999},children:D.jsxs("div",{className:Oe.modalContent,style:{maxWidth:400,margin:"auto"},children:[D.jsx("h2",{children:"Add News/Note"}),D.jsx("textarea",{value:F,onChange:se=>V(se.target.value),rows:4,style:{width:"100%",marginBottom:12,borderRadius:6,padding:8},placeholder:"Enter your note..."}),Y&&D.jsx("div",{style:{color:"red",marginBottom:8},children:Y}),D.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:[D.jsx("button",{className:Oe.dashboardBtn,onClick:()=>z(!1),type:"button",children:"Cancel"}),D.jsx("button",{className:Oe.dashboardBtn,disabled:!F.trim(),onClick:Wt,type:"button",children:"Add Note"})]})]})}),b&&D.jsx(Q_,{proposals:hn,onSelect:se=>{const mt=o&&se.senderEmail&&o.toLowerCase()===se.senderEmail.toLowerCase()||`${e} ${t}`.toLowerCase()===(se.senderName||"").toLowerCase();x(se),R(""),_(!1),Fn(mt)},onClose:()=>_(!1),type:"received"}),I&&D.jsx(Q_,{proposals:Re,onSelect:se=>{const mt=o&&se.senderEmail&&o.toLowerCase()===se.senderEmail.toLowerCase()||`${e} ${t}`.toLowerCase()===(se.senderName||"").toLowerCase();x(se),R(""),O(!1),Fn(mt)},onClose:()=>O(!1),type:"sent"}),w&&!nn&&D.jsx("div",{className:Oe.modalOverlay,children:D.jsx("div",{className:Oe.modalContent,style:{maxWidth:420,margin:"auto"},children:D.jsx(DH,{proposal:w,userNote:k,setUserNote:R,onConfirm:async()=>{await vc.updateProposalStatus(w._id,"confirmed",k),x(null),R(""),pn(),kt()},onClose:()=>{x(null),R("")},onCounterPropose:()=>{T(w),L(!0),x(null)},phase:et,currentUserName:`${e} ${t}`,currentUserEmail:o})})}),D.jsx(Dq,{proposal:C,open:A,onClose:()=>{L(!1),T(null)},onSubmit:zt,senderPlayer:Pe.find(se=>{var mt,ft;return`${se.firstName} ${se.lastName}`.trim().toLowerCase()===((C==null?void 0:C.senderName)||"").trim().toLowerCase()||((mt=se.email)==null?void 0:mt.toLowerCase())===((ft=C==null?void 0:C.senderEmail)==null?void 0:ft.toLowerCase())}),phase:et,selectedDivision:f}),w&&nn&&D.jsx($Z,{proposal:w,open:nn,onClose:()=>{Fn(!1),x(null)},onEdit:()=>{w.isCounter?(Fn(!1),setTimeout(()=>{x(null),T(w),L(!0)},0)):fi(!0)},onMessage:()=>{alert("Message opponent coming soon!")}}),w&&Br&&D.jsx(qZ,{proposal:w,open:Br,onClose:()=>{fi(!1)},onSave:se=>{x(se),kt(),fi(!1)},selectedDivision:f,phase:et,receiverPlayer:Pe.find(se=>{var mt,ft;return`${se.firstName} ${se.lastName}`.trim().toLowerCase()===(w.receiverName||"").trim().toLowerCase()||((mt=se.email)==null?void 0:mt.toLowerCase())===((ft=w.receiverEmail)==null?void 0:ft.toLowerCase())})}),Aa,Lt&&D.jsx("div",{className:Oe.modalOverlay,style:{zIndex:99999},children:D.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"95vw",height:"95vh",maxWidth:"1400px",maxHeight:"900px",background:"#181818",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.5)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",borderBottom:"1px solid #333",background:"#222",borderRadius:"12px 12px 0 0"},children:[D.jsx("h2",{style:{margin:0,color:"#fff",fontSize:"1.2em"},children:"League Chat"}),D.jsx("button",{onClick:()=>te(!1),style:{background:"none",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px",transition:"background-color 0.2s"},onMouseOver:se=>se.target.style.background="#444",onMouseOut:se=>se.target.style.background="none",type:"button",children:"×"})]}),D.jsx("div",{style:{flex:1,overflow:"hidden",position:"relative"},children:D.jsx(NX,{userName:`${e} ${t}`,userEmail:o,userPin:r,selectedDivision:f,opponentEmails:Kn,onClose:()=>te(!1)})})]})}),Ga&&D.jsx(Q_,{proposals:bt,onSelect:()=>{},onClose:()=>Cr(!1),type:"completed",isAdmin:r==="777777",senderEmail:o,senderName:`${e} ${t}`,selectedDivision:f,phase:et}),D.jsx(LD,{open:Qe,onClose:()=>qe(!1),player1:Ot.player1,player2:Ot.player2,onSelect:async se=>{if(Ve){qe(!1),me(Ve._id);try{await vc.markCompleted(Ve._id,se),Gn({...Ve,winner:se}),pn(),kt()}catch{alert("Failed to mark as completed.")}me(null)}}})]})}var Tw={},kw={},Ni={},Rw,bR;function HX(){if(bR)return Rw;bR=1,Rw=function(a,i,s){var o=document.head||document.getElementsByTagName("head")[0],c=document.createElement("script");typeof i=="function"&&(s=i,i={}),i=i||{},s=s||function(){},c.type=i.type||"text/javascript",c.charset=i.charset||"utf8",c.async="async"in i?!!i.async:!0,c.src=a,i.attrs&&e(c,i.attrs),i.text&&(c.text=""+i.text);var d="onload"in c?t:n;d(c,s),c.onload||t(c,s),o.appendChild(c)};function e(r,a){for(var i in a)r.setAttribute(i,a[i])}function t(r,a){r.onload=function(){this.onerror=this.onload=null,a(null,r)},r.onerror=function(){this.onerror=this.onload=null,a(new Error("Failed to load "+this.src),r)}}function n(r,a){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,a(null,r))}}return Rw}var Aw,_R;function o5(){if(_R)return Aw;_R=1;var e=function(k){return t(k)&&!n(k)};function t(x){return!!x&&typeof x=="object"}function n(x){var k=Object.prototype.toString.call(x);return k==="[object RegExp]"||k==="[object Date]"||i(x)}var r=typeof Symbol=="function"&&Symbol.for,a=r?Symbol.for("react.element"):60103;function i(x){return x.$$typeof===a}function s(x){return Array.isArray(x)?[]:{}}function o(x,k){return k.clone!==!1&&k.isMergeableObject(x)?_(s(x),x,k):x}function c(x,k,R){return x.concat(k).map(function(I){return o(I,R)})}function d(x,k){if(!k.customMerge)return _;var R=k.customMerge(x);return typeof R=="function"?R:_}function f(x){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(x).filter(function(k){return Object.propertyIsEnumerable.call(x,k)}):[]}function h(x){return Object.keys(x).concat(f(x))}function m(x,k){try{return k in x}catch{return!1}}function g(x,k){return m(x,k)&&!(Object.hasOwnProperty.call(x,k)&&Object.propertyIsEnumerable.call(x,k))}function b(x,k,R){var I={};return R.isMergeableObject(x)&&h(x).forEach(function(O){I[O]=o(x[O],R)}),h(k).forEach(function(O){g(x,O)||(m(x,O)&&R.isMergeableObject(k[O])?I[O]=d(O,R)(x[O],k[O],R):I[O]=o(k[O],R))}),I}function _(x,k,R){R=R||{},R.arrayMerge=R.arrayMerge||c,R.isMergeableObject=R.isMergeableObject||e,R.cloneUnlessOtherwiseSpecified=o;var I=Array.isArray(k),O=Array.isArray(x),A=I===O;return A?I?R.arrayMerge(x,k,R):b(x,k,R):o(k,R)}_.all=function(k,R){if(!Array.isArray(k))throw new Error("first argument should be an array");return k.reduce(function(I,O){return _(I,O,R)},{})};var w=_;return Aw=w,Aw}var wR;function ci(){if(wR)return Ni;wR=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.parseStartTime=_,Ni.parseEndTime=w,Ni.randomString=x,Ni.queryString=k,Ni.getSDK=O,Ni.getConfig=A,Ni.omit=L,Ni.callPlayer=C,Ni.isMediaStream=T,Ni.isBlobUrl=S,Ni.supportsWebKitPresentationMode=j;var e=n(HX()),t=n(o5());function n(B){return B&&B.__esModule?B:{default:B}}function r(B,H){return c(B)||o(B,H)||i(B,H)||a()}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(B,H){if(B){if(typeof B=="string")return s(B,H);var U=Object.prototype.toString.call(B).slice(8,-1);if(U==="Object"&&B.constructor&&(U=B.constructor.name),U==="Map"||U==="Set")return Array.from(B);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return s(B,H)}}function s(B,H){(H==null||H>B.length)&&(H=B.length);for(var U=0,z=new Array(H);U<H;U++)z[U]=B[U];return z}function o(B,H){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(B)))){var U=[],z=!0,F=!1,V=void 0;try{for(var Y=B[Symbol.iterator](),q;!(z=(q=Y.next()).done)&&(U.push(q.value),!(H&&U.length===H));z=!0);}catch(N){F=!0,V=N}finally{try{!z&&Y.return!=null&&Y.return()}finally{if(F)throw V}}return U}}function c(B){if(Array.isArray(B))return B}var d=/[?&#](?:start|t)=([0-9hms]+)/,f=/[?&#]end=([0-9hms]+)/,h=/(\d+)(h|m|s)/g,m=/^\d+$/;function g(B,H){if(!(B instanceof Array)){var U=B.match(H);if(U){var z=U[1];if(z.match(h))return b(z);if(m.test(z))return parseInt(z)}}}function b(B){for(var H=0,U=h.exec(B);U!==null;){var z=U,F=r(z,3),V=F[1],Y=F[2];Y==="h"&&(H+=parseInt(V,10)*60*60),Y==="m"&&(H+=parseInt(V,10)*60),Y==="s"&&(H+=parseInt(V,10)),U=h.exec(B)}return H}function _(B){return g(B,d)}function w(B){return g(B,f)}function x(){return Math.random().toString(36).substr(2,5)}function k(B){return Object.keys(B).map(function(H){return"".concat(H,"=").concat(B[H])}).join("&")}function R(B){return window[B]?window[B]:window.exports&&window.exports[B]?window.exports[B]:window.module&&window.module.exports&&window.module.exports[B]?window.module.exports[B]:null}var I={};function O(B,H){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){return!0},F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:e.default,V=R(H);return V&&z(V)?Promise.resolve(V):new Promise(function(Y,q){if(I[B]){I[B].push({resolve:Y,reject:q});return}I[B]=[{resolve:Y,reject:q}];var N=function($){I[B].forEach(function(J){return J.resolve($)})};if(U){var W=window[U];window[U]=function(){W&&W(),N(R(H))}}F(B,function(K){K?(I[B].forEach(function($){return $.reject(K)}),I[B]=null):U||N(R(H))})})}function A(B,H){return(0,t.default)(H.config,B.config)}function L(B){for(var H,U=arguments.length,z=new Array(U>1?U-1:0),F=1;F<U;F++)z[F-1]=arguments[F];for(var V=(H=[]).concat.apply(H,z),Y={},q=Object.keys(B),N=0,W=q;N<W.length;N++){var K=W[N];V.indexOf(K)===-1&&(Y[K]=B[K])}return Y}function C(B){var H;if(!this.player||!this.player[B]){var U="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(B,"%c – ");return this.player?this.player[B]||(U+="The method was not available"):U+="The player was not available",console.warn(U,"font-weight: bold",""),null}for(var z=arguments.length,F=new Array(z>1?z-1:0),V=1;V<z;V++)F[V-1]=arguments[V];return(H=this.player)[B].apply(H,F)}function T(B){return typeof window<"u"&&typeof window.MediaStream<"u"&&B instanceof window.MediaStream}function S(B){return/^blob:/.test(B)}function j(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.createElement("video"),H=/iPhone|iPod/.test(navigator.userAgent)===!1;return B.webkitSupportsPresentationMode&&typeof B.webkitSetPresentationMode=="function"&&H}return Ni}var dn={},xR;function ls(){if(xR)return dn;xR=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.canPlay=dn.FLV_EXTENSIONS=dn.DASH_EXTENSIONS=dn.HLS_EXTENSIONS=dn.VIDEO_EXTENSIONS=dn.AUDIO_EXTENSIONS=dn.MATCH_URL_KALTURA=dn.MATCH_URL_VIDYARD=dn.MATCH_URL_MIXCLOUD=dn.MATCH_URL_DAILYMOTION=dn.MATCH_URL_TWITCH_CHANNEL=dn.MATCH_URL_TWITCH_VIDEO=dn.MATCH_URL_WISTIA=dn.MATCH_URL_STREAMABLE=dn.MATCH_URL_FACEBOOK_WATCH=dn.MATCH_URL_FACEBOOK=dn.MATCH_URL_VIMEO=dn.MATCH_URL_SOUNDCLOUD=dn.MATCH_URL_YOUTUBE=void 0;var e=ci();function t(C,T){var S;if(typeof Symbol>"u"||C[Symbol.iterator]==null){if(Array.isArray(C)||(S=n(C))||T){S&&(C=S);var j=0,B=function(){};return{s:B,n:function(){return j>=C.length?{done:!0}:{done:!1,value:C[j++]}},e:function(V){throw V},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H=!0,U=!1,z;return{s:function(){S=C[Symbol.iterator]()},n:function(){var V=S.next();return H=V.done,V},e:function(V){U=!0,z=V},f:function(){try{!H&&S.return!=null&&S.return()}finally{if(U)throw z}}}}function n(C,T){if(C){if(typeof C=="string")return r(C,T);var S=Object.prototype.toString.call(C).slice(8,-1);if(S==="Object"&&C.constructor&&(S=C.constructor.name),S==="Map"||S==="Set")return Array.from(C);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return r(C,T)}}function r(C,T){(T==null||T>C.length)&&(T=C.length);for(var S=0,j=new Array(T);S<T;S++)j[S]=C[S];return j}var a=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;dn.MATCH_URL_YOUTUBE=a;var i=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;dn.MATCH_URL_SOUNDCLOUD=i;var s=/vimeo\.com\/(?!progressive_redirect).+/;dn.MATCH_URL_VIMEO=s;var o=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;dn.MATCH_URL_FACEBOOK=o;var c=/^https?:\/\/fb\.watch\/.+$/;dn.MATCH_URL_FACEBOOK_WATCH=c;var d=/streamable\.com\/([a-z0-9]+)$/;dn.MATCH_URL_STREAMABLE=d;var f=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;dn.MATCH_URL_WISTIA=f;var h=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;dn.MATCH_URL_TWITCH_VIDEO=h;var m=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;dn.MATCH_URL_TWITCH_CHANNEL=m;var g=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;dn.MATCH_URL_DAILYMOTION=g;var b=/mixcloud\.com\/([^/]+\/[^/]+)/;dn.MATCH_URL_MIXCLOUD=b;var _=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;dn.MATCH_URL_VIDYARD=_;var w=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;dn.MATCH_URL_KALTURA=w;var x=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;dn.AUDIO_EXTENSIONS=x;var k=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;dn.VIDEO_EXTENSIONS=k;var R=/\.(m3u8)($|\?)/i;dn.HLS_EXTENSIONS=R;var I=/\.(mpd)($|\?)/i;dn.DASH_EXTENSIONS=I;var O=/\.(flv)($|\?)/i;dn.FLV_EXTENSIONS=O;var A=function C(T){if(T instanceof Array){var S=t(T),j;try{for(S.s();!(j=S.n()).done;){var B=j.value;if(typeof B=="string"&&C(B)||C(B.src))return!0}}catch(H){S.e(H)}finally{S.f()}return!1}return(0,e.isMediaStream)(T)||(0,e.isBlobUrl)(T)?!0:x.test(T)||k.test(T)||R.test(T)||I.test(T)||O.test(T)},L={youtube:function(T){return T instanceof Array?T.every(function(S){return a.test(S)}):a.test(T)},soundcloud:function(T){return i.test(T)&&!x.test(T)},vimeo:function(T){return s.test(T)&&!k.test(T)&&!R.test(T)},facebook:function(T){return o.test(T)||c.test(T)},streamable:function(T){return d.test(T)},wistia:function(T){return f.test(T)},twitch:function(T){return h.test(T)||m.test(T)},dailymotion:function(T){return g.test(T)},mixcloud:function(T){return b.test(T)},vidyard:function(T){return _.test(T)},kaltura:function(T){return w.test(T)},file:A};return dn.canPlay=L,dn}var Ow={},CR;function VX(){return CR||(CR=1,function(e){function t(Y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(N){return typeof N}:t=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},t(Y)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(ma()),r=ci(),a=ls();function i(){if(typeof WeakMap!="function")return null;var Y=new WeakMap;return i=function(){return Y},Y}function s(Y){if(Y&&Y.__esModule)return Y;if(Y===null||t(Y)!=="object"&&typeof Y!="function")return{default:Y};var q=i();if(q&&q.has(Y))return q.get(Y);var N={},W=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var K in Y)if(Object.prototype.hasOwnProperty.call(Y,K)){var $=W?Object.getOwnPropertyDescriptor(Y,K):null;$&&($.get||$.set)?Object.defineProperty(N,K,$):N[K]=Y[K]}return N.default=Y,q&&q.set(Y,N),N}function o(Y,q){var N=Object.keys(Y);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Y);q&&(W=W.filter(function(K){return Object.getOwnPropertyDescriptor(Y,K).enumerable})),N.push.apply(N,W)}return N}function c(Y){for(var q=1;q<arguments.length;q++){var N=arguments[q]!=null?arguments[q]:{};q%2?o(Object(N),!0).forEach(function(W){T(Y,W,N[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(N)):o(Object(N)).forEach(function(W){Object.defineProperty(Y,W,Object.getOwnPropertyDescriptor(N,W))})}return Y}function d(Y,q){return b(Y)||g(Y,q)||h(Y,q)||f()}function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(Y,q){if(Y){if(typeof Y=="string")return m(Y,q);var N=Object.prototype.toString.call(Y).slice(8,-1);if(N==="Object"&&Y.constructor&&(N=Y.constructor.name),N==="Map"||N==="Set")return Array.from(Y);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return m(Y,q)}}function m(Y,q){(q==null||q>Y.length)&&(q=Y.length);for(var N=0,W=new Array(q);N<q;N++)W[N]=Y[N];return W}function g(Y,q){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Y)))){var N=[],W=!0,K=!1,$=void 0;try{for(var J=Y[Symbol.iterator](),oe;!(W=(oe=J.next()).done)&&(N.push(oe.value),!(q&&N.length===q));W=!0);}catch(fe){K=!0,$=fe}finally{try{!W&&J.return!=null&&J.return()}finally{if(K)throw $}}return N}}function b(Y){if(Array.isArray(Y))return Y}function _(Y,q){if(!(Y instanceof q))throw new TypeError("Cannot call a class as a function")}function w(Y,q){for(var N=0;N<q.length;N++){var W=q[N];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}function x(Y,q,N){return q&&w(Y.prototype,q),Y}function k(Y,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(q&&q.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),q&&R(Y,q)}function R(Y,q){return R=Object.setPrototypeOf||function(W,K){return W.__proto__=K,W},R(Y,q)}function I(Y){var q=L();return function(){var W=C(Y),K;if(q){var $=C(this).constructor;K=Reflect.construct(W,arguments,$)}else K=W.apply(this,arguments);return O(this,K)}}function O(Y,q){return q&&(t(q)==="object"||typeof q=="function")?q:A(Y)}function A(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function C(Y){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},C(Y)}function T(Y,q,N){return q in Y?Object.defineProperty(Y,q,{value:N,enumerable:!0,configurable:!0,writable:!0}):Y[q]=N,Y}var S="https://www.youtube.com/iframe_api",j="YT",B="onYouTubeIframeAPIReady",H=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,U=/user\/([a-zA-Z0-9_-]+)\/?/,z=/youtube-nocookie\.com/,F="https://www.youtube-nocookie.com",V=function(Y){k(N,Y);var q=I(N);function N(){var W;_(this,N);for(var K=arguments.length,$=new Array(K),J=0;J<K;J++)$[J]=arguments[J];return W=q.call.apply(q,[this].concat($)),T(A(W),"callPlayer",r.callPlayer),T(A(W),"parsePlaylist",function(oe){if(oe instanceof Array)return{listType:"playlist",playlist:oe.map(W.getID).join(",")};if(H.test(oe)){var fe=oe.match(H),ye=d(fe,2),le=ye[1];return{listType:"playlist",list:le.replace(/^UC/,"UU")}}if(U.test(oe)){var Ee=oe.match(U),ue=d(Ee,2),Me=ue[1];return{listType:"user_uploads",list:Me}}return{}}),T(A(W),"onStateChange",function(oe){var fe=oe.data,ye=W.props,le=ye.onPlay,Ee=ye.onPause,ue=ye.onBuffer,Me=ye.onBufferEnd,Fe=ye.onEnded,$e=ye.onReady,ze=ye.loop,Xe=ye.config,ot=Xe.playerVars,nt=Xe.onUnstarted,St=window[j].PlayerState,Nt=St.UNSTARTED,ut=St.PLAYING,_t=St.PAUSED,wt=St.BUFFERING,st=St.ENDED,de=St.CUED;if(fe===Nt&&nt(),fe===ut&&(le(),Me()),fe===_t&&Ee(),fe===wt&&ue(),fe===st){var Je=!!W.callPlayer("getPlaylist");ze&&!Je&&(ot.start?W.seekTo(ot.start):W.play()),Fe()}fe===de&&$e()}),T(A(W),"mute",function(){W.callPlayer("mute")}),T(A(W),"unmute",function(){W.callPlayer("unMute")}),T(A(W),"ref",function(oe){W.container=oe}),W}return x(N,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(K){return!K||K instanceof Array||H.test(K)?null:K.match(a.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(K,$){var J=this,oe=this.props,fe=oe.playing,ye=oe.muted,le=oe.playsinline,Ee=oe.controls,ue=oe.loop,Me=oe.config,Fe=oe.onError,$e=Me.playerVars,ze=Me.embedOptions,Xe=this.getID(K);if($){if(H.test(K)||U.test(K)||K instanceof Array){this.player.loadPlaylist(this.parsePlaylist(K));return}this.player.cueVideoById({videoId:Xe,startSeconds:(0,r.parseStartTime)(K)||$e.start,endSeconds:(0,r.parseEndTime)(K)||$e.end});return}(0,r.getSDK)(S,j,B,function(ot){return ot.loaded}).then(function(ot){J.container&&(J.player=new ot.Player(J.container,c({width:"100%",height:"100%",videoId:Xe,playerVars:c(c({autoplay:fe?1:0,mute:ye?1:0,controls:Ee?1:0,start:(0,r.parseStartTime)(K),end:(0,r.parseEndTime)(K),origin:window.location.origin,playsinline:le?1:0},J.parsePlaylist(K)),$e),events:{onReady:function(){ue&&J.player.setLoop(!0),J.props.onReady()},onPlaybackRateChange:function(St){return J.props.onPlaybackRateChange(St.data)},onStateChange:J.onStateChange,onError:function(St){return Fe(St.data)}},host:z.test(K)?F:void 0},ze)))},Fe),ze.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer’s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(K){this.callPlayer("seekTo",K),this.props.playing||this.pause()}},{key:"setVolume",value:function(K){this.callPlayer("setVolume",K*100)}},{key:"setPlaybackRate",value:function(K){this.callPlayer("setPlaybackRate",K)}},{key:"setLoop",value:function(K){this.callPlayer("setLoop",K)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var K=this.props.display,$={width:"100%",height:"100%",display:K};return n.default.createElement("div",{style:$},n.default.createElement("div",{ref:this.ref}))}}]),N}(n.Component);e.default=V,T(V,"displayName","YouTube"),T(V,"canPlay",a.canPlay.youtube)}(Ow)),Ow}var Lw={},DR;function qX(){return DR||(DR=1,function(e){function t(L){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(T){return typeof T}:t=function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},t(L)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(ma()),r=ci(),a=ls();function i(){if(typeof WeakMap!="function")return null;var L=new WeakMap;return i=function(){return L},L}function s(L){if(L&&L.__esModule)return L;if(L===null||t(L)!=="object"&&typeof L!="function")return{default:L};var C=i();if(C&&C.has(L))return C.get(L);var T={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in L)if(Object.prototype.hasOwnProperty.call(L,j)){var B=S?Object.getOwnPropertyDescriptor(L,j):null;B&&(B.get||B.set)?Object.defineProperty(T,j,B):T[j]=L[j]}return T.default=L,C&&C.set(L,T),T}function o(L,C){var T=Object.keys(L);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(L);C&&(S=S.filter(function(j){return Object.getOwnPropertyDescriptor(L,j).enumerable})),T.push.apply(T,S)}return T}function c(L){for(var C=1;C<arguments.length;C++){var T=arguments[C]!=null?arguments[C]:{};C%2?o(Object(T),!0).forEach(function(S){R(L,S,T[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(T)):o(Object(T)).forEach(function(S){Object.defineProperty(L,S,Object.getOwnPropertyDescriptor(T,S))})}return L}function d(L,C){if(!(L instanceof C))throw new TypeError("Cannot call a class as a function")}function f(L,C){for(var T=0;T<C.length;T++){var S=C[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(L,S.key,S)}}function h(L,C,T){return C&&f(L.prototype,C),L}function m(L,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(C&&C.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),C&&g(L,C)}function g(L,C){return g=Object.setPrototypeOf||function(S,j){return S.__proto__=j,S},g(L,C)}function b(L){var C=x();return function(){var S=k(L),j;if(C){var B=k(this).constructor;j=Reflect.construct(S,arguments,B)}else j=S.apply(this,arguments);return _(this,j)}}function _(L,C){return C&&(t(C)==="object"||typeof C=="function")?C:w(L)}function w(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function k(L){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},k(L)}function R(L,C,T){return C in L?Object.defineProperty(L,C,{value:T,enumerable:!0,configurable:!0,writable:!0}):L[C]=T,L}var I="https://w.soundcloud.com/player/api.js",O="SC",A=function(L){m(T,L);var C=b(T);function T(){var S;d(this,T);for(var j=arguments.length,B=new Array(j),H=0;H<j;H++)B[H]=arguments[H];return S=C.call.apply(C,[this].concat(B)),R(w(S),"callPlayer",r.callPlayer),R(w(S),"duration",null),R(w(S),"currentTime",null),R(w(S),"fractionLoaded",null),R(w(S),"mute",function(){S.setVolume(0)}),R(w(S),"unmute",function(){S.props.volume!==null&&S.setVolume(S.props.volume)}),R(w(S),"ref",function(U){S.iframe=U}),S}return h(T,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(j,B){var H=this;(0,r.getSDK)(I,O).then(function(U){if(H.iframe){var z=U.Widget.Events,F=z.PLAY,V=z.PLAY_PROGRESS,Y=z.PAUSE,q=z.FINISH,N=z.ERROR;B||(H.player=U.Widget(H.iframe),H.player.bind(F,H.props.onPlay),H.player.bind(Y,function(){var W=H.duration-H.currentTime;W<.05||H.props.onPause()}),H.player.bind(V,function(W){H.currentTime=W.currentPosition/1e3,H.fractionLoaded=W.loadedProgress}),H.player.bind(q,function(){return H.props.onEnded()}),H.player.bind(N,function(W){return H.props.onError(W)})),H.player.load(j,c(c({},H.props.config.options),{},{callback:function(){H.player.getDuration(function(K){H.duration=K/1e3,H.props.onReady()})}}))}})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(j){this.callPlayer("seekTo",j*1e3)}},{key:"setVolume",value:function(j){this.callPlayer("setVolume",j*100)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var j=this.props.display,B={width:"100%",height:"100%",display:j};return n.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:B,frameBorder:0,allow:"autoplay"})}}]),T}(n.Component);e.default=A,R(A,"displayName","SoundCloud"),R(A,"canPlay",a.canPlay.soundcloud),R(A,"loopOnEnded",!0)}(Lw)),Lw}var Nw={},SR;function YX(){return SR||(SR=1,function(e){function t(L){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(T){return typeof T}:t=function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},t(L)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(ma()),r=ci(),a=ls();function i(){if(typeof WeakMap!="function")return null;var L=new WeakMap;return i=function(){return L},L}function s(L){if(L&&L.__esModule)return L;if(L===null||t(L)!=="object"&&typeof L!="function")return{default:L};var C=i();if(C&&C.has(L))return C.get(L);var T={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in L)if(Object.prototype.hasOwnProperty.call(L,j)){var B=S?Object.getOwnPropertyDescriptor(L,j):null;B&&(B.get||B.set)?Object.defineProperty(T,j,B):T[j]=L[j]}return T.default=L,C&&C.set(L,T),T}function o(L,C){var T=Object.keys(L);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(L);C&&(S=S.filter(function(j){return Object.getOwnPropertyDescriptor(L,j).enumerable})),T.push.apply(T,S)}return T}function c(L){for(var C=1;C<arguments.length;C++){var T=arguments[C]!=null?arguments[C]:{};C%2?o(Object(T),!0).forEach(function(S){R(L,S,T[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(T)):o(Object(T)).forEach(function(S){Object.defineProperty(L,S,Object.getOwnPropertyDescriptor(T,S))})}return L}function d(L,C){if(!(L instanceof C))throw new TypeError("Cannot call a class as a function")}function f(L,C){for(var T=0;T<C.length;T++){var S=C[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(L,S.key,S)}}function h(L,C,T){return C&&f(L.prototype,C),L}function m(L,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(C&&C.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),C&&g(L,C)}function g(L,C){return g=Object.setPrototypeOf||function(S,j){return S.__proto__=j,S},g(L,C)}function b(L){var C=x();return function(){var S=k(L),j;if(C){var B=k(this).constructor;j=Reflect.construct(S,arguments,B)}else j=S.apply(this,arguments);return _(this,j)}}function _(L,C){return C&&(t(C)==="object"||typeof C=="function")?C:w(L)}function w(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function k(L){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},k(L)}function R(L,C,T){return C in L?Object.defineProperty(L,C,{value:T,enumerable:!0,configurable:!0,writable:!0}):L[C]=T,L}var I="https://player.vimeo.com/api/player.js",O="Vimeo",A=function(L){m(T,L);var C=b(T);function T(){var S;d(this,T);for(var j=arguments.length,B=new Array(j),H=0;H<j;H++)B[H]=arguments[H];return S=C.call.apply(C,[this].concat(B)),R(w(S),"callPlayer",r.callPlayer),R(w(S),"duration",null),R(w(S),"currentTime",null),R(w(S),"secondsLoaded",null),R(w(S),"mute",function(){S.setVolume(0)}),R(w(S),"unmute",function(){S.props.volume!==null&&S.setVolume(S.props.volume)}),R(w(S),"ref",function(U){S.container=U}),S}return h(T,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(j){var B=this;this.duration=null,(0,r.getSDK)(I,O).then(function(H){if(B.container){var U=B.props.config,z=U.playerOptions,F=U.title;B.player=new H.Player(B.container,c({url:j,autoplay:B.props.playing,muted:B.props.muted,loop:B.props.loop,playsinline:B.props.playsinline,controls:B.props.controls},z)),B.player.ready().then(function(){var V=B.container.querySelector("iframe");V.style.width="100%",V.style.height="100%",F&&(V.title=F)}).catch(B.props.onError),B.player.on("loaded",function(){B.props.onReady(),B.refreshDuration()}),B.player.on("play",function(){B.props.onPlay(),B.refreshDuration()}),B.player.on("pause",B.props.onPause),B.player.on("seeked",function(V){return B.props.onSeek(V.seconds)}),B.player.on("ended",B.props.onEnded),B.player.on("error",B.props.onError),B.player.on("timeupdate",function(V){var Y=V.seconds;B.currentTime=Y}),B.player.on("progress",function(V){var Y=V.seconds;B.secondsLoaded=Y}),B.player.on("bufferstart",B.props.onBuffer),B.player.on("bufferend",B.props.onBufferEnd)}},this.props.onError)}},{key:"refreshDuration",value:function(){var j=this;this.player.getDuration().then(function(B){j.duration=B})}},{key:"play",value:function(){var j=this.callPlayer("play");j&&j.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(j){this.callPlayer("setCurrentTime",j)}},{key:"setVolume",value:function(j){this.callPlayer("setVolume",j)}},{key:"setLoop",value:function(j){this.callPlayer("setLoop",j)}},{key:"setPlaybackRate",value:function(j){this.callPlayer("setPlaybackRate",j)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var j=this.props.display,B={width:"100%",height:"100%",overflow:"hidden",display:j};return n.default.createElement("div",{key:this.props.url,ref:this.ref,style:B})}}]),T}(n.Component);e.default=A,R(A,"displayName","Vimeo"),R(A,"canPlay",a.canPlay.vimeo),R(A,"forceLoad",!0)}(Nw)),Nw}var Pw={},ER;function WX(){return ER||(ER=1,function(e){function t(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(S){return typeof S}:t=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},t(C)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(ma()),r=ci(),a=ls();function i(){if(typeof WeakMap!="function")return null;var C=new WeakMap;return i=function(){return C},C}function s(C){if(C&&C.__esModule)return C;if(C===null||t(C)!=="object"&&typeof C!="function")return{default:C};var T=i();if(T&&T.has(C))return T.get(C);var S={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in C)if(Object.prototype.hasOwnProperty.call(C,B)){var H=j?Object.getOwnPropertyDescriptor(C,B):null;H&&(H.get||H.set)?Object.defineProperty(S,B,H):S[B]=C[B]}return S.default=C,T&&T.set(C,S),S}function o(){return o=Object.assign||function(C){for(var T=1;T<arguments.length;T++){var S=arguments[T];for(var j in S)Object.prototype.hasOwnProperty.call(S,j)&&(C[j]=S[j])}return C},o.apply(this,arguments)}function c(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function d(C,T){for(var S=0;S<T.length;S++){var j=T[S];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(C,j.key,j)}}function f(C,T,S){return T&&d(C.prototype,T),C}function h(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(T&&T.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),T&&m(C,T)}function m(C,T){return m=Object.setPrototypeOf||function(j,B){return j.__proto__=B,j},m(C,T)}function g(C){var T=w();return function(){var j=x(C),B;if(T){var H=x(this).constructor;B=Reflect.construct(j,arguments,H)}else B=j.apply(this,arguments);return b(this,B)}}function b(C,T){return T&&(t(T)==="object"||typeof T=="function")?T:_(C)}function _(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function x(C){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},x(C)}function k(C,T,S){return T in C?Object.defineProperty(C,T,{value:S,enumerable:!0,configurable:!0,writable:!0}):C[T]=S,C}var R="https://connect.facebook.net/en_US/sdk.js",I="FB",O="fbAsyncInit",A="facebook-player-",L=function(C){h(S,C);var T=g(S);function S(){var j;c(this,S);for(var B=arguments.length,H=new Array(B),U=0;U<B;U++)H[U]=arguments[U];return j=T.call.apply(T,[this].concat(H)),k(_(j),"callPlayer",r.callPlayer),k(_(j),"playerID",j.props.config.playerId||"".concat(A).concat((0,r.randomString)())),k(_(j),"mute",function(){j.callPlayer("mute")}),k(_(j),"unmute",function(){j.callPlayer("unmute")}),j}return f(S,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(B,H){var U=this;if(H){(0,r.getSDK)(R,I,O).then(function(z){return z.XFBML.parse()});return}(0,r.getSDK)(R,I,O).then(function(z){z.init({appId:U.props.config.appId,xfbml:!0,version:U.props.config.version}),z.Event.subscribe("xfbml.render",function(F){U.props.onLoaded()}),z.Event.subscribe("xfbml.ready",function(F){F.type==="video"&&F.id===U.playerID&&(U.player=F.instance,U.player.subscribe("startedPlaying",U.props.onPlay),U.player.subscribe("paused",U.props.onPause),U.player.subscribe("finishedPlaying",U.props.onEnded),U.player.subscribe("startedBuffering",U.props.onBuffer),U.player.subscribe("finishedBuffering",U.props.onBufferEnd),U.player.subscribe("error",U.props.onError),U.props.muted?U.callPlayer("mute"):U.callPlayer("unmute"),U.props.onReady(),document.getElementById(U.playerID).querySelector("iframe").style.visibility="visible")})})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(B){this.callPlayer("seek",B)}},{key:"setVolume",value:function(B){this.callPlayer("setVolume",B)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var B=this.props.config.attributes,H={width:"100%",height:"100%"};return n.default.createElement("div",o({style:H,id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},B))}}]),S}(n.Component);e.default=L,k(L,"displayName","Facebook"),k(L,"canPlay",a.canPlay.facebook),k(L,"loopOnEnded",!0)}(Pw)),Pw}var Iw={},MR;function GX(){return MR||(MR=1,function(e){function t(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(L){return typeof L}:t=function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},t(O)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(ma()),r=ci(),a=ls();function i(){if(typeof WeakMap!="function")return null;var O=new WeakMap;return i=function(){return O},O}function s(O){if(O&&O.__esModule)return O;if(O===null||t(O)!=="object"&&typeof O!="function")return{default:O};var A=i();if(A&&A.has(O))return A.get(O);var L={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in O)if(Object.prototype.hasOwnProperty.call(O,T)){var S=C?Object.getOwnPropertyDescriptor(O,T):null;S&&(S.get||S.set)?Object.defineProperty(L,T,S):L[T]=O[T]}return L.default=O,A&&A.set(O,L),L}function o(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}function c(O,A){for(var L=0;L<A.length;L++){var C=A[L];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}function d(O,A,L){return A&&c(O.prototype,A),O}function f(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),A&&h(O,A)}function h(O,A){return h=Object.setPrototypeOf||function(C,T){return C.__proto__=T,C},h(O,A)}function m(O){var A=_();return function(){var C=w(O),T;if(A){var S=w(this).constructor;T=Reflect.construct(C,arguments,S)}else T=C.apply(this,arguments);return g(this,T)}}function g(O,A){return A&&(t(A)==="object"||typeof A=="function")?A:b(O)}function b(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function w(O){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)},w(O)}function x(O,A,L){return A in O?Object.defineProperty(O,A,{value:L,enumerable:!0,configurable:!0,writable:!0}):O[A]=L,O}var k="https://cdn.embed.ly/player-0.1.0.min.js",R="playerjs",I=function(O){f(L,O);var A=m(L);function L(){var C;o(this,L);for(var T=arguments.length,S=new Array(T),j=0;j<T;j++)S[j]=arguments[j];return C=A.call.apply(A,[this].concat(S)),x(b(C),"callPlayer",r.callPlayer),x(b(C),"duration",null),x(b(C),"currentTime",null),x(b(C),"secondsLoaded",null),x(b(C),"mute",function(){C.callPlayer("mute")}),x(b(C),"unmute",function(){C.callPlayer("unmute")}),x(b(C),"ref",function(B){C.iframe=B}),C}return d(L,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(T){var S=this;(0,r.getSDK)(k,R).then(function(j){S.iframe&&(S.player=new j.Player(S.iframe),S.player.setLoop(S.props.loop),S.player.on("ready",S.props.onReady),S.player.on("play",S.props.onPlay),S.player.on("pause",S.props.onPause),S.player.on("seeked",S.props.onSeek),S.player.on("ended",S.props.onEnded),S.player.on("error",S.props.onError),S.player.on("timeupdate",function(B){var H=B.duration,U=B.seconds;S.duration=H,S.currentTime=U}),S.player.on("buffered",function(B){var H=B.percent;S.duration&&(S.secondsLoaded=S.duration*H)}),S.props.muted&&S.player.mute())},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(T){this.callPlayer("setCurrentTime",T)}},{key:"setVolume",value:function(T){this.callPlayer("setVolume",T*100)}},{key:"setLoop",value:function(T){this.callPlayer("setLoop",T)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var T=this.props.url.match(a.MATCH_URL_STREAMABLE)[1],S={width:"100%",height:"100%"};return n.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(T),frameBorder:"0",scrolling:"no",style:S,allow:"encrypted-media; autoplay; fullscreen;"})}}]),L}(n.Component);e.default=I,x(I,"displayName","Streamable"),x(I,"canPlay",a.canPlay.streamable)}(Iw)),Iw}var Fw={},TR;function KX(){return TR||(TR=1,function(e){function t(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(S){return typeof S}:t=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},t(C)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(ma()),r=ci(),a=ls();function i(){if(typeof WeakMap!="function")return null;var C=new WeakMap;return i=function(){return C},C}function s(C){if(C&&C.__esModule)return C;if(C===null||t(C)!=="object"&&typeof C!="function")return{default:C};var T=i();if(T&&T.has(C))return T.get(C);var S={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in C)if(Object.prototype.hasOwnProperty.call(C,B)){var H=j?Object.getOwnPropertyDescriptor(C,B):null;H&&(H.get||H.set)?Object.defineProperty(S,B,H):S[B]=C[B]}return S.default=C,T&&T.set(C,S),S}function o(C,T){var S=Object.keys(C);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(C);T&&(j=j.filter(function(B){return Object.getOwnPropertyDescriptor(C,B).enumerable})),S.push.apply(S,j)}return S}function c(C){for(var T=1;T<arguments.length;T++){var S=arguments[T]!=null?arguments[T]:{};T%2?o(Object(S),!0).forEach(function(j){R(C,j,S[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(S)):o(Object(S)).forEach(function(j){Object.defineProperty(C,j,Object.getOwnPropertyDescriptor(S,j))})}return C}function d(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function f(C,T){for(var S=0;S<T.length;S++){var j=T[S];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(C,j.key,j)}}function h(C,T,S){return T&&f(C.prototype,T),C}function m(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(T&&T.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),T&&g(C,T)}function g(C,T){return g=Object.setPrototypeOf||function(j,B){return j.__proto__=B,j},g(C,T)}function b(C){var T=x();return function(){var j=k(C),B;if(T){var H=k(this).constructor;B=Reflect.construct(j,arguments,H)}else B=j.apply(this,arguments);return _(this,B)}}function _(C,T){return T&&(t(T)==="object"||typeof T=="function")?T:w(C)}function w(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function k(C){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},k(C)}function R(C,T,S){return T in C?Object.defineProperty(C,T,{value:S,enumerable:!0,configurable:!0,writable:!0}):C[T]=S,C}var I="https://fast.wistia.com/assets/external/E-v1.js",O="Wistia",A="wistia-player-",L=function(C){m(S,C);var T=b(S);function S(){var j;d(this,S);for(var B=arguments.length,H=new Array(B),U=0;U<B;U++)H[U]=arguments[U];return j=T.call.apply(T,[this].concat(H)),R(w(j),"callPlayer",r.callPlayer),R(w(j),"playerID",j.props.config.playerId||"".concat(A).concat((0,r.randomString)())),R(w(j),"onPlay",function(){var z;return(z=j.props).onPlay.apply(z,arguments)}),R(w(j),"onPause",function(){var z;return(z=j.props).onPause.apply(z,arguments)}),R(w(j),"onSeek",function(){var z;return(z=j.props).onSeek.apply(z,arguments)}),R(w(j),"onEnded",function(){var z;return(z=j.props).onEnded.apply(z,arguments)}),R(w(j),"onPlaybackRateChange",function(){var z;return(z=j.props).onPlaybackRateChange.apply(z,arguments)}),R(w(j),"mute",function(){j.callPlayer("mute")}),R(w(j),"unmute",function(){j.callPlayer("unmute")}),j}return h(S,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(B){var H=this,U=this.props,z=U.playing,F=U.muted,V=U.controls,Y=U.onReady,q=U.config,N=U.onError;(0,r.getSDK)(I,O).then(function(W){q.customControls&&q.customControls.forEach(function(K){return W.defineControl(K)}),window._wq=window._wq||[],window._wq.push({id:H.playerID,options:c({autoPlay:z,silentAutoPlay:"allow",muted:F,controlsVisibleOnLoad:V,fullscreenButton:V,playbar:V,playbackRateControl:V,qualityControl:V,volumeControl:V,settingsControl:V,smallPlayButton:V},q.options),onReady:function($){H.player=$,H.unbind(),H.player.bind("play",H.onPlay),H.player.bind("pause",H.onPause),H.player.bind("seek",H.onSeek),H.player.bind("end",H.onEnded),H.player.bind("playbackratechange",H.onPlaybackRateChange),Y()}})},N)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded),this.player.unbind("playbackratechange",this.onPlaybackRateChange)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(B){this.callPlayer("time",B)}},{key:"setVolume",value:function(B){this.callPlayer("volume",B)}},{key:"setPlaybackRate",value:function(B){this.callPlayer("playbackRate",B)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var B=this.props.url,H=B&&B.match(a.MATCH_URL_WISTIA)[1],U="wistia_embed wistia_async_".concat(H),z={width:"100%",height:"100%"};return n.default.createElement("div",{id:this.playerID,key:H,className:U,style:z})}}]),S}(n.Component);e.default=L,R(L,"displayName","Wistia"),R(L,"canPlay",a.canPlay.wistia),R(L,"loopOnEnded",!0)}(Fw)),Fw}var jw={},kR;function QX(){return kR||(kR=1,function(e){function t(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(S){return typeof S}:t=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},t(C)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(ma()),r=ci(),a=ls();function i(){if(typeof WeakMap!="function")return null;var C=new WeakMap;return i=function(){return C},C}function s(C){if(C&&C.__esModule)return C;if(C===null||t(C)!=="object"&&typeof C!="function")return{default:C};var T=i();if(T&&T.has(C))return T.get(C);var S={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in C)if(Object.prototype.hasOwnProperty.call(C,B)){var H=j?Object.getOwnPropertyDescriptor(C,B):null;H&&(H.get||H.set)?Object.defineProperty(S,B,H):S[B]=C[B]}return S.default=C,T&&T.set(C,S),S}function o(C,T){var S=Object.keys(C);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(C);T&&(j=j.filter(function(B){return Object.getOwnPropertyDescriptor(C,B).enumerable})),S.push.apply(S,j)}return S}function c(C){for(var T=1;T<arguments.length;T++){var S=arguments[T]!=null?arguments[T]:{};T%2?o(Object(S),!0).forEach(function(j){R(C,j,S[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(S)):o(Object(S)).forEach(function(j){Object.defineProperty(C,j,Object.getOwnPropertyDescriptor(S,j))})}return C}function d(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function f(C,T){for(var S=0;S<T.length;S++){var j=T[S];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(C,j.key,j)}}function h(C,T,S){return T&&f(C.prototype,T),C}function m(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(T&&T.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),T&&g(C,T)}function g(C,T){return g=Object.setPrototypeOf||function(j,B){return j.__proto__=B,j},g(C,T)}function b(C){var T=x();return function(){var j=k(C),B;if(T){var H=k(this).constructor;B=Reflect.construct(j,arguments,H)}else B=j.apply(this,arguments);return _(this,B)}}function _(C,T){return T&&(t(T)==="object"||typeof T=="function")?T:w(C)}function w(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function k(C){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},k(C)}function R(C,T,S){return T in C?Object.defineProperty(C,T,{value:S,enumerable:!0,configurable:!0,writable:!0}):C[T]=S,C}var I="https://player.twitch.tv/js/embed/v1.js",O="Twitch",A="twitch-player-",L=function(C){m(S,C);var T=b(S);function S(){var j;d(this,S);for(var B=arguments.length,H=new Array(B),U=0;U<B;U++)H[U]=arguments[U];return j=T.call.apply(T,[this].concat(H)),R(w(j),"callPlayer",r.callPlayer),R(w(j),"playerID",j.props.config.playerId||"".concat(A).concat((0,r.randomString)())),R(w(j),"mute",function(){j.callPlayer("setMuted",!0)}),R(w(j),"unmute",function(){j.callPlayer("setMuted",!1)}),j}return h(S,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(B,H){var U=this,z=this.props,F=z.playsinline,V=z.onError,Y=z.config,q=z.controls,N=a.MATCH_URL_TWITCH_CHANNEL.test(B),W=N?B.match(a.MATCH_URL_TWITCH_CHANNEL)[1]:B.match(a.MATCH_URL_TWITCH_VIDEO)[1];if(H){N?this.player.setChannel(W):this.player.setVideo("v"+W);return}(0,r.getSDK)(I,O).then(function(K){U.player=new K.Player(U.playerID,c({video:N?"":W,channel:N?W:"",height:"100%",width:"100%",playsinline:F,autoplay:U.props.playing,muted:U.props.muted,controls:N?!0:q,time:(0,r.parseStartTime)(B)},Y.options));var $=K.Player,J=$.READY,oe=$.PLAYING,fe=$.PAUSE,ye=$.ENDED,le=$.ONLINE,Ee=$.OFFLINE,ue=$.SEEK;U.player.addEventListener(J,U.props.onReady),U.player.addEventListener(oe,U.props.onPlay),U.player.addEventListener(fe,U.props.onPause),U.player.addEventListener(ye,U.props.onEnded),U.player.addEventListener(ue,U.props.onSeek),U.player.addEventListener(le,U.props.onLoaded),U.player.addEventListener(Ee,U.props.onLoaded)},V)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(B){this.callPlayer("seek",B)}},{key:"setVolume",value:function(B){this.callPlayer("setVolume",B)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var B={width:"100%",height:"100%"};return n.default.createElement("div",{style:B,id:this.playerID})}}]),S}(n.Component);e.default=L,R(L,"displayName","Twitch"),R(L,"canPlay",a.canPlay.twitch),R(L,"loopOnEnded",!0)}(jw)),jw}var Uw={},RR;function ZX(){return RR||(RR=1,function(e){function t(U){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(F){return typeof F}:t=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},t(U)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(ma()),r=ci(),a=ls();function i(){if(typeof WeakMap!="function")return null;var U=new WeakMap;return i=function(){return U},U}function s(U){if(U&&U.__esModule)return U;if(U===null||t(U)!=="object"&&typeof U!="function")return{default:U};var z=i();if(z&&z.has(U))return z.get(U);var F={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Y in U)if(Object.prototype.hasOwnProperty.call(U,Y)){var q=V?Object.getOwnPropertyDescriptor(U,Y):null;q&&(q.get||q.set)?Object.defineProperty(F,Y,q):F[Y]=U[Y]}return F.default=U,z&&z.set(U,F),F}function o(U,z){var F=Object.keys(U);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(U);z&&(V=V.filter(function(Y){return Object.getOwnPropertyDescriptor(U,Y).enumerable})),F.push.apply(F,V)}return F}function c(U){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?o(Object(F),!0).forEach(function(V){T(U,V,F[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(F)):o(Object(F)).forEach(function(V){Object.defineProperty(U,V,Object.getOwnPropertyDescriptor(F,V))})}return U}function d(U,z){return b(U)||g(U,z)||h(U,z)||f()}function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(U,z){if(U){if(typeof U=="string")return m(U,z);var F=Object.prototype.toString.call(U).slice(8,-1);if(F==="Object"&&U.constructor&&(F=U.constructor.name),F==="Map"||F==="Set")return Array.from(U);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return m(U,z)}}function m(U,z){(z==null||z>U.length)&&(z=U.length);for(var F=0,V=new Array(z);F<z;F++)V[F]=U[F];return V}function g(U,z){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(U)))){var F=[],V=!0,Y=!1,q=void 0;try{for(var N=U[Symbol.iterator](),W;!(V=(W=N.next()).done)&&(F.push(W.value),!(z&&F.length===z));V=!0);}catch(K){Y=!0,q=K}finally{try{!V&&N.return!=null&&N.return()}finally{if(Y)throw q}}return F}}function b(U){if(Array.isArray(U))return U}function _(U,z){if(!(U instanceof z))throw new TypeError("Cannot call a class as a function")}function w(U,z){for(var F=0;F<z.length;F++){var V=z[F];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(U,V.key,V)}}function x(U,z,F){return z&&w(U.prototype,z),U}function k(U,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(z&&z.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),z&&R(U,z)}function R(U,z){return R=Object.setPrototypeOf||function(V,Y){return V.__proto__=Y,V},R(U,z)}function I(U){var z=L();return function(){var V=C(U),Y;if(z){var q=C(this).constructor;Y=Reflect.construct(V,arguments,q)}else Y=V.apply(this,arguments);return O(this,Y)}}function O(U,z){return z&&(t(z)==="object"||typeof z=="function")?z:A(U)}function A(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function C(U){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)},C(U)}function T(U,z,F){return z in U?Object.defineProperty(U,z,{value:F,enumerable:!0,configurable:!0,writable:!0}):U[z]=F,U}var S="https://api.dmcdn.net/all.js",j="DM",B="dmAsyncInit",H=function(U){k(F,U);var z=I(F);function F(){var V;_(this,F);for(var Y=arguments.length,q=new Array(Y),N=0;N<Y;N++)q[N]=arguments[N];return V=z.call.apply(z,[this].concat(q)),T(A(V),"callPlayer",r.callPlayer),T(A(V),"onDurationChange",function(){var W=V.getDuration();V.props.onDuration(W)}),T(A(V),"mute",function(){V.callPlayer("setMuted",!0)}),T(A(V),"unmute",function(){V.callPlayer("setMuted",!1)}),T(A(V),"ref",function(W){V.container=W}),V}return x(F,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(Y){var q=this,N=this.props,W=N.controls,K=N.config,$=N.onError,J=N.playing,oe=Y.match(a.MATCH_URL_DAILYMOTION),fe=d(oe,2),ye=fe[1];if(this.player){this.player.load(ye,{start:(0,r.parseStartTime)(Y),autoplay:J});return}(0,r.getSDK)(S,j,B,function(le){return le.player}).then(function(le){if(q.container){var Ee=le.player;q.player=new Ee(q.container,{width:"100%",height:"100%",video:ye,params:c({controls:W,autoplay:q.props.playing,mute:q.props.muted,start:(0,r.parseStartTime)(Y),origin:window.location.origin},K.params),events:{apiready:q.props.onReady,seeked:function(){return q.props.onSeek(q.player.currentTime)},video_end:q.props.onEnded,durationchange:q.onDurationChange,pause:q.props.onPause,playing:q.props.onPlay,waiting:q.props.onBuffer,error:function(Me){return $(Me)}}})}},$)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(Y){this.callPlayer("seek",Y)}},{key:"setVolume",value:function(Y){this.callPlayer("setVolume",Y)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var Y=this.props.display,q={width:"100%",height:"100%",display:Y};return n.default.createElement("div",{style:q},n.default.createElement("div",{ref:this.ref}))}}]),F}(n.Component);e.default=H,T(H,"displayName","DailyMotion"),T(H,"canPlay",a.canPlay.dailymotion),T(H,"loopOnEnded",!0)}(Uw)),Uw}var Bw={},AR;function XX(){return AR||(AR=1,function(e){function t(L){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(T){return typeof T}:t=function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},t(L)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(ma()),r=ci(),a=ls();function i(){if(typeof WeakMap!="function")return null;var L=new WeakMap;return i=function(){return L},L}function s(L){if(L&&L.__esModule)return L;if(L===null||t(L)!=="object"&&typeof L!="function")return{default:L};var C=i();if(C&&C.has(L))return C.get(L);var T={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in L)if(Object.prototype.hasOwnProperty.call(L,j)){var B=S?Object.getOwnPropertyDescriptor(L,j):null;B&&(B.get||B.set)?Object.defineProperty(T,j,B):T[j]=L[j]}return T.default=L,C&&C.set(L,T),T}function o(L,C){var T=Object.keys(L);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(L);C&&(S=S.filter(function(j){return Object.getOwnPropertyDescriptor(L,j).enumerable})),T.push.apply(T,S)}return T}function c(L){for(var C=1;C<arguments.length;C++){var T=arguments[C]!=null?arguments[C]:{};C%2?o(Object(T),!0).forEach(function(S){R(L,S,T[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(T)):o(Object(T)).forEach(function(S){Object.defineProperty(L,S,Object.getOwnPropertyDescriptor(T,S))})}return L}function d(L,C){if(!(L instanceof C))throw new TypeError("Cannot call a class as a function")}function f(L,C){for(var T=0;T<C.length;T++){var S=C[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(L,S.key,S)}}function h(L,C,T){return C&&f(L.prototype,C),L}function m(L,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(C&&C.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),C&&g(L,C)}function g(L,C){return g=Object.setPrototypeOf||function(S,j){return S.__proto__=j,S},g(L,C)}function b(L){var C=x();return function(){var S=k(L),j;if(C){var B=k(this).constructor;j=Reflect.construct(S,arguments,B)}else j=S.apply(this,arguments);return _(this,j)}}function _(L,C){return C&&(t(C)==="object"||typeof C=="function")?C:w(L)}function w(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function k(L){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},k(L)}function R(L,C,T){return C in L?Object.defineProperty(L,C,{value:T,enumerable:!0,configurable:!0,writable:!0}):L[C]=T,L}var I="https://widget.mixcloud.com/media/js/widgetApi.js",O="Mixcloud",A=function(L){m(T,L);var C=b(T);function T(){var S;d(this,T);for(var j=arguments.length,B=new Array(j),H=0;H<j;H++)B[H]=arguments[H];return S=C.call.apply(C,[this].concat(B)),R(w(S),"callPlayer",r.callPlayer),R(w(S),"duration",null),R(w(S),"currentTime",null),R(w(S),"secondsLoaded",null),R(w(S),"mute",function(){}),R(w(S),"unmute",function(){}),R(w(S),"ref",function(U){S.iframe=U}),S}return h(T,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(j){var B=this;(0,r.getSDK)(I,O).then(function(H){B.player=H.PlayerWidget(B.iframe),B.player.ready.then(function(){B.player.events.play.on(B.props.onPlay),B.player.events.pause.on(B.props.onPause),B.player.events.ended.on(B.props.onEnded),B.player.events.error.on(B.props.error),B.player.events.progress.on(function(U,z){B.currentTime=U,B.duration=z}),B.props.onReady()})},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(j){this.callPlayer("seek",j)}},{key:"setVolume",value:function(j){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var j=this.props,B=j.url,H=j.config,U=B.match(a.MATCH_URL_MIXCLOUD)[1],z={width:"100%",height:"100%"},F=(0,r.queryString)(c(c({},H.options),{},{feed:"/".concat(U,"/")}));return n.default.createElement("iframe",{key:U,ref:this.ref,style:z,src:"https://www.mixcloud.com/widget/iframe/?".concat(F),frameBorder:"0"})}}]),T}(n.Component);e.default=A,R(A,"displayName","Mixcloud"),R(A,"canPlay",a.canPlay.mixcloud),R(A,"loopOnEnded",!0)}(Bw)),Bw}var $w={},OR;function JX(){return OR||(OR=1,function(e){function t(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(S){return typeof S}:t=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},t(C)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(ma()),r=ci(),a=ls();function i(){if(typeof WeakMap!="function")return null;var C=new WeakMap;return i=function(){return C},C}function s(C){if(C&&C.__esModule)return C;if(C===null||t(C)!=="object"&&typeof C!="function")return{default:C};var T=i();if(T&&T.has(C))return T.get(C);var S={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in C)if(Object.prototype.hasOwnProperty.call(C,B)){var H=j?Object.getOwnPropertyDescriptor(C,B):null;H&&(H.get||H.set)?Object.defineProperty(S,B,H):S[B]=C[B]}return S.default=C,T&&T.set(C,S),S}function o(C,T){var S=Object.keys(C);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(C);T&&(j=j.filter(function(B){return Object.getOwnPropertyDescriptor(C,B).enumerable})),S.push.apply(S,j)}return S}function c(C){for(var T=1;T<arguments.length;T++){var S=arguments[T]!=null?arguments[T]:{};T%2?o(Object(S),!0).forEach(function(j){R(C,j,S[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(S)):o(Object(S)).forEach(function(j){Object.defineProperty(C,j,Object.getOwnPropertyDescriptor(S,j))})}return C}function d(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function f(C,T){for(var S=0;S<T.length;S++){var j=T[S];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(C,j.key,j)}}function h(C,T,S){return T&&f(C.prototype,T),C}function m(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(T&&T.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),T&&g(C,T)}function g(C,T){return g=Object.setPrototypeOf||function(j,B){return j.__proto__=B,j},g(C,T)}function b(C){var T=x();return function(){var j=k(C),B;if(T){var H=k(this).constructor;B=Reflect.construct(j,arguments,H)}else B=j.apply(this,arguments);return _(this,B)}}function _(C,T){return T&&(t(T)==="object"||typeof T=="function")?T:w(C)}function w(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function k(C){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},k(C)}function R(C,T,S){return T in C?Object.defineProperty(C,T,{value:S,enumerable:!0,configurable:!0,writable:!0}):C[T]=S,C}var I="https://play.vidyard.com/embed/v4.js",O="VidyardV4",A="onVidyardAPI",L=function(C){m(S,C);var T=b(S);function S(){var j;d(this,S);for(var B=arguments.length,H=new Array(B),U=0;U<B;U++)H[U]=arguments[U];return j=T.call.apply(T,[this].concat(H)),R(w(j),"callPlayer",r.callPlayer),R(w(j),"mute",function(){j.setVolume(0)}),R(w(j),"unmute",function(){j.props.volume!==null&&j.setVolume(j.props.volume)}),R(w(j),"ref",function(z){j.container=z}),j}return h(S,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(B){var H=this,U=this.props,z=U.playing,F=U.config,V=U.onError,Y=U.onDuration,q=B&&B.match(a.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,r.getSDK)(I,O,A).then(function(N){H.container&&(N.api.addReadyListener(function(W,K){H.player||(H.player=K,H.player.on("ready",H.props.onReady),H.player.on("play",H.props.onPlay),H.player.on("pause",H.props.onPause),H.player.on("seek",H.props.onSeek),H.player.on("playerComplete",H.props.onEnded))},q),N.api.renderPlayer(c({uuid:q,container:H.container,autoplay:z?1:0},F.options)),N.api.getPlayerMetadata(q).then(function(W){H.duration=W.length_in_seconds,Y(W.length_in_seconds)}))},V)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(B){this.callPlayer("seek",B)}},{key:"setVolume",value:function(B){this.callPlayer("setVolume",B)}},{key:"setPlaybackRate",value:function(B){this.callPlayer("setPlaybackSpeed",B)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var B=this.props.display,H={width:"100%",height:"100%",display:B};return n.default.createElement("div",{style:H},n.default.createElement("div",{ref:this.ref}))}}]),S}(n.Component);e.default=L,R(L,"displayName","Vidyard"),R(L,"canPlay",a.canPlay.vidyard)}($w)),$w}var zw={},LR;function eJ(){return LR||(LR=1,function(e){function t(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(L){return typeof L}:t=function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},t(O)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(ma()),r=ci(),a=ls();function i(){if(typeof WeakMap!="function")return null;var O=new WeakMap;return i=function(){return O},O}function s(O){if(O&&O.__esModule)return O;if(O===null||t(O)!=="object"&&typeof O!="function")return{default:O};var A=i();if(A&&A.has(O))return A.get(O);var L={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in O)if(Object.prototype.hasOwnProperty.call(O,T)){var S=C?Object.getOwnPropertyDescriptor(O,T):null;S&&(S.get||S.set)?Object.defineProperty(L,T,S):L[T]=O[T]}return L.default=O,A&&A.set(O,L),L}function o(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}function c(O,A){for(var L=0;L<A.length;L++){var C=A[L];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}function d(O,A,L){return A&&c(O.prototype,A),O}function f(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),A&&h(O,A)}function h(O,A){return h=Object.setPrototypeOf||function(C,T){return C.__proto__=T,C},h(O,A)}function m(O){var A=_();return function(){var C=w(O),T;if(A){var S=w(this).constructor;T=Reflect.construct(C,arguments,S)}else T=C.apply(this,arguments);return g(this,T)}}function g(O,A){return A&&(t(A)==="object"||typeof A=="function")?A:b(O)}function b(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function w(O){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)},w(O)}function x(O,A,L){return A in O?Object.defineProperty(O,A,{value:L,enumerable:!0,configurable:!0,writable:!0}):O[A]=L,O}var k="https://cdn.embed.ly/player-0.1.0.min.js",R="playerjs",I=function(O){f(L,O);var A=m(L);function L(){var C;o(this,L);for(var T=arguments.length,S=new Array(T),j=0;j<T;j++)S[j]=arguments[j];return C=A.call.apply(A,[this].concat(S)),x(b(C),"callPlayer",r.callPlayer),x(b(C),"duration",null),x(b(C),"currentTime",null),x(b(C),"secondsLoaded",null),x(b(C),"mute",function(){C.callPlayer("mute")}),x(b(C),"unmute",function(){C.callPlayer("unmute")}),x(b(C),"ref",function(B){C.iframe=B}),C}return d(L,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(T){var S=this;(0,r.getSDK)(k,R).then(function(j){S.iframe&&(S.player=new j.Player(S.iframe),S.player.on("ready",function(){setTimeout(function(){S.player.isReady=!0,S.player.setLoop(S.props.loop),S.props.muted&&S.player.mute(),S.addListeners(S.player,S.props),S.props.onReady()},500)}))},this.props.onError)}},{key:"addListeners",value:function(T,S){var j=this;T.on("play",S.onPlay),T.on("pause",S.onPause),T.on("ended",S.onEnded),T.on("error",S.onError),T.on("timeupdate",function(B){var H=B.duration,U=B.seconds;j.duration=H,j.currentTime=U})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(T){this.callPlayer("setCurrentTime",T)}},{key:"setVolume",value:function(T){this.callPlayer("setVolume",T)}},{key:"setLoop",value:function(T){this.callPlayer("setLoop",T)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var T={width:"100%",height:"100%"};return n.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:T,allow:"encrypted-media; autoplay; fullscreen;",referrerPolicy:"no-referrer-when-downgrade"})}}]),L}(n.Component);e.default=I,x(I,"displayName","Kaltura"),x(I,"canPlay",a.canPlay.kaltura)}(zw)),zw}var Hw={},NR;function tJ(){return NR||(NR=1,function(e){function t(F){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(Y){return typeof Y}:t=function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},t(F)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(ma()),r=ci(),a=ls();function i(){if(typeof WeakMap!="function")return null;var F=new WeakMap;return i=function(){return F},F}function s(F){if(F&&F.__esModule)return F;if(F===null||t(F)!=="object"&&typeof F!="function")return{default:F};var V=i();if(V&&V.has(F))return V.get(F);var Y={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in F)if(Object.prototype.hasOwnProperty.call(F,N)){var W=q?Object.getOwnPropertyDescriptor(F,N):null;W&&(W.get||W.set)?Object.defineProperty(Y,N,W):Y[N]=F[N]}return Y.default=F,V&&V.set(F,Y),Y}function o(){return o=Object.assign||function(F){for(var V=1;V<arguments.length;V++){var Y=arguments[V];for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(F[q]=Y[q])}return F},o.apply(this,arguments)}function c(F,V){if(!(F instanceof V))throw new TypeError("Cannot call a class as a function")}function d(F,V){for(var Y=0;Y<V.length;Y++){var q=V[Y];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}}function f(F,V,Y){return V&&d(F.prototype,V),F}function h(F,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(V&&V.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),V&&m(F,V)}function m(F,V){return m=Object.setPrototypeOf||function(q,N){return q.__proto__=N,q},m(F,V)}function g(F){var V=w();return function(){var q=x(F),N;if(V){var W=x(this).constructor;N=Reflect.construct(q,arguments,W)}else N=q.apply(this,arguments);return b(this,N)}}function b(F,V){return V&&(t(V)==="object"||typeof V=="function")?V:_(F)}function _(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function x(F){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)},x(F)}function k(F,V,Y){return V in F?Object.defineProperty(F,V,{value:Y,enumerable:!0,configurable:!0,writable:!0}):F[V]=Y,F}var R=typeof navigator<"u",I=R&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,O=R&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||I)&&!window.MSStream,A="https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js",L="Hls",C="https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js",T="dashjs",S="https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js",j="flvjs",B=/www\.dropbox\.com\/.+/,H=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,U="https://videodelivery.net/{id}/manifest/video.m3u8",z=function(F){h(Y,F);var V=g(Y);function Y(){var q;c(this,Y);for(var N=arguments.length,W=new Array(N),K=0;K<N;K++)W[K]=arguments[K];return q=V.call.apply(V,[this].concat(W)),k(_(q),"onReady",function(){var $;return($=q.props).onReady.apply($,arguments)}),k(_(q),"onPlay",function(){var $;return($=q.props).onPlay.apply($,arguments)}),k(_(q),"onBuffer",function(){var $;return($=q.props).onBuffer.apply($,arguments)}),k(_(q),"onBufferEnd",function(){var $;return($=q.props).onBufferEnd.apply($,arguments)}),k(_(q),"onPause",function(){var $;return($=q.props).onPause.apply($,arguments)}),k(_(q),"onEnded",function(){var $;return($=q.props).onEnded.apply($,arguments)}),k(_(q),"onError",function(){var $;return($=q.props).onError.apply($,arguments)}),k(_(q),"onPlayBackRateChange",function($){return q.props.onPlaybackRateChange($.target.playbackRate)}),k(_(q),"onEnablePIP",function(){var $;return($=q.props).onEnablePIP.apply($,arguments)}),k(_(q),"onDisablePIP",function($){var J=q.props,oe=J.onDisablePIP,fe=J.playing;oe($),fe&&q.play()}),k(_(q),"onPresentationModeChange",function($){if(q.player&&(0,r.supportsWebKitPresentationMode)(q.player)){var J=q.player.webkitPresentationMode;J==="picture-in-picture"?q.onEnablePIP($):J==="inline"&&q.onDisablePIP($)}}),k(_(q),"onSeek",function($){q.props.onSeek($.target.currentTime)}),k(_(q),"mute",function(){q.player.muted=!0}),k(_(q),"unmute",function(){q.player.muted=!1}),k(_(q),"renderSourceElement",function($,J){return typeof $=="string"?n.default.createElement("source",{key:J,src:$}):n.default.createElement("source",o({key:J},$))}),k(_(q),"renderTrack",function($,J){return n.default.createElement("track",o({key:J},$))}),k(_(q),"ref",function($){q.player&&(q.prevPlayer=q.player),q.player=$}),q}return f(Y,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),O&&this.player.load()}},{key:"componentDidUpdate",value:function(N){this.shouldUseAudio(this.props)!==this.shouldUseAudio(N)&&(this.removeListeners(this.prevPlayer,N.url),this.addListeners(this.player)),this.props.url!==N.url&&!(0,r.isMediaStream)(this.props.url)&&(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(N){var W=this.props,K=W.url,$=W.playsinline;N.addEventListener("play",this.onPlay),N.addEventListener("waiting",this.onBuffer),N.addEventListener("playing",this.onBufferEnd),N.addEventListener("pause",this.onPause),N.addEventListener("seeked",this.onSeek),N.addEventListener("ended",this.onEnded),N.addEventListener("error",this.onError),N.addEventListener("ratechange",this.onPlayBackRateChange),N.addEventListener("enterpictureinpicture",this.onEnablePIP),N.addEventListener("leavepictureinpicture",this.onDisablePIP),N.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(K)||N.addEventListener("canplay",this.onReady),$&&(N.setAttribute("playsinline",""),N.setAttribute("webkit-playsinline",""),N.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(N,W){N.removeEventListener("canplay",this.onReady),N.removeEventListener("play",this.onPlay),N.removeEventListener("waiting",this.onBuffer),N.removeEventListener("playing",this.onBufferEnd),N.removeEventListener("pause",this.onPause),N.removeEventListener("seeked",this.onSeek),N.removeEventListener("ended",this.onEnded),N.removeEventListener("error",this.onError),N.removeEventListener("ratechange",this.onPlayBackRateChange),N.removeEventListener("enterpictureinpicture",this.onEnablePIP),N.removeEventListener("leavepictureinpicture",this.onDisablePIP),N.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(W)||N.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(N){return N.config.forceVideo||N.config.attributes.poster?!1:a.AUDIO_EXTENSIONS.test(N.url)||N.config.forceAudio}},{key:"shouldUseHLS",value:function(N){return this.props.config.forceHLS?!0:O?!1:a.HLS_EXTENSIONS.test(N)||H.test(N)}},{key:"shouldUseDASH",value:function(N){return a.DASH_EXTENSIONS.test(N)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(N){return a.FLV_EXTENSIONS.test(N)||this.props.config.forceFLV}},{key:"load",value:function(N){var W=this,K=this.props.config,$=K.hlsVersion,J=K.hlsOptions,oe=K.dashVersion,fe=K.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(N)&&(0,r.getSDK)(A.replace("VERSION",$),L).then(function(ye){if(W.hls=new ye(J),W.hls.on(ye.Events.MANIFEST_PARSED,function(){W.props.onReady()}),W.hls.on(ye.Events.ERROR,function(Ee,ue){W.props.onError(Ee,ue,W.hls,ye)}),H.test(N)){var le=N.match(H)[1];W.hls.loadSource(U.replace("{id}",le))}else W.hls.loadSource(N);W.hls.attachMedia(W.player),W.props.onLoaded()}),this.shouldUseDASH(N)&&(0,r.getSDK)(C.replace("VERSION",oe),T).then(function(ye){W.dash=ye.MediaPlayer().create(),W.dash.initialize(W.player,N,W.props.playing),W.dash.on("error",W.props.onError),parseInt(oe)<3?W.dash.getDebug().setLogToBrowserConsole(!1):W.dash.updateSettings({debug:{logLevel:ye.Debug.LOG_LEVEL_NONE}}),W.props.onLoaded()}),this.shouldUseFLV(N)&&(0,r.getSDK)(S.replace("VERSION",fe),j).then(function(ye){W.flv=ye.createPlayer({type:"flv",url:N}),W.flv.attachMediaElement(W.player),W.flv.on(ye.Events.ERROR,function(le,Ee){W.props.onError(le,Ee,W.flv,ye)}),W.flv.load(),W.props.onLoaded()}),N instanceof Array)this.player.load();else if((0,r.isMediaStream)(N))try{this.player.srcObject=N}catch{this.player.src=window.URL.createObjectURL(N)}}},{key:"play",value:function(){var N=this.player.play();N&&N.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(N){this.player.currentTime=N}},{key:"setVolume",value:function(N){this.player.volume=N}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,r.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="picture-in-picture"&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,r.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="inline"&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(N){try{this.player.playbackRate=N}catch(W){this.props.onError(W)}}},{key:"getDuration",value:function(){if(!this.player)return null;var N=this.player,W=N.duration,K=N.seekable;return W===1/0&&K.length>0?K.end(K.length-1):W}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var N=this.player.buffered;if(N.length===0)return 0;var W=N.end(N.length-1),K=this.getDuration();return W>K?K:W}},{key:"getSource",value:function(N){var W=this.shouldUseHLS(N),K=this.shouldUseDASH(N),$=this.shouldUseFLV(N);if(!(N instanceof Array||(0,r.isMediaStream)(N)||W||K||$))return B.test(N)?N.replace("www.dropbox.com","dl.dropboxusercontent.com"):N}},{key:"render",value:function(){var N=this.props,W=N.url,K=N.playing,$=N.loop,J=N.controls,oe=N.muted,fe=N.config,ye=N.width,le=N.height,Ee=this.shouldUseAudio(this.props),ue=Ee?"audio":"video",Me={width:ye==="auto"?ye:"100%",height:le==="auto"?le:"100%"};return n.default.createElement(ue,o({ref:this.ref,src:this.getSource(W),style:Me,preload:"auto",autoPlay:K||void 0,controls:J,muted:oe,loop:$},fe.attributes),W instanceof Array&&W.map(this.renderSourceElement),fe.tracks.map(this.renderTrack))}}]),Y}(n.Component);e.default=z,k(z,"displayName","FilePlayer"),k(z,"canPlay",a.canPlay.file)}(Hw)),Hw}var PR;function nJ(){return PR||(PR=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=ma(),n=ci(),r=ls();function a(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(f){return typeof f}:a=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},a(c)}function i(){if(typeof WeakMap!="function")return null;var c=new WeakMap;return i=function(){return c},c}function s(c){if(c&&c.__esModule)return c;if(c===null||a(c)!=="object"&&typeof c!="function")return{default:c};var d=i();if(d&&d.has(c))return d.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in c)if(Object.prototype.hasOwnProperty.call(c,m)){var g=h?Object.getOwnPropertyDescriptor(c,m):null;g&&(g.get||g.set)?Object.defineProperty(f,m,g):f[m]=c[m]}return f.default=c,d&&d.set(c,f),f}var o=[{key:"youtube",name:"YouTube",canPlay:r.canPlay.youtube,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return s(VX())})})},{key:"soundcloud",name:"SoundCloud",canPlay:r.canPlay.soundcloud,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return s(qX())})})},{key:"vimeo",name:"Vimeo",canPlay:r.canPlay.vimeo,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return s(YX())})})},{key:"facebook",name:"Facebook",canPlay:r.canPlay.facebook,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return s(WX())})})},{key:"streamable",name:"Streamable",canPlay:r.canPlay.streamable,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return s(GX())})})},{key:"wistia",name:"Wistia",canPlay:r.canPlay.wistia,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return s(KX())})})},{key:"twitch",name:"Twitch",canPlay:r.canPlay.twitch,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return s(QX())})})},{key:"dailymotion",name:"DailyMotion",canPlay:r.canPlay.dailymotion,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return s(ZX())})})},{key:"mixcloud",name:"Mixcloud",canPlay:r.canPlay.mixcloud,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return s(XX())})})},{key:"vidyard",name:"Vidyard",canPlay:r.canPlay.vidyard,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return s(JX())})})},{key:"kaltura",name:"Kaltura",canPlay:r.canPlay.kaltura,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return s(eJ())})})},{key:"file",name:"FilePlayer",canPlay:r.canPlay.file,canEnablePIP:function(d){return r.canPlay.file(d)&&(document.pictureInPictureEnabled||(0,n.supportsWebKitPresentationMode)())&&!r.AUDIO_EXTENSIONS.test(d)},lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return s(tJ())})})}];e.default=o}(kw)),kw}var Ah={},IR=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function rJ(e,t){return!!(e===t||IR(e)&&IR(t))}function aJ(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!rJ(e[n],t[n]))return!1;return!0}function iJ(e,t){t===void 0&&(t=aJ);var n,r=[],a,i=!1;function s(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return i&&n===this&&t(o,r)||(a=e.apply(this,o),i=!0,n=this,r=o),a}return s}const sJ=Object.freeze(Object.defineProperty({__proto__:null,default:iJ},Symbol.toStringTag,{value:"Module"})),oJ=s9(sJ);var Vw,FR;function gS(){if(FR)return Vw;FR=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(i,s){if(i===s)return!0;if(i&&s&&typeof i=="object"&&typeof s=="object"){if(i.constructor!==s.constructor)return!1;var o,c,d;if(Array.isArray(i)){if(o=i.length,o!=s.length)return!1;for(c=o;c--!==0;)if(!a(i[c],s[c]))return!1;return!0}var f;if(t&&i instanceof Map&&s instanceof Map){if(i.size!==s.size)return!1;for(f=i.entries();!(c=f.next()).done;)if(!s.has(c.value[0]))return!1;for(f=i.entries();!(c=f.next()).done;)if(!a(c.value[1],s.get(c.value[0])))return!1;return!0}if(n&&i instanceof Set&&s instanceof Set){if(i.size!==s.size)return!1;for(f=i.entries();!(c=f.next()).done;)if(!s.has(c.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(s)){if(o=i.length,o!=s.length)return!1;for(c=o;c--!==0;)if(i[c]!==s[c])return!1;return!0}if(i.constructor===RegExp)return i.source===s.source&&i.flags===s.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof s.valueOf=="function")return i.valueOf()===s.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof s.toString=="function")return i.toString()===s.toString();if(d=Object.keys(i),o=d.length,o!==Object.keys(s).length)return!1;for(c=o;c--!==0;)if(!Object.prototype.hasOwnProperty.call(s,d[c]))return!1;if(e&&i instanceof Element)return!1;for(c=o;c--!==0;)if(!((d[c]==="_owner"||d[c]==="__v"||d[c]==="__o")&&i.$$typeof)&&!a(i[d[c]],s[d[c]]))return!1;return!0}return i!==i&&s!==s}return Vw=function(s,o){try{return a(s,o)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},Vw}var Kc={},qw={exports:{}},Yw,jR;function lJ(){if(jR)return Yw;jR=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Yw=e,Yw}var Ww,UR;function cJ(){if(UR)return Ww;UR=1;var e=lJ();function t(){}function n(){}return n.resetWarningCache=t,Ww=function(){function r(s,o,c,d,f,h){if(h!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},Ww}var BR;function l5(){return BR||(BR=1,qw.exports=cJ()()),qw.exports}var $R;function c5(){if($R)return Kc;$R=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.defaultProps=Kc.propTypes=void 0;var e=t(l5());function t(b){return b&&b.__esModule?b:{default:b}}var n=e.default.string,r=e.default.bool,a=e.default.number,i=e.default.array,s=e.default.oneOfType,o=e.default.shape,c=e.default.object,d=e.default.func,f=e.default.node,h={url:s([n,i,c]),playing:r,loop:r,controls:r,volume:a,muted:r,playbackRate:a,width:s([n,a]),height:s([n,a]),style:c,progressInterval:a,playsinline:r,pip:r,stopOnUnmount:r,light:s([r,n]),playIcon:f,previewTabIndex:a,fallback:f,oEmbedUrl:n,wrapper:s([n,d,o({render:d.isRequired})]),config:o({soundcloud:o({options:c}),youtube:o({playerVars:c,embedOptions:c,onUnstarted:d}),facebook:o({appId:n,version:n,playerId:n,attributes:c}),dailymotion:o({params:c}),vimeo:o({playerOptions:c,title:n}),file:o({attributes:c,tracks:i,forceVideo:r,forceAudio:r,forceHLS:r,forceDASH:r,forceFLV:r,hlsOptions:c,hlsVersion:n,dashVersion:n,flvVersion:n}),wistia:o({options:c,playerId:n,customControls:i}),mixcloud:o({options:c}),twitch:o({options:c,playerId:n}),vidyard:o({options:c})}),onReady:d,onStart:d,onPlay:d,onPause:d,onBuffer:d,onBufferEnd:d,onEnded:d,onError:d,onDuration:d,onSeek:d,onPlaybackRateChange:d,onProgress:d,onClickPreview:d,onEnablePIP:d,onDisablePIP:d};Kc.propTypes=h;var m=function(){},g={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:m},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:m,onStart:m,onPlay:m,onPause:m,onBuffer:m,onBufferEnd:m,onEnded:m,onError:m,onDuration:m,onSeek:m,onPlaybackRateChange:m,onProgress:m,onClickPreview:m,onEnablePIP:m,onDisablePIP:m};return Kc.defaultProps=g,Kc}var Gw={},zR;function uJ(){return zR||(zR=1,function(e){function t(L){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(T){return typeof T}:t=function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},t(L)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=c(ma()),r=s(gS()),a=c5(),i=ci();function s(L){return L&&L.__esModule?L:{default:L}}function o(){if(typeof WeakMap!="function")return null;var L=new WeakMap;return o=function(){return L},L}function c(L){if(L&&L.__esModule)return L;if(L===null||t(L)!=="object"&&typeof L!="function")return{default:L};var C=o();if(C&&C.has(L))return C.get(L);var T={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in L)if(Object.prototype.hasOwnProperty.call(L,j)){var B=S?Object.getOwnPropertyDescriptor(L,j):null;B&&(B.get||B.set)?Object.defineProperty(T,j,B):T[j]=L[j]}return T.default=L,C&&C.set(L,T),T}function d(){return d=Object.assign||function(L){for(var C=1;C<arguments.length;C++){var T=arguments[C];for(var S in T)Object.prototype.hasOwnProperty.call(T,S)&&(L[S]=T[S])}return L},d.apply(this,arguments)}function f(L,C){if(!(L instanceof C))throw new TypeError("Cannot call a class as a function")}function h(L,C){for(var T=0;T<C.length;T++){var S=C[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(L,S.key,S)}}function m(L,C,T){return C&&h(L.prototype,C),L}function g(L,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(C&&C.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),C&&b(L,C)}function b(L,C){return b=Object.setPrototypeOf||function(S,j){return S.__proto__=j,S},b(L,C)}function _(L){var C=k();return function(){var S=R(L),j;if(C){var B=R(this).constructor;j=Reflect.construct(S,arguments,B)}else j=S.apply(this,arguments);return w(this,j)}}function w(L,C){return C&&(t(C)==="object"||typeof C=="function")?C:x(L)}function x(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function R(L){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},R(L)}function I(L,C,T){return C in L?Object.defineProperty(L,C,{value:T,enumerable:!0,configurable:!0,writable:!0}):L[C]=T,L}var O=5e3,A=function(L){g(T,L);var C=_(T);function T(){var S;f(this,T);for(var j=arguments.length,B=new Array(j),H=0;H<j;H++)B[H]=arguments[H];return S=C.call.apply(C,[this].concat(B)),I(x(S),"mounted",!1),I(x(S),"isReady",!1),I(x(S),"isPlaying",!1),I(x(S),"isLoading",!0),I(x(S),"loadOnReady",null),I(x(S),"startOnPlay",!0),I(x(S),"seekOnPlay",null),I(x(S),"onDurationCalled",!1),I(x(S),"handlePlayerMount",function(U){S.player||(S.player=U,S.player.load(S.props.url),S.progress())}),I(x(S),"getInternalPlayer",function(U){return S.player?S.player[U]:null}),I(x(S),"progress",function(){if(S.props.url&&S.player&&S.isReady){var U=S.getCurrentTime()||0,z=S.getSecondsLoaded(),F=S.getDuration();if(F){var V={playedSeconds:U,played:U/F};z!==null&&(V.loadedSeconds=z,V.loaded=z/F),(V.playedSeconds!==S.prevPlayed||V.loadedSeconds!==S.prevLoaded)&&S.props.onProgress(V),S.prevPlayed=V.playedSeconds,S.prevLoaded=V.loadedSeconds}}S.progressTimeout=setTimeout(S.progress,S.props.progressFrequency||S.props.progressInterval)}),I(x(S),"handleReady",function(){if(S.mounted){S.isReady=!0,S.isLoading=!1;var U=S.props,z=U.onReady,F=U.playing,V=U.volume,Y=U.muted;z(),!Y&&V!==null&&S.player.setVolume(V),S.loadOnReady?(S.player.load(S.loadOnReady,!0),S.loadOnReady=null):F&&S.player.play(),S.handleDurationCheck()}}),I(x(S),"handlePlay",function(){S.isPlaying=!0,S.isLoading=!1;var U=S.props,z=U.onStart,F=U.onPlay,V=U.playbackRate;S.startOnPlay&&(S.player.setPlaybackRate&&V!==1&&S.player.setPlaybackRate(V),z(),S.startOnPlay=!1),F(),S.seekOnPlay&&(S.seekTo(S.seekOnPlay),S.seekOnPlay=null),S.handleDurationCheck()}),I(x(S),"handlePause",function(U){S.isPlaying=!1,S.isLoading||S.props.onPause(U)}),I(x(S),"handleEnded",function(){var U=S.props,z=U.activePlayer,F=U.loop,V=U.onEnded;z.loopOnEnded&&F&&S.seekTo(0),F||(S.isPlaying=!1,V())}),I(x(S),"handleError",function(){var U;S.isLoading=!1,(U=S.props).onError.apply(U,arguments)}),I(x(S),"handleDurationCheck",function(){clearTimeout(S.durationCheckTimeout);var U=S.getDuration();U?S.onDurationCalled||(S.props.onDuration(U),S.onDurationCalled=!0):S.durationCheckTimeout=setTimeout(S.handleDurationCheck,100)}),I(x(S),"handleLoaded",function(){S.isLoading=!1}),S}return m(T,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(j){var B=this;if(this.player){var H=this.props,U=H.url,z=H.playing,F=H.volume,V=H.muted,Y=H.playbackRate,q=H.pip,N=H.loop,W=H.activePlayer,K=H.disableDeferredLoading;if(!(0,r.default)(j.url,U)){if(this.isLoading&&!W.forceLoad&&!K&&!(0,i.isMediaStream)(U)){console.warn("ReactPlayer: the attempt to load ".concat(U," is being deferred until the player has loaded")),this.loadOnReady=U;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(U,this.isReady)}!j.playing&&z&&!this.isPlaying&&this.player.play(),j.playing&&!z&&this.isPlaying&&this.player.pause(),!j.pip&&q&&this.player.enablePIP&&this.player.enablePIP(),j.pip&&!q&&this.player.disablePIP&&this.player.disablePIP(),j.volume!==F&&F!==null&&this.player.setVolume(F),j.muted!==V&&(V?this.player.mute():(this.player.unmute(),F!==null&&setTimeout(function(){return B.player.setVolume(F)}))),j.playbackRate!==Y&&this.player.setPlaybackRate&&this.player.setPlaybackRate(Y),j.loop!==N&&this.player.setLoop&&this.player.setLoop(N)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(j,B){var H=this;if(!this.isReady){j!==0&&(this.seekOnPlay=j,setTimeout(function(){H.seekOnPlay=null},O));return}var U=B?B==="fraction":j>0&&j<1;if(U){var z=this.player.getDuration();if(!z){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(z*j);return}this.player.seekTo(j)}},{key:"render",value:function(){var j=this.props.activePlayer;return j?n.default.createElement(j,d({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}]),T}(n.Component);e.default=A,I(A,"displayName","Player"),I(A,"propTypes",a.propTypes),I(A,"defaultProps",a.defaultProps)}(Gw)),Gw}var Kw={},HR;function dJ(){return HR||(HR=1,function(e){function t(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(L){return typeof L}:t=function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},t(O)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(ma());function r(){if(typeof WeakMap!="function")return null;var O=new WeakMap;return r=function(){return O},O}function a(O){if(O&&O.__esModule)return O;if(O===null||t(O)!=="object"&&typeof O!="function")return{default:O};var A=r();if(A&&A.has(O))return A.get(O);var L={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in O)if(Object.prototype.hasOwnProperty.call(O,T)){var S=C?Object.getOwnPropertyDescriptor(O,T):null;S&&(S.get||S.set)?Object.defineProperty(L,T,S):L[T]=O[T]}return L.default=O,A&&A.set(O,L),L}function i(O,A){var L=Object.keys(O);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(O);A&&(C=C.filter(function(T){return Object.getOwnPropertyDescriptor(O,T).enumerable})),L.push.apply(L,C)}return L}function s(O){for(var A=1;A<arguments.length;A++){var L=arguments[A]!=null?arguments[A]:{};A%2?i(Object(L),!0).forEach(function(C){x(O,C,L[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(L)):i(Object(L)).forEach(function(C){Object.defineProperty(O,C,Object.getOwnPropertyDescriptor(L,C))})}return O}function o(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}function c(O,A){for(var L=0;L<A.length;L++){var C=A[L];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}function d(O,A,L){return A&&c(O.prototype,A),O}function f(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),A&&h(O,A)}function h(O,A){return h=Object.setPrototypeOf||function(C,T){return C.__proto__=T,C},h(O,A)}function m(O){var A=_();return function(){var C=w(O),T;if(A){var S=w(this).constructor;T=Reflect.construct(C,arguments,S)}else T=C.apply(this,arguments);return g(this,T)}}function g(O,A){return A&&(t(A)==="object"||typeof A=="function")?A:b(O)}function b(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function w(O){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)},w(O)}function x(O,A,L){return A in O?Object.defineProperty(O,A,{value:L,enumerable:!0,configurable:!0,writable:!0}):O[A]=L,O}var k="64px",R={},I=function(O){f(L,O);var A=m(L);function L(){var C;o(this,L);for(var T=arguments.length,S=new Array(T),j=0;j<T;j++)S[j]=arguments[j];return C=A.call.apply(A,[this].concat(S)),x(b(C),"mounted",!1),x(b(C),"state",{image:null}),x(b(C),"handleKeyPress",function(B){(B.key==="Enter"||B.key===" ")&&C.props.onClick()}),C}return d(L,[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(T){var S=this.props,j=S.url,B=S.light;(T.url!==j||T.light!==B)&&this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(T){var S=this,j=T.url,B=T.light,H=T.oEmbedUrl;if(typeof B=="string"){this.setState({image:B});return}if(R[j]){this.setState({image:R[j]});return}return this.setState({image:null}),window.fetch(H.replace("{url}",j)).then(function(U){return U.json()}).then(function(U){if(U.thumbnail_url&&S.mounted){var z=U.thumbnail_url.replace("height=100","height=480");S.setState({image:z}),R[j]=z}})}},{key:"render",value:function(){var T=this.props,S=T.onClick,j=T.playIcon,B=T.previewTabIndex,H=this.state.image,U={display:"flex",alignItems:"center",justifyContent:"center"},z={preview:s({width:"100%",height:"100%",backgroundImage:H?"url(".concat(H,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},U),shadow:s({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:k,width:k,height:k},U),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},F=n.default.createElement("div",{style:z.shadow,className:"react-player__shadow"},n.default.createElement("div",{style:z.playIcon,className:"react-player__play-icon"}));return n.default.createElement("div",{style:z.preview,className:"react-player__preview",onClick:S,tabIndex:B,onKeyPress:this.handleKeyPress},j||F)}}]),L}(n.Component);e.default=I}(Kw)),Kw}var VR;function fJ(){if(VR)return Ah;VR=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.createReactPlayer=void 0;var e=U(ma()),t=o(o5()),n=o(oJ),r=o(gS()),a=c5(),i=ci(),s=o(uJ());function o(K){return K&&K.__esModule?K:{default:K}}function c(K){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(J){return typeof J}:c=function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},c(K)}function d(K,$){var J=Object.keys(K);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(K);$&&(oe=oe.filter(function(fe){return Object.getOwnPropertyDescriptor(K,fe).enumerable})),J.push.apply(J,oe)}return J}function f(K){for(var $=1;$<arguments.length;$++){var J=arguments[$]!=null?arguments[$]:{};$%2?d(Object(J),!0).forEach(function(oe){B(K,oe,J[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(J)):d(Object(J)).forEach(function(oe){Object.defineProperty(K,oe,Object.getOwnPropertyDescriptor(J,oe))})}return K}function h(){return h=Object.assign||function(K){for(var $=1;$<arguments.length;$++){var J=arguments[$];for(var oe in J)Object.prototype.hasOwnProperty.call(J,oe)&&(K[oe]=J[oe])}return K},h.apply(this,arguments)}function m(K){return w(K)||_(K)||b(K)||g()}function g(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(K,$){if(K){if(typeof K=="string")return x(K,$);var J=Object.prototype.toString.call(K).slice(8,-1);if(J==="Object"&&K.constructor&&(J=K.constructor.name),J==="Map"||J==="Set")return Array.from(K);if(J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return x(K,$)}}function _(K){if(typeof Symbol<"u"&&Symbol.iterator in Object(K))return Array.from(K)}function w(K){if(Array.isArray(K))return x(K)}function x(K,$){($==null||$>K.length)&&($=K.length);for(var J=0,oe=new Array($);J<$;J++)oe[J]=K[J];return oe}function k(K,$){if(!(K instanceof $))throw new TypeError("Cannot call a class as a function")}function R(K,$){for(var J=0;J<$.length;J++){var oe=$[J];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(K,oe.key,oe)}}function I(K,$,J){return $&&R(K.prototype,$),K}function O(K,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create($&&$.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),$&&A(K,$)}function A(K,$){return A=Object.setPrototypeOf||function(oe,fe){return oe.__proto__=fe,oe},A(K,$)}function L(K){var $=S();return function(){var oe=j(K),fe;if($){var ye=j(this).constructor;fe=Reflect.construct(oe,arguments,ye)}else fe=oe.apply(this,arguments);return C(this,fe)}}function C(K,$){return $&&(c($)==="object"||typeof $=="function")?$:T(K)}function T(K){if(K===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function j(K){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(J){return J.__proto__||Object.getPrototypeOf(J)},j(K)}function B(K,$,J){return $ in K?Object.defineProperty(K,$,{value:J,enumerable:!0,configurable:!0,writable:!0}):K[$]=J,K}function H(){if(typeof WeakMap!="function")return null;var K=new WeakMap;return H=function(){return K},K}function U(K){if(K&&K.__esModule)return K;if(K===null||c(K)!=="object"&&typeof K!="function")return{default:K};var $=H();if($&&$.has(K))return $.get(K);var J={},oe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var fe in K)if(Object.prototype.hasOwnProperty.call(K,fe)){var ye=oe?Object.getOwnPropertyDescriptor(K,fe):null;ye&&(ye.get||ye.set)?Object.defineProperty(J,fe,ye):J[fe]=K[fe]}return J.default=K,$&&$.set(K,J),J}var z=(0,e.lazy)(function(){return Promise.resolve().then(function(){return U(dJ())})}),F=typeof window<"u"&&window.document,V=typeof _r<"u"&&_r.window&&_r.window.document,Y=Object.keys(a.propTypes),q=F||V?e.Suspense:function(){return null},N=[],W=function($,J){var oe,fe;return fe=oe=function(ye){O(Ee,ye);var le=L(Ee);function Ee(){var ue;k(this,Ee);for(var Me=arguments.length,Fe=new Array(Me),$e=0;$e<Me;$e++)Fe[$e]=arguments[$e];return ue=le.call.apply(le,[this].concat(Fe)),B(T(ue),"state",{showPreview:!!ue.props.light}),B(T(ue),"references",{wrapper:function(Xe){ue.wrapper=Xe},player:function(Xe){ue.player=Xe}}),B(T(ue),"handleClickPreview",function(ze){ue.setState({showPreview:!1}),ue.props.onClickPreview(ze)}),B(T(ue),"showPreview",function(){ue.setState({showPreview:!0})}),B(T(ue),"getDuration",function(){return ue.player?ue.player.getDuration():null}),B(T(ue),"getCurrentTime",function(){return ue.player?ue.player.getCurrentTime():null}),B(T(ue),"getSecondsLoaded",function(){return ue.player?ue.player.getSecondsLoaded():null}),B(T(ue),"getInternalPlayer",function(){var ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"player";return ue.player?ue.player.getInternalPlayer(ze):null}),B(T(ue),"seekTo",function(ze,Xe){if(!ue.player)return null;ue.player.seekTo(ze,Xe)}),B(T(ue),"handleReady",function(){ue.props.onReady(T(ue))}),B(T(ue),"getActivePlayer",(0,n.default)(function(ze){for(var Xe=0,ot=[].concat(N,m($));Xe<ot.length;Xe++){var nt=ot[Xe];if(nt.canPlay(ze))return nt}return J||null})),B(T(ue),"getConfig",(0,n.default)(function(ze,Xe){var ot=ue.props.config;return t.default.all([a.defaultProps.config,a.defaultProps.config[Xe]||{},ot,ot[Xe]||{}])})),B(T(ue),"getAttributes",(0,n.default)(function(ze){return(0,i.omit)(ue.props,Y)})),B(T(ue),"renderActivePlayer",function(ze){if(!ze)return null;var Xe=ue.getActivePlayer(ze);if(!Xe)return null;var ot=ue.getConfig(ze,Xe.key);return e.default.createElement(s.default,h({},ue.props,{key:Xe.key,ref:ue.references.player,config:ot,activePlayer:Xe.lazyPlayer||Xe,onReady:ue.handleReady}))}),ue}return I(Ee,[{key:"shouldComponentUpdate",value:function(Me,Fe){return!(0,r.default)(this.props,Me)||!(0,r.default)(this.state,Fe)}},{key:"componentDidUpdate",value:function(Me){var Fe=this.props.light;!Me.light&&Fe&&this.setState({showPreview:!0}),Me.light&&!Fe&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(Me){if(!Me)return null;var Fe=this.props,$e=Fe.light,ze=Fe.playIcon,Xe=Fe.previewTabIndex,ot=Fe.oEmbedUrl;return e.default.createElement(z,{url:Me,light:$e,playIcon:ze,previewTabIndex:Xe,oEmbedUrl:ot,onClick:this.handleClickPreview})}},{key:"render",value:function(){var Me=this.props,Fe=Me.url,$e=Me.style,ze=Me.width,Xe=Me.height,ot=Me.fallback,nt=Me.wrapper,St=this.state.showPreview,Nt=this.getAttributes(Fe);return e.default.createElement(nt,h({ref:this.references.wrapper,style:f(f({},$e),{},{width:ze,height:Xe})},Nt),e.default.createElement(q,{fallback:ot},St?this.renderPreview(Fe):this.renderActivePlayer(Fe)))}}]),Ee}(e.Component),B(oe,"displayName","ReactPlayer"),B(oe,"propTypes",a.propTypes),B(oe,"defaultProps",a.defaultProps),B(oe,"addCustomPlayer",function(ye){N.push(ye)}),B(oe,"removeCustomPlayers",function(){N.length=0}),B(oe,"canPlay",function(ye){for(var le=0,Ee=[].concat(N,m($));le<Ee.length;le++){var ue=Ee[le];if(ue.canPlay(ye))return!0}return!1}),B(oe,"canEnablePIP",function(ye){for(var le=0,Ee=[].concat(N,m($));le<Ee.length;le++){var ue=Ee[le];if(ue.canEnablePIP&&ue.canEnablePIP(ye))return!0}return!1}),fe};return Ah.createReactPlayer=W,Ah}var qR;function hJ(){return qR||(qR=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(nJ()),n=fJ();function r(s){return s&&s.__esModule?s:{default:s}}var a=t.default[t.default.length-1],i=(0,n.createReactPlayer)(t.default,a);e.default=i}(Tw)),Tw}var pJ=hJ();const u5=Or(pJ),mJ="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",gJ="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",tf=(e,t)=>{for(const n in t)e[n]=t[n];return e},kC="numeric",RC="ascii",AC="alpha",op="asciinumeric",Yh="alphanumeric",OC="domain",d5="emoji",yJ="scheme",vJ="slashscheme",Qw="whitespace";function bJ(e,t){return e in t||(t[e]=[]),t[e]}function ou(e,t,n){t[kC]&&(t[op]=!0,t[Yh]=!0),t[RC]&&(t[op]=!0,t[AC]=!0),t[op]&&(t[Yh]=!0),t[AC]&&(t[Yh]=!0),t[Yh]&&(t[OC]=!0),t[d5]&&(t[OC]=!0);for(const r in t){const a=bJ(r,n);a.indexOf(e)<0&&a.push(e)}}function _J(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function ts(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}ts.groups={};ts.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const a=t.jr[r][0],i=t.jr[r][1];if(i&&a.test(e))return i}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let a=0;a<e.length;a++)this.tt(e[a],t,n,r)},tr(e,t,n,r){r=r||ts.groups;let a;return t&&t.j?a=t:(a=new ts(t),n&&r&&ou(t,n,r)),this.jr.push([e,a]),a},ts(e,t,n,r){let a=this;const i=e.length;if(!i)return a;for(let s=0;s<i-1;s++)a=a.tt(e[s]);return a.tt(e[i-1],t,n,r)},tt(e,t,n,r){r=r||ts.groups;const a=this;if(t&&t.j)return a.j[e]=t,t;const i=t;let s,o=a.go(e);if(o?(s=new ts,tf(s.j,o.j),s.jr.push.apply(s.jr,o.jr),s.jd=o.jd,s.t=o.t):s=new ts,i){if(r)if(s.t&&typeof s.t=="string"){const c=tf(_J(s.t,r),n);ou(i,c,r)}else n&&ou(i,n,r);s.t=i}return a.j[e]=s,s}};const vn=(e,t,n,r,a)=>e.ta(t,n,r,a),ra=(e,t,n,r,a)=>e.tr(t,n,r,a),YR=(e,t,n,r,a)=>e.ts(t,n,r,a),We=(e,t,n,r,a)=>e.tt(t,n,r,a),ul="WORD",LC="UWORD",f5="ASCIINUMERICAL",h5="ALPHANUMERICAL",kp="LOCALHOST",NC="TLD",PC="UTLD",My="SCHEME",Td="SLASH_SCHEME",yS="NUM",IC="WS",vS="NL",lp="OPENBRACE",cp="CLOSEBRACE",Kv="OPENBRACKET",Qv="CLOSEBRACKET",Zv="OPENPAREN",Xv="CLOSEPAREN",Jv="OPENANGLEBRACKET",e0="CLOSEANGLEBRACKET",t0="FULLWIDTHLEFTPAREN",n0="FULLWIDTHRIGHTPAREN",r0="LEFTCORNERBRACKET",a0="RIGHTCORNERBRACKET",i0="LEFTWHITECORNERBRACKET",s0="RIGHTWHITECORNERBRACKET",o0="FULLWIDTHLESSTHAN",l0="FULLWIDTHGREATERTHAN",c0="AMPERSAND",u0="APOSTROPHE",d0="ASTERISK",uc="AT",f0="BACKSLASH",h0="BACKTICK",p0="CARET",hc="COLON",bS="COMMA",m0="DOLLAR",vo="DOT",g0="EQUALS",_S="EXCLAMATION",ws="HYPHEN",up="PERCENT",y0="PIPE",v0="PLUS",b0="POUND",dp="QUERY",wS="QUOTE",p5="FULLWIDTHMIDDLEDOT",xS="SEMI",bo="SLASH",fp="TILDE",_0="UNDERSCORE",m5="EMOJI",w0="SYM";var g5=Object.freeze({__proto__:null,ALPHANUMERICAL:h5,AMPERSAND:c0,APOSTROPHE:u0,ASCIINUMERICAL:f5,ASTERISK:d0,AT:uc,BACKSLASH:f0,BACKTICK:h0,CARET:p0,CLOSEANGLEBRACKET:e0,CLOSEBRACE:cp,CLOSEBRACKET:Qv,CLOSEPAREN:Xv,COLON:hc,COMMA:bS,DOLLAR:m0,DOT:vo,EMOJI:m5,EQUALS:g0,EXCLAMATION:_S,FULLWIDTHGREATERTHAN:l0,FULLWIDTHLEFTPAREN:t0,FULLWIDTHLESSTHAN:o0,FULLWIDTHMIDDLEDOT:p5,FULLWIDTHRIGHTPAREN:n0,HYPHEN:ws,LEFTCORNERBRACKET:r0,LEFTWHITECORNERBRACKET:i0,LOCALHOST:kp,NL:vS,NUM:yS,OPENANGLEBRACKET:Jv,OPENBRACE:lp,OPENBRACKET:Kv,OPENPAREN:Zv,PERCENT:up,PIPE:y0,PLUS:v0,POUND:b0,QUERY:dp,QUOTE:wS,RIGHTCORNERBRACKET:a0,RIGHTWHITECORNERBRACKET:s0,SCHEME:My,SEMI:xS,SLASH:bo,SLASH_SCHEME:Td,SYM:w0,TILDE:fp,TLD:NC,UNDERSCORE:_0,UTLD:PC,UWORD:LC,WORD:ul,WS:IC});const sl=/[a-z]/,Oh=new RegExp("\\p{L}","u"),Zw=new RegExp("\\p{Emoji}","u"),ol=/\d/,Xw=/\s/,WR="\r",Jw=`
`,wJ="️",xJ="‍",ex="￼";let Vg=null,qg=null;function CJ(e=[]){const t={};ts.groups=t;const n=new ts;Vg==null&&(Vg=GR(mJ)),qg==null&&(qg=GR(gJ)),We(n,"'",u0),We(n,"{",lp),We(n,"}",cp),We(n,"[",Kv),We(n,"]",Qv),We(n,"(",Zv),We(n,")",Xv),We(n,"<",Jv),We(n,">",e0),We(n,"（",t0),We(n,"）",n0),We(n,"「",r0),We(n,"」",a0),We(n,"『",i0),We(n,"』",s0),We(n,"＜",o0),We(n,"＞",l0),We(n,"&",c0),We(n,"*",d0),We(n,"@",uc),We(n,"`",h0),We(n,"^",p0),We(n,":",hc),We(n,",",bS),We(n,"$",m0),We(n,".",vo),We(n,"=",g0),We(n,"!",_S),We(n,"-",ws),We(n,"%",up),We(n,"|",y0),We(n,"+",v0),We(n,"#",b0),We(n,"?",dp),We(n,'"',wS),We(n,"/",bo),We(n,";",xS),We(n,"~",fp),We(n,"_",_0),We(n,"\\",f0),We(n,"・",p5);const r=ra(n,ol,yS,{[kC]:!0});ra(r,ol,r);const a=ra(r,sl,f5,{[op]:!0}),i=ra(r,Oh,h5,{[Yh]:!0}),s=ra(n,sl,ul,{[RC]:!0});ra(s,ol,a),ra(s,sl,s),ra(a,ol,a),ra(a,sl,a);const o=ra(n,Oh,LC,{[AC]:!0});ra(o,sl),ra(o,ol,i),ra(o,Oh,o),ra(i,ol,i),ra(i,sl),ra(i,Oh,i);const c=We(n,Jw,vS,{[Qw]:!0}),d=We(n,WR,IC,{[Qw]:!0}),f=ra(n,Xw,IC,{[Qw]:!0});We(n,ex,f),We(d,Jw,c),We(d,ex,f),ra(d,Xw,f),We(f,WR),We(f,Jw),ra(f,Xw,f),We(f,ex,f);const h=ra(n,Zw,m5,{[d5]:!0});We(h,"#"),ra(h,Zw,h),We(h,wJ,h);const m=We(h,xJ);We(m,"#"),ra(m,Zw,h);const g=[[sl,s],[ol,a]],b=[[sl,null],[Oh,o],[ol,i]];for(let _=0;_<Vg.length;_++)ic(n,Vg[_],NC,ul,g);for(let _=0;_<qg.length;_++)ic(n,qg[_],PC,LC,b);ou(NC,{tld:!0,ascii:!0},t),ou(PC,{utld:!0,alpha:!0},t),ic(n,"file",My,ul,g),ic(n,"mailto",My,ul,g),ic(n,"http",Td,ul,g),ic(n,"https",Td,ul,g),ic(n,"ftp",Td,ul,g),ic(n,"ftps",Td,ul,g),ou(My,{scheme:!0,ascii:!0},t),ou(Td,{slashscheme:!0,ascii:!0},t),e=e.sort((_,w)=>_[0]>w[0]?1:-1);for(let _=0;_<e.length;_++){const w=e[_][0],k=e[_][1]?{[yJ]:!0}:{[vJ]:!0};w.indexOf("-")>=0?k[OC]=!0:sl.test(w)?ol.test(w)?k[op]=!0:k[RC]=!0:k[kC]=!0,YR(n,w,w,k)}return YR(n,"localhost",kp,{ascii:!0}),n.jd=new ts(w0),{start:n,tokens:tf({groups:t},g5)}}function y5(e,t){const n=DJ(t.replace(/[A-Z]/g,o=>o.toLowerCase())),r=n.length,a=[];let i=0,s=0;for(;s<r;){let o=e,c=null,d=0,f=null,h=-1,m=-1;for(;s<r&&(c=o.go(n[s]));)o=c,o.accepts()?(h=0,m=0,f=o):h>=0&&(h+=n[s].length,m++),d+=n[s].length,i+=n[s].length,s++;i-=h,s-=m,d-=h,a.push({t:f.t,v:t.slice(i-d,i),s:i-d,e:i})}return a}function DJ(e){const t=[],n=e.length;let r=0;for(;r<n;){let a=e.charCodeAt(r),i,s=a<55296||a>56319||r+1===n||(i=e.charCodeAt(r+1))<56320||i>57343?e[r]:e.slice(r,r+2);t.push(s),r+=s.length}return t}function ic(e,t,n,r,a){let i;const s=t.length;for(let o=0;o<s-1;o++){const c=t[o];e.j[c]?i=e.j[c]:(i=new ts(r),i.jr=a.slice(),e.j[c]=i),e=i}return i=new ts(n),i.jr=a.slice(),e.j[t[s-1]]=i,i}function GR(e){const t=[],n=[];let r=0,a="0123456789";for(;r<e.length;){let i=0;for(;a.indexOf(e[r+i])>=0;)i++;if(i>0){t.push(n.join(""));for(let s=parseInt(e.substring(r,r+i),10);s>0;s--)n.pop();r+=i}else n.push(e[r]),r++}return t}const Rp={defaultProtocol:"http",events:null,format:KR,formatHref:KR,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function CS(e,t=null){let n=tf({},Rp);e&&(n=tf(n,e instanceof CS?e.o:e));const r=n.ignoreTags,a=[];for(let i=0;i<r.length;i++)a.push(r[i].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=a}CS.prototype={o:Rp,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let a=this.o[e];return a&&(typeof a=="object"?(a=n.t in a?a[n.t]:Rp[e],typeof a=="function"&&r&&(a=a(t,n))):typeof a=="function"&&r&&(a=a(t,n.t,n)),a)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function KR(e){return e}function v5(e,t){this.t="token",this.v=e,this.tk=t}v5.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Rp.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),a=e.get("tagName",n,t),i=this.toFormattedString(e),s={},o=e.get("className",n,t),c=e.get("target",n,t),d=e.get("rel",n,t),f=e.getObj("attributes",n,t),h=e.getObj("events",n,t);return s.href=r,o&&(s.class=o),c&&(s.target=c),d&&(s.rel=d),f&&tf(s,f),{tagName:a,attributes:s,content:i,eventListeners:h}}};function _1(e,t){class n extends v5{constructor(a,i){super(a,i),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const QR=_1("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),ZR=_1("text"),SJ=_1("nl"),Yg=_1("url",{isLink:!0,toHref(e=Rp.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==kp&&e[1].t===hc}}),vs=e=>new ts(e);function EJ({groups:e}){const t=e.domain.concat([c0,d0,uc,f0,h0,p0,m0,g0,ws,yS,up,y0,v0,b0,bo,w0,fp,_0]),n=[u0,hc,bS,vo,_S,up,dp,wS,xS,Jv,e0,lp,cp,Qv,Kv,Zv,Xv,t0,n0,r0,a0,i0,s0,o0,l0],r=[c0,u0,d0,f0,h0,p0,m0,g0,ws,lp,cp,up,y0,v0,b0,dp,bo,w0,fp,_0],a=vs(),i=We(a,fp);vn(i,r,i),vn(i,e.domain,i);const s=vs(),o=vs(),c=vs();vn(a,e.domain,s),vn(a,e.scheme,o),vn(a,e.slashscheme,c),vn(s,r,i),vn(s,e.domain,s);const d=We(s,uc);We(i,uc,d),We(o,uc,d),We(c,uc,d);const f=We(i,vo);vn(f,r,i),vn(f,e.domain,i);const h=vs();vn(d,e.domain,h),vn(h,e.domain,h);const m=We(h,vo);vn(m,e.domain,h);const g=vs(QR);vn(m,e.tld,g),vn(m,e.utld,g),We(d,kp,g);const b=We(h,ws);We(b,ws,b),vn(b,e.domain,h),vn(g,e.domain,h),We(g,vo,m),We(g,ws,b);const _=We(g,hc);vn(_,e.numeric,QR);const w=We(s,ws),x=We(s,vo);We(w,ws,w),vn(w,e.domain,s),vn(x,r,i),vn(x,e.domain,s);const k=vs(Yg);vn(x,e.tld,k),vn(x,e.utld,k),vn(k,e.domain,s),vn(k,r,i),We(k,vo,x),We(k,ws,w),We(k,uc,d);const R=We(k,hc),I=vs(Yg);vn(R,e.numeric,I);const O=vs(Yg),A=vs();vn(O,t,O),vn(O,n,A),vn(A,t,O),vn(A,n,A),We(k,bo,O),We(I,bo,O);const L=We(o,hc),C=We(c,hc),T=We(C,bo),S=We(T,bo);vn(o,e.domain,s),We(o,vo,x),We(o,ws,w),vn(c,e.domain,s),We(c,vo,x),We(c,ws,w),vn(L,e.domain,O),We(L,bo,O),We(L,dp,O),vn(S,e.domain,O),vn(S,t,O),We(S,bo,O);const j=[[lp,cp],[Kv,Qv],[Zv,Xv],[Jv,e0],[t0,n0],[r0,a0],[i0,s0],[o0,l0]];for(let B=0;B<j.length;B++){const[H,U]=j[B],z=We(O,H);We(A,H,z),We(z,U,O);const F=vs(Yg);vn(z,t,F);const V=vs();vn(z,n),vn(F,t,F),vn(F,n,V),vn(V,t,F),vn(V,n,V),We(F,U,O),We(V,U,O)}return We(a,kp,k),We(a,vS,SJ),{start:a,tokens:g5}}function MJ(e,t,n){let r=n.length,a=0,i=[],s=[];for(;a<r;){let o=e,c=null,d=null,f=0,h=null,m=-1;for(;a<r&&!(c=o.go(n[a].t));)s.push(n[a++]);for(;a<r&&(d=c||o.go(n[a].t));)c=null,o=d,o.accepts()?(m=0,h=o):m>=0&&m++,a++,f++;if(m<0)a-=f,a<r&&(s.push(n[a]),a++);else{s.length>0&&(i.push(tx(ZR,t,s)),s=[]),a-=m,f-=m;const g=h.t,b=n.slice(a-f,a);i.push(tx(g,t,b))}}return s.length>0&&i.push(tx(ZR,t,s)),i}function tx(e,t,n){const r=n[0].s,a=n[n.length-1].e,i=t.slice(r,a);return new e(i,n)}const ti={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function TJ(){ti.scanner=CJ(ti.customSchemes);for(let e=0;e<ti.tokenQueue.length;e++)ti.tokenQueue[e][1]({scanner:ti.scanner});ti.parser=EJ(ti.scanner.tokens);for(let e=0;e<ti.pluginQueue.length;e++)ti.pluginQueue[e][1]({scanner:ti.scanner,parser:ti.parser});return ti.initialized=!0,ti}function DS(e){return ti.initialized||TJ(),MJ(ti.parser.start,e,y5(ti.scanner.start,e))}DS.scan=y5;function XR(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new CS(n),a=DS(e),i=[];for(let s=0;s<a.length;s++){const o=a[s];o.isLink&&(!t||o.t===t)&&r.check(o)&&i.push(o.toFormattedObject(r))}return i}function SS(e,t=null){const n=DS(e);return n.length===1&&n[0].isLink&&(!t||n[0].t===t)}const b5=v.createContext(void 0),kJ=({children:e,value:t})=>v.createElement(b5.Provider,{value:t},e),Ya=e=>{const t=E.useContext(b5);return t||(console.warn(`The useChannelActionContext hook was called outside of the ChannelActionContext provider. Make sure this hook is called within a child of the Channel component. The errored call is located in the ${e} component.`),{})},RJ=E.createContext(void 0),AJ=({children:e,value:t})=>v.createElement(RJ.Provider,{value:t},e),_5=v.createContext(void 0),OJ=({children:e,value:t})=>v.createElement(_5.Provider,{value:t},e),Zn=e=>{const t=E.useContext(_5);return t||(console.warn(`The useChannelStateContext hook was called outside of the ChannelStateContext provider. Make sure this hook is called within a child of the Channel component. The errored call is located in the ${e} component.`),{})},w5=v.createContext(void 0),LJ=({children:e,value:t})=>v.createElement(w5.Provider,{value:t},e),Yt=e=>{const t=E.useContext(w5);return t||(console.warn(`The useChatContext hook was called outside of the ChatContext provider. Make sure this hook is called within a child of the Chat component. The errored call is located in the ${e} component.`),{})},FC=v.createContext({}),xn=e=>E.useContext(FC);let El=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");class NJ{constructor({id:t}={}){this.state=new ka({dialogsById:{}}),this.id=t??El()}get openDialogCount(){return Object.values(this.state.getLatestValue().dialogsById).reduce((t,n)=>n.isOpen?t+1:t,0)}getOrCreate({id:t}){let n=this.state.getLatestValue().dialogsById[t];return n||(n={close:()=>{this.close(t)},id:t,isOpen:!1,open:()=>{this.open({id:t})},removalTimeout:void 0,remove:()=>{this.remove(t)},toggle:(r=!1)=>{this.toggle({id:t},r)}},this.state.next(r=>({...r,dialogsById:{...r.dialogsById,[t]:n}}))),n.removalTimeout&&(clearTimeout(n.removalTimeout),this.state.next(r=>({...r,dialogsById:{...r.dialogsById,[t]:{...n,removalTimeout:void 0}}}))),n}open(t,n){const r=this.getOrCreate(t);r.isOpen||(n&&this.closeAll(),this.state.next(a=>({...a,dialogsById:{...a.dialogsById,[r.id]:{...r,isOpen:!0}}})))}close(t){const n=this.state.getLatestValue().dialogsById[t];n!=null&&n.isOpen&&this.state.next(r=>({...r,dialogsById:{...r.dialogsById,[n.id]:{...n,isOpen:!1}}}))}closeAll(){Object.values(this.state.getLatestValue().dialogsById).forEach(t=>t.close())}toggle(t,n=!1){var r;(r=this.state.getLatestValue().dialogsById[t.id])!=null&&r.isOpen?this.close(t.id):this.open(t,n)}remove(t){const r=this.state.getLatestValue().dialogsById[t];r&&(r.removalTimeout&&clearTimeout(r.removalTimeout),this.state.next(a=>{const i={...a.dialogsById};return delete i[t],{...a,dialogsById:i}}))}markForRemoval(t){const n=this.state.getLatestValue().dialogsById[t];n&&this.state.next(r=>({...r,dialogsById:{...r.dialogsById,[t]:{...n,removalTimeout:setTimeout(()=>{this.remove(t)},16)}}}))}}var nx={exports:{}},rx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JR;function PJ(){if(JR)return rx;JR=1;var e=ma();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function o(h,m){var g=m(),b=r({inst:{value:g,getSnapshot:m}}),_=b[0].inst,w=b[1];return i(function(){_.value=g,_.getSnapshot=m,c(_)&&w({inst:_})},[h,g,m]),a(function(){return c(_)&&w({inst:_}),h(function(){c(_)&&w({inst:_})})},[h]),s(g),g}function c(h){var m=h.getSnapshot;h=h.value;try{var g=m();return!n(h,g)}catch{return!0}}function d(h,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return rx.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,rx}var eA;function IJ(){return eA||(eA=1,nx.exports=PJ()),nx.exports}var x5=IJ();const FJ=()=>{};function On(e,t){const n=E.useCallback(i=>(e==null?void 0:e.subscribeWithSelector(t,i))??FJ,[e,t]),r=E.useMemo(()=>{let i;return()=>{const s=e==null?void 0:e.getLatestValue();if(!s)return;if(i&&i[0]===s)return i[1];const o=t(s);if(i){let c=!0;for(const d in i[1])if(i[1][d]!==o[d]){c=!1;break}if(c)return i[1]}return i=[s,o],i[1]}},[e,t]);return x5.useSyncExternalStore(n,r)}const sm=({id:e})=>{const{dialogManager:t}=om();return E.useEffect(()=>()=>{t.markForRemoval(e)},[t,e]),t.getOrCreate({id:e})},Du=e=>{const{dialogManager:t}=om(),n=E.useCallback(({dialogsById:r})=>{var a;return{isOpen:!!((a=r[e])!=null&&a.isOpen)}},[e]);return On(t.state,n).isOpen},jJ=e=>({openedDialogCount:Object.values(e.dialogsById).reduce((t,n)=>n.isOpen?t+1:t,0)}),UJ=()=>{const{dialogManager:e}=om();return On(e.state,jJ).openedDialogCount},C5=({children:e,getPortalDestination:t,isOpen:n})=>{const[r,a]=E.useState(null);return E.useLayoutEffect(()=>{const i=t();!i||!n||a(i)},[t,n]),r?Gp.createPortal(e,r):null},BJ=()=>{const{dialogManager:e}=om(),t=UJ();return v.createElement("div",{className:"str-chat__dialog-overlay","data-str-chat__portal-id":e.id,"data-testid":"str-chat__dialog-overlay",onClick:()=>e.closeAll(),style:{"--str-chat__dialog-overlay-height":t>0?"100%":"0"}})},$J=({children:e,dialogId:t})=>{const{dialogManager:n}=om(),r=Du(t),a=E.useCallback(()=>document.querySelector(`div[data-str-chat__portal-id="${n.id}"]`),[n.id]);return v.createElement(C5,{getPortalDestination:a,isOpen:r},e)},D5=v.createContext(void 0),ES=({children:e,id:t})=>{const[n]=E.useState(()=>new NJ({id:t}));return v.createElement(D5.Provider,{value:{dialogManager:n}},e,v.createElement(BJ,null))},om=()=>E.useContext(D5),S5=v.createContext(void 0),zJ=({children:e,value:t})=>v.createElement(S5.Provider,{value:t},e),jr=e=>{const t=E.useContext(S5);return t||{}},E5=E.createContext(void 0);function HJ(e){const t=E.useContext(E5);return t||(console.warn(`The useMessageBounceContext hook was called outside of the MessageBounceContext provider. The errored call is located in the ${e} component.`),{})}function VJ({children:e}){const{handleRetry:t,message:n,setEditingState:r}=jr();f2(n)||console.warn('The MessageBounceProvider was rendered for a message that is not bounced. Have you missed the "isMessageBounced" check?');const{removeMessage:a}=Ya("MessageBounceProvider"),i=E.useCallback(()=>{a(n)},[n,a]),s=E.useCallback(d=>{r(d)},[r]),o=E.useCallback(()=>{t(n)},[t,n]),c=E.useMemo(()=>({handleDelete:i,handleEdit:s,handleRetry:o,message:n}),[i,s,o,n]);return v.createElement(E5.Provider,{value:c},e)}const M5=E.createContext(void 0),qJ=({children:e,value:t})=>v.createElement(M5.Provider,{value:t},e),to=e=>{const t=E.useContext(M5);return t||{}},YJ=E.createContext(void 0),WJ=({children:e,value:t})=>v.createElement(YJ.Provider,{value:t},e),T5=v.createContext(void 0),GJ=({children:e,poll:t})=>t?v.createElement(T5.Provider,{value:{poll:t}},e):null,ui=()=>E.useContext(T5);var Ty={exports:{}},KJ=Ty.exports,tA;function Ps(){return tA||(tA=1,function(e,t){(function(n,r){e.exports=r()})(KJ,function(){var n=1e3,r=6e4,a=36e5,i="millisecond",s="second",o="minute",c="hour",d="day",f="week",h="month",m="quarter",g="year",b="date",_="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var z=["th","st","nd","rd"],F=U%100;return"["+U+(z[(F-20)%10]||z[F]||z[0])+"]"}},R=function(U,z,F){var V=String(U);return!V||V.length>=z?U:""+Array(z+1-V.length).join(F)+U},I={s:R,z:function(U){var z=-U.utcOffset(),F=Math.abs(z),V=Math.floor(F/60),Y=F%60;return(z<=0?"+":"-")+R(V,2,"0")+":"+R(Y,2,"0")},m:function U(z,F){if(z.date()<F.date())return-U(F,z);var V=12*(F.year()-z.year())+(F.month()-z.month()),Y=z.clone().add(V,h),q=F-Y<0,N=z.clone().add(V+(q?-1:1),h);return+(-(V+(F-Y)/(q?Y-N:N-Y))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:h,y:g,w:f,d,D:b,h:c,m:o,s,ms:i,Q:m}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},O="en",A={};A[O]=k;var L="$isDayjsObject",C=function(U){return U instanceof B||!(!U||!U[L])},T=function U(z,F,V){var Y;if(!z)return O;if(typeof z=="string"){var q=z.toLowerCase();A[q]&&(Y=q),F&&(A[q]=F,Y=q);var N=z.split("-");if(!Y&&N.length>1)return U(N[0])}else{var W=z.name;A[W]=z,Y=W}return!V&&Y&&(O=Y),Y||!V&&O},S=function(U,z){if(C(U))return U.clone();var F=typeof z=="object"?z:{};return F.date=U,F.args=arguments,new B(F)},j=I;j.l=T,j.i=C,j.w=function(U,z){return S(U,{locale:z.$L,utc:z.$u,x:z.$x,$offset:z.$offset})};var B=function(){function U(F){this.$L=T(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[L]=!0}var z=U.prototype;return z.parse=function(F){this.$d=function(V){var Y=V.date,q=V.utc;if(Y===null)return new Date(NaN);if(j.u(Y))return new Date;if(Y instanceof Date)return new Date(Y);if(typeof Y=="string"&&!/Z$/i.test(Y)){var N=Y.match(w);if(N){var W=N[2]-1||0,K=(N[7]||"0").substring(0,3);return q?new Date(Date.UTC(N[1],W,N[3]||1,N[4]||0,N[5]||0,N[6]||0,K)):new Date(N[1],W,N[3]||1,N[4]||0,N[5]||0,N[6]||0,K)}}return new Date(Y)}(F),this.init()},z.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},z.$utils=function(){return j},z.isValid=function(){return this.$d.toString()!==_},z.isSame=function(F,V){var Y=S(F);return this.startOf(V)<=Y&&Y<=this.endOf(V)},z.isAfter=function(F,V){return S(F)<this.startOf(V)},z.isBefore=function(F,V){return this.endOf(V)<S(F)},z.$g=function(F,V,Y){return j.u(F)?this[V]:this.set(Y,F)},z.unix=function(){return Math.floor(this.valueOf()/1e3)},z.valueOf=function(){return this.$d.getTime()},z.startOf=function(F,V){var Y=this,q=!!j.u(V)||V,N=j.p(F),W=function(Ee,ue){var Me=j.w(Y.$u?Date.UTC(Y.$y,ue,Ee):new Date(Y.$y,ue,Ee),Y);return q?Me:Me.endOf(d)},K=function(Ee,ue){return j.w(Y.toDate()[Ee].apply(Y.toDate("s"),(q?[0,0,0,0]:[23,59,59,999]).slice(ue)),Y)},$=this.$W,J=this.$M,oe=this.$D,fe="set"+(this.$u?"UTC":"");switch(N){case g:return q?W(1,0):W(31,11);case h:return q?W(1,J):W(0,J+1);case f:var ye=this.$locale().weekStart||0,le=($<ye?$+7:$)-ye;return W(q?oe-le:oe+(6-le),J);case d:case b:return K(fe+"Hours",0);case c:return K(fe+"Minutes",1);case o:return K(fe+"Seconds",2);case s:return K(fe+"Milliseconds",3);default:return this.clone()}},z.endOf=function(F){return this.startOf(F,!1)},z.$set=function(F,V){var Y,q=j.p(F),N="set"+(this.$u?"UTC":""),W=(Y={},Y[d]=N+"Date",Y[b]=N+"Date",Y[h]=N+"Month",Y[g]=N+"FullYear",Y[c]=N+"Hours",Y[o]=N+"Minutes",Y[s]=N+"Seconds",Y[i]=N+"Milliseconds",Y)[q],K=q===d?this.$D+(V-this.$W):V;if(q===h||q===g){var $=this.clone().set(b,1);$.$d[W](K),$.init(),this.$d=$.set(b,Math.min(this.$D,$.daysInMonth())).$d}else W&&this.$d[W](K);return this.init(),this},z.set=function(F,V){return this.clone().$set(F,V)},z.get=function(F){return this[j.p(F)]()},z.add=function(F,V){var Y,q=this;F=Number(F);var N=j.p(V),W=function(J){var oe=S(q);return j.w(oe.date(oe.date()+Math.round(J*F)),q)};if(N===h)return this.set(h,this.$M+F);if(N===g)return this.set(g,this.$y+F);if(N===d)return W(1);if(N===f)return W(7);var K=(Y={},Y[o]=r,Y[c]=a,Y[s]=n,Y)[N]||1,$=this.$d.getTime()+F*K;return j.w($,this)},z.subtract=function(F,V){return this.add(-1*F,V)},z.format=function(F){var V=this,Y=this.$locale();if(!this.isValid())return Y.invalidDate||_;var q=F||"YYYY-MM-DDTHH:mm:ssZ",N=j.z(this),W=this.$H,K=this.$m,$=this.$M,J=Y.weekdays,oe=Y.months,fe=Y.meridiem,ye=function(ue,Me,Fe,$e){return ue&&(ue[Me]||ue(V,q))||Fe[Me].slice(0,$e)},le=function(ue){return j.s(W%12||12,ue,"0")},Ee=fe||function(ue,Me,Fe){var $e=ue<12?"AM":"PM";return Fe?$e.toLowerCase():$e};return q.replace(x,function(ue,Me){return Me||function(Fe){switch(Fe){case"YY":return String(V.$y).slice(-2);case"YYYY":return j.s(V.$y,4,"0");case"M":return $+1;case"MM":return j.s($+1,2,"0");case"MMM":return ye(Y.monthsShort,$,oe,3);case"MMMM":return ye(oe,$);case"D":return V.$D;case"DD":return j.s(V.$D,2,"0");case"d":return String(V.$W);case"dd":return ye(Y.weekdaysMin,V.$W,J,2);case"ddd":return ye(Y.weekdaysShort,V.$W,J,3);case"dddd":return J[V.$W];case"H":return String(W);case"HH":return j.s(W,2,"0");case"h":return le(1);case"hh":return le(2);case"a":return Ee(W,K,!0);case"A":return Ee(W,K,!1);case"m":return String(K);case"mm":return j.s(K,2,"0");case"s":return String(V.$s);case"ss":return j.s(V.$s,2,"0");case"SSS":return j.s(V.$ms,3,"0");case"Z":return N}return null}(ue)||N.replace(":","")})},z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},z.diff=function(F,V,Y){var q,N=this,W=j.p(V),K=S(F),$=(K.utcOffset()-this.utcOffset())*r,J=this-K,oe=function(){return j.m(N,K)};switch(W){case g:q=oe()/12;break;case h:q=oe();break;case m:q=oe()/3;break;case f:q=(J-$)/6048e5;break;case d:q=(J-$)/864e5;break;case c:q=J/a;break;case o:q=J/r;break;case s:q=J/n;break;default:q=J}return Y?q:j.a(q)},z.daysInMonth=function(){return this.endOf(h).$D},z.$locale=function(){return A[this.$L]},z.locale=function(F,V){if(!F)return this.$L;var Y=this.clone(),q=T(F,V,!0);return q&&(Y.$L=q),Y},z.clone=function(){return j.w(this.$d,this)},z.toDate=function(){return new Date(this.valueOf())},z.toJSON=function(){return this.isValid()?this.toISOString():null},z.toISOString=function(){return this.$d.toISOString()},z.toString=function(){return this.$d.toUTCString()},U}(),H=B.prototype;return S.prototype=H,[["$ms",i],["$s",s],["$m",o],["$H",c],["$W",d],["$M",h],["$y",g],["$D",b]].forEach(function(U){H[U[1]]=function(z){return this.$g(z,U[0],U[1])}}),S.extend=function(U,z){return U.$i||(U(z,B,S),U.$i=!0),S},S.locale=T,S.isDayjs=C,S.unix=function(U){return S(1e3*U)},S.en=A[O],S.Ls=A,S.p={},S})}(Ty)),Ty.exports}var QJ=Ps();const ha=Or(QJ);var ky={exports:{}},ZJ=ky.exports,nA;function XJ(){return nA||(nA=1,function(e,t){(function(n,r){e.exports=r()})(ZJ,function(){return function(n,r,a){var i="h:mm A",s={lastDay:"[Yesterday at] "+i,sameDay:"[Today at] "+i,nextDay:"[Tomorrow at] "+i,nextWeek:"dddd [at] "+i,lastWeek:"[Last] dddd [at] "+i,sameElse:"MM/DD/YYYY"};r.prototype.calendar=function(o,c){var d=c||this.$locale().calendar||s,f=a(o||void 0).startOf("d"),h=this.diff(f,"d",!0),m="sameElse",g=h<-6?m:h<-1?"lastWeek":h<0?"lastDay":h<1?"sameDay":h<2?"nextDay":h<7?"nextWeek":m,b=d[g]||s[g];return typeof b=="function"?b.call(this,a()):this.format(b)}}})}(ky)),ky.exports}var JJ=XJ();const k5=Or(JJ);var Ry={exports:{}},eee=Ry.exports,rA;function tee(){return rA||(rA=1,function(e,t){(function(n,r){e.exports=r()})(eee,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,a,i){var s=a.prototype,o=s.format;i.en.formats=n,s.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,f=function(h,m){return h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(g,b,_){var w=_&&_.toUpperCase();return b||m[_]||n[_]||m[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,k,R){return k||R.slice(1)})})}(c,d===void 0?{}:d);return o.call(this,f)}}})}(Ry)),Ry.exports}var nee=tee();const R5=Or(nee),ree="MessageTimestamp was called without a message, or message has invalid created_at date.",aee="MessageTimestamp was called but there is no datetime parsing function available",iee=e=>typeof e=="string"||typeof e=="number",jC=e=>!!(e!=null&&e.isSame),Ml=e=>e!==null&&typeof e=="object"&&typeof e.getTime=="function";function Ap({calendar:e,calendarFormats:t,format:n,formatDate:r,messageCreatedAt:a,t:i,tDateTimeParser:s,timestampTranslationKey:o}){if(!a||typeof a=="string"&&!Date.parse(a))return console.warn(ree),null;if(typeof r=="function")return r(new Date(a));if(i&&o){const d={};typeof e<"u"&&e!==null&&(d.calendar=e),typeof t<"u"&&t!==null&&(d.calendarFormats=t),typeof n<"u"&&n!==null&&(d.format=n);const f=i(o,{...d,timestamp:new Date(a)});if(o!==f)return f}if(!s)return console.warn(aee),null;const c=s(a);return jC(c)?e&&c.calendar?c.calendar(void 0,t||void 0):c.format(n||void 0):Ml(c)?c.toDateString():iee(c)?c:null}const aA={timestampFormatter:e=>(t,n,{calendarFormats:r,...a})=>{let i;try{a.calendar?typeof r=="string"?i=JSON.parse(r):typeof r=="object"&&(i=r):i={}}catch(o){console.error("[TIMESTAMP FORMATTER]",o)}const s=Ap({...a,calendarFormats:i,messageCreatedAt:t,tDateTimeParser:e.tDateTimeParser});return!s||typeof s=="number"?JSON.stringify(t):s}},MS=e=>e,A5=e=>ha(e),see=e=>["de","en","es","fr","hi","it","ja","ko","nl","pt","ru","tr"].some(n=>e===n);ha.extend(k5);ha.extend(R5);const O5=v.createContext({t:MS,tDateTimeParser:A5,userLanguage:"en"}),oee=({children:e,value:t})=>v.createElement(O5.Provider,{value:t},e),Ge=e=>{const t=E.useContext(O5);return t||(console.warn(`The useTranslationContext hook was called outside of the TranslationContext provider. Make sure this hook is called within a child of the Chat component. The errored call is located in the ${e} component.`),{})},L5=v.createContext(void 0),lee=({children:e,value:t})=>v.createElement(L5.Provider,{value:t},e),cee=e=>{const t=E.useContext(L5);return t||(console.warn(`The useTypingContext hook was called outside of the TypingContext provider. Make sure this hook is called within a child of the Channel component. The errored call is located in the ${e} component.`),{})};function uee({children:e,overrides:t}){const r={...E.useContext(FC),...t};return v.createElement(FC.Provider,{value:r},e)}const dee=e=>{const{actionHandler:t,actions:n,id:r,text:a}=e,{t:i}=Ge("UnMemoizedAttachmentActions"),s=(o,c,d)=>t==null?void 0:t(c,d,o);return v.createElement("div",{className:"str-chat__message-attachment-actions"},v.createElement("div",{className:"str-chat__message-attachment-actions-form"},v.createElement("span",null,a),n.map(o=>v.createElement("button",{className:`str-chat__message-attachment-actions-button str-chat__message-attachment-actions-button--${o.style}`,"data-testid":`${o.name}`,"data-value":o.value,key:`${r}-${o.value}`,onClick:c=>s(c,o.name,o.value)},o.text?i(o.text):null))))},fee=v.memo(dee),hee=({className:e})=>v.createElement("svg",{className:e,"data-testid":"download",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4C9.11 4 6.6 5.64 5.35 8.04C2.34 8.36 0 10.91 0 14C0 17.31 2.69 20 6 20H19C21.76 20 24 17.76 24 15C24 12.36 21.95 10.22 19.35 10.04ZM19 18H6C3.79 18 2 16.21 2 14C2 11.95 3.53 10.24 5.56 10.03L6.63 9.92L7.13 8.97C8.08 7.14 9.94 6 12 6C14.62 6 16.88 7.86 17.39 10.43L17.69 11.93L19.22 12.04C20.78 12.14 22 13.45 22 15C22 16.65 20.65 18 19 18ZM13.45 10H10.55V13H8L12 17L16 13H13.45V10Z",fill:"black"})),pee=()=>v.createElement("svg",{fill:"none",viewBox:"0 0 12 14",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M0.5 0V14L11.5 7L0.5 0Z",fill:"#080707"})),mee=()=>v.createElement("svg",{fill:"none",viewBox:"0 0 12 14",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M0 14H4V0H0V14ZM8 0V14H12V0H8Z",fill:"#080707"}));var ax={},iA;function gee(){return iA||(iA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=e.BLANK_URL=void 0;var t=/^([^\w]*)(javascript|data|vbscript)/im,n=/&#(\w+)(^\w|;)?/g,r=/&(newline|tab);/gi,a=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,i=/^.+(:|&colon;)/gim,s=[".","/"];e.BLANK_URL="about:blank";function o(f){return s.indexOf(f[0])>-1}function c(f){var h=f.replace(a,"");return h.replace(n,function(m,g){return String.fromCharCode(g)})}function d(f){if(!f)return e.BLANK_URL;var h=c(f).replace(r,"").replace(a,"").trim();if(!h)return e.BLANK_URL;if(o(h))return h;var m=h.match(i);if(!m)return h;var g=m[0];return t.test(g)?e.BLANK_URL:h}e.sanitizeUrl=d}(ax)),ax}var TS=gee();const yee=e=>{const{children:t,className:n,download:r,href:a,rel:i,target:s}=e,{t:o}=Ge("SafeAnchor");if(!a)return null;const c=TS.sanitizeUrl(a);return v.createElement("a",{"aria-label":o("aria/Attachment"),className:n,download:r,href:c,rel:i,target:s},t)},N5=v.memo(yee),kS=({assetUrl:e})=>v.createElement(N5,{className:"str-chat__message-attachment-file--item-download",download:!0,href:e,target:"_blank"},v.createElement(hee,{className:"str-chat__message-attachment-download-icon"}));function vee(e,t=3){const n=["B","kB","MB","GB"],r=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1),a=e/1024**r;return`${t===0?Math.round(a).toString():a.toPrecision(t)} ${n[r]}`}const w1=({fileSize:e,maximumFractionDigits:t})=>{const n=typeof e=="string"?parseFloat(e):e;return typeof n>"u"||!Number.isFinite(Number(n))?null:v.createElement("span",{className:"str-chat__message-attachment-file--item-size","data-testid":"file-size-indicator"},vee(n,t))},P5=({className:e,onClick:t,progress:n})=>v.createElement("div",{className:Ue("str-chat__message-attachment-audio-widget--progress-track",e),"data-progress":n,"data-testid":"audio-progress",onClick:t,role:"progressbar",style:{"--str-chat__message-attachment-audio-widget-progress":n+"%"}},v.createElement("div",{className:"str-chat__message-attachment-audio-widget--progress-slider",style:{left:`${n}px`}})),bee=({children:e,onClick:t})=>v.createElement("button",{className:"str-chat__message_attachment__playback-rate-button","data-testid":"playback-rate-button",onClick:t},e),x1=({isPlaying:e,onClick:t})=>v.createElement("button",{className:"str-chat__message-attachment-audio-widget--play-button","data-testid":e?"pause-audio":"play-audio",onClick:t},e?v.createElement(mee,null):v.createElement(pee,null));var ix,sA;function _ee(){if(sA)return ix;sA=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,c=typeof _r=="object"&&_r&&_r.Object===Object&&_r,d=typeof self=="object"&&self&&self.Object===Object&&self,f=c||d||Function("return this")(),h=Object.prototype,m=h.toString,g=Math.max,b=Math.min,_=function(){return f.Date.now()};function w(A,L,C){var T,S,j,B,H,U,z=0,F=!1,V=!1,Y=!0;if(typeof A!="function")throw new TypeError(e);L=O(L)||0,k(C)&&(F=!!C.leading,V="maxWait"in C,j=V?g(O(C.maxWait)||0,L):j,Y="trailing"in C?!!C.trailing:Y);function q(le){var Ee=T,ue=S;return T=S=void 0,z=le,B=A.apply(ue,Ee),B}function N(le){return z=le,H=setTimeout($,L),F?q(le):B}function W(le){var Ee=le-U,ue=le-z,Me=L-Ee;return V?b(Me,j-ue):Me}function K(le){var Ee=le-U,ue=le-z;return U===void 0||Ee>=L||Ee<0||V&&ue>=j}function $(){var le=_();if(K(le))return J(le);H=setTimeout($,W(le))}function J(le){return H=void 0,Y&&T?q(le):(T=S=void 0,B)}function oe(){H!==void 0&&clearTimeout(H),z=0,T=U=S=H=void 0}function fe(){return H===void 0?B:J(_())}function ye(){var le=_(),Ee=K(le);if(T=arguments,S=this,U=le,Ee){if(H===void 0)return N(U);if(V)return H=setTimeout($,L),q(U)}return H===void 0&&(H=setTimeout($,L)),B}return ye.cancel=oe,ye.flush=fe,ye}function x(A,L,C){var T=!0,S=!0;if(typeof A!="function")throw new TypeError(e);return k(C)&&(T="leading"in C?!!C.leading:T,S="trailing"in C?!!C.trailing:S),w(A,L,{leading:T,maxWait:L,trailing:S})}function k(A){var L=typeof A;return!!A&&(L=="object"||L=="function")}function R(A){return!!A&&typeof A=="object"}function I(A){return typeof A=="symbol"||R(A)&&m.call(A)==n}function O(A){if(typeof A=="number")return A;if(I(A))return t;if(k(A)){var L=typeof A.valueOf=="function"?A.valueOf():A;A=k(L)?L+"":L}if(typeof A!="string")return A===0?A:+A;A=A.replace(r,"");var C=i.test(A);return C||s.test(A)?o(A.slice(2),C?2:8):a.test(A)?t:+A}return ix=x,ix}var wee=_ee();const wc=Or(wee),oA=["video/mp4","video/ogg","video/webm","video/quicktime"],xee=e=>Array.isArray(e.images),Cee=e=>(e.fallback||"").toLowerCase().endsWith(".svg"),UC=(e,t)=>[Math.floor(e/t),e%t],RS=e=>{if(!e||e<0)return"00:00";const[t,n]=UC(e,3600),[r,a]=UC(n,60),i=Math.ceil(a),s=t.toString().length===1?"0":"",o=r.toString().length===1?"0":"",c=i.toString().length===1?"0":"",d=`${o}${r}:${c}${i}`;return t?`${s}${t}:`+d:d},I5=(e,t)=>e.length===t?e:e.length>t?Dee(e,t):Mee(e,t);function Dee(e,t){if(e.length<=t||t===0)return e;if(t===1)return[F5(e)];const n=[],r=(e.length-2)/(t-2);let a=0;n.push(e[a]);let i,s,o;for(let c=1;c<t-1;c++){const d=e[a],f=Eee(e,c,r),h=Math.floor((c-1)*r)+1,m=Math.floor(c*r)+1,g=1+m-h;s=o=-1;for(let b=h;b<m;b++){const _=Math.abs(b-h)+1,w=g-_,x=e[b];o=See(sx(Math.abs(d-x),_),sx(Math.abs(x-f),w),sx(Math.abs(d-f),g)),o>s&&(s=o,i=e[b],a=b)}typeof i<"u"&&n.push(i)}return n.push(e[e.length-1]),n}const See=(e,t,n)=>{const r=(e+t+n)/2;return Math.sqrt(r*(r-e)*(r-t)*(r-n))},sx=(e,t)=>Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),F5=e=>e.reduce((t,n)=>t+n,0)/e.length,Eee=(e,t,n)=>{const r=Math.floor(t*n)+1;let a=Math.floor((t+1)*n)+1;return a=a<e.length?a:e.length,F5(e.slice(r,a))},Mee=(e,t)=>{if(!e.length)return console.warn("Cannot extend empty array of amplitudes."),e;if(e.length>t)return console.warn("Requested to extend the waveformData that is longer than the target list size"),e;if(t===e.length)return e;let[n,r]=UC(t,e.length);const a=[];for(let i=0;i<e.length;i++){const s=r&&r--?1:0;a.push(...Array(n+s).fill(e[i]))}return a},j5=({amplitudesCount:e=40,progress:t=0,relativeAmplitudeBarWidth:n=2,relativeAmplitudeGap:r=1,seek:a,waveformData:i})=>{const[s,o]=E.useState(null),c=E.useRef(!1),[d,f]=E.useState(null),[h,m]=E.useState(),g=E.useRef(void 0),b=R=>{R.preventDefault(),s&&(c.current=!0,s.style.cursor="grabbing")},_=R=>{c.current&&a({...R})},w=E.useCallback(()=>{s&&(c.current=!1,s.style.removeProperty("cursor"))},[s]),x=E.useMemo(()=>wc(R=>{if(R===g.current)return;g.current=R;const I=Math.floor(R/(r+n)),A=I<e?I:e,L=n/(n+r),C=A&&R/A*L;m({barCount:A,barWidth:C,gap:C*(r/n)})},1),[n,r,e]),k=E.useMemo(()=>h?I5(i,h.barCount):[],[h,i]);return E.useEffect(()=>(document.addEventListener("pointerup",w),()=>{document.removeEventListener("pointerup",w)}),[w]),E.useEffect(()=>{if(!d||typeof ResizeObserver>"u")return;const R=new ResizeObserver(([I])=>{x(I.contentRect.width)});return R.observe(d),()=>{R.disconnect()}},[x,d]),E.useLayoutEffect(()=>{if(!d)return;const{width:R}=d.getBoundingClientRect();x(R)},[x,d]),!i.length||(h==null?void 0:h.barCount)===0?null:v.createElement("div",{className:"str-chat__wave-progress-bar__track","data-testid":"wave-progress-bar-track",onClick:a,onPointerDown:b,onPointerMove:_,onPointerUp:w,ref:f,role:"progressbar",style:{"--str-chat__voice-recording-amplitude-bar-gap-width":(h==null?void 0:h.gap)+"px"}},k.map((R,I)=>v.createElement("div",{className:Ue("str-chat__wave-progress-bar__amplitude-bar",{"str-chat__wave-progress-bar__amplitude-bar--active":t>I/k.length*100}),"data-testid":"amplitude-bar",key:`amplitude-${I}`,style:{"--str-chat__voice-recording-amplitude-bar-width":(h==null?void 0:h.barWidth)+"px","--str-chat__wave-progress-bar__amplitude-bar-height":R?R*100+"%":"0%"}})),v.createElement("div",{className:"str-chat__wave-progress-bar__progress-indicator","data-testid":"wave-progress-bar-progress-indicator",ref:o,style:{left:`${t<0?0:t>100?100:t}%`}}))},Tee=e=>!(e.duration===1/0||isNaN(e.duration)),kee=e=>e&&!(e.paused||e.ended),Ree=e=>console.error("[AUDIO PLAYER]",e),Aee=[1,1.5,2],lm=({durationSeconds:e,mimeType:t,playbackRates:n=Aee}={})=>{const{addNotification:r}=Ya("useAudioController"),{t:a}=Ge("useAudioController"),[i,s]=E.useState(!1),[o,c]=E.useState(),[d,f]=E.useState(!0),[h,m]=E.useState(0),[g,b]=E.useState(0),_=E.useRef(void 0),w=E.useRef(null),x=E.useCallback(O=>{Ree(O),c(O),r(O.message,"error")},[r]),k=E.useCallback(async()=>{if(w.current){if(clearTimeout(_.current),_.current=void 0,t&&!w.current.canPlayType(t)){x(new Error(a("Recording format is not supported and cannot be reproduced"))),f(!1);return}if(kee(w.current))w.current.pause(),s(!1);else{_.current=setTimeout(()=>{if(w.current)try{w.current.pause(),s(!1)}catch{x(new Error(a("Failed to play the recording")))}},2e3);try{await w.current.play(),s(!0)}catch(O){x(O),s(!1)}finally{clearTimeout(_.current),_.current=void 0}}}},[t,x,a]),R=()=>{b(O=>{if(!w.current)return O;const A=O===n.length-1?0:O+1;return w.current.playbackRate=n[A],A})},I=E.useMemo(()=>wc(({clientX:O,currentTarget:A})=>{if(!(A&&w.current))return;if(!Tee(w.current)){x(new Error(a("Cannot seek in the recording")));return}const{width:L,x:C}=A.getBoundingClientRect(),T=(O-C)/L;if(T>1||T<0)return;const S=T*w.current.duration;m(S),w.current.currentTime=S},16),[x,a]);return E.useEffect(()=>{if(!w.current)return;const O=w.current,A=()=>{m((O==null?void 0:O.duration)??e??0),s(!1)};O.addEventListener("ended",A);const L=()=>{r(a("Error reproducing the recording"),"error"),s(!1)};O.addEventListener("error",L);const C=()=>{m(O==null?void 0:O.currentTime)};return O.addEventListener("timeupdate",C),()=>{O.pause(),O.removeEventListener("ended",A),O.removeEventListener("error",L),O.removeEventListener("timeupdate",C)}},[r,e,a]),{audioRef:w,canPlayRecord:d,increasePlaybackRate:R,isPlaying:i,playbackError:o,playbackRate:n[g],progress:w.current&&h?h/w.current.duration*100:0,secondsElapsed:h,seek:I,togglePlay:k}},Oee=e=>{const{og:{asset_url:t,file_size:n,mime_type:r,title:a}}=e,{audioRef:i,isPlaying:s,progress:o,seek:c,togglePlay:d}=lm({mimeType:r});return t?v.createElement("div",{className:"str-chat__message-attachment-audio-widget","data-testid":"audio-widget"},v.createElement("audio",{ref:i},v.createElement("source",{"data-testid":"audio-source",src:t,type:"audio/mp3"})),v.createElement("div",{className:"str-chat__message-attachment-audio-widget--play-controls"},v.createElement(x1,{isPlaying:s,onClick:d})),v.createElement("div",{className:"str-chat__message-attachment-audio-widget--text"},v.createElement("div",{className:"str-chat__message-attachment-audio-widget--text-first-row"},v.createElement("div",{className:"str-chat__message-attachment-audio-widget--title"},a),v.createElement(kS,{assetUrl:t})),v.createElement("div",{className:"str-chat__message-attachment-audio-widget--text-second-row"},v.createElement(w1,{fileSize:n}),v.createElement(P5,{onClick:c,progress:o})))):null},Lee=v.memo(Oee),Wa=40,lA=({className:e="",size:t=Wa,...n})=>v.createElement("svg",{className:Ue("rfu-file-pdf",e),fill:"none",height:t,viewBox:"0 0 34 40",width:t,xmlns:"http://www.w3.org/2000/svg",...n},v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"#F5F5F5"}),v.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#E71A01"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{clipRule:"evenodd",d:"M16.39 8.90641C16.215 8.27341 15.787 7.95841 15.426 8.00441C14.99 8.06141 14.526 8.32041 14.34 8.72941C13.854 9.82141 14.768 12.8934 15.028 13.7674L15.073 13.9194C14.015 17.1134 10.394 23.4264 8.62002 23.8534C8.58302 23.4364 8.80602 22.2294 11.146 20.7244C11.266 20.5944 11.406 20.4374 11.471 20.3344C9.49302 21.3004 6.93108 22.8514 8.47102 24.0114C8.55602 24.0774 8.68502 24.1314 8.83402 24.1874C10.014 24.6244 11.666 23.1954 13.327 19.9544C15.157 19.3504 16.633 18.8964 18.722 18.5804C21.005 20.1304 22.538 20.4464 23.578 20.0474C23.866 19.9354 24.32 19.5734 24.45 19.1004C24.515 18.8774 24.608 18.5154 24.432 18.2274C23.842 17.2664 21.452 17.5954 20.032 17.7904C19.779 17.8254 19.557 17.8564 19.381 17.8744C17.552 16.7704 16.289 14.8014 15.778 13.3804C15.857 13.0784 15.936 12.7894 16.012 12.5124C16.397 11.1124 16.701 10.0064 16.392 8.90641H16.39ZM24.45 19.1004C23.605 20.1404 21.628 19.4164 20.05 18.4224C21.507 18.2644 23.01 18.1724 23.661 18.3764C24.488 18.6364 24.459 19.0444 24.451 19.1004H24.45ZM15.601 12.7404C15.296 11.6544 14.868 9.24041 15.555 8.46041C16.701 9.11641 16.266 10.5384 15.825 11.9834C15.748 12.2364 15.671 12.4894 15.601 12.7404ZM13.439 19.5834C15.156 18.9054 16.354 18.4494 18.118 18.1254C16.818 16.9554 16.028 15.6834 15.378 14.3834C14.915 16.0554 13.948 18.5894 13.438 19.5834H13.439Z",fill:"#E71A01",fillRule:"evenodd"}),v.createElement("path",{d:"M13.1719 33.0127V37.4219H12.1875V32.3018H13.1001L13.1719 33.0127ZM15.5132 34.1099V34.1816C15.5132 34.4505 15.4813 34.7 15.4175 34.9302C15.356 35.1603 15.2648 35.3608 15.144 35.5317C15.0233 35.7004 14.8729 35.8325 14.6929 35.9282C14.5151 36.0216 14.3101 36.0684 14.0776 36.0684C13.8521 36.0684 13.6561 36.0228 13.4897 35.9316C13.3234 35.8405 13.1833 35.7129 13.0693 35.5488C12.9577 35.3825 12.8677 35.1899 12.7993 34.9712C12.731 34.7524 12.6785 34.5177 12.6421 34.2671V34.0791C12.6785 33.8102 12.731 33.5641 12.7993 33.3408C12.8677 33.1152 12.9577 32.9204 13.0693 32.7563C13.1833 32.59 13.3223 32.4613 13.4863 32.3701C13.6527 32.279 13.8475 32.2334 14.0708 32.2334C14.3055 32.2334 14.5117 32.2778 14.6895 32.3667C14.8695 32.4556 15.0199 32.5832 15.1406 32.7495C15.2637 32.9159 15.356 33.1141 15.4175 33.3442C15.4813 33.5744 15.5132 33.8296 15.5132 34.1099ZM14.5254 34.1816V34.1099C14.5254 33.9526 14.5117 33.8079 14.4844 33.6758C14.4593 33.5413 14.4183 33.424 14.3613 33.3237C14.3066 33.2235 14.2337 33.146 14.1426 33.0913C14.0537 33.0343 13.9455 33.0059 13.8179 33.0059C13.6834 33.0059 13.5684 33.0275 13.4727 33.0708C13.3792 33.1141 13.3029 33.1768 13.2437 33.2588C13.1844 33.3408 13.14 33.4388 13.1104 33.5527C13.0807 33.6667 13.0625 33.7954 13.0557 33.939V34.4141C13.0671 34.5827 13.099 34.7342 13.1514 34.8687C13.2038 35.0008 13.2847 35.1056 13.394 35.1831C13.5034 35.2606 13.647 35.2993 13.8247 35.2993C13.9546 35.2993 14.064 35.2708 14.1528 35.2139C14.2417 35.1546 14.3135 35.0737 14.3682 34.9712C14.4251 34.8687 14.465 34.7502 14.4878 34.6157C14.5129 34.4813 14.5254 34.3366 14.5254 34.1816ZM18.3091 35.1934V30.75H19.3003V36H18.4082L18.3091 35.1934ZM15.9712 34.1953V34.1235C15.9712 33.841 16.0031 33.5846 16.0669 33.3545C16.1307 33.1221 16.2241 32.9227 16.3472 32.7563C16.4702 32.59 16.6217 32.4613 16.8018 32.3701C16.9818 32.279 17.1868 32.2334 17.417 32.2334C17.6335 32.2334 17.8226 32.279 17.9844 32.3701C18.1484 32.4613 18.2874 32.5911 18.4014 32.7598C18.5176 32.9261 18.611 33.1232 18.6816 33.3511C18.7523 33.5767 18.8035 33.8239 18.8354 34.0928V34.25C18.8035 34.5075 18.7523 34.7467 18.6816 34.9678C18.611 35.1888 18.5176 35.3825 18.4014 35.5488C18.2874 35.7129 18.1484 35.8405 17.9844 35.9316C17.8203 36.0228 17.6289 36.0684 17.4102 36.0684C17.18 36.0684 16.9749 36.0216 16.7949 35.9282C16.6172 35.8348 16.4668 35.7038 16.3438 35.5352C16.223 35.3665 16.1307 35.1683 16.0669 34.9404C16.0031 34.7126 15.9712 34.4642 15.9712 34.1953ZM16.9556 34.1235V34.1953C16.9556 34.348 16.967 34.4904 16.9897 34.6226C17.0148 34.7547 17.0547 34.8721 17.1094 34.9746C17.1663 35.0749 17.2393 35.1535 17.3281 35.2104C17.4193 35.2651 17.5298 35.2925 17.6597 35.2925C17.8283 35.2925 17.9673 35.2549 18.0767 35.1797C18.186 35.1022 18.2692 34.9963 18.3262 34.8618C18.3854 34.7274 18.4196 34.5724 18.4287 34.397V33.9492C18.4219 33.8057 18.4014 33.6769 18.3672 33.563C18.3353 33.4468 18.2874 33.3477 18.2236 33.2656C18.1621 33.1836 18.0846 33.1198 17.9912 33.0742C17.9001 33.0286 17.7918 33.0059 17.6665 33.0059C17.5389 33.0059 17.4295 33.0355 17.3384 33.0947C17.2472 33.1517 17.1732 33.2303 17.1162 33.3306C17.0615 33.4308 17.0205 33.5493 16.9932 33.686C16.9681 33.8205 16.9556 33.9663 16.9556 34.1235ZM21.3237 36H20.3325V31.9736C20.3325 31.6934 20.3872 31.4575 20.4966 31.2661C20.6082 31.0724 20.7643 30.9266 20.9648 30.8286C21.1676 30.7284 21.408 30.6782 21.686 30.6782C21.7772 30.6782 21.8649 30.6851 21.9492 30.6987C22.0335 30.7101 22.1156 30.7249 22.1953 30.7432L22.1851 31.4849C22.1418 31.4735 22.0962 31.4655 22.0483 31.4609C22.0005 31.4564 21.9447 31.4541 21.8809 31.4541C21.7624 31.4541 21.661 31.4746 21.5767 31.5156C21.4946 31.5544 21.432 31.6125 21.3887 31.6899C21.3454 31.7674 21.3237 31.862 21.3237 31.9736V36ZM22.062 32.3018V32.999H19.7822V32.3018H22.062Z",fill:"white"})),Nee=({className:e="",size:t=Wa,...n})=>v.createElement("svg",{className:Ue("rfu-file-word",e),fill:"none",height:t,viewBox:"0 0 34 40",width:t,xmlns:"http://www.w3.org/2000/svg",...n},v.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#4285F4"}),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{clipRule:"evenodd",d:"M8 13H23V15H8V13Z",fill:"#4285F4",fillRule:"evenodd"}),v.createElement("path",{clipRule:"evenodd",d:"M8 17H18V19H8V17Z",fill:"#4285F4",fillRule:"evenodd"}),v.createElement("path",{clipRule:"evenodd",d:"M8 21H23V23H8V21Z",fill:"#4285F4",fillRule:"evenodd"})),Pee=({className:e="",size:t=Wa,...n})=>v.createElement("svg",{className:Ue("rfu-file-word-alt",e),fill:"none",height:t,viewBox:"0 0 34 40",width:t,xmlns:"http://www.w3.org/2000/svg",...n},v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11084_64)"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#3670D3"}),v.createElement("path",{clipRule:"evenodd",d:"M8 13H23V15H8V13Z",fill:"#C1D8FF",fillRule:"evenodd"}),v.createElement("path",{clipRule:"evenodd",d:"M8 17H18V19H8V17Z",fill:"#C1D8FF",fillRule:"evenodd"}),v.createElement("path",{clipRule:"evenodd",d:"M8 21H23V23H8V21Z",fill:"#C1D8FF",fillRule:"evenodd"}),v.createElement("defs",null,v.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11084_64",x1:"0",x2:"0",y1:"0",y2:"40"},v.createElement("stop",{stopColor:"#79A4F2"}),v.createElement("stop",{offset:"1",stopColor:"#3375E2"})))),Iee=({className:e="",size:t=Wa,...n})=>v.createElement("svg",{className:Ue("rfu-file-powerpoint",e),fill:"none",height:t,viewBox:"0 0 34 40",width:t,xmlns:"http://www.w3.org/2000/svg",...n},v.createElement("path",{clipRule:"evenodd",d:"M17.7168 33.172C18.2348 33.172 18.4238 33.655 18.4238 34.18C18.4238 34.642 18.2978 35.195 17.7168 35.195C17.1708 35.195 16.9888 34.642 16.9888 34.145C16.9888 33.683 17.1708 33.172 17.7168 33.172ZM19.5718 31.002H18.3818V32.7589H18.3678C18.1228 32.43 17.7798 32.262 17.3318 32.262C16.3028 32.262 15.7988 33.158 15.7988 34.103C15.7988 35.125 16.2818 36.1049 17.4228 36.1049C17.8428 36.1049 18.1928 35.923 18.4238 35.58H18.4378V36H19.5718V31.002ZM12.7095 34.1872C12.7095 33.7252 12.8775 33.1722 13.4305 33.1722C13.9835 33.1722 14.1585 33.7252 14.1585 34.1872C14.1585 34.6492 13.9835 35.1952 13.4305 35.1952C12.8775 35.1952 12.7095 34.6492 12.7095 34.1872ZM11.5195 34.1872C11.5195 35.2792 12.3035 36.1052 13.4305 36.1052C14.5575 36.1052 15.3485 35.2792 15.3485 34.1872C15.3485 33.0952 14.5575 32.2622 13.4305 32.2622C12.3035 32.2622 11.5195 33.0952 11.5195 34.1872ZM21.839 32.3671H22.574V33.1371H21.839V34.7891C21.839 35.0761 22.007 35.1391 22.266 35.1391C22.3142 35.1391 22.364 35.1357 22.4147 35.1323C22.4672 35.1287 22.5206 35.1251 22.574 35.1251V36.0001C22.481 36.0031 22.388 36.0099 22.295 36.0168C22.171 36.0259 22.047 36.0351 21.923 36.0351C20.908 36.0351 20.649 35.7411 20.649 34.7541V33.1371H20.047V32.3671H20.649V31.2681H21.839V32.3671Z",fill:"white",fillRule:"evenodd"}),v.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#D65537"}),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{clipRule:"evenodd",d:"M7 12C7 10.8954 7.89543 10 9 10H19C20.1046 10 21 10.8954 21 12V18C21 19.1046 20.1046 20 19 20H9C7.89543 20 7 19.1046 7 18V12ZM9 12H19V18H9V12ZM25 22C25 23.1046 24.1046 24 23 24H11V22H23V15H25V22Z",fill:"#D65537",fillRule:"evenodd"})),Fee=({className:e="",size:t=Wa,...n})=>v.createElement("svg",{className:Ue("rfu-file-powerpoint-alt",e),fill:"none",height:t,viewBox:"0 0 34 40",width:t,xmlns:"http://www.w3.org/2000/svg",...n},v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11084_76)"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#AB381D"}),v.createElement("path",{clipRule:"evenodd",d:"M7 12C7 10.8954 7.89543 10 9 10H19C20.1046 10 21 10.8954 21 12V18C21 19.1046 20.1046 20 19 20H9C7.89543 20 7 19.1046 7 18V12ZM9 12H19V18H9V12ZM25 22C25 23.1046 24.1046 24 23 24H11V22H23V15H25V22Z",fill:"#FFB3A0",fillRule:"evenodd"}),v.createElement("defs",null,v.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11084_76",x1:"0",x2:"0",y1:"0",y2:"40"},v.createElement("stop",{stopColor:"#DC7259"}),v.createElement("stop",{offset:"1",stopColor:"#D14423"})))),jee=({className:e="",size:t=Wa,...n})=>v.createElement("svg",{className:Ue("rfu-file-excel",e),fill:"none",height:t,viewBox:"0 0 34 40",width:t,xmlns:"http://www.w3.org/2000/svg",...n},v.createElement("path",{clipRule:"evenodd",d:"M17.7168 33.172C18.2348 33.172 18.4238 33.655 18.4238 34.18C18.4238 34.642 18.2978 35.195 17.7168 35.195C17.1708 35.195 16.9888 34.642 16.9888 34.145C16.9888 33.683 17.1708 33.172 17.7168 33.172ZM19.5718 31.002H18.3818V32.7589H18.3678C18.1228 32.43 17.7798 32.262 17.3318 32.262C16.3028 32.262 15.7988 33.158 15.7988 34.103C15.7988 35.125 16.2818 36.1049 17.4228 36.1049C17.8428 36.1049 18.1928 35.923 18.4238 35.58H18.4378V36H19.5718V31.002ZM12.7095 34.1872C12.7095 33.7252 12.8775 33.1722 13.4305 33.1722C13.9835 33.1722 14.1585 33.7252 14.1585 34.1872C14.1585 34.6492 13.9835 35.1952 13.4305 35.1952C12.8775 35.1952 12.7095 34.6492 12.7095 34.1872ZM11.5195 34.1872C11.5195 35.2792 12.3035 36.1052 13.4305 36.1052C14.5575 36.1052 15.3485 35.2792 15.3485 34.1872C15.3485 33.0952 14.5575 32.2622 13.4305 32.2622C12.3035 32.2622 11.5195 33.0952 11.5195 34.1872ZM21.839 32.3671H22.574V33.1371H21.839V34.7891C21.839 35.0761 22.007 35.1391 22.266 35.1391C22.3142 35.1391 22.364 35.1357 22.4147 35.1323C22.4672 35.1287 22.5206 35.1251 22.574 35.1251V36.0001C22.481 36.0031 22.388 36.0099 22.295 36.0168C22.171 36.0259 22.047 36.0351 21.923 36.0351C20.908 36.0351 20.649 35.7411 20.649 34.7541V33.1371H20.047V32.3671H20.649V31.2681H21.839V32.3671Z",fill:"white",fillRule:"evenodd"}),v.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#0F9D58"}),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{clipRule:"evenodd",d:"M12 13H7V15H12V13ZM12 17H7V19H12V17ZM7 21H12V23H7V21ZM23 13H14V15H23V13ZM14 17H23V19H14V17ZM23 21H14V23H23V21Z",fill:"#0F9D58",fillRule:"evenodd"})),Uee=({className:e="",size:t=Wa,...n})=>v.createElement("svg",{className:Ue("rfu-file-excel-alt",e),fill:"none",height:t,viewBox:"0 0 34 40",width:t,xmlns:"http://www.w3.org/2000/svg",...n},v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11084_326)"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#0C864B"}),v.createElement("path",{clipRule:"evenodd",d:"M12 13H7V15H12V13ZM12 17H7V19H12V17ZM7 21H12V23H7V21ZM23 13H14V15H23V13ZM14 17H23V19H14V17ZM23 21H14V23H23V21Z",fill:"#A8E7C9",fillRule:"evenodd"}),v.createElement("defs",null,v.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11084_326",x1:"0",x2:"0",y1:"0",y2:"40"},v.createElement("stop",{stopColor:"#64AD8A"}),v.createElement("stop",{offset:"1",stopColor:"#0C864B"})))),Bee=({className:e="",size:t=Wa,...n})=>v.createElement("svg",{className:Ue("rfu-file-archive",e),fill:"none",height:t,viewBox:"0 0 34 40",width:t,xmlns:"http://www.w3.org/2000/svg",...n},v.createElement("path",{clipRule:"evenodd",d:"M17.7168 33.172C18.2348 33.172 18.4238 33.655 18.4238 34.18C18.4238 34.642 18.2978 35.195 17.7168 35.195C17.1708 35.195 16.9888 34.642 16.9888 34.145C16.9888 33.683 17.1708 33.172 17.7168 33.172ZM19.5718 31.002H18.3818V32.7589H18.3678C18.1228 32.43 17.7798 32.262 17.3318 32.262C16.3028 32.262 15.7988 33.158 15.7988 34.103C15.7988 35.125 16.2818 36.1049 17.4228 36.1049C17.8428 36.1049 18.1928 35.923 18.4238 35.58H18.4378V36H19.5718V31.002ZM12.7095 34.1872C12.7095 33.7252 12.8775 33.1722 13.4305 33.1722C13.9835 33.1722 14.1585 33.7252 14.1585 34.1872C14.1585 34.6492 13.9835 35.1952 13.4305 35.1952C12.8775 35.1952 12.7095 34.6492 12.7095 34.1872ZM11.5195 34.1872C11.5195 35.2792 12.3035 36.1052 13.4305 36.1052C14.5575 36.1052 15.3485 35.2792 15.3485 34.1872C15.3485 33.0952 14.5575 32.2622 13.4305 32.2622C12.3035 32.2622 11.5195 33.0952 11.5195 34.1872ZM21.839 32.3671H22.574V33.1371H21.839V34.7891C21.839 35.0761 22.007 35.1391 22.266 35.1391C22.3142 35.1391 22.364 35.1357 22.4147 35.1323C22.4672 35.1287 22.5206 35.1251 22.574 35.1251V36.0001C22.481 36.0031 22.388 36.0099 22.295 36.0168C22.171 36.0259 22.047 36.0351 21.923 36.0351C20.908 36.0351 20.649 35.7411 20.649 34.7541V33.1371H20.047V32.3671H20.649V31.2681H21.839V32.3671Z",fill:"white",fillRule:"evenodd"}),v.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#F8B859"}),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{clipRule:"evenodd",d:"M10 0H8V2H10V4H8V6H10V8H8V10H10V12H8V14H10V12H12V10H10V8H12V6H10V4H12V2H10V0ZM8 17C8 16.4477 8.44771 16 9 16H11C11.5523 16 12 16.4477 12 17V23C12 23.5523 11.5523 24 11 24H9C8.44771 24 8 23.5523 8 23V17ZM9 23V20H11V23H9Z",fill:"#F8B859",fillRule:"evenodd"})),$ee=({className:e="",size:t=Wa,...n})=>v.createElement("svg",{className:Ue("rfu-file-archive-alt",e),fill:"none",height:t,viewBox:"0 0 34 40",width:t,xmlns:"http://www.w3.org/2000/svg",...n},v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11086_246)"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#B67A24"}),v.createElement("path",{clipRule:"evenodd",d:"M10 0H8V2H10V4H8V6H10V8H8V10H10V12H8V14H10V12H12V10H10V8H12V6H10V4H12V2H10V0ZM8 17C8 16.4477 8.44771 16 9 16H11C11.5523 16 12 16.4477 12 17V23C12 23.5523 11.5523 24 11 24H9C8.44771 24 8 23.5523 8 23V17ZM9 23V20H11V23H9Z",fill:"#FFE9C8",fillRule:"evenodd"}),v.createElement("defs",null,v.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11086_246",x1:"0",x2:"0",y1:"0",y2:"40"},v.createElement("stop",{stopColor:"#FFC775"}),v.createElement("stop",{offset:"1",stopColor:"#E69E34"})))),zee=({className:e="",size:t=Wa,...n})=>v.createElement("svg",{className:Ue("rfu-file-code",e),fill:"none",height:t,viewBox:"0 0 34 40",width:t,xmlns:"http://www.w3.org/2000/svg",...n},v.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#00ACA1"}),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{clipRule:"evenodd",d:"M15 21V18.984L11.5 18L15 17V15L9 17V19L15 21ZM19 15V17.016L22.5 18L19 19V21L25 19V17L19 15Z",fill:"#00ACA1",fillRule:"evenodd"})),Hee=({className:e="",size:t=Wa,...n})=>v.createElement("svg",{className:Ue("rfu-file-code-alt",e),fill:"none",height:t,viewBox:"0 0 34 40",width:t,xmlns:"http://www.w3.org/2000/svg",...n},v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11086_611)"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#00ACA1"}),v.createElement("path",{clipRule:"evenodd",d:"M15 21V18.984L11.5 18L15 17V15L9 17V19L15 21ZM19 15V17.016L22.5 18L19 19V21L25 19V17L19 15Z",fill:"#A3DCD8",fillRule:"evenodd"}),v.createElement("defs",null,v.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11086_611",x1:"0",x2:"0",y1:"0",y2:"40"},v.createElement("stop",{stopColor:"#7FC4BD"}),v.createElement("stop",{offset:"1",stopColor:"#00ACA1"})))),Vee=({className:e="",size:t=Wa,...n})=>v.createElement("svg",{className:Ue("rfu-file-audio",e),fill:"none",height:t,viewBox:"0 0 34 40",width:t,xmlns:"http://www.w3.org/2000/svg",...n},v.createElement("path",{clipRule:"evenodd",d:"M17.7168 33.172C18.2348 33.172 18.4238 33.655 18.4238 34.18C18.4238 34.642 18.2978 35.195 17.7168 35.195C17.1708 35.195 16.9888 34.642 16.9888 34.145C16.9888 33.683 17.1708 33.172 17.7168 33.172ZM19.5718 31.002H18.3818V32.7589H18.3678C18.1228 32.43 17.7798 32.262 17.3318 32.262C16.3028 32.262 15.7988 33.158 15.7988 34.103C15.7988 35.125 16.2818 36.1049 17.4228 36.1049C17.8428 36.1049 18.1928 35.923 18.4238 35.58H18.4378V36H19.5718V31.002ZM12.7095 34.1872C12.7095 33.7252 12.8775 33.1722 13.4305 33.1722C13.9835 33.1722 14.1585 33.7252 14.1585 34.1872C14.1585 34.6492 13.9835 35.1952 13.4305 35.1952C12.8775 35.1952 12.7095 34.6492 12.7095 34.1872ZM11.5195 34.1872C11.5195 35.2792 12.3035 36.1052 13.4305 36.1052C14.5575 36.1052 15.3485 35.2792 15.3485 34.1872C15.3485 33.0952 14.5575 32.2622 13.4305 32.2622C12.3035 32.2622 11.5195 33.0952 11.5195 34.1872ZM21.839 32.3671H22.574V33.1371H21.839V34.7891C21.839 35.0761 22.007 35.1391 22.266 35.1391C22.3142 35.1391 22.364 35.1357 22.4147 35.1323C22.4672 35.1287 22.5206 35.1251 22.574 35.1251V36.0001C22.481 36.0031 22.388 36.0099 22.295 36.0168C22.171 36.0259 22.047 36.0351 21.923 36.0351C20.908 36.0351 20.649 35.7411 20.649 34.7541V33.1371H20.047V32.3671H20.649V31.2681H21.839V32.3671Z",fill:"white",fillRule:"evenodd"}),v.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#2727B0"}),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{clipRule:"evenodd",d:"M8.87912 21.941H12.298L16.9521 24.7493C17.0307 24.8138 17.1293 24.849 17.2311 24.849C17.4738 24.8488 17.6705 24.6519 17.6703 24.4092V12.4399C17.6704 12.3381 17.6352 12.2396 17.5707 12.1609C17.4168 11.9732 17.1398 11.9457 16.9521 12.0996L12.298 14.908H8.87912C8.3936 14.908 8 15.3016 8 15.7871V21.0619C8 21.5474 8.3936 21.941 8.87912 21.941ZM12.9258 16.6664L15.9122 15.2224V21.6268L12.9258 20.1829H9.7583V16.6664H12.9258ZM19.8511 16.3517C19.474 16.4092 19.2397 16.6637 19.3283 16.9191L19.3262 16.92C19.5295 17.4995 19.6305 18.098 19.6284 18.6953C19.6305 19.2975 19.5237 19.9014 19.3196 20.4909C19.229 20.7462 19.4682 20.9996 19.8474 21.06C19.9008 21.0683 19.9542 21.072 20.0076 21.072C20.3259 21.072 20.6156 20.9234 20.6922 20.7057C20.9194 20.0451 21.0337 19.37 21.0374 18.6953C21.0349 18.0251 20.9211 17.3575 20.6955 16.7035C20.6053 16.4477 20.229 16.2908 19.8511 16.3517ZM22.1605 14.6028C22.5252 14.5163 22.9259 14.6454 23.055 14.8938C23.6891 16.1157 24 17.4042 24 18.6923C24.0004 19.9895 23.6796 21.2839 23.0521 22.5153C22.9503 22.7123 22.6763 22.8344 22.3828 22.8344C22.3071 22.8344 22.2301 22.8261 22.1543 22.8092C21.7863 22.7251 21.5914 22.4536 21.7185 22.2077C22.2988 21.0761 22.5922 19.8836 22.5931 18.6919C22.5931 17.5056 22.3054 16.3222 21.7276 15.2025C21.6001 14.9563 21.795 14.686 22.1605 14.6028Z",fill:"#2727B0",fillRule:"evenodd"})),qee=({className:e="",size:t=Wa,...n})=>v.createElement("svg",{className:Ue("rfu-file-audio-alt",e),fill:"none",height:t,viewBox:"0 0 34 40",width:t,xmlns:"http://www.w3.org/2000/svg",...n},v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11086_420)"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#1919A5"}),v.createElement("path",{clipRule:"evenodd",d:"M8.87912 21.941H12.298L16.9521 24.7493C17.0307 24.8138 17.1293 24.849 17.2311 24.849C17.4738 24.8488 17.6705 24.6519 17.6703 24.4092V12.4399C17.6704 12.3381 17.6352 12.2396 17.5707 12.1609C17.4168 11.9732 17.1398 11.9457 16.9521 12.0996L12.298 14.908H8.87912C8.3936 14.908 8 15.3016 8 15.7871V21.0619C8 21.5474 8.3936 21.941 8.87912 21.941ZM12.9258 16.6664L15.9122 15.2224V21.6268L12.9258 20.1829H9.7583V16.6664H12.9258ZM19.8511 16.3517C19.474 16.4092 19.2397 16.6637 19.3283 16.9191L19.3262 16.92C19.5295 17.4995 19.6305 18.098 19.6284 18.6953C19.6305 19.2975 19.5237 19.9014 19.3196 20.4909C19.229 20.7462 19.4682 20.9996 19.8474 21.06C19.9008 21.0683 19.9542 21.072 20.0076 21.072C20.3259 21.072 20.6156 20.9234 20.6922 20.7057C20.9194 20.0451 21.0337 19.37 21.0374 18.6953C21.0349 18.0251 20.9211 17.3575 20.6955 16.7035C20.6053 16.4477 20.229 16.2908 19.8511 16.3517ZM22.1605 14.6028C22.5252 14.5163 22.9259 14.6454 23.055 14.8938C23.6891 16.1157 24 17.4042 24 18.6923C24.0004 19.9895 23.6796 21.2839 23.0521 22.5153C22.9503 22.7123 22.6763 22.8344 22.3828 22.8344C22.3071 22.8344 22.2301 22.8261 22.1543 22.8092C21.7863 22.7251 21.5914 22.4536 21.7185 22.2077C22.2988 21.0761 22.5922 19.8836 22.5931 18.6919C22.5931 17.5056 22.3054 16.3222 21.7276 15.2025C21.6001 14.9563 21.795 14.686 22.1605 14.6028Z",fill:"#AAAAFF",fillRule:"evenodd"}),v.createElement("defs",null,v.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11086_420",x1:"0",x2:"0",y1:"0",y2:"40"},v.createElement("stop",{stopColor:"#4A4AB8"}),v.createElement("stop",{offset:"1",stopColor:"#2727B0"})))),Yee=({className:e="",size:t=Wa,...n})=>v.createElement("svg",{className:Ue("rfu-file-video",e),fill:"none",height:t,viewBox:"0 0 34 40",width:t,xmlns:"http://www.w3.org/2000/svg",...n},v.createElement("path",{clipRule:"evenodd",d:"M17.7168 33.172C18.2348 33.172 18.4238 33.655 18.4238 34.18C18.4238 34.642 18.2978 35.195 17.7168 35.195C17.1708 35.195 16.9888 34.642 16.9888 34.145C16.9888 33.683 17.1708 33.172 17.7168 33.172ZM19.5718 31.002H18.3818V32.7589H18.3678C18.1228 32.43 17.7798 32.262 17.3318 32.262C16.3028 32.262 15.7988 33.158 15.7988 34.103C15.7988 35.125 16.2818 36.1049 17.4228 36.1049C17.8428 36.1049 18.1928 35.923 18.4238 35.58H18.4378V36H19.5718V31.002ZM12.7095 34.1872C12.7095 33.7252 12.8775 33.1722 13.4305 33.1722C13.9835 33.1722 14.1585 33.7252 14.1585 34.1872C14.1585 34.6492 13.9835 35.1952 13.4305 35.1952C12.8775 35.1952 12.7095 34.6492 12.7095 34.1872ZM11.5195 34.1872C11.5195 35.2792 12.3035 36.1052 13.4305 36.1052C14.5575 36.1052 15.3485 35.2792 15.3485 34.1872C15.3485 33.0952 14.5575 32.2622 13.4305 32.2622C12.3035 32.2622 11.5195 33.0952 11.5195 34.1872ZM21.839 32.3671H22.574V33.1371H21.839V34.7891C21.839 35.0761 22.007 35.1391 22.266 35.1391C22.3142 35.1391 22.364 35.1357 22.4147 35.1323C22.4672 35.1287 22.5206 35.1251 22.574 35.1251V36.0001C22.481 36.0031 22.388 36.0099 22.295 36.0168C22.171 36.0259 22.047 36.0351 21.923 36.0351C20.908 36.0351 20.649 35.7411 20.649 34.7541V33.1371H20.047V32.3671H20.649V31.2681H21.839V32.3671Z",fill:"white",fillRule:"evenodd"}),v.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#9D27B0"}),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{d:"M9 17H25V24H9V17ZM27 14C27 12.8954 26.1046 12 25 12H22L24 15H21L19 12H17L19 15H16L14 12H12L14 15H11L9 12C7.9 12 7.01 12.9 7.01 14L7 24C7 25.1 7.9 26 9 26H25C26.1 26 27 25.1 27 24V14Z",fill:"#9D27B0"})),Wee=({className:e="",size:t=Wa,...n})=>v.createElement("svg",{className:Ue("rfu-file-video-alt",e),fill:"none",height:t,viewBox:"0 0 34 40",width:t,xmlns:"http://www.w3.org/2000/svg",...n},v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_18604_164254)"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#7A1589"}),v.createElement("path",{d:"M9 17H25V24H9V17ZM27 14C27 12.8954 26.1046 12 25 12H22L24 15H21L19 12H17L19 15H16L14 12H12L14 15H11L9 12C7.9 12 7.01 12.9 7.01 14L7 24C7 25.1 7.9 26 9 26H25C26.1 26 27 25.1 27 24V14Z",fill:"#F3A8FF"}),v.createElement("defs",null,v.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_18604_164254",x1:"0",x2:"0",y1:"0",y2:"40"},v.createElement("stop",{stopColor:"#A94AB8"}),v.createElement("stop",{offset:"1",stopColor:"#9D27B0"})))),Wg=({className:e="",size:t=Wa,...n})=>v.createElement("svg",{className:Ue("rfu-file-fallback ",e),fill:"none",height:t,viewBox:"0 0 34 40",width:t,xmlns:"http://www.w3.org/2000/svg",...n},v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear)"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{clipRule:"evenodd",d:"M8 13H23V15H8V13Z",fill:"#CFCFCF",fillRule:"evenodd"}),v.createElement("path",{clipRule:"evenodd",d:"M8 17H18V19H8V17Z",fill:"#CFCFCF",fillRule:"evenodd"}),v.createElement("path",{clipRule:"evenodd",d:"M8 21H23V23H8V21Z",fill:"#CFCFCF",fillRule:"evenodd"}),v.createElement("defs",null,v.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear",x1:"0",x2:"0",y1:"0",y2:"40"},v.createElement("stop",{stopColor:"white"}),v.createElement("stop",{offset:"1",stopColor:"#DBDBDB"})))),cA=({className:e="",size:t=Wa,...n})=>v.createElement("svg",{className:Ue("rfu-file-image",e),height:t,viewBox:"0 0 384 512",width:t,xmlns:"http://www.w3.org/2000/svg",...n},v.createElement("path",{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",fill:"#414D54"})),Gee=["application/msword","application/msword-template","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-flat-xml"],Kee=["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.spreadsheet-flat-xml"],Qee=["application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.template.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12","application/vnd.oasis.opendocument.presentation","application/vnd.oasis.opendocument.presentation-template","application/vnd.oasis.opendocument.presentation-flat-xml"],Zee=["application/zip","application/x-7z-compressed","application/x-archive","application/x-tar","application/gzip","application/x-compress","application/x-bzip","application/x-lzip","application/x-lz4","application/x-lzma","application/x-lzop","application/x-xz","application/x-webarchive","application/vnd.rar"],Xee=["text/html","text/css","application/x-javascript","text/javascript","application/json","text/x-python","text/x-go","text/x-csrc","text/x-c++src","application/x-ruby","text/rust","text/x-java","application/x-php","text/x-csharp","text/x-scala","text/x-erlang","application/x-shellscript"];function uA({FileArchiveIcon:e,FileCodeIcon:t,FileExcelIcon:n,FilePdfIcon:r,FilePowerPointIcon:a,FileWordIcon:i}){const s={"application/pdf":r};for(const o of Gee)s[o]=i;for(const o of Kee)s[o]=n;for(const o of Qee)s[o]=a;for(const o of Zee)s[o]=e;for(const o of Xee)s[o]=t;return s}function dA({FileAltIcon:e,FileAudioIcon:t,FileImageIcon:n,FileVideoIcon:r}){return{"audio/":t,"image/":n,"text/":e,"video/":r}}const fA={alt:{...uA({FileArchiveIcon:$ee,FileCodeIcon:Hee,FileExcelIcon:Uee,FilePdfIcon:lA,FilePowerPointIcon:Fee,FileWordIcon:Pee}),...dA({FileAltIcon:Wg,FileAudioIcon:qee,FileImageIcon:cA,FileVideoIcon:Wee}),fallback:Wg},standard:{...uA({FileArchiveIcon:Bee,FileCodeIcon:zee,FileExcelIcon:jee,FilePdfIcon:lA,FilePowerPointIcon:Iee,FileWordIcon:Nee}),...dA({FileAltIcon:Wg,FileAudioIcon:Vee,FileImageIcon:cA,FileVideoIcon:Yee}),fallback:Wg}};function Jee(e="standard",t){const n=fA[e]||fA.standard;if(!t)return n.fallback;const r=n[t];return r||(t.startsWith("audio/")?n["audio/"]:t.startsWith("video/")?n["video/"]:t.startsWith("image/")?n["image/"]:t.startsWith("text/")?n["text/"]:n.fallback)}const Nu=e=>{const{big:t=!1,mimeType:n,size:r=50,sizeSmall:a=20,type:i="standard",...s}=e,o=Jee(i,n);return v.createElement(o,{...s,size:t?r:a})},ete=(e=!1,t)=>E.useCallback(({currentTarget:n})=>{const{files:r}=n;if(r){try{t==null||t(Array.from(r))}catch(a){console.error(a)}e&&(n.value="")}},[t,e]);async function tte(e){if(!e||!e.length)return[];const t=nte(e);if(t.length)return t;const n=[];for(const r of e)r.type==="text/html"&&n.push(new Promise(a=>{r.getAsString(async i=>{const s=ate(i).map(o=>rte(t,o));await Promise.all(s),a()})}));return await Promise.all(n),t}function nte(e){const t=[];for(const n of e)if(n.kind==="file"){const r=n.getAsFile();r&&t.push(r)}return t}async function rte(e,t){let n;try{n=await fetch(t)}catch{return}const r=n.headers.get("Content-type")||"application/octet-stream",a=await n.arrayBuffer(),i=new Blob([a],{type:r});e.push(i)}const ate=e=>{const t=new DOMParser().parseFromString(e,"text/html").getElementsByTagName("img");return Array.from(t,n=>n.src).filter(n=>n)},U5=({blobsArray:e,fileName:t,mimeType:n})=>{const r=new Blob(e,{type:n});return new File([r],t,{type:r.type})},B5=e=>{const t=e.match(/\/([^/;]+)/);return t&&t[1]},ite=e=>{const t=e.match(/^(audio|video)\/.*$/);return t&&t[1]},ste=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=()=>{n(r.error)},r.readAsArrayBuffer(e)}),cm=({size:e=20})=>{const t=E.useMemo(()=>El(),[]);return v.createElement("div",{className:"str-chat__loading-indicator"},v.createElement("svg",{"data-testid":"loading-indicator",height:e,viewBox:"0 0 30 30",width:e,xmlns:"http://www.w3.org/2000/svg"},v.createElement("defs",null,v.createElement("linearGradient",{id:`${t}-linear-gradient`,x1:"50%",x2:"50%",y1:"0%",y2:"100%"},v.createElement("stop",{offset:"0%",stopColor:"#FFF",stopOpacity:"0"}),v.createElement("stop",{"data-testid":"stop-color",offset:"100%",stopOpacity:"1"}))),v.createElement("path",{d:"M2.518 23.321l1.664-1.11A12.988 12.988 0 0 0 15 28c7.18 0 13-5.82 13-13S22.18 2 15 2V0c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-5.206 0-9.792-2.652-12.482-6.679z",fill:`url(#${t}-linear-gradient)`,fillRule:"evenodd"})))},ote=()=>{const{t:e}=Ge("UploadIcon");return v.createElement("svg",{"data-testid":"attach-icon",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("title",null,e("Attach files")),v.createElement("g",{clipPath:"url(#clip0_10878_5)"},v.createElement("path",{d:"M12.9997 6.99993L10.9997 6.99993L10.9997 10.9999L6.99972 10.9999L6.99972 12.9999L10.9997 12.9999L10.9997 16.9999L12.9997 16.9999L12.9997 12.9999L16.9997 12.9999L16.9997 10.9999L12.9997 10.9999L12.9997 6.99993ZM11.9997 1.99992C6.47972 1.99992 1.99972 6.47993 1.99972 11.9999C1.99972 17.5199 6.47972 21.9999 11.9997 21.9999C17.5197 21.9999 21.9997 17.5199 21.9997 11.9999C21.9997 6.47993 17.5197 1.99992 11.9997 1.99992ZM11.9997 19.9999C7.58972 19.9999 3.99972 16.4099 3.99972 11.9999C3.99972 7.58993 7.58972 3.99993 11.9997 3.99993C16.4097 3.99993 19.9997 7.58993 19.9997 11.9999C19.9997 16.4099 16.4097 19.9999 11.9997 19.9999Z",fill:"black"})),v.createElement("defs",null,v.createElement("clipPath",{id:"clip0_10878_5"},v.createElement("rect",{fill:"white",height:"24",width:"24"}))))},wf=()=>v.createElement("svg",{"data-testid":"close-no-outline",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"black"})),C1=()=>v.createElement("svg",{"data-testid":"retry",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M17.6449 6.35C16.1949 4.9 14.2049 4 11.9949 4C7.57488 4 4.00488 7.58 4.00488 12C4.00488 16.42 7.57488 20 11.9949 20C15.7249 20 18.8349 17.45 19.7249 14H17.6449C16.8249 16.33 14.6049 18 11.9949 18C8.68488 18 5.99488 15.31 5.99488 12C5.99488 8.69 8.68488 6 11.9949 6C13.6549 6 15.1349 6.69 16.2149 7.78L12.9949 11H19.9949V4L17.6449 6.35Z",fill:"black"})),$5=()=>v.createElement("svg",{"data-testid":"download",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4C9.11 4 6.6 5.64 5.35 8.04C2.34 8.36 0 10.91 0 14C0 17.31 2.69 20 6 20H19C21.76 20 24 17.76 24 15C24 12.36 21.95 10.22 19.35 10.04ZM19 18H6C3.79 18 2 16.21 2 14C2 11.95 3.53 10.24 5.56 10.03L6.63 9.92L7.13 8.97C8.08 7.14 9.94 6 12 6C14.62 6 16.88 7.86 17.39 10.43L17.69 11.93L19.22 12.04C20.78 12.14 22 13.45 22 15C22 16.65 20.65 18 19 18ZM13.45 10H10.55V13H8L12 17L16 13H13.45V10Z",fill:"black"})),lte=()=>v.createElement("svg",{fill:"none",height:"11",viewBox:"0 0 20 11",width:"20",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{clipRule:"evenodd",d:"M1.9 5.5C1.9 3.79 3.29 2.4 5 2.4H8.05C8.57467 2.4 9 1.97467 9 1.45C9 0.925329 8.57467 0.5 8.05 0.5H5C2.24 0.5 0 2.74 0 5.5C0 8.26 2.24 10.5 5 10.5H8.05C8.57467 10.5 9 10.0747 9 9.55C9 9.02533 8.57467 8.6 8.05 8.6H5C3.29 8.6 1.9 7.21 1.9 5.5ZM6 5.5C6 6.05228 6.44772 6.5 7 6.5H13C13.5523 6.5 14 6.05228 14 5.5C14 4.94772 13.5523 4.5 13 4.5H7C6.44772 4.5 6 4.94772 6 5.5ZM15 0.5H11.95C11.4253 0.5 11 0.925329 11 1.45C11 1.97467 11.4253 2.4 11.95 2.4H15C16.71 2.4 18.1 3.79 18.1 5.5C18.1 7.21 16.71 8.6 15 8.6H11.95C11.4253 8.6 11 9.02533 11 9.55C11 10.0747 11.4253 10.5 11.95 10.5H15C17.76 10.5 20 8.26 20 5.5C20 2.74 17.76 0.5 15 0.5Z",fill:"#005DFF",fillRule:"evenodd"})),z5=()=>{const{t:e}=Ge("SendButton");return v.createElement("svg",{"data-testid":"send",fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("title",null,e("Send")),v.createElement("path",{d:"M4.00952 22L24 12L4.00952 2L4 9.77778L18.2857 12L4 14.2222L4.00952 22Z"}))},H5=()=>v.createElement("svg",{fill:"currentColor",viewBox:"0 0 14 20",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M7 12.5C8.66 12.5 10 11.16 10 9.5V3.5C10 1.84 8.66 0.5 7 0.5C5.34 0.5 4 1.84 4 3.5V9.5C4 11.16 5.34 12.5 7 12.5Z"}),v.createElement("path",{d:"M12 9.5C12 12.26 9.76 14.5 7 14.5C4.24 14.5 2 12.26 2 9.5H0C0 13.03 2.61 15.93 6 16.42V19.5H8V16.42C11.39 15.93 14 13.03 14 9.5H12Z"})),cte=()=>v.createElement("svg",{fill:"currentColor",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M8.00033 25.3333C8.00033 26.8 9.20033 28 10.667 28H21.3337C22.8003 28 24.0003 26.8 24.0003 25.3333V12C24.0003 10.5333 22.8003 9.33333 21.3337 9.33333H10.667C9.20033 9.33333 8.00033 10.5333 8.00033 12V25.3333ZM24.0003 5.33333H20.667L19.7203 4.38667C19.4803 4.14667 19.1337 4 18.787 4H13.2137C12.867 4 12.5203 4.14667 12.2803 4.38667L11.3337 5.33333H8.00033C7.26699 5.33333 6.66699 5.93333 6.66699 6.66667C6.66699 7.4 7.26699 8 8.00033 8H24.0003C24.7337 8 25.3337 7.4 25.3337 6.66667C25.3337 5.93333 24.7337 5.33333 24.0003 5.33333Z"})),V5=()=>v.createElement("svg",{"data-testid":"str-chat__pause-icon",fill:"currentColor",viewBox:"0 0 16 20",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M0 19.3333H5.33333V0.666626H0V19.3333ZM10.6667 0.666626V19.3333H16V0.666626H10.6667Z"})),ute=()=>v.createElement("svg",{"data-testid":"str-chat__play-icon",fill:"currentColor",viewBox:"0 0 14 18",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M0.236328 2.09338V15.9067C0.236328 16.9601 1.39633 17.6001 2.28966 17.0267L13.143 10.1201C13.9697 9.60005 13.9697 8.40005 13.143 7.86672L2.28966 0.973385C1.39633 0.400051 0.236328 1.04005 0.236328 2.09338Z"})),dte=()=>v.createElement("svg",{fill:"currentColor",viewBox:"0 0 18 14",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M5.79457 10.875L2.32457 7.40502C1.93457 7.01502 1.30457 7.01502 0.91457 7.40502C0.52457 7.79502 0.52457 8.42502 0.91457 8.81502L5.09457 12.995C5.48457 13.385 6.11457 13.385 6.50457 12.995L17.0846 2.41502C17.4746 2.02502 17.4746 1.39502 17.0846 1.00502C16.6946 0.615024 16.0646 0.615024 15.6746 1.00502L5.79457 10.875Z"})),fte=E.createContext(void 0),um=()=>E.useContext(fte);var D1=0,Mc=1,xf=2,q5=4;function Op(e,t){return function(n){return e(t(n))}}function hte(e,t){return t(e)}function Y5(e,t){return function(n){return e(t,n)}}function hA(e,t){return function(){return e(t)}}function S1(e,t){return t(e),e}function Ur(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}function pte(e){e()}function pA(e){return function(){return e}}function mte(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){t.map(pte)}}function Pu(){}function Jn(e,t){return e(Mc,t)}function rr(e,t){e(D1,t)}function AS(e){e(xf)}function Ao(e){return e(q5)}function qt(e,t){return Jn(e,Y5(t,D1))}function Su(e,t){var n=e(Mc,function(r){n(),t(r)});return n}function Zt(){var e=[];return function(t,n){switch(t){case xf:e.splice(0,e.length);return;case Mc:return e.push(n),function(){var r=e.indexOf(n);r>-1&&e.splice(r,1)};case D1:e.slice().forEach(function(r){r(n)});return;default:throw new Error("unrecognized action "+t)}}}function gt(e){var t=e,n=Zt();return function(r,a){switch(r){case Mc:var i=a;i(t);break;case D1:t=a;break;case q5:return t}return n(r,a)}}function gte(e){var t,n,r=function(){return t&&t()};return function(a,i){switch(a){case Mc:return i?n===i?void 0:(r(),n=i,t=Jn(e,i),t):(r(),Pu);case xf:r(),n=null;return;default:throw new Error("unrecognized action "+a)}}}function rs(e){return S1(Zt(),function(t){return qt(e,t)})}function Ei(e,t){return S1(gt(t),function(n){return qt(e,n)})}function yte(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(hte,r)}}function tt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=yte.apply(void 0,n);return function(i,s){switch(i){case Mc:return Jn(e,a(s));case xf:AS(e);return;default:throw new Error("unrecognized action "+i)}}}function W5(e,t){return e===t}function Gr(e){e===void 0&&(e=W5);var t;return function(n){return function(r){e(t,r)||(t=r,n(r))}}}function Rn(e){return function(t){return function(n){e(n)&&t(n)}}}function Dt(e){return function(t){return Op(t,e)}}function dc(e){return function(t){return function(){return t(e)}}}function pl(e,t){return function(n){return function(r){return n(t=e(t,r))}}}function x0(e){return function(t){return function(n){e>0?e--:t(n)}}}function Ld(e){var t,n;return function(r){return function(a){t=a,!n&&(n=setTimeout(function(){n=void 0,r(t)},e))}}}function mA(e){var t,n;return function(r){return function(a){t=a,n&&clearTimeout(n),n=setTimeout(function(){r(t)},e)}}}function Un(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Array(t.length),a=0,i=null,s=Math.pow(2,t.length)-1;return t.forEach(function(o,c){var d=Math.pow(2,c);Jn(o,function(f){var h=a;a=a|d,r[c]=f,h!==s&&a===s&&i&&(i(),i=null)})}),function(o){return function(c){var d=function(){return o([c].concat(r))};a===s?d():i=d}}}function gA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r,a){switch(r){case Mc:return mte.apply(void 0,t.map(function(i){return Jn(i,a)}));case xf:return;default:throw new Error("unrecognized action "+r)}}}function jn(e,t){return t===void 0&&(t=W5),tt(e,Gr(t))}function li(){for(var e=Zt(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=new Array(n.length),i=0,s=Math.pow(2,n.length)-1;return n.forEach(function(o,c){var d=Math.pow(2,c);Jn(o,function(f){a[c]=f,i=i|d,i===s&&rr(e,a)})}),function(o,c){switch(o){case Mc:return i===s&&c(a),Jn(e,c);case xf:return AS(e);default:throw new Error("unrecognized action "+o)}}}function ir(e,t,n){t===void 0&&(t=[]);var r=n===void 0?{singleton:!0}:n,a=r.singleton;return{id:vte(),constructor:e,dependencies:t,singleton:a}}var vte=function(){return Symbol()};function bte(e){var t=new Map,n=function r(a){var i=a.id,s=a.constructor,o=a.dependencies,c=a.singleton;if(c&&t.has(i))return t.get(i);var d=s(o.map(function(f){return r(f)}));return c&&t.set(i,d),d};return n(e)}function _te(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function wte(e,t){if(e){if(typeof e=="string")return yA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yA(e,t)}}function yA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ox(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=wte(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xte=["children"];function Cte(e,t){for(var n={},r={},a=0,i=e.length;a<i;)r[e[a]]=1,a+=1;for(var s in t)r.hasOwnProperty(s)||(n[s]=t[s]);return n}var Gg=typeof document<"u"?E.useLayoutEffect:E.useEffect;function OS(e,t,n){var r=Object.keys(t.required||{}),a=Object.keys(t.optional||{}),i=Object.keys(t.methods||{}),s=Object.keys(t.events||{}),o=E.createContext({});function c(_,w){_.propsReady&&rr(_.propsReady,!1);for(var x=ox(r),k;!(k=x()).done;){var R=k.value,I=_[t.required[R]];rr(I,w[R])}for(var O=ox(a),A;!(A=O()).done;){var L=A.value;if(L in w){var C=_[t.optional[L]];rr(C,w[L])}}_.propsReady&&rr(_.propsReady,!0)}function d(_){return i.reduce(function(w,x){return w[x]=function(k){var R=_[t.methods[x]];rr(R,k)},w},{})}function f(_){return s.reduce(function(w,x){return w[x]=gte(_[t.events[x]]),w},{})}var h=E.forwardRef(function(_,w){var x=_.children,k=_te(_,xte),R=E.useState(function(){return S1(bte(e),function(L){return c(L,k)})}),I=R[0],O=E.useState(hA(f,I)),A=O[0];return Gg(function(){for(var L=ox(s),C;!(C=L()).done;){var T=C.value;T in k&&Jn(A[T],k[T])}return function(){Object.values(A).map(AS)}},[k,A,I]),Gg(function(){c(I,k)}),E.useImperativeHandle(w,pA(d(I))),E.createElement(o.Provider,{value:I},n?E.createElement(n,Cte([].concat(r,a,s),k),x):x)}),m=function(w){return E.useCallback(Y5(rr,E.useContext(o)[w]),[w])},g=function(w){var x=E.useContext(o),k=x[w],R=E.useState(hA(Ao,k)),I=R[0],O=R[1];return Gg(function(){return Jn(k,function(A){A!==I&&O(pA(A))})},[k,I]),I},b=function(w,x){var k=E.useContext(o),R=k[w];Gg(function(){return Jn(R,x)},[x,R])};return{Component:h,usePublisher:m,useEmitterValue:g,useEmitter:b}}function an(){return an=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},an.apply(this,arguments)}function Cf(e,t){if(e==null)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(a[n]=e[n]);return a}function vA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eu(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(a,i){if(a){if(typeof a=="string")return vA(a,i);var s=Object.prototype.toString.call(a).slice(8,-1);return s==="Object"&&a.constructor&&(s=a.constructor.name),s==="Map"||s==="Set"?Array.from(a):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?vA(a,i):void 0}}(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Lh,xa,Dte=typeof document<"u"?E.useLayoutEffect:E.useEffect;(function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"})(xa||(xa={}));var Ste=((Lh={})[xa.DEBUG]="debug",Lh[xa.INFO]="log",Lh[xa.WARN]="warn",Lh[xa.ERROR]="error",Lh),Tc=ir(function(){var e=gt(xa.ERROR);return{log:gt(function(t,n,r){var a;r===void 0&&(r=xa.INFO),r>=((a=(typeof globalThis>"u"?window:globalThis).VIRTUOSO_LOG_LEVEL)!=null?a:Ao(e))&&console[Ste[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)}),logLevel:e}},[],{singleton:!0});function LS(e,t){t===void 0&&(t=!0);var n=E.useRef(null),r=function(i){};if(typeof ResizeObserver<"u"){var a=new ResizeObserver(function(i){var s=i[0].target;s.offsetParent!==null&&e(s)});r=function(i){i&&t?(a.observe(i),n.current=i):(n.current&&a.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:r}}function Sc(e,t){return t===void 0&&(t=!0),LS(e,t).callbackRef}function G5(e,t,n,r,a,i,s){return LS(function(o){for(var c=function(b,_,w,x){var k=b.length;if(k===0)return null;for(var R=[],I=0;I<k;I++){var O=b.item(I);if(O&&O.dataset.index!==void 0){var A=parseInt(O.dataset.index),L=parseFloat(O.dataset.knownSize),C=_(O,"offsetHeight");if(C===0&&x("Zero-sized element, this should not happen",{child:O},xa.ERROR),C!==L){var T=R[R.length-1];R.length===0||T.size!==C||T.endIndex!==A-1?R.push({startIndex:A,endIndex:A,size:C}):R[R.length-1].endIndex++}}}return R}(o.children,t,0,a),d=o.parentElement;!d.dataset.virtuosoScroller;)d=d.parentElement;var f=d.firstElementChild.dataset.viewportType==="window",h=s?s.scrollTop:f?window.pageYOffset||document.documentElement.scrollTop:d.scrollTop,m=s?s.scrollHeight:f?document.documentElement.scrollHeight:d.scrollHeight,g=s?s.offsetHeight:f?window.innerHeight:d.offsetHeight;r({scrollTop:Math.max(h,0),scrollHeight:m,viewportHeight:g}),i==null||i(function(b,_,w){return _==="normal"||_!=null&&_.endsWith("px")||w("row-gap was not resolved to pixel value correctly",_,xa.WARN),_==="normal"?0:parseInt(_??"0",10)}(0,getComputedStyle(o).rowGap,a)),c!==null&&e(c)},n)}function Tl(e,t){return Math.round(e.getBoundingClientRect()[t])}function K5(e,t){return Math.abs(e-t)<1.01}function Q5(e,t,n,r,a){r===void 0&&(r=Pu);var i=E.useRef(null),s=E.useRef(null),o=E.useRef(null),c=E.useRef(!1),d=E.useCallback(function(f){var h=f.target,m=h===window||h===document,g=m?window.pageYOffset||document.documentElement.scrollTop:h.scrollTop,b=m?document.documentElement.scrollHeight:h.scrollHeight,_=m?window.innerHeight:h.offsetHeight,w=function(){e({scrollTop:Math.max(g,0),scrollHeight:b,viewportHeight:_})};c.current?Gp.flushSync(w):w(),c.current=!1,s.current!==null&&(g===s.current||g<=0||g===b-_)&&(s.current=null,t(!0),o.current&&(clearTimeout(o.current),o.current=null))},[e,t]);return E.useEffect(function(){var f=a||i.current;return r(a||i.current),d({target:f}),f.addEventListener("scroll",d,{passive:!0}),function(){r(null),f.removeEventListener("scroll",d)}},[i,d,n,r,a]),{scrollerRef:i,scrollByCallback:function(f){c.current=!0,i.current.scrollBy(f)},scrollToCallback:function(f){var h=i.current;if(h&&(!("offsetHeight"in h)||h.offsetHeight!==0)){var m,g,b,_=f.behavior==="smooth";if(h===window?(g=Math.max(Tl(document.documentElement,"height"),document.documentElement.scrollHeight),m=window.innerHeight,b=document.documentElement.scrollTop):(g=h.scrollHeight,m=Tl(h,"height"),b=h.scrollTop),f.top=Math.ceil(Math.max(Math.min(g-m,f.top),0)),K5(m,g)||f.top===b)return e({scrollTop:b,scrollHeight:g,viewportHeight:m}),void(_&&t(!0));_?(s.current=f.top,o.current&&clearTimeout(o.current),o.current=setTimeout(function(){o.current=null,s.current=null,t(!0)},1e3)):s.current=null,h.scrollTo(f)}}}}var $i=ir(function(){var e=Zt(),t=Zt(),n=gt(0),r=Zt(),a=gt(0),i=Zt(),s=Zt(),o=gt(0),c=gt(0),d=gt(0),f=gt(0),h=Zt(),m=Zt(),g=gt(!1),b=gt(!1);return qt(tt(e,Dt(function(_){return _.scrollTop})),t),qt(tt(e,Dt(function(_){return _.scrollHeight})),s),qt(t,a),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:o,fixedHeaderHeight:c,fixedFooterHeight:d,footerHeight:f,scrollHeight:s,smoothScrollTargetReached:r,react18ConcurrentRendering:b,scrollTo:h,scrollBy:m,statefulScrollTop:a,deviation:n,scrollingInProgress:g}},[],{singleton:!0}),Lp={lvl:0};function Z5(e,t,n,r,a){return r===void 0&&(r=Lp),a===void 0&&(a=Lp),{k:e,v:t,lvl:n,l:r,r:a}}function Ar(e){return e===Lp}function Wh(){return Lp}function BC(e,t){if(Ar(e))return Lp;var n=e.k,r=e.l,a=e.r;if(t===n){if(Ar(r))return a;if(Ar(a))return r;var i=X5(r);return zC(qa(e,{k:i[0],v:i[1],l:J5(r)}))}return zC(qa(e,t<n?{l:BC(r,t)}:{r:BC(a,t)}))}function No(e,t,n){if(n===void 0&&(n="k"),Ar(e))return[-1/0,void 0];if(e[n]===t)return[e.k,e.v];if(e[n]<t){var r=No(e.r,t,n);return r[0]===-1/0?[e.k,e.v]:r}return No(e.l,t,n)}function Co(e,t,n){return Ar(e)?Z5(t,n,1):t===e.k?qa(e,{k:t,v:n}):function(r){return HC(t6(r))}(qa(e,t<e.k?{l:Co(e.l,t,n)}:{r:Co(e.r,t,n)}))}function $C(e,t,n){if(Ar(e))return[];var r=e.k,a=e.v,i=e.r,s=[];return r>t&&(s=s.concat($C(e.l,t,n))),r>=t&&r<=n&&s.push({k:r,v:a}),r<=n&&(s=s.concat($C(i,t,n))),s}function C0(e){return Ar(e)?[]:[].concat(C0(e.l),[{k:e.k,v:e.v}],C0(e.r))}function X5(e){return Ar(e.r)?[e.k,e.v]:X5(e.r)}function J5(e){return Ar(e.r)?e.l:zC(qa(e,{r:J5(e.r)}))}function qa(e,t){return Z5(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function lx(e){return Ar(e)||e.lvl>e.r.lvl}function zC(e){var t=e.l,n=e.r,r=e.lvl;if(n.lvl>=r-1&&t.lvl>=r-1)return e;if(r>n.lvl+1){if(lx(t))return t6(qa(e,{lvl:r-1}));if(Ar(t)||Ar(t.r))throw new Error("Unexpected empty nodes");return qa(t.r,{l:qa(t,{r:t.r.l}),r:qa(e,{l:t.r.r,lvl:r-1}),lvl:r})}if(lx(e))return HC(qa(e,{lvl:r-1}));if(Ar(n)||Ar(n.l))throw new Error("Unexpected empty nodes");var a=n.l,i=lx(a)?n.lvl-1:n.lvl;return qa(a,{l:qa(e,{r:a.l,lvl:r-1}),r:HC(qa(n,{l:a.r,lvl:i})),lvl:a.lvl+1})}function E1(e,t,n){return Ar(e)?[]:e6($C(e,No(e,t)[0],n),function(r){return{index:r.k,value:r.v}})}function e6(e,t){var n=e.length;if(n===0)return[];for(var r=t(e[0]),a=r.index,i=r.value,s=[],o=1;o<n;o++){var c=t(e[o]),d=c.index,f=c.value;s.push({start:a,end:d-1,value:i}),a=d,i=f}return s.push({start:a,end:1/0,value:i}),s}function HC(e){var t=e.r,n=e.lvl;return Ar(t)||Ar(t.r)||t.lvl!==n||t.r.lvl!==n?e:qa(t,{l:qa(e,{r:t.l}),lvl:n+1})}function t6(e){var t=e.l;return Ar(t)||t.lvl!==e.lvl?e:qa(t,{r:qa(e,{l:t.r})})}function D0(e,t,n,r){r===void 0&&(r=0);for(var a=e.length-1;r<=a;){var i=Math.floor((r+a)/2),s=n(e[i],t);if(s===0)return i;if(s===-1){if(a-r<2)return i-1;a=i-1}else{if(a===r)return i;r=i+1}}throw new Error("Failed binary finding record in array - "+e.join(",")+", searched for "+t)}function n6(e,t,n){return e[D0(e,t,n)]}var NS=ir(function(){return{recalcInProgress:gt(!1)}},[],{singleton:!0});function Ete(e){var t=e.size,n=e.startIndex,r=e.endIndex;return function(a){return a.start===n&&(a.end===r||a.end===1/0)&&a.value===t}}function PS(e,t){var n=e.index;return t===n?0:t<n?-1:1}function Mte(e,t){var n=e.offset;return t===n?0:t<n?-1:1}function Tte(e){return{index:e.index,value:e}}function r6(e,t,n,r){var a=e,i=0,s=0,o=0,c=0;if(t!==0){o=a[c=D0(a,t-1,PS)].offset;var d=No(n,t-1);i=d[0],s=d[1],a.length&&a[c].size===No(n,t)[1]&&(c-=1),a=a.slice(0,c+1)}else a=[];for(var f,h=Eu(E1(n,t,1/0));!(f=h()).done;){var m=f.value,g=m.start,b=m.value,_=g-i,w=_*s+o+_*r;a.push({offset:w,size:b,index:g}),i=g,o=w,s=b}return{offsetTree:a,lastIndex:i,lastOffset:o,lastSize:s}}function kte(e,t){var n=t[0],r=t[1],a=t[3];n.length>0&&(0,t[2])("received item sizes",n,xa.DEBUG);var i=e.sizeTree,s=i,o=0;if(r.length>0&&Ar(i)&&n.length===2){var c=n[0].size,d=n[1].size;s=r.reduce(function(g,b){return Co(Co(g,b,c),b+1,d)},s)}else{var f=function(g,b){for(var _,w=Ar(g)?0:1/0,x=Eu(b);!(_=x()).done;){var k=_.value,R=k.size,I=k.startIndex,O=k.endIndex;if(w=Math.min(w,I),Ar(g))g=Co(g,0,R);else{var A=E1(g,I-1,O+1);if(!A.some(Ete(k))){for(var L,C=!1,T=!1,S=Eu(A);!(L=S()).done;){var j=L.value,B=j.start,H=j.end,U=j.value;C?(O>=B||R===U)&&(g=BC(g,B)):(T=U!==R,C=!0),H>O&&O>=B&&U!==R&&(g=Co(g,O+1,U))}T&&(g=Co(g,I,R))}}}return[g,w]}(s,n);s=f[0],o=f[1]}if(s===i)return e;var h=r6(e.offsetTree,o,s,a),m=h.offsetTree;return{sizeTree:s,offsetTree:m,lastIndex:h.lastIndex,lastOffset:h.lastOffset,lastSize:h.lastSize,groupOffsetTree:r.reduce(function(g,b){return Co(g,b,Np(b,m,a))},Wh()),groupIndices:r}}function Np(e,t,n){if(t.length===0)return 0;var r=n6(t,e,PS),a=e-r.index,i=r.size*a+(a-1)*n+r.offset;return i>0?i+n:i}function a6(e,t,n){if(function(a){return a.groupIndex!==void 0}(e))return t.groupIndices[e.groupIndex]+1;var r=i6(e.index==="LAST"?n:e.index,t);return Math.max(0,r,Math.min(n,r))}function i6(e,t){if(!M1(t))return e;for(var n=0;t.groupIndices[n]<=e+n;)n++;return e+n}function M1(e){return!Ar(e.groupOffsetTree)}var Rte={offsetHeight:"height",offsetWidth:"width"},Ol=ir(function(e){var t=e[0].log,n=e[1].recalcInProgress,r=Zt(),a=Zt(),i=Ei(a,0),s=Zt(),o=Zt(),c=gt(0),d=gt([]),f=gt(void 0),h=gt(void 0),m=gt(function(O,A){return Tl(O,Rte[A])}),g=gt(void 0),b=gt(0),_={offsetTree:[],sizeTree:Wh(),groupOffsetTree:Wh(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},w=Ei(tt(r,Un(d,t,b),pl(kte,_),Gr()),_);qt(tt(d,Rn(function(O){return O.length>0}),Un(w,b),Dt(function(O){var A=O[0],L=O[1],C=O[2],T=A.reduce(function(S,j,B){return Co(S,j,Np(j,L.offsetTree,C)||B)},Wh());return an({},L,{groupIndices:A,groupOffsetTree:T})})),w),qt(tt(a,Un(w),Rn(function(O){return O[0]<O[1].lastIndex}),Dt(function(O){var A=O[1];return[{startIndex:O[0],endIndex:A.lastIndex,size:A.lastSize}]})),r),qt(f,h);var x=Ei(tt(f,Dt(function(O){return O===void 0})),!0);qt(tt(h,Rn(function(O){return O!==void 0&&Ar(Ao(w).sizeTree)}),Dt(function(O){return[{startIndex:0,endIndex:0,size:O}]})),r);var k=rs(tt(r,Un(w),pl(function(O,A){var L=A[1];return{changed:L!==O.sizes,sizes:L}},{changed:!1,sizes:_}),Dt(function(O){return O.changed})));Jn(tt(c,pl(function(O,A){return{diff:O.prev-A,prev:A}},{diff:0,prev:0}),Dt(function(O){return O.diff})),function(O){O>0?(rr(n,!0),rr(s,O)):O<0&&rr(o,O)}),Jn(tt(c,Un(t)),function(O){O[0]<0&&(0,O[1])("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:c},xa.ERROR)});var R=rs(s);qt(tt(s,Un(w),Dt(function(O){var A=O[0],L=O[1];if(L.groupIndices.length>0)throw new Error("Virtuoso: prepending items does not work with groups");return C0(L.sizeTree).reduce(function(C,T){var S=T.k,j=T.v;return{ranges:[].concat(C.ranges,[{startIndex:C.prevIndex,endIndex:S+A-1,size:C.prevSize}]),prevIndex:S+A,prevSize:j}},{ranges:[],prevIndex:0,prevSize:L.lastSize}).ranges})),r);var I=rs(tt(o,Un(w,b),Dt(function(O){return Np(-O[0],O[1].offsetTree,O[2])})));return qt(tt(o,Un(w,b),Dt(function(O){var A=O[0],L=O[1],C=O[2];if(L.groupIndices.length>0)throw new Error("Virtuoso: shifting items does not work with groups");var T=C0(L.sizeTree).reduce(function(S,j){var B=j.v;return Co(S,Math.max(0,j.k+A),B)},Wh());return an({},L,{sizeTree:T},r6(L.offsetTree,0,T,C))})),w),{data:g,totalCount:a,sizeRanges:r,groupIndices:d,defaultItemSize:h,fixedItemSize:f,unshiftWith:s,shiftWith:o,shiftWithOffset:I,beforeUnshiftWith:R,firstItemIndex:c,gap:b,sizes:w,listRefresh:k,statefulTotalCount:i,trackItemSizes:x,itemSize:m}},Ur(Tc,NS),{singleton:!0}),Ate=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function s6(e){var t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),t.behavior&&Ate||(t.behavior="auto"),t.offset||(t.offset=0),t}var dm=ir(function(e){var t=e[0],n=t.sizes,r=t.totalCount,a=t.listRefresh,i=t.gap,s=e[1],o=s.scrollingInProgress,c=s.viewportHeight,d=s.scrollTo,f=s.smoothScrollTargetReached,h=s.headerHeight,m=s.footerHeight,g=s.fixedHeaderHeight,b=s.fixedFooterHeight,_=e[2].log,w=Zt(),x=gt(0),k=null,R=null,I=null;function O(){k&&(k(),k=null),I&&(I(),I=null),R&&(clearTimeout(R),R=null),rr(o,!1)}return qt(tt(w,Un(n,c,r,x,h,m,_),Un(i,g,b),Dt(function(A){var L=A[0],C=L[0],T=L[1],S=L[2],j=L[3],B=L[4],H=L[5],U=L[6],z=L[7],F=A[1],V=A[2],Y=A[3],q=s6(C),N=q.align,W=q.behavior,K=q.offset,$=j-1,J=a6(q,T,$),oe=Np(J,T.offsetTree,F)+H;N==="end"?(oe+=V+No(T.sizeTree,J)[1]-S+Y,J===$&&(oe+=U)):N==="center"?oe+=(V+No(T.sizeTree,J)[1]-S+Y)/2:oe-=B,K&&(oe+=K);var fe=function(le){O(),le?(z("retrying to scroll to",{location:C},xa.DEBUG),rr(w,C)):z("list did not change, scroll successful",{},xa.DEBUG)};if(O(),W==="smooth"){var ye=!1;I=Jn(a,function(le){ye=ye||le}),k=Su(f,function(){fe(ye)})}else k=Su(tt(a,function(le){var Ee=setTimeout(function(){le(!1)},150);return function(ue){ue&&(le(!0),clearTimeout(Ee))}}),fe);return R=setTimeout(function(){O()},1200),rr(o,!0),z("scrolling from index to",{index:J,top:oe,behavior:W},xa.DEBUG),{top:oe,behavior:W}})),d),{scrollToIndex:w,topListHeight:x}},Ur(Ol,$i,Tc),{singleton:!0}),Pp="up",Ote={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},fm=ir(function(e){var t=e[0],n=t.scrollContainerState,r=t.scrollTop,a=t.viewportHeight,i=t.headerHeight,s=t.footerHeight,o=t.scrollBy,c=gt(!1),d=gt(!0),f=Zt(),h=Zt(),m=gt(4),g=gt(0),b=Ei(tt(gA(tt(jn(r),x0(1),dc(!0)),tt(jn(r),x0(1),dc(!1),mA(100))),Gr()),!1),_=Ei(tt(gA(tt(o,dc(!0)),tt(o,dc(!1),mA(200))),Gr()),!1);qt(tt(li(jn(r),jn(g)),Dt(function(I){return I[0]<=I[1]}),Gr()),d),qt(tt(d,Ld(50)),h);var w=rs(tt(li(n,jn(a),jn(i),jn(s),jn(m)),pl(function(I,O){var A,L,C=O[0],T=C.scrollTop,S=C.scrollHeight,j=O[1],B={viewportHeight:j,scrollTop:T,scrollHeight:S};return T+j-S>-O[4]?(T>I.state.scrollTop?(A="SCROLLED_DOWN",L=I.state.scrollTop-T):(A="SIZE_DECREASED",L=I.state.scrollTop-T||I.scrollTopDelta),{atBottom:!0,state:B,atBottomBecause:A,scrollTopDelta:L}):{atBottom:!1,notAtBottomBecause:B.scrollHeight>I.state.scrollHeight?"SIZE_INCREASED":j<I.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":T<I.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",state:B}},Ote),Gr(function(I,O){return I&&I.atBottom===O.atBottom}))),x=Ei(tt(n,pl(function(I,O){var A=O.scrollTop,L=O.scrollHeight,C=O.viewportHeight;return K5(I.scrollHeight,L)?{scrollTop:A,scrollHeight:L,jump:0,changed:!1}:I.scrollTop!==A&&L-(A+C)<1?{scrollHeight:L,scrollTop:A,jump:I.scrollTop-A,changed:!0}:{scrollHeight:L,scrollTop:A,jump:0,changed:!0}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),Rn(function(I){return I.changed}),Dt(function(I){return I.jump})),0);qt(tt(w,Dt(function(I){return I.atBottom})),c),qt(tt(c,Ld(50)),f);var k=gt("down");qt(tt(n,Dt(function(I){return I.scrollTop}),Gr(),pl(function(I,O){return Ao(_)?{direction:I.direction,prevScrollTop:O}:{direction:O<I.prevScrollTop?Pp:"down",prevScrollTop:O}},{direction:"down",prevScrollTop:0}),Dt(function(I){return I.direction})),k),qt(tt(n,Ld(50),dc("none")),k);var R=gt(0);return qt(tt(b,Rn(function(I){return!I}),dc(0)),R),qt(tt(r,Ld(100),Un(b),Rn(function(I){return!!I[1]}),pl(function(I,O){return[I[1],O[0]]},[0,0]),Dt(function(I){return I[1]-I[0]})),R),{isScrolling:b,isAtTop:d,isAtBottom:c,atBottomState:w,atTopStateChange:h,atBottomStateChange:f,scrollDirection:k,atBottomThreshold:m,atTopThreshold:g,scrollVelocity:R,lastJumpDueToItemResize:x}},Ur($i)),Iu=ir(function(e){var t=e[0].log,n=gt(!1),r=rs(tt(n,Rn(function(a){return a}),Gr()));return Jn(n,function(a){a&&Ao(t)("props updated",{},xa.DEBUG)}),{propsReady:n,didMount:r}},Ur(Tc),{singleton:!0}),IS=ir(function(e){var t=e[0],n=t.sizes,r=t.listRefresh,a=t.defaultItemSize,i=e[1].scrollTop,s=e[2].scrollToIndex,o=e[3].didMount,c=gt(!0),d=gt(0);return qt(tt(o,Un(d),Rn(function(f){return!!f[1]}),dc(!1)),c),Jn(tt(li(r,o),Un(c,n,a),Rn(function(f){var h=f[1],m=f[3];return f[0][1]&&(!Ar(f[2].sizeTree)||m!==void 0)&&!h}),Un(d)),function(f){var h=f[1];setTimeout(function(){Su(i,function(){rr(c,!0)}),rr(s,h)})}),{scrolledToInitialItem:c,initialTopMostItemIndex:d}},Ur(Ol,$i,dm,Iu),{singleton:!0});function bA(e){return!!e&&(e==="smooth"?"smooth":"auto")}var Lte=ir(function(e){var t=e[0],n=t.totalCount,r=t.listRefresh,a=e[1],i=a.isAtBottom,s=a.atBottomState,o=e[2].scrollToIndex,c=e[3].scrolledToInitialItem,d=e[4],f=d.propsReady,h=d.didMount,m=e[5].log,g=e[6].scrollingInProgress,b=gt(!1),_=Zt(),w=null;function x(R){rr(o,{index:"LAST",align:"end",behavior:R})}function k(R){var I=Su(s,function(O){!R||O.atBottom||O.notAtBottomBecause!=="SIZE_INCREASED"||w||(Ao(m)("scrolling to bottom due to increased size",{},xa.DEBUG),x("auto"))});setTimeout(I,100)}return Jn(tt(li(tt(jn(n),x0(1)),h),Un(jn(b),i,c,g),Dt(function(R){var I=R[0],O=I[0],A=I[1]&&R[3],L="auto";return A&&(L=function(C,T){return typeof C=="function"?bA(C(T)):T&&bA(C)}(R[1],R[2]||R[4]),A=A&&!!L),{totalCount:O,shouldFollow:A,followOutputBehavior:L}}),Rn(function(R){return R.shouldFollow})),function(R){var I=R.totalCount,O=R.followOutputBehavior;w&&(w(),w=null),w=Su(r,function(){Ao(m)("following output to ",{totalCount:I},xa.DEBUG),x(O),w=null})}),Jn(tt(li(jn(b),n,f),Rn(function(R){return R[0]&&R[2]}),pl(function(R,I){var O=I[1];return{refreshed:R.value===O,value:O}},{refreshed:!1,value:0}),Rn(function(R){return R.refreshed}),Un(b,n)),function(R){k(R[1]!==!1)}),Jn(_,function(){k(Ao(b)!==!1)}),Jn(li(jn(b),s),function(R){var I=R[1];R[0]&&!I.atBottom&&I.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&x("auto")}),{followOutput:b,autoscrollToBottom:_}},Ur(Ol,fm,dm,IS,Iu,Tc,$i));function Nte(e){return e.reduce(function(t,n){return t.groupIndices.push(t.totalCount),t.totalCount+=n+1,t},{totalCount:0,groupIndices:[]})}var o6=ir(function(e){var t=e[0],n=t.totalCount,r=t.groupIndices,a=t.sizes,i=e[1],s=i.scrollTop,o=i.headerHeight,c=Zt(),d=Zt(),f=rs(tt(c,Dt(Nte)));return qt(tt(f,Dt(function(h){return h.totalCount})),n),qt(tt(f,Dt(function(h){return h.groupIndices})),r),qt(tt(li(s,a,o),Rn(function(h){return M1(h[1])}),Dt(function(h){return No(h[1].groupOffsetTree,Math.max(h[0]-h[2],0),"v")[0]}),Gr(),Dt(function(h){return[h]})),d),{groupCounts:c,topItemsIndexes:d}},Ur(Ol,$i));function Ip(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function l6(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}function _A(e,t,n){return typeof e=="number"?n===Pp&&t==="top"||n==="down"&&t==="bottom"?e:0:n===Pp?t==="top"?e.main:e.reverse:t==="bottom"?e.main:e.reverse}function wA(e,t){return typeof e=="number"?e:e[t]||0}var FS=ir(function(e){var t=e[0],n=t.scrollTop,r=t.viewportHeight,a=t.deviation,i=t.headerHeight,s=t.fixedHeaderHeight,o=Zt(),c=gt(0),d=gt(0),f=gt(0),h=Ei(tt(li(jn(n),jn(r),jn(i),jn(o,Ip),jn(f),jn(c),jn(s),jn(a),jn(d)),Dt(function(m){var g=m[0],b=m[1],_=m[2],w=m[3],x=w[0],k=w[1],R=m[4],I=m[6],O=m[7],A=m[8],L=g-O,C=m[5]+I,T=Math.max(_-L,0),S="none",j=wA(A,"top"),B=wA(A,"bottom");return x-=O,k+=_+I,(x+=_+I)>g+C-j&&(S=Pp),(k-=O)<g-T+b+B&&(S="down"),S!=="none"?[Math.max(L-_-_A(R,"top",S)-j,0),L-T-I+b+_A(R,"bottom",S)+B]:null}),Rn(function(m){return m!=null}),Gr(Ip)),[0,0]);return{listBoundary:o,overscan:f,topListHeight:c,increaseViewportBy:d,visibleRange:h}},Ur($i),{singleton:!0}),xA={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function CA(e,t,n){if(e.length===0)return[];if(!M1(t))return e.map(function(f){return an({},f,{index:f.index+n,originalIndex:f.index})});for(var r,a=[],i=E1(t.groupOffsetTree,e[0].index,e[e.length-1].index),s=void 0,o=0,c=Eu(e);!(r=c()).done;){var d=r.value;(!s||s.end<d.index)&&(s=i.shift(),o=t.groupIndices.indexOf(s.start)),a.push(an({},d.index===s.start?{type:"group",index:o}:{index:d.index-(o+1)+n,groupIndex:o},{size:d.size,offset:d.offset,originalIndex:d.index,data:d.data}))}return a}function Ay(e,t,n,r,a,i){var s=0,o=0;if(e.length>0){s=e[0].offset;var c=e[e.length-1];o=c.offset+c.size}var d=n-a.lastIndex,f=s,h=a.lastOffset+d*a.lastSize+(d-1)*r-o;return{items:CA(e,a,i),topItems:CA(t,a,i),topListHeight:t.reduce(function(m,g){return g.size+m},0),offsetTop:s,offsetBottom:h,top:f,bottom:o,totalCount:n,firstItemIndex:i}}var Df=ir(function(e){var t=e[0],n=t.sizes,r=t.totalCount,a=t.data,i=t.firstItemIndex,s=t.gap,o=e[1],c=e[2],d=c.visibleRange,f=c.listBoundary,h=c.topListHeight,m=e[3],g=m.scrolledToInitialItem,b=m.initialTopMostItemIndex,_=e[4].topListHeight,w=e[5],x=e[6].didMount,k=e[7].recalcInProgress,R=gt([]),I=Zt();qt(o.topItemsIndexes,R);var O=Ei(tt(li(x,k,jn(d,Ip),jn(r),jn(n),jn(b),g,jn(R),jn(i),jn(s),a),Rn(function(A){return A[0]&&!A[1]}),Dt(function(A){var L=A[2],C=L[0],T=L[1],S=A[3],j=A[5],B=A[6],H=A[7],U=A[8],z=A[9],F=A[10],V=A[4],Y=V.sizeTree,q=V.offsetTree;if(S===0||C===0&&T===0)return an({},xA,{totalCount:S});if(Ar(Y))return Ay(function(ze,Xe,ot){if(M1(Xe)){var nt=i6(ze,Xe);return[{index:No(Xe.groupOffsetTree,nt)[0],size:0,offset:0},{index:nt,size:0,offset:0,data:ot&&ot[0]}]}return[{index:ze,size:0,offset:0,data:ot&&ot[0]}]}(function(ze,Xe){return typeof ze=="number"?ze:ze.index==="LAST"?Xe-1:ze.index}(j,S),V,F),[],S,z,V,U);var N=[];if(H.length>0)for(var W,K=H[0],$=H[H.length-1],J=0,oe=Eu(E1(Y,K,$));!(W=oe()).done;)for(var fe=W.value,ye=fe.value,le=Math.max(fe.start,K),Ee=Math.min(fe.end,$),ue=le;ue<=Ee;ue++)N.push({index:ue,size:ye,offset:J,data:F&&F[ue]}),J+=ye;if(!B)return Ay([],N,S,z,V,U);var Me=H.length>0?H[H.length-1]+1:0,Fe=function(ze,Xe,ot,nt){return nt===void 0&&(nt=0),nt>0&&(Xe=Math.max(Xe,n6(ze,nt,PS).offset)),e6((Nt=ot,_t=D0(St=ze,Xe,ut=Mte),wt=D0(St,Nt,ut,_t),St.slice(_t,wt+1)),Tte);var St,Nt,ut,_t,wt}(q,C,T,Me);if(Fe.length===0)return null;var $e=S-1;return Ay(S1([],function(ze){for(var Xe,ot=Eu(Fe);!(Xe=ot()).done;){var nt=Xe.value,St=nt.value,Nt=St.offset,ut=nt.start,_t=St.size;if(St.offset<C){var wt=(ut+=Math.floor((C-St.offset+z)/(_t+z)))-nt.start;Nt+=wt*_t+wt*z}ut<Me&&(Nt+=(Me-ut)*_t,ut=Me);for(var st=Math.min(nt.end,$e),de=ut;de<=st&&!(Nt>=T);de++)ze.push({index:de,size:_t,offset:Nt,data:F&&F[de]}),Nt+=_t+z}}),N,S,z,V,U)}),Rn(function(A){return A!==null}),Gr()),xA);return qt(tt(a,Rn(function(A){return A!==void 0}),Dt(function(A){return A.length})),r),qt(tt(O,Dt(function(A){return A.topListHeight})),_),qt(_,h),qt(tt(O,Dt(function(A){return[A.top,A.bottom]})),f),qt(tt(O,Dt(function(A){return A.items})),I),an({listState:O,topItemsIndexes:R,endReached:rs(tt(O,Rn(function(A){return A.items.length>0}),Un(r,a),Rn(function(A){var L=A[0].items;return L[L.length-1].originalIndex===A[1]-1}),Dt(function(A){return[A[1]-1,A[2]]}),Gr(Ip),Dt(function(A){return A[0]}))),startReached:rs(tt(O,Ld(200),Rn(function(A){var L=A.items;return L.length>0&&L[0].originalIndex===A.topItems.length}),Dt(function(A){return A.items[0].index}),Gr())),rangeChanged:rs(tt(O,Rn(function(A){return A.items.length>0}),Dt(function(A){for(var L=A.items,C=0,T=L.length-1;L[C].type==="group"&&C<T;)C++;for(;L[T].type==="group"&&T>C;)T--;return{startIndex:L[C].index,endIndex:L[T].index}}),Gr(l6))),itemsRendered:I},w)},Ur(Ol,o6,FS,IS,dm,fm,Iu,NS),{singleton:!0}),Pte=ir(function(e){var t=e[0],n=t.sizes,r=t.firstItemIndex,a=t.data,i=t.gap,s=e[1].listState,o=e[2].didMount,c=gt(0);return qt(tt(o,Un(c),Rn(function(d){return d[1]!==0}),Un(n,r,i,a),Dt(function(d){var f=d[0][1],h=d[1],m=d[2],g=d[3],b=d[4],_=b===void 0?[]:b,w=0;if(h.groupIndices.length>0)for(var x,k=Eu(h.groupIndices);!((x=k()).done||x.value-w>=f);)w++;var R=f+w;return Ay(Array.from({length:R}).map(function(I,O){return{index:O,size:0,offset:0,data:_[O]}}),[],R,g,h,m)})),s),{initialItemCount:c}},Ur(Ol,Df,Iu),{singleton:!0}),c6=ir(function(e){var t=e[0].scrollVelocity,n=gt(!1),r=Zt(),a=gt(!1);return qt(tt(t,Un(a,n,r),Rn(function(i){return!!i[1]}),Dt(function(i){var s=i[0],o=i[1],c=i[2],d=i[3],f=o.enter;if(c){if((0,o.exit)(s,d))return!1}else if(f(s,d))return!0;return c}),Gr()),n),Jn(tt(li(n,t,r),Un(a)),function(i){var s=i[0],o=i[1];return s[0]&&o&&o.change&&o.change(s[1],s[2])}),{isSeeking:n,scrollSeekConfiguration:a,scrollVelocity:t,scrollSeekRangeChanged:r}},Ur(fm),{singleton:!0}),Ite=ir(function(e){var t=e[0].topItemsIndexes,n=gt(0);return qt(tt(n,Rn(function(r){return r>0}),Dt(function(r){return Array.from({length:r}).map(function(a,i){return i})})),t),{topItemCount:n}},Ur(Df)),jS=ir(function(e){var t=e[0],n=t.footerHeight,r=t.headerHeight,a=t.fixedHeaderHeight,i=t.fixedFooterHeight,s=e[1].listState,o=Zt(),c=Ei(tt(li(n,i,r,a,s),Dt(function(d){var f=d[4];return d[0]+d[1]+d[2]+d[3]+f.offsetBottom+f.bottom})),0);return qt(jn(c),o),{totalListHeight:c,totalListHeightChanged:o}},Ur($i,Df),{singleton:!0});function u6(e){var t,n=!1;return function(){return n||(n=!0,t=e()),t}}var Fte=u6(function(){return/iP(ad|hone|od).+Version\/[\d.]+.*Safari/i.test(navigator.userAgent)}),jte=ir(function(e){var t=e[0],n=t.scrollBy,r=t.scrollTop,a=t.deviation,i=t.scrollingInProgress,s=e[1],o=s.isScrolling,c=s.isAtBottom,d=s.scrollDirection,f=e[3],h=f.beforeUnshiftWith,m=f.shiftWithOffset,g=f.sizes,b=f.gap,_=e[4].log,w=e[5].recalcInProgress,x=rs(tt(e[2].listState,Un(s.lastJumpDueToItemResize),pl(function(R,I){var O=R[1],A=I[0],L=A.items,C=A.totalCount,T=A.bottom+A.offsetBottom,S=0;return R[2]===C&&O.length>0&&L.length>0&&(L[0].originalIndex===0&&O[0].originalIndex===0||(S=T-R[3])!=0&&(S+=I[1])),[S,L,C,T]},[0,[],0,0]),Rn(function(R){return R[0]!==0}),Un(r,d,i,c,_),Rn(function(R){return!R[3]&&R[1]!==0&&R[2]===Pp}),Dt(function(R){var I=R[0][0];return(0,R[5])("Upward scrolling compensation",{amount:I},xa.DEBUG),I})));function k(R){R>0?(rr(n,{top:-R,behavior:"auto"}),rr(a,0)):(rr(a,0),rr(n,{top:-R,behavior:"auto"}))}return Jn(tt(x,Un(a,o)),function(R){var I=R[0],O=R[1];R[2]&&Fte()?rr(a,O-I):k(-I)}),Jn(tt(li(Ei(o,!1),a,w),Rn(function(R){return!R[0]&&!R[2]&&R[1]!==0}),Dt(function(R){return R[1]}),Ld(1)),k),qt(tt(m,Dt(function(R){return{top:-R}})),n),Jn(tt(h,Un(g,b),Dt(function(R){var I=R[0];return I*R[1].lastSize+I*R[2]})),function(R){rr(a,R),requestAnimationFrame(function(){rr(n,{top:R}),requestAnimationFrame(function(){rr(a,0),rr(w,!1)})})}),{deviation:a}},Ur($i,fm,Df,Ol,Tc,NS)),Ute=ir(function(e){var t=e[0].totalListHeight,n=e[1].didMount,r=e[2].scrollTo,a=gt(0);return Jn(tt(n,Un(a),Rn(function(i){return i[1]!==0}),Dt(function(i){return{top:i[1]}})),function(i){Su(tt(t,Rn(function(s){return s!==0})),function(){setTimeout(function(){rr(r,i)})})}),{initialScrollTop:a}},Ur(jS,Iu,$i),{singleton:!0}),Bte=ir(function(e){var t=e[0].viewportHeight,n=e[1].totalListHeight,r=gt(!1);return{alignToBottom:r,paddingTopAddition:Ei(tt(li(r,t,n),Rn(function(a){return a[0]}),Dt(function(a){return Math.max(0,a[1]-a[2])}),Gr()),0)}},Ur($i,jS),{singleton:!0}),d6=ir(function(e){var t=e[0],n=t.scrollTo,r=t.scrollContainerState,a=Zt(),i=Zt(),s=Zt(),o=gt(!1),c=gt(void 0);return qt(tt(li(a,i),Dt(function(d){var f=d[0],h=f.viewportHeight,m=f.scrollHeight;return{scrollTop:Math.max(0,f.scrollTop-d[1].offsetTop),scrollHeight:m,viewportHeight:h}})),r),qt(tt(n,Un(i),Dt(function(d){var f=d[0];return an({},f,{top:f.top+d[1].offsetTop})})),s),{useWindowScroll:o,customScrollParent:c,windowScrollContainerState:a,windowViewportRect:i,windowScrollTo:s}},Ur($i)),$te=["done","behavior","align"],zte=ir(function(e){var t=e[0],n=t.sizes,r=t.totalCount,a=t.gap,i=e[1],s=i.scrollTop,o=i.viewportHeight,c=i.headerHeight,d=i.fixedHeaderHeight,f=i.fixedFooterHeight,h=i.scrollingInProgress,m=e[2].scrollToIndex,g=Zt();return qt(tt(g,Un(n,o,r,c,d,f,s),Un(a),Dt(function(b){var _=b[0],w=_[0],x=_[1],k=_[2],R=_[3],I=_[4],O=_[5],A=_[6],L=_[7],C=b[1],T=w.done,S=w.behavior,j=w.align,B=Cf(w,$te),H=null,U=a6(w,x,R-1),z=Np(U,x.offsetTree,C)+I+O;return z<L+O?H=an({},B,{behavior:S,align:j??"start"}):z+No(x.sizeTree,U)[1]>L+k-A&&(H=an({},B,{behavior:S,align:j??"end"})),H?T&&Su(tt(h,x0(1),Rn(function(F){return F===!1})),T):T&&T(),H}),Rn(function(b){return b!==null})),m),{scrollIntoView:g}},Ur(Ol,$i,dm,Df,Tc),{singleton:!0}),Hte=["listState","topItemsIndexes"],Vte=ir(function(e){return an({},e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},Ur(FS,Pte,Iu,c6,jS,Ute,Bte,d6,zte)),f6=ir(function(e){var t=e[0],n=t.totalCount,r=t.sizeRanges,a=t.fixedItemSize,i=t.defaultItemSize,s=t.trackItemSizes,o=t.itemSize,c=t.data,d=t.firstItemIndex,f=t.groupIndices,h=t.statefulTotalCount,m=t.gap,g=e[1],b=g.initialTopMostItemIndex,_=g.scrolledToInitialItem,w=e[2],x=e[3],k=e[4],R=k.listState,I=k.topItemsIndexes,O=Cf(k,Hte),A=e[5].scrollToIndex,L=e[7].topItemCount,C=e[8].groupCounts,T=e[9],S=e[10];return qt(O.rangeChanged,T.scrollSeekRangeChanged),qt(tt(T.windowViewportRect,Dt(function(j){return j.visibleHeight})),w.viewportHeight),an({totalCount:n,data:c,firstItemIndex:d,sizeRanges:r,initialTopMostItemIndex:b,scrolledToInitialItem:_,topItemsIndexes:I,topItemCount:L,groupCounts:C,fixedItemHeight:a,defaultItemHeight:i,gap:m},x,{statefulTotalCount:h,listState:R,scrollToIndex:A,trackItemSizes:s,itemSize:o,groupIndices:f},O,T,w,S)},Ur(Ol,IS,$i,Lte,Df,dm,jte,Ite,o6,Vte,Tc)),h6=u6(function(){if(typeof document>"u")return"sticky";var e=document.createElement("div");return e.style.position="-webkit-sticky",e.style.position==="-webkit-sticky"?"-webkit-sticky":"sticky"});function US(e,t){var n=E.useRef(null),r=E.useCallback(function(c){if(c!==null&&c.offsetParent){var d,f,h=c.getBoundingClientRect(),m=h.width;if(t){var g=t.getBoundingClientRect(),b=h.top-g.top;d=g.height-Math.max(0,b),f=b+t.scrollTop}else d=window.innerHeight-Math.max(0,h.top),f=h.top+window.pageYOffset;n.current={offsetTop:f,visibleHeight:d,visibleWidth:m},e(n.current)}},[e,t]),a=LS(r),i=a.callbackRef,s=a.ref,o=E.useCallback(function(){r(s.current)},[r,s]);return E.useEffect(function(){if(t){t.addEventListener("scroll",o);var c=new ResizeObserver(o);return c.observe(t),function(){t.removeEventListener("scroll",o),c.unobserve(t)}}return window.addEventListener("scroll",o),window.addEventListener("resize",o),function(){window.removeEventListener("scroll",o),window.removeEventListener("resize",o)}},[o,t]),i}var T1=E.createContext(void 0),qte=["placeholder"],Yte=["style","children"],Wte=["style","children"];function BS(e){return e}var Gte=ir(function(){var e=gt(function(c){return"Item "+c}),t=gt(null),n=gt(function(c){return"Group "+c}),r=gt({}),a=gt(BS),i=gt("div"),s=gt(Pu),o=function(c,d){return d===void 0&&(d=null),Ei(tt(r,Dt(function(f){return f[c]}),Gr()),d)};return{context:t,itemContent:e,groupContent:n,components:r,computeItemKey:a,headerFooterTag:i,scrollerRef:s,FooterComponent:o("Footer"),HeaderComponent:o("Header"),TopItemListComponent:o("TopItemList"),ListComponent:o("List","div"),ItemComponent:o("Item","div"),GroupComponent:o("Group","div"),ScrollerComponent:o("Scroller","div"),EmptyPlaceholder:o("EmptyPlaceholder"),ScrollSeekPlaceholder:o("ScrollSeekPlaceholder")}});function kd(e,t){var n=Zt();return Jn(n,function(){return console.warn("react-virtuoso: You are using a deprecated property. "+t,"color: red;","color: inherit;","color: blue;")}),qt(n,e),n}var Kte=ir(function(e){var t=e[0],n=e[1],r={item:kd(n.itemContent,"Rename the %citem%c prop to %citemContent."),group:kd(n.groupContent,"Rename the %cgroup%c prop to %cgroupContent."),topItems:kd(t.topItemCount,"Rename the %ctopItems%c prop to %ctopItemCount."),itemHeight:kd(t.fixedItemHeight,"Rename the %citemHeight%c prop to %cfixedItemHeight."),scrollingStateChange:kd(t.isScrolling,"Rename the %cscrollingStateChange%c prop to %cisScrolling."),adjustForPrependedItems:Zt(),maxHeightCacheSize:Zt(),footer:Zt(),header:Zt(),HeaderContainer:Zt(),FooterContainer:Zt(),ItemContainer:Zt(),ScrollContainer:Zt(),GroupContainer:Zt(),ListContainer:Zt(),emptyComponent:Zt(),scrollSeek:Zt()};function a(i,s,o){qt(tt(i,Un(n.components),Dt(function(c){var d,f=c[0],h=c[1];return console.warn("react-virtuoso: "+o+" property is deprecated. Pass components."+s+" instead."),an({},h,((d={})[s]=f,d))})),n.components)}return Jn(r.adjustForPrependedItems,function(){console.warn("react-virtuoso: adjustForPrependedItems is no longer supported. Use the firstItemIndex property instead - https://virtuoso.dev/prepend-items.","color: red;","color: inherit;","color: blue;")}),Jn(r.maxHeightCacheSize,function(){console.warn("react-virtuoso: maxHeightCacheSize is no longer necessary. Setting it has no effect - remove it from your code.")}),Jn(r.HeaderContainer,function(){console.warn("react-virtuoso: HeaderContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the header component and pass components.Header to change its contents.")}),Jn(r.FooterContainer,function(){console.warn("react-virtuoso: FooterContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the footer component and pass components.Footer to change its contents.")}),Jn(r.scrollSeek,function(i){var s=i.placeholder,o=Cf(i,qte);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),rr(n.components,an({},Ao(n.components),{ScrollSeekPlaceholder:s})),rr(t.scrollSeekConfiguration,o)}),a(r.footer,"Footer","footer"),a(r.header,"Header","header"),a(r.ItemContainer,"Item","ItemContainer"),a(r.ListContainer,"List","ListContainer"),a(r.ScrollContainer,"Scroller","ScrollContainer"),a(r.emptyComponent,"EmptyPlaceholder","emptyComponent"),a(r.GroupContainer,"Group","GroupContainer"),an({},t,n,r)},Ur(f6,Gte)),Qte=function(e){return E.createElement("div",{style:{height:e.height}})},Zte={position:h6(),zIndex:1,overflowAnchor:"none"},Xte={overflowAnchor:"none"},DA=E.memo(function(e){var t=e.showTopList,n=t!==void 0&&t,r=qn("listState"),a=Ts("sizeRanges"),i=qn("useWindowScroll"),s=qn("customScrollParent"),o=Ts("windowScrollContainerState"),c=Ts("scrollContainerState"),d=s||i?o:c,f=qn("itemContent"),h=qn("context"),m=qn("groupContent"),g=qn("trackItemSizes"),b=qn("itemSize"),_=qn("log"),w=Ts("gap"),x=G5(a,b,g,n?Pu:d,_,w,s).callbackRef,k=E.useState(0),R=k[0],I=k[1];HS("deviation",function(z){R!==z&&I(z)});var O=qn("EmptyPlaceholder"),A=qn("ScrollSeekPlaceholder")||Qte,L=qn("ListComponent"),C=qn("ItemComponent"),T=qn("GroupComponent"),S=qn("computeItemKey"),j=qn("isSeeking"),B=qn("groupIndices").length>0,H=qn("paddingTopAddition"),U=n?{}:{boxSizing:"border-box",paddingTop:r.offsetTop+H,paddingBottom:r.offsetBottom,marginTop:R};return!n&&r.totalCount===0&&O?E.createElement(O,Ta(O,h)):E.createElement(L,an({},Ta(L,h),{ref:x,style:U,"data-test-id":n?"virtuoso-top-item-list":"virtuoso-item-list"}),(n?r.topItems:r.items).map(function(z){var F=z.originalIndex,V=S(F+r.firstItemIndex,z.data,h);return j?E.createElement(A,an({},Ta(A,h),{key:V,index:z.index,height:z.size,type:z.type||"item"},z.type==="group"?{}:{groupIndex:z.groupIndex})):z.type==="group"?E.createElement(T,an({},Ta(T,h),{key:V,"data-index":F,"data-known-size":z.size,"data-item-index":z.index,style:Zte}),m(z.index)):E.createElement(C,an({},Ta(C,h),{key:V,"data-index":F,"data-known-size":z.size,"data-item-index":z.index,"data-item-group-index":z.groupIndex,style:Xte}),B?f(z.index,z.groupIndex,z.data,h):f(z.index,z.data,h))}))}),Jte={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Sf={width:"100%",height:"100%",position:"absolute",top:0},ene={width:"100%",position:h6(),top:0};function Ta(e,t){if(typeof e!="string")return{context:t}}var tne=E.memo(function(){var e=qn("HeaderComponent"),t=Ts("headerHeight"),n=qn("headerFooterTag"),r=Sc(function(i){return t(Tl(i,"height"))}),a=qn("context");return e?E.createElement(n,{ref:r},E.createElement(e,Ta(e,a))):null}),nne=E.memo(function(){var e=qn("FooterComponent"),t=Ts("footerHeight"),n=qn("headerFooterTag"),r=Sc(function(i){return t(Tl(i,"height"))}),a=qn("context");return e?E.createElement(n,{ref:r},E.createElement(e,Ta(e,a))):null});function $S(e){var t=e.usePublisher,n=e.useEmitter,r=e.useEmitterValue;return E.memo(function(a){var i=a.style,s=a.children,o=Cf(a,Yte),c=t("scrollContainerState"),d=r("ScrollerComponent"),f=t("smoothScrollTargetReached"),h=r("scrollerRef"),m=r("context"),g=Q5(c,f,d,h),b=g.scrollerRef,_=g.scrollByCallback;return n("scrollTo",g.scrollToCallback),n("scrollBy",_),E.createElement(d,an({ref:b,style:an({},Jte,i),"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0},o,Ta(d,m)),s)})}function zS(e){var t=e.usePublisher,n=e.useEmitter,r=e.useEmitterValue;return E.memo(function(a){var i=a.style,s=a.children,o=Cf(a,Wte),c=t("windowScrollContainerState"),d=r("ScrollerComponent"),f=t("smoothScrollTargetReached"),h=r("totalListHeight"),m=r("deviation"),g=r("customScrollParent"),b=r("context"),_=Q5(c,f,d,Pu,g),w=_.scrollerRef,x=_.scrollByCallback,k=_.scrollToCallback;return Dte(function(){return w.current=g||window,function(){w.current=null}},[w,g]),n("windowScrollTo",k),n("scrollBy",x),E.createElement(d,an({style:an({position:"relative"},i,h!==0?{height:h+m}:{}),"data-virtuoso-scroller":!0},o,Ta(d,b)),s)})}var rne=function(e){var t=e.children,n=E.useContext(T1),r=Ts("viewportHeight"),a=Ts("fixedItemHeight"),i=Sc(Op(r,function(s){return Tl(s,"height")}));return E.useEffect(function(){n&&(r(n.viewportHeight),a(n.itemHeight))},[n,r,a]),E.createElement("div",{style:Sf,ref:i,"data-viewport-type":"element"},t)},ane=function(e){var t=e.children,n=E.useContext(T1),r=Ts("windowViewportRect"),a=Ts("fixedItemHeight"),i=qn("customScrollParent"),s=US(r,i);return E.useEffect(function(){n&&(a(n.itemHeight),r({offsetTop:0,visibleHeight:n.viewportHeight,visibleWidth:100}))},[n,r,a]),E.createElement("div",{ref:s,style:Sf,"data-viewport-type":"window"},t)},ine=function(e){var t=e.children,n=qn("TopItemListComponent"),r=qn("headerHeight"),a=an({},ene,{marginTop:r+"px"}),i=qn("context");return E.createElement(n||"div",{style:a,context:i},t)},k1=OS(Kte,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",react18ConcurrentRendering:"react18ConcurrentRendering",item:"item",group:"group",topItems:"topItems",itemHeight:"itemHeight",scrollingStateChange:"scrollingStateChange",maxHeightCacheSize:"maxHeightCacheSize",footer:"footer",header:"header",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",GroupContainer:"GroupContainer",emptyComponent:"emptyComponent",HeaderContainer:"HeaderContainer",FooterContainer:"FooterContainer",scrollSeek:"scrollSeek"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",adjustForPrependedItems:"adjustForPrependedItems",autoscrollToBottom:"autoscrollToBottom"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},E.memo(function(e){var t=qn("useWindowScroll"),n=qn("topItemsIndexes").length>0,r=qn("customScrollParent"),a=r||t?ane:rne;return E.createElement(r||t?lne:one,an({},e),E.createElement(a,null,E.createElement(tne,null),E.createElement(DA,null),E.createElement(nne,null)),n&&E.createElement(ine,null,E.createElement(DA,{showTopList:!0})))})),sne=k1.Component,Ts=k1.usePublisher,qn=k1.useEmitterValue,HS=k1.useEmitter,one=$S({usePublisher:Ts,useEmitterValue:qn,useEmitter:HS}),lne=zS({usePublisher:Ts,useEmitterValue:qn,useEmitter:HS}),SA={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},cne={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},EA=Math.round,MA=Math.ceil,VS=Math.floor,cx=Math.min,hp=Math.max;function TA(e,t){return Array.from({length:t-e+1}).map(function(n,r){return{index:r+e}})}function une(e,t){return e&&e.column===t.column&&e.row===t.row}var dne=ir(function(e){var t=e[0],n=t.overscan,r=t.visibleRange,a=t.listBoundary,i=e[1],s=i.scrollTop,o=i.viewportHeight,c=i.scrollBy,d=i.scrollTo,f=i.smoothScrollTargetReached,h=i.scrollContainerState,m=e[2],g=e[3],b=e[4],_=b.propsReady,w=b.didMount,x=e[5],k=x.windowViewportRect,R=x.windowScrollTo,I=x.useWindowScroll,O=x.customScrollParent,A=x.windowScrollContainerState,L=e[6],C=gt(0),T=gt(0),S=gt(SA),j=gt({height:0,width:0}),B=gt({height:0,width:0}),H=Zt(),U=Zt(),z=gt(0),F=gt({row:0,column:0});qt(tt(w,Un(T),Rn(function(W){return W[1]!==0}),Dt(function(W){return{items:TA(0,W[1]-1),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0}})),S),qt(tt(li(jn(C),r,jn(F,une),jn(B,function(W,K){return W&&W.width===K.width&&W.height===K.height})),Un(j),Dt(function(W){var K=W[0],$=K[0],J=K[1],oe=J[0],fe=J[1],ye=K[2],le=K[3],Ee=W[1],ue=ye.row,Me=le.height,Fe=le.width,$e=Ee.width;if($===0||$e===0)return SA;if(Fe===0)return cne;var ze=p6($e,Fe,ye.column),Xe=ze*VS((oe+ue)/(Me+ue)),ot=ze*MA((fe+ue)/(Me+ue))-1;ot=hp(0,cx($-1,ot));var nt=TA(Xe=cx(ot,hp(0,Xe)),ot),St=kA(Ee,ye,le,nt),Nt=St.top,ut=St.bottom,_t=MA($/ze);return{items:nt,offsetTop:Nt,offsetBottom:_t*Me+(_t-1)*ue-ut,top:Nt,bottom:ut,itemHeight:Me,itemWidth:Fe}})),S),qt(tt(j,Dt(function(W){return W.height})),o),qt(tt(li(j,B,S,F),Dt(function(W){var K=kA(W[0],W[3],W[1],W[2].items);return[K.top,K.bottom]}),Gr(Ip)),a);var V=rs(tt(jn(S),Rn(function(W){return W.items.length>0}),Un(C),Rn(function(W){var K=W[0].items;return K[K.length-1].index===W[1]-1}),Dt(function(W){return W[1]-1}),Gr())),Y=rs(tt(jn(S),Rn(function(W){var K=W.items;return K.length>0&&K[0].index===0}),dc(0),Gr())),q=rs(tt(jn(S),Rn(function(W){return W.items.length>0}),Dt(function(W){var K=W.items;return{startIndex:K[0].index,endIndex:K[K.length-1].index}}),Gr(l6)));qt(q,g.scrollSeekRangeChanged),qt(tt(H,Un(j,B,C,F),Dt(function(W){var K=W[1],$=W[2],J=W[3],oe=W[4],fe=s6(W[0]),ye=fe.align,le=fe.behavior,Ee=fe.offset,ue=fe.index;ue==="LAST"&&(ue=J-1);var Me=VC(K,oe,$,ue=hp(0,ue,cx(J-1,ue)));return ye==="end"?Me=EA(Me-K.height+$.height):ye==="center"&&(Me=EA(Me-K.height/2+$.height/2)),Ee&&(Me+=Ee),{top:Me,behavior:le}})),d);var N=Ei(tt(S,Dt(function(W){return W.offsetBottom+W.bottom})),0);return qt(tt(k,Dt(function(W){return{width:W.visibleWidth,height:W.visibleHeight}})),j),an({totalCount:C,viewportDimensions:j,itemDimensions:B,scrollTop:s,scrollHeight:U,overscan:n,scrollBy:c,scrollTo:d,scrollToIndex:H,smoothScrollTargetReached:f,windowViewportRect:k,windowScrollTo:R,useWindowScroll:I,customScrollParent:O,windowScrollContainerState:A,deviation:z,scrollContainerState:h,initialItemCount:T,gap:F},g,{gridState:S,totalListHeight:N},m,{startReached:Y,endReached:V,rangeChanged:q,propsReady:_},L)},Ur(FS,$i,fm,c6,Iu,d6,Tc));function kA(e,t,n,r){var a=n.height;return a===void 0||r.length===0?{top:0,bottom:0}:{top:VC(e,t,n,r[0].index),bottom:VC(e,t,n,r[r.length-1].index)+a}}function VC(e,t,n,r){var a=p6(e.width,n.width,t.column),i=VS(r/a),s=i*n.height+hp(0,i-1)*t.row;return s>0?s+t.row:s}function p6(e,t,n){return hp(1,VS((e+n)/(t+n)))}var fne=["placeholder"],hne=ir(function(){var e=gt(function(c){return"Item "+c}),t=gt({}),n=gt(null),r=gt("virtuoso-grid-item"),a=gt("virtuoso-grid-list"),i=gt(BS),s=gt(Pu),o=function(c,d){return Ei(tt(t,Dt(function(f){return f[c]}),Gr()),d)};return{context:n,itemContent:e,components:t,computeItemKey:i,itemClassName:r,listClassName:a,scrollerRef:s,ListComponent:o("List","div"),ItemComponent:o("Item","div"),ScrollerComponent:o("Scroller","div"),ScrollSeekPlaceholder:o("ScrollSeekPlaceholder","div")}}),pne=ir(function(e){var t=e[0],n=e[1],r={item:kd(n.itemContent,"Rename the %citem%c prop to %citemContent."),ItemContainer:Zt(),ScrollContainer:Zt(),ListContainer:Zt(),emptyComponent:Zt(),scrollSeek:Zt()};function a(i,s,o){qt(tt(i,Un(n.components),Dt(function(c){var d,f=c[0],h=c[1];return console.warn("react-virtuoso: "+o+" property is deprecated. Pass components."+s+" instead."),an({},h,((d={})[s]=f,d))})),n.components)}return Jn(r.scrollSeek,function(i){var s=i.placeholder,o=Cf(i,fne);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),rr(n.components,an({},Ao(n.components),{ScrollSeekPlaceholder:s})),rr(t.scrollSeekConfiguration,o)}),a(r.ItemContainer,"Item","ItemContainer"),a(r.ListContainer,"List","ListContainer"),a(r.ScrollContainer,"Scroller","ScrollContainer"),an({},t,n,r)},Ur(dne,hne)),mne=E.memo(function(){var e=ri("gridState"),t=ri("listClassName"),n=ri("itemClassName"),r=ri("itemContent"),a=ri("computeItemKey"),i=ri("isSeeking"),s=vu("scrollHeight"),o=ri("ItemComponent"),c=ri("ListComponent"),d=ri("ScrollSeekPlaceholder"),f=ri("context"),h=vu("itemDimensions"),m=vu("gap"),g=ri("log"),b=Sc(function(_){s(_.parentElement.parentElement.scrollHeight);var w=_.firstChild;w&&h(w.getBoundingClientRect()),m({row:RA("row-gap",getComputedStyle(_).rowGap,g),column:RA("column-gap",getComputedStyle(_).columnGap,g)})});return E.createElement(c,an({ref:b,className:t},Ta(c,f),{style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom}}),e.items.map(function(_){var w=a(_.index);return i?E.createElement(d,an({key:w},Ta(d,f),{index:_.index,height:e.itemHeight,width:e.itemWidth})):E.createElement(o,an({},Ta(o,f),{className:n,"data-index":_.index,key:w}),r(_.index,f))}))}),gne=function(e){var t=e.children,n=vu("viewportDimensions"),r=Sc(function(a){n(a.getBoundingClientRect())});return E.createElement("div",{style:Sf,ref:r},t)},yne=function(e){var t=e.children,n=US(vu("windowViewportRect"),ri("customScrollParent"));return E.createElement("div",{ref:n,style:Sf},t)},qS=OS(pne,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",item:"item",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",scrollSeek:"scrollSeek"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},E.memo(function(e){var t=an({},e),n=ri("useWindowScroll"),r=ri("customScrollParent"),a=r||n?yne:gne;return E.createElement(r||n?bne:vne,an({},t),E.createElement(a,null,E.createElement(mne,null)))})),vu=qS.usePublisher,ri=qS.useEmitterValue,m6=qS.useEmitter,vne=$S({usePublisher:vu,useEmitterValue:ri,useEmitter:m6}),bne=zS({usePublisher:vu,useEmitterValue:ri,useEmitter:m6});function RA(e,t,n){return t==="normal"||t!=null&&t.endsWith("px")||n(e+" was not resolved to pixel value correctly",t,xa.WARN),t==="normal"?0:parseInt(t??"0",10)}var _ne=ir(function(){var e=gt(function(c){return E.createElement("td",null,"Item $",c)}),t=gt(null),n=gt(null),r=gt(null),a=gt({}),i=gt(BS),s=gt(Pu),o=function(c,d){return d===void 0&&(d=null),Ei(tt(a,Dt(function(f){return f[c]}),Gr()),d)};return{context:t,itemContent:e,fixedHeaderContent:n,fixedFooterContent:r,components:a,computeItemKey:i,scrollerRef:s,TableComponent:o("Table","table"),TableHeadComponent:o("TableHead","thead"),TableFooterComponent:o("TableFoot","tfoot"),TableBodyComponent:o("TableBody","tbody"),TableRowComponent:o("TableRow","tr"),ScrollerComponent:o("Scroller","div"),EmptyPlaceholder:o("EmptyPlaceholder"),ScrollSeekPlaceholder:o("ScrollSeekPlaceholder"),FillerRow:o("FillerRow")}}),wne=ir(function(e){return an({},e[0],e[1])},Ur(f6,_ne)),xne=function(e){return E.createElement("tr",null,E.createElement("td",{style:{height:e.height}}))},Cne=function(e){return E.createElement("tr",null,E.createElement("td",{style:{height:e.height,padding:0,border:0}}))},Dne=E.memo(function(){var e=cr("listState"),t=Ws("sizeRanges"),n=cr("useWindowScroll"),r=cr("customScrollParent"),a=Ws("windowScrollContainerState"),i=Ws("scrollContainerState"),s=r||n?a:i,o=cr("itemContent"),c=cr("trackItemSizes"),d=G5(t,cr("itemSize"),c,s,cr("log"),void 0,r),f=d.callbackRef,h=d.ref,m=E.useState(0),g=m[0],b=m[1];WS("deviation",function(z){g!==z&&(h.current.style.marginTop=z+"px",b(z))});var _=cr("EmptyPlaceholder"),w=cr("ScrollSeekPlaceholder")||xne,x=cr("FillerRow")||Cne,k=cr("TableBodyComponent"),R=cr("TableRowComponent"),I=cr("computeItemKey"),O=cr("isSeeking"),A=cr("paddingTopAddition"),L=cr("firstItemIndex"),C=cr("statefulTotalCount"),T=cr("context");if(C===0&&_)return E.createElement(_,Ta(_,T));var S=e.offsetTop+A+g,j=e.offsetBottom,B=S>0?E.createElement(x,{height:S,key:"padding-top"}):null,H=j>0?E.createElement(x,{height:j,key:"padding-bottom"}):null,U=e.items.map(function(z){var F=z.originalIndex,V=I(F+L,z.data,T);return O?E.createElement(w,an({},Ta(w,T),{key:V,index:z.index,height:z.size,type:z.type||"item"})):E.createElement(R,an({},Ta(R,T),{key:V,"data-index":F,"data-known-size":z.size,"data-item-index":z.index,style:{overflowAnchor:"none"}}),o(z.index,z.data,T))});return E.createElement(k,an({ref:f,"data-test-id":"virtuoso-item-list"},Ta(k,T)),[B].concat(U,[H]))}),Sne=function(e){var t=e.children,n=E.useContext(T1),r=Ws("viewportHeight"),a=Ws("fixedItemHeight"),i=Sc(Op(r,function(s){return Tl(s,"height")}));return E.useEffect(function(){n&&(r(n.viewportHeight),a(n.itemHeight))},[n,r,a]),E.createElement("div",{style:Sf,ref:i,"data-viewport-type":"element"},t)},Ene=function(e){var t=e.children,n=E.useContext(T1),r=Ws("windowViewportRect"),a=Ws("fixedItemHeight"),i=cr("customScrollParent"),s=US(r,i);return E.useEffect(function(){n&&(a(n.itemHeight),r({offsetTop:0,visibleHeight:n.viewportHeight,visibleWidth:100}))},[n,r,a]),E.createElement("div",{ref:s,style:Sf,"data-viewport-type":"window"},t)},YS=OS(wne,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",react18ConcurrentRendering:"react18ConcurrentRendering"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},E.memo(function(e){var t=cr("useWindowScroll"),n=cr("customScrollParent"),r=Ws("fixedHeaderHeight"),a=Ws("fixedFooterHeight"),i=cr("fixedHeaderContent"),s=cr("fixedFooterContent"),o=cr("context"),c=Sc(Op(r,function(x){return Tl(x,"height")})),d=Sc(Op(a,function(x){return Tl(x,"height")})),f=n||t?Tne:Mne,h=n||t?Ene:Sne,m=cr("TableComponent"),g=cr("TableHeadComponent"),b=cr("TableFooterComponent"),_=i?E.createElement(g,an({key:"TableHead",style:{zIndex:1,position:"sticky",top:0},ref:c},Ta(g,o)),i()):null,w=s?E.createElement(b,an({key:"TableFoot",style:{zIndex:1,position:"sticky",bottom:0},ref:d},Ta(b,o)),s()):null;return E.createElement(f,an({},e),E.createElement(h,null,E.createElement(m,an({style:{borderSpacing:0}},Ta(m,o)),[_,E.createElement(Dne,{key:"TableBody"}),w])))})),Ws=YS.usePublisher,cr=YS.useEmitterValue,WS=YS.useEmitter,Mne=$S({usePublisher:Ws,useEmitterValue:cr,useEmitter:WS}),Tne=zS({usePublisher:Ws,useEmitterValue:cr,useEmitter:WS}),kne=sne;function g6(e){const{calendar:t,calendarFormats:n,customClass:r,format:a,timestamp:i}=e,{formatDate:s}=jr(),{t:o,tDateTimeParser:c}=Ge("MessageTimestamp"),d=i&&Ml(i)?i.toISOString():i,f=E.useMemo(()=>Ap({calendar:t,calendarFormats:n,format:a,formatDate:s,messageCreatedAt:d,t:o,tDateTimeParser:c,timestampTranslationKey:"timestamp/MessageTimestamp"}),[t,n,a,s,d,o,c]);return f?v.createElement("time",{className:r,dateTime:d,title:d},f):null}const Rne={User:e=>v.createElement("svg",{className:"str-chat__icon str-chat__icon--user",fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",...e},v.createElement("path",{d:"M8 2C9.1 2 10 2.9 10 4C10 5.1 9.1 6 8 6C6.9 6 6 5.1 6 4C6 2.9 6.9 2 8 2ZM8 12C10.7 12 13.8 13.29 14 14H2C2.23 13.28 5.31 12 8 12ZM8 0C5.79 0 4 1.79 4 4C4 6.21 5.79 8 8 8C10.21 8 12 6.21 12 4C12 1.79 10.21 0 8 0ZM8 10C5.33 10 0 11.34 0 14V16H16V14C16 11.34 10.67 10 8 10Z",fill:"currentColor"}))},Kg={},Oy=async({channel:e,client:t,id:n,members:r,options:a,type:i})=>{if(!e&&!i)throw new Error("Channel or channel type have to be provided to query a channel.");const s=e||t.channel(i,n,{members:r}),o=s!=null&&s.id?s.cid:r&&r.length?Ane(s.type,r):void 0;if(!o)throw new Error("Channel ID or channel members array have to be provided to query a channel.");const c=Kg[o];if(c)await c;else try{Kg[o]=s.watch(a),await Kg[o]}finally{delete Kg[o]}return s},Ane=(e,t)=>{if(!t)return;const n=[...t].sort().join(",");return`${e}:!members-${n}`},One=(e,t)=>{const n=e.charCodeAt(t);if(Number.isNaN(n))return"";if(n<55296||n>57343)return e.charAt(t);if(55296<=n&&n<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";const r=e.charCodeAt(t+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}throw"Low surrogate without preceding high surrogate"},zi=e=>{const{className:t,image:n,name:r,onClick:a=()=>{},onMouseOver:i=()=>{}}=e,[s,o]=E.useState(!1);E.useEffect(()=>{o(!1)},[n]);const c=(r==null?void 0:r.toString())||"",d=One(c,0),f=n&&!s;return v.createElement("div",{className:Ue("str-chat__avatar str-chat__message-sender-avatar",t,{"str-chat__avatar--multiple-letters":d.length>1,"str-chat__avatar--no-letters":!d.length,"str-chat__avatar--one-letter":d.length===1}),"data-testid":"avatar",onClick:a,onMouseOver:i,role:"button",title:r},f?v.createElement("img",{alt:d,className:"str-chat__avatar-image","data-testid":"avatar-img",onError:()=>o(!0),src:n}):v.createElement(v.Fragment,null,!!d.length&&v.createElement("div",{className:Ue("str-chat__avatar-fallback"),"data-testid":"avatar-fallback"},d),!d.length&&v.createElement(Rne.User,null)))},Lne=e=>{const{client:t}=Yt("useConnectionRecoveredListener");E.useEffect(()=>{const n=()=>{e&&e()};return t.on("connection.recovered",n),()=>{t.off("connection.recovered",n)}},[t,e])},Nne=(e,t,n)=>{E.useEffect(()=>{const r=a=>{n&&e.current&&!e.current.contains(a.target)&&t&&n()};return document.addEventListener("click",r),()=>{document.removeEventListener("click",r)}},[e,n,t])};var Gh={exports:{}};Gh.exports;var AA;function Pne(){return AA||(AA=1,function(e,t){var n=200,r="Expected a function",a="__lodash_hash_undefined__",i=1,s=2,o=1/0,c=9007199254740991,d="[object Arguments]",f="[object Array]",h="[object Boolean]",m="[object Date]",g="[object Error]",b="[object Function]",_="[object GeneratorFunction]",w="[object Map]",x="[object Number]",k="[object Object]",R="[object Promise]",I="[object RegExp]",O="[object Set]",A="[object String]",L="[object Symbol]",C="[object WeakMap]",T="[object ArrayBuffer]",S="[object DataView]",j="[object Float32Array]",B="[object Float64Array]",H="[object Int8Array]",U="[object Int16Array]",z="[object Int32Array]",F="[object Uint8Array]",V="[object Uint8ClampedArray]",Y="[object Uint16Array]",q="[object Uint32Array]",N=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,K=/^\./,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J=/[\\^$.*+?()[\]{}|]/g,oe=/\\(\\)?/g,fe=/^\[object .+?Constructor\]$/,ye=/^(?:0|[1-9]\d*)$/,le={};le[j]=le[B]=le[H]=le[U]=le[z]=le[F]=le[V]=le[Y]=le[q]=!0,le[d]=le[f]=le[T]=le[h]=le[S]=le[m]=le[g]=le[b]=le[w]=le[x]=le[k]=le[I]=le[O]=le[A]=le[C]=!1;var Ee=typeof _r=="object"&&_r&&_r.Object===Object&&_r,ue=typeof self=="object"&&self&&self.Object===Object&&self,Me=Ee||ue||Function("return this")(),Fe=t&&!t.nodeType&&t,$e=Fe&&!0&&e&&!e.nodeType&&e,ze=$e&&$e.exports===Fe,Xe=ze&&Ee.process,ot=function(){try{return Xe&&Xe.binding("util")}catch{}}(),nt=ot&&ot.isTypedArray;function St(Z,ae){var Ae=Z?Z.length:0;return!!Ae&&_t(Z,ae,0)>-1}function Nt(Z,ae){for(var Ae=-1,Ze=Z?Z.length:0;++Ae<Ze;)if(ae(Z[Ae],Ae,Z))return!0;return!1}function ut(Z,ae,Ae,Ze){for(var Kt=Z.length,Ct=Ae+-1;++Ct<Kt;)if(ae(Z[Ct],Ct,Z))return Ct;return-1}function _t(Z,ae,Ae){if(ae!==ae)return ut(Z,wt,Ae);for(var Ze=Ae-1,Kt=Z.length;++Ze<Kt;)if(Z[Ze]===ae)return Ze;return-1}function wt(Z){return Z!==Z}function st(Z){return function(ae){return ae==null?void 0:ae[Z]}}function de(Z,ae){for(var Ae=-1,Ze=Array(Z);++Ae<Z;)Ze[Ae]=ae(Ae);return Ze}function Je(Z){return function(ae){return Z(ae)}}function be(Z,ae){return Z.has(ae)}function ke(Z,ae){return Z==null?void 0:Z[ae]}function Pe(Z){var ae=!1;if(Z!=null&&typeof Z.toString!="function")try{ae=!!(Z+"")}catch{}return ae}function rt(Z){var ae=-1,Ae=Array(Z.size);return Z.forEach(function(Ze,Kt){Ae[++ae]=[Kt,Ze]}),Ae}function at(Z,ae){return function(Ae){return Z(ae(Ae))}}function Jt(Z){var ae=-1,Ae=Array(Z.size);return Z.forEach(function(Ze){Ae[++ae]=Ze}),Ae}var En=Array.prototype,Ln=Function.prototype,Bn=Object.prototype,en=Me["__core-js_shared__"],dt=function(){var Z=/[^.]+$/.exec(en&&en.keys&&en.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}(),hn=Ln.toString,Re=Bn.hasOwnProperty,it=Bn.toString,kt=RegExp("^"+hn.call(Re).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=Me.Symbol,Xt=Me.Uint8Array,bt=Bn.propertyIsEnumerable,rn=En.splice,pn=at(Object.keys,Object),Gn=Za(Me,"DataView"),mn=Za(Me,"Map"),$t=Za(Me,"Promise"),pt=Za(Me,"Set"),Mn=Za(Me,"WeakMap"),nn=Za(Object,"create"),Fn=ee(Gn),Br=ee(mn),fi=ee($t),ce=ee(pt),me=ee(Mn),Se=et?et.prototype:void 0,Le=Se?Se.valueOf:void 0,lt=Se?Se.toString:void 0;function Ut(Z){var ae=-1,Ae=Z?Z.length:0;for(this.clear();++ae<Ae;){var Ze=Z[ae];this.set(Ze[0],Ze[1])}}function Lt(){this.__data__=nn?nn(null):{}}function te(Z){return this.has(Z)&&delete this.__data__[Z]}function re(Z){var ae=this.__data__;if(nn){var Ae=ae[Z];return Ae===a?void 0:Ae}return Re.call(ae,Z)?ae[Z]:void 0}function xe(Z){var ae=this.__data__;return nn?ae[Z]!==void 0:Re.call(ae,Z)}function Qe(Z,ae){var Ae=this.__data__;return Ae[Z]=nn&&ae===void 0?a:ae,this}Ut.prototype.clear=Lt,Ut.prototype.delete=te,Ut.prototype.get=re,Ut.prototype.has=xe,Ut.prototype.set=Qe;function qe(Z){var ae=-1,Ae=Z?Z.length:0;for(this.clear();++ae<Ae;){var Ze=Z[ae];this.set(Ze[0],Ze[1])}}function Ve(){this.__data__=[]}function Et(Z){var ae=this.__data__,Ae=Qr(ae,Z);if(Ae<0)return!1;var Ze=ae.length-1;return Ae==Ze?ae.pop():rn.call(ae,Ae,1),!0}function Ot(Z){var ae=this.__data__,Ae=Qr(ae,Z);return Ae<0?void 0:ae[Ae][1]}function Tt(Z){return Qr(this.__data__,Z)>-1}function Wt(Z,ae){var Ae=this.__data__,Ze=Qr(Ae,Z);return Ze<0?Ae.push([Z,ae]):Ae[Ze][1]=ae,this}qe.prototype.clear=Ve,qe.prototype.delete=Et,qe.prototype.get=Ot,qe.prototype.has=Tt,qe.prototype.set=Wt;function Ft(Z){var ae=-1,Ae=Z?Z.length:0;for(this.clear();++ae<Ae;){var Ze=Z[ae];this.set(Ze[0],Ze[1])}}function Pt(){this.__data__={hash:new Ut,map:new(mn||qe),string:new Ut}}function zt(Z){return Vi(this,Z).delete(Z)}function Gt(Z){return Vi(this,Z).get(Z)}function $n(Z){return Vi(this,Z).has(Z)}function Tr(Z,ae){return Vi(this,Z).set(Z,ae),this}Ft.prototype.clear=Pt,Ft.prototype.delete=zt,Ft.prototype.get=Gt,Ft.prototype.has=$n,Ft.prototype.set=Tr;function Kn(Z){var ae=-1,Ae=Z?Z.length:0;for(this.__data__=new Ft;++ae<Ae;)this.add(Z[ae])}function Kr(Z){return this.__data__.set(Z,a),this}function xr(Z){return this.__data__.has(Z)}Kn.prototype.add=Kn.prototype.push=Kr,Kn.prototype.has=xr;function bn(Z){this.__data__=new qe(Z)}function Nn(){this.__data__=new qe}function kr(Z){return this.__data__.delete(Z)}function Ra(Z){return this.__data__.get(Z)}function Ti(Z){return this.__data__.has(Z)}function Aa(Z,ae){var Ae=this.__data__;if(Ae instanceof qe){var Ze=Ae.__data__;if(!mn||Ze.length<n-1)return Ze.push([Z,ae]),this;Ae=this.__data__=new Ft(Ze)}return Ae.set(Z,ae),this}bn.prototype.clear=Nn,bn.prototype.delete=kr,bn.prototype.get=Ra,bn.prototype.has=Ti,bn.prototype.set=Aa;function hi(Z,ae){var Ae=He(Z)||ge(Z)?de(Z.length,String):[],Ze=Ae.length,Kt=!!Ze;for(var Ct in Z)Re.call(Z,Ct)&&!(Kt&&(Ct=="length"||Jr(Ct,Ze)))&&Ae.push(Ct);return Ae}function Qr(Z,ae){for(var Ae=Z.length;Ae--;)if(ne(Z[Ae][0],ae))return Ae;return-1}function ja(Z,ae){ae=La(ae,Z)?[ae]:Ua(ae);for(var Ae=0,Ze=ae.length;Z!=null&&Ae<Ze;)Z=Z[js(ae[Ae++])];return Ae&&Ae==Ze?Z:void 0}function sr(Z){return it.call(Z)}function Oa(Z,ae){return Z!=null&&ae in Object(Z)}function Ga(Z,ae,Ae,Ze,Kt){return Z===ae?!0:Z==null||ae==null||!tn(Z)&&!Lr(ae)?Z!==Z&&ae!==ae:Cr(Z,ae,Ga,Ae,Ze,Kt)}function Cr(Z,ae,Ae,Ze,Kt,Ct){var Cn=He(Z),yr=He(ae),tr=f,oa=f;Cn||(tr=sa(Z),tr=tr==d?k:tr),yr||(oa=sa(ae),oa=oa==d?k:oa);var Nr=tr==k&&!Pe(Z),Hr=oa==k&&!Pe(ae),ga=tr==oa;if(ga&&!Nr)return Ct||(Ct=new bn),Cn||yi(Z)?mi(Z,ae,Ae,Ze,Kt,Ct):Ka(Z,ae,tr,Ae,Ze,Kt,Ct);if(!(Kt&s)){var ki=Nr&&Re.call(Z,"__wrapped__"),Ri=Hr&&Re.call(ae,"__wrapped__");if(ki||Ri){var io=ki?Z.value():Z,Us=Ri?ae.value():ae;return Ct||(Ct=new bn),Ae(io,Us,Ze,Kt,Ct)}}return ga?(Ct||(Ct=new bn),Qa(Z,ae,Ae,Ze,Kt,Ct)):!1}function se(Z,ae,Ae,Ze){var Kt=Ae.length,Ct=Kt;if(Z==null)return!Ct;for(Z=Object(Z);Kt--;){var Cn=Ae[Kt];if(Cn[2]?Cn[1]!==Z[Cn[0]]:!(Cn[0]in Z))return!1}for(;++Kt<Ct;){Cn=Ae[Kt];var yr=Cn[0],tr=Z[yr],oa=Cn[1];if(Cn[2]){if(tr===void 0&&!(yr in Z))return!1}else{var Nr=new bn,Hr;if(!(Hr===void 0?Ga(oa,tr,Ze,i|s,Nr):Hr))return!1}}return!0}function mt(Z){if(!tn(Z)||ro(Z))return!1;var ae=Rt(Z)||Pe(Z)?kt:fe;return ae.test(ee(Z))}function ft(Z){return Lr(Z)&&Ht(Z.length)&&!!le[it.call(Z)]}function sn(Z){return typeof Z=="function"?Z:Z==null?W1:typeof Z=="object"?He(Z)?In(Z[0],Z[1]):It(Z):G1(Z)}function Pn(Z){if(!Is(Z))return pn(Z);var ae=[];for(var Ae in Object(Z))Re.call(Z,Ae)&&Ae!="constructor"&&ae.push(Ae);return ae}function It(Z){var ae=no(Z);return ae.length==1&&ae[0][2]?cs(ae[0][0],ae[0][1]):function(Ae){return Ae===Z||se(Ae,Z,ae)}}function In(Z,ae){return La(Z)&&Vo(ae)?cs(js(Z),ae):function(Ae){var Ze=Oc(Ae,Z);return Ze===void 0&&Ze===ae?zu(Ae,Z):Ga(ae,Ze,void 0,i|s)}}function Zr(Z){return function(ae){return ja(ae,Z)}}function hr(Z){if(typeof Z=="string")return Z;if(zr(Z))return lt?lt.call(Z):"";var ae=Z+"";return ae=="0"&&1/Z==-1/0?"-0":ae}function $r(Z,ae,Ae){var Ze=-1,Kt=St,Ct=Z.length,Cn=!0,yr=[],tr=yr;if(Ct>=n){var oa=ae?null:pi(Z);if(oa)return Jt(oa);Cn=!1,Kt=be,tr=new Kn}else tr=ae?[]:yr;e:for(;++Ze<Ct;){var Nr=Z[Ze],Hr=ae?ae(Nr):Nr;if(Nr=Nr!==0?Nr:0,Cn&&Hr===Hr){for(var ga=tr.length;ga--;)if(tr[ga]===Hr)continue e;ae&&tr.push(Hr),yr.push(Nr)}else Kt(tr,Hr,Ae)||(tr!==yr&&tr.push(Hr),yr.push(Nr))}return yr}function Ua(Z){return He(Z)?Z:Fs(Z)}var pi=pt&&1/Jt(new pt([,-0]))[1]==o?function(Z){return new pt(Z)}:wm;function mi(Z,ae,Ae,Ze,Kt,Ct){var Cn=Kt&s,yr=Z.length,tr=ae.length;if(yr!=tr&&!(Cn&&tr>yr))return!1;var oa=Ct.get(Z);if(oa&&Ct.get(ae))return oa==ae;var Nr=-1,Hr=!0,ga=Kt&i?new Kn:void 0;for(Ct.set(Z,ae),Ct.set(ae,Z);++Nr<yr;){var ki=Z[Nr],Ri=ae[Nr];if(Ze)var io=Cn?Ze(Ri,ki,Nr,ae,Z,Ct):Ze(ki,Ri,Nr,Z,ae,Ct);if(io!==void 0){if(io)continue;Hr=!1;break}if(ga){if(!Nt(ae,function(Us,Bs){if(!ga.has(Bs)&&(ki===Us||Ae(ki,Us,Ze,Kt,Ct)))return ga.add(Bs)})){Hr=!1;break}}else if(!(ki===Ri||Ae(ki,Ri,Ze,Kt,Ct))){Hr=!1;break}}return Ct.delete(Z),Ct.delete(ae),Hr}function Ka(Z,ae,Ae,Ze,Kt,Ct,Cn){switch(Ae){case S:if(Z.byteLength!=ae.byteLength||Z.byteOffset!=ae.byteOffset)return!1;Z=Z.buffer,ae=ae.buffer;case T:return!(Z.byteLength!=ae.byteLength||!Ze(new Xt(Z),new Xt(ae)));case h:case m:case x:return ne(+Z,+ae);case g:return Z.name==ae.name&&Z.message==ae.message;case I:case A:return Z==ae+"";case w:var yr=rt;case O:var tr=Ct&s;if(yr||(yr=Jt),Z.size!=ae.size&&!tr)return!1;var oa=Cn.get(Z);if(oa)return oa==ae;Ct|=i,Cn.set(Z,ae);var Nr=mi(yr(Z),yr(ae),Ze,Kt,Ct,Cn);return Cn.delete(Z),Nr;case L:if(Le)return Le.call(Z)==Le.call(ae)}return!1}function Qa(Z,ae,Ae,Ze,Kt,Ct){var Cn=Kt&s,yr=kf(Z),tr=yr.length,oa=kf(ae),Nr=oa.length;if(tr!=Nr&&!Cn)return!1;for(var Hr=tr;Hr--;){var ga=yr[Hr];if(!(Cn?ga in ae:Re.call(ae,ga)))return!1}var ki=Ct.get(Z);if(ki&&Ct.get(ae))return ki==ae;var Ri=!0;Ct.set(Z,ae),Ct.set(ae,Z);for(var io=Cn;++Hr<tr;){ga=yr[Hr];var Us=Z[ga],Bs=ae[ga];if(Ze)var Nl=Cn?Ze(Bs,Us,ga,ae,Z,Ct):Ze(Us,Bs,ga,Z,ae,Ct);if(!(Nl===void 0?Us===Bs||Ae(Us,Bs,Ze,Kt,Ct):Nl)){Ri=!1;break}io||(io=ga=="constructor")}if(Ri&&!io){var Hu=Z.constructor,Lc=ae.constructor;Hu!=Lc&&"constructor"in Z&&"constructor"in ae&&!(typeof Hu=="function"&&Hu instanceof Hu&&typeof Lc=="function"&&Lc instanceof Lc)&&(Ri=!1)}return Ct.delete(Z),Ct.delete(ae),Ri}function Vi(Z,ae){var Ae=Z.__data__;return gi(ae)?Ae[typeof ae=="string"?"string":"hash"]:Ae.map}function no(Z){for(var ae=kf(Z),Ae=ae.length;Ae--;){var Ze=ae[Ae],Kt=Z[Ze];ae[Ae]=[Ze,Kt,Vo(Kt)]}return ae}function Za(Z,ae){var Ae=ke(Z,ae);return mt(Ae)?Ae:void 0}var sa=sr;(Gn&&sa(new Gn(new ArrayBuffer(1)))!=S||mn&&sa(new mn)!=w||$t&&sa($t.resolve())!=R||pt&&sa(new pt)!=O||Mn&&sa(new Mn)!=C)&&(sa=function(Z){var ae=it.call(Z),Ae=ae==k?Z.constructor:void 0,Ze=Ae?ee(Ae):void 0;if(Ze)switch(Ze){case Fn:return S;case Br:return w;case fi:return R;case ce:return O;case me:return C}return ae});function Xr(Z,ae,Ae){ae=La(ae,Z)?[ae]:Ua(ae);for(var Ze,Kt=-1,Cn=ae.length;++Kt<Cn;){var Ct=js(ae[Kt]);if(!(Ze=Z!=null&&Ae(Z,Ct)))break;Z=Z[Ct]}if(Ze)return Ze;var Cn=Z?Z.length:0;return!!Cn&&Ht(Cn)&&Jr(Ct,Cn)&&(He(Z)||ge(Z))}function Jr(Z,ae){return ae=ae??c,!!ae&&(typeof Z=="number"||ye.test(Z))&&Z>-1&&Z%1==0&&Z<ae}function La(Z,ae){if(He(Z))return!1;var Ae=typeof Z;return Ae=="number"||Ae=="symbol"||Ae=="boolean"||Z==null||zr(Z)?!0:W.test(Z)||!N.test(Z)||ae!=null&&Z in Object(ae)}function gi(Z){var ae=typeof Z;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?Z!=="__proto__":Z===null}function ro(Z){return!!dt&&dt in Z}function Is(Z){var ae=Z&&Z.constructor,Ae=typeof ae=="function"&&ae.prototype||Bn;return Z===Ae}function Vo(Z){return Z===Z&&!tn(Z)}function cs(Z,ae){return function(Ae){return Ae==null?!1:Ae[Z]===ae&&(ae!==void 0||Z in Object(Ae))}}var Fs=Q(function(Z){Z=ao(Z);var ae=[];return K.test(Z)&&ae.push(""),Z.replace($,function(Ae,Ze,Kt,Ct){ae.push(Kt?Ct.replace(oe,"$1"):Ze||Ae)}),ae});function js(Z){if(typeof Z=="string"||zr(Z))return Z;var ae=Z+"";return ae=="0"&&1/Z==-1/0?"-0":ae}function ee(Z){if(Z!=null){try{return hn.call(Z)}catch{}try{return Z+""}catch{}}return""}function pe(Z,ae){return Z&&Z.length?$r(Z,sn(ae)):[]}function Q(Z,ae){if(typeof Z!="function"||ae&&typeof ae!="function")throw new TypeError(r);var Ae=function(){var Ze=arguments,Kt=ae?ae.apply(this,Ze):Ze[0],Ct=Ae.cache;if(Ct.has(Kt))return Ct.get(Kt);var Cn=Z.apply(this,Ze);return Ae.cache=Ct.set(Kt,Cn),Cn};return Ae.cache=new(Q.Cache||Ft),Ae}Q.Cache=Ft;function ne(Z,ae){return Z===ae||Z!==Z&&ae!==ae}function ge(Z){return ht(Z)&&Re.call(Z,"callee")&&(!bt.call(Z,"callee")||it.call(Z)==d)}var He=Array.isArray;function vt(Z){return Z!=null&&Ht(Z.length)&&!Rt(Z)}function ht(Z){return Lr(Z)&&vt(Z)}function Rt(Z){var ae=tn(Z)?it.call(Z):"";return ae==b||ae==_}function Ht(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=c}function tn(Z){var ae=typeof Z;return!!Z&&(ae=="object"||ae=="function")}function Lr(Z){return!!Z&&typeof Z=="object"}function zr(Z){return typeof Z=="symbol"||Lr(Z)&&it.call(Z)==L}var yi=nt?Je(nt):ft;function ao(Z){return Z==null?"":hr(Z)}function Oc(Z,ae,Ae){var Ze=Z==null?void 0:ja(Z,ae);return Ze===void 0?Ae:Ze}function zu(Z,ae){return Z!=null&&Xr(Z,ae,Oa)}function kf(Z){return vt(Z)?hi(Z):Pn(Z)}function W1(Z){return Z}function wm(){}function G1(Z){return La(Z)?st(js(Z)):Zr(Z)}e.exports=pe}(Gh,Gh.exports)),Gh.exports}var Ine=Pne();const R1=Or(Ine),y6=30;function v6({channels:e}){let t=null;for(const n of e){if(!S0(n))break;typeof t=="number"?t++:t=0}return t}const Kh=({channels:e,channelToMove:t,channelToMoveIndexWithinChannels:n,sort:r})=>{const a=n??e.findIndex(h=>h.cid===t.cid),i=a>=0,s=a===0,o=qC(r),c=S0(t);if(s||o&&c)return e;const d=[...e];i&&d.splice(a,1);let f=null;return o&&(f=v6({channels:d})),d.splice(typeof f=="number"?f+1:0,0,t),d},qC=e=>{const t=b6({atIndex:0,sort:e,targetKey:"pinned_at"});return typeof t!="number"?!1:Math.abs(t)===1},b6=({atIndex:e,sort:t,targetKey:n})=>{if(!t)return null;let r=null;if(Array.isArray(t))r=t[e]??null;else for(const a in t){if(a!==n)return null;r=t;break}return(r==null?void 0:r[n])??null},Qg=e=>e?typeof e.archived=="boolean":!1,S0=e=>e?typeof e.state.membership.pinned_at=="string":!1,Zg=e=>e?typeof e.state.membership.archived_at=="string":!1,_6=25,Nd=100,OA=100,Fne=50,GS=250,ux=500,LA=5e3,NA=2e3,jne=(e,t,n,r,a,i=LA,s)=>{const{channelsQueryState:{error:o,setError:c,setQueryInProgress:d}}=Yt("usePaginatedChannels"),[f,h]=E.useState([]),[m,g]=E.useState(!0),b=E.useRef(void 0),_=i<NA?NA:i??LA,w=E.useMemo(()=>JSON.stringify(t),[t]),x=E.useMemo(()=>JSON.stringify(n),[n]),k=async(O="load-more")=>{c(null),O==="reload"&&h([]),d(O);try{if(s)await s({currentChannels:f,queryType:O,setChannels:h,setHasNextPage:g});else{const A=O==="reload"?0:f.length,L={limit:(r==null?void 0:r.limit)??y6,message_limit:(r==null?void 0:r.message_limit)??_6,offset:A,...r},C=await e.queryChannels(t,n||{},L),T=O==="reload"?C:R1([...f,...C],"cid");h(T),g(C.length>=L.limit),!A&&a&&a(T,h)}}catch(A){console.warn(A),c(A)}d(null)},R=E.useCallback(()=>{const O=Date.now(),A=!b.current,L=b.current?O-b.current:0;!A&&L<_&&!o||(b.current=O,k("reload"))},[o,k,_]),I=()=>{k()};return E.useEffect(()=>{if(e.recoverStateOnReconnect)return;const{unsubscribe:O}=e.on("connection.recovered",R);return()=>{O()}},[e,R]),E.useEffect(()=>{k("reload")},[w,x]),{channels:f,hasNextPage:m,loadNextPage:I,setChannels:h}},PA=({customHandler:e,event:t,setChannels:n})=>{if(typeof e=="function")return e(n,t);n(r=>{const a=r.findIndex(i=>i.cid===t.cid);return a<0?r:(r.splice(a,1),[...r])})},Une=()=>{const{client:e}=Yt(),t=E.useCallback(({allowNewMessagesFromUnfilteredChannels:m,customHandler:g,event:b,filters:_,lockChannelOrder:w,setChannels:x,sort:k})=>{if(typeof g=="function")return g(x,b);const R=b.channel_type,I=b.channel_id;!R||!I||x(O=>{const A=e.channel(R,I),L=O.indexOf(A),C=L>=0,T=S0(A),S=Zg(A),j=Qg(_),B=qC(k);return j&&S&&!_.archived||j&&!S&&_.archived||B&&T||w||!C&&!m?O:Kh({channels:O,channelToMove:A,channelToMoveIndexWithinChannels:L,sort:k})})},[e]),n=E.useCallback(async({allowNewMessagesFromUnfilteredChannels:m,customHandler:g,event:b,filters:_,setChannels:w,sort:x})=>{if(typeof g=="function")return g(w,b);if(!b.channel)return;const k=await Oy({client:e,id:b.channel.id,type:b.channel.type}),R=Qg(_);Zg(k)&&R&&!_.archived||m&&w(I=>Kh({channels:I,channelToMove:k,sort:x}))},[e]),r=E.useCallback(async({allowNewMessagesFromUnfilteredChannels:m,customHandler:g,event:b,setChannels:_,sort:w})=>{var k;if(typeof g=="function")return g(_,b);if(!b.channel||!m)return;const x=await Oy({client:e,id:b.channel.id,members:(k=b.channel.members)==null?void 0:k.reduce((R,{user:I,user_id:O})=>{const A=O||(I==null?void 0:I.id);return A&&R.push(A),R},[]),type:b.channel.type});_(R=>Kh({channels:R,channelToMove:x,sort:w}))},[e]),a=E.useCallback(({customHandler:m,event:g,setChannels:b})=>{if(typeof m=="function")return m(b,g);b(_=>_.filter(w=>{var x;return w.cid!==((x=g.channel)==null?void 0:x.cid)}))},[]),i=E.useCallback(({event:m,filters:g,lockChannelOrder:b,setChannels:_,sort:w})=>{var A;if(!((A=m.member)!=null&&A.user)||m.member.user.id!==e.userID||!m.channel_type)return;const x=m.channel_type,k=m.channel_id,R=qC(w),I=Qg(g);if(!R&&!I||b)return;const O=b6({atIndex:0,sort:w,targetKey:"pinned_at"});_(L=>{const C=e.channel(x,k),T=L.indexOf(C),S=T>=0,j=Zg(C),B=S0(C),H=[...L];if(S&&H.splice(T,1),I&&j&&!g.archived||I&&!j&&g.archived)return H;let U=null;(O===1||O===-1&&!B)&&(U=v6({channels:H}));const z=typeof U=="number"?U+1:0;return L[z]===C?L:(H.splice(z,0,C),H)})},[e]),s=E.useCallback(m=>PA(m),[]),o=E.useCallback(m=>PA(m),[]),c=E.useCallback(async({customHandler:m,event:g,filters:b,setChannels:_,sort:w})=>{if(typeof m=="function")return m(_,g);if(!g.channel)return;const x=await Oy({client:e,id:g.channel.id,type:g.channel.type}),k=Qg(b);Zg(x)&&k&&!b.archived||_(R=>Kh({channels:R,channelToMove:x,sort:w}))},[e]),d=E.useCallback(({customHandler:m,event:g,setChannels:b})=>{if(typeof m=="function")return m(b,g);b(_=>[..._])},[]),f=E.useCallback(({customHandler:m,event:g,setChannels:b})=>{if(typeof m=="function")return m(b,g);b(_=>{var x,k,R,I;const w=_.findIndex(O=>{var A;return O.cid===((A=g.channel)==null?void 0:A.cid)});if(w>-1&&g.channel){const O=_;return O[w].data={...g.channel,hidden:((x=g.channel)==null?void 0:x.hidden)??((k=O[w].data)==null?void 0:k.hidden),own_capabilities:((R=g.channel)==null?void 0:R.own_capabilities)??((I=O[w].data)==null?void 0:I.own_capabilities)},[...O]}return _})},[]),h=E.useCallback(({event:m,setChannels:g})=>{g(b=>b.map(w=>{var k;if(!((k=m.user)!=null&&k.id)||!w.state.members[m.user.id])return w;const x=w;return x.state.members[m.user.id].user=m.user,x}))},[]);return E.useMemo(()=>({handleChannelDeleted:s,handleChannelHidden:o,handleChannelTruncated:d,handleChannelUpdated:f,handleChannelVisible:c,handleMemberUpdated:i,handleMessageNew:t,handleNotificationAddedToChannel:r,handleNotificationMessageNew:n,handleNotificationRemovedFromChannel:a,handleUserPresenceChanged:h}),[s,o,d,f,c,i,t,r,n,a,h])},Bne=({allowNewMessagesFromUnfilteredChannels:e,customHandleChannelListShape:t,filters:n,lockChannelOrder:r,onAddedToChannel:a,onChannelDeleted:i,onChannelHidden:s,onChannelTruncated:o,onChannelUpdated:c,onChannelVisible:d,onMessageNew:f,onMessageNewHandler:h,onRemovedFromChannel:m,setChannels:g,sort:b})=>{const _=Une(),w=E.useRef(void 0),x=E.useRef(void 0);x.current=I=>{t==null||t({defaults:_,event:I,setChannels:g})},w.current=I=>{switch(I.type){case"message.new":_.handleMessageNew({allowNewMessagesFromUnfilteredChannels:e,customHandler:h,event:I,filters:n,lockChannelOrder:r,setChannels:g,sort:b});break;case"notification.message_new":_.handleNotificationMessageNew({allowNewMessagesFromUnfilteredChannels:e,customHandler:f,event:I,filters:n,lockChannelOrder:r,setChannels:g,sort:b});break;case"notification.added_to_channel":_.handleNotificationAddedToChannel({allowNewMessagesFromUnfilteredChannels:e,customHandler:a,event:I,lockChannelOrder:r,setChannels:g,sort:b});break;case"notification.removed_from_channel":_.handleNotificationRemovedFromChannel({customHandler:m,event:I,setChannels:g});break;case"channel.deleted":_.handleChannelDeleted({customHandler:i,event:I,setChannels:g});break;case"channel.hidden":_.handleChannelHidden({customHandler:s,event:I,setChannels:g});break;case"channel.visible":_.handleChannelVisible({customHandler:d,event:I,filters:n,setChannels:g,sort:b});break;case"channel.truncated":_.handleChannelTruncated({customHandler:o,event:I,setChannels:g});break;case"channel.updated":_.handleChannelUpdated({customHandler:c,event:I,setChannels:g});break;case"user.presence.changed":_.handleUserPresenceChanged({event:I,setChannels:g});break;case"member.updated":_.handleMemberUpdated({event:I,filters:n,lockChannelOrder:r,setChannels:g,sort:b});break}};const k=E.useCallback(I=>{var O;(O=w.current)==null||O.call(w,I)},[]);return{customHandler:E.useMemo(()=>t?I=>{var O;(O=x.current)==null||O.call(x,I)}:null,[t]),defaultHandler:k}},$ne=e=>{const{client:t}=Yt();E.useEffect(()=>t.on("all",e).unsubscribe,[t,e])},dx=()=>v.createElement("div",{className:"str-chat__loading-channels-item str-chat__channel-preview-loading"},v.createElement("div",{className:"str-chat__loading-channels-avatar"}),v.createElement("div",{className:"str-chat__loading-channels-meta str-chat__channel-preview-end-loading"},v.createElement("div",{className:"str-chat__loading-channels-username"}),v.createElement("div",{className:"str-chat__loading-channels-status"}))),zne=()=>v.createElement("div",{className:"str-chat__loading-channels"},v.createElement(dx,null),v.createElement(dx,null),v.createElement(dx,null)),w6=v.memo(zne),x6=()=>null;class Hne extends E.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,n){console.error(t,n)}render(){return this.state.hasError?this.props.fallback:this.props.children}}const Vne=e=>{const{children:t,error:n=null,loading:r,LoadingErrorIndicator:a=x6,LoadingIndicator:i=w6}=e,{t:s}=Ge("ChannelListMessenger");return n?v.createElement(a,null):r?v.createElement(i,null):v.createElement("div",{className:"str-chat__channel-list-messenger str-chat__channel-list-messenger-react"},v.createElement("div",{"aria-label":s("aria/Channel list"),className:"str-chat__channel-list-messenger__main str-chat__channel-list-messenger-react__main",role:"listbox"},t))};var fx,IA;function qne(){if(IA)return fx;IA=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,c=typeof _r=="object"&&_r&&_r.Object===Object&&_r,d=typeof self=="object"&&self&&self.Object===Object&&self,f=c||d||Function("return this")(),h=Object.prototype,m=h.toString,g=Math.max,b=Math.min,_=function(){return f.Date.now()};function w(O,A,L){var C,T,S,j,B,H,U=0,z=!1,F=!1,V=!0;if(typeof O!="function")throw new TypeError(e);A=I(A)||0,x(L)&&(z=!!L.leading,F="maxWait"in L,S=F?g(I(L.maxWait)||0,A):S,V="trailing"in L?!!L.trailing:V);function Y(ye){var le=C,Ee=T;return C=T=void 0,U=ye,j=O.apply(Ee,le),j}function q(ye){return U=ye,B=setTimeout(K,A),z?Y(ye):j}function N(ye){var le=ye-H,Ee=ye-U,ue=A-le;return F?b(ue,S-Ee):ue}function W(ye){var le=ye-H,Ee=ye-U;return H===void 0||le>=A||le<0||F&&Ee>=S}function K(){var ye=_();if(W(ye))return $(ye);B=setTimeout(K,N(ye))}function $(ye){return B=void 0,V&&C?Y(ye):(C=T=void 0,j)}function J(){B!==void 0&&clearTimeout(B),U=0,C=H=T=B=void 0}function oe(){return B===void 0?j:$(_())}function fe(){var ye=_(),le=W(ye);if(C=arguments,T=this,H=ye,le){if(B===void 0)return q(H);if(F)return B=setTimeout(K,A),Y(H)}return B===void 0&&(B=setTimeout(K,A)),j}return fe.cancel=J,fe.flush=oe,fe}function x(O){var A=typeof O;return!!O&&(A=="object"||A=="function")}function k(O){return!!O&&typeof O=="object"}function R(O){return typeof O=="symbol"||k(O)&&m.call(O)==n}function I(O){if(typeof O=="number")return O;if(R(O))return t;if(x(O)){var A=typeof O.valueOf=="function"?O.valueOf():O;O=x(A)?A+"":A}if(typeof O!="string")return O===0?O:+O;O=O.replace(r,"");var L=i.test(O);return L||s.test(O)?o(O.slice(2),L?2:8):a.test(O)?t:+O}return fx=w,fx}var Yne=qne();const nf=Or(Yne),C6=e=>e.cid!=null,Wne=({channelType:e="messaging",clearSearchOnClickOutside:t=!0,disabled:n=!1,onSearch:r,onSearchExit:a,onSelectResult:i,searchDebounceIntervalMs:s=300,searchForChannels:o=!1,searchForUsers:c=!0,searchFunction:d,searchQueryParams:f,setChannels:h})=>{const{client:m,setActiveChannel:g}=Yt("useChannelSearch"),[b,_]=E.useState(!1),[w,x]=E.useState(""),[k,R]=E.useState([]),[I,O]=E.useState(!1),A=E.useRef(!1),L=E.useRef(!1),C=E.useRef(null),T=E.useRef(null),S=E.useCallback(()=>{x(""),R([]),O(!1),L.current=A.current},[]),j=E.useCallback(()=>{_(!0)},[]),B=E.useCallback(()=>{var V;_(!1),(V=C.current)==null||V.blur(),S(),a==null||a()},[S,a]);E.useEffect(()=>{if(n)return;const V=Y=>{var N;!(Y.target instanceof HTMLElement)||(N=T.current)!=null&&N.contains(Y.target)||(b&&!w||t)&&B()};return document.addEventListener("click",V),()=>document.removeEventListener("click",V)},[n,b,w,B,t]),E.useEffect(()=>{if(!C.current||n)return;const V=Y=>{if(Y.key==="Escape")return B()};return C.current.addEventListener("keydown",V),()=>{var Y;(Y=C.current)==null||Y.removeEventListener("keydown",V)}},[n]);const H=E.useCallback(async V=>{if(!m.userID)return;if(i){await i({setQuery:x,setResults:R,setSearching:O},V);return}let Y;if(C6(V))g(V),Y=V;else{const q=m.channel(e,{members:[m.userID,V.id]});await q.watch(),g(q),Y=q}h==null||h(q=>R1([Y,...q],"cid")),t&&B()},[t,m,B,i,g,h]),U=E.useCallback(async V=>{var N,W,K,$,J,oe;if(!o&&!c)return;let Y=[];const q=[];try{if(o&&q.push(m.queryChannels({members:{$in:[m.userID]},name:{$autocomplete:V},...(N=f==null?void 0:f.channelFilters)==null?void 0:N.filters},((W=f==null?void 0:f.channelFilters)==null?void 0:W.sort)||{},{limit:5,...(K=f==null?void 0:f.channelFilters)==null?void 0:K.options})),c&&q.push(m.queryUsers({$or:[{id:{$autocomplete:V}},{name:{$autocomplete:V}}],...($=f==null?void 0:f.userFilters)==null?void 0:$.filters},{id:1,...(J=f==null?void 0:f.userFilters)==null?void 0:J.sort},{limit:8,...(oe=f==null?void 0:f.userFilters)==null?void 0:oe.options})),q.length){A.current=!0;const fe=await Promise.all(q);if(o&&c){const[ye,{users:le}]=fe;Y=[...ye,...le.filter(Ee=>{var ue;return Ee.id!==((ue=m.user)==null?void 0:ue.id)})]}else if(o){const[ye]=fe;Y=[...ye]}else if(c){const[{users:ye}]=fe;Y=[...ye.filter(le=>{var Ee;return le.id!==((Ee=m.user)==null?void 0:Ee.id)})]}}}catch(fe){console.error(fe)}O(!1),L.current?L.current=!1:R(Y),A.current=!1},[m,o,c,f]),z=E.useCallback(nf(U,s),[U,s]),F=E.useCallback(V=>{if(V.preventDefault(),!n){if(d)d({setQuery:x,setResults:R,setSearching:O},V);else{if(!o&&!c)return;V.target.value?(O(!0),x(V.target.value),z(V.target.value)):V.target.value||(S(),z.cancel())}r==null||r(V)}},[S,n,z,r,o,c,d]);return{activateSearch:j,clearState:S,exitSearch:B,inputIsFocused:b,inputRef:C,onSearch:F,query:w,results:k,searchBarRef:T,searching:I,selectResult:H}},Gne=()=>v.createElement("svg",{"data-testid":"menu-icon",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{clipRule:"evenodd",d:"M3 8V6H21V8H3ZM3 13H21V11H3V13ZM3 18H21V16H3V18Z",fill:"black",fillRule:"evenodd"})),Kne=()=>v.createElement("svg",{"data-testid":"return-icon",fill:"none",height:"20",viewBox:"0 0 22 22",width:"20",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M21.6668 9.66666V12.3333H5.6529L12.9932 19.6736L11.1076 21.5592L0.54834 11L11.1076 0.440765L12.9932 2.32638L5.6529 9.66666H21.6668Z",fill:"#080707"})),Qne=()=>v.createElement("svg",{fill:"none",height:"14",viewBox:"0 0 14 14",width:"14",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z",fill:"#747881"})),D6=({className:e})=>v.createElement("svg",{className:e,fill:"none",height:"18",viewBox:"0 0 18 18",width:"18",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M12.7549 11.255H11.9649L11.6849 10.985C12.6649 9.845 13.2549 8.365 13.2549 6.755C13.2549 3.165 10.3449 0.255005 6.75488 0.255005C3.16488 0.255005 0.254883 3.165 0.254883 6.755C0.254883 10.345 3.16488 13.255 6.75488 13.255C8.36488 13.255 9.84488 12.665 10.9849 11.685L11.2549 11.965V12.755L16.2549 17.745L17.7449 16.255L12.7549 11.255ZM6.75488 11.255C4.26488 11.255 2.25488 9.245 2.25488 6.755C2.25488 4.26501 4.26488 2.255 6.75488 2.255C9.24488 2.255 11.2549 4.26501 11.2549 6.755C11.2549 9.245 9.24488 11.255 6.75488 11.255Z",fill:"#747881"})),S6=e=>{const{disabled:t,inputRef:n,onSearch:r,placeholder:a,query:i}=e,{t:s}=Ge("SearchInput");return v.createElement("input",{className:"str-chat__channel-search-input","data-testid":"search-input",disabled:t,onChange:r,placeholder:a??s("Search"),ref:n,type:"text",value:i})},FA=({children:e,className:t,onClick:n})=>v.createElement("button",{className:Ue("str-chat__channel-search-bar-button",t),"data-testid":"search-bar-button",onClick:n},e),Zne=e=>{const{activateSearch:t,AppMenu:n,ClearInputIcon:r=Qne,exitSearch:a,ExitSearchIcon:i=Kne,inputIsFocused:s,MenuIcon:o=Gne,searchBarRef:c,SearchInput:d=S6,SearchInputIcon:f=D6,...h}=e,[m,g]=E.useState(!1),b=E.useRef(null);E.useEffect(()=>{if(!b.current)return;const x=R=>{m&&R.key==="Escape"&&g(!1)},k=R=>{var I;!(R.target instanceof HTMLElement)||!m||(I=b.current)!=null&&I.contains(R.target)||g(!1)};return document.addEventListener("keydown",x),document.addEventListener("click",k),()=>{document.removeEventListener("keydown",x),document.removeEventListener("click",k)}},[m]),E.useEffect(()=>{if(!e.inputRef.current)return;const x=e.inputRef.current,k=()=>{t()},R=I=>{I.stopPropagation()};return x.addEventListener("focus",k),x.addEventListener("blur",R),()=>{x.removeEventListener("focus",k),x.removeEventListener("blur",R)}},[t,e.inputRef]);const _=E.useCallback(()=>{var x;a(),(x=h.inputRef.current)==null||x.focus()},[a,h.inputRef]),w=E.useCallback(()=>g(!1),[]);return v.createElement("div",{className:"str-chat__channel-search-bar","data-testid":"search-bar",ref:c},s?v.createElement(FA,{className:"str-chat__channel-search-bar-button--exit-search",onClick:a},v.createElement(i,null)):n?v.createElement(FA,{className:"str-chat__channel-search-bar-button--menu",onClick:()=>g(x=>!x)},v.createElement(o,null)):null,v.createElement("div",{className:Ue("str-chat__channel-search-input--wrapper",h.query&&"str-chat__channel-search-input--wrapper-active")},v.createElement("div",{className:"str-chat__channel-search-input--icon"},v.createElement(f,null)),v.createElement(d,{...h}),v.createElement("button",{className:"str-chat__channel-search-input--clear-button","data-testid":"clear-input-button",disabled:!h.query,onClick:_},v.createElement(r,null))),m&&n&&v.createElement("div",{ref:b},v.createElement(n,{close:w})))},Xne=()=>{const{t:e}=Ge("SearchResults");return v.createElement("div",{"aria-live":"polite",className:"str-chat__channel-search-container-empty"},v.createElement(D6,null),e("No results found"))},Jne=({results:e})=>{const{t}=Ge("SearchResultsHeader");return v.createElement("div",{className:"str-chat__channel-search-results-header","data-testid":"channel-search-results-header"},t("searchResultsCount",{count:e.length}))},ere=e=>{const{focusedUser:t,results:n,SearchResultItem:r,selectResult:a}=e;return v.createElement(v.Fragment,null,n.map((i,s)=>v.createElement(r,{focusedUser:t,index:s,key:s,result:i,selectResult:a})))},tre=e=>{const{focusedUser:t,index:n,result:r,selectResult:a}=e,s=Ue("str-chat__channel-search-result",t===n&&"str-chat__channel-search-result--focused");if(C6(r)){const o=r;return v.createElement(u8,{channel:o,className:s,onSelect:()=>a(o)})}else return v.createElement("button",{"aria-label":`Select User Channel: ${r.name||""}`,className:s,"data-testid":"channel-search-result-user",onClick:()=>a(r),role:"option"},v.createElement(zi,{className:"str-chat__avatar--channel-preview",image:r.image,name:r.name||r.id,user:r}),v.createElement("div",{className:"str-chat__channel-search-result--display-name"},r.name||r.id))},hx=({children:e,popupResults:t})=>{const{t:n}=Ge("ResultsContainer");return v.createElement("div",{"aria-label":n("aria/Channel search results"),className:Ue("str-chat__channel-search-result-list",t?"popup":"inline")},e)},nre=e=>{const{popupResults:t,results:n,SearchEmpty:r=Xne,searching:a,SearchLoading:i,SearchResultItem:s=tre,SearchResultsHeader:o=Jne,SearchResultsList:c=ere,selectResult:d}=e,{t:f}=Ge("SearchResults"),[h,m]=E.useState(),g=E.useCallback(b=>{b.key==="ArrowUp"&&m(_=>_===void 0?0:_===0?n.length-1:_-1),b.key==="ArrowDown"&&m(_=>_===void 0||_===n.length-1?0:_+1),b.key==="Enter"&&(b.preventDefault(),m(_=>{if(typeof _<"u"){d(n[_]);return}return _}))},[n,d]);return E.useEffect(()=>(document.addEventListener("keydown",g,!1),()=>document.removeEventListener("keydown",g)),[g]),a?v.createElement(hx,{popupResults:t},i?v.createElement(i,null):v.createElement("div",{className:"str-chat__channel-search-container-searching","data-testid":"search-in-progress-indicator"},f("Searching..."))):n.length?v.createElement(hx,{popupResults:t},v.createElement(o,{results:n}),v.createElement(c,{focusedUser:h,results:n,SearchResultItem:s,selectResult:d})):v.createElement(hx,{popupResults:t},v.createElement(r,null))},rre=e=>{const{AppMenu:t,ClearInputIcon:n,ExitSearchIcon:r,MenuIcon:a,placeholder:i,popupResults:s=!1,SearchBar:o=Zne,SearchEmpty:c,SearchInput:d=S6,SearchInputIcon:f,SearchLoading:h,SearchResultItem:m,SearchResultsHeader:g,SearchResultsList:b,..._}=e,{activateSearch:w,clearState:x,exitSearch:k,inputIsFocused:R,inputRef:I,onSearch:O,query:A,results:L,searchBarRef:C,searching:T,selectResult:S}=Wne(_);return v.createElement("div",{className:Ue("str-chat__channel-search",s?"str-chat__channel-search--popup":"str-chat__channel-search--inline",{"str-chat__channel-search--with-results":L.length>0}),"data-testid":"channel-search"},v.createElement(o,{activateSearch:w,AppMenu:t,ClearInputIcon:n,clearState:x,disabled:_.disabled,exitSearch:k,ExitSearchIcon:r,inputIsFocused:R,inputRef:I,MenuIcon:a,onSearch:O,placeholder:i,query:A,searchBarRef:C,SearchInput:d,SearchInputIcon:f}),A&&v.createElement(nre,{popupResults:s,results:L,SearchEmpty:c,searching:T,SearchLoading:h,SearchResultItem:m,SearchResultsHeader:g,SearchResultsList:b,selectResult:S}))},are=v.memo(rre),jA=()=>v.createElement("svg",{"data-testid":"chat-bubble",fill:"none",height:"96",viewBox:"0 0 136 136",width:"96",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M106 24.5H30C24.775 24.5 20.5 28.775 20.5 34V119.5L39.5 100.5H106C111.225 100.5 115.5 96.225 115.5 91V34C115.5 28.775 111.225 24.5 106 24.5ZM106 91H39.5L30 100.5V34H106V91Z",fill:"#B4B7BB"})),ire=e=>{const{listType:t}=e,{t:n}=Ge("EmptyStateIndicator");if(t==="thread")return null;if(t==="channel"){const r=n("You have no channels currently");return v.createElement(v.Fragment,null,v.createElement("div",{className:"str-chat__channel-list-empty"},v.createElement(jA,null),v.createElement("p",{role:"listitem"},r)))}if(t==="message"){const r=n("No chats here yet…");return v.createElement("div",{className:"str-chat__empty-channel"},v.createElement(jA,null),v.createElement("p",{className:"str-chat__empty-channel-text",role:"listitem"},r))}return v.createElement("p",null,"No items exist")},KS=v.memo(ire),sre=({error:e})=>{const{t}=Ge("LoadingErrorIndicator");return e?v.createElement("div",null,t("Error: {{ errorMessage }}",{errorMessage:e.message})):null},ore=v.memo(sre,(e,t)=>{var n,r;return((n=e.error)==null?void 0:n.message)===((r=t.error)==null?void 0:r.message)}),lre=e=>{const{color:t="#006CFF",size:n=15}=e;return v.createElement("div",{className:"str-chat__loading-indicator","data-testid":"loading-indicator-wrapper",style:{height:n,width:n}},v.createElement("svg",{height:n,viewBox:"0 0 30 30",width:n,xmlns:"http://www.w3.org/2000/svg"},v.createElement("defs",null,v.createElement("linearGradient",{id:"a",x1:"50%",x2:"50%",y1:"0%",y2:"100%"},v.createElement("stop",{offset:"0%",stopColor:"#FFF",stopOpacity:"0"}),v.createElement("stop",{"data-testid":"loading-indicator-circle",offset:"100%",stopColor:t,stopOpacity:"1",style:{stopColor:t}}))),v.createElement("path",{d:"M2.518 23.321l1.664-1.11A12.988 12.988 0 0 0 15 28c7.18 0 13-5.82 13-13S22.18 2 15 2V0c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-5.206 0-9.792-2.652-12.482-6.679z",fill:"url(#a)",fillRule:"evenodd"})))},Fu=v.memo(lre,(e,t)=>e.color===t.color&&e.size===t.size),QS=(e,t)=>{e.forEach(n=>{const[[r,a],[i,s]]=[Object.entries(n[0])[0],Object.entries(n[1])[0]];(typeof a<"u"&&typeof s>"u"||typeof a<"u"&&typeof s<"u")&&console.warn(`[Deprecation notice (${t})]: prefer using prop ${i} instead of ${r}`)})},cre=({children:e,isLoading:t,onClick:n,refreshing:r})=>{const{t:a}=Ge("UnMemoizedLoadMoreButton"),i=e??a("Load more"),s=typeof t<"u"?t:r;return E.useEffect(()=>{QS([[{refreshing:r},{isLoading:t}]],"LoadMoreButton")},[]),v.createElement("div",{className:"str-chat__load-more-button"},v.createElement("button",{"aria-label":a("aria/Load More Channels"),className:"str-chat__load-more-button__button str-chat__cta-button","data-testid":"load-more-button",disabled:s,onClick:n},s?v.createElement(Fu,null):i))},ure=v.memo(cre),dre=e=>{const{children:t,hasNextPage:n,isLoading:r,LoadMoreButton:a=ure,loadNextPage:i,refreshing:s,reverse:o}=e,c=typeof r<"u"?r:s;return E.useEffect(()=>{QS([[{refreshing:s},{isLoading:r}]],"LoadMorePaginator")},[]),v.createElement(v.Fragment,null,!o&&t,n&&v.createElement(a,{isLoading:c,onClick:i}),o&&t)},fre=v.memo(dre),hre={},pre={},UA={},mre=e=>({searchIsActive:e.isActive}),gre=e=>{const{additionalChannelSearchProps:t,allowNewMessagesFromUnfilteredChannels:n=!0,Avatar:r=zi,channelRenderFilterFn:a,ChannelSearch:i=are,customActiveChannel:s,customQueryChannels:o,EmptyStateIndicator:c=KS,filters:d={},getLatestMessagePreview:f,List:h=Vne,LoadingErrorIndicator:m=x6,LoadingIndicator:g=w6,lockChannelOrder:b=!1,onAddedToChannel:_,onChannelDeleted:w,onChannelHidden:x,onChannelTruncated:k,onChannelUpdated:R,onChannelVisible:I,onMessageNew:O,onMessageNewHandler:A,onRemovedFromChannel:L,options:C,Paginator:T=fre,Preview:S,recoveryThrottleIntervalMs:j,renderChannels:B,sendChannelsToList:H=!1,setActiveChannelOnMount:U=!0,showChannelSearch:z=!1,sort:F=UA,watchers:V={}}=e,{channel:Y,channelsQueryState:q,client:N,closeMobileNav:W,customClasses:K,navOpen:$=!1,searchController:J,setActiveChannel:oe,theme:fe,useImageFlagEmojisOnWindows:ye}=Yt("ChannelList"),{Search:le}=xn(),Ee=E.useRef(null),[ue,Me]=E.useState(0),[Fe,$e]=E.useState(!1),{searchIsActive:ze}=On(J.state,mre),Xe=async(at,Jt)=>{if(!(!at.length||at.length>((C==null?void 0:C.limit)||y6))){if(s){let En=at.find(Ln=>Ln.id===s);if(En||([En]=await N.queryChannels({id:s})),En){oe(En,V);const Ln=Kh({channels:at,channelToMove:En,sort:F});Jt(Ln)}return}U&&oe(at[0],V)}},ot=E.useCallback(()=>Me(at=>at+1),[]),nt=E.useCallback(at=>{var Jt;$e(!!at.target.value),(Jt=t==null?void 0:t.onSearch)==null||Jt.call(t,at)},[t]),St=E.useCallback(()=>{var at;$e(!1),(at=t==null?void 0:t.onSearchExit)==null||at.call(t)},[t]),{channels:Nt,hasNextPage:ut,loadNextPage:_t,setChannels:wt}=jne(N,d||hre,F||UA,C||pre,Xe,j,o),st=a?a(Nt):Nt;Nne(Ee,$,W);const{customHandler:de,defaultHandler:Je}=Bne({allowNewMessagesFromUnfilteredChannels:n,filters:d,lockChannelOrder:b,onAddedToChannel:_,onChannelDeleted:w,onChannelHidden:x,onChannelTruncated:k,onChannelUpdated:R,onChannelVisible:I,onMessageNew:O,onMessageNewHandler:A,onRemovedFromChannel:L,setChannels:wt,sort:F});$ne(de??Je),Lne(ot),E.useEffect(()=>{const at=Jt=>{Jt.cid===(Y==null?void 0:Y.cid)&&oe()};return N.on("channel.deleted",at),N.on("channel.hidden",at),()=>{N.off("channel.deleted",at),N.off("channel.hidden",at)}},[Y==null?void 0:Y.cid]);const be=at=>{const Jt={activeChannel:Y,Avatar:r,channel:at,channelUpdateCount:ue,getLatestMessagePreview:f,key:at.cid,Preview:S,setActiveChannel:oe,watchers:V};return v.createElement(u8,{...Jt})},ke="str-chat__channel-list",Pe=Ue((K==null?void 0:K.chat)??"str-chat",fe,(K==null?void 0:K.channelList)??`${ke} ${ke}-react`,{"str-chat--windows-flags":ye&&navigator.userAgent.match(/Win/),[`${ke}--open`]:$}),rt=!Fe&&!ze||(t==null?void 0:t.popupResults);return v.createElement(AJ,{value:{channels:Nt,setChannels:wt}},v.createElement("div",{className:Pe,ref:Ee},z&&(le?v.createElement(le,{directMessagingChannelType:t==null?void 0:t.channelType,disabled:t==null?void 0:t.disabled,exitSearchOnInputBlur:t==null?void 0:t.clearSearchOnClickOutside,placeholder:t==null?void 0:t.placeholder}):v.createElement(i,{onSearch:nt,onSearchExit:St,setChannels:wt,...t})),rt&&v.createElement(h,{error:q.error,loadedChannels:H?st:void 0,loading:!!q.queryInProgress&&["reload","uninitialized"].includes(q.queryInProgress),LoadingErrorIndicator:m,LoadingIndicator:g,setChannels:wt},st!=null&&st.length?v.createElement(T,{hasNextPage:ut,isLoading:q.queryInProgress==="load-more",loadNextPage:_t},B?B(st,be):st.map(at=>be(at))):v.createElement(c,{listType:"channel"}))))},yre=v.memo(gre),vre=()=>{};function bre({channel:e,selector:t,stateChangeEventKeys:n=["all"]}){const r=E.useCallback(i=>{if(!e)return vre;const s=n.map(o=>e.on(o,()=>{i(t(e))}));return()=>s.forEach(o=>o.unsubscribe())},[e,t,n]),a=E.useCallback(()=>{if(e)return t(e)},[e,t]);return x5.useSyncExternalStore(r,a)}const _re=e=>e.state.membership,wre=["member.updated"];function xre(e){return bre({channel:e,selector:_re,stateChangeEventKeys:wre})}const BA={ArchiveBox:e=>v.createElement("svg",{className:"str-chat__icon str-chat__icon--archive-box",fill:"currentColor",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",...e},v.createElement("path",{d:"M32 32l448 0c17.7 0 32 14.3 32 32l0 32c0 17.7-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96L0 64C0 46.3 14.3 32 32 32zm0 128l448 0 0 256c0 35.3-28.7 64-64 64L96 480c-35.3 0-64-28.7-64-64l0-256zm128 80c0 8.8 7.2 16 16 16l160 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-160 0c-8.8 0-16 7.2-16 16z"})),Pin:e=>v.createElement("svg",{className:"str-chat__icon str-chat__icon--pin",fill:"currentColor",viewBox:"0 0 384 512",xmlns:"http://www.w3.org/2000/svg",...e},v.createElement("path",{d:"M32 32C32 14.3 46.3 0 64 0L320 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-29.5 0 11.4 148.2c36.7 19.9 65.7 53.2 79.5 94.7l1 3c3.3 9.8 1.6 20.5-4.4 28.8s-15.7 13.3-26 13.3L32 352c-10.3 0-19.9-4.9-26-13.3s-7.7-19.1-4.4-28.8l1-3c13.8-41.5 42.8-74.8 79.5-94.7L93.5 64 64 64C46.3 64 32 49.7 32 32zM160 384l64 0 0 96c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-96z"}))};function Cre({channel:e}){const t=xre(e),{t:n}=Ge();return v.createElement("div",{className:"str-chat__channel-preview__action-buttons"},v.createElement("button",{"aria-label":t.pinned_at?n("Unpin"):n("Pin"),className:Ue("str-chat__channel-preview__action-button","str-chat__channel-preview__action-button--pin",t.pinned_at&&"str-chat__channel-preview__action-button--active"),onClick:r=>{r.stopPropagation(),t.pinned_at?e.unpin():e.pin()},title:t.pinned_at?n("Unpin"):n("Pin")},v.createElement(BA.Pin,null)),v.createElement("button",{"aria-label":t.archived_at?n("Unarchive"):n("Archive"),className:Ue("str-chat__channel-preview__action-button","str-chat__channel-preview__action-button--archive",t.archived_at&&"str-chat__channel-preview__action-button--active"),onClick:r=>{r.stopPropagation(),t.archived_at?e.unarchive():e.archive()},title:t.archived_at?n("Unarchive"):n("Archive")},v.createElement(BA.ArchiveBox,null)))}const Dre=e=>{var x,k;const{active:t,Avatar:n=zi,channel:r,className:a="",displayImage:i,displayTitle:s,groupChannelDisplayInfo:o,latestMessagePreview:c,onSelect:d,setActiveChannel:f,unread:h,watchers:m}=e,{ChannelPreviewActionButtons:g=Cre}=xn(),b=E.useRef(null),_=s||((k=(x=r.state.messages[r.state.messages.length-1])==null?void 0:x.user)==null?void 0:k.id),w=R=>{d?d(R):f&&f(r,m),b!=null&&b.current&&b.current.blur()};return v.createElement("div",{className:"str-chat__channel-preview-container"},v.createElement(g,{channel:r}),v.createElement("button",{"aria-label":`Select Channel: ${s||""}`,"aria-selected":t,className:Ue("str-chat__channel-preview-messenger str-chat__channel-preview",t&&"str-chat__channel-preview-messenger--active",h&&h>=1&&"str-chat__channel-preview-messenger--unread",a),"data-testid":"channel-preview-button",onClick:w,ref:b,role:"option"},v.createElement("div",{className:"str-chat__channel-preview-messenger--left"},v.createElement(n,{className:"str-chat__avatar--channel-preview",groupChannelDisplayInfo:o,image:i,name:_})),v.createElement("div",{className:"str-chat__channel-preview-end"},v.createElement("div",{className:"str-chat__channel-preview-end-first-row"},v.createElement("div",{className:"str-chat__channel-preview-messenger--name"},v.createElement("span",null,s)),!!h&&v.createElement("div",{className:"str-chat__channel-preview-unread-badge","data-testid":"unread-badge"},h)),v.createElement("div",{className:"str-chat__channel-preview-messenger--last-message"},c))))},Sre=v.memo(Dre),Ere=e=>{const{client:t}=Yt("useIsChannelMuted"),[n,r]=E.useState(e.muteStatus());return E.useEffect(()=>{const a=()=>r(e.muteStatus());return t.on("notification.channel_mutes_updated",a),()=>t.off("notification.channel_mutes_updated",a)},[n]),n};function Mre(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Tre=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,kre=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Rre={};function $A(e,t){return(Rre.jsx?kre:Tre).test(e)}const Are=/[ \t\n\f\r]/g;function Ore(e){return typeof e=="object"?e.type==="text"?zA(e.value):!1:zA(e)}function zA(e){return e.replace(Are,"")===""}class hm{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}hm.prototype.normal={};hm.prototype.property={};hm.prototype.space=void 0;function E6(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new hm(n,r,t)}function YC(e){return e.toLowerCase()}class Hi{constructor(t,n){this.attribute=n,this.property=t}}Hi.prototype.attribute="";Hi.prototype.booleanish=!1;Hi.prototype.boolean=!1;Hi.prototype.commaOrSpaceSeparated=!1;Hi.prototype.commaSeparated=!1;Hi.prototype.defined=!1;Hi.prototype.mustUseProperty=!1;Hi.prototype.number=!1;Hi.prototype.overloadedBoolean=!1;Hi.prototype.property="";Hi.prototype.spaceSeparated=!1;Hi.prototype.space=void 0;let Lre=0;const fn=ju(),_a=ju(),WC=ju(),Ke=ju(),Er=ju(),Bd=ju(),Xi=ju();function ju(){return 2**++Lre}const GC=Object.freeze(Object.defineProperty({__proto__:null,boolean:fn,booleanish:_a,commaOrSpaceSeparated:Xi,commaSeparated:Bd,number:Ke,overloadedBoolean:WC,spaceSeparated:Er},Symbol.toStringTag,{value:"Module"})),px=Object.keys(GC);class ZS extends Hi{constructor(t,n,r,a){let i=-1;if(super(t,n),HA(this,"space",a),typeof r=="number")for(;++i<px.length;){const s=px[i];HA(this,px[i],(r&GC[s])===GC[s])}}}ZS.prototype.defined=!0;function HA(e,t,n){n&&(e[t]=n)}function Ef(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new ZS(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[YC(r)]=r,n[YC(i.attribute)]=r}return new hm(t,n,e.space)}const M6=Ef({properties:{ariaActiveDescendant:null,ariaAtomic:_a,ariaAutoComplete:null,ariaBusy:_a,ariaChecked:_a,ariaColCount:Ke,ariaColIndex:Ke,ariaColSpan:Ke,ariaControls:Er,ariaCurrent:null,ariaDescribedBy:Er,ariaDetails:null,ariaDisabled:_a,ariaDropEffect:Er,ariaErrorMessage:null,ariaExpanded:_a,ariaFlowTo:Er,ariaGrabbed:_a,ariaHasPopup:null,ariaHidden:_a,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Er,ariaLevel:Ke,ariaLive:null,ariaModal:_a,ariaMultiLine:_a,ariaMultiSelectable:_a,ariaOrientation:null,ariaOwns:Er,ariaPlaceholder:null,ariaPosInSet:Ke,ariaPressed:_a,ariaReadOnly:_a,ariaRelevant:null,ariaRequired:_a,ariaRoleDescription:Er,ariaRowCount:Ke,ariaRowIndex:Ke,ariaRowSpan:Ke,ariaSelected:_a,ariaSetSize:Ke,ariaSort:null,ariaValueMax:Ke,ariaValueMin:Ke,ariaValueNow:Ke,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function T6(e,t){return t in e?e[t]:t}function k6(e,t){return T6(e,t.toLowerCase())}const Nre=Ef({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Bd,acceptCharset:Er,accessKey:Er,action:null,allow:null,allowFullScreen:fn,allowPaymentRequest:fn,allowUserMedia:fn,alt:null,as:null,async:fn,autoCapitalize:null,autoComplete:Er,autoFocus:fn,autoPlay:fn,blocking:Er,capture:null,charSet:null,checked:fn,cite:null,className:Er,cols:Ke,colSpan:null,content:null,contentEditable:_a,controls:fn,controlsList:Er,coords:Ke|Bd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:fn,defer:fn,dir:null,dirName:null,disabled:fn,download:WC,draggable:_a,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:fn,formTarget:null,headers:Er,height:Ke,hidden:WC,high:Ke,href:null,hrefLang:null,htmlFor:Er,httpEquiv:Er,id:null,imageSizes:null,imageSrcSet:null,inert:fn,inputMode:null,integrity:null,is:null,isMap:fn,itemId:null,itemProp:Er,itemRef:Er,itemScope:fn,itemType:Er,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:fn,low:Ke,manifest:null,max:null,maxLength:Ke,media:null,method:null,min:null,minLength:Ke,multiple:fn,muted:fn,name:null,nonce:null,noModule:fn,noValidate:fn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:fn,optimum:Ke,pattern:null,ping:Er,placeholder:null,playsInline:fn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:fn,referrerPolicy:null,rel:Er,required:fn,reversed:fn,rows:Ke,rowSpan:Ke,sandbox:Er,scope:null,scoped:fn,seamless:fn,selected:fn,shadowRootClonable:fn,shadowRootDelegatesFocus:fn,shadowRootMode:null,shape:null,size:Ke,sizes:null,slot:null,span:Ke,spellCheck:_a,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ke,step:null,style:null,tabIndex:Ke,target:null,title:null,translate:null,type:null,typeMustMatch:fn,useMap:null,value:_a,width:Ke,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Er,axis:null,background:null,bgColor:null,border:Ke,borderColor:null,bottomMargin:Ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:fn,declare:fn,event:null,face:null,frame:null,frameBorder:null,hSpace:Ke,leftMargin:Ke,link:null,longDesc:null,lowSrc:null,marginHeight:Ke,marginWidth:Ke,noResize:fn,noHref:fn,noShade:fn,noWrap:fn,object:null,profile:null,prompt:null,rev:null,rightMargin:Ke,rules:null,scheme:null,scrolling:_a,standby:null,summary:null,text:null,topMargin:Ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:fn,disableRemotePlayback:fn,prefix:null,property:null,results:Ke,security:null,unselectable:null},space:"html",transform:k6}),Pre=Ef({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Xi,accentHeight:Ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ke,amplitude:Ke,arabicForm:null,ascent:Ke,attributeName:null,attributeType:null,azimuth:Ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ke,by:null,calcMode:null,capHeight:Ke,className:Er,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ke,diffuseConstant:Ke,direction:null,display:null,dur:null,divisor:Ke,dominantBaseline:null,download:fn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ke,enableBackground:null,end:null,event:null,exponent:Ke,externalResourcesRequired:null,fill:null,fillOpacity:Ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Bd,g2:Bd,glyphName:Bd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ke,horizOriginX:Ke,horizOriginY:Ke,id:null,ideographic:Ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ke,k:Ke,k1:Ke,k2:Ke,k3:Ke,k4:Ke,kernelMatrix:Xi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ke,overlineThickness:Ke,paintOrder:null,panose1:null,path:null,pathLength:Ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Er,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ke,pointsAtY:Ke,pointsAtZ:Ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Xi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Xi,rev:Xi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Xi,requiredFeatures:Xi,requiredFonts:Xi,requiredFormats:Xi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ke,specularExponent:Ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ke,strikethroughThickness:Ke,string:null,stroke:null,strokeDashArray:Xi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ke,strokeOpacity:Ke,strokeWidth:null,style:null,surfaceScale:Ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Xi,tabIndex:Ke,tableValues:null,target:null,targetX:Ke,targetY:Ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Xi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ke,underlineThickness:Ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ke,values:null,vAlphabetic:Ke,vMathematical:Ke,vectorEffect:null,vHanging:Ke,vIdeographic:Ke,version:null,vertAdvY:Ke,vertOriginX:Ke,vertOriginY:Ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:T6}),R6=Ef({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),A6=Ef({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:k6}),O6=Ef({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Ire={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Fre=/[A-Z]/g,VA=/-[a-z]/g,jre=/^data[-\w.:]+$/i;function Ure(e,t){const n=YC(t);let r=t,a=Hi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&jre.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(VA,$re);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!VA.test(i)){let s=i.replace(Fre,Bre);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}a=ZS}return new a(r,t)}function Bre(e){return"-"+e.toLowerCase()}function $re(e){return e.charAt(1).toUpperCase()}const zre=E6([M6,Nre,R6,A6,O6],"html"),XS=E6([M6,Pre,R6,A6,O6],"svg");function Hre(e){return e.join(" ").trim()}var _d={},mx,qA;function Vre(){if(qA)return mx;qA=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,o=/^\s+|\s+$/g,c=`
`,d="/",f="*",h="",m="comment",g="declaration";mx=function(_,w){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];w=w||{};var x=1,k=1;function R(H){var U=H.match(t);U&&(x+=U.length);var z=H.lastIndexOf(c);k=~z?H.length-z:k+H.length}function I(){var H={line:x,column:k};return function(U){return U.position=new O(H),C(),U}}function O(H){this.start=H,this.end={line:x,column:k},this.source=w.source}O.prototype.content=_;function A(H){var U=new Error(w.source+":"+x+":"+k+": "+H);if(U.reason=H,U.filename=w.source,U.line=x,U.column=k,U.source=_,!w.silent)throw U}function L(H){var U=H.exec(_);if(U){var z=U[0];return R(z),_=_.slice(z.length),U}}function C(){L(n)}function T(H){var U;for(H=H||[];U=S();)U!==!1&&H.push(U);return H}function S(){var H=I();if(!(d!=_.charAt(0)||f!=_.charAt(1))){for(var U=2;h!=_.charAt(U)&&(f!=_.charAt(U)||d!=_.charAt(U+1));)++U;if(U+=2,h===_.charAt(U-1))return A("End of comment missing");var z=_.slice(2,U-2);return k+=2,R(z),_=_.slice(U),k+=2,H({type:m,comment:z})}}function j(){var H=I(),U=L(r);if(U){if(S(),!L(a))return A("property missing ':'");var z=L(i),F=H({type:g,property:b(U[0].replace(e,h)),value:z?b(z[0].replace(e,h)):h});return L(s),F}}function B(){var H=[];T(H);for(var U;U=j();)U!==!1&&(H.push(U),T(H));return H}return C(),B()};function b(_){return _?_.replace(o,h):h}return mx}var YA;function qre(){if(YA)return _d;YA=1;var e=_d&&_d.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_d,"__esModule",{value:!0}),_d.default=n;var t=e(Vre());function n(r,a){var i=null;if(!r||typeof r!="string")return i;var s=(0,t.default)(r),o=typeof a=="function";return s.forEach(function(c){if(c.type==="declaration"){var d=c.property,f=c.value;o?a(d,f,c):f&&(i=i||{},i[d]=f)}}),i}return _d}var Nh={},WA;function Yre(){if(WA)return Nh;WA=1,Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,i=function(d){return!d||n.test(d)||e.test(d)},s=function(d,f){return f.toUpperCase()},o=function(d,f){return"".concat(f,"-")},c=function(d,f){return f===void 0&&(f={}),i(d)?d:(d=d.toLowerCase(),f.reactCompat?d=d.replace(a,o):d=d.replace(r,o),d.replace(t,s))};return Nh.camelCase=c,Nh}var Ph,GA;function Wre(){if(GA)return Ph;GA=1;var e=Ph&&Ph.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},t=e(qre()),n=Yre();function r(a,i){var s={};return!a||typeof a!="string"||(0,t.default)(a,function(o,c){o&&c&&(s[(0,n.camelCase)(o,i)]=c)}),s}return r.default=r,Ph=r,Ph}var Gre=Wre();const Kre=Or(Gre),L6=N6("end"),JS=N6("start");function N6(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Qre(e){const t=JS(e),n=L6(e);if(t&&n)return{start:t,end:n}}function pp(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?KA(e.position):"start"in e||"end"in e?KA(e):"line"in e||"column"in e?KC(e):""}function KC(e){return QA(e&&e.line)+":"+QA(e&&e.column)}function KA(e){return KC(e&&e.start)+"-"+KC(e&&e.end)}function QA(e){return e&&typeof e=="number"?e:1}class di extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},s=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(s=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?i.ruleId=r:(i.source=r.slice(0,c),i.ruleId=r.slice(c+1))}if(!i.place&&i.ancestors&&i.ancestors){const c=i.ancestors[i.ancestors.length-1];c&&(i.place=c.position)}const o=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=o?o.line:void 0,this.name=pp(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=s&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}di.prototype.file="";di.prototype.name="";di.prototype.reason="";di.prototype.message="";di.prototype.stack="";di.prototype.column=void 0;di.prototype.line=void 0;di.prototype.ancestors=void 0;di.prototype.cause=void 0;di.prototype.fatal=void 0;di.prototype.place=void 0;di.prototype.ruleId=void 0;di.prototype.source=void 0;const e2={}.hasOwnProperty,Zre=new Map,Xre=/[A-Z]/g,Jre=new Set(["table","tbody","thead","tfoot","tr"]),eae=new Set(["td","th"]),P6="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function tae(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=cae(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=lae(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?XS:zre,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=I6(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function I6(e,t,n){if(t.type==="element")return nae(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return rae(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return iae(e,t,n);if(t.type==="mdxjsEsm")return aae(e,t);if(t.type==="root")return sae(e,t,n);if(t.type==="text")return oae(e,t)}function nae(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=XS,e.schema=a),e.ancestors.push(t);const i=j6(e,t.tagName,!1),s=uae(e,t);let o=n2(e,t);return Jre.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!Ore(c):!0})),F6(e,s,i,t),t2(s,o),e.ancestors.pop(),e.schema=r,e.create(t,i,s,n)}function rae(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Fp(e,t.position)}function aae(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Fp(e,t.position)}function iae(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=XS,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:j6(e,t.name,!0),s=dae(e,t),o=n2(e,t);return F6(e,s,i,t),t2(s,o),e.ancestors.pop(),e.schema=r,e.create(t,i,s,n)}function sae(e,t,n){const r={};return t2(r,n2(e,t)),e.create(t,e.Fragment,r,n)}function oae(e,t){return t.value}function F6(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function t2(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function lae(e,t,n){return r;function r(a,i,s,o){const d=Array.isArray(s.children)?n:t;return o?d(i,s,o):d(i,s)}}function cae(e,t){return n;function n(r,a,i,s){const o=Array.isArray(i.children),c=JS(r);return t(a,i,s,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function uae(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&e2.call(t.properties,a)){const i=fae(e,a,t.properties[a]);if(i){const[s,o]=i;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&eae.has(t.tagName)?r=o:n[s]=o}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function dae(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const s=i.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Fp(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else Fp(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function n2(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:Zre;for(;++r<t.children.length;){const i=t.children[r];let s;if(e.passKeys){const c=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(c){const d=a.get(c)||0;s=c+"-"+d,a.set(c,d+1)}}const o=I6(e,i,s);o!==void 0&&n.push(o)}return n}function fae(e,t,n){const r=Ure(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Mre(n):Hre(n)),r.property==="style"){let a=typeof n=="object"?n:hae(e,String(n));return e.stylePropertyNameCase==="css"&&(a=pae(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?Ire[r.property]||r.property:r.attribute,n]}}function hae(e,t){try{return Kre(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new di("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=P6+"#cannot-parse-style-attribute",a}}function j6(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,s;for(;++i<a.length;){const o=$A(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(i&&o.type==="Literal"),optional:!1}:o}r=s}else r=$A(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return e2.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Fp(e)}function Fp(e,t){const n=new di("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=P6+"#cannot-handle-mdx-estrees-without-createevaluater",n}function pae(e){const t={};let n;for(n in e)e2.call(e,n)&&(t[mae(n)]=e[n]);return t}function mae(e){let t=e.replace(Xre,gae);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function gae(e){return"-"+e.toLowerCase()}const gx={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},yae={};function r2(e,t){const n=yae,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return U6(e,r,a)}function U6(e,t,n){if(vae(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ZA(e.children,t,n)}return Array.isArray(e)?ZA(e,t,n):""}function ZA(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=U6(e[a],t,n);return r.join("")}function vae(e){return!!(e&&typeof e=="object")}const XA=document.createElement("i");function a2(e){const t="&"+e+";";XA.innerHTML=t;const n=XA.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function as(e,t,n,r){const a=e.length;let i=0,s;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);i<r.length;)s=r.slice(i,i+1e4),s.unshift(t,0),e.splice(...s),i+=1e4,t+=1e4}function Ms(e,t){return e.length>0?(as(e,e.length,0,t),e):t}const JA={}.hasOwnProperty;function B6(e){const t={};let n=-1;for(;++n<e.length;)bae(t,e[n]);return t}function bae(e,t){let n;for(n in t){const a=(JA.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let s;if(i)for(s in i){JA.call(a,s)||(a[s]=[]);const o=i[s];_ae(a[s],Array.isArray(o)?o:o?[o]:[])}}}function _ae(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);as(e,0,0,r)}function $6(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Gs(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Di=kc(/[A-Za-z]/),si=kc(/[\dA-Za-z]/),wae=kc(/[#-'*+\--9=?A-Z^-~]/);function E0(e){return e!==null&&(e<32||e===127)}const QC=kc(/\d/),xae=kc(/[\dA-Fa-f]/),Cae=kc(/[!-/:-@[-`{-~]/);function jt(e){return e!==null&&e<-2}function wr(e){return e!==null&&(e<0||e===32)}function An(e){return e===-2||e===-1||e===32}const A1=kc(new RegExp("\\p{P}|\\p{S}","u")),Mu=kc(/\s/);function kc(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Mf(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let s="";if(i===37&&si(e.charCodeAt(n+1))&&si(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(s=String.fromCharCode(i));else if(i>55295&&i<57344){const o=e.charCodeAt(n+1);i<56320&&o>56319&&o<57344?(s=String.fromCharCode(i,o),a=1):s="�"}else s=String.fromCharCode(i);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+a+1,s=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function Hn(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return s;function s(c){return An(c)?(e.enter(n),o(c)):t(c)}function o(c){return An(c)&&i++<a?(e.consume(c),o):(e.exit(n),t(c))}}const Dae={tokenize:Sae};function Sae(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Hn(e,t,"linePrefix")}function a(o){return e.enter("paragraph"),i(o)}function i(o){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return jt(o)?(e.consume(o),e.exit("chunkText"),i):(e.consume(o),s)}}const Eae={tokenize:Mae},eO={tokenize:Tae};function Mae(e){const t=this,n=[];let r=0,a,i,s;return o;function o(R){if(r<n.length){const I=n[r];return t.containerState=I[1],e.attempt(I[0].continuation,c,d)(R)}return d(R)}function c(R){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&k();const I=t.events.length;let O=I,A;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){A=t.events[O][1].end;break}x(r);let L=I;for(;L<t.events.length;)t.events[L][1].end={...A},L++;return as(t.events,O+1,0,t.events.slice(I)),t.events.length=L,d(R)}return o(R)}function d(R){if(r===n.length){if(!a)return m(R);if(a.currentConstruct&&a.currentConstruct.concrete)return b(R);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(eO,f,h)(R)}function f(R){return a&&k(),x(r),m(R)}function h(R){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,b(R)}function m(R){return t.containerState={},e.attempt(eO,g,b)(R)}function g(R){return r++,n.push([t.currentConstruct,t.containerState]),m(R)}function b(R){if(R===null){a&&k(),x(0),e.consume(R);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),_(R)}function _(R){if(R===null){w(e.exit("chunkFlow"),!0),x(0),e.consume(R);return}return jt(R)?(e.consume(R),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(R),_)}function w(R,I){const O=t.sliceStream(R);if(I&&O.push(null),R.previous=i,i&&(i.next=R),i=R,a.defineSkip(R.start),a.write(O),t.parser.lazy[R.start.line]){let A=a.events.length;for(;A--;)if(a.events[A][1].start.offset<s&&(!a.events[A][1].end||a.events[A][1].end.offset>s))return;const L=t.events.length;let C=L,T,S;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){if(T){S=t.events[C][1].end;break}T=!0}for(x(r),A=L;A<t.events.length;)t.events[A][1].end={...S},A++;as(t.events,C+1,0,t.events.slice(L)),t.events.length=A}}function x(R){let I=n.length;for(;I-- >R;){const O=n[I];t.containerState=O[1],O[0].exit.call(t,e)}n.length=R}function k(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function Tae(e,t,n){return Hn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function rf(e){if(e===null||wr(e)||Mu(e))return 1;if(A1(e))return 2}function O1(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const ZC={name:"attention",resolveAll:kae,tokenize:Rae};function kae(e,t){let n=-1,r,a,i,s,o,c,d,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},m={...e[n][1].start};tO(h,-c),tO(m,c),s={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:m},i={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:c>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[n][1].start={...o.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Ms(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=Ms(d,[["enter",a,t],["enter",s,t],["exit",s,t],["enter",i,t]]),d=Ms(d,O1(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=Ms(d,[["exit",i,t],["enter",o,t],["exit",o,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,d=Ms(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,as(e,r-1,n-r+3,d),n=r+d.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Rae(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=rf(r);let i;return s;function s(c){return i=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===i)return e.consume(c),o;const d=e.exit("attentionSequence"),f=rf(c),h=!f||f===2&&a||n.includes(c),m=!a||a===2&&f||n.includes(r);return d._open=!!(i===42?h:h&&(a||!m)),d._close=!!(i===42?m:m&&(f||!h)),t(c)}}function tO(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Aae={name:"autolink",tokenize:Oae};function Oae(e,t,n){let r=0;return a;function a(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(g){return Di(g)?(e.consume(g),s):g===64?n(g):d(g)}function s(g){return g===43||g===45||g===46||si(g)?(r=1,o(g)):d(g)}function o(g){return g===58?(e.consume(g),r=0,c):(g===43||g===45||g===46||si(g))&&r++<32?(e.consume(g),o):(r=0,d(g))}function c(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):g===null||g===32||g===60||E0(g)?n(g):(e.consume(g),c)}function d(g){return g===64?(e.consume(g),f):wae(g)?(e.consume(g),d):n(g)}function f(g){return si(g)?h(g):n(g)}function h(g){return g===46?(e.consume(g),r=0,f):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):m(g)}function m(g){if((g===45||si(g))&&r++<63){const b=g===45?m:h;return e.consume(g),b}return n(g)}}const pm={partial:!0,tokenize:Lae};function Lae(e,t,n){return r;function r(i){return An(i)?Hn(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||jt(i)?t(i):n(i)}}const z6={continuation:{tokenize:Pae},exit:Iae,name:"blockQuote",tokenize:Nae};function Nae(e,t,n){const r=this;return a;function a(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),i}return n(s)}function i(s){return An(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Pae(e,t,n){const r=this;return a;function a(s){return An(s)?Hn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):i(s)}function i(s){return e.attempt(z6,t,n)(s)}}function Iae(e){e.exit("blockQuote")}const H6={name:"characterEscape",tokenize:Fae};function Fae(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return Cae(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const V6={name:"characterReference",tokenize:jae};function jae(e,t,n){const r=this;let a=0,i,s;return o;function o(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),c}function c(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),i=31,s=si,f(h))}function d(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,s=xae,f):(e.enter("characterReferenceValue"),i=7,s=QC,f(h))}function f(h){if(h===59&&a){const m=e.exit("characterReferenceValue");return s===si&&!a2(r.sliceSerialize(m))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(h)&&a++<i?(e.consume(h),f):n(h)}}const nO={partial:!0,tokenize:Bae},rO={concrete:!0,name:"codeFenced",tokenize:Uae};function Uae(e,t,n){const r=this,a={partial:!0,tokenize:O};let i=0,s=0,o;return c;function c(A){return d(A)}function d(A){const L=r.events[r.events.length-1];return i=L&&L[1].type==="linePrefix"?L[2].sliceSerialize(L[1],!0).length:0,o=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(A)}function f(A){return A===o?(s++,e.consume(A),f):s<3?n(A):(e.exit("codeFencedFenceSequence"),An(A)?Hn(e,h,"whitespace")(A):h(A))}function h(A){return A===null||jt(A)?(e.exit("codeFencedFence"),r.interrupt?t(A):e.check(nO,_,I)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(A))}function m(A){return A===null||jt(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(A)):An(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Hn(e,g,"whitespace")(A)):A===96&&A===o?n(A):(e.consume(A),m)}function g(A){return A===null||jt(A)?h(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(A))}function b(A){return A===null||jt(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(A)):A===96&&A===o?n(A):(e.consume(A),b)}function _(A){return e.attempt(a,I,w)(A)}function w(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),x}function x(A){return i>0&&An(A)?Hn(e,k,"linePrefix",i+1)(A):k(A)}function k(A){return A===null||jt(A)?e.check(nO,_,I)(A):(e.enter("codeFlowValue"),R(A))}function R(A){return A===null||jt(A)?(e.exit("codeFlowValue"),k(A)):(e.consume(A),R)}function I(A){return e.exit("codeFenced"),t(A)}function O(A,L,C){let T=0;return S;function S(z){return A.enter("lineEnding"),A.consume(z),A.exit("lineEnding"),j}function j(z){return A.enter("codeFencedFence"),An(z)?Hn(A,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):B(z)}function B(z){return z===o?(A.enter("codeFencedFenceSequence"),H(z)):C(z)}function H(z){return z===o?(T++,A.consume(z),H):T>=s?(A.exit("codeFencedFenceSequence"),An(z)?Hn(A,U,"whitespace")(z):U(z)):C(z)}function U(z){return z===null||jt(z)?(A.exit("codeFencedFence"),L(z)):C(z)}}}function Bae(e,t,n){const r=this;return a;function a(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i)}function i(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const yx={name:"codeIndented",tokenize:zae},$ae={partial:!0,tokenize:Hae};function zae(e,t,n){const r=this;return a;function a(d){return e.enter("codeIndented"),Hn(e,i,"linePrefix",5)(d)}function i(d){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?s(d):n(d)}function s(d){return d===null?c(d):jt(d)?e.attempt($ae,s,c)(d):(e.enter("codeFlowValue"),o(d))}function o(d){return d===null||jt(d)?(e.exit("codeFlowValue"),s(d)):(e.consume(d),o)}function c(d){return e.exit("codeIndented"),t(d)}}function Hae(e,t,n){const r=this;return a;function a(s){return r.parser.lazy[r.now().line]?n(s):jt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):Hn(e,i,"linePrefix",5)(s)}function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):jt(s)?a(s):n(s)}}const Vae={name:"codeText",previous:Yae,resolve:qae,tokenize:Wae};function qae(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function Yae(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Wae(e,t,n){let r=0,a,i;return s;function s(h){return e.enter("codeText"),e.enter("codeTextSequence"),o(h)}function o(h){return h===96?(e.consume(h),r++,o):(e.exit("codeTextSequence"),c(h))}function c(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),c):h===96?(i=e.enter("codeTextSequence"),a=0,f(h)):jt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("codeTextData"),d(h))}function d(h){return h===null||h===32||h===96||jt(h)?(e.exit("codeTextData"),c(h)):(e.consume(h),d)}function f(h){return h===96?(e.consume(h),a++,f):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(i.type="codeTextData",d(h))}}class Gae{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Ih(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ih(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ih(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ih(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ih(this.left,n.reverse())}}}function Ih(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function q6(e){const t={};let n=-1,r,a,i,s,o,c,d;const f=new Gae(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,i=0,i<c.length&&c[i][1].type==="lineEndingBlank"&&(i+=2),i<c.length&&c[i][1].type==="content"))for(;++i<c.length&&c[i][1].type!=="content";)c[i][1].type==="chunkText"&&(c[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Kae(f,n)),n=t[n],d=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(s=f.get(i),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(a&&(f.get(a)[1].type="lineEndingBlank"),s[1].type="lineEnding",a=i);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;a&&(r[1].end={...f.get(a)[1].start},o=f.slice(a,n),o.unshift(r),f.splice(a,n-a+1,o))}}return as(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!d}function Kae(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,c=[],d={};let f,h,m=-1,g=n,b=0,_=0;const w=[_];for(;g;){for(;e.get(++a)[1]!==g;);i.push(a),g._tokenizer||(f=r.sliceStream(g),g.next||f.push(null),h&&s.defineSkip(g.start),g._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(f),g._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=g,g=g.next}for(g=n;++m<o.length;)o[m][0]==="exit"&&o[m-1][0]==="enter"&&o[m][1].type===o[m-1][1].type&&o[m][1].start.line!==o[m][1].end.line&&(_=m+1,w.push(_),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(s.events=[],g?(g._tokenizer=void 0,g.previous=void 0):w.pop(),m=w.length;m--;){const x=o.slice(w[m],w[m+1]),k=i.pop();c.push([k,k+x.length-1]),e.splice(k,2,x)}for(c.reverse(),m=-1;++m<c.length;)d[b+c[m][0]]=b+c[m][1],b+=c[m][1]-c[m][0]-1;return d}const Qae={resolve:Xae,tokenize:Jae},Zae={partial:!0,tokenize:eie};function Xae(e){return q6(e),e}function Jae(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(o)}function a(o){return o===null?i(o):jt(o)?e.check(Zae,s,i)(o):(e.consume(o),a)}function i(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function eie(e,t,n){const r=this;return a;function a(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Hn(e,i,"linePrefix")}function i(s){if(s===null||jt(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function Y6(e,t,n,r,a,i,s,o,c){const d=c||Number.POSITIVE_INFINITY;let f=0;return h;function h(x){return x===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(x),e.exit(i),m):x===null||x===32||x===41||E0(x)?n(x):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),_(x))}function m(x){return x===62?(e.enter(i),e.consume(x),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===62?(e.exit("chunkString"),e.exit(o),m(x)):x===null||x===60||jt(x)?n(x):(e.consume(x),x===92?b:g)}function b(x){return x===60||x===62||x===92?(e.consume(x),g):g(x)}function _(x){return!f&&(x===null||x===41||wr(x))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(x)):f<d&&x===40?(e.consume(x),f++,_):x===41?(e.consume(x),f--,_):x===null||x===32||x===40||E0(x)?n(x):(e.consume(x),x===92?w:_)}function w(x){return x===40||x===41||x===92?(e.consume(x),_):_(x)}}function W6(e,t,n,r,a,i){const s=this;let o=0,c;return d;function d(g){return e.enter(r),e.enter(a),e.consume(g),e.exit(a),e.enter(i),f}function f(g){return o>999||g===null||g===91||g===93&&!c||g===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(g):g===93?(e.exit(i),e.enter(a),e.consume(g),e.exit(a),e.exit(r),t):jt(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===null||g===91||g===93||jt(g)||o++>999?(e.exit("chunkString"),f(g)):(e.consume(g),c||(c=!An(g)),g===92?m:h)}function m(g){return g===91||g===92||g===93?(e.consume(g),o++,h):h(g)}}function G6(e,t,n,r,a,i){let s;return o;function o(m){return m===34||m===39||m===40?(e.enter(r),e.enter(a),e.consume(m),e.exit(a),s=m===40?41:m,c):n(m)}function c(m){return m===s?(e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):(e.enter(i),d(m))}function d(m){return m===s?(e.exit(i),c(s)):m===null?n(m):jt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),Hn(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===s||m===null||jt(m)?(e.exit("chunkString"),d(m)):(e.consume(m),m===92?h:f)}function h(m){return m===s||m===92?(e.consume(m),f):f(m)}}function mp(e,t){let n;return r;function r(a){return jt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):An(a)?Hn(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const tie={name:"definition",tokenize:rie},nie={partial:!0,tokenize:aie};function rie(e,t,n){const r=this;let a;return i;function i(g){return e.enter("definition"),s(g)}function s(g){return W6.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function o(g){return a=Gs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),c):n(g)}function c(g){return wr(g)?mp(e,d)(g):d(g)}function d(g){return Y6(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function f(g){return e.attempt(nie,h,h)(g)}function h(g){return An(g)?Hn(e,m,"whitespace")(g):m(g)}function m(g){return g===null||jt(g)?(e.exit("definition"),r.parser.defined.push(a),t(g)):n(g)}}function aie(e,t,n){return r;function r(o){return wr(o)?mp(e,a)(o):n(o)}function a(o){return G6(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function i(o){return An(o)?Hn(e,s,"whitespace")(o):s(o)}function s(o){return o===null||jt(o)?t(o):n(o)}}const iie={name:"hardBreakEscape",tokenize:sie};function sie(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return jt(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const oie={name:"headingAtx",resolve:lie,tokenize:cie};function lie(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},as(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function cie(e,t,n){let r=0;return a;function a(f){return e.enter("atxHeading"),i(f)}function i(f){return e.enter("atxHeadingSequence"),s(f)}function s(f){return f===35&&r++<6?(e.consume(f),s):f===null||wr(f)?(e.exit("atxHeadingSequence"),o(f)):n(f)}function o(f){return f===35?(e.enter("atxHeadingSequence"),c(f)):f===null||jt(f)?(e.exit("atxHeading"),t(f)):An(f)?Hn(e,o,"whitespace")(f):(e.enter("atxHeadingText"),d(f))}function c(f){return f===35?(e.consume(f),c):(e.exit("atxHeadingSequence"),o(f))}function d(f){return f===null||f===35||wr(f)?(e.exit("atxHeadingText"),o(f)):(e.consume(f),d)}}const uie=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],aO=["pre","script","style","textarea"],die={concrete:!0,name:"htmlFlow",resolveTo:pie,tokenize:mie},fie={partial:!0,tokenize:yie},hie={partial:!0,tokenize:gie};function pie(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function mie(e,t,n){const r=this;let a,i,s,o,c;return d;function d($){return f($)}function f($){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume($),h}function h($){return $===33?(e.consume($),m):$===47?(e.consume($),i=!0,_):$===63?(e.consume($),a=3,r.interrupt?t:N):Di($)?(e.consume($),s=String.fromCharCode($),w):n($)}function m($){return $===45?(e.consume($),a=2,g):$===91?(e.consume($),a=5,o=0,b):Di($)?(e.consume($),a=4,r.interrupt?t:N):n($)}function g($){return $===45?(e.consume($),r.interrupt?t:N):n($)}function b($){const J="CDATA[";return $===J.charCodeAt(o++)?(e.consume($),o===J.length?r.interrupt?t:B:b):n($)}function _($){return Di($)?(e.consume($),s=String.fromCharCode($),w):n($)}function w($){if($===null||$===47||$===62||wr($)){const J=$===47,oe=s.toLowerCase();return!J&&!i&&aO.includes(oe)?(a=1,r.interrupt?t($):B($)):uie.includes(s.toLowerCase())?(a=6,J?(e.consume($),x):r.interrupt?t($):B($)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):i?k($):R($))}return $===45||si($)?(e.consume($),s+=String.fromCharCode($),w):n($)}function x($){return $===62?(e.consume($),r.interrupt?t:B):n($)}function k($){return An($)?(e.consume($),k):S($)}function R($){return $===47?(e.consume($),S):$===58||$===95||Di($)?(e.consume($),I):An($)?(e.consume($),R):S($)}function I($){return $===45||$===46||$===58||$===95||si($)?(e.consume($),I):O($)}function O($){return $===61?(e.consume($),A):An($)?(e.consume($),O):R($)}function A($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(e.consume($),c=$,L):An($)?(e.consume($),A):C($)}function L($){return $===c?(e.consume($),c=null,T):$===null||jt($)?n($):(e.consume($),L)}function C($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||wr($)?O($):(e.consume($),C)}function T($){return $===47||$===62||An($)?R($):n($)}function S($){return $===62?(e.consume($),j):n($)}function j($){return $===null||jt($)?B($):An($)?(e.consume($),j):n($)}function B($){return $===45&&a===2?(e.consume($),F):$===60&&a===1?(e.consume($),V):$===62&&a===4?(e.consume($),W):$===63&&a===3?(e.consume($),N):$===93&&a===5?(e.consume($),q):jt($)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(fie,K,H)($)):$===null||jt($)?(e.exit("htmlFlowData"),H($)):(e.consume($),B)}function H($){return e.check(hie,U,K)($)}function U($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),z}function z($){return $===null||jt($)?H($):(e.enter("htmlFlowData"),B($))}function F($){return $===45?(e.consume($),N):B($)}function V($){return $===47?(e.consume($),s="",Y):B($)}function Y($){if($===62){const J=s.toLowerCase();return aO.includes(J)?(e.consume($),W):B($)}return Di($)&&s.length<8?(e.consume($),s+=String.fromCharCode($),Y):B($)}function q($){return $===93?(e.consume($),N):B($)}function N($){return $===62?(e.consume($),W):$===45&&a===2?(e.consume($),N):B($)}function W($){return $===null||jt($)?(e.exit("htmlFlowData"),K($)):(e.consume($),W)}function K($){return e.exit("htmlFlow"),t($)}}function gie(e,t,n){const r=this;return a;function a(s){return jt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):n(s)}function i(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function yie(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(pm,t,n)}}const vie={name:"htmlText",tokenize:bie};function bie(e,t,n){const r=this;let a,i,s;return o;function o(N){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(N),c}function c(N){return N===33?(e.consume(N),d):N===47?(e.consume(N),O):N===63?(e.consume(N),R):Di(N)?(e.consume(N),C):n(N)}function d(N){return N===45?(e.consume(N),f):N===91?(e.consume(N),i=0,b):Di(N)?(e.consume(N),k):n(N)}function f(N){return N===45?(e.consume(N),g):n(N)}function h(N){return N===null?n(N):N===45?(e.consume(N),m):jt(N)?(s=h,V(N)):(e.consume(N),h)}function m(N){return N===45?(e.consume(N),g):h(N)}function g(N){return N===62?F(N):N===45?m(N):h(N)}function b(N){const W="CDATA[";return N===W.charCodeAt(i++)?(e.consume(N),i===W.length?_:b):n(N)}function _(N){return N===null?n(N):N===93?(e.consume(N),w):jt(N)?(s=_,V(N)):(e.consume(N),_)}function w(N){return N===93?(e.consume(N),x):_(N)}function x(N){return N===62?F(N):N===93?(e.consume(N),x):_(N)}function k(N){return N===null||N===62?F(N):jt(N)?(s=k,V(N)):(e.consume(N),k)}function R(N){return N===null?n(N):N===63?(e.consume(N),I):jt(N)?(s=R,V(N)):(e.consume(N),R)}function I(N){return N===62?F(N):R(N)}function O(N){return Di(N)?(e.consume(N),A):n(N)}function A(N){return N===45||si(N)?(e.consume(N),A):L(N)}function L(N){return jt(N)?(s=L,V(N)):An(N)?(e.consume(N),L):F(N)}function C(N){return N===45||si(N)?(e.consume(N),C):N===47||N===62||wr(N)?T(N):n(N)}function T(N){return N===47?(e.consume(N),F):N===58||N===95||Di(N)?(e.consume(N),S):jt(N)?(s=T,V(N)):An(N)?(e.consume(N),T):F(N)}function S(N){return N===45||N===46||N===58||N===95||si(N)?(e.consume(N),S):j(N)}function j(N){return N===61?(e.consume(N),B):jt(N)?(s=j,V(N)):An(N)?(e.consume(N),j):T(N)}function B(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),a=N,H):jt(N)?(s=B,V(N)):An(N)?(e.consume(N),B):(e.consume(N),U)}function H(N){return N===a?(e.consume(N),a=void 0,z):N===null?n(N):jt(N)?(s=H,V(N)):(e.consume(N),H)}function U(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||wr(N)?T(N):(e.consume(N),U)}function z(N){return N===47||N===62||wr(N)?T(N):n(N)}function F(N){return N===62?(e.consume(N),e.exit("htmlTextData"),e.exit("htmlText"),t):n(N)}function V(N){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),Y}function Y(N){return An(N)?Hn(e,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):q(N)}function q(N){return e.enter("htmlTextData"),s(N)}}const i2={name:"labelEnd",resolveAll:Cie,resolveTo:Die,tokenize:Sie},_ie={tokenize:Eie},wie={tokenize:Mie},xie={tokenize:Tie};function Cie(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&as(e,0,e.length,n),e}function Die(e,t){let n=e.length,r=0,a,i,s,o;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(s=n);const c={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[i][1].start},end:{...e[s][1].end}},f={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",c,t],["enter",d,t]],o=Ms(o,e.slice(i+1,i+r+3)),o=Ms(o,[["enter",f,t]]),o=Ms(o,O1(t.parser.constructs.insideSpan.null,e.slice(i+r+4,s-3),t)),o=Ms(o,[["exit",f,t],e[s-2],e[s-1],["exit",d,t]]),o=Ms(o,e.slice(s+1)),o=Ms(o,[["exit",c,t]]),as(e,i,e.length,o),e}function Sie(e,t,n){const r=this;let a=r.events.length,i,s;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return o;function o(m){return i?i._inactive?h(m):(s=r.parser.defined.includes(Gs(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),c):n(m)}function c(m){return m===40?e.attempt(_ie,f,s?f:h)(m):m===91?e.attempt(wie,f,s?d:h)(m):s?f(m):h(m)}function d(m){return e.attempt(xie,f,h)(m)}function f(m){return t(m)}function h(m){return i._balanced=!0,n(m)}}function Eie(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),a}function a(h){return wr(h)?mp(e,i)(h):i(h)}function i(h){return h===41?f(h):Y6(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function s(h){return wr(h)?mp(e,c)(h):f(h)}function o(h){return n(h)}function c(h){return h===34||h===39||h===40?G6(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):f(h)}function d(h){return wr(h)?mp(e,f)(h):f(h)}function f(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function Mie(e,t,n){const r=this;return a;function a(o){return W6.call(r,e,i,s,"reference","referenceMarker","referenceString")(o)}function i(o){return r.parser.defined.includes(Gs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function Tie(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const kie={name:"labelStartImage",resolveAll:i2.resolveAll,tokenize:Rie};function Rie(e,t,n){const r=this;return a;function a(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),i}function i(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Aie={name:"labelStartLink",resolveAll:i2.resolveAll,tokenize:Oie};function Oie(e,t,n){const r=this;return a;function a(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),i}function i(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const vx={name:"lineEnding",tokenize:Lie};function Lie(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Hn(e,t,"linePrefix")}}const Ly={name:"thematicBreak",tokenize:Nie};function Nie(e,t,n){let r=0,a;return i;function i(d){return e.enter("thematicBreak"),s(d)}function s(d){return a=d,o(d)}function o(d){return d===a?(e.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||jt(d))?(e.exit("thematicBreak"),t(d)):n(d)}function c(d){return d===a?(e.consume(d),r++,c):(e.exit("thematicBreakSequence"),An(d)?Hn(e,o,"whitespace")(d):o(d))}}const Ii={continuation:{tokenize:jie},exit:Bie,name:"list",tokenize:Fie},Pie={partial:!0,tokenize:$ie},Iie={partial:!0,tokenize:Uie};function Fie(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,s=0;return o;function o(g){const b=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:QC(g)){if(r.containerState.type||(r.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(Ly,n,d)(g):d(g);if(!r.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(g)}return n(g)}function c(g){return QC(g)&&++s<10?(e.consume(g),c):(!r.interrupt||s<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),d(g)):n(g)}function d(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,e.check(pm,r.interrupt?n:f,e.attempt(Pie,m,h))}function f(g){return r.containerState.initialBlankLine=!0,i++,m(g)}function h(g){return An(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),m):n(g)}function m(g){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(g)}}function jie(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(pm,a,i);function a(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Hn(e,t,"listItemIndent",r.containerState.size+1)(o)}function i(o){return r.containerState.furtherBlankLines||!An(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Iie,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Hn(e,e.attempt(Ii,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Uie(e,t,n){const r=this;return Hn(e,a,"listItemIndent",r.containerState.size+1);function a(i){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(i):n(i)}}function Bie(e){e.exit(this.containerState.type)}function $ie(e,t,n){const r=this;return Hn(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const s=r.events[r.events.length-1];return!An(i)&&s&&s[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const iO={name:"setextUnderline",resolveTo:zie,tokenize:Hie};function zie(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",s,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function Hie(e,t,n){const r=this;let a;return i;function i(d){let f=r.events.length,h;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){h=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),a=d,s(d)):n(d)}function s(d){return e.enter("setextHeadingLineSequence"),o(d)}function o(d){return d===a?(e.consume(d),o):(e.exit("setextHeadingLineSequence"),An(d)?Hn(e,c,"lineSuffix")(d):c(d))}function c(d){return d===null||jt(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const Vie={tokenize:qie};function qie(e){const t=this,n=e.attempt(pm,r,e.attempt(this.parser.constructs.flowInitial,a,Hn(e,e.attempt(this.parser.constructs.flow,a,e.attempt(Qae,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Yie={resolveAll:Q6()},Wie=K6("string"),Gie=K6("text");function K6(e){return{resolveAll:Q6(e==="text"?Kie:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,s,o);return s;function s(f){return d(f)?i(f):o(f)}function o(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),c}function c(f){return d(f)?(n.exit("data"),i(f)):(n.consume(f),c)}function d(f){if(f===null)return!0;const h=a[f];let m=-1;if(h)for(;++m<h.length;){const g=h[m];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function Q6(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function Kie(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,s=-1,o=0,c;for(;i--;){const d=a[i];if(typeof d=="string"){for(s=d.length;d.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(d===-2)c=!0,o++;else if(d!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const d={type:n===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?s:r.start._bufferIndex+s,_index:r.start._index+i,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const Qie={42:Ii,43:Ii,45:Ii,48:Ii,49:Ii,50:Ii,51:Ii,52:Ii,53:Ii,54:Ii,55:Ii,56:Ii,57:Ii,62:z6},Zie={91:tie},Xie={[-2]:yx,[-1]:yx,32:yx},Jie={35:oie,42:Ly,45:[iO,Ly],60:die,61:iO,95:Ly,96:rO,126:rO},ese={38:V6,92:H6},tse={[-5]:vx,[-4]:vx,[-3]:vx,33:kie,38:V6,42:ZC,60:[Aae,vie],91:Aie,92:[iie,H6],93:i2,95:ZC,96:Vae},nse={null:[ZC,Yie]},rse={null:[42,95]},ase={null:[]},ise=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:rse,contentInitial:Zie,disable:ase,document:Qie,flow:Jie,flowInitial:Xie,insideSpan:nse,string:ese,text:tse},Symbol.toStringTag,{value:"Module"}));function sse(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let s=[],o=[];const c={attempt:L(O),check:L(A),consume:k,enter:R,exit:I,interrupt:L(A,{interrupt:!0})},d={code:null,containerState:{},defineSkip:_,events:[],now:b,parser:e,previous:null,sliceSerialize:m,sliceStream:g,write:h};let f=t.tokenize.call(d,c);return t.resolveAll&&i.push(t),d;function h(j){return s=Ms(s,j),w(),s[s.length-1]!==null?[]:(C(t,0),d.events=O1(i,d.events,d),d.events)}function m(j,B){return lse(g(j),B)}function g(j){return ose(s,j)}function b(){const{_bufferIndex:j,_index:B,line:H,column:U,offset:z}=r;return{_bufferIndex:j,_index:B,line:H,column:U,offset:z}}function _(j){a[j.line]=j.column,S()}function w(){let j;for(;r._index<s.length;){const B=s[r._index];if(typeof B=="string")for(j=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===j&&r._bufferIndex<B.length;)x(B.charCodeAt(r._bufferIndex));else x(B)}}function x(j){f=f(j)}function k(j){jt(j)?(r.line++,r.column=1,r.offset+=j===-3?2:1,S()):j!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=j}function R(j,B){const H=B||{};return H.type=j,H.start=b(),d.events.push(["enter",H,d]),o.push(H),H}function I(j){const B=o.pop();return B.end=b(),d.events.push(["exit",B,d]),B}function O(j,B){C(j,B.from)}function A(j,B){B.restore()}function L(j,B){return H;function H(U,z,F){let V,Y,q,N;return Array.isArray(U)?K(U):"tokenize"in U?K([U]):W(U);function W(fe){return ye;function ye(le){const Ee=le!==null&&fe[le],ue=le!==null&&fe.null,Me=[...Array.isArray(Ee)?Ee:Ee?[Ee]:[],...Array.isArray(ue)?ue:ue?[ue]:[]];return K(Me)(le)}}function K(fe){return V=fe,Y=0,fe.length===0?F:$(fe[Y])}function $(fe){return ye;function ye(le){return N=T(),q=fe,fe.partial||(d.currentConstruct=fe),fe.name&&d.parser.constructs.disable.null.includes(fe.name)?oe():fe.tokenize.call(B?Object.assign(Object.create(d),B):d,c,J,oe)(le)}}function J(fe){return j(q,N),z}function oe(fe){return N.restore(),++Y<V.length?$(V[Y]):F}}}function C(j,B){j.resolveAll&&!i.includes(j)&&i.push(j),j.resolve&&as(d.events,B,d.events.length-B,j.resolve(d.events.slice(B),d)),j.resolveTo&&(d.events=j.resolveTo(d.events,d))}function T(){const j=b(),B=d.previous,H=d.currentConstruct,U=d.events.length,z=Array.from(o);return{from:U,restore:F};function F(){r=j,d.previous=B,d.currentConstruct=H,d.events.length=U,o=z,S()}}function S(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function ose(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let s;if(n===a)s=[e[n].slice(r,i)];else{if(s=e.slice(n,a),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}i>0&&s.push(e[a].slice(0,i))}return s}function lse(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let s;if(typeof i=="string")s=i;else switch(i){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&a)continue;s=" ";break}default:s=String.fromCharCode(i)}a=i===-2,r.push(s)}return r.join("")}function cse(e){const r={constructs:B6([ise,...(e||{}).extensions||[]]),content:a(Dae),defined:[],document:a(Eae),flow:a(Vie),lazy:{},string:a(Wie),text:a(Gie)};return r;function a(i){return s;function s(o){return sse(r,i,o)}}}function use(e){for(;!q6(e););return e}const sO=/[\0\t\n\r]/g;function dse(){let e=1,t="",n=!0,r;return a;function a(i,s,o){const c=[];let d,f,h,m,g;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(s||void 0).decode(i)),h=0,t="",n&&(i.charCodeAt(0)===65279&&h++,n=void 0);h<i.length;){if(sO.lastIndex=h,d=sO.exec(i),m=d&&d.index!==void 0?d.index:i.length,g=i.charCodeAt(m),!d){t=i.slice(h);break}if(g===10&&h===m&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),h<m&&(c.push(i.slice(h,m)),e+=m-h),g){case 0:{c.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,c.push(-2);e++<f;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}h=m+1}return o&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const fse=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function hse(e){return e.replace(fse,pse)}function pse(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),i=a===120||a===88;return $6(n.slice(i?2:1),i?16:10)}return a2(n)||e}const Z6={}.hasOwnProperty;function mse(e,t,n){return typeof t!="string"&&(n=t,t=void 0),gse(n)(use(cse(n).document().write(dse()(e,t,!0))))}function gse(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Nt),autolinkProtocol:T,autolinkEmail:T,atxHeading:i(Xe),blockQuote:i(ue),characterEscape:T,characterReference:T,codeFenced:i(Me),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:i(Me,s),codeText:i(Fe,s),codeTextData:T,data:T,codeFlowValue:T,definition:i($e),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:i(ze),hardBreakEscape:i(ot),hardBreakTrailing:i(ot),htmlFlow:i(nt,s),htmlFlowData:T,htmlText:i(nt,s),htmlTextData:T,image:i(St),label:s,link:i(Nt),listItem:i(_t),listItemValue:m,listOrdered:i(ut,h),listUnordered:i(ut),paragraph:i(wt),reference:$,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:i(Xe),strong:i(st),thematicBreak:i(Je)},exit:{atxHeading:c(),atxHeadingSequence:O,autolink:c(),autolinkEmail:Ee,autolinkProtocol:le,blockQuote:c(),characterEscapeValue:S,characterReferenceMarkerHexadecimal:oe,characterReferenceMarkerNumeric:oe,characterReferenceValue:fe,characterReference:ye,codeFenced:c(w),codeFencedFence:_,codeFencedFenceInfo:g,codeFencedFenceMeta:b,codeFlowValue:S,codeIndented:c(x),codeText:c(z),codeTextData:S,data:S,definition:c(),definitionDestinationString:I,definitionLabelString:k,definitionTitleString:R,emphasis:c(),hardBreakEscape:c(B),hardBreakTrailing:c(B),htmlFlow:c(H),htmlFlowData:S,htmlText:c(U),htmlTextData:S,image:c(V),label:q,labelText:Y,lineEnding:j,link:c(F),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:J,resourceDestinationString:N,resourceTitleString:W,resource:K,setextHeading:c(C),setextHeadingLineSequence:L,setextHeadingText:A,strong:c(),thematicBreak:c()}};X6(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(be){let ke={type:"root",children:[]};const Pe={stack:[ke],tokenStack:[],config:t,enter:o,exit:d,buffer:s,resume:f,data:n},rt=[];let at=-1;for(;++at<be.length;)if(be[at][1].type==="listOrdered"||be[at][1].type==="listUnordered")if(be[at][0]==="enter")rt.push(at);else{const Jt=rt.pop();at=a(be,Jt,at)}for(at=-1;++at<be.length;){const Jt=t[be[at][0]];Z6.call(Jt,be[at][1].type)&&Jt[be[at][1].type].call(Object.assign({sliceSerialize:be[at][2].sliceSerialize},Pe),be[at][1])}if(Pe.tokenStack.length>0){const Jt=Pe.tokenStack[Pe.tokenStack.length-1];(Jt[1]||oO).call(Pe,void 0,Jt[0])}for(ke.position={start:sc(be.length>0?be[0][1].start:{line:1,column:1,offset:0}),end:sc(be.length>0?be[be.length-2][1].end:{line:1,column:1,offset:0})},at=-1;++at<t.transforms.length;)ke=t.transforms[at](ke)||ke;return ke}function a(be,ke,Pe){let rt=ke-1,at=-1,Jt=!1,En,Ln,Bn,en;for(;++rt<=Pe;){const dt=be[rt];switch(dt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{dt[0]==="enter"?at++:at--,en=void 0;break}case"lineEndingBlank":{dt[0]==="enter"&&(En&&!en&&!at&&!Bn&&(Bn=rt),en=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:en=void 0}if(!at&&dt[0]==="enter"&&dt[1].type==="listItemPrefix"||at===-1&&dt[0]==="exit"&&(dt[1].type==="listUnordered"||dt[1].type==="listOrdered")){if(En){let hn=rt;for(Ln=void 0;hn--;){const Re=be[hn];if(Re[1].type==="lineEnding"||Re[1].type==="lineEndingBlank"){if(Re[0]==="exit")continue;Ln&&(be[Ln][1].type="lineEndingBlank",Jt=!0),Re[1].type="lineEnding",Ln=hn}else if(!(Re[1].type==="linePrefix"||Re[1].type==="blockQuotePrefix"||Re[1].type==="blockQuotePrefixWhitespace"||Re[1].type==="blockQuoteMarker"||Re[1].type==="listItemIndent"))break}Bn&&(!Ln||Bn<Ln)&&(En._spread=!0),En.end=Object.assign({},Ln?be[Ln][1].start:dt[1].end),be.splice(Ln||rt,0,["exit",En,dt[2]]),rt++,Pe++}if(dt[1].type==="listItemPrefix"){const hn={type:"listItem",_spread:!1,start:Object.assign({},dt[1].start),end:void 0};En=hn,be.splice(rt,0,["enter",hn,dt[2]]),rt++,Pe++,Bn=void 0,en=!0}}}return be[ke][1]._spread=Jt,Pe}function i(be,ke){return Pe;function Pe(rt){o.call(this,be(rt),rt),ke&&ke.call(this,rt)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(be,ke,Pe){this.stack[this.stack.length-1].children.push(be),this.stack.push(be),this.tokenStack.push([ke,Pe||void 0]),be.position={start:sc(ke.start),end:void 0}}function c(be){return ke;function ke(Pe){be&&be.call(this,Pe),d.call(this,Pe)}}function d(be,ke){const Pe=this.stack.pop(),rt=this.tokenStack.pop();if(rt)rt[0].type!==be.type&&(ke?ke.call(this,be,rt[0]):(rt[1]||oO).call(this,be,rt[0]));else throw new Error("Cannot close `"+be.type+"` ("+pp({start:be.start,end:be.end})+"): it’s not open");Pe.position.end=sc(be.end)}function f(){return r2(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function m(be){if(this.data.expectingFirstListItemValue){const ke=this.stack[this.stack.length-2];ke.start=Number.parseInt(this.sliceSerialize(be),10),this.data.expectingFirstListItemValue=void 0}}function g(){const be=this.resume(),ke=this.stack[this.stack.length-1];ke.lang=be}function b(){const be=this.resume(),ke=this.stack[this.stack.length-1];ke.meta=be}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const be=this.resume(),ke=this.stack[this.stack.length-1];ke.value=be.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const be=this.resume(),ke=this.stack[this.stack.length-1];ke.value=be.replace(/(\r?\n|\r)$/g,"")}function k(be){const ke=this.resume(),Pe=this.stack[this.stack.length-1];Pe.label=ke,Pe.identifier=Gs(this.sliceSerialize(be)).toLowerCase()}function R(){const be=this.resume(),ke=this.stack[this.stack.length-1];ke.title=be}function I(){const be=this.resume(),ke=this.stack[this.stack.length-1];ke.url=be}function O(be){const ke=this.stack[this.stack.length-1];if(!ke.depth){const Pe=this.sliceSerialize(be).length;ke.depth=Pe}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function L(be){const ke=this.stack[this.stack.length-1];ke.depth=this.sliceSerialize(be).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function T(be){const Pe=this.stack[this.stack.length-1].children;let rt=Pe[Pe.length-1];(!rt||rt.type!=="text")&&(rt=de(),rt.position={start:sc(be.start),end:void 0},Pe.push(rt)),this.stack.push(rt)}function S(be){const ke=this.stack.pop();ke.value+=this.sliceSerialize(be),ke.position.end=sc(be.end)}function j(be){const ke=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Pe=ke.children[ke.children.length-1];Pe.position.end=sc(be.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ke.type)&&(T.call(this,be),S.call(this,be))}function B(){this.data.atHardBreak=!0}function H(){const be=this.resume(),ke=this.stack[this.stack.length-1];ke.value=be}function U(){const be=this.resume(),ke=this.stack[this.stack.length-1];ke.value=be}function z(){const be=this.resume(),ke=this.stack[this.stack.length-1];ke.value=be}function F(){const be=this.stack[this.stack.length-1];if(this.data.inReference){const ke=this.data.referenceType||"shortcut";be.type+="Reference",be.referenceType=ke,delete be.url,delete be.title}else delete be.identifier,delete be.label;this.data.referenceType=void 0}function V(){const be=this.stack[this.stack.length-1];if(this.data.inReference){const ke=this.data.referenceType||"shortcut";be.type+="Reference",be.referenceType=ke,delete be.url,delete be.title}else delete be.identifier,delete be.label;this.data.referenceType=void 0}function Y(be){const ke=this.sliceSerialize(be),Pe=this.stack[this.stack.length-2];Pe.label=hse(ke),Pe.identifier=Gs(ke).toLowerCase()}function q(){const be=this.stack[this.stack.length-1],ke=this.resume(),Pe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Pe.type==="link"){const rt=be.children;Pe.children=rt}else Pe.alt=ke}function N(){const be=this.resume(),ke=this.stack[this.stack.length-1];ke.url=be}function W(){const be=this.resume(),ke=this.stack[this.stack.length-1];ke.title=be}function K(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function J(be){const ke=this.resume(),Pe=this.stack[this.stack.length-1];Pe.label=ke,Pe.identifier=Gs(this.sliceSerialize(be)).toLowerCase(),this.data.referenceType="full"}function oe(be){this.data.characterReferenceType=be.type}function fe(be){const ke=this.sliceSerialize(be),Pe=this.data.characterReferenceType;let rt;Pe?(rt=$6(ke,Pe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):rt=a2(ke);const at=this.stack[this.stack.length-1];at.value+=rt}function ye(be){const ke=this.stack.pop();ke.position.end=sc(be.end)}function le(be){S.call(this,be);const ke=this.stack[this.stack.length-1];ke.url=this.sliceSerialize(be)}function Ee(be){S.call(this,be);const ke=this.stack[this.stack.length-1];ke.url="mailto:"+this.sliceSerialize(be)}function ue(){return{type:"blockquote",children:[]}}function Me(){return{type:"code",lang:null,meta:null,value:""}}function Fe(){return{type:"inlineCode",value:""}}function $e(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ze(){return{type:"emphasis",children:[]}}function Xe(){return{type:"heading",depth:0,children:[]}}function ot(){return{type:"break"}}function nt(){return{type:"html",value:""}}function St(){return{type:"image",title:null,url:"",alt:null}}function Nt(){return{type:"link",title:null,url:"",children:[]}}function ut(be){return{type:"list",ordered:be.type==="listOrdered",start:null,spread:be._spread,children:[]}}function _t(be){return{type:"listItem",spread:be._spread,checked:null,children:[]}}function wt(){return{type:"paragraph",children:[]}}function st(){return{type:"strong",children:[]}}function de(){return{type:"text",value:""}}function Je(){return{type:"thematicBreak"}}}function sc(e){return{line:e.line,column:e.column,offset:e.offset}}function X6(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?X6(e,r):yse(e,r)}}function yse(e,t){let n;for(n in t)if(Z6.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function oO(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+pp({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+pp({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+pp({start:t.start,end:t.end})+") is still open")}function vse(e){const t=this;t.parser=n;function n(r){return mse(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function bse(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function _se(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function wse(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function xse(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Cse(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Dse(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Mf(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=i+1,o+=1,e.footnoteCounts.set(r,o);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,d),e.applyData(t,d)}function Sse(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ese(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function J6(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const s=a[a.length-1];return s&&s.type==="text"?s.value+=r:a.push({type:"text",value:r}),a}function Mse(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return J6(e,t);const a={src:Mf(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function Tse(e,t){const n={src:Mf(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function kse(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Rse(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return J6(e,t);const a={href:Mf(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Ase(e,t){const n={href:Mf(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ose(e,t,n){const r=e.all(t),a=n?Lse(n):e8(t),i={},s=[];if(typeof t.checked=="boolean"){const f=r[0];let h;f&&f.type==="element"&&f.tagName==="p"?h=f:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const f=r[o];(a||o!==0||f.type!=="element"||f.tagName!=="p")&&s.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!a?s.push(...f.children):s.push(f)}const c=r[r.length-1];c&&(a||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:i,children:s};return e.patch(t,d),e.applyData(t,d)}function Lse(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=e8(n[r])}return t}function e8(e){const t=e.spread;return t??e.children.length>1}function Nse(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const s=r[a];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function Pse(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ise(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Fse(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jse(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),a.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=JS(t.children[1]),c=L6(t.children[t.children.length-1]);o&&c&&(s.position={start:o,end:c}),a.push(s)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function Use(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let c=-1;const d=[];for(;++c<o;){const h=t.children[c],m={},g=s?s[c]:void 0;g&&(m.align=g);let b={type:"element",tagName:i,properties:m,children:[]};h&&(b.children=e.all(h),e.patch(h,b),b=e.applyData(h,b)),d.push(b)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,f),e.applyData(t,f)}function Bse(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const lO=9,cO=32;function $se(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(uO(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(uO(t.slice(a),a>0,!1)),i.join("")}function uO(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===lO||i===cO;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===lO||i===cO;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function zse(e,t){const n={type:"text",value:$se(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Hse(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Vse={blockquote:bse,break:_se,code:wse,delete:xse,emphasis:Cse,footnoteReference:Dse,heading:Sse,html:Ese,imageReference:Mse,image:Tse,inlineCode:kse,linkReference:Rse,link:Ase,listItem:Ose,list:Nse,paragraph:Pse,root:Ise,strong:Fse,table:jse,tableCell:Bse,tableRow:Use,text:zse,thematicBreak:Hse,toml:Xg,yaml:Xg,definition:Xg,footnoteDefinition:Xg};function Xg(){}const t8=-1,L1=0,gp=1,M0=2,s2=3,o2=4,l2=5,c2=6,n8=7,r8=8,dO=typeof self=="object"?self:globalThis,qse=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,s]=t[a];switch(i){case L1:case t8:return n(s,a);case gp:{const o=n([],a);for(const c of s)o.push(r(c));return o}case M0:{const o=n({},a);for(const[c,d]of s)o[r(c)]=r(d);return o}case s2:return n(new Date(s),a);case o2:{const{source:o,flags:c}=s;return n(new RegExp(o,c),a)}case l2:{const o=n(new Map,a);for(const[c,d]of s)o.set(r(c),r(d));return o}case c2:{const o=n(new Set,a);for(const c of s)o.add(r(c));return o}case n8:{const{name:o,message:c}=s;return n(new dO[o](c),a)}case r8:return n(BigInt(s),a);case"BigInt":return n(Object(BigInt(s)),a);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new dO[i](s),a)};return r},fO=e=>qse(new Map,e)(0),wd="",{toString:Yse}={},{keys:Wse}=Object,Fh=e=>{const t=typeof e;if(t!=="object"||!e)return[L1,t];const n=Yse.call(e).slice(8,-1);switch(n){case"Array":return[gp,wd];case"Object":return[M0,wd];case"Date":return[s2,wd];case"RegExp":return[o2,wd];case"Map":return[l2,wd];case"Set":return[c2,wd];case"DataView":return[gp,n]}return n.includes("Array")?[gp,n]:n.includes("Error")?[n8,n]:[M0,n]},Jg=([e,t])=>e===L1&&(t==="function"||t==="symbol"),Gse=(e,t,n,r)=>{const a=(s,o)=>{const c=r.push(s)-1;return n.set(o,c),c},i=s=>{if(n.has(s))return n.get(s);let[o,c]=Fh(s);switch(o){case L1:{let f=s;switch(c){case"bigint":o=r8,f=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);f=null;break;case"undefined":return a([t8],s)}return a([o,f],s)}case gp:{if(c){let m=s;return c==="DataView"?m=new Uint8Array(s.buffer):c==="ArrayBuffer"&&(m=new Uint8Array(s)),a([c,[...m]],s)}const f=[],h=a([o,f],s);for(const m of s)f.push(i(m));return h}case M0:{if(c)switch(c){case"BigInt":return a([c,s.toString()],s);case"Boolean":case"Number":case"String":return a([c,s.valueOf()],s)}if(t&&"toJSON"in s)return i(s.toJSON());const f=[],h=a([o,f],s);for(const m of Wse(s))(e||!Jg(Fh(s[m])))&&f.push([i(m),i(s[m])]);return h}case s2:return a([o,s.toISOString()],s);case o2:{const{source:f,flags:h}=s;return a([o,{source:f,flags:h}],s)}case l2:{const f=[],h=a([o,f],s);for(const[m,g]of s)(e||!(Jg(Fh(m))||Jg(Fh(g))))&&f.push([i(m),i(g)]);return h}case c2:{const f=[],h=a([o,f],s);for(const m of s)(e||!Jg(Fh(m)))&&f.push(i(m));return h}}const{message:d}=s;return a([o,{name:c,message:d}],s)};return i},hO=(e,{json:t,lossy:n}={})=>{const r=[];return Gse(!(t||n),!!t,new Map,r)(e),r},T0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?fO(hO(e,t)):structuredClone(e):(e,t)=>fO(hO(e,t));function Kse(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Qse(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Zse(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Kse,r=e.options.footnoteBackLabel||Qse,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[c]);if(!d)continue;const f=e.all(d),h=String(d.identifier).toUpperCase(),m=Mf(h.toLowerCase());let g=0;const b=[],_=e.footnoteCounts.get(h);for(;_!==void 0&&++g<=_;){b.length>0&&b.push({type:"text",value:" "});let k=typeof n=="string"?n:n(c,g);typeof k=="string"&&(k={type:"text",value:k}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,g),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const w=f[f.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const k=w.children[w.children.length-1];k&&k.type==="text"?k.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...b)}else f.push(...b);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(f,!0)};e.patch(d,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...T0(s),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const N1=function(e){if(e==null)return toe;if(typeof e=="function")return P1(e);if(typeof e=="object")return Array.isArray(e)?Xse(e):Jse(e);if(typeof e=="string")return eoe(e);throw new Error("Expected function, string, or object as test")};function Xse(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=N1(e[n]);return P1(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function Jse(e){const t=e;return P1(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function eoe(e){return P1(t);function t(n){return n&&n.type===e}}function P1(e){return t;function t(n,r,a){return!!(noe(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function toe(){return!0}function noe(e){return e!==null&&typeof e=="object"&&"type"in e}const a8=[],roe=!0,XC=!1,aoe="skip";function u2(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=N1(a),s=r?-1:1;o(e,void 0,[])();function o(c,d,f){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const g=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(c.type+(g?"<"+g+">":""))+")"})}return m;function m(){let g=a8,b,_,w;if((!t||i(c,d,f[f.length-1]||void 0))&&(g=ioe(n(c,f)),g[0]===XC))return g;if("children"in c&&c.children){const x=c;if(x.children&&g[0]!==aoe)for(_=(r?x.children.length:-1)+s,w=f.concat(x);_>-1&&_<x.children.length;){const k=x.children[_];if(b=o(k,_,w)(),b[0]===XC)return b;_=typeof b[1]=="number"?b[1]:_+s}}return g}}}function ioe(e){return Array.isArray(e)?e:typeof e=="number"?[roe,e]:e==null?a8:[e]}function Tf(e,t,n,r){let a,i,s;typeof t=="function"?(i=void 0,s=t,a=n):(i=t,s=n,a=r),u2(e,i,o,a);function o(c,d){const f=d[d.length-1],h=f?f.children.indexOf(c):void 0;return s(c,h,f)}}const JC={}.hasOwnProperty,soe={};function ooe(e,t){const n=t||soe,r=new Map,a=new Map,i=new Map,s={...Vse,...n.handlers},o={all:d,applyData:coe,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:s,one:c,options:n,patch:loe,wrap:doe};return Tf(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const h=f.type==="definition"?r:a,m=String(f.identifier).toUpperCase();h.has(m)||h.set(m,f)}}),o;function c(f,h){const m=f.type,g=o.handlers[m];if(JC.call(o.handlers,m)&&g)return g(o,f,h);if(o.options.passThrough&&o.options.passThrough.includes(m)){if("children"in f){const{children:_,...w}=f,x=T0(w);return x.children=o.all(f),x}return T0(f)}return(o.options.unknownHandler||uoe)(o,f,h)}function d(f){const h=[];if("children"in f){const m=f.children;let g=-1;for(;++g<m.length;){const b=o.one(m[g],f);if(b){if(g&&m[g-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=pO(b.value)),!Array.isArray(b)&&b.type==="element")){const _=b.children[0];_&&_.type==="text"&&(_.value=pO(_.value))}Array.isArray(b)?h.push(...b):h.push(b)}}}return h}}function loe(e,t){e.position&&(t.position=Qre(e))}function coe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&i&&Object.assign(n.properties,T0(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function uoe(e,t){const n=t.data||{},r="value"in t&&!(JC.call(n,"hProperties")||JC.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function doe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function pO(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function mO(e,t){const n=ooe(e,t),r=n.one(e,void 0),a=Zse(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function foe(e,t){return e&&"run"in e?async function(n,r){const a=mO(n,{file:r,...t});await e.run(a,r)}:function(n,r){return mO(n,{file:r,...e||t})}}function gO(e){if(e)throw e}var bx,yO;function hoe(){if(yO)return bx;yO=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},i=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var f=e.call(d,"constructor"),h=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!h)return!1;var m;for(m in d);return typeof m>"u"||e.call(d,m)},s=function(d,f){n&&f.name==="__proto__"?n(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},o=function(d,f){if(f==="__proto__")if(e.call(d,f)){if(r)return r(d,f).value}else return;return d[f]};return bx=function c(){var d,f,h,m,g,b,_=arguments[0],w=1,x=arguments.length,k=!1;for(typeof _=="boolean"&&(k=_,_=arguments[1]||{},w=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});w<x;++w)if(d=arguments[w],d!=null)for(f in d)h=o(_,f),m=o(d,f),_!==m&&(k&&m&&(i(m)||(g=a(m)))?(g?(g=!1,b=h&&a(h)?h:[]):b=h&&i(h)?h:{},s(_,{name:f,newValue:c(k,b,m)})):typeof m<"u"&&s(_,{name:f,newValue:m}));return _},bx}var poe=hoe();const _x=Or(poe);function eD(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function moe(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const s=a.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...a);function o(c,...d){const f=e[++i];let h=-1;if(c){s(c);return}for(;++h<a.length;)(d[h]===null||d[h]===void 0)&&(d[h]=a[h]);a=d,f?goe(f,o)(...d):s(null,...d)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function goe(e,t){let n;return r;function r(...s){const o=e.length>s.length;let c;o&&s.push(a);try{c=e.apply(this,s)}catch(d){const f=d;if(o&&n)throw f;return a(f)}o||(c&&c.then&&typeof c.then=="function"?c.then(i,a):c instanceof Error?a(c):i(c))}function a(s,...o){n||(n=!0,t(s,...o))}function i(s){a(null,s)}}const _o={basename:yoe,dirname:voe,extname:boe,join:_oe,sep:"/"};function yoe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');mm(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else s<0&&(i=!0,s=a+1),o>-1&&(e.codePointAt(a)===t.codePointAt(o--)?o<0&&(r=a):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function voe(e){if(mm(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function boe(e){mm(e);let t=e.length,n=-1,r=0,a=-1,i=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function _oe(...e){let t=-1,n;for(;++t<e.length;)mm(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":woe(n)}function woe(e){mm(e);const t=e.codePointAt(0)===47;let n=xoe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function xoe(e,t){let n="",r=0,a=-1,i=0,s=-1,o,c;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(a===s-1||i===1))if(a!==s-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),a=s,i=0;continue}}else if(n.length>0){n="",r=0,a=s,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,s):n=e.slice(a+1,s),r=s-a-1;a=s,i=0}else o===46&&i>-1?i++:i=-1}return n}function mm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Coe={cwd:Doe};function Doe(){return"/"}function tD(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Soe(e){if(typeof e=="string")e=new URL(e);else if(!tD(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Eoe(e)}function Eoe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const wx=["history","path","basename","stem","extname","dirname"];class i8{constructor(t){let n;t?tD(t)?n={path:t}:typeof t=="string"||Moe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Coe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<wx.length;){const i=wx[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)wx.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?_o.basename(this.path):void 0}set basename(t){Cx(t,"basename"),xx(t,"basename"),this.path=_o.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?_o.dirname(this.path):void 0}set dirname(t){vO(this.basename,"dirname"),this.path=_o.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?_o.extname(this.path):void 0}set extname(t){if(xx(t,"extname"),vO(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=_o.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){tD(t)&&(t=Soe(t)),Cx(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?_o.basename(this.path,this.extname):void 0}set stem(t){Cx(t,"stem"),xx(t,"stem"),this.path=_o.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new di(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function xx(e,t){if(e&&e.includes(_o.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+_o.sep+"`")}function Cx(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function vO(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Moe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Toe=function(e){const r=this.constructor.prototype,a=r[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},koe={}.hasOwnProperty;class d2 extends Toe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=moe()}copy(){const t=new d2;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(_x(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Ex("data",this.frozen),this.namespace[t]=n,this):koe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ex("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ey(t),r=this.parser||this.Parser;return Dx("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Dx("process",this.parser||this.Parser),Sx("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,s){const o=ey(t),c=r.parse(o);r.run(c,o,function(f,h,m){if(f||!h||!m)return d(f);const g=h,b=r.stringify(g,m);Ooe(b)?m.value=b:m.result=b,d(f,m)});function d(f,h){f||!h?s(f):i?i(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),Dx("processSync",this.parser||this.Parser),Sx("processSync",this.compiler||this.Compiler),this.process(t,a),_O("processSync","process",n),r;function a(i,s){n=!0,gO(i),r=s}}run(t,n,r){bO(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(s,o){const c=ey(n);a.run(t,c,d);function d(f,h,m){const g=h||t;f?o(f):s?s(g):r(void 0,g,m)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),_O("runSync","run",r),a;function i(s,o){gO(s),a=o,r=!0}}stringify(t,n){this.freeze();const r=ey(n),a=this.compiler||this.Compiler;return Sx("stringify",a),bO(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(Ex("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[f,...h]=d;c(f,h)}else s(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function s(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(d.plugins),d.settings&&(a.settings=_x(!0,a.settings,d.settings))}function o(d){let f=-1;if(d!=null)if(Array.isArray(d))for(;++f<d.length;){const h=d[f];i(h)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,f){let h=-1,m=-1;for(;++h<r.length;)if(r[h][0]===d){m=h;break}if(m===-1)r.push([d,...f]);else if(f.length>0){let[g,...b]=f;const _=r[m][1];eD(_)&&eD(g)&&(g=_x(!0,_,g)),r[m]=[d,g,...b]}}}}const Roe=new d2().freeze();function Dx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Sx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ex(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function bO(e){if(!eD(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function _O(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ey(e){return Aoe(e)?e:new i8(e)}function Aoe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Ooe(e){return typeof e=="string"||Loe(e)}function Loe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Noe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",wO=[],xO={allowDangerousHtml:!0},Poe=/^(https?|ircs?|mailto|xmpp)$/i,Ioe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function s8(e){const t=Foe(e),n=joe(e);return Uoe(t.runSync(t.parse(n),n),e)}function Foe(e){const t=e.rehypePlugins||wO,n=e.remarkPlugins||wO,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...xO}:xO;return Roe().use(vse).use(n).use(foe,r).use(t)}function joe(e){const t=e.children||"",n=new i8;return typeof t=="string"&&(n.value=t),n}function Uoe(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,c=t.urlTransform||o8;for(const f of Ioe)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Noe+f.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Tf(e,d),tae(e,{Fragment:D.Fragment,components:a,ignoreInvalidStyle:!0,jsx:D.jsx,jsxs:D.jsxs,passKeys:!0,passNode:!0});function d(f,h,m){if(f.type==="raw"&&m&&typeof h=="number")return s?m.children.splice(h,1):m.children[h]={type:"text",value:f.value},h;if(f.type==="element"){let g;for(g in gx)if(Object.hasOwn(gx,g)&&Object.hasOwn(f.properties,g)){const b=f.properties[g],_=gx[g];(_===null||_.includes(f.tagName))&&(f.properties[g]=c(String(b||""),g,f))}}if(f.type==="element"){let g=n?!n.includes(f.tagName):i?i.includes(f.tagName):!1;if(!g&&r&&typeof h=="number"&&(g=!r(f,h,m)),g&&m&&typeof h=="number")return o&&f.children?m.children.splice(h,1,...f.children):m.children.splice(h,1),h}}}function o8(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||Poe.test(e.slice(0,t))?e:""}const Boe=e=>v.createElement(s8,{skipHtml:!0},e),$oe=e=>{let t;for(const n of Object.values(e))n.forEach(r=>{t&&new Date(t.updated_at)>=new Date(r.created_at)||(t=r)});return t},zoe=(e,t,n="en",r)=>{var o,c,d,f,h,m;const a=e.state.latestMessages[e.state.latestMessages.length-1],i=((o=a==null?void 0:a.i18n)==null?void 0:o[`${n}_text`])||(a==null?void 0:a.text),s=a==null?void 0:a.poll;if(!a)return t("Nothing yet...");if(a.deleted_at)return t("Message deleted");if(s)if(s.vote_count){const g=$oe(s.latest_votes_by_option),b=g&&s.options.find(_=>_.id===g.option_id);if(b&&g)return t("📊 {{votedBy}} voted: {{pollOptionText}}",{pollOptionText:b.text,votedBy:((f=g==null?void 0:g.user)==null?void 0:f.id)===e.getClient().userID?t("You"):((h=g.user)==null?void 0:h.name)??t("Poll")})}else{const g=((c=s.created_by)==null?void 0:c.id)===e.getClient().userID?t("You"):((d=s.created_by)==null?void 0:d.name)??t("Poll");return t("📊 {{createdBy}} created: {{ pollName}}",{createdBy:g,pollName:s.name})}return i?r!=null&&r(a)?i:Boe(i):a.command?`/${a.command}`:(m=a.attachments)!=null&&m.length?t("🏙 Attachment..."):t("Empty message...")},CO=e=>{const t=Object.values(e.state.members);if(t.length<=2)return;const n=[];for(let r=0;r<t.length;r++){const{user:a}=t[r];if(!(!(a!=null&&a.name)&&!(a!=null&&a.image))&&(n.push({image:a.image,name:a.name}),n.length===4))break}return n},l8=(e,t,n)=>{var i,s;if((i=t.data)!=null&&i[e])return t.data[e];const r=Object.values(t.state.members);if(r.length!==2)return;const a=r.find(o=>{var c;return((c=o.user)==null?void 0:c.id)!==(n==null?void 0:n.id)});return(s=a==null?void 0:a.user)==null?void 0:s[e]},DO=(e,t)=>l8("name",e,t),SO=(e,t)=>l8("image",e,t),c8=e=>{const{channel:t,overrideImage:n,overrideTitle:r}=e,{client:a}=Yt("useChannelPreviewInfo"),[i,s]=E.useState(()=>r||DO(t,a.user)),[o,c]=E.useState(()=>n||SO(t,a.user)),[d,f]=E.useState(()=>CO(t));return E.useEffect(()=>{if(r&&n)return;const h=()=>{r||s(DO(t,a.user)),n||(c(SO(t,a.user)),f(CO(t)))};return h(),a.on("user.updated",h),()=>{a.off("user.updated",h)}},[t,t.data,a,n,r]),{displayImage:n||o,displayTitle:r||i,groupChannelDisplayInfo:d}};var Pd;(function(e){e.DELIVERED="delivered",e.READ="read"})(Pd||(Pd={}));const Hoe=({channel:e,lastMessage:t})=>{const{client:n}=Yt(),[r,a]=E.useState(),i=E.useCallback(s=>{var o;return n.user&&((o=s==null?void 0:s.user)==null?void 0:o.id)===n.user.id},[n]);return E.useEffect(()=>{const s=i(t);if(!(t!=null&&t.created_at)||!s)return;const o=typeof t.created_at=="string"?new Date(t.created_at):t.created_at,c=Object.values(e.state.read).some(({last_read:d,user:f})=>n.user&&f.id!==n.user.id&&o<d);a(c?Pd.READ:Pd.DELIVERED)},[e.state.read,n,i,t]),E.useEffect(()=>{const s=o=>i(o.message)?a(Pd.DELIVERED):a(void 0);return e.on("message.new",s),()=>{e.off("message.new",s)}},[e,n,i]),E.useEffect(()=>{if(!i(t))return;const s=o=>{var c,d;((c=o.user)==null?void 0:c.id)!==((d=n.user)==null?void 0:d.id)&&a(Pd.READ)};return e.on("message.read",s),()=>{e.off("message.read",s)}},[e,n,t,i]),{messageDeliveryStatus:r}},u8=e=>{const{active:t,channel:n,channelUpdateCount:r,getLatestMessagePreview:a=zoe,Preview:i=Sre}=e,{channel:s,client:o,isMessageAIGenerated:c,setActiveChannel:d}=Yt("ChannelPreview"),{t:f,userLanguage:h}=Ge("ChannelPreview"),{displayImage:m,displayTitle:g,groupChannelDisplayInfo:b}=c8({channel:n}),[_,w]=E.useState(n.state.messages[n.state.messages.length-1]),[x,k]=E.useState(0),{messageDeliveryStatus:R}=Hoe({channel:n,lastMessage:_}),I=typeof t>"u"?(s==null?void 0:s.cid)===n.cid:t,{muted:O}=Ere(n);E.useEffect(()=>{const C=T=>{if(!T.cid)return k(0);n.cid===T.cid&&k(0)};return o.on("notification.mark_read",C),()=>o.off("notification.mark_read",C)},[n,o]),E.useEffect(()=>{const C=T=>{var S,j;n.cid===T.cid&&((S=T.user)==null?void 0:S.id)===((j=o.user)==null?void 0:j.id)&&k(n.countUnread())};return n.on("notification.mark_unread",C),()=>{n.off("notification.mark_unread",C)}},[n,o]);const A=E.useMemo(()=>wc(()=>{k(O?0:n.countUnread())},400),[n,O]);if(E.useEffect(()=>{A();const C=()=>{w(n.state.latestMessages[n.state.latestMessages.length-1]),A()};return n.on("message.new",C),n.on("message.updated",C),n.on("message.deleted",C),n.on("message.undeleted",C),n.on("channel.truncated",C),()=>{n.off("message.new",C),n.off("message.updated",C),n.off("message.deleted",C),n.off("message.undeleted",C),n.off("channel.truncated",C)}},[n,A,r]),!i)return null;const L=a(n,f,h,c);return v.createElement(i,{...e,active:I,displayImage:m,displayTitle:g,groupChannelDisplayInfo:b,lastMessage:_,latestMessage:L,latestMessagePreview:L,messageDeliveryStatus:R,setActiveChannel:d,unread:x})},Voe=`Action handler was called, but it is missing one of its required arguments. 
Make sure the ChannelAction and ChannelState contexts are properly set and the hook is initialized with a valid message.`;function qoe(e){const{removeMessage:t,updateMessage:n}=Ya("useActionHandler"),{channel:r}=Zn("useActionHandler");return async(a,i,s)=>{if(s&&s.preventDefault(),!e||!n||!t||!r){console.warn(Voe);return}const o=e.id;let c={};if(typeof a=="string"?c[a]=i:c={...a},o){const d=await r.sendAction(o,c);d!=null&&d.message?n(d.message):t(e)}}}var Yoe=gS();const nu=Or(Yoe);var Mx,EO;function Woe(){return EO||(EO=1,Mx=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}),Mx}var Goe=Woe();const d8=Or(Goe),qs=(e,t)=>{if(!e||typeof e!="function")return null;Array.isArray(t)||(t=[t]);const n=e(...t);return typeof n!="string"?null:n},f8=(e,t)=>!t||!e?!1:!!t.filter(r=>{var a;return r.target.id===((a=e.user)==null?void 0:a.id)}).length,Sn={delete:"delete",edit:"edit",flag:"flag",markUnread:"markUnread",mute:"mute",pin:"pin",quote:"quote",react:"react",reply:"reply"},h8={commerce:{admin:!0,anonymous:!1,channel_member:!1,channel_moderator:!0,guest:!1,member:!1,moderator:!0,owner:!0,user:!1},gaming:{admin:!0,anonymous:!1,channel_member:!1,channel_moderator:!0,guest:!1,member:!1,moderator:!0,owner:!1,user:!1},livestream:{admin:!0,anonymous:!1,channel_member:!1,channel_moderator:!0,guest:!1,member:!1,moderator:!0,owner:!0,user:!1},messaging:{admin:!0,anonymous:!1,channel_member:!0,channel_moderator:!0,guest:!1,member:!0,moderator:!0,owner:!0,user:!1},team:{admin:!0,anonymous:!1,channel_member:!0,channel_moderator:!0,guest:!1,member:!0,moderator:!0,owner:!0,user:!1}},Koe=(e,{canDelete:t,canEdit:n,canFlag:r,canMarkUnread:a,canMute:i,canPin:s,canQuote:o,canReact:c,canReply:d})=>{const f=[];let h=[];if(e&&typeof e=="boolean")h=Object.keys(Sn);else if(e&&e.length>0)h=[...e];else return[];return t&&h.indexOf(Sn.delete)>-1&&f.push(Sn.delete),n&&h.indexOf(Sn.edit)>-1&&f.push(Sn.edit),r&&h.indexOf(Sn.flag)>-1&&f.push(Sn.flag),a&&h.indexOf(Sn.markUnread)>-1&&f.push(Sn.markUnread),i&&h.indexOf(Sn.mute)>-1&&f.push(Sn.mute),s&&h.indexOf(Sn.pin)>-1&&f.push(Sn.pin),o&&h.indexOf(Sn.quote)>-1&&f.push(Sn.quote),c&&h.indexOf(Sn.react)>-1&&f.push(Sn.react),d&&h.indexOf(Sn.reply)>-1&&f.push(Sn.reply),f},Qoe=[Sn.pin,Sn.reply,Sn.markUnread],Zoe=({customMessageActions:e,CustomMessageActionsList:t,inThread:n,messageActions:r})=>typeof t<"u"||typeof e<"u"?!0:!(!r.length||n&&r.filter(a=>!Qoe.includes(a)).length===0||r.length===1&&(r.includes(Sn.react)||r.includes(Sn.reply))||r.length===2&&r.includes(Sn.react)&&r.includes(Sn.reply));function p8(e,t){const n=(r,a)=>{var i,s,o,c,d,f;return r.deleted_at===a.deleted_at&&((i=r.latest_reactions)==null?void 0:i.length)===((s=a.latest_reactions)==null?void 0:s.length)&&((o=r.own_reactions)==null?void 0:o.length)===((c=a.own_reactions)==null?void 0:c.length)&&r.pinned===a.pinned&&r.reply_count===a.reply_count&&r.status===a.status&&r.text===a.text&&r.type===a.type&&r.updated_at===a.updated_at&&((d=r.user)==null?void 0:d.updated_at)===((f=a.user)==null?void 0:f.updated_at)};return n(e,t)&&!!e.quoted_message==!!t.quoted_message&&(!e.quoted_message&&!t.quoted_message||n(e.quoted_message,t.quoted_message))}const Xoe=(e,t)=>{const{message:n,Message:r}=e,{message:a,Message:i}=t;return r!==i||e.endOfGroup!==t.endOfGroup||t.showDetailedReactions!==e.showDetailedReactions||t.closeReactionSelectorOnClick!==e.closeReactionSelectorOnClick||!p8(n,a)||!(nu(t.messageActions,e.messageActions)&&nu(t.readBy,e.readBy)&&nu(t.highlighted,e.highlighted)&&nu(t.groupStyles,e.groupStyles)&&nu(t.mutes,e.mutes)&&nu(t.lastReceivedId,e.lastReceivedId))?!1:e.messageListRect===t.messageListRect},Joe=(e,t)=>{var s,o,c,d;const{lastReceivedId:n,message:r}=e,{lastReceivedId:a,message:i}=t;return e.editing!==t.editing||e.highlighted!==t.highlighted||e.endOfGroup!==t.endOfGroup||((s=e.mutes)==null?void 0:s.length)!==((o=t.mutes)==null?void 0:o.length)||((c=e.readBy)==null?void 0:c.length)!==((d=t.readBy)==null?void 0:d.length)||e.groupStyles!==t.groupStyles||e.showDetailedReactions!==t.showDetailedReactions||(r.id===n||r.id===a)&&n!==a?!1:p8(r,i)},ele=e=>Object.values((e==null?void 0:e.reaction_groups)??{}).some(({count:t})=>t>0),m8=e=>!!(e!=null&&e.attachments)&&!!e.attachments.length,tle=e=>e.name||e.id,nle=(e,t,n,r)=>{let a="";if(!t)throw new Error("getReadByTooltipText was called, but translation function is not available");if(!r)throw new Error("getReadByTooltipText was called, but tooltipUserNameMapper function is not available");const i=e.filter(c=>c&&(n==null?void 0:n.user)&&c.id!==n.user.id).map(r),s=i.slice(0,5),o=i.length-s.length;if(s.length===1)a=`${s[0]} `;else if(s.length===2)a=t("{{ firstUser }} and {{ secondUser }}",{firstUser:s[0],secondUser:s[1]});else if(s.length>2)if(o===0){const c=s.splice(s.length-1,1);a=t("{{ commaSeparatedUsers }}, and {{ lastUser }}",{commaSeparatedUsers:s.join(", "),lastUser:c})}else a=t("{{ commaSeparatedUsers }} and {{ moreCount }} more",{commaSeparatedUsers:s.join(", "),moreCount:o});return a},rle=e=>e?!e.replace(d8(),"").replace(/[\s\n]/gm,""):!1,f2=e=>{var t,n;return e.type==="error"&&(((t=e.moderation_details)==null?void 0:t.action)==="MESSAGE_RESPONSE_ACTION_BOUNCE"||((n=e.moderation)==null?void 0:n.action)==="bounce")},ale=e=>{var t,n;return e.type==="error"&&(((t=e.moderation_details)==null?void 0:t.action)==="MESSAGE_RESPONSE_ACTION_REMOVE"||((n=e.moderation)==null?void 0:n.action)==="remove")},af=e=>!!e.message_text_updated_at,ile=(e,t={})=>{const{getErrorNotification:n,notify:r}=t,{deleteMessage:a,updateMessage:i}=Ya("useDeleteHandler"),{client:s}=Yt("useDeleteHandler"),{t:o}=Ge("useDeleteHandler");return async c=>{if(c.preventDefault(),!(!(e!=null&&e.id)||!s||!i))try{const d=await a(e);i(d)}catch{const f=n&&qs(n,[e]);r&&r(f||o("Error deleting message"),"error")}}},sle=(e=!1,t,n)=>{const[r,a]=E.useState(e);return{clearEdit:o=>{o!=null&&o.preventDefault&&o.preventDefault(),a(!1)},editing:r,setEdit:o=>{o!=null&&o.preventDefault&&o.preventDefault(),a(!0)}}},ole="useFlagHandler was called but it is missing one or more necessary parameters.",lle=(e,t={})=>{const{client:n}=Yt("useFlagHandler"),{t:r}=Ge("useFlagHandler");return async a=>{var c;a.preventDefault();const{getErrorNotification:i,getSuccessNotification:s,notify:o}=t;if(!n||!r||!o||!(e!=null&&e.id)){console.warn(ole);return}if((c=n.user)!=null&&c.banned)return o(r("Error adding flag"),"error");try{await n.flagMessage(e.id);const d=s&&qs(s,[e]);o(d||r("Message has been successfully flagged"),"success")}catch{const f=i&&qs(i,[e]);o(f||r("Error adding flag"),"error")}}};function MO(e,t){return n=>{var r;typeof e!="function"||!((r=t==null?void 0:t.mentioned_users)!=null&&r.length)||e(n,t.mentioned_users)}}const cle=(e,t)=>{const{onMentionsClick:n,onMentionsHover:r}=Ya("useMentionsHandler"),a=(t==null?void 0:t.onMentionsClick)||n||(()=>null),i=(t==null?void 0:t.onMentionsHover)||r||(()=>null);return{onMentionsClick:MO(a,e),onMentionsHover:MO(i,e)}},ule=(e,t={})=>{const{getErrorNotification:n,getSuccessNotification:r,notify:a}=t,{channel:i}=Zn("useMarkUnreadHandler"),{t:s}=Ge("useMarkUnreadHandler");return async o=>{if(o.preventDefault(),!(e!=null&&e.id)){console.warn("Mark unread handler does not have access to message id");return}try{if(await i.markUnread({message_id:e.id}),!a)return;const c=r&&qs(r,[e]);c&&a(c,"success")}catch{if(!a)return;const d=n&&qs(n,[e]);if(n&&!d)return;a(d||s("Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages."),"error")}}},dle="useMuteHandler was called but it is missing one or more necessary parameter.",fle=(e,t={})=>{const{mutes:n}=Zn("useMuteHandler"),{client:r}=Yt("useMuteHandler"),{t:a}=Ge("useMuteHandler");return async i=>{i.preventDefault();const{getErrorNotification:s,getSuccessNotification:o,notify:c}=t;if(!a||!(e!=null&&e.user)||!c||!r){console.warn(dle);return}if(f8(e,n))try{await r.unmuteUser(e.user.id);const d=a("{{ user }} has been unmuted",{user:e.user.name||e.user.id}),f=o&&qs(o,[e.user])||d;typeof f=="string"&&c(f,"success")}catch{const f=s&&qs(s,[e.user])||a("Error unmuting a user ...");typeof f=="string"&&c(f,"error")}else try{await r.muteUser(e.user.id);const d=o&&qs(o,[e.user]);c(d||a("{{ user }} has been muted",{user:e.user.name||e.user.id}),"success")}catch{const f=s&&qs(s,[e.user]);c(f||a("Error muting a user ..."),"error")}}},hle=(e,t)=>{const{openThread:n}=Ya("useOpenThreadHandler"),r=t||n;return a=>{if(!r||!e){console.warn("Open thread handler was called but it is missing one of its parameters");return}r(e,a)}},ple=(e,t=h8,n={})=>{const{getErrorNotification:r,notify:a}=n,{updateMessage:i}=Ya("usePinHandler"),{channelCapabilities:s={}}=Zn("usePinHandler"),{client:o}=Yt("usePinHandler"),{t:c}=Ge("usePinHandler");return{canPin:!!s["pin-message"],handlePin:async h=>{if(h.preventDefault(),!!e)if(e.pinned)try{const m={...e,pin_expires:null,pinned:!1,pinned_at:null,pinned_by:null};i(m),await o.unpinMessage(e)}catch{const g=r&&qs(r,[e]);a&&a(g||c("Error removing message pin"),"error"),i(e)}else try{const m={...e,pinned:!0,pinned_at:new Date,pinned_by:o.user};i(m),await o.pinMessage(e)}catch{const g=r&&qs(r,[e]);a&&a(g||c("Error pinning message"),"error"),i(e)}}}},mle=`Reaction handler was called, but it is missing one of its required arguments.
Make sure the ChannelAction and ChannelState contexts are properly set and the hook is initialized with a valid message.`,gle=e=>{const t=um(),{updateMessage:n}=Ya("useReactionHandler"),{channel:r,channelCapabilities:a}=Zn("useReactionHandler"),{client:i}=Yt("useReactionHandler"),s=E.useCallback((d,f,h)=>{var x,k;const m=(h==null?void 0:h.reaction_groups)||{},g=f.type,b=!!m[g];if(d){const R=new Date().toISOString();m[g]=b?{...m[g],count:m[g].count+1}:{count:1,first_reaction_at:R,last_reaction_at:R,sum_scores:1}}else b&&m[g].count>1?m[g]={...m[g],count:m[g].count-1}:delete m[g];const _=d?[f,...(h==null?void 0:h.latest_reactions)||[]]:(x=h.latest_reactions)==null?void 0:x.filter(R=>!(R.type===f.type&&R.user_id===f.user_id)),w=d?[f,...(h==null?void 0:h.own_reactions)||[]]:(k=h==null?void 0:h.own_reactions)==null?void 0:k.filter(R=>R.type!==f.type);return{...h,latest_reactions:_||h.latest_reactions,own_reactions:w,reaction_groups:m}},[i.user,i.userID]),o=d=>{var f;return{message_id:e==null?void 0:e.id,score:1,type:d,user:i.user,user_id:(f=i.user)==null?void 0:f.id}},c=wc(async(d,f,h)=>{if(!e||!a["send-reaction"])return;const m=o(f),g=s(h,m,e);try{n(g),t==null||t.upsertReplyLocally({message:g});const b=h?await r.sendReaction(d,{type:f}):await r.deleteReaction(d,f);n(b.message)}catch{n(e),t==null||t.upsertReplyLocally({message:e})}},1e3);return async(d,f)=>{if(f!=null&&f.preventDefault&&f.preventDefault(),!e)return console.warn(mle);let h=null;e.own_reactions&&e.own_reactions.forEach(m=>{m.user&&i.userID===m.user.id&&m.type===d?h=m:m.user&&i.userID!==m.user.id&&console.warn("message.own_reactions contained reactions from a different user, this indicates a bug")});try{h?await c(e.id,h.type,!1):await c(e.id,d,!0)}catch(m){console.log({error:m})}}},yle=e=>{const{retrySendMessage:t}=Ya("useRetryHandler"),n=e||t;return async r=>{r&&await n(r)}},vle=(e,t)=>({onUserClick:n=>{typeof(t==null?void 0:t.onUserClickHandler)!="function"||!(e!=null&&e.user)||t.onUserClickHandler(n,e.user)},onUserHover:n=>{typeof(t==null?void 0:t.onUserHoverHandler)!="function"||!(e!=null&&e.user)||t.onUserHoverHandler(n,e.user)}}),h2=(e,t,n)=>{var k,R,I;const{channel:r,channelCapabilities:a={}}=Zn("useUserRole"),{client:i}=Yt("useUserRole"),s=((k=i.user)==null?void 0:k.role)==="admin"||r.state.membership.role==="admin",o=r.state.membership.role==="owner",c=((R=i.user)==null?void 0:R.role)==="channel_moderator"||r.state.membership.role==="channel_moderator"||r.state.membership.role==="moderator"||r.state.membership.is_moderator===!0||r.state.membership.channel_role==="channel_moderator",d=i.userID===((I=e.user)==null?void 0:I.id),f=!e.poll&&(!t&&a["update-any-message"]||d&&a["update-own-message"]),h=a["delete-any-message"]||d&&a["delete-own-message"],m=!d&&a["flag-message"],g=a["read-events"],b=!d&&a["mute-channel"],_=!n&&a["quote-message"],w=a["send-reaction"],x=a["send-reply"];return{canDelete:h,canEdit:f,canFlag:m,canMarkUnread:g,canMute:b,canQuote:_,canReact:w,canReply:x,isAdmin:s,isModerator:c,isMyMessage:d,isOwner:o}},g8=1e3;function ble(e,t={}){const{client:n}=Yt("useRectionsFetcher"),{t:r}=Ge("useReactionFetcher"),{getErrorNotification:a,notify:i}=t;return async(s,o)=>{try{return await _le(n,e.id,s,o)}catch(c){const d=a==null?void 0:a(e);throw i==null||i(d||r("Error fetching reactions"),"error"),c}}}async function _le(e,t,n,r){const a=[];let s,o=!0;for(;o&&a.length<g8;){const c=await e.queryReactions(t,n?{type:n}:{},r,{limit:25,next:s});a.push(...c.reactions),s=c.next,o=!!s}return a}const wle=30,xle=2,Cle=({renderingLetterCount:e=xle,streamingLetterIntervalMs:t=wle,text:n})=>{const[r,a]=E.useState(n),i=E.useRef(n.length);return E.useEffect(()=>{const s=n.length,o=setInterval(()=>{(!n||i.current>=s)&&clearInterval(o);const c=i.current+e,d=n.substring(0,c);i.current+=d.length-i.current,a(d)},t);return()=>{clearInterval(o)}},[t,e,n]),{streamedMessageText:r}},Dle=e=>{const{message:t}=e,{t:n}=Ge("MessageDeleted"),{isMyMessage:r}=h2(t),a=r?"str-chat__message str-chat__message--me str-chat__message-simple str-chat__message-simple--me":"str-chat__message str-chat__message-simple str-chat__message--other";return v.createElement("div",{className:`${a} str-chat__message--deleted ${t.type} `,"data-testid":"message-deleted-component",key:t.id},v.createElement("div",{className:"str-chat__message--deleted-inner"},n("This message was deleted...")))},Sle=e=>{const{message:t,...n}=e,{message:r}=jr(),{Timestamp:a=g6}=xn(),i=t||r;return v.createElement(a,{timestamp:i.created_at,...n})},Ele=v.memo(Sle),I1=E.forwardRef(function({...t},n){const{className:r,onError:a}=t,[i,s]=E.useState(!1);return E.useEffect(()=>()=>{s(!1)},[t.src]),v.createElement(v.Fragment,null,v.createElement("img",{"data-testid":"str-chat__base-image",...t,className:Ue(r,"str-chat__base-image",{"str-chat__base-image--load-failed":i}),onError:o=>{s(!0),a==null||a(o)},ref:n}),i&&v.createElement(kS,{assetUrl:t.src}))}),To=typeof document<"u"?v.useLayoutEffect:()=>{},oi=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},k0=e=>e&&"window"in e&&e.window===e?e:oi(e).defaultView||window;function Mle(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function Tle(e){return Mle(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let kle=!1;function F1(){return kle}function TO(e,t){if(!F1())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:Tle(n)?n=n.host:n=n.parentNode}return!1}const Ks=(e=document)=>{var t;if(!F1())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function Rd(e){return F1()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}class Rle{get currentNode(){return this._currentNode}set currentNode(t){if(!TO(this.root,t))throw new Error("Cannot set currentNode to a node that is not contained by the root node.");const n=[];let r=t,a=t;for(this._currentNode=t;r&&r!==this.root;)if(r.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const s=r,o=this._doc.createTreeWalker(s,this.whatToShow,{acceptNode:this._acceptNode});n.push(o),o.currentNode=a,this._currentSetFor.add(o),r=a=s.host}else r=r.parentNode;const i=this._doc.createTreeWalker(this.root,this.whatToShow,{acceptNode:this._acceptNode});n.push(i),i.currentNode=a,this._currentSetFor.add(i),this._walkerStack=n}get doc(){return this._doc}firstChild(){let t=this.currentNode,n=this.nextNode();return TO(t,n)?(n&&(this.currentNode=n),n):(this.currentNode=t,null)}lastChild(){let n=this._walkerStack[0].lastChild();return n&&(this.currentNode=n),n}nextNode(){const t=this._walkerStack[0].nextNode();if(t){if(t.shadowRoot){var n;let a;if(typeof this.filter=="function"?a=this.filter(t):!((n=this.filter)===null||n===void 0)&&n.acceptNode&&(a=this.filter.acceptNode(t)),a===NodeFilter.FILTER_ACCEPT)return this.currentNode=t,t;let i=this.nextNode();return i&&(this.currentNode=i),i}return t&&(this.currentNode=t),t}else if(this._walkerStack.length>1){this._walkerStack.shift();let r=this.nextNode();return r&&(this.currentNode=r),r}else return null}previousNode(){const t=this._walkerStack[0];if(t.currentNode===t.root){if(this._currentSetFor.has(t))if(this._currentSetFor.delete(t),this._walkerStack.length>1){this._walkerStack.shift();let a=this.previousNode();return a&&(this.currentNode=a),a}else return null;return null}const n=t.previousNode();if(n){if(n.shadowRoot){var r;let i;if(typeof this.filter=="function"?i=this.filter(n):!((r=this.filter)===null||r===void 0)&&r.acceptNode&&(i=this.filter.acceptNode(n)),i===NodeFilter.FILTER_ACCEPT)return n&&(this.currentNode=n),n;let s=this.lastChild();return s&&(this.currentNode=s),s}return n&&(this.currentNode=n),n}else if(this._walkerStack.length>1){this._walkerStack.shift();let a=this.previousNode();return a&&(this.currentNode=a),a}else return null}nextSibling(){return null}previousSibling(){return null}parentNode(){return null}constructor(t,n,r,a){this._walkerStack=[],this._currentSetFor=new Set,this._acceptNode=s=>{if(s.nodeType===Node.ELEMENT_NODE){const c=s.shadowRoot;if(c){const d=this._doc.createTreeWalker(c,this.whatToShow,{acceptNode:this._acceptNode});return this._walkerStack.unshift(d),NodeFilter.FILTER_ACCEPT}else{var o;if(typeof this.filter=="function")return this.filter(s);if(!((o=this.filter)===null||o===void 0)&&o.acceptNode)return this.filter.acceptNode(s);if(this.filter===null)return NodeFilter.FILTER_ACCEPT}}return NodeFilter.FILTER_SKIP},this._doc=t,this.root=n,this.filter=a??null,this.whatToShow=r??NodeFilter.SHOW_ALL,this._currentNode=n,this._walkerStack.unshift(t.createTreeWalker(n,r,this._acceptNode));const i=n.shadowRoot;if(i){const s=this._doc.createTreeWalker(i,this.whatToShow,{acceptNode:this._acceptNode});this._walkerStack.unshift(s)}}}function Ale(e,t,n,r){return F1()?new Rle(e,t,n,r):e.createTreeWalker(t,n,r)}function kO(e){if(Ole())e.focus({preventScroll:!0});else{let t=Lle(e);e.focus(),Nle(t)}}let ty=null;function Ole(){if(ty==null){ty=!1;try{document.createElement("div").focus({get preventScroll(){return ty=!0,!0}})}catch{}}return ty}function Lle(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function Nle(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}function y8(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function Ple(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function p2(e){let t=null;return()=>(t==null&&(t=e()),t)}const Ile=p2(function(){return Ple(/^Mac/i)}),Fle=p2(function(){return y8(/Chrome/i)}),v8=p2(function(){return y8(/Android/i)});let pc=new Map,nD=new Set;function RO(){if(typeof window>"u")return;function e(r){return"propertyName"in r}let t=r=>{if(!e(r)||!r.target)return;let a=pc.get(r.target);a||(a=new Set,pc.set(r.target,a),r.target.addEventListener("transitioncancel",n,{once:!0})),a.add(r.propertyName)},n=r=>{if(!e(r)||!r.target)return;let a=pc.get(r.target);if(a&&(a.delete(r.propertyName),a.size===0&&(r.target.removeEventListener("transitioncancel",n),pc.delete(r.target)),pc.size===0)){for(let i of nD)i();nD.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?RO():document.addEventListener("DOMContentLoaded",RO));function jle(){for(const[e]of pc)"isConnected"in e&&!e.isConnected&&pc.delete(e)}function Ule(e){requestAnimationFrame(()=>{jle(),pc.size===0?e():nD.add(e)})}function Ble(e){return e.mozInputSource===0&&e.isTrusted?!0:v8()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}const m2=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])'],$le=m2.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";m2.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const zle=m2.join(':not([hidden]):not([tabindex="-1"]),');function Hle(e){return e.matches($le)}function Vle(e){return e.matches(zle)}function qle(e){const t=k0(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:n,visibility:r}=e.style,a=n!=="none"&&r!=="hidden"&&r!=="collapse";if(a){const{getComputedStyle:i}=e.ownerDocument.defaultView;let{display:s,visibility:o}=i(e);a=s!=="none"&&o!=="hidden"&&o!=="collapse"}return a}function Yle(e,t){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function b8(e,t){return e.nodeName!=="#comment"&&qle(e)&&Yle(e,t)&&(!e.parentElement||b8(e.parentElement,e))}let Wle=!1,gm=null,Gle=new Set,yp=new Map,Tu=!1,rD=!1;function g2(e,t){for(let n of Gle)n(e,t)}function Kle(e){return!(e.metaKey||!Ile()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function R0(e){Tu=!0,Kle(e)&&(gm="keyboard",g2("keyboard",e))}function $d(e){gm="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Tu=!0,g2("pointer",e))}function _8(e){Ble(e)&&(Tu=!0,gm="virtual")}function w8(e){e.target===window||e.target===document||Wle||!e.isTrusted||(!Tu&&!rD&&(gm="virtual",g2("virtual",e)),Tu=!1,rD=!1)}function x8(){Tu=!1,rD=!0}function AO(e){if(typeof window>"u"||typeof document>"u"||yp.get(k0(e)))return;const t=k0(e),n=oi(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Tu=!0,r.apply(this,arguments)},n.addEventListener("keydown",R0,!0),n.addEventListener("keyup",R0,!0),n.addEventListener("click",_8,!0),t.addEventListener("focus",w8,!0),t.addEventListener("blur",x8,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",$d,!0),n.addEventListener("pointermove",$d,!0),n.addEventListener("pointerup",$d,!0)),t.addEventListener("beforeunload",()=>{C8(e)},{once:!0}),yp.set(t,{focus:r})}const C8=(e,t)=>{const n=k0(e),r=oi(e);t&&r.removeEventListener("DOMContentLoaded",t),yp.has(n)&&(n.HTMLElement.prototype.focus=yp.get(n).focus,r.removeEventListener("keydown",R0,!0),r.removeEventListener("keyup",R0,!0),r.removeEventListener("click",_8,!0),n.removeEventListener("focus",w8,!0),n.removeEventListener("blur",x8,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",$d,!0),r.removeEventListener("pointermove",$d,!0),r.removeEventListener("pointerup",$d,!0)),yp.delete(n))};function Qle(e){const t=oi(e);let n;return t.readyState!=="loading"?AO(e):(n=()=>{AO(e)},t.addEventListener("DOMContentLoaded",n)),()=>C8(e,n)}typeof document<"u"&&Qle();function D8(){return gm}function Zle(e){const t=oi(e),n=Ks(t);if(D8()==="virtual"){let r=n;Ule(()=>{Ks(t)===r&&e.isConnected&&kO(e)})}else kO(e)}const OO=v.createContext(null),aD="react-aria-focus-scope-restore";let Rr=null;function S8(e){let{children:t,contain:n,restoreFocus:r,autoFocus:a}=e,i=E.useRef(null),s=E.useRef(null),o=E.useRef([]),{parentNode:c}=E.useContext(OO)||{},d=E.useMemo(()=>new sD({scopeRef:o}),[o]);To(()=>{let m=c||wa.root;if(wa.getTreeNode(m.scopeRef)&&Rr&&!A0(Rr,m.scopeRef)){let g=wa.getTreeNode(Rr);g&&(m=g)}m.addChild(d),wa.addNode(d)},[d,c]),To(()=>{let m=wa.getTreeNode(o);m&&(m.contain=!!n)},[n]),To(()=>{var m;let g=(m=i.current)===null||m===void 0?void 0:m.nextSibling,b=[],_=w=>w.stopPropagation();for(;g&&g!==s.current;)b.push(g),g.addEventListener(aD,_),g=g.nextSibling;return o.current=b,()=>{for(let w of b)w.removeEventListener(aD,_)}},[t]),tce(o,r,n),Jle(o,n),nce(o,r,n),ece(o,a),E.useEffect(()=>{const m=Ks(oi(o.current?o.current[0]:void 0));let g=null;if(Os(m,o.current)){for(let b of wa.traverse())b.scopeRef&&Os(m,b.scopeRef.current)&&(g=b);g===wa.getTreeNode(o)&&(Rr=g.scopeRef)}},[o]),To(()=>()=>{var m,g,b;let _=(b=(g=wa.getTreeNode(o))===null||g===void 0||(m=g.parent)===null||m===void 0?void 0:m.scopeRef)!==null&&b!==void 0?b:null;(o===Rr||A0(o,Rr))&&(!_||wa.getTreeNode(_))&&(Rr=_),wa.removeTreeNode(o)},[o]);let f=E.useMemo(()=>Xle(o),[]),h=E.useMemo(()=>({focusManager:f,parentNode:d}),[d,f]);return v.createElement(OO.Provider,{value:h},v.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:i}),t,v.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:s}))}function Xle(e){return{focusNext(t={}){let n=e.current,{from:r,tabbable:a,wrap:i,accept:s}=t;var o;let c=r||Ks(oi((o=n[0])!==null&&o!==void 0?o:void 0)),d=n[0].previousElementSibling,f=lu(n),h=gc(f,{tabbable:a,accept:s},n);h.currentNode=Os(c,n)?c:d;let m=h.nextNode();return!m&&i&&(h.currentNode=d,m=h.nextNode()),m&&ml(m,!0),m},focusPrevious(t={}){let n=e.current,{from:r,tabbable:a,wrap:i,accept:s}=t;var o;let c=r||Ks(oi((o=n[0])!==null&&o!==void 0?o:void 0)),d=n[n.length-1].nextElementSibling,f=lu(n),h=gc(f,{tabbable:a,accept:s},n);h.currentNode=Os(c,n)?c:d;let m=h.previousNode();return!m&&i&&(h.currentNode=d,m=h.previousNode()),m&&ml(m,!0),m},focusFirst(t={}){let n=e.current,{tabbable:r,accept:a}=t,i=lu(n),s=gc(i,{tabbable:r,accept:a},n);s.currentNode=n[0].previousElementSibling;let o=s.nextNode();return o&&ml(o,!0),o},focusLast(t={}){let n=e.current,{tabbable:r,accept:a}=t,i=lu(n),s=gc(i,{tabbable:r,accept:a},n);s.currentNode=n[n.length-1].nextElementSibling;let o=s.previousNode();return o&&ml(o,!0),o}}}function lu(e){return e[0].parentElement}function Qh(e){let t=wa.getTreeNode(Rr);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function Jle(e,t){let n=E.useRef(void 0),r=E.useRef(void 0);To(()=>{let a=e.current;if(!t){r.current&&(cancelAnimationFrame(r.current),r.current=void 0);return}const i=oi(a?a[0]:void 0);let s=d=>{if(d.key!=="Tab"||d.altKey||d.ctrlKey||d.metaKey||!Qh(e)||d.isComposing)return;let f=Ks(i),h=e.current;if(!h||!Os(f,h))return;let m=lu(h),g=gc(m,{tabbable:!0},h);if(!f)return;g.currentNode=f;let b=d.shiftKey?g.previousNode():g.nextNode();b||(g.currentNode=d.shiftKey?h[h.length-1].nextElementSibling:h[0].previousElementSibling,b=d.shiftKey?g.previousNode():g.nextNode()),d.preventDefault(),b&&ml(b,!0)},o=d=>{(!Rr||A0(Rr,e))&&Os(Rd(d),e.current)?(Rr=e,n.current=Rd(d)):Qh(e)&&!cu(Rd(d),e)?n.current?n.current.focus():Rr&&Rr.current&&iD(Rr.current):Qh(e)&&(n.current=Rd(d))},c=d=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{let f=D8(),h=(f==="virtual"||f===null)&&v8()&&Fle(),m=Ks(i);if(!h&&m&&Qh(e)&&!cu(m,e)){Rr=e;let b=Rd(d);if(b&&b.isConnected){var g;n.current=b,(g=n.current)===null||g===void 0||g.focus()}else Rr.current&&iD(Rr.current)}})};return i.addEventListener("keydown",s,!1),i.addEventListener("focusin",o,!1),a==null||a.forEach(d=>d.addEventListener("focusin",o,!1)),a==null||a.forEach(d=>d.addEventListener("focusout",c,!1)),()=>{i.removeEventListener("keydown",s,!1),i.removeEventListener("focusin",o,!1),a==null||a.forEach(d=>d.removeEventListener("focusin",o,!1)),a==null||a.forEach(d=>d.removeEventListener("focusout",c,!1))}},[e,t]),To(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[r])}function E8(e){return cu(e)}function Os(e,t){return!e||!t?!1:t.some(n=>n.contains(e))}function cu(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of wa.traverse(wa.getTreeNode(t)))if(n&&Os(e,n.current))return!0;return!1}function A0(e,t){var n;let r=(n=wa.getTreeNode(t))===null||n===void 0?void 0:n.parent;for(;r;){if(r.scopeRef===e)return!0;r=r.parent}return!1}function ml(e,t=!1){if(e!=null&&!t)try{Zle(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function M8(e,t=!0){let n=e[0].previousElementSibling,r=lu(e),a=gc(r,{tabbable:t},e);a.currentNode=n;let i=a.nextNode();return t&&!i&&(r=lu(e),a=gc(r,{tabbable:!1},e),a.currentNode=n,i=a.nextNode()),i}function iD(e,t=!0){ml(M8(e,t))}function ece(e,t){const n=v.useRef(t);E.useEffect(()=>{if(n.current){Rr=e;const r=oi(e.current?e.current[0]:void 0);!Os(Ks(r),Rr.current)&&e.current&&iD(e.current)}n.current=!1},[e])}function tce(e,t,n){To(()=>{if(t||n)return;let r=e.current;const a=oi(r?r[0]:void 0);let i=s=>{let o=Rd(s);Os(o,e.current)?Rr=e:E8(o)||(Rr=null)};return a.addEventListener("focusin",i,!1),r==null||r.forEach(s=>s.addEventListener("focusin",i,!1)),()=>{a.removeEventListener("focusin",i,!1),r==null||r.forEach(s=>s.removeEventListener("focusin",i,!1))}},[e,t,n])}function LO(e){let t=wa.getTreeNode(Rr);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(t==null?void 0:t.scopeRef)===e}function nce(e,t,n){const r=E.useRef(typeof document<"u"?Ks(oi(e.current?e.current[0]:void 0)):null);To(()=>{let a=e.current;const i=oi(a?a[0]:void 0);if(!t||n)return;let s=()=>{(!Rr||A0(Rr,e))&&Os(Ks(i),e.current)&&(Rr=e)};return i.addEventListener("focusin",s,!1),a==null||a.forEach(o=>o.addEventListener("focusin",s,!1)),()=>{i.removeEventListener("focusin",s,!1),a==null||a.forEach(o=>o.removeEventListener("focusin",s,!1))}},[e,n]),To(()=>{const a=oi(e.current?e.current[0]:void 0);if(!t)return;let i=s=>{if(s.key!=="Tab"||s.altKey||s.ctrlKey||s.metaKey||!Qh(e)||s.isComposing)return;let o=a.activeElement;if(!cu(o,e)||!LO(e))return;let c=wa.getTreeNode(e);if(!c)return;let d=c.nodeToRestore,f=gc(a.body,{tabbable:!0});f.currentNode=o;let h=s.shiftKey?f.previousNode():f.nextNode();if((!d||!d.isConnected||d===a.body)&&(d=void 0,c.nodeToRestore=void 0),(!h||!cu(h,e))&&d){f.currentNode=d;do h=s.shiftKey?f.previousNode():f.nextNode();while(cu(h,e));s.preventDefault(),s.stopPropagation(),h?ml(h,!0):E8(d)?ml(d,!0):o.blur()}};return n||a.addEventListener("keydown",i,!0),()=>{n||a.removeEventListener("keydown",i,!0)}},[e,t,n]),To(()=>{const a=oi(e.current?e.current[0]:void 0);if(!t)return;let i=wa.getTreeNode(e);if(i){var s;return i.nodeToRestore=(s=r.current)!==null&&s!==void 0?s:void 0,()=>{let o=wa.getTreeNode(e);if(!o)return;let c=o.nodeToRestore,d=Ks(a);if(t&&c&&(d&&cu(d,e)||d===a.body&&LO(e))){let f=wa.clone();requestAnimationFrame(()=>{if(a.activeElement===a.body){let h=f.getTreeNode(e);for(;h;){if(h.nodeToRestore&&h.nodeToRestore.isConnected){NO(h.nodeToRestore);return}h=h.parent}for(h=f.getTreeNode(e);h;){if(h.scopeRef&&h.scopeRef.current&&wa.getTreeNode(h.scopeRef)){let m=M8(h.scopeRef.current,!0);NO(m);return}h=h.parent}}})}}}},[e,t])}function NO(e){e.dispatchEvent(new CustomEvent(aD,{bubbles:!0,cancelable:!0}))&&ml(e)}function gc(e,t,n){let r=t!=null&&t.tabbable?Vle:Hle,a=(e==null?void 0:e.nodeType)===Node.ELEMENT_NODE?e:null,i=oi(a),s=Ale(i,e||i,NodeFilter.SHOW_ELEMENT,{acceptNode(o){var c;return!(t==null||(c=t.from)===null||c===void 0)&&c.contains(o)?NodeFilter.FILTER_REJECT:r(o)&&b8(o)&&(!n||Os(o,n))&&(!(t!=null&&t.accept)||t.accept(o))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(s.currentNode=t.from),s}class y2{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,n,r){let a=this.fastMap.get(n??null);if(!a)return;let i=new sD({scopeRef:t});a.addChild(i),i.parent=a,this.fastMap.set(t,i),r&&(i.nodeToRestore=r)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let n=this.fastMap.get(t);if(!n)return;let r=n.parent;for(let i of this.traverse())i!==n&&n.nodeToRestore&&i.nodeToRestore&&n.scopeRef&&n.scopeRef.current&&Os(i.nodeToRestore,n.scopeRef.current)&&(i.nodeToRestore=n.nodeToRestore);let a=n.children;r&&(r.removeChild(n),a.size>0&&a.forEach(i=>r&&r.addChild(i))),this.fastMap.delete(n.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let n of t.children)yield*this.traverse(n)}clone(){var t;let n=new y2;var r;for(let a of this.traverse())n.addTreeNode(a.scopeRef,(r=(t=a.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&r!==void 0?r:null,a.nodeToRestore);return n}constructor(){this.fastMap=new Map,this.root=new sD({scopeRef:null}),this.fastMap.set(null,this.root)}}class sD{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let wa=new y2;const rce=()=>v.createElement("svg",{"data-testid":"close-icon-round",fill:"none",height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},v.createElement("rect",{fill:"#72767E",height:"28",rx:"14",width:"28"}),v.createElement("circle",{cx:"14",cy:"14",fill:"#72767E",r:"12"}),v.createElement("path",{clipRule:"evenodd",d:"M28 14C28 21.732 21.732 28 14 28C6.26801 28 0 21.732 0 14C0 6.26801 6.26801 0 14 0C21.732 0 28 6.26801 28 14ZM26 14C26 20.6274 20.6274 26 14 26C7.37258 26 2 20.6274 2 14C2 7.37258 7.37258 2 14 2C20.6274 2 26 7.37258 26 14ZM19.59 7L21 8.41L15.41 14L21 19.59L19.59 21L14 15.41L8.41 21L7 19.59L12.59 14L7 8.41L8.41 7L14 12.59L19.59 7Z",fill:"white",fillRule:"evenodd"})),Uu=({children:e,className:t,onClose:n,open:r})=>{const{t:a}=Ge("Modal"),i=E.useRef(null),s=E.useRef(null),o=c=>{const d=c.target;!i.current||!s.current||(!i.current.contains(d)||s.current.contains(d))&&(n==null||n(c))};return E.useEffect(()=>{if(!r)return;const c=d=>{d.key==="Escape"&&(n==null||n(d))};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[n,r]),r?v.createElement("div",{className:Ue("str-chat__modal str-chat__modal--open",t),onClick:o},v.createElement(S8,{autoFocus:!0,contain:!0},v.createElement("button",{className:"str-chat__modal__close-button",ref:s,title:a("Close")},v.createElement(rce,null)),v.createElement("div",{className:"str-chat__modal__inner str-chat-react__modal__inner",ref:i},e))):null};var Ny={exports:{}},ace=Ny.exports,PO;function ice(){return PO||(PO=1,function(e,t){(function(n,r){e.exports=r(ma())})(ace,function(n){return(()=>{var r={703:(o,c,d)=>{var f=d(414);function h(){}function m(){}m.resetWarningCache=h,o.exports=function(){function g(w,x,k,R,I,O){if(O!==f){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}function b(){return g}g.isRequired=g;var _={array:g,bool:g,func:g,number:g,object:g,string:g,symbol:g,any:g,arrayOf:b,element:g,elementType:g,instanceOf:b,node:g,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:m,resetWarningCache:h};return _.PropTypes=_,_}},697:(o,c,d)=>{o.exports=d(703)()},414:o=>{o.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},590:o=>{var c=typeof Element<"u",d=typeof Map=="function",f=typeof Set=="function",h=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function m(g,b){if(g===b)return!0;if(g&&b&&typeof g=="object"&&typeof b=="object"){if(g.constructor!==b.constructor)return!1;var _,w,x,k;if(Array.isArray(g)){if((_=g.length)!=b.length)return!1;for(w=_;w--!=0;)if(!m(g[w],b[w]))return!1;return!0}if(d&&g instanceof Map&&b instanceof Map){if(g.size!==b.size)return!1;for(k=g.entries();!(w=k.next()).done;)if(!b.has(w.value[0]))return!1;for(k=g.entries();!(w=k.next()).done;)if(!m(w.value[1],b.get(w.value[0])))return!1;return!0}if(f&&g instanceof Set&&b instanceof Set){if(g.size!==b.size)return!1;for(k=g.entries();!(w=k.next()).done;)if(!b.has(w.value[0]))return!1;return!0}if(h&&ArrayBuffer.isView(g)&&ArrayBuffer.isView(b)){if((_=g.length)!=b.length)return!1;for(w=_;w--!=0;)if(g[w]!==b[w])return!1;return!0}if(g.constructor===RegExp)return g.source===b.source&&g.flags===b.flags;if(g.valueOf!==Object.prototype.valueOf)return g.valueOf()===b.valueOf();if(g.toString!==Object.prototype.toString)return g.toString()===b.toString();if((_=(x=Object.keys(g)).length)!==Object.keys(b).length)return!1;for(w=_;w--!=0;)if(!Object.prototype.hasOwnProperty.call(b,x[w]))return!1;if(c&&g instanceof Element)return!1;for(w=_;w--!=0;)if((x[w]!=="_owner"&&x[w]!=="__v"&&x[w]!=="__o"||!g.$$typeof)&&!m(g[x[w]],b[x[w]]))return!1;return!0}return g!=g&&b!=b}o.exports=function(g,b){try{return m(g,b)}catch(_){if((_.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw _}}},37:function(o,c,d){(function(f,h){function m(){return m=Object.assign||function(A){for(var L=1;L<arguments.length;L++){var C=arguments[L];for(var T in C)Object.prototype.hasOwnProperty.call(C,T)&&(A[T]=C[T])}return A},m.apply(this,arguments)}var g="Left",b="Right",_="Down",w={delta:10,preventDefaultTouchmoveEvent:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0},x={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},k="mousemove",R="mouseup";function I(A,L){if(L===0)return A;var C=Math.PI/180*L;return[A[0]*Math.cos(C)+A[1]*Math.sin(C),A[1]*Math.cos(C)-A[0]*Math.sin(C)]}function O(A,L){var C=function(U){U&&"touches"in U&&U.touches.length>1||A(function(z,F){F.trackMouse&&(document.addEventListener(k,T),document.addEventListener(R,j));var V="touches"in U?U.touches[0]:U,Y=I([V.clientX,V.clientY],F.rotationAngle);return m({},z,x,{initial:[].concat(Y),xy:Y,start:U.timeStamp||0})})},T=function(U){A(function(z,F){if("touches"in U&&U.touches.length>1)return z;var V="touches"in U?U.touches[0]:U,Y=I([V.clientX,V.clientY],F.rotationAngle),q=Y[0],N=Y[1],W=q-z.xy[0],K=N-z.xy[1],$=Math.abs(W),J=Math.abs(K),oe=(U.timeStamp||0)-z.start,fe=Math.sqrt($*$+J*J)/(oe||1),ye=[W/(oe||1),K/(oe||1)];if($<F.delta&&J<F.delta&&!z.swiping)return z;var le=function(Me,Fe,$e,ze){return Me>Fe?$e>0?b:g:ze>0?_:"Up"}($,J,W,K),Ee={absX:$,absY:J,deltaX:W,deltaY:K,dir:le,event:U,first:z.first,initial:z.initial,velocity:fe,vxvy:ye};F.onSwiping&&F.onSwiping(Ee);var ue=!1;return(F.onSwiping||F.onSwiped||"onSwiped"+le in F)&&(ue=!0),ue&&F.preventDefaultTouchmoveEvent&&F.trackTouch&&U.cancelable&&U.preventDefault(),m({},z,{first:!1,eventData:Ee,swiping:!0})})},S=function(U){A(function(z,F){var V;if(z.swiping&&z.eventData){V=m({},z.eventData,{event:U}),F.onSwiped&&F.onSwiped(V);var Y="onSwiped"+V.dir;Y in F&&F[Y](V)}else F.onTap&&F.onTap({event:U});return m({},z,x,{eventData:V})})},j=function(U){document.removeEventListener(k,T),document.removeEventListener(R,j),S(U)},B=function(U,z){var F=function(){};if(U&&U.addEventListener){var V=[["touchstart",C],["touchmove",T],["touchend",S]];V.forEach(function(Y){var q=Y[0],N=Y[1];return U.addEventListener(q,N,{passive:z})}),F=function(){return V.forEach(function(Y){var q=Y[0],N=Y[1];return U.removeEventListener(q,N)})}}return F},H={ref:function(U){U!==null&&A(function(z,F){if(z.el===U)return z;var V={};return z.el&&z.el!==U&&z.cleanUpTouch&&(z.cleanUpTouch(),V.cleanUpTouch=void 0),F.trackTouch&&U&&(V.cleanUpTouch=B(U,!F.preventDefaultTouchmoveEvent)),m({},z,{el:U},V)})}};return L.trackMouse&&(H.onMouseDown=C),[H,B]}f.DOWN=_,f.LEFT=g,f.RIGHT=b,f.UP="Up",f.useSwipeable=function(A){var L=A.trackMouse,C=h.useRef(m({},x)),T=h.useRef(m({},w));T.current=m({},w,A);var S=h.useMemo(function(){return O(function(H){return C.current=H(C.current,T.current)},{trackMouse:L})},[L]),j=S[0],B=S[1];return C.current=function(H,U,z){var F={};return!U.trackTouch&&H.cleanUpTouch?(H.cleanUpTouch(),F.cleanUpTouch=void 0):U.trackTouch&&!H.cleanUpTouch&&H.el&&(F.cleanUpTouch=z(H.el,!U.preventDefaultTouchmoveEvent)),m({},H,F)}(C.current,T.current,B),j}})(c,d(888))},888:o=>{o.exports=n}},a={};function i(o){var c=a[o];if(c!==void 0)return c.exports;var d=a[o]={exports:{}};return r[o].call(d.exports,d,d.exports,i),d.exports}i.n=o=>{var c=o&&o.__esModule?()=>o.default:()=>o;return i.d(c,{a:c}),c},i.d=(o,c)=>{for(var d in c)i.o(c,d)&&!i.o(o,d)&&Object.defineProperty(o,d,{enumerable:!0,get:c[d]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(o,c)=>Object.prototype.hasOwnProperty.call(o,c),i.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var s={};return(()=>{function o(ce){var me,Se,Le="";if(typeof ce=="string"||typeof ce=="number")Le+=ce;else if(typeof ce=="object")if(Array.isArray(ce))for(me=0;me<ce.length;me++)ce[me]&&(Se=o(ce[me]))&&(Le&&(Le+=" "),Le+=Se);else for(me in ce)ce[me]&&(Le&&(Le+=" "),Le+=me);return Le}function c(){for(var ce,me,Se=0,Le="";Se<arguments.length;)(ce=arguments[Se++])&&(me=o(ce))&&(Le&&(Le+=" "),Le+=me);return Le}i.r(s),i.d(s,{default:()=>fi});var d=i(888),f=i.n(d);const h=function(ce){var me=typeof ce;return ce!=null&&(me=="object"||me=="function")},m=typeof _r=="object"&&_r&&_r.Object===Object&&_r;var g=typeof self=="object"&&self&&self.Object===Object&&self;const b=m||g||Function("return this")(),_=function(){return b.Date.now()};var w=/\s/,x=/^\s+/;const k=function(ce){return ce&&ce.slice(0,function(me){for(var Se=me.length;Se--&&w.test(me.charAt(Se)););return Se}(ce)+1).replace(x,"")},R=b.Symbol;var I=Object.prototype,O=I.hasOwnProperty,A=I.toString,L=R?R.toStringTag:void 0,C=Object.prototype.toString,T=R?R.toStringTag:void 0;const S=function(ce){return ce==null?ce===void 0?"[object Undefined]":"[object Null]":T&&T in Object(ce)?function(me){var Se=O.call(me,L),Le=me[L];try{me[L]=void 0;var lt=!0}catch{}var Ut=A.call(me);return lt&&(Se?me[L]=Le:delete me[L]),Ut}(ce):function(me){return C.call(me)}(ce)};var j=/^[-+]0x[0-9a-f]+$/i,B=/^0b[01]+$/i,H=/^0o[0-7]+$/i,U=parseInt;const z=function(ce){if(typeof ce=="number")return ce;if(function(Le){return typeof Le=="symbol"||function(lt){return lt!=null&&typeof lt=="object"}(Le)&&S(Le)=="[object Symbol]"}(ce))return NaN;if(h(ce)){var me=typeof ce.valueOf=="function"?ce.valueOf():ce;ce=h(me)?me+"":me}if(typeof ce!="string")return ce===0?ce:+ce;ce=k(ce);var Se=B.test(ce);return Se||H.test(ce)?U(ce.slice(2),Se?2:8):j.test(ce)?NaN:+ce};var F=Math.max,V=Math.min;const Y=function(ce,me,Se){var Le,lt,Ut,Lt,te,re,xe=0,Qe=!1,qe=!1,Ve=!0;if(typeof ce!="function")throw new TypeError("Expected a function");function Et(zt){var Gt=Le,$n=lt;return Le=lt=void 0,xe=zt,Lt=ce.apply($n,Gt)}function Ot(zt){return xe=zt,te=setTimeout(Wt,me),Qe?Et(zt):Lt}function Tt(zt){var Gt=zt-re;return re===void 0||Gt>=me||Gt<0||qe&&zt-xe>=Ut}function Wt(){var zt=_();if(Tt(zt))return Ft(zt);te=setTimeout(Wt,function(Gt){var $n=me-(Gt-re);return qe?V($n,Ut-(Gt-xe)):$n}(zt))}function Ft(zt){return te=void 0,Ve&&Le?Et(zt):(Le=lt=void 0,Lt)}function Pt(){var zt=_(),Gt=Tt(zt);if(Le=arguments,lt=this,re=zt,Gt){if(te===void 0)return Ot(re);if(qe)return clearTimeout(te),te=setTimeout(Wt,me),Et(re)}return te===void 0&&(te=setTimeout(Wt,me)),Lt}return me=z(me)||0,h(Se)&&(Qe=!!Se.leading,Ut=(qe="maxWait"in Se)?F(z(Se.maxWait)||0,me):Ut,Ve="trailing"in Se?!!Se.trailing:Ve),Pt.cancel=function(){te!==void 0&&clearTimeout(te),xe=0,Le=re=lt=te=void 0},Pt.flush=function(){return te===void 0?Lt:Ft(_())},Pt},q=function(ce,me,Se){var Le=!0,lt=!0;if(typeof ce!="function")throw new TypeError("Expected a function");return h(Se)&&(Le="leading"in Se?!!Se.leading:Le,lt="trailing"in Se?!!Se.trailing:lt),Y(ce,me,{leading:Le,maxWait:me,trailing:lt})};var N=i(590),W=i.n(N),K=function(){if(typeof Map<"u")return Map;function ce(me,Se){var Le=-1;return me.some(function(lt,Ut){return lt[0]===Se&&(Le=Ut,!0)}),Le}return function(){function me(){this.__entries__=[]}return Object.defineProperty(me.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),me.prototype.get=function(Se){var Le=ce(this.__entries__,Se),lt=this.__entries__[Le];return lt&&lt[1]},me.prototype.set=function(Se,Le){var lt=ce(this.__entries__,Se);~lt?this.__entries__[lt][1]=Le:this.__entries__.push([Se,Le])},me.prototype.delete=function(Se){var Le=this.__entries__,lt=ce(Le,Se);~lt&&Le.splice(lt,1)},me.prototype.has=function(Se){return!!~ce(this.__entries__,Se)},me.prototype.clear=function(){this.__entries__.splice(0)},me.prototype.forEach=function(Se,Le){Le===void 0&&(Le=null);for(var lt=0,Ut=this.__entries__;lt<Ut.length;lt++){var Lt=Ut[lt];Se.call(Le,Lt[1],Lt[0])}},me}()}(),$=typeof window<"u"&&typeof document<"u"&&window.document===document,J=i.g!==void 0&&i.g.Math===Math?i.g:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),oe=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(J):function(ce){return setTimeout(function(){return ce(Date.now())},1e3/60)},fe=["top","right","bottom","left","width","height","size","weight"],ye=typeof MutationObserver<"u",le=function(){function ce(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(me,Se){var Le=!1,lt=!1,Ut=0;function Lt(){Le&&(Le=!1,me()),lt&&re()}function te(){oe(Lt)}function re(){var xe=Date.now();if(Le){if(xe-Ut<2)return;lt=!0}else Le=!0,lt=!1,setTimeout(te,20);Ut=xe}return re}(this.refresh.bind(this))}return ce.prototype.addObserver=function(me){~this.observers_.indexOf(me)||this.observers_.push(me),this.connected_||this.connect_()},ce.prototype.removeObserver=function(me){var Se=this.observers_,Le=Se.indexOf(me);~Le&&Se.splice(Le,1),!Se.length&&this.connected_&&this.disconnect_()},ce.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},ce.prototype.updateObservers_=function(){var me=this.observers_.filter(function(Se){return Se.gatherActive(),Se.hasActive()});return me.forEach(function(Se){return Se.broadcastActive()}),me.length>0},ce.prototype.connect_=function(){$&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ye?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ce.prototype.disconnect_=function(){$&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ce.prototype.onTransitionEnd_=function(me){var Se=me.propertyName,Le=Se===void 0?"":Se;fe.some(function(lt){return!!~Le.indexOf(lt)})&&this.refresh()},ce.getInstance=function(){return this.instance_||(this.instance_=new ce),this.instance_},ce.instance_=null,ce}(),Ee=function(ce,me){for(var Se=0,Le=Object.keys(me);Se<Le.length;Se++){var lt=Le[Se];Object.defineProperty(ce,lt,{value:me[lt],enumerable:!1,writable:!1,configurable:!0})}return ce},ue=function(ce){return ce&&ce.ownerDocument&&ce.ownerDocument.defaultView||J},Me=ot(0,0,0,0);function Fe(ce){return parseFloat(ce)||0}function $e(ce){for(var me=[],Se=1;Se<arguments.length;Se++)me[Se-1]=arguments[Se];return me.reduce(function(Le,lt){return Le+Fe(ce["border-"+lt+"-width"])},0)}var ze=typeof SVGGraphicsElement<"u"?function(ce){return ce instanceof ue(ce).SVGGraphicsElement}:function(ce){return ce instanceof ue(ce).SVGElement&&typeof ce.getBBox=="function"};function Xe(ce){return $?ze(ce)?function(me){var Se=me.getBBox();return ot(0,0,Se.width,Se.height)}(ce):function(me){var Se=me.clientWidth,Le=me.clientHeight;if(!Se&&!Le)return Me;var lt=ue(me).getComputedStyle(me),Ut=function(Ve){for(var Et={},Ot=0,Tt=["top","right","bottom","left"];Ot<Tt.length;Ot++){var Wt=Tt[Ot],Ft=Ve["padding-"+Wt];Et[Wt]=Fe(Ft)}return Et}(lt),Lt=Ut.left+Ut.right,te=Ut.top+Ut.bottom,re=Fe(lt.width),xe=Fe(lt.height);if(lt.boxSizing==="border-box"&&(Math.round(re+Lt)!==Se&&(re-=$e(lt,"left","right")+Lt),Math.round(xe+te)!==Le&&(xe-=$e(lt,"top","bottom")+te)),!function(Ve){return Ve===ue(Ve).document.documentElement}(me)){var Qe=Math.round(re+Lt)-Se,qe=Math.round(xe+te)-Le;Math.abs(Qe)!==1&&(re-=Qe),Math.abs(qe)!==1&&(xe-=qe)}return ot(Ut.left,Ut.top,re,xe)}(ce):Me}function ot(ce,me,Se,Le){return{x:ce,y:me,width:Se,height:Le}}var nt=function(){function ce(me){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ot(0,0,0,0),this.target=me}return ce.prototype.isActive=function(){var me=Xe(this.target);return this.contentRect_=me,me.width!==this.broadcastWidth||me.height!==this.broadcastHeight},ce.prototype.broadcastRect=function(){var me=this.contentRect_;return this.broadcastWidth=me.width,this.broadcastHeight=me.height,me},ce}(),St=function(ce,me){var Se,Le,lt,Ut,Lt,te,re,xe=(Le=(Se=me).x,lt=Se.y,Ut=Se.width,Lt=Se.height,te=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,re=Object.create(te.prototype),Ee(re,{x:Le,y:lt,width:Ut,height:Lt,top:lt,right:Le+Ut,bottom:Lt+lt,left:Le}),re);Ee(this,{target:ce,contentRect:xe})},Nt=function(){function ce(me,Se,Le){if(this.activeObservations_=[],this.observations_=new K,typeof me!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=me,this.controller_=Se,this.callbackCtx_=Le}return ce.prototype.observe=function(me){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(me instanceof ue(me).Element))throw new TypeError('parameter 1 is not of type "Element".');var Se=this.observations_;Se.has(me)||(Se.set(me,new nt(me)),this.controller_.addObserver(this),this.controller_.refresh())}},ce.prototype.unobserve=function(me){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(me instanceof ue(me).Element))throw new TypeError('parameter 1 is not of type "Element".');var Se=this.observations_;Se.has(me)&&(Se.delete(me),Se.size||this.controller_.removeObserver(this))}},ce.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},ce.prototype.gatherActive=function(){var me=this;this.clearActive(),this.observations_.forEach(function(Se){Se.isActive()&&me.activeObservations_.push(Se)})},ce.prototype.broadcastActive=function(){if(this.hasActive()){var me=this.callbackCtx_,Se=this.activeObservations_.map(function(Le){return new St(Le.target,Le.broadcastRect())});this.callback_.call(me,Se,me),this.clearActive()}},ce.prototype.clearActive=function(){this.activeObservations_.splice(0)},ce.prototype.hasActive=function(){return this.activeObservations_.length>0},ce}(),ut=typeof WeakMap<"u"?new WeakMap:new K,_t=function ce(me){if(!(this instanceof ce))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var Se=le.getInstance(),Le=new Nt(me,Se,this);ut.set(this,Le)};["observe","unobserve","disconnect"].forEach(function(ce){_t.prototype[ce]=function(){var me;return(me=ut.get(this))[ce].apply(me,arguments)}});const wt=J.ResizeObserver!==void 0?J.ResizeObserver:_t;var st=i(37),de=i(697),Je=f().memo(function(ce){var me=ce.description,Se=ce.fullscreen,Le=ce.handleImageLoaded,lt=ce.isFullscreen,Ut=ce.onImageError,Lt=ce.original,te=ce.originalAlt,re=ce.originalHeight,xe=ce.originalWidth,Qe=ce.originalTitle,qe=ce.sizes,Ve=ce.srcSet,Et=ce.loading,Ot=lt&&Se||Lt;return f().createElement(f().Fragment,null,f().createElement("img",{className:"image-gallery-image",src:Ot,alt:te,srcSet:Ve,height:re,width:xe,sizes:qe,title:Qe,onLoad:function(Tt){return Le(Tt,Lt)},onError:Ut,loading:Et}),me&&f().createElement("span",{className:"image-gallery-description"},me))});Je.displayName="Item",Je.propTypes={description:de.string,fullscreen:de.string,handleImageLoaded:de.func.isRequired,isFullscreen:de.bool,onImageError:de.func.isRequired,original:de.string.isRequired,originalAlt:de.string,originalHeight:de.string,originalWidth:de.string,originalTitle:de.string,sizes:de.string,srcSet:de.string,loading:de.string},Je.defaultProps={description:"",fullscreen:"",isFullscreen:!1,originalAlt:"",originalHeight:"",originalWidth:"",originalTitle:"",sizes:"",srcSet:"",loading:"eager"};const be=Je;var ke={left:f().createElement("polyline",{points:"15 18 9 12 15 6"}),right:f().createElement("polyline",{points:"9 18 15 12 9 6"}),maximize:f().createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}),minimize:f().createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}),play:f().createElement("polygon",{points:"5 3 19 12 5 21 5 3"}),pause:f().createElement(f().Fragment,null,f().createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),f().createElement("rect",{x:"14",y:"4",width:"4",height:"16"}))},Pe=function(ce){var me=ce.strokeWidth,Se=ce.viewBox,Le=ce.icon;return f().createElement("svg",{className:"image-gallery-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:Se,fill:"none",stroke:"currentColor",strokeWidth:me,strokeLinecap:"round",strokeLinejoin:"round"},ke[Le])};Pe.propTypes={strokeWidth:de.number,viewBox:de.string,icon:(0,de.oneOf)(["left","right","maximize","minimize","play","pause"]).isRequired},Pe.defaultProps={strokeWidth:1,viewBox:"0 0 24 24"};const rt=Pe;var at=f().memo(function(ce){var me=ce.isFullscreen,Se=ce.onClick;return f().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button",onClick:Se,"aria-label":"Open Fullscreen"},f().createElement(rt,{strokeWidth:2,icon:me?"minimize":"maximize"}))});at.displayName="Fullscreen",at.propTypes={isFullscreen:de.bool.isRequired,onClick:de.func.isRequired};const Jt=at;var En=f().memo(function(ce){var me=ce.disabled,Se=ce.onClick;return f().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-left-nav",disabled:me,onClick:Se,"aria-label":"Previous Slide"},f().createElement(rt,{icon:"left",viewBox:"6 0 12 24"}))});En.displayName="LeftNav",En.propTypes={disabled:de.bool.isRequired,onClick:de.func.isRequired};const Ln=En;var Bn=f().memo(function(ce){var me=ce.disabled,Se=ce.onClick;return f().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-right-nav",disabled:me,onClick:Se,"aria-label":"Next Slide"},f().createElement(rt,{icon:"right",viewBox:"6 0 12 24"}))});Bn.displayName="RightNav",Bn.propTypes={disabled:de.bool.isRequired,onClick:de.func.isRequired};const en=Bn;var dt=f().memo(function(ce){var me=ce.isPlaying,Se=ce.onClick;return f().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-play-button",onClick:Se,"aria-label":"Play or Pause Slideshow"},f().createElement(rt,{strokeWidth:2,icon:me?"pause":"play"}))});dt.displayName="PlayPause",dt.propTypes={isPlaying:de.bool.isRequired,onClick:de.func.isRequired};const hn=dt;function Re(){return Re=Object.assign||function(ce){for(var me=1;me<arguments.length;me++){var Se=arguments[me];for(var Le in Se)Object.prototype.hasOwnProperty.call(Se,Le)&&(ce[Le]=Se[Le])}return ce},Re.apply(this,arguments)}var it=function(ce){var me=ce.children,Se=ce.className,Le=ce.delta,lt=ce.onSwiping,Ut=ce.onSwiped,Lt=(0,st.useSwipeable)({delta:Le,onSwiping:lt,onSwiped:Ut});return f().createElement("div",Re({},Lt,{className:Se}),me)};it.propTypes={children:de.node.isRequired,className:de.string,delta:de.number,onSwiped:de.func,onSwiping:de.func},it.defaultProps={className:"",delta:0,onSwiping:function(){},onSwiped:function(){}};const kt=it;function et(ce){return et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},et(ce)}function Xt(ce,me){var Se=Object.keys(ce);if(Object.getOwnPropertySymbols){var Le=Object.getOwnPropertySymbols(ce);me&&(Le=Le.filter(function(lt){return Object.getOwnPropertyDescriptor(ce,lt).enumerable})),Se.push.apply(Se,Le)}return Se}function bt(ce){for(var me=1;me<arguments.length;me++){var Se=arguments[me]!=null?arguments[me]:{};me%2?Xt(Object(Se),!0).forEach(function(Le){rn(ce,Le,Se[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(Se)):Xt(Object(Se)).forEach(function(Le){Object.defineProperty(ce,Le,Object.getOwnPropertyDescriptor(Se,Le))})}return ce}function rn(ce,me,Se){return me in ce?Object.defineProperty(ce,me,{value:Se,enumerable:!0,configurable:!0,writable:!0}):ce[me]=Se,ce}function pn(ce,me){for(var Se=0;Se<me.length;Se++){var Le=me[Se];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(ce,Le.key,Le)}}function Gn(ce,me){return Gn=Object.setPrototypeOf||function(Se,Le){return Se.__proto__=Le,Se},Gn(ce,me)}function mn(ce,me){return!me||et(me)!=="object"&&typeof me!="function"?$t(ce):me}function $t(ce){if(ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce}function pt(ce){return pt=Object.setPrototypeOf?Object.getPrototypeOf:function(me){return me.__proto__||Object.getPrototypeOf(me)},pt(ce)}var Mn=["fullscreenchange","MSFullscreenChange","mozfullscreenchange","webkitfullscreenchange"],nn=(0,de.arrayOf)((0,de.shape)({srcSet:de.string,media:de.string}));function Fn(ce){var me=parseInt(ce.keyCode||ce.which||0,10);return me===66||me===62}var Br=function(ce){(function(te,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(re&&re.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),re&&Gn(te,re)})(Lt,ce);var me,Se,Le,lt,Ut=(Le=Lt,lt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var te,re=pt(Le);if(lt){var xe=pt(this).constructor;te=Reflect.construct(re,arguments,xe)}else te=re.apply(this,arguments);return mn(this,te)});function Lt(te){var re;return function(xe,Qe){if(!(xe instanceof Qe))throw new TypeError("Cannot call a class as a function")}(this,Lt),(re=Ut.call(this,te)).state={currentIndex:te.startIndex,thumbsTranslate:0,thumbsSwipedTranslate:0,currentSlideOffset:0,galleryWidth:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0,thumbsStyle:{transition:"all ".concat(te.slideDuration,"ms ease-out")},isFullscreen:!1,isSwipingThumbnail:!1,isPlaying:!1},re.loadedImages={},re.imageGallery=f().createRef(),re.thumbnailsWrapper=f().createRef(),re.thumbnails=f().createRef(),re.imageGallerySlideWrapper=f().createRef(),re.handleImageLoaded=re.handleImageLoaded.bind($t(re)),re.handleKeyDown=re.handleKeyDown.bind($t(re)),re.handleMouseDown=re.handleMouseDown.bind($t(re)),re.handleResize=re.handleResize.bind($t(re)),re.handleTouchMove=re.handleTouchMove.bind($t(re)),re.handleOnSwiped=re.handleOnSwiped.bind($t(re)),re.handleScreenChange=re.handleScreenChange.bind($t(re)),re.handleSwiping=re.handleSwiping.bind($t(re)),re.handleThumbnailSwiping=re.handleThumbnailSwiping.bind($t(re)),re.handleOnThumbnailSwiped=re.handleOnThumbnailSwiped.bind($t(re)),re.onThumbnailMouseLeave=re.onThumbnailMouseLeave.bind($t(re)),re.handleImageError=re.handleImageError.bind($t(re)),re.pauseOrPlay=re.pauseOrPlay.bind($t(re)),re.renderThumbInner=re.renderThumbInner.bind($t(re)),re.renderItem=re.renderItem.bind($t(re)),re.slideLeft=re.slideLeft.bind($t(re)),re.slideRight=re.slideRight.bind($t(re)),re.toggleFullScreen=re.toggleFullScreen.bind($t(re)),re.togglePlay=re.togglePlay.bind($t(re)),re.unthrottledSlideToIndex=re.slideToIndex,re.slideToIndex=q(re.unthrottledSlideToIndex,te.slideDuration,{trailing:!1}),te.lazyLoad&&(re.lazyLoaded=[]),re}return me=Lt,Se=[{key:"componentDidMount",value:function(){var te=this.props,re=te.autoPlay,xe=te.useWindowKeyDown;re&&this.play(),xe?window.addEventListener("keydown",this.handleKeyDown):this.imageGallery.current.addEventListener("keydown",this.handleKeyDown),window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),this.addScreenChangeEvent()}},{key:"componentDidUpdate",value:function(te,re){var xe=this.props,Qe=xe.items,qe=xe.lazyLoad,Ve=xe.slideDuration,Et=xe.slideInterval,Ot=xe.startIndex,Tt=xe.thumbnailPosition,Wt=xe.showThumbnails,Ft=xe.useWindowKeyDown,Pt=this.state,zt=Pt.currentIndex,Gt=Pt.isPlaying,$n=te.items.length!==Qe.length,Tr=!W()(te.items,Qe),Kn=te.startIndex!==Ot,Kr=te.thumbnailPosition!==Tt,xr=te.showThumbnails!==Wt;Et===te.slideInterval&&Ve===te.slideDuration||Gt&&(this.pause(),this.play()),Kr&&(this.removeResizeObserver(),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper)),xr&&Wt&&this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),xr&&!Wt&&this.removeThumbnailsResizeObserver(),($n||xr)&&this.handleResize(),re.currentIndex!==zt&&this.slideThumbnailBar(),te.slideDuration!==Ve&&(this.slideToIndex=q(this.unthrottledSlideToIndex,Ve,{trailing:!1})),!qe||te.lazyLoad&&!Tr||(this.lazyLoaded=[]),Ft!==te.useWindowKeyDown&&(Ft?(this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown),window.addEventListener("keydown",this.handleKeyDown)):(window.removeEventListener("keydown",this.handleKeyDown),this.imageGallery.current.addEventListener("keydown",this.handleKeyDown))),(Kn||Tr)&&this.setState({currentIndex:Ot,slideStyle:{transition:"none"}})}},{key:"componentWillUnmount",value:function(){var te=this.props.useWindowKeyDown;window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("touchmove",this.handleTouchMove),this.removeScreenChangeEvent(),this.removeResizeObserver(),this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null),this.transitionTimer&&window.clearTimeout(this.transitionTimer),te?window.removeEventListener("keydown",this.handleKeyDown):this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown)}},{key:"onSliding",value:function(){var te=this,re=this.state,xe=re.currentIndex,Qe=re.isTransitioning,qe=this.props,Ve=qe.onSlide,Et=qe.slideDuration;this.transitionTimer=window.setTimeout(function(){Qe&&(te.setState({isTransitioning:!Qe,isSwipingThumbnail:!1}),Ve&&Ve(xe))},Et+50)}},{key:"onThumbnailClick",value:function(te,re){var xe=this.props.onThumbnailClick;te.target.parentNode.parentNode.blur(),this.slideToIndex(re,te),xe&&xe(te,re)}},{key:"onThumbnailMouseOver",value:function(te,re){var xe=this;this.thumbnailMouseOverTimer&&(window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null),this.thumbnailMouseOverTimer=window.setTimeout(function(){xe.slideToIndex(re),xe.pause()},300)}},{key:"onThumbnailMouseLeave",value:function(){if(this.thumbnailMouseOverTimer){var te=this.props.autoPlay;window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null,te&&this.play()}}},{key:"setThumbsTranslate",value:function(te){this.setState({thumbsTranslate:te})}},{key:"setModalFullscreen",value:function(te){var re=this.props.onScreenChange;this.setState({modalFullscreen:te}),re&&re(te)}},{key:"getThumbsTranslate",value:function(te){var re,xe=this.props,Qe=xe.disableThumbnailScroll,qe=xe.items,Ve=this.state,Et=Ve.thumbnailsWrapperWidth,Ot=Ve.thumbnailsWrapperHeight,Tt=this.thumbnails&&this.thumbnails.current;if(Qe)return 0;if(Tt){if(this.isThumbnailVertical()){if(Tt.scrollHeight<=Ot)return 0;re=Tt.scrollHeight-Ot}else{if(Tt.scrollWidth<=Et||Et<=0)return 0;re=Tt.scrollWidth-Et}return te*(re/(qe.length-1))}return 0}},{key:"getThumbnailPositionClassName",value:function(te){switch(te){case"left":te=" ".concat("image-gallery-thumbnails-left");break;case"right":te=" ".concat("image-gallery-thumbnails-right");break;case"bottom":te=" ".concat("image-gallery-thumbnails-bottom");break;case"top":te=" ".concat("image-gallery-thumbnails-top")}return te}},{key:"getAlignmentClassName",value:function(te){var re=this.state.currentIndex,xe=this.props,Qe=xe.infinite,qe=xe.items,Ve="",Et="image-gallery-left",Ot="image-gallery-right";switch(te){case re-1:Ve=" ".concat(Et);break;case re:Ve=" ".concat("image-gallery-center");break;case re+1:Ve=" ".concat(Ot)}return qe.length>=3&&Qe&&(te===0&&re===qe.length-1?Ve=" ".concat(Ot):te===qe.length-1&&re===0&&(Ve=" ".concat(Et))),Ve}},{key:"getTranslateXForTwoSlide",value:function(te){var re=this.state,xe=re.currentIndex,Qe=re.currentSlideOffset,qe=re.previousIndex,Ve=xe!==qe,Et=te===0&&qe===0,Ot=te===1&&qe===1,Tt=te===0&&xe===1,Wt=te===1&&xe===0,Ft=Qe===0,Pt=-100*xe+100*te+Qe;return Qe>0?this.direction="left":Qe<0&&(this.direction="right"),Wt&&Qe>0&&(Pt=-100+Qe),Tt&&Qe<0&&(Pt=100+Qe),Ve?Et&&Ft&&this.direction==="left"?Pt=100:Ot&&Ft&&this.direction==="right"&&(Pt=-100):(Wt&&Ft&&this.direction==="left"&&(Pt=-100),Tt&&Ft&&this.direction==="right"&&(Pt=100)),Pt}},{key:"getThumbnailBarHeight",value:function(){return this.isThumbnailVertical()?{height:this.state.gallerySlideWrapperHeight}:{}}},{key:"getSlideStyle",value:function(te){var re=this.state,xe=re.currentIndex,Qe=re.currentSlideOffset,qe=re.slideStyle,Ve=this.props,Et=Ve.infinite,Ot=Ve.items,Tt=Ve.useTranslate3D,Wt=Ve.isRTL,Ft=-100*xe,Pt=Ot.length-1,zt=(Ft+100*te)*(Wt?-1:1)+Qe;Et&&Ot.length>2&&(xe===0&&te===Pt?zt=-100*(Wt?-1:1)+Qe:xe===Pt&&te===0&&(zt=100*(Wt?-1:1)+Qe)),Et&&Ot.length===2&&(zt=this.getTranslateXForTwoSlide(te));var Gt="translate(".concat(zt,"%, 0)");return Tt&&(Gt="translate3d(".concat(zt,"%, 0, 0)")),bt({display:this.isSlideVisible(te)?"inherit":"none",WebkitTransform:Gt,MozTransform:Gt,msTransform:Gt,OTransform:Gt,transform:Gt},qe)}},{key:"getCurrentIndex",value:function(){return this.state.currentIndex}},{key:"getThumbnailStyle",value:function(){var te,re=this.props,xe=re.useTranslate3D,Qe=re.isRTL,qe=this.state,Ve=qe.thumbsTranslate,Et=qe.thumbsStyle,Ot=Qe?-1*Ve:Ve;return this.isThumbnailVertical()?(te="translate(0, ".concat(Ve,"px)"),xe&&(te="translate3d(0, ".concat(Ve,"px, 0)"))):(te="translate(".concat(Ot,"px, 0)"),xe&&(te="translate3d(".concat(Ot,"px, 0, 0)"))),bt({WebkitTransform:te,MozTransform:te,msTransform:te,OTransform:te,transform:te},Et)}},{key:"getSlideItems",value:function(){var te=this,re=this.state.currentIndex,xe=this.props,Qe=xe.items,qe=xe.slideOnThumbnailOver,Ve=xe.onClick,Et=xe.lazyLoad,Ot=xe.onTouchMove,Tt=xe.onTouchEnd,Wt=xe.onTouchStart,Ft=xe.onMouseOver,Pt=xe.onMouseLeave,zt=xe.renderItem,Gt=xe.renderThumbInner,$n=xe.showThumbnails,Tr=xe.showBullets,Kn=[],Kr=[],xr=[];return Qe.forEach(function(bn,Nn){var kr=te.getAlignmentClassName(Nn),Ra=bn.originalClass?" ".concat(bn.originalClass):"",Ti=bn.thumbnailClass?" ".concat(bn.thumbnailClass):"",Aa=bn.renderItem||zt||te.renderItem,hi=bn.renderThumbInner||Gt||te.renderThumbInner,Qr=!Et||kr||te.lazyLoaded[Nn];Qr&&Et&&!te.lazyLoaded[Nn]&&(te.lazyLoaded[Nn]=!0);var ja=te.getSlideStyle(Nn),sr=f().createElement("div",{"aria-label":"Go to Slide ".concat(Nn+1),key:"slide-".concat(Nn),tabIndex:"-1",className:"image-gallery-slide ".concat(kr," ").concat(Ra),style:ja,onClick:Ve,onKeyUp:te.handleSlideKeyUp,onTouchMove:Ot,onTouchEnd:Tt,onTouchStart:Wt,onMouseOver:Ft,onFocus:Ft,onMouseLeave:Pt,role:"button"},Qr?Aa(bn):f().createElement("div",{style:{height:"100%"}}));if(Kn.push(sr),$n&&bn.thumbnail){var Oa=c("image-gallery-thumbnail",Ti,{active:re===Nn});Kr.push(f().createElement("button",{key:"thumbnail-".concat(Nn),type:"button",tabIndex:"0","aria-pressed":re===Nn?"true":"false","aria-label":"Go to Slide ".concat(Nn+1),className:Oa,onMouseLeave:qe?te.onThumbnailMouseLeave:null,onMouseOver:function(Cr){return te.handleThumbnailMouseOver(Cr,Nn)},onFocus:function(Cr){return te.handleThumbnailMouseOver(Cr,Nn)},onKeyUp:function(Cr){return te.handleThumbnailKeyUp(Cr,Nn)},onClick:function(Cr){return te.onThumbnailClick(Cr,Nn)}},hi(bn)))}if(Tr){var Ga=c("image-gallery-bullet",bn.bulletClass,{active:re===Nn});xr.push(f().createElement("button",{type:"button",key:"bullet-".concat(Nn),className:Ga,onClick:function(Cr){return bn.bulletOnClick&&bn.bulletOnClick({item:bn,itemIndex:Nn,currentIndex:re}),Cr.target.blur(),te.slideToIndex.call(te,Nn,Cr)},"aria-pressed":re===Nn?"true":"false","aria-label":"Go to Slide ".concat(Nn+1)}))}}),{slides:Kn,thumbnails:Kr,bullets:xr}}},{key:"ignoreIsTransitioning",value:function(){var te=this.props.items,re=this.state,xe=re.previousIndex,Qe=re.currentIndex,qe=te.length-1;return Math.abs(xe-Qe)>1&&!(xe===0&&Qe===qe)&&!(xe===qe&&Qe===0)}},{key:"isFirstOrLastSlide",value:function(te){return te===this.props.items.length-1||te===0}},{key:"slideIsTransitioning",value:function(te){var re=this.state,xe=re.isTransitioning,Qe=re.previousIndex,qe=re.currentIndex;return xe&&!(te===Qe||te===qe)}},{key:"isSlideVisible",value:function(te){return!this.slideIsTransitioning(te)||this.ignoreIsTransitioning()&&!this.isFirstOrLastSlide(te)}},{key:"slideThumbnailBar",value:function(){var te=this.state,re=te.currentIndex,xe=te.isSwipingThumbnail,Qe=-this.getThumbsTranslate(re);xe||(re===0?this.setState({thumbsTranslate:0,thumbsSwipedTranslate:0}):this.setState({thumbsTranslate:Qe,thumbsSwipedTranslate:Qe}))}},{key:"canSlide",value:function(){return this.props.items.length>=2}},{key:"canSlideLeft",value:function(){var te=this.props,re=te.infinite,xe=te.isRTL;return re||(xe?this.canSlideNext():this.canSlidePrevious())}},{key:"canSlideRight",value:function(){var te=this.props,re=te.infinite,xe=te.isRTL;return re||(xe?this.canSlidePrevious():this.canSlideNext())}},{key:"canSlidePrevious",value:function(){return this.state.currentIndex>0}},{key:"canSlideNext",value:function(){return this.state.currentIndex<this.props.items.length-1}},{key:"handleSwiping",value:function(te){var re=te.event,xe=te.absX,Qe=te.dir,qe=this.props,Ve=qe.disableSwipe,Et=qe.stopPropagation,Ot=this.state,Tt=Ot.galleryWidth,Wt=Ot.isTransitioning,Ft=Ot.swipingUpDown,Pt=Ot.swipingLeftRight;if(Qe!==st.UP&&Qe!==st.DOWN&&!Ft||Pt){if(Qe!==st.LEFT&&Qe!==st.RIGHT||Pt||this.setState({swipingLeftRight:!0}),!Ve){var zt=this.props.swipingTransitionDuration;if(Et&&re.preventDefault(),Wt)this.setState({currentSlideOffset:0});else{var Gt=Qe===st.RIGHT?1:-1,$n=xe/Tt*100;Math.abs($n)>=100&&($n=100);var Tr={transition:"transform ".concat(zt,"ms ease-out")};this.setState({currentSlideOffset:Gt*$n,slideStyle:Tr})}}}else Ft||this.setState({swipingUpDown:!0})}},{key:"handleThumbnailSwiping",value:function(te){var re=te.event,xe=te.absX,Qe=te.absY,qe=te.dir,Ve=this.props,Et=Ve.stopPropagation,Ot=Ve.swipingThumbnailTransitionDuration,Tt=this.state,Wt=Tt.thumbsSwipedTranslate,Ft=Tt.thumbnailsWrapperHeight,Pt=Tt.thumbnailsWrapperWidth,zt=Tt.swipingUpDown,Gt=Tt.swipingLeftRight;if(this.isThumbnailVertical()){if((qe===st.LEFT||qe===st.RIGHT||Gt)&&!zt)return void(Gt||this.setState({swipingLeftRight:!0}));qe!==st.UP&&qe!==st.DOWN||zt||this.setState({swipingUpDown:!0})}else{if((qe===st.UP||qe===st.DOWN||zt)&&!Gt)return void(zt||this.setState({swipingUpDown:!0}));qe!==st.LEFT&&qe!==st.RIGHT||Gt||this.setState({swipingLeftRight:!0})}var $n,Tr,Kn,Kr,xr,bn=this.thumbnails&&this.thumbnails.current;if(this.isThumbnailVertical()?($n=Wt+(qe===st.DOWN?Qe:-Qe),Tr=bn.scrollHeight-Ft+20,Kn=Math.abs($n)>Tr,Kr=$n>20,xr=bn.scrollHeight<=Ft):($n=Wt+(qe===st.RIGHT?xe:-xe),Tr=bn.scrollWidth-Pt+20,Kn=Math.abs($n)>Tr,Kr=$n>20,xr=bn.scrollWidth<=Pt),!xr&&(qe!==st.LEFT&&qe!==st.UP||!Kn)&&(qe!==st.RIGHT&&qe!==st.DOWN||!Kr)){Et&&re.stopPropagation();var Nn={transition:"transform ".concat(Ot,"ms ease-out")};this.setState({thumbsTranslate:$n,thumbsStyle:Nn})}}},{key:"handleOnThumbnailSwiped",value:function(){var te=this.state.thumbsTranslate,re=this.props.slideDuration;this.resetSwipingDirection(),this.setState({isSwipingThumbnail:!0,thumbsSwipedTranslate:te,thumbsStyle:{transition:"all ".concat(re,"ms ease-out")}})}},{key:"sufficientSwipe",value:function(){var te=this.state.currentSlideOffset,re=this.props.swipeThreshold;return Math.abs(te)>re}},{key:"resetSwipingDirection",value:function(){var te=this.state,re=te.swipingUpDown,xe=te.swipingLeftRight;re&&this.setState({swipingUpDown:!1}),xe&&this.setState({swipingLeftRight:!1})}},{key:"handleOnSwiped",value:function(te){var re=te.event,xe=te.dir,Qe=te.velocity,qe=this.props,Ve=qe.disableSwipe,Et=qe.stopPropagation,Ot=qe.flickThreshold;if(!Ve){var Tt=this.props.isRTL;Et&&re.stopPropagation(),this.resetSwipingDirection();var Wt=(xe===st.LEFT?1:-1)*(Tt?-1:1),Ft=xe===st.UP||xe===st.DOWN,Pt=Qe>Ot&&!Ft;this.handleOnSwipedTo(Wt,Pt)}}},{key:"handleOnSwipedTo",value:function(te,re){var xe=this.state,Qe=xe.currentIndex,qe=xe.isTransitioning,Ve=Qe;!this.sufficientSwipe()&&!re||qe||(Ve+=te),(te===-1&&!this.canSlideLeft()||te===1&&!this.canSlideRight())&&(Ve=Qe),this.unthrottledSlideToIndex(Ve)}},{key:"handleTouchMove",value:function(te){this.state.swipingLeftRight&&te.preventDefault()}},{key:"handleMouseDown",value:function(){this.imageGallery.current.classList.add("image-gallery-using-mouse")}},{key:"handleKeyDown",value:function(te){var re=this.props,xe=re.disableKeyDown,Qe=re.useBrowserFullscreen,qe=this.state.isFullscreen;if(this.imageGallery.current.classList.remove("image-gallery-using-mouse"),!xe)switch(parseInt(te.keyCode||te.which||0,10)){case 37:this.canSlideLeft()&&!this.playPauseIntervalId&&this.slideLeft(te);break;case 39:this.canSlideRight()&&!this.playPauseIntervalId&&this.slideRight(te);break;case 27:qe&&!Qe&&this.exitFullScreen()}}},{key:"handleImageError",value:function(te){var re=this.props.onErrorImageURL;re&&te.target.src.indexOf(re)===-1&&(te.target.src=re)}},{key:"removeThumbnailsResizeObserver",value:function(){this.resizeThumbnailWrapperObserver&&this.thumbnailsWrapper&&this.thumbnailsWrapper.current&&(this.resizeThumbnailWrapperObserver.unobserve(this.thumbnailsWrapper.current),this.resizeThumbnailWrapperObserver=null)}},{key:"removeResizeObserver",value:function(){this.resizeSlideWrapperObserver&&this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&(this.resizeSlideWrapperObserver.unobserve(this.imageGallerySlideWrapper.current),this.resizeSlideWrapperObserver=null),this.removeThumbnailsResizeObserver()}},{key:"handleResize",value:function(){var te=this.state.currentIndex;this.imageGallery&&(this.imageGallery&&this.imageGallery.current&&this.setState({galleryWidth:this.imageGallery.current.offsetWidth}),this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&this.setState({gallerySlideWrapperHeight:this.imageGallerySlideWrapper.current.offsetHeight}),this.setThumbsTranslate(-this.getThumbsTranslate(te)))}},{key:"initSlideWrapperResizeObserver",value:function(te){var re=this;te&&!te.current||(this.resizeSlideWrapperObserver=new wt(Y(function(xe){xe&&xe.forEach(function(Qe){re.setState({thumbnailsWrapperWidth:Qe.contentRect.width},re.handleResize)})},50)),this.resizeSlideWrapperObserver.observe(te.current))}},{key:"initThumbnailWrapperResizeObserver",value:function(te){var re=this;te&&!te.current||(this.resizeThumbnailWrapperObserver=new wt(Y(function(xe){xe&&xe.forEach(function(Qe){re.setState({thumbnailsWrapperHeight:Qe.contentRect.height},re.handleResize)})},50)),this.resizeThumbnailWrapperObserver.observe(te.current))}},{key:"toggleFullScreen",value:function(){this.state.isFullscreen?this.exitFullScreen():this.fullScreen()}},{key:"togglePlay",value:function(){this.playPauseIntervalId?this.pause():this.play()}},{key:"handleScreenChange",value:function(){var te=this.props,re=te.onScreenChange,xe=te.useBrowserFullscreen,Qe=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,qe=this.imageGallery.current===Qe;re&&re(qe),xe&&this.setState({isFullscreen:qe})}},{key:"slideToIndex",value:function(te,re){var xe=this.state,Qe=xe.currentIndex,qe=xe.isTransitioning,Ve=this.props,Et=Ve.items,Ot=Ve.slideDuration,Tt=Ve.onBeforeSlide;if(!qe){re&&this.playPauseIntervalId&&(this.pause(!1),this.play(!1));var Wt=Et.length-1,Ft=te;te<0?Ft=Wt:te>Wt&&(Ft=0),Tt&&Ft!==Qe&&Tt(Ft),this.setState({previousIndex:Qe,currentIndex:Ft,isTransitioning:Ft!==Qe,currentSlideOffset:0,slideStyle:{transition:"all ".concat(Ot,"ms ease-out")}},this.onSliding)}}},{key:"slideLeft",value:function(te){var re=this.props.isRTL;this.slideTo(te,re?"right":"left")}},{key:"slideRight",value:function(te){var re=this.props.isRTL;this.slideTo(te,re?"left":"right")}},{key:"slideTo",value:function(te,re){var xe=this,Qe=this.state,qe=Qe.currentIndex,Ve=Qe.currentSlideOffset,Et=Qe.isTransitioning,Ot=this.props.items,Tt=qe+(re==="left"?-1:1);Et||(Ot.length===2?this.setState({currentSlideOffset:Ve+(re==="left"?.001:-.001),slideStyle:{transition:"none"}},function(){window.setTimeout(function(){return xe.slideToIndex(Tt,te)},25)}):this.slideToIndex(Tt,te))}},{key:"handleThumbnailMouseOver",value:function(te,re){this.props.slideOnThumbnailOver&&this.onThumbnailMouseOver(te,re)}},{key:"handleThumbnailKeyUp",value:function(te,re){Fn(te)&&this.onThumbnailClick(te,re)}},{key:"handleSlideKeyUp",value:function(te){Fn(te)&&(0,this.props.onClick)(te)}},{key:"isThumbnailVertical",value:function(){var te=this.props.thumbnailPosition;return te==="left"||te==="right"}},{key:"addScreenChangeEvent",value:function(){var te=this;Mn.forEach(function(re){document.addEventListener(re,te.handleScreenChange)})}},{key:"removeScreenChangeEvent",value:function(){var te=this;Mn.forEach(function(re){document.removeEventListener(re,te.handleScreenChange)})}},{key:"fullScreen",value:function(){var te=this.props.useBrowserFullscreen,re=this.imageGallery.current;te?re.requestFullscreen?re.requestFullscreen():re.msRequestFullscreen?re.msRequestFullscreen():re.mozRequestFullScreen?re.mozRequestFullScreen():re.webkitRequestFullscreen?re.webkitRequestFullscreen():this.setModalFullscreen(!0):this.setModalFullscreen(!0),this.setState({isFullscreen:!0})}},{key:"exitFullScreen",value:function(){var te=this.state.isFullscreen,re=this.props.useBrowserFullscreen;te&&(re?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this.setModalFullscreen(!1):this.setModalFullscreen(!1),this.setState({isFullscreen:!1}))}},{key:"pauseOrPlay",value:function(){var te=this.props.infinite,re=this.state.currentIndex;te||this.canSlideRight()?this.slideToIndex(re+1):this.pause()}},{key:"play",value:function(){var te=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],re=this.props,xe=re.onPlay,Qe=re.slideInterval,qe=re.slideDuration,Ve=this.state.currentIndex;this.playPauseIntervalId||(this.setState({isPlaying:!0}),this.playPauseIntervalId=window.setInterval(this.pauseOrPlay,Math.max(Qe,qe)),xe&&te&&xe(Ve))}},{key:"pause",value:function(){var te=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],re=this.props.onPause,xe=this.state.currentIndex;this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null,this.setState({isPlaying:!1}),re&&te&&re(xe))}},{key:"isImageLoaded",value:function(te){return!!this.loadedImages[te.original]||(this.loadedImages[te.original]=!0,!1)}},{key:"handleImageLoaded",value:function(te,re){var xe=this.props.onImageLoad;!this.loadedImages[re]&&xe&&(this.loadedImages[re]=!0,xe(te))}},{key:"renderItem",value:function(te){var re=this.state.isFullscreen,xe=this.props.onImageError||this.handleImageError;return f().createElement(be,{description:te.description,fullscreen:te.fullscreen,handleImageLoaded:this.handleImageLoaded,isFullscreen:re,onImageError:xe,original:te.original,originalAlt:te.originalAlt,originalHeight:te.originalHeight,originalWidth:te.originalWidth,originalTitle:te.originalTitle,sizes:te.sizes,loading:te.loading,srcSet:te.srcSet})}},{key:"renderThumbInner",value:function(te){var re=this.props.onThumbnailError||this.handleImageError;return f().createElement("span",{className:"image-gallery-thumbnail-inner"},f().createElement("img",{className:"image-gallery-thumbnail-image",src:te.thumbnail,height:te.thumbnailHeight,width:te.thumbnailWidth,alt:te.thumbnailAlt,title:te.thumbnailTitle,loading:te.thumbnailLoading,onError:re}),te.thumbnailLabel&&f().createElement("div",{className:"image-gallery-thumbnail-label"},te.thumbnailLabel))}},{key:"render",value:function(){var te=this.state,re=te.currentIndex,xe=te.isFullscreen,Qe=te.modalFullscreen,qe=te.isPlaying,Ve=this.props,Et=Ve.additionalClass,Ot=Ve.disableThumbnailSwipe,Tt=Ve.indexSeparator,Wt=Ve.isRTL,Ft=Ve.items,Pt=Ve.thumbnailPosition,zt=Ve.renderFullscreenButton,Gt=Ve.renderCustomControls,$n=Ve.renderLeftNav,Tr=Ve.renderRightNav,Kn=Ve.showBullets,Kr=Ve.showFullscreenButton,xr=Ve.showIndex,bn=Ve.showThumbnails,Nn=Ve.showNav,kr=Ve.showPlayButton,Ra=Ve.renderPlayPauseButton,Ti=this.getThumbnailStyle(),Aa=this.getSlideItems(),hi=Aa.slides,Qr=Aa.thumbnails,ja=Aa.bullets,sr=c("image-gallery-slide-wrapper",this.getThumbnailPositionClassName(Pt),{"image-gallery-rtl":Wt}),Oa=f().createElement("div",{ref:this.imageGallerySlideWrapper,className:sr},Gt&&Gt(),this.canSlide()?f().createElement(f().Fragment,null,Nn&&f().createElement(f().Fragment,null,$n(this.slideLeft,!this.canSlideLeft()),Tr(this.slideRight,!this.canSlideRight())),f().createElement(kt,{className:"image-gallery-swipe",delta:0,onSwiping:this.handleSwiping,onSwiped:this.handleOnSwiped},f().createElement("div",{className:"image-gallery-slides"},hi))):f().createElement("div",{className:"image-gallery-slides"},hi),kr&&Ra(this.togglePlay,qe),Kn&&f().createElement("div",{className:"image-gallery-bullets"},f().createElement("div",{className:"image-gallery-bullets-container",role:"navigation","aria-label":"Bullet Navigation"},ja)),Kr&&zt(this.toggleFullScreen,xe),xr&&f().createElement("div",{className:"image-gallery-index"},f().createElement("span",{className:"image-gallery-index-current"},re+1),f().createElement("span",{className:"image-gallery-index-separator"},Tt),f().createElement("span",{className:"image-gallery-index-total"},Ft.length))),Ga=c("image-gallery",Et,{"fullscreen-modal":Qe}),Cr=c("image-gallery-content",this.getThumbnailPositionClassName(Pt),{fullscreen:xe}),se=c("image-gallery-thumbnails-wrapper",this.getThumbnailPositionClassName(Pt),{"thumbnails-wrapper-rtl":!this.isThumbnailVertical()&&Wt},{"thumbnails-swipe-horizontal":!this.isThumbnailVertical()&&!Ot},{"thumbnails-swipe-vertical":this.isThumbnailVertical()&&!Ot});return f().createElement("div",{ref:this.imageGallery,className:Ga,"aria-live":"polite"},f().createElement("div",{className:Cr},(Pt==="bottom"||Pt==="right")&&Oa,bn&&Qr.length>0?f().createElement(kt,{className:se,delta:0,onSwiping:!Ot&&this.handleThumbnailSwiping,onSwiped:!Ot&&this.handleOnThumbnailSwiped},f().createElement("div",{className:"image-gallery-thumbnails",ref:this.thumbnailsWrapper,style:this.getThumbnailBarHeight()},f().createElement("nav",{ref:this.thumbnails,className:"image-gallery-thumbnails-container",style:Ti,"aria-label":"Thumbnail Navigation"},Qr))):null,(Pt==="top"||Pt==="left")&&Oa))}}],Se&&pn(me.prototype,Se),Lt}(f().Component);Br.propTypes={flickThreshold:de.number,items:(0,de.arrayOf)((0,de.shape)({bulletClass:de.string,bulletOnClick:de.func,description:de.string,original:de.string,originalHeight:de.number,originalWidth:de.number,loading:de.string,thumbnailHeight:de.number,thumbnailWidth:de.number,thumbnailLoading:de.string,fullscreen:de.string,originalAlt:de.string,originalTitle:de.string,thumbnail:de.string,thumbnailAlt:de.string,thumbnailLabel:de.string,thumbnailTitle:de.string,originalClass:de.string,thumbnailClass:de.string,renderItem:de.func,renderThumbInner:de.func,imageSet:nn,srcSet:de.string,sizes:de.string})).isRequired,showNav:de.bool,autoPlay:de.bool,lazyLoad:de.bool,infinite:de.bool,showIndex:de.bool,showBullets:de.bool,showThumbnails:de.bool,showPlayButton:de.bool,showFullscreenButton:de.bool,disableThumbnailScroll:de.bool,disableKeyDown:de.bool,disableSwipe:de.bool,disableThumbnailSwipe:de.bool,useBrowserFullscreen:de.bool,onErrorImageURL:de.string,indexSeparator:de.string,thumbnailPosition:(0,de.oneOf)(["top","bottom","left","right"]),startIndex:de.number,slideDuration:de.number,slideInterval:de.number,slideOnThumbnailOver:de.bool,swipeThreshold:de.number,swipingTransitionDuration:de.number,swipingThumbnailTransitionDuration:de.number,onSlide:de.func,onBeforeSlide:de.func,onScreenChange:de.func,onPause:de.func,onPlay:de.func,onClick:de.func,onImageLoad:de.func,onImageError:de.func,onTouchMove:de.func,onTouchEnd:de.func,onTouchStart:de.func,onMouseOver:de.func,onMouseLeave:de.func,onThumbnailError:de.func,onThumbnailClick:de.func,renderCustomControls:de.func,renderLeftNav:de.func,renderRightNav:de.func,renderPlayPauseButton:de.func,renderFullscreenButton:de.func,renderItem:de.func,renderThumbInner:de.func,stopPropagation:de.bool,additionalClass:de.string,useTranslate3D:de.bool,isRTL:de.bool,useWindowKeyDown:de.bool},Br.defaultProps={onErrorImageURL:"",additionalClass:"",showNav:!0,autoPlay:!1,lazyLoad:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,showPlayButton:!0,showFullscreenButton:!0,disableThumbnailScroll:!1,disableKeyDown:!1,disableSwipe:!1,disableThumbnailSwipe:!1,useTranslate3D:!0,isRTL:!1,useBrowserFullscreen:!0,flickThreshold:.4,stopPropagation:!1,indexSeparator:" / ",thumbnailPosition:"bottom",startIndex:0,slideDuration:450,swipingTransitionDuration:0,swipingThumbnailTransitionDuration:0,onSlide:null,onBeforeSlide:null,onScreenChange:null,onPause:null,onPlay:null,onClick:null,onImageLoad:null,onImageError:null,onTouchMove:null,onTouchEnd:null,onTouchStart:null,onMouseOver:null,onMouseLeave:null,onThumbnailError:null,onThumbnailClick:null,renderCustomControls:null,renderThumbInner:null,renderItem:null,slideInterval:3e3,slideOnThumbnailOver:!1,swipeThreshold:30,renderLeftNav:function(ce,me){return f().createElement(Ln,{onClick:ce,disabled:me})},renderRightNav:function(ce,me){return f().createElement(en,{onClick:ce,disabled:me})},renderPlayPauseButton:function(ce,me){return f().createElement(hn,{onClick:ce,isPlaying:me})},renderFullscreenButton:function(ce,me){return f().createElement(Jt,{onClick:ce,isFullscreen:me})},useWindowKeyDown:!0};const fi=Br})(),s})()})}(Ny)),Ny.exports}var sce=ice();const oce=Or(sce),lce=e=>{e.target.alt=""},cce=({original:e,originalAlt:t})=>v.createElement(I1,{alt:t,className:"image-gallery-image",onError:lce,src:e}),T8=e=>{const{images:t,index:n}=e,{t:r}=Ge("ModalGallery"),a=E.useMemo(()=>t.map(i=>{const s=i.image_url||i.thumb_url||"";return{original:s,originalAlt:r("User uploaded content"),source:s}}),[t,r]);return v.createElement(oce,{items:a,renderItem:cce,showIndex:!0,showPlayButton:!1,showThumbnails:!1,startIndex:n})},uce=e=>{const{images:t,innerRefs:n}=e,[r,a]=E.useState(0),[i,s]=E.useState(!1),{BaseImage:o=I1,ModalGallery:c=T8}=xn(),{t:d}=Ge("Gallery"),f=d("User uploaded content"),h=4,m=h-1,g=w=>{i?s(!1):(a(w),s(!0))},b=t.slice(0,h).map((w,x)=>x===m&&t.length>h?v.createElement("button",{className:"str-chat__gallery-placeholder","data-testid":"gallery-image-last",key:`gallery-image-${x}`,onClick:()=>g(x),style:{backgroundImage:`url(${t[m].previewUrl||t[m].image_url||t[m].thumb_url})`,...w.style},...(n==null?void 0:n.current)&&{ref:k=>{n.current[x]=k}}},v.createElement("p",null,d("{{ imageCount }} more",{imageCount:t.length-h}))):v.createElement("button",{className:"str-chat__gallery-image","data-testid":"gallery-image",key:`gallery-image-${x}`,onClick:()=>g(x)},v.createElement(o,{alt:(w==null?void 0:w.fallback)||f,src:TS.sanitizeUrl(w.previewUrl||w.image_url||w.thumb_url),style:w.style,title:(w==null?void 0:w.fallback)||f,...(n==null?void 0:n.current)&&{ref:k=>{n.current[x]=k}}}))),_=Ue("str-chat__gallery",{"str-chat__gallery--square":t.length>m,"str-chat__gallery-two-rows":t.length>2});return v.createElement("div",{className:_},b,v.createElement(Uu,{className:"str-chat__gallery-modal",onClose:()=>s(w=>!w),open:i},v.createElement(c,{images:t,index:r})))},dce=v.memo(uce),k8=e=>{const{dimensions:t={},fallback:n,image_url:r,innerRef:a,previewUrl:i,style:s,thumb_url:o}=e,[c,d]=E.useState(!1),{BaseImage:f=I1,ModalGallery:h=T8}=xn(),m=TS.sanitizeUrl(i||r||o),g=()=>d(b=>!b);return v.createElement(v.Fragment,null,v.createElement(f,{alt:n,className:"str-chat__message-attachment--img","data-testid":"image-test",onClick:g,src:m,style:s,tabIndex:0,title:n,...t,...a&&{ref:a}}),v.createElement(Uu,{className:"str-chat__image-modal",onClose:g,open:c},v.createElement(h,{images:[e],index:0})))},fce=e=>{const{customMessageActions:t,message:n}=e;if(!t)return null;const r=Object.keys(t);return v.createElement(v.Fragment,null,r.map(a=>{const i=t[a];return v.createElement("button",{"aria-selected":"false",className:"str-chat__message-actions-list-item str-chat__message-actions-list-item-button",key:a,onClick:s=>i(n,s),role:"option"},a)}))},hce=e=>{const{className:t,getMessageActions:n,handleDelete:r,handleEdit:a,handleFlag:i,handleMarkUnread:s,handleMute:o,handlePin:c,isUserMuted:d,mine:f,open:h,...m}=e,{CustomMessageActionsList:g=fce}=xn(),{customMessageActions:b,message:_,threadList:w}=jr(),{t:x}=Ge("MessageActionsBox"),k=Mr(),R=n(),I=()=>{k.setQuotedMessage(_);const C=(_.parent_id?document.querySelectorAll(".str-chat__thread .str-chat__textarea__textarea"):document.getElementsByClassName("str-chat__textarea__textarea")).item(0);C instanceof HTMLTextAreaElement&&C.focus()},O=Ue("str-chat__message-actions-box",t,{"str-chat__message-actions-box--open":h}),A="str-chat__message-actions-list-item str-chat__message-actions-list-item-button";return v.createElement("div",{...m,className:O,"data-testid":"message-actions-box"},v.createElement("div",{"aria-label":x("aria/Message Options"),className:"str-chat__message-actions-list",role:"listbox"},v.createElement(g,{customMessageActions:b,message:_}),R.indexOf(Sn.quote)>-1&&v.createElement("button",{"aria-selected":"false",className:A,onClick:I,role:"option"},x("Reply")),R.indexOf(Sn.pin)>-1&&!_.parent_id&&v.createElement("button",{"aria-selected":"false",className:A,onClick:c,role:"option"},_.pinned?x("Unpin"):x("Pin")),R.indexOf(Sn.markUnread)>-1&&!w&&!!_.id&&v.createElement("button",{"aria-selected":"false",className:A,onClick:s,role:"option"},x("Mark as unread")),R.indexOf(Sn.flag)>-1&&v.createElement("button",{"aria-selected":"false",className:A,onClick:i,role:"option"},x("Flag")),R.indexOf(Sn.mute)>-1&&v.createElement("button",{"aria-selected":"false",className:A,onClick:o,role:"option"},d()?x("Unmute"):x("Mute")),R.indexOf(Sn.edit)>-1&&v.createElement("button",{"aria-selected":"false",className:A,onClick:a,role:"option"},x("Edit Message")),R.indexOf(Sn.delete)>-1&&v.createElement("button",{"aria-selected":"false",className:A,onClick:r,role:"option"},x("Delete"))))},pce=v.memo(hce);var IO=function(t){return t.reduce(function(n,r){var a=r[0],i=r[1];return n[a]=i,n},{})},FO=typeof window<"u"&&window.document&&window.document.createElement?E.useLayoutEffect:E.useEffect,Ui="top",Ls="bottom",Ns="right",Bi="left",v2="auto",ym=[Ui,Ls,Ns,Bi],sf="start",jp="end",mce="clippingParents",R8="viewport",jh="popper",gce="reference",jO=ym.reduce(function(e,t){return e.concat([t+"-"+sf,t+"-"+jp])},[]),A8=[].concat(ym,[v2]).reduce(function(e,t){return e.concat([t,t+"-"+sf,t+"-"+jp])},[]),yce="beforeRead",vce="read",bce="afterRead",_ce="beforeMain",wce="main",xce="afterMain",Cce="beforeWrite",Dce="write",Sce="afterWrite",Ece=[yce,vce,bce,_ce,wce,xce,Cce,Dce,Sce];function Po(e){return e?(e.nodeName||"").toLowerCase():null}function ss(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ku(e){var t=ss(e).Element;return e instanceof t||e instanceof Element}function Rs(e){var t=ss(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function b2(e){if(typeof ShadowRoot>"u")return!1;var t=ss(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Mce(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},a=t.attributes[n]||{},i=t.elements[n];!Rs(i)||!Po(i)||(Object.assign(i.style,r),Object.keys(a).forEach(function(s){var o=a[s];o===!1?i.removeAttribute(s):i.setAttribute(s,o===!0?"":o)}))})}function Tce(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],i=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),o=s.reduce(function(c,d){return c[d]="",c},{});!Rs(a)||!Po(a)||(Object.assign(a.style,o),Object.keys(i).forEach(function(c){a.removeAttribute(c)}))})}}const kce={name:"applyStyles",enabled:!0,phase:"write",fn:Mce,effect:Tce,requires:["computeStyles"]};function Oo(e){return e.split("-")[0]}var bu=Math.max,O0=Math.min,of=Math.round;function oD(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function O8(){return!/^((?!chrome|android).)*safari/i.test(oD())}function lf(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),a=1,i=1;t&&Rs(e)&&(a=e.offsetWidth>0&&of(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&of(r.height)/e.offsetHeight||1);var s=ku(e)?ss(e):window,o=s.visualViewport,c=!O8()&&n,d=(r.left+(c&&o?o.offsetLeft:0))/a,f=(r.top+(c&&o?o.offsetTop:0))/i,h=r.width/a,m=r.height/i;return{width:h,height:m,top:f,right:d+h,bottom:f+m,left:d,x:d,y:f}}function _2(e){var t=lf(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function L8(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&b2(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function kl(e){return ss(e).getComputedStyle(e)}function Rce(e){return["table","td","th"].indexOf(Po(e))>=0}function Rc(e){return((ku(e)?e.ownerDocument:e.document)||window.document).documentElement}function j1(e){return Po(e)==="html"?e:e.assignedSlot||e.parentNode||(b2(e)?e.host:null)||Rc(e)}function UO(e){return!Rs(e)||kl(e).position==="fixed"?null:e.offsetParent}function Ace(e){var t=/firefox/i.test(oD()),n=/Trident/i.test(oD());if(n&&Rs(e)){var r=kl(e);if(r.position==="fixed")return null}var a=j1(e);for(b2(a)&&(a=a.host);Rs(a)&&["html","body"].indexOf(Po(a))<0;){var i=kl(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function vm(e){for(var t=ss(e),n=UO(e);n&&Rce(n)&&kl(n).position==="static";)n=UO(n);return n&&(Po(n)==="html"||Po(n)==="body"&&kl(n).position==="static")?t:n||Ace(e)||t}function w2(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function vp(e,t,n){return bu(e,O0(t,n))}function Oce(e,t,n){var r=vp(e,t,n);return r>n?n:r}function N8(){return{top:0,right:0,bottom:0,left:0}}function P8(e){return Object.assign({},N8(),e)}function I8(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Lce=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,P8(typeof t!="number"?t:I8(t,ym))};function Nce(e){var t,n=e.state,r=e.name,a=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,o=Oo(n.placement),c=w2(o),d=[Bi,Ns].indexOf(o)>=0,f=d?"height":"width";if(!(!i||!s)){var h=Lce(a.padding,n),m=_2(i),g=c==="y"?Ui:Bi,b=c==="y"?Ls:Ns,_=n.rects.reference[f]+n.rects.reference[c]-s[c]-n.rects.popper[f],w=s[c]-n.rects.reference[c],x=vm(i),k=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,R=_/2-w/2,I=h[g],O=k-m[f]-h[b],A=k/2-m[f]/2+R,L=vp(I,A,O),C=c;n.modifiersData[r]=(t={},t[C]=L,t.centerOffset=L-A,t)}}function Pce(e){var t=e.state,n=e.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||L8(t.elements.popper,a)&&(t.elements.arrow=a))}const Ice={name:"arrow",enabled:!0,phase:"main",fn:Nce,effect:Pce,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cf(e){return e.split("-")[1]}var Fce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jce(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:of(n*a)/a||0,y:of(r*a)/a||0}}function BO(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.variation,s=e.offsets,o=e.position,c=e.gpuAcceleration,d=e.adaptive,f=e.roundOffsets,h=e.isFixed,m=s.x,g=m===void 0?0:m,b=s.y,_=b===void 0?0:b,w=typeof f=="function"?f({x:g,y:_}):{x:g,y:_};g=w.x,_=w.y;var x=s.hasOwnProperty("x"),k=s.hasOwnProperty("y"),R=Bi,I=Ui,O=window;if(d){var A=vm(n),L="clientHeight",C="clientWidth";if(A===ss(n)&&(A=Rc(n),kl(A).position!=="static"&&o==="absolute"&&(L="scrollHeight",C="scrollWidth")),A=A,a===Ui||(a===Bi||a===Ns)&&i===jp){I=Ls;var T=h&&A===O&&O.visualViewport?O.visualViewport.height:A[L];_-=T-r.height,_*=c?1:-1}if(a===Bi||(a===Ui||a===Ls)&&i===jp){R=Ns;var S=h&&A===O&&O.visualViewport?O.visualViewport.width:A[C];g-=S-r.width,g*=c?1:-1}}var j=Object.assign({position:o},d&&Fce),B=f===!0?jce({x:g,y:_},ss(n)):{x:g,y:_};if(g=B.x,_=B.y,c){var H;return Object.assign({},j,(H={},H[I]=k?"0":"",H[R]=x?"0":"",H.transform=(O.devicePixelRatio||1)<=1?"translate("+g+"px, "+_+"px)":"translate3d("+g+"px, "+_+"px, 0)",H))}return Object.assign({},j,(t={},t[I]=k?_+"px":"",t[R]=x?g+"px":"",t.transform="",t))}function Uce(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,i=n.adaptive,s=i===void 0?!0:i,o=n.roundOffsets,c=o===void 0?!0:o,d={placement:Oo(t.placement),variation:cf(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,BO(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,BO(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Bce={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Uce,data:{}};var ny={passive:!0};function $ce(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=a===void 0?!0:a,s=r.resize,o=s===void 0?!0:s,c=ss(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&d.forEach(function(f){f.addEventListener("scroll",n.update,ny)}),o&&c.addEventListener("resize",n.update,ny),function(){i&&d.forEach(function(f){f.removeEventListener("scroll",n.update,ny)}),o&&c.removeEventListener("resize",n.update,ny)}}const zce={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$ce,data:{}};var Hce={left:"right",right:"left",bottom:"top",top:"bottom"};function Py(e){return e.replace(/left|right|bottom|top/g,function(t){return Hce[t]})}var Vce={start:"end",end:"start"};function $O(e){return e.replace(/start|end/g,function(t){return Vce[t]})}function x2(e){var t=ss(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function C2(e){return lf(Rc(e)).left+x2(e).scrollLeft}function qce(e,t){var n=ss(e),r=Rc(e),a=n.visualViewport,i=r.clientWidth,s=r.clientHeight,o=0,c=0;if(a){i=a.width,s=a.height;var d=O8();(d||!d&&t==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}return{width:i,height:s,x:o+C2(e),y:c}}function Yce(e){var t,n=Rc(e),r=x2(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=bu(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=bu(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-r.scrollLeft+C2(e),c=-r.scrollTop;return kl(a||n).direction==="rtl"&&(o+=bu(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:s,x:o,y:c}}function D2(e){var t=kl(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function F8(e){return["html","body","#document"].indexOf(Po(e))>=0?e.ownerDocument.body:Rs(e)&&D2(e)?e:F8(j1(e))}function bp(e,t){var n;t===void 0&&(t=[]);var r=F8(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),i=ss(r),s=a?[i].concat(i.visualViewport||[],D2(r)?r:[]):r,o=t.concat(s);return a?o:o.concat(bp(j1(s)))}function lD(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Wce(e,t){var n=lf(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function zO(e,t,n){return t===R8?lD(qce(e,n)):ku(t)?Wce(t,n):lD(Yce(Rc(e)))}function Gce(e){var t=bp(j1(e)),n=["absolute","fixed"].indexOf(kl(e).position)>=0,r=n&&Rs(e)?vm(e):e;return ku(r)?t.filter(function(a){return ku(a)&&L8(a,r)&&Po(a)!=="body"}):[]}function Kce(e,t,n,r){var a=t==="clippingParents"?Gce(e):[].concat(t),i=[].concat(a,[n]),s=i[0],o=i.reduce(function(c,d){var f=zO(e,d,r);return c.top=bu(f.top,c.top),c.right=O0(f.right,c.right),c.bottom=O0(f.bottom,c.bottom),c.left=bu(f.left,c.left),c},zO(e,s,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function j8(e){var t=e.reference,n=e.element,r=e.placement,a=r?Oo(r):null,i=r?cf(r):null,s=t.x+t.width/2-n.width/2,o=t.y+t.height/2-n.height/2,c;switch(a){case Ui:c={x:s,y:t.y-n.height};break;case Ls:c={x:s,y:t.y+t.height};break;case Ns:c={x:t.x+t.width,y:o};break;case Bi:c={x:t.x-n.width,y:o};break;default:c={x:t.x,y:t.y}}var d=a?w2(a):null;if(d!=null){var f=d==="y"?"height":"width";switch(i){case sf:c[d]=c[d]-(t[f]/2-n[f]/2);break;case jp:c[d]=c[d]+(t[f]/2-n[f]/2);break}}return c}function Up(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=r===void 0?e.placement:r,i=n.strategy,s=i===void 0?e.strategy:i,o=n.boundary,c=o===void 0?mce:o,d=n.rootBoundary,f=d===void 0?R8:d,h=n.elementContext,m=h===void 0?jh:h,g=n.altBoundary,b=g===void 0?!1:g,_=n.padding,w=_===void 0?0:_,x=P8(typeof w!="number"?w:I8(w,ym)),k=m===jh?gce:jh,R=e.rects.popper,I=e.elements[b?k:m],O=Kce(ku(I)?I:I.contextElement||Rc(e.elements.popper),c,f,s),A=lf(e.elements.reference),L=j8({reference:A,element:R,placement:a}),C=lD(Object.assign({},R,L)),T=m===jh?C:A,S={top:O.top-T.top+x.top,bottom:T.bottom-O.bottom+x.bottom,left:O.left-T.left+x.left,right:T.right-O.right+x.right},j=e.modifiersData.offset;if(m===jh&&j){var B=j[a];Object.keys(S).forEach(function(H){var U=[Ns,Ls].indexOf(H)>=0?1:-1,z=[Ui,Ls].indexOf(H)>=0?"y":"x";S[H]+=B[z]*U})}return S}function Qce(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=n.boundary,i=n.rootBoundary,s=n.padding,o=n.flipVariations,c=n.allowedAutoPlacements,d=c===void 0?A8:c,f=cf(r),h=f?o?jO:jO.filter(function(b){return cf(b)===f}):ym,m=h.filter(function(b){return d.indexOf(b)>=0});m.length===0&&(m=h);var g=m.reduce(function(b,_){return b[_]=Up(e,{placement:_,boundary:a,rootBoundary:i,padding:s})[Oo(_)],b},{});return Object.keys(g).sort(function(b,_){return g[b]-g[_]})}function Zce(e){if(Oo(e)===v2)return[];var t=Py(e);return[$O(e),t,$O(t)]}function Xce(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,i=a===void 0?!0:a,s=n.altAxis,o=s===void 0?!0:s,c=n.fallbackPlacements,d=n.padding,f=n.boundary,h=n.rootBoundary,m=n.altBoundary,g=n.flipVariations,b=g===void 0?!0:g,_=n.allowedAutoPlacements,w=t.options.placement,x=Oo(w),k=x===w,R=c||(k||!b?[Py(w)]:Zce(w)),I=[w].concat(R).reduce(function(J,oe){return J.concat(Oo(oe)===v2?Qce(t,{placement:oe,boundary:f,rootBoundary:h,padding:d,flipVariations:b,allowedAutoPlacements:_}):oe)},[]),O=t.rects.reference,A=t.rects.popper,L=new Map,C=!0,T=I[0],S=0;S<I.length;S++){var j=I[S],B=Oo(j),H=cf(j)===sf,U=[Ui,Ls].indexOf(B)>=0,z=U?"width":"height",F=Up(t,{placement:j,boundary:f,rootBoundary:h,altBoundary:m,padding:d}),V=U?H?Ns:Bi:H?Ls:Ui;O[z]>A[z]&&(V=Py(V));var Y=Py(V),q=[];if(i&&q.push(F[B]<=0),o&&q.push(F[V]<=0,F[Y]<=0),q.every(function(J){return J})){T=j,C=!1;break}L.set(j,q)}if(C)for(var N=b?3:1,W=function(oe){var fe=I.find(function(ye){var le=L.get(ye);if(le)return le.slice(0,oe).every(function(Ee){return Ee})});if(fe)return T=fe,"break"},K=N;K>0;K--){var $=W(K);if($==="break")break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}}const Jce={name:"flip",enabled:!0,phase:"main",fn:Xce,requiresIfExists:["offset"],data:{_skip:!1}};function HO(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function VO(e){return[Ui,Ns,Ls,Bi].some(function(t){return e[t]>=0})}function eue(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,s=Up(t,{elementContext:"reference"}),o=Up(t,{altBoundary:!0}),c=HO(s,r),d=HO(o,a,i),f=VO(c),h=VO(d);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":h})}const tue={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:eue};function nue(e,t,n){var r=Oo(e),a=[Bi,Ui].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=i[0],o=i[1];return s=s||0,o=(o||0)*a,[Bi,Ns].indexOf(r)>=0?{x:o,y:s}:{x:s,y:o}}function rue(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=a===void 0?[0,0]:a,s=A8.reduce(function(f,h){return f[h]=nue(h,t.rects,i),f},{}),o=s[t.placement],c=o.x,d=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=d),t.modifiersData[r]=s}const aue={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:rue};function iue(e){var t=e.state,n=e.name;t.modifiersData[n]=j8({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const sue={name:"popperOffsets",enabled:!0,phase:"read",fn:iue,data:{}};function oue(e){return e==="x"?"y":"x"}function lue(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,i=a===void 0?!0:a,s=n.altAxis,o=s===void 0?!1:s,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.padding,m=n.tether,g=m===void 0?!0:m,b=n.tetherOffset,_=b===void 0?0:b,w=Up(t,{boundary:c,rootBoundary:d,padding:h,altBoundary:f}),x=Oo(t.placement),k=cf(t.placement),R=!k,I=w2(x),O=oue(I),A=t.modifiersData.popperOffsets,L=t.rects.reference,C=t.rects.popper,T=typeof _=="function"?_(Object.assign({},t.rects,{placement:t.placement})):_,S=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,B={x:0,y:0};if(A){if(i){var H,U=I==="y"?Ui:Bi,z=I==="y"?Ls:Ns,F=I==="y"?"height":"width",V=A[I],Y=V+w[U],q=V-w[z],N=g?-C[F]/2:0,W=k===sf?L[F]:C[F],K=k===sf?-C[F]:-L[F],$=t.elements.arrow,J=g&&$?_2($):{width:0,height:0},oe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:N8(),fe=oe[U],ye=oe[z],le=vp(0,L[F],J[F]),Ee=R?L[F]/2-N-le-fe-S.mainAxis:W-le-fe-S.mainAxis,ue=R?-L[F]/2+N+le+ye+S.mainAxis:K+le+ye+S.mainAxis,Me=t.elements.arrow&&vm(t.elements.arrow),Fe=Me?I==="y"?Me.clientTop||0:Me.clientLeft||0:0,$e=(H=j==null?void 0:j[I])!=null?H:0,ze=V+Ee-$e-Fe,Xe=V+ue-$e,ot=vp(g?O0(Y,ze):Y,V,g?bu(q,Xe):q);A[I]=ot,B[I]=ot-V}if(o){var nt,St=I==="x"?Ui:Bi,Nt=I==="x"?Ls:Ns,ut=A[O],_t=O==="y"?"height":"width",wt=ut+w[St],st=ut-w[Nt],de=[Ui,Bi].indexOf(x)!==-1,Je=(nt=j==null?void 0:j[O])!=null?nt:0,be=de?wt:ut-L[_t]-C[_t]-Je+S.altAxis,ke=de?ut+L[_t]+C[_t]-Je-S.altAxis:st,Pe=g&&de?Oce(be,ut,ke):vp(g?be:wt,ut,g?ke:st);A[O]=Pe,B[O]=Pe-ut}t.modifiersData[r]=B}}const cue={name:"preventOverflow",enabled:!0,phase:"main",fn:lue,requiresIfExists:["offset"]};function uue(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function due(e){return e===ss(e)||!Rs(e)?x2(e):uue(e)}function fue(e){var t=e.getBoundingClientRect(),n=of(t.width)/e.offsetWidth||1,r=of(t.height)/e.offsetHeight||1;return n!==1||r!==1}function hue(e,t,n){n===void 0&&(n=!1);var r=Rs(t),a=Rs(t)&&fue(t),i=Rc(t),s=lf(e,a,n),o={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Po(t)!=="body"||D2(i))&&(o=due(t)),Rs(t)?(c=lf(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=C2(i))),{x:s.left+o.scrollLeft-c.x,y:s.top+o.scrollTop-c.y,width:s.width,height:s.height}}function pue(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function a(i){n.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(o){if(!n.has(o)){var c=t.get(o);c&&a(c)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||a(i)}),r}function mue(e){var t=pue(e);return Ece.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function gue(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function yue(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var qO={placement:"bottom",modifiers:[],strategy:"absolute"};function YO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function vue(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,i=a===void 0?qO:a;return function(o,c,d){d===void 0&&(d=i);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},qO,i),modifiersData:{},elements:{reference:o,popper:c},attributes:{},styles:{}},h=[],m=!1,g={state:f,setOptions:function(x){var k=typeof x=="function"?x(f.options):x;_(),f.options=Object.assign({},i,f.options,k),f.scrollParents={reference:ku(o)?bp(o):o.contextElement?bp(o.contextElement):[],popper:bp(c)};var R=mue(yue([].concat(r,f.options.modifiers)));return f.orderedModifiers=R.filter(function(I){return I.enabled}),b(),g.update()},forceUpdate:function(){if(!m){var x=f.elements,k=x.reference,R=x.popper;if(YO(k,R)){f.rects={reference:hue(k,vm(R),f.options.strategy==="fixed"),popper:_2(R)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(S){return f.modifiersData[S.name]=Object.assign({},S.data)});for(var I=0;I<f.orderedModifiers.length;I++){if(f.reset===!0){f.reset=!1,I=-1;continue}var O=f.orderedModifiers[I],A=O.fn,L=O.options,C=L===void 0?{}:L,T=O.name;typeof A=="function"&&(f=A({state:f,options:C,name:T,instance:g})||f)}}}},update:gue(function(){return new Promise(function(w){g.forceUpdate(),w(f)})}),destroy:function(){_(),m=!0}};if(!YO(o,c))return g;g.setOptions(d).then(function(w){!m&&d.onFirstUpdate&&d.onFirstUpdate(w)});function b(){f.orderedModifiers.forEach(function(w){var x=w.name,k=w.options,R=k===void 0?{}:k,I=w.effect;if(typeof I=="function"){var O=I({state:f,name:x,instance:g,options:R}),A=function(){};h.push(O||A)}})}function _(){h.forEach(function(w){return w()}),h=[]}return g}}var bue=[zce,sue,Bce,kce,aue,Jce,cue,Ice,tue],_ue=vue({defaultModifiers:bue}),wue=[],U8=function(t,n,r){r===void 0&&(r={});var a=E.useRef(null),i={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||wue},s=E.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=s[0],c=s[1],d=E.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(g){var b=g.state,_=Object.keys(b.elements);Gp.flushSync(function(){c({styles:IO(_.map(function(w){return[w,b.styles[w]||{}]})),attributes:IO(_.map(function(w){return[w,b.attributes[w]]}))})})},requires:["computeStyles"]}},[]),f=E.useMemo(function(){var m={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[d,{name:"applyStyles",enabled:!1}])};return nu(a.current,m)?a.current||m:(a.current=m,m)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,d]),h=E.useRef();return FO(function(){h.current&&h.current.setOptions(f)},[f]),FO(function(){if(!(t==null||n==null)){var m=r.createPopper||_ue,g=m(t,n,f);return h.current=g,function(){g.destroy(),h.current=null}}},[t,n,r.createPopper]),{state:h.current?h.current.state:null,styles:o.styles,attributes:o.attributes,update:h.current?h.current.update:null,forceUpdate:h.current?h.current.forceUpdate:null}};function xue({open:e,placement:t,referenceElement:n}){const[r,a]=E.useState(null),{attributes:i,styles:s,update:o}=U8(n,r,{modifiers:[{name:"eventListeners",options:{resize:!1,scroll:!1}}],placement:t});return E.useEffect(()=>{e&&r&&(o==null||o())},[e,r,o]),r&&!e&&a(null),{attributes:i,setPopperElement:a,styles:s}}const S2=({children:e,className:t,focus:n=!0,id:r,placement:a="auto",referenceElement:i=null,tabIndex:s,trapFocus:o,...c})=>{const d=sm({id:r}),f=Du(r),{attributes:h,setPopperElement:m,styles:g}=xue({open:f,placement:a,referenceElement:i});return E.useEffect(()=>{if(!f)return;const b=_=>{_.key==="Escape"&&(d==null||d.close())};return document.addEventListener("keyup",b),()=>{document.removeEventListener("keyup",b)}},[d,f]),f?v.createElement($J,{dialogId:r},v.createElement(S8,{autoFocus:n,contain:o,restoreFocus:!0},v.createElement("div",{...c,...h.popper,className:Ue("str-chat__dialog-contents",t),"data-testid":"str-chat__dialog-contents",ref:m,style:g.popper,tabIndex:typeof s<"u"?s:0},e))):null},B8=({className:e=""})=>v.createElement("svg",{className:e,height:"4",viewBox:"0 0 11 4",width:"11",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z",fillRule:"nonzero"})),Cue=({className:e=""})=>v.createElement("svg",{className:e,height:"12",viewBox:"0 0 12 12",width:"12",xmlns:"http://www.w3.org/2000/svg"},v.createElement("g",{clipRule:"evenodd",fillRule:"evenodd"},v.createElement("path",{d:"M6 1.2C3.3 1.2 1.2 3.3 1.2 6c0 2.7 2.1 4.8 4.8 4.8 2.7 0 4.8-2.1 4.8-4.8 0-2.7-2.1-4.8-4.8-4.8zM0 6c0-3.3 2.7-6 6-6s6 2.7 6 6-2.7 6-6 6-6-2.7-6-6z"}),v.createElement("path",{d:"M5.4 4.5c0 .5-.4.9-.9.9s-.9-.4-.9-.9.4-.9.9-.9.9.4.9.9zM8.4 4.5c0 .5-.4.9-.9.9s-.9-.4-.9-.9.4-.9.9-.9.9.4.9.9zM3.3 6.7c.3-.2.6-.1.8.1.3.4.8.9 1.5 1 .6.2 1.4.1 2.4-1 .2-.2.6-.3.8 0 .2.2.3.6 0 .8-1.1 1.3-2.4 1.7-3.5 1.5-1-.2-1.8-.9-2.2-1.5-.2-.3-.1-.7.2-.9z"}))),Due=({className:e=""})=>v.createElement("svg",{className:e,height:"10",width:"14",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M8.516 3c4.78 0 4.972 6.5 4.972 6.5-1.6-2.906-2.847-3.184-4.972-3.184v2.872L3.772 4.994 8.516.5V3zM.484 5l4.5-4.237v1.78L2.416 5l2.568 2.125v1.828L.484 5z",fillRule:"evenodd"})),Sue=()=>v.createElement("svg",{"data-testid":"delivered-icon",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{clipRule:"evenodd",d:"M8.9999 16.2L4.7999 12L3.3999 13.4L8.9999 19L20.9999 6.99998L19.5999 5.59998L8.9999 16.2Z",fill:"black",fillRule:"evenodd"})),Eue=()=>v.createElement("div",{className:"str-chat__message-error-icon"},v.createElement("svg",{"data-testid":"error",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2Z",fill:"black",id:"background"}),v.createElement("path",{d:"M13 17H11V15H13V17ZM13 13H11V7H13V13Z",fill:"white"}))),Mue=e=>{const{ActionsIcon:t=B8,customWrapperClass:n="",getMessageActions:r,handleDelete:a,handleFlag:i,handleMarkUnread:s,handleMute:o,handlePin:c,inline:d,message:f,mine:h}=e,{mutes:m}=Yt("MessageActions"),{customMessageActions:g,getMessageActions:b,handleDelete:_,handleFlag:w,handleMarkUnread:x,handleMute:k,handlePin:R,isMyMessage:I,message:O,setEditingState:A,threadList:L}=jr(),{CustomMessageActionsList:C}=xn(),{t:T}=Ge("MessageActions"),S=r||b,j=a||_,B=i||w,H=s||x,U=o||k,z=c||R,F=f||O,V=h?h():I(),Y=E.useCallback(()=>f8(F,m),[F,m]),q=`message-actions--${F.id}`,N=sm({id:q}),W=Du(q),K=S(),$=Zoe({customMessageActions:g,CustomMessageActionsList:C,inThread:L,messageActions:K}),J=E.useRef(null);return $?v.createElement(Tue,{customWrapperClass:n,inline:d,toggleOpen:N==null?void 0:N.toggle},v.createElement(S2,{id:q,placement:V?"top-end":"top-start",referenceElement:J.current,tabIndex:-1,trapFocus:!0},v.createElement(pce,{getMessageActions:S,handleDelete:j,handleEdit:A,handleFlag:B,handleMarkUnread:H,handleMute:U,handlePin:z,isUserMuted:Y,mine:V,open:W})),v.createElement("button",{"aria-expanded":W,"aria-haspopup":"true","aria-label":T("aria/Open Message Actions Menu"),className:"str-chat__message-actions-box-button","data-testid":"message-actions-toggle-button",ref:J},v.createElement(t,{className:"str-chat__message-action-icon"}))):null},Tue=e=>{const{children:t,customWrapperClass:n,inline:r,toggleOpen:a}=e,i=Ue("str-chat__message-simple__actions__action","str-chat__message-simple__actions__action--options","str-chat__message-actions-container"),s={className:n||i,"data-testid":"message-actions",onClick:a};return r?v.createElement("span",{...s},t):v.createElement("div",{...s},t)},kue="modulepreload",Rue=function(e,t){return new URL(e,t).href},WO={},Aue=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let s=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};const o=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=s(n.map(f=>{if(f=Rue(f,r),f in WO)return;WO[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(!!r)for(let _=o.length-1;_>=0;_--){const w=o[_];if(w.href===f&&(!h||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${m}`))return;const b=document.createElement("link");if(b.rel=h?"stylesheet":kue,h||(b.as="script"),b.crossOrigin="",b.href=f,d&&b.setAttribute("nonce",d),document.head.appendChild(b),h)return new Promise((_,w)=>{b.addEventListener("load",_),b.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},Oue=v.lazy(async()=>({default:(await Aue(()=>import("./mml-react.esm-BBBCPyGX.js"),[],import.meta.url)).MML})),Lue=e=>{const{actionHandler:t,align:n="right",source:r}=e,{theme:a}=Yt("MML");return v.createElement(E.Suspense,{fallback:null},v.createElement(Oue,{className:`mml-align-${n}`,Loading:null,onSubmit:t,source:r,Success:null,theme:(a||"").replace(" ","-")}))};function cD(e){return e.replace(/[-[\]{}()*+?.,/\\^$|#]/g,"\\$&")}const uD=/(http(s?):\/\/)?(www\.)?/,Nue=e=>{const t=/```[a-z]*\n[\s\S]*?\n```|`[a-z]*[\s\S]*?`/gm;return e.match(t)||[]},Pue=e=>{const t=/\[([^[]+)\](\(.*\))/gm,n=e.match(t),r=/\[([^[]+)\]\((.*)\)/;return(n?n.map(i=>{const s=r.exec(i);return s&&[s[1],s[2]]}):[]).flat()},$8=function(e){if(e==null)return jue;if(typeof e=="string")return Fue(e);if(typeof e=="object")return Iue(e);if(typeof e=="function")return E2(e);throw new Error("Expected function, string, or array as `test`")};function Iue(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=$8(e[n]);return E2(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function Fue(e){return E2(t);function t(n){return n.tagName===e}}function E2(e){return t;function t(n,r,a){return!!(Uue(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function jue(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function Uue(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}function Bue(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const $ue={},zue=["math","script","style","svg","title"];function z8(e,t,n){const a=$8($ue.ignore||zue),i=Hue(t);let s=-1;for(;++s<i.length;)u2(e,"text",o);function o(d,f){let h=-1,m;for(;++h<f.length;){const g=f[h],b=m?m.children:void 0;if(a(g,b?b.indexOf(g):void 0,m))return;m=g}if(m)return c(d,f)}function c(d,f){const h=f[f.length-1],m=i[s][0],g=i[s][1];let b=0;const w=h.children.indexOf(d);let x=!1,k=[];m.lastIndex=0;let R=m.exec(d.value);for(;R;){const I=R.index,O={index:R.index,input:R.input,stack:[...f,d]};let A=g(...R,O);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?m.lastIndex=I+1:(b!==I&&k.push({type:"text",value:d.value.slice(b,I)}),Array.isArray(A)?k.push(...A):A&&k.push(A),b=I+R[0].length,x=!0),!m.global)break;R=m.exec(d.value)}return x?(b<d.value.length&&k.push({type:"text",value:d.value.slice(b)}),h.children.splice(w,1,...k)):k=[d],w+k.length}}function Hue(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([Vue(a[0]),que(a[1])])}return t}function Vue(e){return typeof e=="string"?new RegExp(Bue(e),"g"):e}function que(e){return typeof e=="function"?e:function(){return e}}function uu(e,t,n){const r={type:String(e)};return n==null&&(typeof t=="string"||Array.isArray(t))?n=t:Object.assign(r,t),Array.isArray(n)?r.children=n:n!=null&&(r.value=String(n)),r}const Yue=()=>{const e=n=>uu("element",{properties:{},tagName:"emoji"},[uu("text",n)]);return n=>z8(n,[d8(),e])},Wue=e=>()=>{const t=e.map(i=>i.name||i.id).filter(Boolean).map(cD),n=new RegExp(t.map(i=>`@${i}`).join("|"),"g"),r=i=>{const s=i.replace("@",""),o=e.find(({id:c,name:d})=>d===s||c===s);return uu("element",{mentionedUser:o,properties:{},tagName:"mention"},[uu("text",i)])};return i=>{t.length&&(Tf(i,(s,o,c)=>{var h;if(typeof o>"u"||!c)return;const d=c.children.at(o+1),f=(h=d==null?void 0:d.properties)==null?void 0:h.href;if(s.type==="text"&&/.?\s?@$|^@$/.test(s.value)&&(f!=null&&f.startsWith("mailto:"))){const m=s.value.replace(/@$/,""),g=f.replace("mailto:","");c.children[o]=uu("text",m),c.children[o+1]=uu("text",`@${g}`)}}),z8(i,[n,r]))}},Gue=e=>{e.type==="html"&&(e.type="text")},Kue=e=>{Tf(e,Gue)},Que=()=>Kue,Zue=(e,t,n)=>{if(!(t&&n&&e.position))return;const r=n.children.at(t-1);if(!(r!=null&&r.position)||e.position.start.line===r.position.start.line)return;const a=e.position.start.line,i=r.position.end.line,s=a-i-1;if(s<1)return;const o=Array.from({length:s},()=>uu("break",{tagName:"br"}));n.children=[...n.children.slice(0,t),...o,...n.children.slice(t)]},Xue=e=>{Tf(e,Zue)},Jue=()=>Xue;function GO(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function ede(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function tde(e,t,n){const a=N1((n||{}).ignore||[]),i=nde(t);let s=-1;for(;++s<i.length;)u2(e,"text",o);function o(d,f){let h=-1,m;for(;++h<f.length;){const g=f[h],b=m?m.children:void 0;if(a(g,b?b.indexOf(g):void 0,m))return;m=g}if(m)return c(d,f)}function c(d,f){const h=f[f.length-1],m=i[s][0],g=i[s][1];let b=0;const w=h.children.indexOf(d);let x=!1,k=[];m.lastIndex=0;let R=m.exec(d.value);for(;R;){const I=R.index,O={index:R.index,input:R.input,stack:[...f,d]};let A=g(...R,O);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?m.lastIndex=I+1:(b!==I&&k.push({type:"text",value:d.value.slice(b,I)}),Array.isArray(A)?k.push(...A):A&&k.push(A),b=I+R[0].length,x=!0),!m.global)break;R=m.exec(d.value)}return x?(b<d.value.length&&k.push({type:"text",value:d.value.slice(b)}),h.children.splice(w,1,...k)):k=[d],w+k.length}}function nde(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([rde(a[0]),ade(a[1])])}return t}function rde(e){return typeof e=="string"?new RegExp(ede(e),"g"):e}function ade(e){return typeof e=="function"?e:function(){return e}}const Tx="phrasing",kx=["autolink","link","image","label"];function ide(){return{transforms:[fde],enter:{literalAutolink:ode,literalAutolinkEmail:Rx,literalAutolinkHttp:Rx,literalAutolinkWww:Rx},exit:{literalAutolink:dde,literalAutolinkEmail:ude,literalAutolinkHttp:lde,literalAutolinkWww:cde}}}function sde(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Tx,notInConstruct:kx},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Tx,notInConstruct:kx},{character:":",before:"[ps]",after:"\\/",inConstruct:Tx,notInConstruct:kx}]}}function ode(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Rx(e){this.config.enter.autolinkProtocol.call(this,e)}function lde(e){this.config.exit.autolinkProtocol.call(this,e)}function cde(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function ude(e){this.config.exit.autolinkEmail.call(this,e)}function dde(e){this.exit(e)}function fde(e){tde(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,hde],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),pde]],{ignore:["link","linkReference"]})}function hde(e,t,n,r,a){let i="";if(!H8(a)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!mde(n)))return!1;const s=gde(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:i+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function pde(e,t,n,r){return!H8(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function mde(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function gde(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=GO(e,"(");let i=GO(e,")");for(;r!==-1&&a>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function H8(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Mu(n)||A1(n))&&(!t||n!==47)}V8.peek=Sde;function yde(){this.buffer()}function vde(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function bde(){this.buffer()}function _de(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function wde(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Gs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function xde(e){this.exit(e)}function Cde(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Gs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Dde(e){this.exit(e)}function Sde(){return"["}function V8(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return i+=a.move(n.safe(n.associationId(e),{after:"]",before:i})),o(),s(),i+=a.move("]"),i}function Ede(){return{enter:{gfmFootnoteCallString:yde,gfmFootnoteCall:vde,gfmFootnoteDefinitionLabelString:bde,gfmFootnoteDefinition:_de},exit:{gfmFootnoteCallString:wde,gfmFootnoteCall:xde,gfmFootnoteDefinitionLabelString:Cde,gfmFootnoteDefinition:Dde}}}function Mde(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:V8},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,i,s){const o=i.createTracker(s);let c=o.move("[^");const d=i.enter("footnoteDefinition"),f=i.enter("label");return c+=o.move(i.safe(i.associationId(r),{before:c,after:"]"})),f(),c+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),c+=o.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,o.current()),t?q8:Tde))),d(),c}}function Tde(e,t,n){return t===0?e:q8(e,t,n)}function q8(e,t,n){return(n?"":"    ")+e}const kde=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Y8.peek=Nde;function Rde(){return{canContainEols:["delete"],enter:{strikethrough:Ode},exit:{strikethrough:Lde}}}function Ade(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:kde}],handlers:{delete:Y8}}}function Ode(e){this.enter({type:"delete",children:[]},e)}function Lde(e){this.exit(e)}function Y8(e,t,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let s=a.move("~~");return s+=n.containerPhrasing(e,{...a.current(),before:s,after:"~"}),s+=a.move("~~"),i(),s}function Nde(){return"~"}function Pde(e){return e.length}function Ide(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||Pde,i=[],s=[],o=[],c=[];let d=0,f=-1;for(;++f<e.length;){const _=[],w=[];let x=-1;for(e[f].length>d&&(d=e[f].length);++x<e[f].length;){const k=Fde(e[f][x]);if(n.alignDelimiters!==!1){const R=a(k);w[x]=R,(c[x]===void 0||R>c[x])&&(c[x]=R)}_.push(k)}s[f]=_,o[f]=w}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<d;)i[h]=KO(r[h]);else{const _=KO(r);for(;++h<d;)i[h]=_}h=-1;const m=[],g=[];for(;++h<d;){const _=i[h];let w="",x="";_===99?(w=":",x=":"):_===108?w=":":_===114&&(x=":");let k=n.alignDelimiters===!1?1:Math.max(1,c[h]-w.length-x.length);const R=w+"-".repeat(k)+x;n.alignDelimiters!==!1&&(k=w.length+k+x.length,k>c[h]&&(c[h]=k),g[h]=k),m[h]=R}s.splice(1,0,m),o.splice(1,0,g),f=-1;const b=[];for(;++f<s.length;){const _=s[f],w=o[f];h=-1;const x=[];for(;++h<d;){const k=_[h]||"";let R="",I="";if(n.alignDelimiters!==!1){const O=c[h]-(w[h]||0),A=i[h];A===114?R=" ".repeat(O):A===99?O%2?(R=" ".repeat(O/2+.5),I=" ".repeat(O/2-.5)):(R=" ".repeat(O/2),I=R):I=" ".repeat(O)}n.delimiterStart!==!1&&!h&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&k==="")&&(n.delimiterStart!==!1||h)&&x.push(" "),n.alignDelimiters!==!1&&x.push(R),x.push(k),n.alignDelimiters!==!1&&x.push(I),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||h!==d-1)&&x.push("|")}b.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return b.join(`
`)}function Fde(e){return e==null?"":String(e)}function KO(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function jde(e,t,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const s=n.indentLines(n.containerFlow(e,i.current()),Ude);return a(),s}function Ude(e,t,n){return">"+(n?"":" ")+e}function Bde(e,t){return QO(e,t.inConstruct,!0)&&!QO(e,t.notInConstruct,!1)}function QO(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function ZO(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&Bde(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function $de(e,t){const n=String(e);let r=n.indexOf(t),a=r,i=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>s&&(s=i):i=1,a=r+t.length,r=n.indexOf(t,a);return s}function zde(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Hde(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Vde(e,t,n,r){const a=Hde(n),i=e.value||"",s=a==="`"?"GraveAccent":"Tilde";if(zde(e,n)){const h=n.enter("codeIndented"),m=n.indentLines(i,qde);return h(),m}const o=n.createTracker(r),c=a.repeat(Math.max($de(i,a)+1,3)),d=n.enter("codeFenced");let f=o.move(c);if(e.lang){const h=n.enter(`codeFencedLang${s}`);f+=o.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...o.current()})),h()}if(e.lang&&e.meta){const h=n.enter(`codeFencedMeta${s}`);f+=o.move(" "),f+=o.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...o.current()})),h()}return f+=o.move(`
`),i&&(f+=o.move(i+`
`)),f+=o.move(c),d(),f}function qde(e,t,n){return(n?"":"    ")+e}function M2(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Yde(e,t,n,r){const a=M2(n),i=a==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const c=n.createTracker(r);let d=c.move("[");return d+=c.move(n.safe(n.associationId(e),{before:d,after:"]",...c.current()})),d+=c.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(n.safe(e.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(o=n.enter("destinationRaw"),d+=c.move(n.safe(e.url,{before:d,after:e.title?" ":`
`,...c.current()}))),o(),e.title&&(o=n.enter(`title${i}`),d+=c.move(" "+a),d+=c.move(n.safe(e.title,{before:d,after:a,...c.current()})),d+=c.move(a),o()),s(),d}function Wde(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Bp(e){return"&#x"+e.toString(16).toUpperCase()+";"}function L0(e,t,n){const r=rf(e),a=rf(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}W8.peek=Gde;function W8(e,t,n,r){const a=Wde(n),i=n.enter("emphasis"),s=n.createTracker(r),o=s.move(a);let c=s.move(n.containerPhrasing(e,{after:a,before:o,...s.current()}));const d=c.charCodeAt(0),f=L0(r.before.charCodeAt(r.before.length-1),d,a);f.inside&&(c=Bp(d)+c.slice(1));const h=c.charCodeAt(c.length-1),m=L0(r.after.charCodeAt(0),h,a);m.inside&&(c=c.slice(0,-1)+Bp(h));const g=s.move(a);return i(),n.attentionEncodeSurroundingInfo={after:m.outside,before:f.outside},o+c+g}function Gde(e,t,n){return n.options.emphasis||"*"}function Kde(e,t){let n=!1;return Tf(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,XC}),!!((!e.depth||e.depth<3)&&r2(e)&&(t.options.setext||n))}function Qde(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(Kde(e,n)){const f=n.enter("headingSetext"),h=n.enter("phrasing"),m=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return h(),f(),m+`
`+(a===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const s="#".repeat(a),o=n.enter("headingAtx"),c=n.enter("phrasing");i.move(s+" ");let d=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(d)&&(d=Bp(d.charCodeAt(0))+d.slice(1)),d=d?s+" "+d:s,n.options.closeAtx&&(d+=" "+s),c(),o(),d}G8.peek=Zde;function G8(e){return e.value||""}function Zde(){return"<"}K8.peek=Xde;function K8(e,t,n,r){const a=M2(n),i=a==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const c=n.createTracker(r);let d=c.move("![");return d+=c.move(n.safe(e.alt,{before:d,after:"]",...c.current()})),d+=c.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(n.safe(e.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(o=n.enter("destinationRaw"),d+=c.move(n.safe(e.url,{before:d,after:e.title?" ":")",...c.current()}))),o(),e.title&&(o=n.enter(`title${i}`),d+=c.move(" "+a),d+=c.move(n.safe(e.title,{before:d,after:a,...c.current()})),d+=c.move(a),o()),d+=c.move(")"),s(),d}function Xde(){return"!"}Q8.peek=Jde;function Q8(e,t,n,r){const a=e.referenceType,i=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let c=o.move("![");const d=n.safe(e.alt,{before:c,after:"]",...o.current()});c+=o.move(d+"]["),s();const f=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return s(),n.stack=f,i(),a==="full"||!d||d!==h?c+=o.move(h+"]"):a==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function Jde(){return"!"}Z8.peek=efe;function Z8(e,t,n){let r=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const s=n.unsafe[i],o=n.compilePattern(s);let c;if(s.atBreak)for(;c=o.exec(r);){let d=c.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(c.index+1)}}return a+r+a}function efe(){return"`"}function X8(e,t){const n=r2(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}J8.peek=tfe;function J8(e,t,n,r){const a=M2(n),i=a==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,c;if(X8(e,n)){const f=n.stack;n.stack=[],o=n.enter("autolink");let h=s.move("<");return h+=s.move(n.containerPhrasing(e,{before:h,after:">",...s.current()})),h+=s.move(">"),o(),n.stack=f,h}o=n.enter("link"),c=n.enter("label");let d=s.move("[");return d+=s.move(n.containerPhrasing(e,{before:d,after:"](",...s.current()})),d+=s.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),d+=s.move("<"),d+=s.move(n.safe(e.url,{before:d,after:">",...s.current()})),d+=s.move(">")):(c=n.enter("destinationRaw"),d+=s.move(n.safe(e.url,{before:d,after:e.title?" ":")",...s.current()}))),c(),e.title&&(c=n.enter(`title${i}`),d+=s.move(" "+a),d+=s.move(n.safe(e.title,{before:d,after:a,...s.current()})),d+=s.move(a),c()),d+=s.move(")"),o(),d}function tfe(e,t,n){return X8(e,n)?"<":"["}eI.peek=nfe;function eI(e,t,n,r){const a=e.referenceType,i=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let c=o.move("[");const d=n.containerPhrasing(e,{before:c,after:"]",...o.current()});c+=o.move(d+"]["),s();const f=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return s(),n.stack=f,i(),a==="full"||!d||d!==h?c+=o.move(h+"]"):a==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function nfe(){return"["}function T2(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function rfe(e){const t=T2(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function afe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function tI(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function ife(e,t,n,r){const a=n.enter("list"),i=n.bulletCurrent;let s=e.ordered?afe(n):T2(n);const o=e.ordered?s==="."?")":".":rfe(n);let c=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),tI(n)===s&&f){let h=-1;for(;++h<e.children.length;){const m=e.children[h];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(s=o),n.bulletCurrent=s;const d=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=i,a(),d}function sfe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function ofe(e,t,n,r){const a=sfe(n);let i=n.bulletCurrent||T2(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let s=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(i+" ".repeat(s-i.length)),o.shift(s);const c=n.enter("listItem"),d=n.indentLines(n.containerFlow(e,o.current()),f);return c(),d;function f(h,m,g){return m?(g?"":" ".repeat(s))+h:(g?i:i+" ".repeat(s-i.length))+h}}function lfe(e,t,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),s=n.containerPhrasing(e,r);return i(),a(),s}const cfe=N1(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function ufe(e,t,n,r){return(e.children.some(function(s){return cfe(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function dfe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}nI.peek=ffe;function nI(e,t,n,r){const a=dfe(n),i=n.enter("strong"),s=n.createTracker(r),o=s.move(a+a);let c=s.move(n.containerPhrasing(e,{after:a,before:o,...s.current()}));const d=c.charCodeAt(0),f=L0(r.before.charCodeAt(r.before.length-1),d,a);f.inside&&(c=Bp(d)+c.slice(1));const h=c.charCodeAt(c.length-1),m=L0(r.after.charCodeAt(0),h,a);m.inside&&(c=c.slice(0,-1)+Bp(h));const g=s.move(a+a);return i(),n.attentionEncodeSurroundingInfo={after:m.outside,before:f.outside},o+c+g}function ffe(e,t,n){return n.options.strong||"*"}function hfe(e,t,n,r){return n.safe(e.value,r)}function pfe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function mfe(e,t,n){const r=(tI(n)+(n.options.ruleSpaces?" ":"")).repeat(pfe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const rI={blockquote:jde,break:ZO,code:Vde,definition:Yde,emphasis:W8,hardBreak:ZO,heading:Qde,html:G8,image:K8,imageReference:Q8,inlineCode:Z8,link:J8,linkReference:eI,list:ife,listItem:ofe,paragraph:lfe,root:ufe,strong:nI,text:hfe,thematicBreak:mfe};function gfe(){return{enter:{table:yfe,tableData:XO,tableHeader:XO,tableRow:bfe},exit:{codeText:_fe,table:vfe,tableData:Ax,tableHeader:Ax,tableRow:Ax}}}function yfe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function vfe(e){this.exit(e),this.data.inTable=void 0}function bfe(e){this.enter({type:"tableRow",children:[]},e)}function Ax(e){this.exit(e)}function XO(e){this.enter({type:"tableCell",children:[]},e)}function _fe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,wfe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function wfe(e,t){return t==="|"?t:e}function xfe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:s,tableCell:c,tableRow:o}};function s(g,b,_,w){return d(f(g,_,w),g.align)}function o(g,b,_,w){const x=h(g,_,w),k=d([x]);return k.slice(0,k.indexOf(`
`))}function c(g,b,_,w){const x=_.enter("tableCell"),k=_.enter("phrasing"),R=_.containerPhrasing(g,{...w,before:i,after:i});return k(),x(),R}function d(g,b){return Ide(g,{align:b,alignDelimiters:r,padding:n,stringLength:a})}function f(g,b,_){const w=g.children;let x=-1;const k=[],R=b.enter("table");for(;++x<w.length;)k[x]=h(w[x],b,_);return R(),k}function h(g,b,_){const w=g.children;let x=-1;const k=[],R=b.enter("tableRow");for(;++x<w.length;)k[x]=c(w[x],g,b,_);return R(),k}function m(g,b,_){let w=rI.inlineCode(g,b,_);return _.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function Cfe(){return{exit:{taskListCheckValueChecked:JO,taskListCheckValueUnchecked:JO,paragraph:Sfe}}}function Dfe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Efe}}}function JO(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Sfe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let i=-1,s;for(;++i<a.length;){const o=a[i];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Efe(e,t,n,r){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);i&&o.move(s);let c=rI.listItem(e,t,n,{...r,...o.current()});return i&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),c;function d(f){return f+s}}function Mfe(){return[ide(),Ede(),Rde(),gfe(),Cfe()]}function Tfe(e){return{extensions:[sde(),Mde(e),Ade(),xfe(e),Dfe()]}}const kfe={tokenize:Pfe,partial:!0},aI={tokenize:Ife,partial:!0},iI={tokenize:Ffe,partial:!0},sI={tokenize:jfe,partial:!0},Rfe={tokenize:Ufe,partial:!0},oI={name:"wwwAutolink",tokenize:Lfe,previous:cI},lI={name:"protocolAutolink",tokenize:Nfe,previous:uI},Ll={name:"emailAutolink",tokenize:Ofe,previous:dI},$o={};function Afe(){return{text:$o}}let Qc=48;for(;Qc<123;)$o[Qc]=Ll,Qc++,Qc===58?Qc=65:Qc===91&&(Qc=97);$o[43]=Ll;$o[45]=Ll;$o[46]=Ll;$o[95]=Ll;$o[72]=[Ll,lI];$o[104]=[Ll,lI];$o[87]=[Ll,oI];$o[119]=[Ll,oI];function Ofe(e,t,n){const r=this;let a,i;return s;function s(h){return!dD(h)||!dI.call(r,r.previous)||k2(r.events)?n(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(h))}function o(h){return dD(h)?(e.consume(h),o):h===64?(e.consume(h),c):n(h)}function c(h){return h===46?e.check(Rfe,f,d)(h):h===45||h===95||si(h)?(i=!0,e.consume(h),c):f(h)}function d(h){return e.consume(h),a=!0,c}function f(h){return i&&a&&Di(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):n(h)}}function Lfe(e,t,n){const r=this;return a;function a(s){return s!==87&&s!==119||!cI.call(r,r.previous)||k2(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(kfe,e.attempt(aI,e.attempt(iI,i),n),n)(s))}function i(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function Nfe(e,t,n){const r=this;let a="",i=!1;return s;function s(h){return(h===72||h===104)&&uI.call(r,r.previous)&&!k2(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(h),e.consume(h),o):n(h)}function o(h){if(Di(h)&&a.length<5)return a+=String.fromCodePoint(h),e.consume(h),o;if(h===58){const m=a.toLowerCase();if(m==="http"||m==="https")return e.consume(h),c}return n(h)}function c(h){return h===47?(e.consume(h),i?d:(i=!0,c)):n(h)}function d(h){return h===null||E0(h)||wr(h)||Mu(h)||A1(h)?n(h):e.attempt(aI,e.attempt(iI,f),n)(h)}function f(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function Pfe(e,t,n){let r=0;return a;function a(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),a):s===46&&r===3?(e.consume(s),i):n(s)}function i(s){return s===null?n(s):t(s)}}function Ife(e,t,n){let r,a,i;return s;function s(d){return d===46||d===95?e.check(sI,c,o)(d):d===null||wr(d)||Mu(d)||d!==45&&A1(d)?c(d):(i=!0,e.consume(d),s)}function o(d){return d===95?r=!0:(a=r,r=void 0),e.consume(d),s}function c(d){return a||r||!i?n(d):t(d)}}function Ffe(e,t){let n=0,r=0;return a;function a(s){return s===40?(n++,e.consume(s),a):s===41&&r<n?i(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(sI,t,i)(s):s===null||wr(s)||Mu(s)?t(s):(e.consume(s),a)}function i(s){return s===41&&r++,e.consume(s),a}}function jfe(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),i):o===93?(e.consume(o),a):o===60||o===null||wr(o)||Mu(o)?t(o):n(o)}function a(o){return o===null||o===40||o===91||wr(o)||Mu(o)?t(o):r(o)}function i(o){return Di(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):Di(o)?(e.consume(o),s):n(o)}}function Ufe(e,t,n){return r;function r(i){return e.consume(i),a}function a(i){return si(i)?n(i):t(i)}}function cI(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||wr(e)}function uI(e){return!Di(e)}function dI(e){return!(e===47||dD(e))}function dD(e){return e===43||e===45||e===46||e===95||si(e)}function k2(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Bfe={tokenize:Gfe,partial:!0};function $fe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:qfe,continuation:{tokenize:Yfe},exit:Wfe}},text:{91:{name:"gfmFootnoteCall",tokenize:Vfe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:zfe,resolveTo:Hfe}}}}function zfe(e,t,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;a--;){const c=r.events[a][1];if(c.type==="labelImage"){s=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return o;function o(c){if(!s||!s._balanced)return n(c);const d=Gs(r.sliceSerialize({start:s.end,end:r.now()}));return d.codePointAt(0)!==94||!i.includes(d.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function Hfe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function Vfe(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,s;return o;function o(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),c}function c(h){return h!==94?n(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(h){if(i>999||h===93&&!s||h===null||h===91||wr(h))return n(h);if(h===93){e.exit("chunkString");const m=e.exit("gfmFootnoteCallString");return a.includes(Gs(r.sliceSerialize(m)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(h)}return wr(h)||(s=!0),i++,e.consume(h),h===92?f:d}function f(h){return h===91||h===92||h===93?(e.consume(h),i++,d):d(h)}}function qfe(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,s=0,o;return c;function c(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(b)}function f(b){if(s>999||b===93&&!o||b===null||b===91||wr(b))return n(b);if(b===93){e.exit("chunkString");const _=e.exit("gfmFootnoteDefinitionLabelString");return i=Gs(r.sliceSerialize(_)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),m}return wr(b)||(o=!0),s++,e.consume(b),b===92?h:f}function h(b){return b===91||b===92||b===93?(e.consume(b),s++,f):f(b)}function m(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),a.includes(i)||a.push(i),Hn(e,g,"gfmFootnoteDefinitionWhitespace")):n(b)}function g(b){return t(b)}}function Yfe(e,t,n){return e.check(pm,t,e.attempt(Bfe,t,n))}function Wfe(e){e.exit("gfmFootnoteDefinition")}function Gfe(e,t,n){const r=this;return Hn(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(i):n(i)}}function Kfe(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:i,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(s,o){let c=-1;for(;++c<s.length;)if(s[c][0]==="enter"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._close){let d=c;for(;d--;)if(s[d][0]==="exit"&&s[d][1].type==="strikethroughSequenceTemporary"&&s[d][1]._open&&s[c][1].end.offset-s[c][1].start.offset===s[d][1].end.offset-s[d][1].start.offset){s[c][1].type="strikethroughSequence",s[d][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},s[d][1].start),end:Object.assign({},s[c][1].end)},h={type:"strikethroughText",start:Object.assign({},s[d][1].end),end:Object.assign({},s[c][1].start)},m=[["enter",f,o],["enter",s[d][1],o],["exit",s[d][1],o],["enter",h,o]],g=o.parser.constructs.insideSpan.null;g&&as(m,m.length,0,O1(g,s.slice(d+1,c),o)),as(m,m.length,0,[["exit",h,o],["enter",s[c][1],o],["exit",s[c][1],o],["exit",f,o]]),as(s,d-1,c-d+3,m),c=d+m.length-2;break}}for(c=-1;++c<s.length;)s[c][1].type==="strikethroughSequenceTemporary"&&(s[c][1].type="data");return s}function i(s,o,c){const d=this.previous,f=this.events;let h=0;return m;function m(b){return d===126&&f[f.length-1][1].type!=="characterEscape"?c(b):(s.enter("strikethroughSequenceTemporary"),g(b))}function g(b){const _=rf(d);if(b===126)return h>1?c(b):(s.consume(b),h++,g);if(h<2&&!n)return c(b);const w=s.exit("strikethroughSequenceTemporary"),x=rf(b);return w._open=!x||x===2&&!!_,w._close=!_||_===2&&!!x,o(b)}}}class Qfe{constructor(){this.map=[]}add(t,n,r){Zfe(this,t,n,r)}consume(t){if(this.map.sort(function(i,s){return i[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const i of a)t.push(i);a=r.pop()}this.map.length=0}}function Zfe(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function Xfe(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Jfe(){return{flow:{null:{name:"table",tokenize:ehe,resolveAll:the}}}}function ehe(e,t,n){const r=this;let a=0,i=0,s;return o;function o(S){let j=r.events.length-1;for(;j>-1;){const U=r.events[j][1].type;if(U==="lineEnding"||U==="linePrefix")j--;else break}const B=j>-1?r.events[j][1].type:null,H=B==="tableHead"||B==="tableRow"?A:c;return H===A&&r.parser.lazy[r.now().line]?n(S):H(S)}function c(S){return e.enter("tableHead"),e.enter("tableRow"),d(S)}function d(S){return S===124||(s=!0,i+=1),f(S)}function f(S){return S===null?n(S):jt(S)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),g):n(S):An(S)?Hn(e,f,"whitespace")(S):(i+=1,s&&(s=!1,a+=1),S===124?(e.enter("tableCellDivider"),e.consume(S),e.exit("tableCellDivider"),s=!0,f):(e.enter("data"),h(S)))}function h(S){return S===null||S===124||wr(S)?(e.exit("data"),f(S)):(e.consume(S),S===92?m:h)}function m(S){return S===92||S===124?(e.consume(S),h):h(S)}function g(S){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(S):(e.enter("tableDelimiterRow"),s=!1,An(S)?Hn(e,b,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):b(S))}function b(S){return S===45||S===58?w(S):S===124?(s=!0,e.enter("tableCellDivider"),e.consume(S),e.exit("tableCellDivider"),_):O(S)}function _(S){return An(S)?Hn(e,w,"whitespace")(S):w(S)}function w(S){return S===58?(i+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(S),e.exit("tableDelimiterMarker"),x):S===45?(i+=1,x(S)):S===null||jt(S)?I(S):O(S)}function x(S){return S===45?(e.enter("tableDelimiterFiller"),k(S)):O(S)}function k(S){return S===45?(e.consume(S),k):S===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(S),e.exit("tableDelimiterMarker"),R):(e.exit("tableDelimiterFiller"),R(S))}function R(S){return An(S)?Hn(e,I,"whitespace")(S):I(S)}function I(S){return S===124?b(S):S===null||jt(S)?!s||a!==i?O(S):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(S)):O(S)}function O(S){return n(S)}function A(S){return e.enter("tableRow"),L(S)}function L(S){return S===124?(e.enter("tableCellDivider"),e.consume(S),e.exit("tableCellDivider"),L):S===null||jt(S)?(e.exit("tableRow"),t(S)):An(S)?Hn(e,L,"whitespace")(S):(e.enter("data"),C(S))}function C(S){return S===null||S===124||wr(S)?(e.exit("data"),L(S)):(e.consume(S),S===92?T:C)}function T(S){return S===92||S===124?(e.consume(S),C):C(S)}}function the(e,t){let n=-1,r=!0,a=0,i=[0,0,0,0],s=[0,0,0,0],o=!1,c=0,d,f,h;const m=new Qfe;for(;++n<e.length;){const g=e[n],b=g[1];g[0]==="enter"?b.type==="tableHead"?(o=!1,c!==0&&(e4(m,t,c,d,f),f=void 0,c=0),d={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},m.add(n,0,[["enter",d,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(r=!0,h=void 0,i=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,f={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},m.add(n,0,[["enter",f,t]])),a=b.type==="tableDelimiterRow"?2:f?3:1):a&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(i[1]!==0&&(s[0]=s[1],h=ry(m,t,i,a,void 0,h),i=[0,0,0,0]),s[2]=n)):b.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(s[0]=s[1],h=ry(m,t,i,a,void 0,h)),i=s,s=[i[1],n,0,0])):b.type==="tableHead"?(o=!0,c=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(c=n,i[1]!==0?(s[0]=s[1],h=ry(m,t,i,a,n,h)):s[1]!==0&&(h=ry(m,t,s,a,n,h)),a=0):a&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(s[3]=n)}for(c!==0&&e4(m,t,c,d,f),m.consume(t.events),n=-1;++n<t.events.length;){const g=t.events[n];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=Xfe(t.events,n))}return e}function ry(e,t,n,r,a,i){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(i.end=Object.assign({},Ad(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const c=Ad(t.events,n[1]);if(i={type:s,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const d=Ad(t.events,n[2]),f=Ad(t.events,n[3]),h={type:o,start:Object.assign({},d),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",h,t]]),r!==2){const m=t.events[n[2]],g=t.events[n[3]];if(m[1].end=Object.assign({},g[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,_=n[3]-n[2]-1;e.add(b,_,[])}}e.add(n[3]+1,0,[["exit",h,t]])}return a!==void 0&&(i.end=Object.assign({},Ad(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function e4(e,t,n,r,a){const i=[],s=Ad(t.events,n);a&&(a.end=Object.assign({},s),i.push(["exit",a,t])),r.end=Object.assign({},s),i.push(["exit",r,t]),e.add(n+1,0,i)}function Ad(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const nhe={name:"tasklistCheck",tokenize:ahe};function rhe(){return{text:{91:nhe}}}function ahe(e,t,n){const r=this;return a;function a(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),i)}function i(c){return wr(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),s):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),s):n(c)}function s(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(c)}function o(c){return jt(c)?t(c):An(c)?e.check({tokenize:ihe},t,n)(c):n(c)}}function ihe(e,t,n){return Hn(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function she(e){return B6([Afe(),$fe(),Kfe(e),Jfe(),rhe()])}const ohe={};function lhe(e){const t=this,n=e||ohe,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(she(n)),i.push(Mfe()),s.push(Tfe(n))}const che=({children:e,href:t})=>{const n=t==null?void 0:t.startsWith("mailto:"),r=t==null?void 0:t.startsWith("http");return!t||!n&&!r?v.createElement(v.Fragment,null,e):v.createElement("a",{className:Ue({"str-chat__message-url-link":r}),href:t,rel:"nofollow noreferrer noopener",target:"_blank"},e)},uhe=({children:e})=>v.createElement("span",{className:"inline-text-emoji","data-testid":"inline-text-emoji"},e),dhe=({children:e,node:{mentionedUser:t}})=>v.createElement("span",{className:"str-chat__message-mention","data-user-id":t.id},e),fhe=["html","text","br","p","em","strong","a","ol","ul","li","code","pre","blockquote","del","table","thead","tbody","th","tr","td","tfoot","emoji","mention"];function hhe(e){try{return decodeURIComponent(e).replace(uD,"")}catch{return e}}function t4(e){try{return encodeURI(decodeURIComponent(e))}catch{return e}}const phe=e=>e.startsWith("app://")?e:o8(e),n4=e=>e,mhe={a:che,emoji:uhe,mention:dhe},R2=(e,t,{allowedTagNames:n=fhe,customMarkDownRenderers:r,getRehypePlugins:a=n4,getRemarkPlugins:i=n4}={})=>{if(!e)return null;if(e.trim().length===1)return v.createElement(v.Fragment,null,e);let s=e;const o=Pue(s),c=Nue(s);R1([...XR(s,"email"),...XR(s,"url")],"value").forEach(({href:h,type:m,value:g})=>{const b=c.some(w=>w==null?void 0:w.includes(g));if(!((o&&o.filter(w=>{const x=h==null?void 0:h.replace(uD,""),k=w==null?void 0:w.replace(uD,"");return!x||!k?!1:x.includes(k)||k.includes(x)})).length>0||b))try{if(m==="email"&&t&&t.some(k=>k.name===g)){s=s.replace(new RegExp(cD(g),"g"),(k,R)=>s.charAt(R-1)==="@"?k:`[${k}](${t4(h)})`);return}const w=m==="email"?g:hhe(h);s=s.replace(new RegExp(cD(g),"g"),`[${w}](${t4(h)})`)}catch{}});const d=[Que,Jue,[lhe,{singleTilde:!1}]],f=[Yue];return t!=null&&t.length&&f.push(Wue(t)),v.createElement(Hne,{fallback:v.createElement(v.Fragment,null,e)},v.createElement(s8,{allowedElements:n,components:{...mhe,...r},rehypePlugins:a(f),remarkPlugins:i(d),skipHtml:!0,unwrapDisallowed:!0,urlTransform:phe},s))};function ghe({MessageBouncePrompt:e,...t}){return v.createElement(Uu,{className:"str-chat__message-bounce-modal",...t},v.createElement(VJ,null,v.createElement(e,{onClose:t.onClose})))}function yhe({children:e,onClose:t}){const{handleDelete:n,handleEdit:r,handleRetry:a}=HJ("MessageBouncePrompt"),{t:i}=Ge("MessageBouncePrompt");function s(o){return c=>{o(c),t==null||t(c)}}return v.createElement("div",{className:"str-chat__message-bounce-prompt","data-testid":"message-bounce-prompt"},v.createElement("div",{className:"str-chat__message-bounce-prompt-header"},e??i("This message did not meet our content guidelines")),v.createElement("div",{className:"str-chat__message-bounce-actions"},v.createElement("button",{className:"str-chat__message-bounce-edit","data-testid":"message-bounce-edit",onClick:s(r),type:"button"},i("Edit Message")),v.createElement("button",{className:"str-chat__message-bounce-send","data-testid":"message-bounce-send",onClick:s(a)},i("Send Anyway")),v.createElement("button",{className:"str-chat__message-bounce-delete","data-testid":"message-bounce-delete",onClick:s(n)},i("Delete"))))}const vhe=()=>{const{message:e}=jr(),{t}=Ge("MessageBlocked"),{isMyMessage:n}=h2(e),r=Ue("str-chat__message str-chat__message-simple str-chat__message--blocked",e.type,{"str-chat__message--me str-chat__message-simple--me":n,"str-chat__message--other":!n});return v.createElement("div",{className:r,"data-testid":"message-blocked-component",key:e.id},v.createElement("div",{className:"str-chat__message--blocked-inner"},t("Message was blocked by moderation policies")))},bhe=e=>e?e.current!==void 0:!1,_he=e=>new Promise((t,n)=>{const r=new Image;r.addEventListener("load",()=>{t([r.width,r.height])},{once:!0}),r.addEventListener("error",()=>n(`Couldn't load image from ${e}`),{once:!0}),r.src=e}),whe=({columns:e,fallback:t,height:n,position:r,rows:a,spriteUrl:i,style:s,width:o})=>{const[[c,d],f]=E.useState([0,0]);E.useEffect(()=>{_he(i).then(f).catch(console.error)},[i]);const[h,m]=r;return!d||!c?v.createElement(v.Fragment,null,t):v.createElement("div",{"data-testid":"sprite-image",style:{...s,"--str-chat__sprite-image-resize-ratio":"var(--str-chat__sprite-image-resize-ratio-x, var(--str-chat__sprite-image-resize-ratio-y, 1))","--str-chat__sprite-image-resize-ratio-x":"calc(var(--str-chat__sprite-image-width) / var(--str-chat__sprite-item-width))","--str-chat__sprite-image-resize-ratio-y":"calc(var(--str-chat__sprite-image-height) / var(--str-chat__sprite-item-height))","--str-chat__sprite-item-height":`${d/a}`,"--str-chat__sprite-item-width":`${c/e}`,...Number.isFinite(n)?{"--str-chat__sprite-image-height":`${n}px`}:{},...Number.isFinite(o)?{"--str-chat__sprite-image-width":`${o}px`}:{},backgroundImage:`url('${i}')`,backgroundPosition:`${h*(100/(e-1))}% ${m*(100/(a-1))}%`,backgroundSize:`${e*100}% ${a*100}%`,height:"var(--str-chat__sprite-image-height, calc(var(--str-chat__sprite-item-height) * var(--str-chat__sprite-image-resize-ratio)))",width:"var(--str-chat__sprite-image-width, calc(var(--str-chat__sprite-item-width) * var(--str-chat__sprite-image-resize-ratio)))"}})},xhe={angry:[1,1],haha:[1,0],like:[0,0],love:[1,2],sad:[0,1],wow:[0,2]},Che="https://getstream.imgix.net/images/emoji-sprite.png",Uh=({fallback:e,type:t})=>{const n=xhe[t];return v.createElement(whe,{columns:2,fallback:e,position:n,rows:3,spriteUrl:Che,style:{"--str-chat__sprite-image-height":"var(--str-chat__stream-emoji-size, 18px)"}})},fI=[{type:"haha",Component:()=>v.createElement(Uh,{fallback:"😂",type:"haha"}),name:"Joy"},{type:"like",Component:()=>v.createElement(Uh,{fallback:"👍",type:"like"}),name:"Thumbs up"},{type:"love",Component:()=>v.createElement(Uh,{fallback:"❤️",type:"love"}),name:"Heart"},{type:"sad",Component:()=>v.createElement(Uh,{fallback:"😔",type:"sad"}),name:"Sad"},{type:"wow",Component:()=>v.createElement(Uh,{fallback:"😲",type:"wow"}),name:"Astonished"}],Dhe=e=>{var Y;const{Avatar:t,detailedView:n=!0,handleReaction:r,latest_reactions:a,own_reactions:i,reaction_groups:s,reactionOptions:o,reverse:c=!1}=e,{Avatar:d,reactionOptions:f=fI}=xn(),{closeReactionSelectorOnClick:h,handleReaction:m,message:g}=jr(),b=`reaction-selector--${g.id}`,_=sm({id:b}),w=o??f,x=t||d||zi,k=r||m,R=a||(g==null?void 0:g.latest_reactions)||[],I=i||(g==null?void 0:g.own_reactions)||[],O=s||(g==null?void 0:g.reaction_groups)||{},[A,L]=E.useState(null),[C,T]=E.useState(null),S=E.useRef(null),j=E.useRef(null),B=E.useRef(null),H=E.useCallback((q,N)=>{j.current=q.currentTarget,L(N)},[]),U=E.useCallback(()=>{L(null),T(null)},[]);E.useEffect(()=>{var J,oe,fe;if(!A||!S.current)return;const q=(J=B.current)==null?void 0:J.getBoundingClientRect(),N=(oe=j.current)==null?void 0:oe.getBoundingClientRect(),W=bhe(S)?(fe=S.current)==null?void 0:fe.getBoundingClientRect():null;if(!q||!N||!W)return;const K=q.width===W.width||q.x<W.x?0:N.left+N.width/2-W.left-q.width/2,$=N.x-q.x+N.width/2-K;T({arrow:$,tooltip:K})},[A,S]);const z=q=>R.map(N=>{var W,K;return N.type===q?((W=N.user)==null?void 0:W.name)||((K=N.user)==null?void 0:K.id):null}).filter(Boolean),F=q=>I.find(N=>N.type===q),V=q=>{var N;return((N=R.find(W=>W.type===q&&!!W.user))==null?void 0:N.user)||void 0};return v.createElement("div",{className:Ue("str-chat__reaction-selector str-chat__message-reaction-selector str-chat-react__message-reaction-selector",{"str-chat__reaction-selector--reverse":c}),"data-testid":"reaction-selector",ref:S},!!A&&n&&v.createElement("div",{className:"str-chat__reaction-selector-tooltip",ref:B,style:{left:C==null?void 0:C.tooltip,visibility:C?"visible":"hidden"}},v.createElement("div",{className:"arrow",style:{left:C==null?void 0:C.arrow}}),(Y=z(A))==null?void 0:Y.map((q,N,W)=>v.createElement("span",{className:"latest-user-username",key:`key-${N}-${q}`},`${q}${N<W.length-1?", ":""}`))),v.createElement("ul",{className:"str-chat__message-reactions-list str-chat__message-reactions-options"},w.map(({Component:q,name:N,type:W})=>{var J;const K=V(W),$=((J=O[W])==null?void 0:J.count)??0;return v.createElement("li",{key:W},v.createElement("button",{"aria-label":`Select Reaction: ${N||W}`,className:Ue("str-chat__message-reactions-list-item str-chat__message-reactions-option",{"str-chat__message-reactions-option-selected":F(W)}),"data-testid":"select-reaction-button","data-text":W,onClick:oe=>{k(W,oe),h&&_.close()}},!!$&&n&&v.createElement("div",{className:"latest-user str-chat__message-reactions-last-user",onClick:U,onMouseEnter:oe=>H(oe,W),onMouseLeave:U},K?v.createElement(x,{image:K.image,name:K.name,size:20,user:K}):v.createElement("div",{className:"latest-user-not-found"})),v.createElement("span",{className:"str-chat__message-reaction-emoji"},v.createElement(q,null)),!!$&&n&&v.createElement("span",{className:"str-chat__message-reactions-list-item__count"},$||"")))})))},She=v.memo(Dhe),Ehe=({ReactionIcon:e})=>{const{t}=Ge("ReactionSelectorWithButton"),{isMyMessage:n,message:r}=jr(),{ReactionSelector:a=She}=xn(),i=E.useRef(null),s=`reaction-selector--${r.id}`,o=sm({id:s}),c=Du(s);return v.createElement(v.Fragment,null,v.createElement(S2,{id:s,placement:n()?"top-end":"top-start",referenceElement:i.current,trapFocus:!0},v.createElement(a,null)),v.createElement("button",{"aria-expanded":c,"aria-label":t("aria/Open Reaction Selector"),className:"str-chat__message-reactions-button","data-testid":"message-reaction-action",onClick:()=>o==null?void 0:o.toggle(),ref:i},v.createElement(e,{className:"str-chat__message-action-icon"})))},Mhe=e=>{const{ActionsIcon:t=B8,displayReplies:n=!0,handleOpenThread:r,ReactionIcon:a=Cue,theme:i="simple",ThreadIcon:s=Due}=e,{getMessageActions:o,handleOpenThread:c,initialMessage:d,message:f,threadList:h}=jr(),{t:m}=Ge("MessageOptions"),g=Du(`message-actions--${f.id}`),b=Du(`reaction-selector--${f.id}`),_=r||c,w=o(),x=w.indexOf(Sn.react)>-1,k=w.indexOf(Sn.reply)>-1&&n&&!h;return!f.type||f.type==="error"||f.type==="system"||f.type==="ephemeral"||f.status==="failed"||f.status==="sending"||d?null:v.createElement("div",{className:Ue(`str-chat__message-${i}__actions str-chat__message-options`,{"str-chat__message-options--active":g||b}),"data-testid":"message-options"},v.createElement(Mue,{ActionsIcon:t}),k&&v.createElement("button",{"aria-label":m("aria/Open Thread"),className:`str-chat__message-${i}__actions__action str-chat__message-${i}__actions__action--thread str-chat__message-reply-in-thread-button`,"data-testid":"thread-action",onClick:_},v.createElement(s,{className:"str-chat__message-action-icon"})),x&&v.createElement(Ehe,{ReactionIcon:a}))},The=v.memo(Mhe),khe=e=>{const{labelPlural:t,labelSingle:n,onClick:r,reply_count:a=0}=e,{t:i}=Ge("MessageRepliesCountButton");if(!a)return null;let s=i("replyCount",{count:a});return t&&a>1?s=`${a} ${t}`:n&&(s=`1 ${n}`),v.createElement("div",{className:"str-chat__message-replies-count-button-wrapper"},v.createElement("button",{className:"str-chat__message-replies-count-button","data-testid":"replies-count-button",onClick:r},s))},Rhe=v.memo(khe),zd=({children:e,offset:t=[0,10],placement:n="top",referenceElement:r,visible:a=!1})=>{const[i,s]=E.useState(null),{attributes:o,styles:c}=U8(r,i,{modifiers:[{name:"offset",options:{offset:t}}],placement:n});return a?v.createElement("div",{className:"str-chat__tooltip",ref:s,style:c.popper,...o.popper},e):null},U1=({onMouseEnter:e,onMouseLeave:t}={})=>{const[n,r]=E.useState(!1),a=E.useCallback(s=>{r(!0),e==null||e(s)},[e]),i=E.useCallback(s=>{r(!1),t==null||t(s)},[t]);return{handleEnter:a,handleLeave:i,tooltipVisible:n}},Ahe=e=>{var B;const{Avatar:t,MessageDeliveredStatus:n,MessageReadStatus:r,MessageSendingStatus:a,messageType:i="simple",tooltipUserNameMapper:s=tle}=e,{handleEnter:o,handleLeave:c,tooltipVisible:d}=U1(),{client:f}=Yt("MessageStatus"),{Avatar:h}=xn(),{isMyMessage:m,lastReceivedId:g,message:b,readBy:_,threadList:w}=jr(),{t:x}=Ge("MessageStatus"),[k,R]=E.useState(null),I=t||h||zi;if(!m()||b.type==="error")return null;const O=(_==null?void 0:_.length)===1&&_[0].id===((B=f.user)==null?void 0:B.id),A=`str-chat__message-${i}-status str-chat__message-status`,L=b.status==="sending",C=b.status==="received"&&b.id===g&&!w,T=!!(_!=null&&_.length&&!w&&!O),S=T?_.filter(H=>{var U;return H.id!==((U=f.user)==null?void 0:U.id)}):[],[j]=S;return v.createElement("span",{className:A,"data-testid":Ue({"message-status-read-by":T,"message-status-received":C&&!T,"message-status-sending":L}),onMouseEnter:o,onMouseLeave:c,ref:R},L&&(a?v.createElement(a,null):v.createElement(v.Fragment,null,v.createElement(zd,{offset:[0,5],referenceElement:k,visible:d},x("Sending...")),v.createElement(Fu,null))),C&&!T&&(n?v.createElement(n,null):v.createElement(v.Fragment,null,v.createElement(zd,{offset:[0,5],referenceElement:k,visible:d},x("Delivered")),v.createElement(Sue,null))),T&&(r?v.createElement(r,null):v.createElement(v.Fragment,null,v.createElement(zd,{offset:[0,5],referenceElement:k,visible:d},nle(_,x,f,s)),v.createElement(I,{className:"str-chat__avatar--message-status",image:j.image,name:j.name||j.id,user:j}),S.length>1&&v.createElement("span",{className:`str-chat__message-${i}-status-number`,"data-testid":"message-status-read-by-many"},S.length))))},Ohe=v.memo(Ahe),Lhe=e=>({enforce_unique_vote:e.enforce_unique_vote,is_closed:e.is_closed,max_votes_allowed:e.max_votes_allowed,name:e.name,options:e.options}),Nhe=()=>{const{t:e}=Ge("PollHeader"),{poll:t}=ui(),{enforce_unique_vote:n,is_closed:r,max_votes_allowed:a,name:i,options:s}=On(t.state,Lhe),o=E.useMemo(()=>r?e("Vote ended"):n||s.length===1?e("Select one"):a?e("Select up to {{count}}",{count:a>s.length?s.length:a}):s.length>1?e("Select one or more"):"",[r,n,a,s.length,e]);if(i)return v.createElement("div",{className:"str-chat__poll-header"},v.createElement("div",{className:"str-chat__poll-title"},i),v.createElement("div",{className:"str-chat__poll-subtitle"},o))},B1=({className:e,text:t,...n})=>v.createElement("div",{...n,className:Ue("str-chat__form-field-error",e)},t),hI=({className:e,close:t,fields:n,onSubmit:r,shouldDisableSubmitButton:a,title:i})=>{const{t:s}=Ge(),[o,c]=E.useState({}),[d,f]=E.useState(()=>{let g={};for(const[b,_]of Object.entries(n))g={...g,[b]:_.props.value};return g}),h=E.useCallback(g=>{var x;const b=g.target.id,_=n[b];if(!_)return;const w=(x=_.validator)==null?void 0:x.call(_,g.target.value);c(w?k=>({[b]:w,...k}):k=>(delete k[b],k)),f(k=>({...k,[b]:g.target.value})),_.props.onChange&&(_.element==="input"||_.element==="textarea")&&_.props.onChange(g)},[n]),m=async()=>{var b,_;if(!Object.keys(d).length)return;const g={};for(const[w,x]of Object.entries(d)){const k=(_=(b=n[w]).validator)==null?void 0:_.call(b,x);k&&(g[w]=k)}if(Object.keys(g).length){c(g);return}await r(d),t()};return v.createElement("div",{className:Ue("str-chat__dialog str-chat__dialog--form",e)},v.createElement("div",{className:"str-chat__dialog__body"},i&&v.createElement("div",{className:"str-chat__dialog__title"},i),v.createElement("form",{autoComplete:"off",onSubmit:g=>{g.preventDefault(),m()}},Object.entries(n).map(([g,b])=>{var _;return v.createElement("div",{className:"str-chat__dialog__field",key:`dialog-field-${g}`},b.label&&v.createElement("label",{className:Ue(`str-chat__dialog__title str-chat__dialog__title--${g}`),htmlFor:g},b.label),v.createElement(b.element,{id:g,...b.props,onChange:h,value:d[g]}),v.createElement(B1,{text:(_=o[g])==null?void 0:_.message}))}),v.createElement("div",{className:"str-chat__dialog__controls"},v.createElement("button",{className:"str-chat__dialog__controls-button str-chat__dialog__controls-button--cancel",onClick:t},s("Cancel")),v.createElement("button",{className:"str-chat__dialog__controls-button str-chat__dialog__controls-button--submit",disabled:Object.keys(o).length>0||(a==null?void 0:a(d)),type:"submit"},s("Send"))))))},Phe=e=>({ownAnswer:e.ownAnswer}),Ihe=({close:e,messageId:t})=>{const{t:n}=Ge("AddCommentForm"),{poll:r}=ui(),{ownAnswer:a}=On(r.state,Phe);return v.createElement(hI,{className:"str-chat__prompt-dialog str-chat__modal__poll-add-comment",close:e,fields:{comment:{element:"input",props:{id:"comment",name:"comment",required:!0,type:"text",value:(a==null?void 0:a.answer_text)??""}}},onSubmit:async i=>{await r.addAnswer(i.comment,t)},shouldDisableSubmitButton:i=>!i.comment||i.comment===(a==null?void 0:a.answer_text),title:n(a?"Update your comment":"Add a comment")})},Fhe=({actions:e,className:t,prompt:n,title:r})=>v.createElement("div",{className:Ue("str-chat__dialog str-chat__dialog--prompt",t)},v.createElement("div",{className:"str-chat__dialog__body"},r&&v.createElement("div",{className:"str-chat__dialog__title"},r),v.createElement("div",{className:"str-chat__dialog__prompt"},n)),v.createElement("div",{className:"str-chat__dialog__controls"},e.map(({className:a,...i},s)=>v.createElement("button",{className:Ue("str-chat__dialog__controls-button",a),key:`prompt-dialog__controls-button--${s}`,...i})))),jhe=({close:e})=>{const{t}=Ge("SuggestPollOptionForm"),{poll:n}=ui();return v.createElement(Fhe,{actions:[{children:t("Cancel"),className:"str-chat__dialog__controls-button--cancel",onClick:e},{children:t("End"),className:".str-chat__dialog__controls-button--submit str-chat__dialog__controls-button--end-poll",onClick:n.close}],className:"str-chat__modal__end-vote",prompt:t("Nobody will be able to vote in this poll anymore."),title:t("End vote")})},xd=({buttonText:e,children:t,closeModal:n,modalClassName:r,modalIsOpen:a,openModal:i})=>v.createElement(v.Fragment,null,v.createElement("button",{className:"str-chat__poll-action",onClick:i},e),v.createElement(Uu,{className:r,onClose:n,open:a},t)),Uhe=e=>({options:e.options}),Bhe=({close:e,messageId:t})=>{const{client:n}=Yt("SuggestPollOptionForm"),{t:r}=Ge("SuggestPollOptionForm"),{poll:a}=ui(),{options:i}=On(a.state,Uhe);return v.createElement(hI,{className:"str-chat__prompt-dialog str-chat__modal__suggest-poll-option",close:e,fields:{optionText:{element:"input",props:{id:"optionText",name:"optionText",required:!0,type:"text",value:""},validator:s=>{if(!s)return;if(i.find(c=>c.text===s.trim()))return new Error(r("Option already exists"))}}},onSubmit:async s=>{const{poll_option:o}=await n.createPollOption(a.id,{text:s.optionText});a.castVote(o.id,t)},shouldDisableSubmitButton:s=>!s.optionText,title:r("Suggest an option")})},$p=({className:e,close:t,goBack:n,title:r})=>v.createElement("div",{className:Ue("str-chat__modal-header",e)},n&&v.createElement("button",{className:"str-chat__modal-header__go-back-button",onClick:n}),v.createElement("div",{className:"str-chat__modal-header__title"},r),t&&v.createElement("button",{className:"str-chat__modal-header__close-button",onClick:t})),$he=({timestamp:e})=>{const{t}=Ge(),{handleEnter:n,handleLeave:r,tooltipVisible:a}=U1(),[i,s]=E.useState(null),o=new Date(e);return v.createElement("div",{className:"str-chat__poll-vote__timestamp",onMouseEnter:n,onMouseLeave:r,ref:s},t("timestamp/PollVote",{timestamp:o}),v.createElement(zd,{offset:[0,5],placement:"bottom",referenceElement:i,visible:a},t("timestamp/PollVoteTooltip",{timestamp:o})))},zhe=({vote:e})=>{var d,f,h;const{t}=Ge(),{client:n}=Yt(),{handleEnter:r,handleLeave:a,tooltipVisible:i}=U1(),[s,o]=E.useState(null),c=(d=n.user)!=null&&d.id&&n.user.id===((f=e.user)==null?void 0:f.id)?t("You"):((h=e.user)==null?void 0:h.name)||t("Anonymous");return v.createElement("div",{className:"str-chat__poll-vote__author",onMouseEnter:r,onMouseLeave:a,ref:o},e.user&&v.createElement(zi,{className:"str-chat__avatar--poll-vote-author",image:e.user.image,key:`poll-vote-${e.id}-avatar-${e.user.id}`,name:e.user.name}),v.createElement("div",{className:"str-chat__poll-vote__author__name"},c),v.createElement(zd,{offset:[0,5],placement:"bottom",referenceElement:s,visible:i},c))},pI=({vote:e})=>v.createElement("div",{className:"str-chat__poll-vote"},v.createElement(zhe,{vote:e}),v.createElement($he,{timestamp:e.created_at})),mI=({votes:e})=>v.createElement("div",{className:"str-chat__poll-vote-listing"},e.map(t=>v.createElement(pI,{key:`poll-vote-${t.id}`,vote:t})));function gI(e,t,n){const{client:r}=Yt(),[a,i]=E.useState((t==null?void 0:t.getLatestValue().items)??[]);return E.useEffect(()=>t==null?void 0:t.subscribeWithSelector(s=>[s.latestPageItems],([s])=>i(o=>[...o,...s])),[t]),E.useEffect(()=>{const s=f=>{if(!f.poll_vote)return;const h=fl(f.poll_vote);e==="answer"&&!h||e==="vote"&&(h||f.poll_vote.option_id!==n)||(f.type==="poll.vote_removed"&&i(m=>f.poll_vote?m.filter(g=>g.id!==f.poll_vote.id):m),f.type==="poll.vote_changed"&&i(m=>f.poll_vote?m.filter(g=>g.id!==f.poll_vote.id):m),["poll.vote_casted","poll.vote_changed"].includes(f.type)&&i(m=>f.poll_vote?[f.poll_vote,...m]:m))},o=r.on("poll.vote_casted",s),c=r.on("poll.vote_removed",s),d=r.on("poll.vote_changed",s);return()=>{o.unsubscribe(),c.unsubscribe(),d.unsubscribe()}},[r,n,e]),a}const yI=(e,t)=>{const n=E.useMemo(()=>new ka({hasNextPage:!0,items:[],latestPageItems:[],loading:!1}),[]),r=E.useCallback(async()=>{const{loading:a,next:i}=n.getLatestValue();if(!(i===null||a)){n.partialNext({loading:!0});try{const{items:s,next:o}=await e(i);n.next(c=>({...c,hasNextPage:!!o,items:R1(c.items.concat(s),"id"),latestPageItems:s,next:o||null}))}catch(s){n.partialNext({error:s})}n.partialNext({loading:!1})}},[n,e]);return E.useEffect(()=>{const{items:a}=n.getLatestValue();a.length||r()},[n,t,r]),{cursorPaginatorState:n,loadMore:r}},Hhe=e=>[e.error,e.hasNextPage,e.loading],Vhe=({paginationParams:e}={})=>{const{poll:t}=ui(),n=E.useCallback(async d=>{const{next:f,votes:h}=await t.queryAnswers({filter:e==null?void 0:e.filter,options:d?{...e==null?void 0:e.options,next:d}:e==null?void 0:e.options,sort:{created_at:-1,...e==null?void 0:e.sort}});return{items:h,next:f}},[e,t]),{cursorPaginatorState:r,loadMore:a}=yI(n,!0),i=gI("answer",r),[s,o,c]=On(r,Hhe);return{answers:i,error:s,hasNextPage:o,loading:c,loadMore:a}},qhe=e=>[e.error,e.hasNextPage,e.loading],Yhe=({paginationParams:e})=>{const{poll:t}=ui(),n=E.useCallback(async d=>{const{next:f,votes:h}=await t.queryOptionVotes({filter:e.filter,options:d?{...e==null?void 0:e.options,next:d}:e==null?void 0:e.options,sort:{created_at:-1,...e==null?void 0:e.sort}});return{items:h,next:f}},[e,t]),{cursorPaginatorState:r,loadMore:a}=yI(n,!0),i=gI("vote",r,e.filter.option_id),[s,o,c]=On(r,qhe);return{error:s,hasNextPage:o,loading:c,loadMore:a,votes:i}},r4=e=>{e instanceof WheelEvent&&e.deltaY===1&&e.preventDefault()},A2=e=>{const{children:t,className:n,listenToScroll:r,loadNextDebounceMs:a=500,loadNextOnScrollToBottom:i,loadNextOnScrollToTop:s,threshold:o=GS,useCapture:c=!1,...d}=e,f=E.useRef(null),h=E.useRef(null),m=E.useMemo(()=>nf(()=>{const g=f.current,b=h.current;if(!g||g.offsetParent===null||!b)return;const _=b.scrollHeight-g.scrollTop-g.clientHeight,w=g.scrollTop;r&&r(_,w,o),w<Number(o)&&(s==null||s()),_<Number(o)&&(i==null||i())},a),[r,a,i,s,o]);return E.useEffect(()=>{const g=f.current;if(g)return g.addEventListener("scroll",m,c),()=>{g.removeEventListener("scroll",m,c)}},[m,c]),E.useEffect(()=>{const g=f.current;if(!g||typeof ResizeObserver>"u"||!m)return;const b=new ResizeObserver(m);return b.observe(g),()=>{b.disconnect()}},[m]),E.useEffect(()=>{const g=f.current;return g&&g.addEventListener("wheel",r4,{passive:!1}),()=>{g&&g.removeEventListener("wheel",r4,c)}},[c]),v.createElement("div",{...d,className:Ue("str-chat__infinite-scroll-paginator",n),ref:f},v.createElement("div",{className:"str-chat__infinite-scroll-paginator__content",ref:h},t))},Whe=e=>({is_closed:e.is_closed,ownAnswer:e.ownAnswer}),Ghe=({close:e,onUpdateOwnAnswerClick:t})=>{const{t:n}=Ge(),{poll:r}=ui(),{is_closed:a,ownAnswer:i}=On(r.state,Whe),{answers:s,error:o,hasNextPage:c,loading:d,loadMore:f}=Vhe();return v.createElement("div",{className:"str-chat__modal__poll-answer-list"},v.createElement($p,{close:e,title:n("Poll comments")}),v.createElement("div",{className:"str-chat__modal__poll-answer-list__body"},v.createElement(A2,{loadNextOnScrollToBottom:f,threshold:40},v.createElement("div",{className:"str-chat__poll-answer-list"},s.map(h=>v.createElement("div",{className:"str-chat__poll-answer",key:`comment-${h.id}`},h.answer_text&&v.createElement("p",{className:"str-chat__poll-answer__text"},h.answer_text),v.createElement(pI,{key:`poll-vote-${h.id}`,vote:h})))),c&&v.createElement("div",{className:"str-chat__loading-indicator-placeholder"},d&&v.createElement(Fu,null))),(o==null?void 0:o.message)&&v.createElement("div",null,o==null?void 0:o.message)),s.length>0&&!a&&v.createElement("button",{className:"str-chat__poll-action",onClick:t},n(i?"Update your comment":"Add a comment")))},Khe=({amount:e,className:t})=>v.createElement("div",{className:Ue("str-chat__amount-bar",t),"data-testid":"amount-bar",role:"progressbar",style:{"--str-chat__amount-bar-fulfillment":e+"%"}}),Qhe=({checked:e})=>v.createElement("div",{className:Ue("str-chat__checkmark",{"str-chat__checkmark--checked":e})}),Zhe=e=>({is_closed:e.is_closed,latest_votes_by_option:e.latest_votes_by_option,maxVotedOptionIds:e.maxVotedOptionIds,ownVotesByOptionId:e.ownVotesByOptionId,vote_counts_by_option:e.vote_counts_by_option,voting_visibility:e.voting_visibility}),Xhe=({displayAvatarCount:e,option:t,voteCountVerbose:n})=>{const{t:r}=Ge(),{channelCapabilities:a={}}=Zn("PollOptionsShortlist"),{message:i}=jr(),{poll:s}=ui(),{is_closed:o,latest_votes_by_option:c,maxVotedOptionIds:d,ownVotesByOptionId:f,vote_counts_by_option:h,voting_visibility:m}=On(s.state,Zhe),g=a["cast-poll-vote"]&&!o,b=d[0]?h[d[0]]:0,_=E.useMemo(()=>nf(()=>g?!!f[t.id]?s.removeVote(f[t.id].id,i.id):s.castVote(t.id,i.id):void 0,100),[g,i.id,t.id,f,s]);return v.createElement("div",{className:Ue("str-chat__poll-option",{"str-chat__poll-option--votable":g}),key:`base-poll-option-${t.id}`,onClick:_},g&&v.createElement(Qhe,{checked:!!f[t.id]}),v.createElement("div",{className:"str-chat__poll-option-data"},v.createElement("p",{className:"str-chat__poll-option-text"},t.text),e&&m==="public"&&v.createElement("div",{className:"str-chat__poll-option-voters"},(c==null?void 0:c[t.id])&&c[t.id].filter(w=>!!w.user&&!fl(w)).slice(0,e).map(({user:w})=>v.createElement(zi,{image:w==null?void 0:w.image,key:`poll-option-${t.id}-avatar-${w==null?void 0:w.id}`,name:w==null?void 0:w.name}))),v.createElement("div",{className:"str-chat__poll-option-vote-count"},n?r("{{count}} votes",{count:h[t.id]??0}):h[t.id]??0)),v.createElement(Khe,{amount:(b&&(h[t.id]??0)/b)*100,className:Ue("str-chat__poll-option__votes-bar",{"str-chat__poll-option__votes-bar--winner":o&&d.length===1&&d[0]===t.id})}))},Jhe=e=>({options:e.options}),vI=({optionsDisplayCount:e})=>{const{PollOptionSelector:t=Xhe}=xn(),{poll:n}=ui(),{options:r}=On(n.state,Jhe);return v.createElement("div",{className:Ue("str-chat__poll-option-list",{"str-chat__poll-option-list--full":typeof e>"u"})},r.slice(0,e??r.length).map(a=>v.createElement(t,{displayAvatarCount:3,key:`poll-option-${a.id}`,option:a})))},epe=e=>({name:e.name}),tpe=({close:e})=>{const{t}=Ge(),{poll:n}=ui(),{name:r}=On(n.state,epe);return v.createElement("div",{className:"str-chat__modal__poll-option-list"},v.createElement($p,{close:e,title:t("Poll options")}),v.createElement("div",{className:"str-chat__modal__poll-option-list__body"},v.createElement("div",{className:"str-chat__modal__poll-option-list__title"},r),v.createElement(vI,null)))},npe=e=>({maxVotedOptionIds:e.maxVotedOptionIds,vote_counts_by_option:e.vote_counts_by_option}),rpe=({optionId:e})=>{const{t}=Ge(),{poll:n}=ui(),{maxVotedOptionIds:r,vote_counts_by_option:a}=On(n.state,npe);return v.createElement("div",{className:"str-chat__poll-result-option-vote-counter"},r.length===1&&r[0]===e&&v.createElement("div",{className:"str-chat__poll-result-winning-option-icon"}),v.createElement("span",{className:"str-chat__poll-result-option-vote-count"},t("{{count}} votes",{count:a[e]??0})))},bI=({option:e})=>v.createElement("div",{className:"str-chat__poll-option__header"},v.createElement("div",{className:"str-chat__poll-option__option-text"},e.text),v.createElement(rpe,{optionId:e.id})),ape=({option:e})=>{const t=E.useMemo(()=>({filter:{option_id:e.id}}),[e.id]),{error:n,hasNextPage:r,loading:a,loadMore:i,votes:s}=Yhe({paginationParams:t});return v.createElement("div",{className:"str-chat__poll-option str-chat__poll-option--full-vote-list"},v.createElement(bI,{option:e}),v.createElement(A2,{loadNextOnScrollToBottom:i,threshold:40},v.createElement(mI,{votes:s}),r&&v.createElement("div",{className:"str-chat__loading-indicator-placeholder"},a&&v.createElement(Fu,null))),n&&n.message)},ipe=e=>({latest_votes_by_option:e.latest_votes_by_option}),spe=({countVotesPreview:e=5,option:t,showAllVotes:n})=>{const{t:r}=Ge(),{channelCapabilities:a={}}=Zn("PollOptionWithLatestVotes"),{poll:i}=ui(),{latest_votes_by_option:s}=On(i.state,ipe),o=s&&s[t.id];return v.createElement("div",{className:"str-chat__poll-option"},v.createElement(bI,{option:t}),o&&v.createElement(mI,{votes:o.slice(0,e)}),a["query-poll-votes"]&&n&&(o==null?void 0:o.length)>e&&v.createElement("button",{className:"str-chat__poll-option__show-all-votes-button",onClick:n},r("Show all")))},ope=e=>({name:e.name,options:[...e.options],vote_counts_by_option:e.vote_counts_by_option}),lpe=({close:e})=>{const{t}=Ge(),{poll:n}=ui(),{name:r,options:a,vote_counts_by_option:i}=On(n.state,ope),[s,o]=E.useState(),c=E.useCallback(()=>o(void 0),[]);return v.createElement("div",{className:Ue("str-chat__modal__poll-results",{"str-chat__modal__poll-results--option-detail":s})},s?v.createElement(v.Fragment,null,v.createElement($p,{close:e,goBack:c,title:s.text}),v.createElement("div",{className:"str-chat__modal__poll-results__body"},v.createElement(ape,{key:`poll-option-detail-${s.id}`,option:s}))):v.createElement(v.Fragment,null,v.createElement($p,{close:e,title:t("Poll results")}),v.createElement("div",{className:"str-chat__modal__poll-results__body"},v.createElement("div",{className:"str-chat__modal__poll-results__title"},r),v.createElement("div",{className:"str-chat__modal__poll-results__option-list"},a.sort((d,f)=>(i[f.id]??0)>=(i[d.id]??0)?1:-1).map(d=>v.createElement(spe,{key:`poll-option-${d.id}`,option:d,showAllVotes:()=>o(d)}))))))},cpe=100,_I=10,upe=e=>({allow_answers:e.allow_answers,allow_user_suggested_options:e.allow_user_suggested_options,answers_count:e.answers_count,created_by_id:e.created_by_id,is_closed:e.is_closed,options:e.options,ownAnswer:e.ownAnswer}),dpe=({AddCommentForm:e=Ihe,EndPollDialog:t=jhe,PollAnswerList:n=Ghe,PollOptionsFullList:r=tpe,PollResults:a=lpe,SuggestPollOptionForm:i=Bhe})=>{var A;const{client:s}=Yt(),{t:o}=Ge("PollActions"),{channelCapabilities:c={}}=Zn("PollActions"),{message:d}=jr(),{poll:f}=ui(),{allow_answers:h,allow_user_suggested_options:m,answers_count:g,created_by_id:b,is_closed:_,options:w,ownAnswer:x}=On(f.state,upe),[k,R]=E.useState(),I=E.useCallback(()=>R(void 0),[]),O=E.useCallback(()=>R("add-comment"),[]);return v.createElement("div",{className:"str-chat__poll-actions"},w.length>_I&&v.createElement(xd,{buttonText:o("See all options ({{count}})",{count:w.length}),closeModal:I,modalIsOpen:k==="view-all-options",openModal:()=>R("view-all-options")},v.createElement(r,{close:I})),!_&&m&&w.length<cpe&&v.createElement(xd,{buttonText:o("Suggest an option"),closeModal:I,modalClassName:"str-chat__suggest-poll-option-modal",modalIsOpen:k==="suggest-option",openModal:()=>R("suggest-option")},v.createElement(i,{close:I,messageId:d.id})),!_&&h&&v.createElement(xd,{buttonText:o(x?"Update your comment":"Add a comment"),closeModal:I,modalClassName:"str-chat__add-poll-answer-modal",modalIsOpen:k==="add-comment",openModal:()=>R("add-comment")},v.createElement(e,{close:I,messageId:d.id})),g>0&&c["query-poll-votes"]&&v.createElement(xd,{buttonText:o("View {{count}} comments",{count:g}),closeModal:I,modalClassName:"str-chat__poll-answer-list-modal",modalIsOpen:k==="view-comments",openModal:()=>R("view-comments")},v.createElement(n,{close:I,onUpdateOwnAnswerClick:O})),v.createElement(xd,{buttonText:o("View results"),closeModal:I,modalClassName:"str-chat__poll-results-modal",modalIsOpen:k==="view-results",openModal:()=>R("view-results")},v.createElement(a,{close:I})),!_&&b===((A=s.user)==null?void 0:A.id)&&v.createElement(xd,{buttonText:o("End vote"),closeModal:I,modalClassName:"str-chat__end-poll-modal",modalIsOpen:k==="end-vote",openModal:()=>R("end-vote")},v.createElement(t,{close:I})))},fpe=e=>({is_closed:e.is_closed}),hpe=()=>{const{PollActions:e=dpe,PollHeader:t=Nhe}=xn(),{poll:n}=ui(),{is_closed:r}=On(n.state,fpe);return v.createElement("div",{className:Ue("str-chat__poll",{"str-chat__poll--closed":r})},v.createElement(t,null),v.createElement(vI,{optionsDisplayCount:_I}),v.createElement(e,null))},ppe=e=>({is_closed:e.is_closed,name:e.name}),mpe=()=>{const{poll:e}=ui(),{is_closed:t,name:n}=On(e.state,ppe);return v.createElement("div",{className:Ue("str-chat__quoted-poll-preview",{"str-chat__quoted-poll-preview--closed":t})},v.createElement("div",{className:"str-chat__quoted-poll-preview__icon"},"📊"),v.createElement("div",{className:"str-chat__quoted-poll-preview__name"},n))},O2=({isQuoted:e,poll:t})=>{const{PollContent:n=hpe,QuotedPoll:r=mpe}=xn();return t?v.createElement(GJ,{poll:t},e?v.createElement(r,null):v.createElement(n,null)):null},gpe=({children:e,...t})=>{const n=E.useRef(null),r=a=>{![" ","Enter"].includes(a.key)||!n.current||(a.preventDefault(),n.current.click())};return v.createElement("div",{className:"str-chat__form__field str-chat__form__switch-field"},v.createElement("label",null,v.createElement("div",{className:"str-chat__form__field str-chat__form__switch-field-content"},e),v.createElement("input",{type:"checkbox",...t,ref:n}),v.createElement("div",{className:Ue("str-chat__form__switch-field__switch",{"str-chat__form__switch-field__switch--on":t.checked}),onKeyUp:r,tabIndex:0},v.createElement("div",{className:"str-chat__form__switch-field__switch-handle"}))))},Iy=({labelText:e,...t})=>v.createElement(gpe,{...t},v.createElement("div",{className:"str-chat__form__field str-chat__form__switch-field__text"},e)),ype=e=>({enforce_unique_vote:e.data.enforce_unique_vote,error:e.errors.max_votes_allowed,max_votes_allowed:e.data.max_votes_allowed}),vpe=()=>{const{t:e}=Ge(),{pollComposer:t}=Mr(),{enforce_unique_vote:n,error:r,max_votes_allowed:a}=On(t.state,ype);return v.createElement("div",{className:Ue("str-chat__form__expandable-field",{"str-chat__form__expandable-field--expanded":!n})},v.createElement(Iy,{checked:!n,id:"enforce_unique_vote",labelText:e("Multiple answers"),onChange:i=>{t.updateFields({enforce_unique_vote:!i.target.checked})}}),!n&&v.createElement("div",{className:Ue("str-chat__form__input-field",{"str-chat__form__input-field--has-error":r})},v.createElement("div",{className:Ue("str-chat__form__input-field__value")},v.createElement(B1,{className:"str-chat__form__input-field__error","data-testid":"poll-max-votes-allowed-input-field-error",text:r&&e(r)}),v.createElement("input",{id:"max_votes_allowed",onBlur:()=>{t.handleFieldBlur("max_votes_allowed")},onChange:i=>{const s=i.target.validity.valid?void 0:{max_votes_allowed:e("Only numbers are allowed")};t.updateFields({max_votes_allowed:s?t.max_votes_allowed:i.target.value},s)},placeholder:e("Maximum number of votes (from 2 to 10)"),type:"number",value:a}))))},bpe=e=>({error:e.errors.name,name:e.data.name}),_pe=()=>{const{t:e}=Ge(),{pollComposer:t}=Mr(),{error:n,name:r}=On(t.state,bpe);return v.createElement("div",{className:Ue("str-chat__form__field str-chat__form__input-field str-chat__form__input-field--with-label",{"str-chat__form__input-field--has-error":n})},v.createElement("label",{className:"str-chat__form__field-label",htmlFor:"name"},e("Question")),v.createElement("div",{className:Ue("str-chat__form__input-field__value")},v.createElement(B1,{className:"str-chat__form__input-field__error","data-testid":"poll-name-input-field-error",text:n&&e(n)}),v.createElement("input",{id:"name",onBlur:()=>{t.handleFieldBlur("name")},onChange:a=>{t.updateFields({name:a.target.value})},placeholder:e("Ask a question"),type:"text",value:r})))},wpe=({children:e,className:t,draggable:n,onSetNewOrder:r})=>{const[a,i]=E.useState([]),[s,o]=E.useState(null),[c,d]=E.useState(null),[f,h]=E.useState(null),m=s===null||c===null?void 0:s<=c?"down":"up",g=v.Children.toArray(e);return E.useEffect(()=>{i(v.Children.map(e,(b,_)=>_)||[])},[e]),E.useEffect(()=>{if(!f)return;const b=R=>{var A,L;const O=R.target.closest(".str-chat__drag-and-drop-container__item");if(R.dataTransfer&&(R.dataTransfer.effectAllowed="move"),O instanceof HTMLElement){const C=Array.from(((A=O.parentElement)==null?void 0:A.children)||[]).indexOf(O);o(C),(L=R.dataTransfer)==null||L.setData("text/plain",C.toString()),O.style.opacity="0.3"}},_=R=>{var A;R.preventDefault();const O=R.target.closest(".str-chat__drag-and-drop-container__item");if(O instanceof HTMLElement){const L=Array.from(((A=O.parentElement)==null?void 0:A.children)||[]).indexOf(O);d(L)}},w=()=>{d(null)},x=R=>{var L,C;R.preventDefault();const I=parseInt(((L=R.dataTransfer)==null?void 0:L.getData("text/plain"))||"-1",10),A=R.target.closest(".str-chat__drag-and-drop-container__item");if(A instanceof HTMLElement){const T=Array.from(((C=A.parentElement)==null?void 0:C.children)||[]).indexOf(A);I!==-1&&I!==T&&i(S=>{const j=[...S],[B]=j.splice(I,1);return j.splice(T,0,B),r==null||r(j),j})}o(null),d(null)},k=R=>{const I=R.target;I instanceof HTMLElement&&(I.style.opacity=""),o(null),d(null)};return f.addEventListener("dragstart",b),f.addEventListener("dragover",_),f.addEventListener("dragleave",w),f.addEventListener("drop",x),f.addEventListener("dragend",k),()=>{f.removeEventListener("dragstart",b),f.removeEventListener("dragover",_),f.removeEventListener("dragleave",w),f.removeEventListener("drop",x),f.removeEventListener("dragend",k)}},[f,r]),v.createElement("div",{className:Ue("str-chat__drag-and-drop-container",t),ref:h},a.map((b,_)=>{const w=g[b];return v.createElement("div",{className:Ue("str-chat__drag-and-drop-container__item",{"str-chat__drag-and-drop-container__item--dragged-over-from-bottom":m==="up"&&c===_,"str-chat__drag-and-drop-container__item--dragged-over-from-top":m==="down"&&c===_}),draggable:n,key:v.isValidElement(w)?w.key:`draggable-item-${b}`},w)}))},xpe=e=>({errors:e.errors.options,options:e.data.options}),Cpe=()=>{const{pollComposer:e}=Mr(),{errors:t,options:n}=On(e.state,xpe),{t:r}=Ge("OptionFieldSet"),a=E.useCallback(s=>{const o=e.options;e.updateFields({options:s.map(c=>o[c])})},[e]),i=n.length>1;return v.createElement("fieldset",{className:"str-chat__form__field str-chat__form__input-fieldset"},v.createElement("legend",{className:"str-chat__form__field-label"},r("Options")),v.createElement(wpe,{className:"str-chat__form__input-fieldset__values",draggable:i,onSetNewOrder:a},n.map((s,o)=>{const c=t==null?void 0:t[s.id];return v.createElement("div",{className:Ue("str-chat__form__input-field",{"str-chat__form__input-field--draggable":i,"str-chat__form__input-field--has-error":c}),key:`new-poll-option-${o}`},v.createElement("div",{className:"str-chat__form__input-field__value"},v.createElement(B1,{className:"str-chat__form__input-field__error","data-testid":"poll-option-input-field-error",text:c&&r(c)}),v.createElement("input",{id:s.id,onBlur:()=>{e.handleFieldBlur("options")},onChange:d=>{e.updateFields({options:{index:o,text:d.target.value}})},onKeyUp:d=>{var f;if(d.key==="Enter"){const h=n[o+1].id;(f=document.getElementById(h))==null||f.focus()}},placeholder:r("Add an option"),type:"text",value:s.text})),i&&v.createElement("div",{className:"str-chat__drag-handle"}))})))},Dpe=({close:e})=>{const{t}=Ge("PollCreationDialogControls"),{handleSubmit:n}=to(),r=Mr(),a=WDe();return v.createElement("div",{className:"str-chat__dialog__controls"},v.createElement("button",{className:"str-chat__dialog__controls-button str-chat__dialog__controls-button--cancel",onClick:()=>{r.pollComposer.initState(),e()}},t("Cancel")),v.createElement("button",{className:"str-chat__dialog__controls-button str-chat__dialog__controls-button--submit",disabled:!a,onClick:()=>{r.createPoll().then(()=>n()).then(e).catch(console.error)},type:"submit"},t("Create")))},Spe=e=>({allow_answers:e.data.allow_answers,allow_user_suggested_options:e.data.allow_user_suggested_options,voting_visibility:e.data.voting_visibility}),Epe=({close:e})=>{const{t}=Ge(),{pollComposer:n}=Mr(),{allow_answers:r,allow_user_suggested_options:a,voting_visibility:i}=On(n.state,Spe),s=E.useCallback(()=>{n.initState(),e()},[n,e]);return v.createElement("div",{className:"str-chat__dialog str-chat__poll-creation-dialog","data-testid":"poll-creation-dialog"},v.createElement($p,{close:s,title:t("Create poll")}),v.createElement("div",{className:"str-chat__dialog__body"},v.createElement("form",{autoComplete:"off"},v.createElement(_pe,null),v.createElement(Cpe,null),v.createElement(vpe,null),v.createElement(Iy,{checked:i==="anonymous",id:"voting_visibility",labelText:t("Anonymous poll"),onChange:o=>n.updateFields({voting_visibility:o.target.checked?_C.anonymous:_C.public})}),v.createElement(Iy,{checked:a,id:"allow_user_suggested_options",labelText:t("Allow option suggestion"),onChange:o=>n.updateFields({allow_user_suggested_options:o.target.checked})}),v.createElement(Iy,{checked:r,id:"allow_answers",labelText:t("Allow comments"),onChange:o=>n.updateFields({allow_answers:o.target.checked})}))),v.createElement(Dpe,{close:e}))},Mpe=({renderText:e})=>{var k,R,I;const{Attachment:t=H2,Avatar:n}=xn(),{client:r}=Yt(),{isMyMessage:a,message:i,renderText:s}=jr(),{t:o,userLanguage:c}=Ge("QuotedMessage"),{jumpToMessage:d}=Ya("QuotedMessage"),f=e??s??R2,h=n||zi,{quoted_message:m}=i,g=(m==null?void 0:m.poll_id)&&r.polls.fromState(m.poll_id),b=(m==null?void 0:m.deleted_at)||(m==null?void 0:m.type)==="deleted",_=b?o("This message was deleted..."):((k=m==null?void 0:m.i18n)==null?void 0:k[`${c}_text`])||(m==null?void 0:m.text),w=(R=m==null?void 0:m.attachments)!=null&&R.length&&!b?m.attachments[0]:null,x=E.useMemo(()=>f(_,m==null?void 0:m.mentioned_users),[_,m==null?void 0:m.mentioned_users,f]);return!m||!m.poll&&!_&&!w?null:v.createElement(v.Fragment,null,v.createElement("div",{className:Ue("str-chat__quoted-message-preview",{mine:a()}),"data-testid":"quoted-message",onClickCapture:O=>{O.stopPropagation(),O.preventDefault(),d(m.id)}},m.user&&v.createElement(h,{className:"str-chat__avatar--quoted-message-sender",image:m.user.image,name:m.user.name||m.user.id,user:m.user}),v.createElement("div",{className:"str-chat__quoted-message-bubble","data-testid":"quoted-message-contents"},g?v.createElement(O2,{isQuoted:!0,poll:g}):v.createElement(v.Fragment,null,w&&v.createElement(t,{attachments:[w],isQuoted:!0}),v.createElement("div",{className:"str-chat__quoted-message-bubble__text","data-testid":"quoted-message-text"},x)))),(I=i.attachments)!=null&&I.length?v.createElement(t,{attachments:i.attachments}):null)};function Tpe({message:e,theme:t}){var r;const{t:n}=Ge("MessageText");return e.type==="error"&&!f2(e)?v.createElement("div",{className:`str-chat__${t}-message--error-message str-chat__message--error-message`},n("Error · Unsent")):e.status==="failed"?v.createElement("div",{className:`str-chat__${t}-message--error-message str-chat__message--error-message`},((r=e.error)==null?void 0:r.status)!==403?n("Message Failed · Click to try again"):n("Message Failed · Unauthorized")):null}const kpe=e=>{var I;const{customInnerClass:t,customWrapperClass:n="",message:r,renderText:a,theme:i="simple"}=e,{QuotedMessage:s=Mpe}=xn(),{message:o,onMentionsClickMessage:c,onMentionsHoverMessage:d,renderText:f,unsafeHTML:h}=jr(),m=a??f??R2,{userLanguage:g}=Ge("MessageText"),b=r||o,_=m8(b),w=((I=b.i18n)==null?void 0:I[`${g}_text`])||b.text,x=E.useMemo(()=>m(w,b.mentioned_users),[b.mentioned_users,w]),k=n||"str-chat__message-text",R=t||`str-chat__message-text-inner str-chat__message-${i}-text-inner`;return!w&&!b.quoted_message?null:v.createElement("div",{className:k,tabIndex:0},v.createElement("div",{className:Ue(R,{[`str-chat__message-${i}-text-inner--has-attachment`]:_,[` str-chat__message-${i}-text-inner--is-emoji`]:rle(b.text)&&!b.quoted_message}),"data-testid":"message-text-inner-wrapper",onClick:c,onMouseOver:d},b.quoted_message&&v.createElement(s,null),v.createElement(Tpe,{message:b,theme:i}),h&&b.html?v.createElement("div",{dangerouslySetInnerHTML:{__html:b.html}}):v.createElement("div",null,x)))},wI=v.memo(kpe);function Rpe(e){const{handleFetchReactions:t}=jr(),[n,r]=E.useState([]),{handleFetchReactions:a,reactionType:i,shouldFetch:s,sort:o}=e,[c,d]=E.useState(s),f=a??t;return E.useEffect(()=>{if(!s)return;let h=!1;return(async()=>{try{d(!0);const m=await f(i,o);h||r(m)}catch{h||r([])}finally{h||d(!1)}})(),()=>{h=!0}},[f,i,s,o]),{isLoading:c,reactions:n}}const Ape={created_at:-1};function Ope({handleFetchReactions:e,onSelectedReactionTypeChange:t,reactionDetailsSort:n,reactions:r,selectedReactionType:a,sortReactionDetails:i,...s}){const o=r.find(({reactionType:w})=>w===a),c=(o==null?void 0:o.EmojiComponent)??null,{reactionDetailsSort:d,sortReactionDetails:f}=jr(),h=i??f,m=n??d??Ape,{isLoading:g,reactions:b}=Rpe({handleFetchReactions:e,reactionType:a,shouldFetch:s.open,sort:m}),_=E.useMemo(()=>h?[...b].sort(h):b,[h,b]);return v.createElement(Uu,{...s,className:Ue("str-chat__message-reactions-details-modal",s.className)},v.createElement("div",{className:"str-chat__message-reactions-details","data-testid":"reactions-list-modal"},v.createElement("div",{className:"str-chat__message-reactions-details-reaction-types"},r.map(({EmojiComponent:w,reactionCount:x,reactionType:k})=>w&&v.createElement("div",{className:Ue("str-chat__message-reactions-details-reaction-type",{"str-chat__message-reactions-details-reaction-type--selected":a===k}),"data-testid":`reaction-details-selector-${k}`,key:k,onClick:()=>t==null?void 0:t(k)},v.createElement("span",{className:"str-chat__message-reaction-emoji str-chat__message-reaction-emoji--with-fallback"},v.createElement(w,null))," ",v.createElement("span",{className:"str-chat__message-reaction-count"},x)))),c&&v.createElement("div",{className:"str-chat__message-reaction-emoji str-chat__message-reaction-emoji--with-fallback str-chat__message-reaction-emoji-big"},v.createElement(c,null)),v.createElement("div",{className:"str-chat__message-reactions-details-reacting-users","data-testid":"all-reacting-users"},g?v.createElement(Fu,null):_.map(({user:w})=>v.createElement("div",{className:"str-chat__message-reactions-details-reacting-user",key:w==null?void 0:w.id},v.createElement(zi,{className:"stream-chat__avatar--reaction","data-testid":"avatar",image:w==null?void 0:w.image,name:(w==null?void 0:w.name)||(w==null?void 0:w.id)}),v.createElement("span",{className:"str-chat__user-item--name","data-testid":"reaction-user-username"},(w==null?void 0:w.name)||(w==null?void 0:w.id)))))))}const Lpe=(e,t)=>e.firstReactionAt&&t.firstReactionAt?+e.firstReactionAt-+t.firstReactionAt:e.reactionType.localeCompare(t.reactionType,"en"),Npe=e=>{const{own_reactions:t,reaction_groups:n,reactionOptions:r,reactions:a,sortReactions:i}=e,{message:s,sortReactions:o}=jr(),{reactionOptions:c=fI}=xn(),d=r??c,f=i??o??Lpe,h=a||s.latest_reactions,m=t||(s==null?void 0:s.own_reactions),g=n||(s==null?void 0:s.reaction_groups),b=E.useCallback(O=>(m==null?void 0:m.some(A=>A.type===O))??!1,[m]),_=E.useCallback(O=>{var A;return((A=d.find(({type:L})=>L===O))==null?void 0:A.Component)??null},[d]),w=E.useCallback(O=>d.some(A=>A.type===O),[d]),x=E.useCallback(O=>(h==null?void 0:h.flatMap(A=>{var L,C;if(O&&O===A.type){const T=((L=A.user)==null?void 0:L.name)||((C=A.user)==null?void 0:C.id);return T?[T]:[]}return[]}))??[],[h]),k=E.useMemo(()=>g?Object.entries(g).flatMap(([A,{count:L,first_reaction_at:C,last_reaction_at:T}])=>{if(L===0||!w(A))return[];const S=x(A);return[{EmojiComponent:_(A),firstReactionAt:C?new Date(C):null,isOwnReaction:b(A),lastReactionAt:T?new Date(T):null,latestReactedUserNames:S,reactionCount:L,reactionType:A,unlistedReactedUserCount:L-S.length}]}).sort(f):[],[_,x,b,w,g,f]),R=k.length>0,I=E.useMemo(()=>k.reduce((O,{reactionCount:A})=>O+A,0),[k]);return{existingReactions:k,hasReactions:R,totalReactionCount:I}},Ppe=e=>{const{handleFetchReactions:t,reactionDetailsSort:n,reverse:r=!1,sortReactionDetails:a,...i}=e,{existingReactions:s,hasReactions:o,totalReactionCount:c}=Npe(i),[d,f]=E.useState(null),{t:h}=Ge("ReactionsList"),{ReactionsListModal:m=Ope}=xn(),g=b=>{c>g8||f(b)};return o?v.createElement(v.Fragment,null,v.createElement("div",{"aria-label":h("aria/Reaction list"),className:Ue("str-chat__reaction-list str-chat__message-reactions-container",{"str-chat__reaction-list--reverse":r}),"data-testid":"reaction-list",role:"figure"},v.createElement("ul",{className:"str-chat__message-reactions"},s.map(({EmojiComponent:b,isOwnReaction:_,reactionCount:w,reactionType:x})=>b&&v.createElement("li",{className:Ue("str-chat__message-reaction",{"str-chat__message-reaction-own":_}),key:x},v.createElement("button",{"aria-label":`Reactions: ${x}`,"data-testid":`reactions-list-button-${x}`,onClick:()=>g(x),type:"button"},v.createElement("span",{className:"str-chat__message-reaction-emoji"},v.createElement(b,null))," ",v.createElement("span",{className:"str-chat__message-reaction-count","data-testclass":"reaction-list-reaction-count"},w)))),v.createElement("li",null,v.createElement("span",{className:"str-chat__reaction-list--counter"},c)))),d!==null&&v.createElement(m,{handleFetchReactions:t,onClose:()=>f(null),onSelectedReactionTypeChange:f,open:d!==null,reactions:s,selectedReactionType:d,sortReactionDetails:a})):null},Ipe=v.memo(Ppe);function Fpe({message:e,open:t,...n}){const{t:r}=Ge("MessageEditedTimestamp"),{message:a}=jr(),{Timestamp:i=g6}=xn(),s=e||a;return af(s)?v.createElement("div",{className:Ue("str-chat__message-edited-timestamp",t?"str-chat__message-edited-timestamp--open":"str-chat__message-edited-timestamp--collapsed"),"data-testid":"message-edited-timestamp"},r("Edited")," ",v.createElement(i,{timestamp:s.message_text_updated_at,...n})):null}const jpe=e=>{const{message:t,renderingLetterCount:n,renderText:r,streamingLetterIntervalMs:a}=e,{message:i}=jr(),s=t||i,{text:o=""}=s,{streamedMessageText:c}=Cle({renderingLetterCount:n,streamingLetterIntervalMs:a,text:o});return v.createElement(wI,{message:{...s,text:c},renderText:r})},Upe=e=>{const{active:t,children:n,className:r,type:a}=e;return t?v.createElement("div",{"aria-live":"polite",className:Ue(`str-chat__custom-notification notification-${a}`,"str-chat__notification","str-chat-react__notification",r),"data-testid":"custom-notification"},n):null},xI=v.memo(Upe),Bpe=()=>{const{client:e}=Yt("ConnectionStatus"),{t}=Ge("ConnectionStatus"),[n,r]=E.useState(!0);return E.useEffect(()=>{const a=({online:i=!1})=>{n!==i&&r(i)};return e.on("connection.changed",a),()=>e.off("connection.changed",a)},[e,n]),v.createElement(xI,{active:!n,className:"str-chat__connection-status-notification",type:"error"},t("Connection failure, reconnecting now..."))},$pe=v.memo(Bpe),zpe=e=>{const{message:t}=e;return v.createElement("div",{className:"giphy-preview-message"},v.createElement(q1,{message:t}))},uf={date:"message.date",intro:"channel.intro"},Hpe="Anonym",Vpe="Archivieren",qpe="Abbrechen",Ype="Schließen",Wpe="Erstellen",Gpe="Löschen",Kpe="Zugestellt",Qpe="Bearbeitet",Zpe="Beenden",Xpe="Datei",Jpe="Melden",eme="Menü",tme="Stummschalten",nme="Neu",rme="Ok",ame="Optionen",ime="Anheften",sme="Umfrage",ome="Frage",lme="Zitieren",cme="Antworten",ume="Suche",dme="Senden",fme="Mischen",hme="Absenden",pme="Thread",mme="Archivierung aufheben",gme="Stummschaltung aufheben",yme="Anheftung aufheben",vme="Du",bme="live",_me="1 Antwort",wme="{{ count }} Antworten",xme="1 Ergebnis",Cme="{{ count }} Ergebnisse",Dme="1 ungelesene Nachricht",Sme="{{count}} ungelesene Nachrichten",Eme={"Add a comment":"Einen Kommentar hinzufügen","Add an option":"Eine Option hinzufügen","All results loaded":"Alle Ergebnisse geladen","Allow access to camera":"Zugriff auf Kamera erlauben","Allow access to microphone":"Zugriff auf Mikrofon erlauben","Allow comments":"Kommentare erlauben","Allow option suggestion":"Optionsvorschläge erlauben","An error has occurred during recording":"Ein Fehler ist während der Aufnahme aufgetreten","An error has occurred during the recording processing":"Ein Fehler ist während der Aufnahmeverarbeitung aufgetreten",Anonymous:Hpe,"Anonymous poll":"Anonyme Umfrage",Archive:Vpe,"Ask a question":"Eine Frage stellen","Attach files":"Dateien anhängen",Cancel:qpe,"Cannot seek in the recording":"In der Aufnahme kann nicht gesucht werden","Channel Missing":"Kanal fehlt",Close:Ype,"Close emoji picker":"Emoji-Auswahl schließen","Commands matching":"Übereinstimmende Befehle","Connection failure, reconnecting now...":"Verbindungsfehler, Wiederherstellung der Verbindung...",Create:Wpe,"Create poll":"Umfrage erstellen",Delete:Gpe,Delivered:Kpe,"Download attachment {{ name }}":"Anhang {{ name }} herunterladen","Drag your files here":"Ziehen Sie Ihre Dateien hierher","Drag your files here to add to your post":"Ziehen Sie Ihre Dateien hierher, um sie Ihrem Beitrag hinzuzufügen","Edit Message":"Nachricht bearbeiten","Edit message request failed":"Anfrage zum Bearbeiten der Nachricht fehlgeschlagen",Edited:Qpe,"Emoji matching":"Passende Emojis","Empty message...":"Leere Nachricht...",End:Zpe,"End vote":"Abstimmung beenden","Error adding flag":"Fehler beim Hinzufügen des Flags","Error connecting to chat, refresh the page to try again.":"Verbindungsfehler zum Chat, aktualisieren Sie die Seite, um es erneut zu versuchen.","Error deleting message":"Fehler beim Löschen der Nachricht","Error fetching reactions":"Fehler beim Laden von Reaktionen","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Fehler beim Markieren der Nachricht als ungelesen. Kann keine älteren ungelesenen Nachrichten markieren als die neuesten 100 Kanalnachrichten.","Error muting a user ...":"Fehler beim Stummschalten eines Nutzers.","Error pinning message":"Fehler beim Pinnen der Nachricht","Error removing message pin":"Fehler beim Entfernen der gepinnten Nachricht","Error reproducing the recording":"Fehler bei der Wiedergabe der Aufnahme","Error starting recording":"Fehler beim Starten der Aufnahme","Error unmuting a user ...":"Fehler beim Aufheben der Stummschaltung eines Nutzers ...","Error uploading attachment":"Fehler beim Hochladen des Anhangs","Error uploading file":"Fehler beim Hochladen der Datei","Error uploading image":"Fehler beim Hochladen des Bildes","Error · Unsent":"Fehler · Nicht gesendet","Error: {{ errorMessage }}":"Fehler: {{ errorMessage }}","Failed to jump to the first unread message":"Fehler beim Springen zur ersten ungelesenen Nachricht","Failed to mark channel as read":"Fehler beim Markieren des Kanals als gelesen","Failed to play the recording":"Wiedergabe der Aufnahme fehlgeschlagen",File:Xpe,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"Datei ist zu groß: {{ size }}, maximale Upload-Größe beträgt {{ limit }}",Flag:Jpe,"Generating...":"Generieren...","Latest Messages":"Neueste Nachrichten","Load more":"Mehr laden","Mark as unread":"Als ungelesen markieren","Maximum number of votes (from 2 to 10)":"Maximale Anzahl der Stimmen (von 2 bis 10)",Menu:eme,"Message Failed · Click to try again":"Nachricht fehlgeschlagen · Klicken, um es erneut zu versuchen","Message Failed · Unauthorized":"Nachricht fehlgeschlagen · Nicht autorisiert","Message deleted":"Nachricht gelöscht","Message has been successfully flagged":"Nachricht wurde erfolgreich gemeldet","Message pinned":"Nachricht angeheftet","Message was blocked by moderation policies":"Nachricht wurde durch moderationsrichtlinien blockiert","Messages have been marked unread.":"Nachrichten wurden als ungelesen markiert.","Missing permissions to upload the attachment":"Fehlende Berechtigungen zum Hochladen des Anhangs","Multiple answers":"Mehrere Antworten",Mute:tme,New:nme,"New Messages!":"Neue Nachrichten!","No chats here yet…":"Noch keine Chats hier...","No results found":"Keine Ergebnisse gefunden","Nobody will be able to vote in this poll anymore.":"Niemand kann mehr in dieser Umfrage abstimmen.","Nothing yet...":"Noch nichts...",Ok:rme,"Only numbers are allowed":"Nur Zahlen sind erlaubt","Open emoji picker":"Emoji-Auswahl öffnen","Option already exists":"Option existiert bereits",Options:ame,"People matching":"Passende Personen",Pin:ime,"Pinned by":"Angeheftet von",Poll:sme,"Poll comments":"Umfragekommentare","Poll options":"Umfrageoptionen","Poll results":"Umfrageergebnisse",Question:ome,Quote:lme,"Recording format is not supported and cannot be reproduced":"Aufnahmeformat wird nicht unterstützt und kann nicht wiedergegeben werden",Reply:cme,"Reply to Message":"Auf Nachricht antworten",Search:ume,"Searching...":"Suchen...","See all options ({{count}})_one":"Alle Optionen anzeigen ({{count}})","See all options ({{count}})_other":"Alle Optionen anzeigen ({{count}})","Select one":"Eine auswählen","Select one or more":"Eine oder mehrere auswählen","Select up to {{count}}_one":"Bis zu {{count}} auswählen","Select up to {{count}}_other":"Bis zu {{count}} auswählen",Send:dme,"Send Anyway":"Trotzdem senden","Send message request failed":"Senden der Nachrichtenanfrage fehlgeschlagen","Sending...":"Senden...","Show all":"Alle anzeigen",Shuffle:fme,"Slow Mode ON":"Langsamer Modus EIN","Some of the files will not be accepted":"Einige der Dateien werden nicht akzeptiert","Start typing to search":"Tippen Sie, um zu suchen",Submit:hme,"Suggest an option":"Eine Option vorschlagen","Thinking...":"Denken...","This message did not meet our content guidelines":"Diese Nachricht entsprach nicht unseren Inhaltsrichtlinien","This message was deleted...":"Diese Nachricht wurde gelöscht...",Thread:pme,"To start recording, allow the camera access in your browser":"Um mit der Aufnahme zu beginnen, erlauben Sie den Zugriff auf die Kamera in Ihrem Browser","To start recording, allow the microphone access in your browser":"Um mit der Aufnahme zu beginnen, erlauben Sie den Zugriff auf das Mikrofon in Ihrem Browser","Type a number from 2 to 10":"Geben Sie eine Zahl von 2 bis 10 ein","Type your message":"Nachricht eingeben",Unarchive:mme,Unmute:gme,Unpin:yme,"Unread messages":"Ungelesene Nachrichten","Unsupported attachment":"Nicht unterstützter Anhang","Update your comment":"Ihren Kommentar aktualisieren",'Upload type: "{{ type }}" is not allowed':'Upload-Typ: "{{ type }}" ist nicht erlaubt',"User uploaded content":"Vom Benutzer hochgeladener Inhalt","View results":"Ergebnisse anzeigen","View {{count}} comments_one":"{{count}} Kommentar anzeigen","View {{count}} comments_other":"{{count}} Kommentare anzeigen","Voice message":"Sprachnachricht","Vote ended":"Abstimmung beendet","Wait until all attachments have uploaded":"Bitte warten, bis alle Anhänge hochgeladen wurden",You:vme,"You have no channels currently":"Du hast momentan noch keine Kanäle","You've reached the maximum number of files":"Die maximale Anzahl an Dateien ist erreicht","aria/Attachment":"Anhang","aria/Cancel Reply":"Antwort abbrechen","aria/Cancel upload":"Upload abbrechen","aria/Channel list":"Kanalliste","aria/Channel search results":"Kanalsuchergebnisse","aria/Close thread":"Thread schließen","aria/Download attachment":"Anhang herunterladen","aria/Emoji picker":"Emoji-Auswahl","aria/File input":"Dateieingabe","aria/File upload":"Datei hochladen","aria/Image input":"Bildeingabe","aria/Load More Channels":"Mehr Kanäle laden","aria/Menu":"Menü","aria/Message Options":"Nachrichtenoptionen","aria/Open Attachment Selector":"Anhang-Auswahl öffnen","aria/Open Message Actions Menu":"Nachrichtenaktionsmenü öffnen","aria/Open Reaction Selector":"Reaktionsauswahl öffnen","aria/Open Thread":"Thread öffnen","aria/Reaction list":"Reaktionsliste","aria/Remove attachment":"Anhang entfernen","aria/Retry upload":"Upload erneut versuchen","aria/Search results":"Suchergebnisse","aria/Search results header filter button":"Suchergebnisse-Kopfzeilen-Filterbutton","aria/Send":"Senden","aria/Stop AI Generation":"KI-Generierung stoppen","ban-command-args":"[@Benutzername] [Text]","ban-command-description":"Einen Benutzer verbannen","giphy-command-args":"[Text]","giphy-command-description":"Poste ein zufälliges Gif in den Kanal",live:bme,"mute-command-args":"[@Benutzername]","mute-command-description":"Stummschalten eines Benutzers",replyCount_one:_me,replyCount_other:wme,"search-results-header-filter-source-button-label--channels":"Kanäle","search-results-header-filter-source-button-label--messages":"Nachrichten","search-results-header-filter-source-button-label--users":"Benutzer",searchResultsCount_one:xme,searchResultsCount_other:Cme,"this content could not be displayed":"Dieser Inhalt konnte nicht angezeigt werden","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","unban-command-args":"[@Benutzername]","unban-command-description":"Einen Benutzer entbannen","unmute-command-args":"[@Benutzername]","unmute-command-description":"Stummschaltung eines Benutzers aufheben",unreadMessagesSeparatorText_one:Dme,unreadMessagesSeparatorText_other:Sme,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} und {{moreCount}} mehr","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} und {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} und {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} mehr","{{ memberCount }} members":"{{ memberCount }} Mitglieder","{{ user }} has been muted":"{{ user }} wurde stummgeschaltet","{{ user }} has been unmuted":"Die Stummschaltung von {{ user }} wurde aufgehoben","{{ user }} is typing...":"{{ user }} tippt...","{{ users }} and more are typing...":"{{ users }} und mehr tippen...","{{ users }} and {{ user }} are typing...":"{{ users }} und {{ user }} tippen...","{{ watcherCount }} online":"{{ watcherCount }} online","{{count}} unread_one":"{{count}} ungelesen","{{count}} unread_other":"{{count}} ungelesen","{{count}} votes_one":"{{count}} Stimme","{{count}} votes_other":"{{count}} Stimmen","🏙 Attachment...":"🏙 Anhang...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} hat erstellt: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} hat abgestimmt: {{pollOptionText}}"},Mme="Anonymous",Tme="Archive",kme="Cancel",Rme="Close",Ame="Create",Ome="Delete",Lme="Delivered",Nme="Edited",Pme="End",Ime="File",Fme="Flag",jme="Menu",Ume="Mute",Bme="New",$me="Ok",zme="Options",Hme="Pin",Vme="Poll",qme="Question",Yme="Quote",Wme="Reply",Gme="Search",Kme="Send",Qme="Shuffle",Zme="Submit",Xme="Thread",Jme="Unarchive",ege="Unmute",tge="Unpin",nge="You",rge="live",age="1 reply",ige="{{ count }} replies",sge="1 result",oge="{{ count }} results",lge="1 unread message",cge="{{count}} unread messages",uge={"Add a comment":"Add a comment","Add an option":"Add an option","All results loaded":"All results loaded","Allow access to camera":"Allow access to camera","Allow access to microphone":"Allow access to microphone","Allow comments":"Allow comments","Allow option suggestion":"Allow option suggestion","An error has occurred during recording":"An error has occurred during recording","An error has occurred during the recording processing":"An error has occurred during the recording processing",Anonymous:Mme,"Anonymous poll":"Anonymous poll",Archive:Tme,"Ask a question":"Ask a question","Attach files":"Attach files",Cancel:kme,"Cannot seek in the recording":"Cannot seek in the recording","Channel Missing":"Channel Missing",Close:Rme,"Close emoji picker":"Close emoji picker","Commands matching":"Commands matching","Connection failure, reconnecting now...":"Connection failure, reconnecting now...",Create:Ame,"Create poll":"Create poll",Delete:Ome,Delivered:Lme,"Download attachment {{ name }}":"Download attachment {{ name }}","Drag your files here":"Drag your files here","Drag your files here to add to your post":"Drag your files here to add to your post","Edit Message":"Edit Message","Edit message request failed":"Edit message request failed",Edited:Nme,"Emoji matching":"Emoji matching","Empty message...":"Empty message...",End:Pme,"End vote":"End vote","Error adding flag":"Error adding flag","Error connecting to chat, refresh the page to try again.":"Error connecting to chat, refresh the page to try again.","Error deleting message":"Error deleting message","Error fetching reactions":"Error loading reactions","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.","Error muting a user ...":"Error muting a user ...","Error pinning message":"Error pinning message","Error removing message pin":"Error removing message pin","Error reproducing the recording":"Error reproducing the recording","Error starting recording":"Error starting recording","Error unmuting a user ...":"Error unmuting a user ...","Error uploading attachment":"Error uploading attachment","Error uploading file":"Error uploading file","Error uploading image":"Error uploading image","Error · Unsent":"Error · Unsent","Error: {{ errorMessage }}":"Error: {{ errorMessage }}","Failed to jump to the first unread message":"Failed to jump to the first unread message","Failed to mark channel as read":"Failed to mark channel as read","Failed to play the recording":"Failed to play the recording",File:Ime,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"File is too large: {{ size }}, maximum upload size is {{ limit }}",Flag:Fme,"Generating...":"Generating...","Latest Messages":"Latest Messages","Load more":"Load more","Mark as unread":"Mark as unread","Maximum number of votes (from 2 to 10)":"Maximum number of votes (from 2 to 10)",Menu:jme,"Message Failed · Click to try again":"Message Failed · Click to try again","Message Failed · Unauthorized":"Message Failed · Unauthorized","Message deleted":"Message deleted","Message has been successfully flagged":"Message has been successfully flagged","Message pinned":"Message pinned","Message was blocked by moderation policies":"Message was blocked by moderation policies","Messages have been marked unread.":"Messages have been marked unread.","Missing permissions to upload the attachment":"Missing permissions to upload the attachment","Multiple answers":"Multiple answers",Mute:Ume,New:Bme,"New Messages!":"New Messages!","No chats here yet…":"No chats here yet…","No results found":"No results found","Nobody will be able to vote in this poll anymore.":"Nobody will be able to vote in this poll anymore.","Nothing yet...":"Nothing yet...",Ok:$me,"Only numbers are allowed":"Only numbers are allowed","Open emoji picker":"Open emoji picker","Option already exists":"Option already exists",Options:zme,"People matching":"People matching",Pin:Hme,"Pinned by":"Pinned by",Poll:Vme,"Poll comments":"Poll comments","Poll options":"Poll options","Poll results":"Poll results",Question:qme,Quote:Yme,"Recording format is not supported and cannot be reproduced":"Recording format is not supported and cannot be reproduced",Reply:Wme,"Reply to Message":"Reply to Message",Search:Gme,"Searching...":"Searching...","See all options ({{count}})_one":"See all options ({{count}})","See all options ({{count}})_other":"See all options ({{count}})","Select one":"Select one","Select one or more":"Select one or more","Select up to {{count}}_one":"Select up to {{count}}","Select up to {{count}}_other":"Select up to {{count}}",Send:Kme,"Send Anyway":"Send Anyway","Send message request failed":"Send message request failed","Sending...":"Sending...","Show all":"Show all",Shuffle:Qme,"Slow Mode ON":"Slow Mode ON","Some of the files will not be accepted":"Some of the files will not be accepted","Start typing to search":"Start typing to search",Submit:Zme,"Suggest an option":"Suggest an option","Thinking...":"Thinking...","This message did not meet our content guidelines":"This message did not meet our content guidelines","This message was deleted...":"This message was deleted...",Thread:Xme,"To start recording, allow the camera access in your browser":"To start recording, allow the camera access in your browser","To start recording, allow the microphone access in your browser":"To start recording, allow the microphone access in your browser","Type a number from 2 to 10":"Type a number from 2 to 10","Type your message":"Type your message",Unarchive:Jme,Unmute:ege,Unpin:tge,"Unread messages":"Unread messages","Unsupported attachment":"Unsupported attachment","Update your comment":"Update your comment",'Upload type: "{{ type }}" is not allowed':'Upload type: "{{ type }}" is not allowed',"User uploaded content":"User uploaded content","View results":"View results","View {{count}} comments_one":"View {{count}} comment","View {{count}} comments_other":"View {{count}} comments","Voice message":"Voice message","Vote ended":"Vote ended","Wait until all attachments have uploaded":"Wait until all attachments have uploaded",You:nge,"You have no channels currently":"You have no channels currently","You've reached the maximum number of files":"You've reached the maximum number of files","aria/Attachment":"Attachment","aria/Cancel Reply":"Cancel Reply","aria/Cancel upload":"Cancel upload","aria/Channel list":"Channel list","aria/Channel search results":"Channel search results","aria/Close thread":"Close thread","aria/Download attachment":"aria/Download attachment","aria/Emoji picker":"Emoji picker","aria/File input":"File input","aria/File upload":"File upload","aria/Image input":"Image input","aria/Load More Channels":"Load More Channels","aria/Menu":"Menu","aria/Message Options":"Message Options","aria/Open Attachment Selector":"aria/Open Attachment Selector","aria/Open Message Actions Menu":"Open Message Actions Menu","aria/Open Reaction Selector":"Open Reaction Selector","aria/Open Thread":"Open Thread","aria/Reaction list":"Reaction list","aria/Remove attachment":"Remove attachment","aria/Retry upload":"Retry upload","aria/Search results":"Search results","aria/Search results header filter button":"Search results header filter button","aria/Send":"Send","aria/Stop AI Generation":"Stop AI Generation",live:rge,replyCount_one:age,replyCount_other:ige,"search-results-header-filter-source-button-label--channels":"channels","search-results-header-filter-source-button-label--messages":"messages","search-results-header-filter-source-button-label--users":"users",searchResultsCount_one:sge,searchResultsCount_other:oge,"this content could not be displayed":"this content could not be displayed","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}",unreadMessagesSeparatorText_one:lge,unreadMessagesSeparatorText_other:cge,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} and {{ moreCount }} more","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }}, and {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} and {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} more","{{ memberCount }} members":"{{ memberCount }} members","{{ user }} has been muted":"{{ user }} has been muted","{{ user }} has been unmuted":"{{ user }} has been unmuted","{{ user }} is typing...":"{{ user }} is typing...","{{ users }} and more are typing...":"{{ users }} and more are typing...","{{ users }} and {{ user }} are typing...":"{{ users }} and {{ user }} are typing...","{{ watcherCount }} online":"{{ watcherCount }} online","{{count}} unread_one":"{{count}} unread","{{count}} unread_other":"{{count}} unread","{{count}} votes_one":"{{count}} vote","{{count}} votes_other":"{{count}} votes","🏙 Attachment...":"🏙 Attachment...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} created: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} voted: {{pollOptionText}}"},dge="Anónimo",fge="Archivo",hge="Cancelar",pge="Cerrar",mge="Crear",gge="Borrar",yge="Entregado",vge="Editado",bge="Final",_ge="Archivo",wge="Marcar",xge="Menú",Cge="Silenciar",Dge="Nuevo",Sge="Ok",Ege="Opciones",Mge="Fijar",Tge="Encuesta",kge="Pregunta",Rge="Citar",Age="Responder",Oge="Buscar",Lge="Enviar",Nge="Mezclar",Pge="Enviar",Ige="Hilo",Fge="Desarchivar",jge="Activar sonido",Uge="Desfijar",Bge="Tú",$ge="En vivo",zge="{{ count }} respuestas",Hge="1 respuesta",Vge="{{ count }} respuestas",qge="{{ count }} resultados",Yge="1 resultado",Wge="{{ count }} resultados",Gge="{{count}} mensajes no leídos",Kge="1 mensaje no leído",Qge="{{count}} mensajes no leídos",Zge={"Add a comment":"Agregar un comentario","Add an option":"Agregar una opción","All results loaded":"Todos los resultados cargados","Allow access to camera":"Permitir acceso a la cámara","Allow access to microphone":"Permitir acceso al micrófono","Allow comments":"Permitir comentarios","Allow option suggestion":"Permitir sugerencia de opciones","An error has occurred during recording":"Se ha producido un error durante la grabación","An error has occurred during the recording processing":"Se ha producido un error durante el procesamiento de la grabación",Anonymous:dge,"Anonymous poll":"Encuesta anónima",Archive:fge,"Ask a question":"Hacer una pregunta","Attach files":"Adjuntar archivos",Cancel:hge,"Cannot seek in the recording":"No se puede buscar en la grabación","Channel Missing":"Falta canal",Close:pge,"Close emoji picker":"Cerrar el selector de emojis","Commands matching":"Coincidencia de comandos","Connection failure, reconnecting now...":"Fallo de conexión, reconectando ahora...",Create:mge,"Create poll":"Crear encuesta",Delete:gge,Delivered:yge,"Download attachment {{ name }}":"Descargar adjunto {{ name }}","Drag your files here":"Arrastra tus archivos aquí","Drag your files here to add to your post":"Arrastra tus archivos aquí para agregarlos a tu publicación","Edit Message":"Editar mensaje","Edit message request failed":"Error al editar la solicitud de mensaje",Edited:vge,"Emoji matching":"Coincidencia de emoji","Empty message...":"Mensaje vacío...",End:bge,"End vote":"Finalizar votación","Error adding flag":"Error al agregar la bandera","Error connecting to chat, refresh the page to try again.":"Error al conectarse al chat, actualice la página para volver a intentarlo.","Error deleting message":"Error al eliminar el mensaje","Error fetching reactions":"Error al cargar las reacciones","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Error al marcar el mensaje como no leído. No se pueden marcar mensajes no leídos más antiguos que los últimos 100 mensajes del canal.","Error muting a user ...":"Error al silenciar el usuario...","Error pinning message":"Error al fijar el mensaje","Error removing message pin":"Error al quitar el pin del mensaje","Error reproducing the recording":"Error al reproducir la grabación","Error starting recording":"Error al iniciar la grabación","Error unmuting a user ...":"Error al desactivar el silencio del usuario...","Error uploading attachment":"Error al subir el archivo adjunto","Error uploading file":"Error al cargar el archivo","Error uploading image":"Error al subir la imagen","Error · Unsent":"Error · No enviado","Error: {{ errorMessage }}":"Error: {{ errorMessage }}","Failed to jump to the first unread message":"Error al saltar al primer mensaje no leído","Failed to mark channel as read":"Error al marcar el canal como leído","Failed to play the recording":"No se pudo reproducir la grabación",File:_ge,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"El archivo es demasiado grande: {{ size }}, el tamaño máximo de carga es de {{ limit }}",Flag:wge,"Generating...":"Generando...","Latest Messages":"Últimos mensajes","Load more":"Cargar más","Mark as unread":"Marcar como no leído","Maximum number of votes (from 2 to 10)":"Número máximo de votos (de 2 a 10)",Menu:xge,"Message Failed · Click to try again":"Mensaje fallido · Haga clic para volver a intentarlo","Message Failed · Unauthorized":"Mensaje fallido · No autorizado","Message deleted":"Mensaje eliminado","Message has been successfully flagged":"El mensaje se marcó correctamente","Message pinned":"Mensaje fijado","Message was blocked by moderation policies":"El mensaje fue bloqueado por las políticas de moderación","Messages have been marked unread.":"Los mensajes han sido marcados como no leídos.","Missing permissions to upload the attachment":"Faltan permisos para subir el archivo adjunto","Multiple answers":"Múltiples respuestas",Mute:Cge,New:Dge,"New Messages!":"¡Nuevos mensajes!","No chats here yet…":"Aún no hay mensajes aquí...","No results found":"No se han encontrado resultados","Nobody will be able to vote in this poll anymore.":"Nadie podrá votar en esta encuesta.","Nothing yet...":"Nada aún...",Ok:Sge,"Only numbers are allowed":"Solo se permiten números","Open emoji picker":"Abrir el selector de emojis","Option already exists":"La opción ya existe",Options:Ege,"People matching":"Personas que coinciden",Pin:Mge,"Pinned by":"Fijado por",Poll:Tge,"Poll comments":"Comentarios de la encuesta","Poll options":"Opciones de la encuesta","Poll results":"Resultados de la encuesta",Question:kge,Quote:Rge,"Recording format is not supported and cannot be reproduced":"El formato de grabación no es compatible y no se puede reproducir",Reply:Age,"Reply to Message":"Responder al mensaje",Search:Oge,"Searching...":"Buscando...","See all options ({{count}})_many":"Ver todas las opciones ({{count}})","See all options ({{count}})_one":"Ver todas las opciones ({{count}})","See all options ({{count}})_other":"Ver todas las opciones ({{count}})","Select one":"Seleccionar uno","Select one or more":"Seleccionar uno o más","Select up to {{count}}_many":"Selecciona hasta {{count}}","Select up to {{count}}_one":"Selecciona hasta {{count}}","Select up to {{count}}_other":"Selecciona hasta {{count}}",Send:Lge,"Send Anyway":"Enviar de todos modos","Send message request failed":"Error al enviar la solicitud de mensaje","Sending...":"Enviando...","Show all":"Mostrar todo",Shuffle:Nge,"Slow Mode ON":"Modo lento activado","Some of the files will not be accepted":"Algunos archivos no serán aceptados","Start typing to search":"Empieza a escribir para buscar",Submit:Pge,"Suggest an option":"Sugerir una opción","Thinking...":"Pensando...","This message did not meet our content guidelines":"Este mensaje no cumple con nuestras directrices de contenido","This message was deleted...":"Este mensaje fue eliminado...",Thread:Ige,"To start recording, allow the camera access in your browser":"Para comenzar a grabar, permita el acceso a la cámara en su navegador","To start recording, allow the microphone access in your browser":"Para comenzar a grabar, permita el acceso al micrófono en su navegador","Type a number from 2 to 10":"Escribe un número del 2 al 10","Type your message":"Escribe tu mensaje",Unarchive:Fge,Unmute:jge,Unpin:Uge,"Unread messages":"Mensajes no leídos","Unsupported attachment":"Adjunto no compatible","Update your comment":"Actualizar tu comentario",'Upload type: "{{ type }}" is not allowed':'Tipo de carga: "{{ type }}" no está permitido',"User uploaded content":"Contenido subido por el usuario","View results":"Ver resultados","View {{count}} comments_many":"Ver {{count}} comentarios","View {{count}} comments_one":"Ver {{count}} comentario","View {{count}} comments_other":"Ver {{count}} comentarios","Voice message":"Mensaje de voz","Vote ended":"Votación finalizada","Wait until all attachments have uploaded":"Espere hasta que se hayan cargado todos los archivos adjuntos",You:Bge,"You have no channels currently":"Actualmente no tienes canales","You've reached the maximum number of files":"Has alcanzado el número máximo de archivos","aria/Attachment":"Adjunto","aria/Cancel Reply":"Cancelar respuesta","aria/Cancel upload":"Cancelar carga","aria/Channel list":"Lista de canales","aria/Channel search results":"Resultados de búsqueda de canales","aria/Close thread":"Cerrar hilo","aria/Download attachment":"Descargar adjunto","aria/Emoji picker":"Selector de emojis","aria/File input":"Entrada de archivo","aria/File upload":"Carga de archivo","aria/Image input":"Entrada de imagen","aria/Load More Channels":"Cargar más canales","aria/Menu":"Menú","aria/Message Options":"Opciones de mensaje","aria/Open Attachment Selector":"Abrir selector de adjuntos","aria/Open Message Actions Menu":"Abrir menú de acciones de mensaje","aria/Open Reaction Selector":"Abrir selector de reacciones","aria/Open Thread":"Abrir hilo","aria/Reaction list":"Lista de reacciones","aria/Remove attachment":"Eliminar adjunto","aria/Retry upload":"Reintentar carga","aria/Search results":"Resultados de búsqueda","aria/Search results header filter button":"Botón de filtro del encabezado de resultados de búsqueda","aria/Send":"Enviar","aria/Stop AI Generation":"Detener generación de IA","ban-command-args":"[@usuario] [texto]","ban-command-description":"Prohibir a un usuario","giphy-command-args":"[texto]","giphy-command-description":"Publicar un gif aleatorio en el canal",live:$ge,"mute-command-args":"[@usuario]","mute-command-description":"Silenciar a un usuario",replyCount_many:zge,replyCount_one:Hge,replyCount_other:Vge,"search-results-header-filter-source-button-label--channels":"canales","search-results-header-filter-source-button-label--messages":"mensajes","search-results-header-filter-source-button-label--users":"usuarios",searchResultsCount_many:qge,searchResultsCount_one:Yge,searchResultsCount_other:Wge,"this content could not be displayed":"Este contenido no se pudo mostrar","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","unban-command-args":"[@usuario]","unban-command-description":"Quitar la prohibición a un usuario","unmute-command-args":"[@usuario]","unmute-command-description":"Desactivar el silencio de un usuario",unreadMessagesSeparatorText_many:Gge,unreadMessagesSeparatorText_one:Kge,unreadMessagesSeparatorText_other:Qge,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} y {{ moreCount }} más","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} y {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} y {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} más","{{ memberCount }} members":"{{ memberCount }} miembros","{{ user }} has been muted":"{{ user }} ha sido silenciado","{{ user }} has been unmuted":"Se ha desactivado el silencio de {{ user }}","{{ user }} is typing...":"{{ user }} está escribiendo...","{{ users }} and more are typing...":"{{ users }} y más están escribiendo...","{{ users }} and {{ user }} are typing...":"{{ users }} y {{ user }} están escribiendo...","{{ watcherCount }} online":"{{ watcherCount }} en línea","{{count}} unread_many":"{{count}} no leídos","{{count}} unread_one":"{{count}} no leído","{{count}} unread_other":"{{count}} no leídos","{{count}} votes_many":"{{count}} votos","{{count}} votes_one":"1 voto","{{count}} votes_other":"{{count}} votos","🏙 Attachment...":"🏙 Adjunto...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} creó: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} votó: {{pollOptionText}}"},Xge="Anonyme",Jge="Archive",eye="Annuler",tye="Fermer",nye="Créer",rye="Supprimer",aye="Publié",iye="Modifié",sye="Fin",oye="Fichier",lye="Signaler",cye="Menu",uye="Muet",dye="Nouveau",fye="D'accord",hye="Options",pye="Épingler",mye="Sondage",gye="Question",yye="Citer",vye="Répondre",bye="Rechercher",_ye="Envoyer",wye="Mélanger",xye="Envoyer",Cye="Fil de discussion",Dye="Désarchiver",Sye="Désactiver muet",Eye="Détacher",Mye="Vous",Tye="en direct",kye="{{ count }} réponses",Rye="1 réponse",Aye="{{ count }} réponses",Oye="{{ count }} résultats",Lye="1 résultat",Nye="{{ count }} résultats",Pye="{{count}} messages non lus",Iye="1 message non lu",Fye="{{count}} messages non lus",jye={"Add a comment":"Ajouter un commentaire","Add an option":"Ajouter une option","All results loaded":"Tous les résultats sont chargés","Allow access to camera":"Autoriser l'accès à la caméra","Allow access to microphone":"Autoriser l'accès au microphone","Allow comments":"Autoriser les commentaires","Allow option suggestion":"Autoriser la suggestion d'options","An error has occurred during recording":"Une erreur s'est produite pendant l'enregistrement","An error has occurred during the recording processing":"Une erreur s'est produite pendant le traitement de l'enregistrement",Anonymous:Xge,"Anonymous poll":"Sondage anonyme",Archive:Jge,"Ask a question":"Poser une question","Attach files":"Joindre des fichiers",Cancel:eye,"Cannot seek in the recording":"Impossible de rechercher dans l'enregistrement","Channel Missing":"Canal Manquant",Close:tye,"Close emoji picker":"Fermer le sélecteur d'émojis","Commands matching":"Correspondance des commandes","Connection failure, reconnecting now...":"Échec de la connexion, reconnexion en cours...",Create:nye,"Create poll":"Créer un sondage",Delete:rye,Delivered:aye,"Download attachment {{ name }}":"Télécharger la pièce jointe {{ name }}","Drag your files here":"Glissez vos fichiers ici","Drag your files here to add to your post":"Glissez vos fichiers ici pour les ajouter à votre publication","Edit Message":"Éditer un message","Edit message request failed":"Échec de la demande de modification du message",Edited:iye,"Emoji matching":"Correspondance d'émojis","Empty message...":"Message vide...",End:sye,"End vote":"Fin du vote","Error adding flag":"Erreur lors de l'ajout du signalement","Error connecting to chat, refresh the page to try again.":"Erreur de connexion au chat, rafraîchissez la page pour réessayer.","Error deleting message":"Erreur lors de la suppression du message","Error fetching reactions":"Erreur lors du chargement des réactions","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Erreur lors de la marque du message comme non lu. Impossible de marquer des messages non lus plus anciens que les 100 derniers messages du canal.","Error muting a user ...":"Erreur lors de la mise en sourdine d'un utilisateur...","Error pinning message":"Erreur lors de l'épinglage du message","Error removing message pin":"Erreur lors du retrait de l'épinglage du message","Error reproducing the recording":"Erreur lors de la reproduction de l'enregistrement","Error starting recording":"Erreur lors du démarrage de l'enregistrement","Error unmuting a user ...":"Erreur lors du démarrage de la sourdine d'un utilisateur ...","Error uploading attachment":"Erreur lors du téléchargement de la pièce jointe","Error uploading file":"Erreur lors du téléchargement du fichier","Error uploading image":"Erreur lors de l'envoi de l'image","Error · Unsent":"Erreur - Non envoyé","Error: {{ errorMessage }}":"Erreur : {{ errorMessage }}","Failed to jump to the first unread message":"Échec du saut vers le premier message non lu","Failed to mark channel as read":"Échec du marquage du canal comme lu","Failed to play the recording":"Impossible de lire l'enregistrement",File:oye,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"Le fichier est trop volumineux : {{ size }}, la taille maximale de téléchargement est de {{ limit }}",Flag:lye,"Generating...":"Génération...","Latest Messages":"Derniers messages","Load more":"Charger plus","Mark as unread":"Marquer comme non lu","Maximum number of votes (from 2 to 10)":"Nombre maximum de votes (de 2 à 10)",Menu:cye,"Message Failed · Click to try again":"Échec de l'envoi du message - Cliquez pour réessayer","Message Failed · Unauthorized":"Échec de l'envoi du message - Non autorisé","Message deleted":"Message supprimé","Message has been successfully flagged":"Le message a été signalé avec succès","Message pinned":"Message épinglé","Message was blocked by moderation policies":"Le message a été bloqué par les politiques de modération","Messages have been marked unread.":"Les messages ont été marqués comme non lus.","Missing permissions to upload the attachment":"Autorisations manquantes pour télécharger la pièce jointe","Multiple answers":"Réponses multiples",Mute:uye,New:dye,"New Messages!":"Nouveaux Messages!","No chats here yet…":"Pas encore de messages ici...","No results found":"Aucun résultat trouvé","Nobody will be able to vote in this poll anymore.":"Personne ne pourra plus voter dans ce sondage.","Nothing yet...":"Rien pour l'instant...",Ok:fye,"Only numbers are allowed":"Seuls les chiffres sont autorisés","Open emoji picker":"Ouvrir le sélecteur d'émojis","Option already exists":"L'option existe déjà",Options:hye,"People matching":"Correspondance de personnes",Pin:pye,"Pinned by":"Épinglé par",Poll:mye,"Poll comments":"Commentaires du sondage","Poll options":"Options du sondage","Poll results":"Résultats du sondage",Question:gye,Quote:yye,"Recording format is not supported and cannot be reproduced":"Le format d'enregistrement n'est pas pris en charge et ne peut pas être reproduit",Reply:vye,"Reply to Message":"Répondre au message",Search:bye,"Searching...":"Recherche en cours...","See all options ({{count}})_many":"Voir toutes les options ({{count}})","See all options ({{count}})_one":"Voir toutes les options ({{count}})","See all options ({{count}})_other":"Voir toutes les options ({{count}})","Select one":"Sélectionner un","Select one or more":"Sélectionner un ou plusieurs","Select up to {{count}}_many":"Sélectionner jusqu'à {{count}}","Select up to {{count}}_one":"Sélectionner jusqu'à {{count}}","Select up to {{count}}_other":"Sélectionner jusqu'à {{count}}",Send:_ye,"Send Anyway":"Envoyer quand même","Send message request failed":"Échec de la demande d'envoi de message","Sending...":"Envoi en cours...","Show all":"Tout afficher",Shuffle:wye,"Slow Mode ON":"Mode lent activé","Some of the files will not be accepted":"Certains fichiers ne seront pas acceptés","Start typing to search":"Commencez à taper pour rechercher",Submit:xye,"Suggest an option":"Suggérer une option","Thinking...":"Réflexion...","This message did not meet our content guidelines":"Ce message ne respecte pas nos directives de contenu","This message was deleted...":"Ce message a été supprimé...",Thread:Cye,"To start recording, allow the camera access in your browser":"Pour commencer l'enregistrement, autorisez l'accès à la caméra dans votre navigateur","To start recording, allow the microphone access in your browser":"Pour commencer l'enregistrement, autorisez l'accès au microphone dans votre navigateur","Type a number from 2 to 10":"Tapez un nombre de 2 à 10","Type your message":"Tapez votre message",Unarchive:Dye,Unmute:Sye,Unpin:Eye,"Unread messages":"Messages non lus","Unsupported attachment":"Pièce jointe non prise en charge","Update your comment":"Mettre à jour votre commentaire",'Upload type: "{{ type }}" is not allowed':`Le type de fichier : "{{ type }}" n'est pas autorisé`,"User uploaded content":"Contenu téléchargé par l'utilisateur","View results":"Voir les résultats","View {{count}} comments_many":"Voir {{count}} commentaires","View {{count}} comments_one":"Voir {{count}} commentaire","View {{count}} comments_other":"Voir {{count}} commentaires","Voice message":"Message vocal","Vote ended":"Vote terminé","Wait until all attachments have uploaded":"Attendez que toutes les pièces jointes soient téléchargées",You:Mye,"You have no channels currently":"Vous n'avez actuellement aucun canal","You've reached the maximum number of files":"Vous avez atteint le nombre maximal de fichiers","aria/Attachment":"Pièce jointe","aria/Cancel Reply":"Annuler la réponse","aria/Cancel upload":"Annuler le téléchargement","aria/Channel list":"Liste des canaux","aria/Channel search results":"Résultats de recherche de canaux","aria/Close thread":"Fermer le fil","aria/Download attachment":"Télécharger la pièce jointe","aria/Emoji picker":"Sélecteur d'émojis","aria/File input":"Entrée de fichier","aria/File upload":"Téléchargement de fichier","aria/Image input":"Entrée d'image","aria/Load More Channels":"Charger plus de canaux","aria/Menu":"Menu","aria/Message Options":"Options du message","aria/Open Attachment Selector":"Ouvrir le sélecteur de pièces jointes","aria/Open Message Actions Menu":"Ouvrir le menu des actions du message","aria/Open Reaction Selector":"Ouvrir le sélecteur de réactions","aria/Open Thread":"Ouvrir le fil","aria/Reaction list":"Liste des réactions","aria/Remove attachment":"Supprimer la pièce jointe","aria/Retry upload":"Réessayer le téléchargement","aria/Search results":"Résultats de recherche","aria/Search results header filter button":"Bouton de filtre d'en-tête des résultats de recherche","aria/Send":"Envoyer","aria/Stop AI Generation":"Arrêter la génération d'IA","ban-command-args":"[@nomdutilisateur] [texte]","ban-command-description":"Bannir un utilisateur","giphy-command-args":"[texte]","giphy-command-description":"Poster un GIF aléatoire dans le canal",live:Tye,"mute-command-args":"[@nomdutilisateur]","mute-command-description":"Muter un utilisateur",replyCount_many:kye,replyCount_one:Rye,replyCount_other:Aye,"search-results-header-filter-source-button-label--channels":"canaux","search-results-header-filter-source-button-label--messages":"messages","search-results-header-filter-source-button-label--users":"utilisateurs",searchResultsCount_many:Oye,searchResultsCount_one:Lye,searchResultsCount_other:Nye,"this content could not be displayed":"ce contenu n'a pas pu être affiché","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","unban-command-args":"[@nomdutilisateur]","unban-command-description":"Débannir un utilisateur","unmute-command-args":"[@nomdutilisateur]","unmute-command-description":"Démuter un utilisateur",unreadMessagesSeparatorText_many:Pye,unreadMessagesSeparatorText_one:Iye,unreadMessagesSeparatorText_other:Fye,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} et {{ moreCount }} autres","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} et {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} et {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} supplémentaires","{{ memberCount }} members":"{{ memberCount }} membres","{{ user }} has been muted":"{{ user }} a été mis en sourdine","{{ user }} has been unmuted":"{{ user }} n'est plus en sourdine","{{ user }} is typing...":"{{ user }} est en train d'écrire...","{{ users }} and more are typing...":"{{ users }} et plus sont en train d'écrire...","{{ users }} and {{ user }} are typing...":"{{ users }} et {{ user }} sont en train d'écrire...","{{ watcherCount }} online":"{{ watcherCount }} en ligne","{{count}} unread_many":"{{count}} non lus","{{count}} unread_one":"{{count}} non lu","{{count}} unread_other":"{{count}} non lus","{{count}} votes_many":"{{count}} votes","{{count}} votes_one":"{{count}} vote","{{count}} votes_other":"{{count}} votes","🏙 Attachment...":"🏙 Pièce jointe...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} a créé : {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} a voté : {{pollOptionText}}"},Uye="गुमनाम",Bye="आर्काइव",$ye="रद्द करें",zye="बंद करे",Hye="बनाएँ",Vye="डिलीट",qye="पहुंच गया",Yye="संपादित",Wye="समाप्त",Gye="फ़ाइल",Kye="फ्लैग करे",Qye="मेन्यू",Zye="म्यूट करे",Xye="नए",Jye="ठीक है",eve="विकल्प",tve="पिन",nve="मतदान",rve="प्रश्न",ave="उद्धरण",ive="जवाब दे दो",sve="खोज",ove="भेजे",lve="मिश्रित करें",cve="जमा करें",uve="रिप्लाई थ्रेड",dve="अनआर्काइव",fve="अनम्यूट",hve="अनपिन",pve="आप",mve="लाइव",gve="1 रिप्लाई",yve="{{ count }} रिप्लाई",vve="1 परिणाम",bve="{{ count }} परिणाम",_ve="1 अपठित संदेश",wve="{{count}} अपठित संदेश",xve={"Add a comment":"एक टिप्पणी जोड़ें","Add an option":"एक विकल्प जोड़ें","All results loaded":"सभी परिणाम लोड हो गए","Allow access to camera":"कैमरा तक पहुँच दें","Allow access to microphone":"माइक्रोफ़ोन तक पहुँच दें","Allow comments":"टिप्पणियाँ की अनुमति दें","Allow option suggestion":"विकल्प सुझाव की अनुमति दें","An error has occurred during recording":"रेकॉर्डिंग के दौरान एक त्रुटि आ गई है","An error has occurred during the recording processing":"रेकॉर्डिंग प्रोसेसिंग के दौरान एक त्रुटि आ गई है",Anonymous:Uye,"Anonymous poll":"गुमनाम मतदान",Archive:Bye,"Ask a question":"एक प्रश्न पूछें","Attach files":"फाइल्स अटैच करे",Cancel:$ye,"Cannot seek in the recording":"रेकॉर्डिंग में खोज नहीं की जा सकती","Channel Missing":"चैनल उपलब्ध नहीं है",Close:zye,"Close emoji picker":"इमोजी पिकर बंद करें","Commands matching":"मेल खाती है","Connection failure, reconnecting now...":"कनेक्शन विफल रहा, अब पुनः कनेक्ट हो रहा है ...",Create:Hye,"Create poll":"मतदान बनाएँ",Delete:Vye,Delivered:qye,"Download attachment {{ name }}":"अनुलग्नक {{ name }} डाउनलोड करें","Drag your files here":"अपनी फ़ाइलें यहाँ खींचें","Drag your files here to add to your post":"अपनी फ़ाइलें यहाँ खींचें और अपने पोस्ट में जोड़ने के लिए","Edit Message":"मैसेज में बदलाव करे","Edit message request failed":"संदेश संपादित करने का अनुरोध विफल रहा",Edited:Yye,"Emoji matching":"इमोजी मिलान","Empty message...":"खाली संदेश ...",End:Wye,"End vote":"मत समाप्त करें","Error adding flag":"ध्वज जोड़ने में त्रुटि","Error connecting to chat, refresh the page to try again.":"चैट से कनेक्ट करने में त्रुटि, पेज को रिफ्रेश करें","Error deleting message":"संदेश हटाने में त्रुटि","Error fetching reactions":"प्रतिक्रियाएँ लोड करने में त्रुटि","Error marking message unread":"संदेश को अपठित चिह्नित करने में त्रुटि","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"संदेश को अपठित मार्क करने में त्रुटि। सबसे नए 100 चैनल संदेश से पहले के सभी अपठित संदेशों को अपठित मार्क नहीं किया जा सकता है।","Error muting a user ...":"यूजर को म्यूट करने का प्रयास फेल हुआ","Error pinning message":"संदेश को पिन करने में त्रुटि","Error removing message pin":"संदेश पिन निकालने में त्रुटि","Error reproducing the recording":"रिकॉर्डिंग पुन: उत्पन्न करने में त्रुटि","Error starting recording":"रेकॉर्डिंग शुरू करने में त्रुटि","Error unmuting a user ...":"यूजर को अनम्यूट करने का प्रयास फेल हुआ","Error uploading attachment":"अटैचमेंट अपलोड करते समय त्रुटि","Error uploading file":"फ़ाइल अपलोड करने में त्रुटि","Error uploading image":"छवि अपलोड करने में त्रुटि","Error · Unsent":"फेल","Error: {{ errorMessage }}":"फेल: {{ errorMessage }}","Failed to jump to the first unread message":"पहले अपठित संदेश पर जाने में विफल","Failed to mark channel as read":"चैनल को पढ़ा हुआ चिह्नित करने में विफल।","Failed to play the recording":"रेकॉर्डिंग प्ले करने में विफल",File:Gye,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"फ़ाइल बहुत बड़ी है: {{ size }}, अधिकतम अपलोड साइज़ {{ limit }} है",Flag:Kye,"Generating...":"बना रहा है...","Latest Messages":"नवीनतम संदेश","Load more":"और लोड करें","Mark as unread":"अपठित चिह्नित करें","Maximum number of votes (from 2 to 10)":"अधिकतम वोटों की संख्या (2 से 10)",Menu:Qye,"Message Failed · Click to try again":"मैसेज फ़ैल - पुनः कोशिश करें","Message Failed · Unauthorized":"मैसेज फ़ैल - अनधिकृत","Message deleted":"मैसेज हटा दिया गया","Message has been successfully flagged":"मैसेज को फ्लैग कर दिया गया है","Message pinned":"संदेश पिन किया गया","Message was blocked by moderation policies":"संदेश को मॉडरेशन नीतियों द्वारा ब्लॉक कर दिया गया है","Messages have been marked unread.":"संदेशों को अपठित चिह्नित किया गया है।","Missing permissions to upload the attachment":"अटैचमेंट अपलोड करने के लिए अनुमतियां गायब","Multiple answers":"कई उत्तर",Mute:Zye,New:Xye,"New Messages!":"नए मैसेज!","No chats here yet…":"यहां अभी तक कोई चैट नहीं...","No results found":"कोई परिणाम नहीं मिला","Nobody will be able to vote in this poll anymore.":"अब कोई भी इस मतदान में मतदान नहीं कर सकेगा।","Nothing yet...":"कोई मैसेज नहीं है",Ok:Jye,"Only numbers are allowed":"केवल संख्याएँ अनुमत हैं","Open emoji picker":"इमोजी पिकर खोलिये","Option already exists":"विकल्प पहले से मौजूद है",Options:eve,"People matching":"मेल खाते लोग",Pin:tve,"Pinned by":"द्वारा पिन किया गया",Poll:nve,"Poll comments":"मतदान टिप्पणियाँ","Poll options":"मतदान विकल्प","Poll results":"मतदान परिणाम",Question:rve,Quote:ave,"Recording format is not supported and cannot be reproduced":"रेकॉर्डिंग फ़ॉर्मेट समर्थित नहीं है और पुनः उत्पन्न नहीं किया जा सकता",Reply:ive,"Reply to Message":"संदेश का जवाब दें",Search:sve,"Searching...":"खोज कर...","See all options ({{count}})_one":"सभी विकल्प देखें ({{count}})","See all options ({{count}})_other":"सभी विकल्प देखें ({{count}})","Select one":"एक चुनें","Select one or more":"एक या अधिक चुनें","Select up to {{count}}_one":"अधिकतम {{count}} तक चुनें","Select up to {{count}}_other":"अधिकतम {{count}} तक चुनें",Send:ove,"Send Anyway":"वैसे भी भेजें","Send message request failed":"संदेश भेजने का अनुरोध विफल रहा","Sending...":"भेजा जा रहा है","Show all":"सभी दिखाएँ",Shuffle:lve,"Slow Mode ON":"स्लो मोड ऑन","Some of the files will not be accepted":"कुछ फ़ाइलें स्वीकार नहीं की जाएंगी","Start typing to search":"खोजने के लिए टाइप करना शुरू करें",Submit:cve,"Suggest an option":"एक विकल्प सुझाव दें","Thinking...":"सोच रहा है...","This message did not meet our content guidelines":"यह संदेश हमारे सामग्री दिशानिर्देशों के अनुरूप नहीं था","This message was deleted...":"मैसेज हटा दिया गया",Thread:uve,"To start recording, allow the camera access in your browser":"रिकॉर्डिंग शुरू करने के लिए, अपने ब्राउज़र में कैमरा तक पहुँच दें","To start recording, allow the microphone access in your browser":"रिकॉर्डिंग शुरू करने के लिए, अपने ब्राउज़र में माइक्रोफ़ोन तक पहुँच दें","Type a number from 2 to 10":"2 से 10 तक का एक नंबर टाइप करें","Type your message":"अपना मैसेज लिखे",Unarchive:dve,Unmute:fve,Unpin:hve,"Unread messages":"अपठित संदेश","Unsupported attachment":"असमर्थित अटैचमेंट","Update your comment":"अपने टिप्पणी को अपडेट करें",'Upload type: "{{ type }}" is not allowed':'अपलोड प्रकार: "{{ type }}" की अनुमति नहीं है',"User uploaded content":"उपयोगकर्ता अपलोड की गई सामग्री","View results":"परिणाम देखें","View {{count}} comments_one":"देखें {{count}} टिप्पणी","View {{count}} comments_other":"देखें {{count}} टिप्पणियाँ","Voice message":"आवाज संदेश","Vote ended":"मतदान समाप्त","Wait until all attachments have uploaded":"सभी अटैचमेंट अपलोड होने तक प्रतीक्षा करें",You:pve,"You have no channels currently":"आपके पास कोई चैनल नहीं है","You've reached the maximum number of files":"आप अधिकतम फ़ाइलों तक पहुँच गए हैं","aria/Attachment":"अनुलग्नक","aria/Cancel Reply":"उत्तर रद्द करें","aria/Cancel upload":"अपलोड रद्द करें","aria/Channel list":"चैनल सूची","aria/Channel search results":"चैनल खोज परिणाम","aria/Close thread":"थ्रेड बंद करें","aria/Download attachment":"अनुलग्नक डाउनलोड करें","aria/Emoji picker":"इमोजी चुनने वाला","aria/File input":"फ़ाइल इनपुट","aria/File upload":"फ़ाइल अपलोड","aria/Image input":"छवि इनपुट","aria/Load More Channels":"और चैनल लोड करें","aria/Menu":"मेन्यू","aria/Message Options":"संदेश विकल्प","aria/Open Attachment Selector":"अटैचमेंट चयनकर्ता खोलें","aria/Open Message Actions Menu":"संदेश क्रिया मेन्यू खोलें","aria/Open Reaction Selector":"प्रतिक्रिया चयनकर्ता खोलें","aria/Open Thread":"थ्रेड खोलें","aria/Reaction list":"प्रतिक्रिया सूची","aria/Remove attachment":"संलग्नक हटाएं","aria/Retry upload":"अपलोड पुनः प्रयास करें","aria/Search results":"खोज परिणाम","aria/Search results header filter button":"खोज परिणाम हेडर फ़िल्टर बटन","aria/Send":"भेजें","aria/Stop AI Generation":"एआई जनरेशन रोकें","ban-command-args":"[@उपयोगकर्तनाम] [पाठ]","ban-command-description":"एक उपयोगकर्ता को प्रतिषेधित करें","giphy-command-args":"[पाठ]","giphy-command-description":"चैनल पर एक क्रॉफिल जीआइएफ पोस्ट करें",live:mve,"mute-command-args":"[@उपयोगकर्तनाम]","mute-command-description":"एक उपयोगकर्ता को म्यूट करें",replyCount_one:gve,replyCount_other:yve,"search-results-header-filter-source-button-label--channels":"चैनल्स","search-results-header-filter-source-button-label--messages":"संदेश","search-results-header-filter-source-button-label--users":"उपयोगकर्ता",searchResultsCount_one:vve,searchResultsCount_other:bve,"this content could not be displayed":"यह कॉन्टेंट लोड नहीं हो पाया","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","unban-command-args":"[@उपयोगकर्तनाम]","unban-command-description":"एक उपयोगकर्ता को प्रतिषेध से मुक्त करें","unmute-command-args":"[@उपयोगकर्तनाम]","unmute-command-description":"एक उपयोगकर्ता को अनम्यूट करें",unreadMessagesSeparatorText_one:_ve,unreadMessagesSeparatorText_other:wve,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} और {{ moreCount }} और","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} और {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} और {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} और","{{ memberCount }} members":"{{ memberCount }} मेंबर्स","{{ user }} has been muted":"{{ user }} को म्यूट कर दिया गया है","{{ user }} has been unmuted":"{{ user }} को अनम्यूट कर दिया गया है","{{ user }} is typing...":"{{ user }} टाइप कर रहा है...","{{ users }} and more are typing...":"{{ users }} और अधिक टाइप कर रहे हैं...","{{ users }} and {{ user }} are typing...":"{{ users }} और {{ user }} टाइप कर रहे हैं...","{{ watcherCount }} online":"{{ watcherCount }} ऑनलाइन","{{count}} unread_one":"{{count}} अपठित","{{count}} unread_other":"{{count}} अपठित","{{count}} votes_one":"{{count}} वोट","{{count}} votes_other":"{{count}} वोट","🏙 Attachment...":"🏙 अटैचमेंट","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} ने बनाया: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} ने वोट दिया: {{pollOptionText}}"},Cve="Anonimo",Dve="Archivia",Sve="Annulla",Eve="Chiudi",Mve="Crea",Tve="Elimina",kve="Consegnato",Rve="Modificato",Ave="Fine",Ove="File",Lve="Segnala",Nve="Menù",Pve="Silenzia",Ive="Nuovo",Fve="Ok",jve="Opzioni",Uve="Pin",Bve="Sondaggio",$ve="Domanda",zve="Citazione",Hve="Rispondi",Vve="Cerca",qve="Invia",Yve="Mescolare",Wve="Invia",Gve="Discussione",Kve="Ripristina",Qve="Riattiva il notifiche",Zve="Sblocca",Xve="Tu",Jve="live",e0e="{{ count }} risposte",t0e="Una risposta",n0e="{{ count }} risposte",r0e="{{ count }} risultati",a0e="1 risultato",i0e="{{ count }} risultati",s0e="{{count}} messaggi non letti",o0e="1 messaggio non letto",l0e="{{count}} messaggi non letti",c0e={"Add a comment":"Aggiungi un commento","Add an option":"Aggiungi un'opzione","All results loaded":"Tutti i risultati caricati","Allow access to camera":"Consenti l'accesso alla fotocamera","Allow access to microphone":"Consenti l'accesso al microfono","Allow comments":"Consenti i commenti","Allow option suggestion":"Consenti il suggerimento di opzioni","An error has occurred during recording":"Si è verificato un errore durante la registrazione","An error has occurred during the recording processing":"Si è verificato un errore durante l'elaborazione della registrazione",Anonymous:Cve,"Anonymous poll":"Sondaggio anonimo",Archive:Dve,"Ask a question":"Fai una domanda","Attach files":"Allega file",Cancel:Sve,"Cannot seek in the recording":"Impossibile cercare nella registrazione","Channel Missing":"Il canale non esiste",Close:Eve,"Close emoji picker":"Chiudi il selettore di emoji","Commands matching":"Comandi corrispondenti","Connection failure, reconnecting now...":"Errore di connessione, riconnessione in corso...",Create:Mve,"Create poll":"Crea sondaggio",Delete:Tve,Delivered:kve,"Download attachment {{ name }}":"Scarica l'allegato {{ name }}","Drag your files here":"Trascina i tuoi file qui","Drag your files here to add to your post":"Trascina i tuoi file qui per aggiungerli al tuo post","Edit Message":"Modifica messaggio","Edit message request failed":"Richiesta di modifica del messaggio non riuscita",Edited:Rve,"Emoji matching":"Abbinamento emoji","Empty message...":"Messaggio vuoto...",End:Ave,"End vote":"Termina il voto","Error adding flag":"Errore durante l'aggiunta del flag","Error connecting to chat, refresh the page to try again.":"Errore di connessione alla chat, aggiorna la pagina per riprovare.","Error deleting message":"Errore durante l'eliminazione del messaggio","Error fetching reactions":"Errore nel caricamento delle reazioni","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Errore durante la marcatura del messaggio come non letto. Impossibile marcare messaggi non letti più vecchi dei più recenti 100 messaggi del canale.","Error muting a user ...":"Errore nel silenziare un utente ...","Error pinning message":"Errore durante il blocco del messaggio","Error removing message pin":"Errore durante la rimozione del PIN del messaggio","Error reproducing the recording":"Errore durante la riproduzione della registrazione","Error starting recording":"Errore durante l'avvio della registrazione","Error unmuting a user ...":"Errore nel riattivare un utente ...","Error uploading attachment":"Errore durante il caricamento dell'allegato","Error uploading file":"Errore durante il caricamento del file","Error uploading image":"Errore durante il caricamento dell'immagine","Error · Unsent":"Errore · Non inviato","Error: {{ errorMessage }}":"Errore: {{ errorMessage }}","Failed to jump to the first unread message":"Impossibile passare al primo messaggio non letto","Failed to mark channel as read":"Impossibile contrassegnare il canale come letto","Failed to play the recording":"Impossibile riprodurre la registrazione",File:Ove,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"Il file è troppo grande: {{ size }}, la dimensione massima di caricamento è {{ limit }}",Flag:Lve,"Generating...":"Generando...","Latest Messages":"Ultimi messaggi","Load more":"Carica di più","Mark as unread":"Contrassegna come non letto","Maximum number of votes (from 2 to 10)":"Numero massimo di voti (da 2 a 10)",Menu:Nve,"Message Failed · Click to try again":"Invio messaggio fallito · Clicca per riprovare","Message Failed · Unauthorized":"Invio messaggio fallito · Non autorizzato","Message deleted":"Messaggio cancellato","Message has been successfully flagged":"Il messaggio è stato segnalato con successo","Message pinned":"Messaggio bloccato","Message was blocked by moderation policies":"Il messaggio è stato bloccato dalle politiche di moderazione","Messages have been marked unread.":"I messaggi sono stati contrassegnati come non letti.","Missing permissions to upload the attachment":"Autorizzazioni mancanti per caricare l'allegato","Multiple answers":"Risposte multiple",Mute:Pve,New:Ive,"New Messages!":"Nuovi messaggi!","No chats here yet…":"Non ci sono ancora messaggi qui...","No results found":"Nessun risultato trovato","Nobody will be able to vote in this poll anymore.":"Nessuno potrà più votare in questo sondaggio.","Nothing yet...":"Ancora niente...",Ok:Fve,"Only numbers are allowed":"Sono consentiti solo numeri","Open emoji picker":"Apri il selettore di emoji","Option already exists":"L'opzione esiste già",Options:jve,"People matching":"Persone che corrispondono",Pin:Uve,"Pinned by":"Appuntato da",Poll:Bve,"Poll comments":"Commenti del sondaggio","Poll options":"Opzioni del sondaggio","Poll results":"Risultati del sondaggio",Question:$ve,Quote:zve,"Recording format is not supported and cannot be reproduced":"Il formato di registrazione non è supportato e non può essere riprodotto",Reply:Hve,"Reply to Message":"Rispondi al messaggio",Search:Vve,"Searching...":"Ricerca in corso...","See all options ({{count}})_many":"Vedi tutte le opzioni ({{count}})","See all options ({{count}})_one":"Vedi tutte le opzioni ({{count}})","See all options ({{count}})_other":"Vedi tutte le opzioni ({{count}})","Select one":"Seleziona uno","Select one or more":"Seleziona uno o più","Select up to {{count}}_many":"Seleziona fino a {{count}}","Select up to {{count}}_one":"Seleziona fino a {{count}}","Select up to {{count}}_other":"Seleziona fino a {{count}}",Send:qve,"Send Anyway":"Invia comunque","Send message request failed":"Richiesta di invio messaggio non riuscita","Sending...":"Invio in corso...","Show all":"Mostra tutto",Shuffle:Yve,"Slow Mode ON":"Modalità lenta attivata","Some of the files will not be accepted":"Alcuni dei file non saranno accettati","Start typing to search":"Inizia a digitare per cercare",Submit:Wve,"Suggest an option":"Suggerisci un'opzione","Thinking...":"Pensando...","This message did not meet our content guidelines":"Questo messaggio non soddisfa le nostre linee guida sui contenuti","This message was deleted...":"Questo messaggio è stato cancellato...",Thread:Gve,"To start recording, allow the camera access in your browser":"Per iniziare a registrare, consenti l'accesso alla fotocamera nel tuo browser","To start recording, allow the microphone access in your browser":"Per iniziare a registrare, consenti l'accesso al microfono nel tuo browser","Type a number from 2 to 10":"Digita un numero da 2 a 10","Type your message":"Scrivi il tuo messaggio",Unarchive:Kve,Unmute:Qve,Unpin:Zve,"Unread messages":"Messaggi non letti","Unsupported attachment":"Allegato non supportato","Update your comment":"Aggiorna il tuo commento",'Upload type: "{{ type }}" is not allowed':'Tipo di caricamento: "{{ type }}" non è consentito',"User uploaded content":"Contenuto caricato dall'utente","View results":"Vedi risultati","View {{count}} comments_many":"Visualizza {{count}} commenti","View {{count}} comments_one":"Visualizza {{count}} commento","View {{count}} comments_other":"Visualizza {{count}} commenti","Voice message":"Messaggio vocale","Vote ended":"Voto terminato","Wait until all attachments have uploaded":"Attendi il caricamento di tutti gli allegati",You:Xve,"You have no channels currently":"Al momento non sono presenti canali","You've reached the maximum number of files":"Hai raggiunto il numero massimo di file","aria/Attachment":"Allegato","aria/Cancel Reply":"Annulla risposta","aria/Cancel upload":"Annulla caricamento","aria/Channel list":"Elenco dei canali","aria/Channel search results":"Risultati della ricerca dei canali","aria/Close thread":"Chiudi discussione","aria/Download attachment":"Scarica l'allegato","aria/Emoji picker":"Selettore di emoji","aria/File input":"Input di file","aria/File upload":"Caricamento di file","aria/Image input":"Input di immagine","aria/Load More Channels":"Carica altri canali","aria/Menu":"Menu","aria/Message Options":"Opzioni di messaggio","aria/Open Attachment Selector":"Apri selettore allegati","aria/Open Message Actions Menu":"Apri il menu delle azioni di messaggio","aria/Open Reaction Selector":"Apri il selettore di reazione","aria/Open Thread":"Apri discussione","aria/Reaction list":"Elenco delle reazioni","aria/Remove attachment":"Rimuovi allegato","aria/Retry upload":"Riprova caricamento","aria/Search results":"Risultati della ricerca","aria/Search results header filter button":"Pulsante filtro intestazione risultati ricerca","aria/Send":"Invia","aria/Stop AI Generation":"Interrompi generazione IA","ban-command-args":"[@nomeutente] [testo]","ban-command-description":"Vietare un utente","giphy-command-args":"[testo]","giphy-command-description":"Pubblica un gif casuale sul canale",live:Jve,"mute-command-args":"[@nomeutente]","mute-command-description":"Silenzia un utente",replyCount_many:e0e,replyCount_one:t0e,replyCount_other:n0e,"search-results-header-filter-source-button-label--channels":"canali","search-results-header-filter-source-button-label--messages":"messaggi","search-results-header-filter-source-button-label--users":"utenti",searchResultsCount_many:r0e,searchResultsCount_one:a0e,searchResultsCount_other:i0e,"this content could not be displayed":"questo contenuto non può essere mostrato","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","unban-command-args":"[@nomeutente]","unban-command-description":"Togliere il divieto a un utente","unmute-command-args":"[@nomeutente]","unmute-command-description":"Togliere il silenzio a un utente",unreadMessagesSeparatorText_many:s0e,unreadMessagesSeparatorText_one:o0e,unreadMessagesSeparatorText_other:l0e,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} e altri {{ moreCount }}","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} e {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} e {{ secondUser }}","{{ imageCount }} more":"+ {{ imageCount }}","{{ memberCount }} members":"{{ memberCount }} membri","{{ user }} has been muted":"{{ user }} è stato silenziato","{{ user }} has been unmuted":"Notifiche riattivate per {{ user }}","{{ user }} is typing...":"{{ user }} sta digitando...","{{ users }} and more are typing...":"{{ users }} e altri stanno digitando...","{{ users }} and {{ user }} are typing...":"{{ users }} e {{ user }} stanno digitando...","{{ watcherCount }} online":"{{ watcherCount }} online","{{count}} unread_many":"{{count}} non letti","{{count}} unread_one":"{{count}} non letto","{{count}} unread_other":"{{count}} non letti","{{count}} votes_many":"{{count}} voti","{{count}} votes_one":"{{count}} voto","{{count}} votes_other":"{{count}} voti","🏙 Attachment...":"🏙 Allegato...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} ha creato: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} ha votato: {{pollOptionText}}"},u0e="匿名",d0e="アーカイブ",f0e="キャンセル",h0e="閉める",p0e="作成",m0e="消去",g0e="配信しました",y0e="編集済み",v0e="終了",b0e="ファイル",_0e="フラグ",w0e="メニュー",x0e="無音",C0e="新しい",D0e="OK",S0e="オプション",E0e="ピン",M0e="投票",T0e="質問",k0e="引用",R0e="返事",A0e="探す",O0e="送信",L0e="シャッフル",N0e="送信",P0e="スレッド",I0e="アーカイブ解除",F0e="無音を解除する",j0e="ピンを解除する",U0e="あなた",B0e="ライブ",$0e="1件の返信",z0e="{{ count }} 返信",H0e="1件の結果",V0e="{{ count }}件の結果",q0e="未読メッセージ {{count}} 件",Y0e={"Add a comment":"コメントを追加","Add an option":"オプションを追加","All results loaded":"すべての結果が読み込まれました","Allow access to camera":"カメラへのアクセスを許可する","Allow access to microphone":"マイクロフォンへのアクセスを許可する","Allow comments":"コメントを許可","Allow option suggestion":"オプションの提案を許可","An error has occurred during recording":"録音中にエラーが発生しました","An error has occurred during the recording processing":"録音処理中にエラーが発生しました",Anonymous:u0e,"Anonymous poll":"匿名投票",Archive:d0e,"Ask a question":"質問する","Attach files":"ファイルを添付する",Cancel:f0e,"Cannot seek in the recording":"録音中にシークできません","Channel Missing":"チャネルがありません",Close:h0e,"Close emoji picker":"絵文字ピッカーを閉める","Commands matching":"一致するコマンド","Connection failure, reconnecting now...":"接続が失敗しました。再接続中...",Create:p0e,"Create poll":"投票を作成",Delete:m0e,Delivered:g0e,"Download attachment {{ name }}":"添付ファイル {{ name }} をダウンロード","Drag your files here":"ここにファイルをドラッグ","Drag your files here to add to your post":"投稿に追加するためにここにファイルをドラッグ","Edit Message":"メッセージを編集","Edit message request failed":"メッセージの編集要求が失敗しました",Edited:y0e,"Emoji matching":"絵文字マッチング","Empty message...":"空のメッセージ...",End:v0e,"End vote":"投票を終了","Error adding flag":"フラグを追加のエラーが発生しました","Error connecting to chat, refresh the page to try again.":"チャットへの接続ができませんでした。ページを更新してください。","Error deleting message":"メッセージを削除するエラーが発生しました","Error fetching reactions":"反応の読み込みエラー","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"メッセージを未読にする際にエラーが発生しました。最新の100件のチャンネルメッセージより古い未読メッセージはマークできません。","Error muting a user ...":"ユーザーを無音するエラーが発生しました...","Error pinning message":"メッセージをピンのエラーが発生しました","Error removing message pin":"メッセージのピンを削除のエラーが発生しました","Error reproducing the recording":"録音の再生中にエラーが発生しました","Error starting recording":"録音の開始時にエラーが発生しました","Error unmuting a user ...":"ユーザーの無音解除のエラーが発生しました...","Error uploading attachment":"添付ファイルのアップロード中にエラーが発生しました","Error uploading file":"ファイルをアップロードのエラーが発生しました","Error uploading image":"画像をアップロードのエラーが発生しました","Error · Unsent":"エラー・未送信","Error: {{ errorMessage }}":"エラー: {{ errorMessage }}","Failed to jump to the first unread message":"最初の未読メッセージにジャンプできませんでした","Failed to mark channel as read":"チャンネルを既読にすることができませんでした","Failed to play the recording":"録音の再生に失敗しました",File:b0e,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"ファイルが大きすぎます：{{ size }}、最大アップロードサイズは{{ limit }}です",Flag:_0e,"Generating...":"生成中...","Latest Messages":"最新のメッセージ","Load more":"もっと読み込む","Mark as unread":"未読としてマーク","Maximum number of votes (from 2 to 10)":"最大投票数（2から10まで）",Menu:w0e,"Message Failed · Click to try again":"メッセージが失敗しました · クリックして再試行してください","Message Failed · Unauthorized":"メッセージが失敗しました · 許可されていません","Message deleted":"メッセージが削除されました","Message has been successfully flagged":"メッセージに正常にフラグが付けられました","Message pinned":"メッセージにピンが付けられました","Message was blocked by moderation policies":"メッセージはモデレーションポリシーによってブロックされました","Messages have been marked unread.":"メッセージは未読としてマークされました。","Missing permissions to upload the attachment":"添付ファイルをアップロードするための許可がありません","Multiple answers":"複数回答",Mute:x0e,New:C0e,"New Messages!":"新しいメッセージ!","No chats here yet…":"ここにはまだチャットはありません…","No results found":"結果が見つかりません","Nobody will be able to vote in this poll anymore.":"この投票では、誰も投票できなくなります。","Nothing yet...":"まだ何もありません...",Ok:D0e,"Only numbers are allowed":"数字のみ許可されています","Open emoji picker":"絵文字ピッカーを開く","Option already exists":"オプションは既に存在します",Options:S0e,"People matching":"一致する人",Pin:E0e,"Pinned by":"ピンした方",Poll:M0e,"Poll comments":"投票コメント","Poll options":"投票オプション","Poll results":"投票結果",Question:T0e,Quote:k0e,"Recording format is not supported and cannot be reproduced":"録音形式はサポートされておらず、再生できません",Reply:R0e,"Reply to Message":"メッセージに返信",Search:A0e,"Searching...":"検索中...","See all options ({{count}})_other":"すべてのオプションを見る ({{count}})","Select one":"1つ選択","Select one or more":"1つ以上選択","Select up to {{count}}_other":"最大{{count}}まで選択",Send:O0e,"Send Anyway":"とにかく送信する","Send message request failed":"メッセージ送信リクエストが失敗しました","Sending...":"送信中...","Show all":"すべて表示",Shuffle:L0e,"Slow Mode ON":"スローモードオン","Some of the files will not be accepted":"一部のファイルは受け付けられません","Start typing to search":"検索するには入力を開始してください",Submit:N0e,"Suggest an option":"オプションを提案","Thinking...":"考え中...","This message did not meet our content guidelines":"このメッセージはコンテンツガイドラインに適合していません","This message was deleted...":"このメッセージは削除されました...",Thread:P0e,"To start recording, allow the camera access in your browser":"録音を開始するには、ブラウザーでカメラへのアクセスを許可してください","To start recording, allow the microphone access in your browser":"録音を開始するには、ブラウザーでマイクロフォンへのアクセスを許可してください","Type a number from 2 to 10":"2から10までの数字を入力してください","Type your message":"メッセージを入力してください",Unarchive:I0e,Unmute:F0e,Unpin:j0e,"Unread messages":"未読メッセージ","Unsupported attachment":"サポートされていない添付ファイル","Update your comment":"コメントを更新",'Upload type: "{{ type }}" is not allowed':'アップロードタイプ："{{ type }}"は許可されていません',"User uploaded content":"ユーザーがアップロードしたコンテンツ","View results":"結果を表示","View {{count}} comments_other":"{{count}} コメントを表示","Voice message":"ボイスメッセージ","Vote ended":"投票が終了しました","Wait until all attachments have uploaded":"すべての添付ファイルがアップロードされるまでお待ちください",You:U0e,"You have no channels currently":"現在チャンネルはありません","You've reached the maximum number of files":"ファイルの最大数に達しました","aria/Attachment":"添付ファイル","aria/Cancel Reply":"返信をキャンセル","aria/Cancel upload":"アップロードをキャンセル","aria/Channel list":"チャンネル一覧","aria/Channel search results":"チャンネル検索結果","aria/Close thread":"スレッドを閉じる","aria/Download attachment":"添付ファイルをダウンロード","aria/Emoji picker":"絵文字ピッカー","aria/File input":"ファイル入力","aria/File upload":"ファイルアップロード","aria/Image input":"画像入力","aria/Load More Channels":"さらにチャンネルを読み込む","aria/Menu":"メニュー","aria/Message Options":"メッセージオプション","aria/Open Attachment Selector":"添付ファイル選択を開く","aria/Open Message Actions Menu":"メッセージアクションメニューを開く","aria/Open Reaction Selector":"リアクションセレクターを開く","aria/Open Thread":"スレッドを開く","aria/Reaction list":"リアクション一覧","aria/Remove attachment":"添付ファイルを削除","aria/Retry upload":"アップロードを再試行","aria/Search results":"検索結果","aria/Search results header filter button":"検索結果ヘッダーフィルターボタン","aria/Send":"送信","aria/Stop AI Generation":"AI生成を停止","ban-command-args":"[@ユーザ名] [テキスト]","ban-command-description":"ユーザーを禁止する","giphy-command-args":"[テキスト]","giphy-command-description":"チャンネルにランダムなGIFを投稿する",live:B0e,"mute-command-args":"[@ユーザ名]","mute-command-description":"ユーザーをミュートする",replyCount_one:$0e,replyCount_other:z0e,"search-results-header-filter-source-button-label--channels":"チャンネル","search-results-header-filter-source-button-label--messages":"メッセージ","search-results-header-filter-source-button-label--users":"ユーザー",searchResultsCount_one:H0e,searchResultsCount_other:V0e,"this content could not be displayed":"このコンテンツは表示できませんでした","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","unban-command-args":"[@ユーザ名]","unban-command-description":"ユーザーの禁止を解除する","unmute-command-args":"[@ユーザ名]","unmute-command-description":"ユーザーのミュートを解除する",unreadMessagesSeparatorText_other:q0e,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} と {{ moreCount }} 他人","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} と {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} と {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} イメージ","{{ memberCount }} members":"{{ memberCount }} メンバー","{{ user }} has been muted":"{{ user }} 無音されています","{{ user }} has been unmuted":"{{ user }} 無音されていません","{{ user }} is typing...":"{{ user }} が入力中...","{{ users }} and more are typing...":"{{ users }} とその他が入力中...","{{ users }} and {{ user }} are typing...":"{{ users }} と {{ user }} が入力中...","{{ watcherCount }} online":"{{ watcherCount }} オンライン","{{count}} unread_other":"{{count}} 未読","{{count}} votes_other":"{{count}} 票","🏙 Attachment...":"🏙 アタッチメント...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} が作成: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} が投票: {{pollOptionText}}"},W0e="익명",G0e="아카이브",K0e="취소",Q0e="닫기",Z0e="생성",X0e="삭제",J0e="배달됨",e1e="편집됨",t1e="종료",n1e="파일",r1e="플래그",a1e="메뉴",i1e="무음",s1e="새로운",o1e="확인",l1e="옵션",c1e="핀",u1e="투표",d1e="질문",f1e="인용",h1e="답장",p1e="찾다",m1e="보내다",g1e="셔플",y1e="제출",v1e="스레드",b1e="아카이브 해제",_1e="음소거 해제",w1e="핀 해제",x1e="당신",C1e="라이브",D1e="답장 1개",S1e="{{ count }} 답장",E1e="1개의 결과",M1e="{{ count }}개 결과",T1e="읽지 않은 메시지 {{count}}개",k1e={"Add a comment":"댓글 추가","Add an option":"옵션 추가","All results loaded":"모든 결과가 로드되었습니다","Allow access to camera":"카메라에 대한 액세스 허용","Allow access to microphone":"마이크로폰에 대한 액세스 허용","Allow comments":"댓글 허용","Allow option suggestion":"옵션 제안 허용","An error has occurred during recording":"녹음 중 오류가 발생했습니다","An error has occurred during the recording processing":"녹음 처리 중 오류가 발생했습니다",Anonymous:W0e,"Anonymous poll":"익명 투표",Archive:G0e,"Ask a question":"질문하기","Attach files":"파일 첨부",Cancel:K0e,"Cannot seek in the recording":"녹음에서 찾을 수 없습니다","Channel Missing":"채널 누락",Close:Q0e,"Close emoji picker":"이모티콘 선택기 닫기","Commands matching":"일치하는 명령","Connection failure, reconnecting now...":"연결 실패, 지금 다시 연결 중...",Create:Z0e,"Create poll":"투표 생성",Delete:X0e,Delivered:J0e,"Download attachment {{ name }}":"첨부 파일 {{ name }} 다운로드","Drag your files here":"여기로 파일을 끌어다 놓으세요","Drag your files here to add to your post":"게시물에 추가하려면 파일을 여기로 끌어다 놓으세요","Edit Message":"메시지 수정","Edit message request failed":"메시지 수정 요청 실패",Edited:e1e,"Emoji matching":"이모티콘 매칭","Empty message...":"빈 메시지...",End:t1e,"End vote":"투표 종료","Error adding flag":"플래그를 추가하는 동안 오류가 발생했습니다.","Error connecting to chat, refresh the page to try again.":"채팅에 연결하는 동안 오류가 발생했습니다. 페이지를 새로고침하여 다시 시도하세요.","Error deleting message":"메시지를 삭제하는 중에 오류가 발생했습니다.","Error fetching reactions":"반응 로딩 오류.","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"메시지를 읽지 않음으로 표시하는 중 오류가 발생했습니다. 가장 최근 100개의 채널 메시지보다 오래된 읽지 않은 메시지는 표시할 수 없습니다.","Error muting a user ...":"사용자를 음소거하는 중에 오류가 발생했습니다...","Error pinning message":"메시지를 핀하는 중에 오류가 발생했습니다.","Error removing message pin":"메시지 핀을 제거하는 중에 오류가 발생했습니다.","Error reproducing the recording":"녹음 재생 중 오류 발생","Error starting recording":"녹음 시작 중 오류가 발생했습니다","Error unmuting a user ...":"사용자 음소거 해제 중 오류 발생...","Error uploading attachment":"첨부 파일 업로드 중 오류가 발생했습니다","Error uploading file":"파일 업로드 오류","Error uploading image":"이미지를 업로드하는 동안 오류가 발생했습니다.","Error · Unsent":"오류 · 전송되지 않음","Error: {{ errorMessage }}":"오류: {{ errorMessage }}","Failed to jump to the first unread message":"첫 번째 읽지 않은 메시지로 이동하지 못했습니다","Failed to mark channel as read":"채널을 읽음으로 표시하는 데 실패했습니다","Failed to play the recording":"녹음을 재생하지 못했습니다",File:n1e,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"파일이 너무 큽니다: {{ size }}, 최대 업로드 크기는 {{ limit }}입니다",Flag:r1e,"Generating...":"생성 중...","Latest Messages":"최신 메시지","Load more":"더 불러오기","Mark as unread":"읽지 않음으로 표시","Maximum number of votes (from 2 to 10)":"최대 투표 수 (2에서 10까지)",Menu:a1e,"Message Failed · Click to try again":"메시지 실패 · 다시 시도하려면 클릭하세요.","Message Failed · Unauthorized":"메시지 실패 · 승인되지 않음","Message deleted":"메시지가 삭제되었습니다.","Message has been successfully flagged":"메시지에 플래그가 지정되었습니다.","Message pinned":"메시지 핀했습니다","Message was blocked by moderation policies":"메시지가 관리 정책에 의해 차단되었습니다.","Messages have been marked unread.":"메시지가 읽지 않음으로 표시되었습니다.","Missing permissions to upload the attachment":"첨부 파일을 업로드하려면 권한이 필요합니다","Multiple answers":"복수 응답",Mute:i1e,New:s1e,"New Messages!":"새 메시지!","No chats here yet…":"아직 채팅이 없습니다...","No results found":"검색 결과가 없습니다","Nobody will be able to vote in this poll anymore.":"이 투표에 더 이상 아무도 투표할 수 없습니다.","Nothing yet...":"아직 아무것도...",Ok:o1e,"Only numbers are allowed":"숫자만 입력 가능합니다","Open emoji picker":"이모지 선택기 열기","Option already exists":"옵션이 이미 존재합니다",Options:l1e,"People matching":"일치하는 사람",Pin:c1e,"Pinned by":"핀했던 분:",Poll:u1e,"Poll comments":"투표 댓글","Poll options":"투표 옵션","Poll results":"투표 결과",Question:d1e,Quote:f1e,"Recording format is not supported and cannot be reproduced":"녹음 형식이 지원되지 않으므로 재생할 수 없습니다",Reply:h1e,"Reply to Message":"메시지에 답장",Search:p1e,"Searching...":"수색...","See all options ({{count}})_other":"모든 옵션 보기 ({{count}})","Select one":"하나 선택","Select one or more":"하나 이상 선택","Select up to {{count}}_other":"{{count}}개까지 선택",Send:m1e,"Send Anyway":"어쨌든 보내기","Send message request failed":"메시지 보내기 요청 실패","Sending...":"배상중...","Show all":"모두 보기",Shuffle:g1e,"Slow Mode ON":"슬로우 모드 켜짐","Some of the files will not be accepted":"일부 파일은 허용되지 않을 수 있습니다","Start typing to search":"검색하려면 입력을 시작하세요",Submit:y1e,"Suggest an option":"옵션 제안","Thinking...":"생각 중...","This message did not meet our content guidelines":"이 메시지는 콘텐츠 가이드라인을 충족하지 않습니다.","This message was deleted...":"이 메시지는 삭제되었습니다...",Thread:v1e,"To start recording, allow the camera access in your browser":"브라우저에서 카메라 액세스를 허용하여 녹음을 시작합니다","To start recording, allow the microphone access in your browser":"브라우저에서 마이크로폰 액세스를 허용하여 녹음을 시작합니다","Type a number from 2 to 10":"2에서 10 사이의 숫자를 입력하세요","Type your message":"메시지 입력",Unarchive:b1e,Unmute:_1e,Unpin:w1e,"Unread messages":"읽지 않은 메시지","Unsupported attachment":"지원되지 않는 첨부 파일","Update your comment":"댓글 업데이트",'Upload type: "{{ type }}" is not allowed':'업로드 유형: "{{ type }}"은(는) 허용되지 않습니다.',"User uploaded content":"사용자 업로드 콘텐츠","View results":"결과 보기","View {{count}} comments_other":"{{count}}개의 댓글 보기","Voice message":"음성 메시지","Vote ended":"투표 종료","Wait until all attachments have uploaded":"모든 첨부 파일이 업로드될 때까지 기다립니다.",You:x1e,"You have no channels currently":"현재 채널이 없습니다.","You've reached the maximum number of files":"최대 파일 수에 도달했습니다.","aria/Attachment":"첨부 파일","aria/Cancel Reply":"답장 취소","aria/Cancel upload":"업로드 취소","aria/Channel list":"채널 목록","aria/Channel search results":"채널 검색 결과","aria/Close thread":"스레드 닫기","aria/Download attachment":"첨부 파일 다운로드","aria/Emoji picker":"이모지 선택기","aria/File input":"파일 입력","aria/File upload":"파일 업로드","aria/Image input":"이미지 입력","aria/Load More Channels":"더 많은 채널 불러오기","aria/Menu":"메뉴","aria/Message Options":"메시지 옵션","aria/Open Attachment Selector":"첨부 파일 선택기 열기","aria/Open Message Actions Menu":"메시지 액션 메뉴 열기","aria/Open Reaction Selector":"반응 선택기 열기","aria/Open Thread":"스레드 열기","aria/Reaction list":"반응 목록","aria/Remove attachment":"첨부 파일 제거","aria/Retry upload":"업로드 다시 시도","aria/Search results":"검색 결과","aria/Search results header filter button":"검색 결과 헤더 필터 버튼","aria/Send":"보내기","aria/Stop AI Generation":"AI 생성 중지","ban-command-args":"[@사용자이름] [텍스트]","ban-command-description":"사용자를 차단","giphy-command-args":"[텍스트]","giphy-command-description":"채널에 무작위 GIF 게시",live:C1e,"mute-command-args":"[@사용자이름]","mute-command-description":"사용자 음소거",replyCount_one:D1e,replyCount_other:S1e,"search-results-header-filter-source-button-label--channels":"채널","search-results-header-filter-source-button-label--messages":"메시지","search-results-header-filter-source-button-label--users":"사용자",searchResultsCount_one:E1e,searchResultsCount_other:M1e,"this content could not be displayed":"이 콘텐츠를 표시할 수 없습니다","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","unban-command-args":"[@사용자이름]","unban-command-description":"사용자 차단 해제","unmute-command-args":"[@사용자이름]","unmute-command-description":"사용자 음소거 해제",unreadMessagesSeparatorText_other:T1e,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} 그리고 {{ moreCount }}명 더","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} 그리고 {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} 그리고 {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }}개 더","{{ memberCount }} members":"{{ memberCount }}명","{{ user }} has been muted":"{{ user }} 음소거되었습니다","{{ user }} has been unmuted":"{{ user }} 음소거가 해제되었습니다","{{ user }} is typing...":"{{ user }}이(가) 입력 중입니다...","{{ users }} and more are typing...":"{{ users }}와(과) 더 많은 사람들이 입력 중입니다...","{{ users }} and {{ user }} are typing...":"{{ users }}와(과) {{ user }}이(가) 입력 중입니다...","{{ watcherCount }} online":"{{ watcherCount }} 온라인","{{count}} unread_other":"{{count}} 읽지 않음","{{count}} votes_other":"{{count}} 투표","🏙 Attachment...":"🏙 부착...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}}이(가) 생성함: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}}이(가) 투표함: {{pollOptionText}}"},R1e="Anoniem",A1e="Archief",O1e="Annuleer",L1e="Sluit",N1e="Maak",P1e="Verwijder",I1e="Afgeleverd",F1e="Bewerkt",j1e="Einde",U1e="Bestand",B1e="Markeer",$1e="Menu",z1e="Dempen",H1e="Nieuwe",V1e="Oké",q1e="Opties",Y1e="Pin",W1e="Peiling",G1e="Vraag",K1e="Citeer",Q1e="Antwoord",Z1e="Zoeken",X1e="Verstuur",J1e="Schudden",ebe="Versturen",tbe="Draadje",nbe="Uit archief halen",rbe="Dempen opheffen",abe="Losmaken",ibe="Jij",sbe="live",obe="1 antwoord",lbe="{{ count }} antwoorden",cbe="1 resultaat",ube="{{ count }} resultaten",dbe="1 ongelezen bericht",fbe="{{count}} ongelezen berichten",hbe={"Add a comment":"Voeg een opmerking toe","Add an option":"Voeg een optie toe","All results loaded":"Alle resultaten geladen","Allow access to camera":"Toegang tot camera toestaan","Allow access to microphone":"Toegang tot microfoon toestaan","Allow comments":"Sta opmerkingen toe","Allow option suggestion":"Sta optie-suggesties toe","An error has occurred during recording":"Er is een fout opgetreden tijdens het opnemen","An error has occurred during the recording processing":"Er is een fout opgetreden tijdens de verwerking van de opname",Anonymous:R1e,"Anonymous poll":"Anonieme peiling",Archive:A1e,"Ask a question":"Stel een vraag","Attach files":"Bijlage toevoegen",Cancel:O1e,"Cannot seek in the recording":"Kan niet zoeken in de opname","Channel Missing":"Kanaal niet gevonden",Close:L1e,"Close emoji picker":"Sluit de emoji-kiezer","Commands matching":"Bijpassende opdrachten","Connection failure, reconnecting now...":"Verbindingsfout, opnieuw verbinden...",Create:N1e,"Create poll":"Maak peiling",Delete:P1e,Delivered:I1e,"Download attachment {{ name }}":"Bijlage {{ name }} downloaden","Drag your files here":"Sleep je bestanden hier naartoe","Drag your files here to add to your post":"Sleep je bestanden hier naartoe om aan je bericht toe te voegen","Edit Message":"Bericht bewerken","Edit message request failed":"Verzoek om bericht bewerken mislukt",Edited:F1e,"Emoji matching":"Emoji-overeenkomsten","Empty message...":"Leeg bericht...",End:j1e,"End vote":"Einde stem","Error adding flag":"Fout bij toevoegen van vlag","Error connecting to chat, refresh the page to try again.":"Fout bij het verbinden, ververs de pagina om nogmaals te proberen","Error deleting message":"Fout bij verwijderen van bericht","Error fetching reactions":"Fout bij het laden van reacties","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Fout bij markeren van bericht als ongelezen. Kan geen oudere ongelezen berichten markeren dan de nieuwste 100 kanaalberichten.","Error muting a user ...":"Fout bij het muten van de gebruiker","Error pinning message":"Fout bij vastzetten van bericht","Error removing message pin":"Fout bij verwijderen van berichtpin","Error reproducing the recording":"Fout bij het afspelen van de opname","Error starting recording":"Fout bij het starten van de opname","Error unmuting a user ...":"Fout bij het unmuten van de gebruiker","Error uploading attachment":"Fout bij het uploaden van de bijlage","Error uploading file":"Fout bij uploaden bestand","Error uploading image":"Fout bij uploaden afbeelding","Error · Unsent":"Fout · niet verzonden","Error: {{ errorMessage }}":"Fout: {{ errorMessage }}","Failed to jump to the first unread message":"Niet gelukt om naar het eerste ongelezen bericht te springen","Failed to mark channel as read":"Kanaal kon niet als gelezen worden gemarkeerd","Failed to play the recording":"Kan de opname niet afspelen",File:U1e,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"Bestand is te groot: {{ size }}, maximale uploadgrootte is {{ limit }}",Flag:B1e,"Generating...":"Genereren...","Latest Messages":"Laatste berichten","Load more":"Meer laden","Mark as unread":"Markeren als ongelezen","Maximum number of votes (from 2 to 10)":"Maximaal aantal stemmen (van 2 tot 10)",Menu:$1e,"Message Failed · Click to try again":"Bericht mislukt, klik om het nogmaals te proberen","Message Failed · Unauthorized":"Bericht mislukt, ongeautoriseerd","Message deleted":"Bericht verwijderd","Message has been successfully flagged":"Bericht is succesvol gemarkeerd","Message pinned":"Bericht vastgezet","Message was blocked by moderation policies":"Bericht is geblokkeerd door moderatiebeleid","Messages have been marked unread.":"Berichten zijn gemarkeerd als ongelezen.","Missing permissions to upload the attachment":"Missende toestemmingen om de bijlage te uploaden","Multiple answers":"Meerdere antwoorden",Mute:z1e,New:H1e,"New Messages!":"Nieuwe Berichten!","No chats here yet…":"Nog geen chats hier...","No results found":"Geen resultaten gevonden","Nobody will be able to vote in this poll anymore.":"Niemand kan meer stemmen in deze peiling.","Nothing yet...":"Nog niets ...",Ok:V1e,"Only numbers are allowed":"Alleen nummers zijn toegestaan","Open emoji picker":"Emoji-kiezer openen","Option already exists":"Optie bestaat al",Options:q1e,"People matching":"Mensen die matchen",Pin:Y1e,"Pinned by":"Vastgemaakt door",Poll:W1e,"Poll comments":"Peiling opmerkingen","Poll options":"Peiling opties","Poll results":"Peiling resultaten",Question:G1e,Quote:K1e,"Recording format is not supported and cannot be reproduced":"Opnameformaat wordt niet ondersteund en kan niet worden gereproduceerd",Reply:Q1e,"Reply to Message":"Antwoord op bericht",Search:Z1e,"Searching...":"Zoeken...","See all options ({{count}})_one":"Bekijk alle opties ({{count}})","See all options ({{count}})_other":"Bekijk alle opties ({{count}})","Select one":"Selecteer er een","Select one or more":"Selecteer een of meer","Select up to {{count}}_one":"Selecteer tot {{count}}","Select up to {{count}}_other":"Selecteer tot {{count}}",Send:X1e,"Send Anyway":"Toch versturen","Send message request failed":"Verzoek om bericht te verzenden mislukt","Sending...":"Aan het verzenden...","Show all":"Toon alles",Shuffle:J1e,"Slow Mode ON":"Langzame modus aan","Some of the files will not be accepted":"Sommige bestanden zullen niet worden geaccepteerd","Start typing to search":"Begin met typen om te zoeken",Submit:ebe,"Suggest an option":"Stel een optie voor","Thinking...":"Denken...","This message did not meet our content guidelines":"Dit bericht voldeed niet aan onze inhoudsrichtlijnen","This message was deleted...":"Dit bericht was verwijderd",Thread:tbe,"To start recording, allow the camera access in your browser":"Om te beginnen met opnemen, sta toegang tot de camera toe in uw browser","To start recording, allow the microphone access in your browser":"Om te beginnen met opnemen, sta toegang tot de microfoon toe in uw browser","Type a number from 2 to 10":"Typ een getal van 2 tot 10","Type your message":"Type je bericht",Unarchive:nbe,Unmute:rbe,Unpin:abe,"Unread messages":"Ongelezen berichten","Unsupported attachment":"Niet-ondersteunde bijlage","Update your comment":"Werk je opmerking bij",'Upload type: "{{ type }}" is not allowed':'Uploadtype: "{{ type }}" is niet toegestaan',"User uploaded content":"Gebruikersgeüploade inhoud","View results":"Bekijk resultaten","View {{count}} comments_one":"Bekijk {{count}} opmerkingen","View {{count}} comments_other":"Bekijk {{count}} opmerkingen","Voice message":"Spraakbericht","Vote ended":"Stemmen beëindigd","Wait until all attachments have uploaded":"Wacht tot alle bijlagen zijn geüpload",You:ibe,"You have no channels currently":"Er zijn geen chats beschikbaar","You've reached the maximum number of files":"Je hebt het maximale aantal bestanden bereikt","aria/Attachment":"Bijlage","aria/Cancel Reply":"Antwoord annuleren","aria/Cancel upload":"Upload annuleren","aria/Channel list":"Kanaallijst","aria/Channel search results":"Zoekresultaten voor kanalen","aria/Close thread":"Draad sluiten","aria/Download attachment":"Bijlage downloaden","aria/Emoji picker":"Emoji kiezer","aria/File input":"Bestandsinvoer","aria/File upload":"Bestand uploaden","aria/Image input":"Afbeelding invoeren","aria/Load More Channels":"Meer kanalen laden","aria/Menu":"Menu","aria/Message Options":"Berichtopties","aria/Open Attachment Selector":"Open bijlage selector","aria/Open Message Actions Menu":"Menu voor berichtacties openen","aria/Open Reaction Selector":"Reactiekiezer openen","aria/Open Thread":"Draad openen","aria/Reaction list":"Reactielijst","aria/Remove attachment":"Bijlage verwijderen","aria/Retry upload":"Upload opnieuw proberen","aria/Search results":"Zoekresultaten","aria/Search results header filter button":"Zoekresultaten header filter knop","aria/Send":"Verzenden","aria/Stop AI Generation":"AI-generatie stoppen","ban-command-args":"[@gebruikersnaam] [tekst]","ban-command-description":"Een gebruiker verbannen","giphy-command-args":"[tekst]","giphy-command-description":"Plaats een willekeurige gif in het kanaal",live:sbe,"mute-command-args":"[@gebruikersnaam]","mute-command-description":"Een gebruiker dempen",replyCount_one:obe,replyCount_other:lbe,"search-results-header-filter-source-button-label--channels":"kanalen","search-results-header-filter-source-button-label--messages":"berichten","search-results-header-filter-source-button-label--users":"gebruikers",searchResultsCount_one:cbe,searchResultsCount_other:ube,"this content could not be displayed":"Deze inhoud kan niet weergegeven worden","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","unban-command-args":"[@gebruikersnaam]","unban-command-description":"Een gebruiker debannen","unmute-command-args":"[@gebruikersnaam]","unmute-command-description":"Een gebruiker niet meer dempen",unreadMessagesSeparatorText_one:dbe,unreadMessagesSeparatorText_other:fbe,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} en {{ moreCount }} meer","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} en {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} en {{ secondUser }}","{{ imageCount }} more":"+{{ imageCount }}","{{ memberCount }} members":"{{ memberCount }} deelnemers","{{ user }} has been muted":"{{ user }} is gedempt","{{ user }} has been unmuted":"{{ user }} is niet meer gedempt","{{ user }} is typing...":"{{ user }} is aan het typen...","{{ users }} and more are typing...":"{{ users }} en meer zijn aan het typen...","{{ users }} and {{ user }} are typing...":"{{ users }} en {{ user }} zijn aan het typen...","{{ watcherCount }} online":"{{ watcherCount }} online","{{count}} unread_one":"{{count}} ongelezen","{{count}} unread_other":"{{count}} ongelezen","{{count}} votes_one":"{{count}} stem","{{count}} votes_other":"{{count}} stemmen","🏙 Attachment...":"🏙 Bijlage...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} heeft gemaakt: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} heeft gestemd: {{pollOptionText}}"},pbe="Anônimo",mbe="Arquivar",gbe="Cancelar",ybe="Fechar",vbe="Criar",bbe="Excluir",_be="Entregue",wbe="Editada",xbe="Fim",Cbe="Arquivo",Dbe="Reportar",Sbe="Menu",Ebe="Silenciar",Mbe="Novo",Tbe="Ok",kbe="Opções",Rbe="Fixar",Abe="Enquete",Obe="Pergunta",Lbe="Citar",Nbe="Responder",Pbe="Buscar",Ibe="Enviar",Fbe="Embaralhar",jbe="Enviar",Ube="Fio",Bbe="Desarquivar",$be="Ativar som",zbe="Desfixar",Hbe="Você",Vbe="ao vivo",qbe="{{ count }} respostas",Ybe="1 resposta",Wbe="{{ count }} respostas",Gbe="{{ count }} resultados",Kbe="1 resultado",Qbe="{{ count }} resultados",Zbe="{{count}} mensagens não lidas",Xbe="1 mensagem não lida",Jbe="{{count}} mensagens não lidas",e_e={"Add a comment":"Adicionar um comentário","Add an option":"Adicionar uma opção","All results loaded":"Todos os resultados carregados","Allow access to camera":"Permitir acesso à câmera","Allow access to microphone":"Permitir acesso ao microfone","Allow comments":"Permitir comentários","Allow option suggestion":"Permitir sugestão de opção","An error has occurred during recording":"Ocorreu um erro durante a gravação","An error has occurred during the recording processing":"Ocorreu um erro durante o processamento da gravação",Anonymous:pbe,"Anonymous poll":"Enquete anônima",Archive:mbe,"Ask a question":"Faça uma pergunta","Attach files":"Anexar arquivos",Cancel:gbe,"Cannot seek in the recording":"Não é possível buscar na gravação","Channel Missing":"Canal ausente",Close:ybe,"Close emoji picker":"Fechar seletor de emoji","Commands matching":"Comandos correspondentes","Connection failure, reconnecting now...":"Falha de conexão, reconectando agora...",Create:vbe,"Create poll":"Criar enquete",Delete:bbe,Delivered:_be,"Download attachment {{ name }}":"Baixar anexo {{ name }}","Drag your files here":"Arraste seus arquivos aqui","Drag your files here to add to your post":"Arraste seus arquivos aqui para adicionar ao seu post","Edit Message":"Editar Mensagem","Edit message request failed":"O pedido de edição da mensagem falhou",Edited:wbe,"Emoji matching":"Emoji correspondente","Empty message...":"Mensagem vazia...",End:xbe,"End vote":"Encerrar votação","Error adding flag":"Erro ao reportar","Error connecting to chat, refresh the page to try again.":"Erro ao conectar ao bate-papo, atualize a página para tentar novamente.","Error deleting message":"Erro ao deletar mensagem","Error fetching reactions":"Erro ao carregar reações","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Erro ao marcar a mensagem como não lida. Não é possível marcar mensagens não lidas mais antigas do que as 100 mensagens mais recentes do canal.","Error muting a user ...":"Erro ao silenciar um usuário...","Error pinning message":"Erro ao fixar mensagem","Error removing message pin":"Erro ao remover o PIN da mensagem","Error reproducing the recording":"Erro ao reproduzir a gravação","Error starting recording":"Erro ao iniciar a gravação","Error unmuting a user ...":"Erro ao ativar o som de um usuário...","Error uploading attachment":"Erro ao carregar o anexo","Error uploading file":"Erro ao enviar arquivo","Error uploading image":"Erro ao carregar a imagem","Error · Unsent":"Erro · Não enviado","Error: {{ errorMessage }}":"Erro: {{ errorMessage }}","Failed to jump to the first unread message":"Falha ao pular para a primeira mensagem não lida","Failed to mark channel as read":"Falha ao marcar o canal como lido","Failed to play the recording":"Falha ao reproduzir a gravação",File:Cbe,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"O arquivo é muito grande: {{ size }}, o tamanho máximo de upload é {{ limit }}",Flag:Dbe,"Generating...":"Gerando...","Latest Messages":"Mensagens mais recentes","Load more":"Carregar mais","Mark as unread":"Marcar como não lida","Maximum number of votes (from 2 to 10)":"Número máximo de votos (de 2 a 10)",Menu:Sbe,"Message Failed · Click to try again":"A mensagem falhou · Clique para tentar novamente","Message Failed · Unauthorized":"A mensagem falhou · não autorizado","Message deleted":"Mensagem apagada","Message has been successfully flagged":"A mensagem foi reportada com sucesso","Message pinned":"Mensagem fixada","Message was blocked by moderation policies":"A mensagem foi bloqueada pelas políticas de moderação","Messages have been marked unread.":"Mensagens foram marcadas como não lidas.","Missing permissions to upload the attachment":"Faltando permissões para enviar o anexo","Multiple answers":"Múltiplas respostas",Mute:Ebe,New:Mbe,"New Messages!":"Novas Mensagens!","No chats here yet…":"Ainda não há conversas aqui...","No results found":"Nenhum resultado encontrado","Nobody will be able to vote in this poll anymore.":"Ninguém mais poderá votar nesta pesquisa.","Nothing yet...":"Nada ainda...",Ok:Tbe,"Only numbers are allowed":"Apenas números são permitidos","Open emoji picker":"Abrir seletor de emoji","Option already exists":"Opção já existe",Options:kbe,"People matching":"Pessoas correspondentes",Pin:Rbe,"Pinned by":"Fixado por",Poll:Abe,"Poll comments":"Comentários da pesquisa","Poll options":"Opções da pesquisa","Poll results":"Resultados da pesquisa",Question:Obe,Quote:Lbe,"Recording format is not supported and cannot be reproduced":"Formato de gravação não é suportado e não pode ser reproduzido",Reply:Nbe,"Reply to Message":"Responder à mensagem",Search:Pbe,"Searching...":"Buscando...","See all options ({{count}})_many":"Ver todas as opções ({{count}})","See all options ({{count}})_one":"Ver todas as opções ({{count}})","See all options ({{count}})_other":"Ver todas as opções ({{count}})","Select one":"Selecionar um","Select one or more":"Selecionar um ou mais","Select up to {{count}}_many":"Selecionar até {{count}}","Select up to {{count}}_one":"Selecionar até {{count}}","Select up to {{count}}_other":"Selecionar até {{count}}",Send:Ibe,"Send Anyway":"Enviar de qualquer forma","Send message request failed":"O pedido de envio da mensagem falhou","Sending...":"Enviando...","Show all":"Mostrar tudo",Shuffle:Fbe,"Slow Mode ON":"Modo lento LIGADO","Some of the files will not be accepted":"Alguns arquivos não serão aceitos","Start typing to search":"Comece a digitar para pesquisar",Submit:jbe,"Suggest an option":"Sugerir uma opção","Thinking...":"Pensando...","This message did not meet our content guidelines":"Esta mensagem não corresponde às nossas diretrizes de conteúdo","This message was deleted...":"Esta mensagem foi excluída...",Thread:Ube,"To start recording, allow the camera access in your browser":"Para começar a gravar, permita o acesso à câmera no seu navegador","To start recording, allow the microphone access in your browser":"Para começar a gravar, permita o acesso ao microfone no seu navegador","Type a number from 2 to 10":"Digite um número de 2 a 10","Type your message":"Digite sua mensagem",Unarchive:Bbe,Unmute:$be,Unpin:zbe,"Unread messages":"Mensagens não lidas","Unsupported attachment":"Anexo não suportado","Update your comment":"Atualizar seu comentário",'Upload type: "{{ type }}" is not allowed':'Tipo de upload: "{{ type }}" não é permitido',"User uploaded content":"Conteúdo enviado pelo usuário","View results":"Ver resultados","View {{count}} comments_many":"Ver {{count}} comentários","View {{count}} comments_one":"Ver {{count}} comentário","View {{count}} comments_other":"Ver {{count}} comentários","Voice message":"Mensagem de voz","Vote ended":"Votação encerrada","Wait until all attachments have uploaded":"Espere até que todos os anexos tenham sido carregados",You:Hbe,"You have no channels currently":"Você não tem canais atualmente","You've reached the maximum number of files":"Você atingiu o número máximo de arquivos","aria/Attachment":"Anexo","aria/Cancel Reply":"Cancelar resposta","aria/Cancel upload":"Cancelar upload","aria/Channel list":"Lista de canais","aria/Channel search results":"Resultados de pesquisa de canais","aria/Close thread":"Fechar tópico","aria/Download attachment":"Baixar anexo","aria/Emoji picker":"Seletor de emojis","aria/File input":"Entrada de arquivo","aria/File upload":"Carregar arquivo","aria/Image input":"Entrada de imagem","aria/Load More Channels":"Carregar mais canais","aria/Menu":"Menu","aria/Message Options":"Opções de mensagem","aria/Open Attachment Selector":"Abrir seletor de anexos","aria/Open Message Actions Menu":"Abrir menu de ações de mensagem","aria/Open Reaction Selector":"Abrir seletor de reações","aria/Open Thread":"Abrir tópico","aria/Reaction list":"Lista de reações","aria/Remove attachment":"Remover anexo","aria/Retry upload":"Tentar upload novamente","aria/Search results":"Resultados da pesquisa","aria/Search results header filter button":"Botão de filtro do cabeçalho dos resultados da pesquisa","aria/Send":"Enviar","aria/Stop AI Generation":"Parar geração de IA","ban-command-args":"[@nomedeusuário] [texto]","ban-command-description":"Banir um usuário","giphy-command-args":"[texto]","giphy-command-description":"Postar um gif aleatório no canal",live:Vbe,"mute-command-args":"[@nomedeusuário]","mute-command-description":"Silenciar um usuário",replyCount_many:qbe,replyCount_one:Ybe,replyCount_other:Wbe,"search-results-header-filter-source-button-label--channels":"canais","search-results-header-filter-source-button-label--messages":"mensagens","search-results-header-filter-source-button-label--users":"usuários",searchResultsCount_many:Gbe,searchResultsCount_one:Kbe,searchResultsCount_other:Qbe,"this content could not be displayed":"este conteúdo não pôde ser exibido","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","unban-command-args":"[@nomedeusuário]","unban-command-description":"Desbanir um usuário","unmute-command-args":"[@nomedeusuário]","unmute-command-description":"Retirar o silenciamento de um usuário",unreadMessagesSeparatorText_many:Zbe,unreadMessagesSeparatorText_one:Xbe,unreadMessagesSeparatorText_other:Jbe,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} e mais {{ moreCount }}","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} e {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} e {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} mais","{{ memberCount }} members":"{{ memberCount }} membros","{{ user }} has been muted":"{{ user }} foi silenciado","{{ user }} has been unmuted":"{{ user }} foi reativado","{{ user }} is typing...":"{{ user }} está digitando...","{{ users }} and more are typing...":"{{ users }} e mais estão digitando...","{{ users }} and {{ user }} are typing...":"{{ users }} e {{ user }} estão digitando...","{{ watcherCount }} online":"{{ watcherCount }} online","{{count}} unread_many":"{{count}} não lidos","{{count}} unread_one":"{{count}} não lido","{{count}} unread_other":"{{count}} não lidos","{{count}} votes_many":"{{count}} votos","{{count}} votes_one":"{{count}} voto","{{count}} votes_other":"{{count}} votos","🏙 Attachment...":"🏙 Anexo...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} criou: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} votou: {{pollOptionText}}"},t_e="Аноним",n_e="Aрхивировать",r_e="Отмена",a_e="Закрыть",i_e="Создать",s_e="Удалить",o_e="Отправлено",l_e="Отредактировано",c_e="Конец",u_e="Файл",d_e="Пожаловаться",f_e="Меню",h_e="Отключить уведомления",p_e="Новые",m_e="Ок",g_e="Варианты",y_e="Закрепить",v_e="Опрос",b_e="Вопрос",__e="Цитировать",w_e="Ответить",x_e="Поиск",C_e="Отправить",D_e="Перемешать",S_e="Отправить",E_e="Ветка",M_e="Удалить из архива",T_e="Включить уведомления",k_e="Открепить",R_e="Вы",A_e="В прямом эфире",O_e="{{ count }} ответов",L_e="{{ count }} ответов",N_e="1 ответ",P_e="{{ count }} ответов",I_e="{{ count }} результата",F_e="{{ count }} результатов",j_e="1 результат",U_e="{{ count }} результатов",B_e="1 непрочитанное сообщения",$_e="{{count}} непрочитанных сообщений",z_e="1 непрочитанное сообщение",H_e="{{count}} непрочитанных сообщений",V_e={"Add a comment":"Добавить комментарий","Add an option":"Добавить вариант","All results loaded":"Все результаты загружены","Allow access to camera":"Разрешить доступ к камере","Allow access to microphone":"Разрешить доступ к микрофону","Allow comments":"Разрешить комментарии","Allow option suggestion":"Разрешить предложение вариантов","An error has occurred during recording":"Произошла ошибка во время записи","An error has occurred during the recording processing":"Произошла ошибка во время обработки записи",Anonymous:t_e,"Anonymous poll":"Анонимный опрос",Archive:n_e,"Ask a question":"Задать вопрос","Attach files":"Прикрепить файлы",Cancel:r_e,"Cannot seek in the recording":"Невозможно осуществить поиск в записи","Channel Missing":"Канал не найден",Close:a_e,"Close emoji picker":"Закрыть окно выбора смайлов","Commands matching":"Соответствие команд","Connection failure, reconnecting now...":"Ошибка соединения, переподключение...",Create:i_e,"Create poll":"Создать опрос",Delete:s_e,Delivered:o_e,"Download attachment {{ name }}":"Скачать вложение {{ name }}","Drag your files here":"Перетащите ваши файлы сюда","Drag your files here to add to your post":"Перетащите ваши файлы сюда, чтобы добавить их в ваш пост","Edit Message":"Редактировать сообщение","Edit message request failed":"Не удалось изменить запрос сообщения",Edited:l_e,"Emoji matching":"Соответствие эмодзи","Empty message...":"Пустое сообщение...",End:c_e,"End vote":"Закончить голосование","Error adding flag":"Ошибка добавления флага","Error connecting to chat, refresh the page to try again.":"Ошибка подключения к чату, обновите страницу чтобы попробовать снова.","Error deleting message":"Ошибка при удалении сообщения","Error fetching reactions":"Ошибка при загрузке реакций","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Ошибка при отметке сообщения как непрочитанного. Невозможно отметить как непрочитанные сообщения старше последних 100 сообщений в канале.","Error muting a user ...":"Ошибка отключения уведомлений от пользователя...","Error pinning message":"Сообщение об ошибке при закреплении","Error removing message pin":"Ошибка при удалении булавки сообщения","Error reproducing the recording":"Ошибка воспроизведения записи","Error starting recording":"Ошибка при запуске записи","Error unmuting a user ...":"Ошибка включения уведомлений...","Error uploading attachment":"Ошибка при загрузке вложения","Error uploading file":"Ошибка при загрузке файла","Error uploading image":"Ошибка загрузки изображения","Error · Unsent":"Ошибка · Не отправлено","Error: {{ errorMessage }}":"Ошибка: {{ errorMessage }}","Failed to jump to the first unread message":"Не удалось перейти к первому непрочитанному сообщению","Failed to mark channel as read":"Не удалось пометить канал как прочитанный","Failed to play the recording":"Не удалось воспроизвести запись",File:u_e,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"Файл слишком большой: {{ size }}, максимальный размер загрузки составляет {{ limit }}",Flag:d_e,"Generating...":"Генерирую...","Latest Messages":"Последние сообщения","Load more":"Загрузить больше","Mark as unread":"Отметить как непрочитанное","Maximum number of votes (from 2 to 10)":"Максимальное количество голосов (от 2 до 10)",Menu:f_e,"Message Failed · Click to try again":"Ошибка отправки сообщения · Нажмите чтобы повторить","Message Failed · Unauthorized":"Ошибка отправки сообщения · Неавторизованный","Message deleted":"Сообщение удалено","Message has been successfully flagged":"Жалоба на сообщение была принята","Message pinned":"Сообщение закреплено","Message was blocked by moderation policies":"Сообщение было заблокировано модерацией","Messages have been marked unread.":"Сообщения были отмечены как непрочитанные.","Missing permissions to upload the attachment":"Отсутствуют разрешения для загрузки вложения","Multiple answers":"Несколько ответов",Mute:h_e,New:p_e,"New Messages!":"Новые сообщения!","No chats here yet…":"Здесь еще нет чатов...","No results found":"Результаты не найдены","Nobody will be able to vote in this poll anymore.":"Никто больше не сможет голосовать в этом опросе.","Nothing yet...":"Пока ничего нет...",Ok:m_e,"Only numbers are allowed":"Разрешены только цифры","Open emoji picker":"Открыть выбор смайлов","Option already exists":"Вариант уже существует",Options:g_e,"People matching":"Совпадающие люди",Pin:y_e,"Pinned by":"Закреплено",Poll:v_e,"Poll comments":"Комментарии к опросу","Poll options":"Опции опроса","Poll results":"Результаты опроса",Question:b_e,Quote:__e,"Recording format is not supported and cannot be reproduced":"Формат записи не поддерживается и не может быть воспроизведен",Reply:w_e,"Reply to Message":"Ответить на сообщение",Search:x_e,"Searching...":"Ищем...","See all options ({{count}})_few":"Посмотреть все варианты ({{count}})","See all options ({{count}})_many":"Посмотреть все варианты ({{count}})","See all options ({{count}})_one":"Посмотреть все варианты ({{count}})","See all options ({{count}})_other":"Посмотреть все варианты ({{count}})","Select one":"Выберите один","Select one or more":"Выберите один или несколько","Select up to {{count}}_few":"Выберите до {{count}}","Select up to {{count}}_many":"Выберите до {{count}}","Select up to {{count}}_one":"Выберите до {{count}}","Select up to {{count}}_other":"Выберите до {{count}}",Send:C_e,"Send Anyway":"Мне всё равно, отправить","Send message request failed":"Не удалось отправить запрос на отправку сообщения","Sending...":"Отправка...","Show all":"Показать все",Shuffle:D_e,"Slow Mode ON":"Медленный режим включен","Some of the files will not be accepted":"Некоторые файлы не будут приняты","Start typing to search":"Начните вводить для поиска",Submit:S_e,"Suggest an option":"Предложить вариант","Thinking...":"Думаю...","This message did not meet our content guidelines":"Сообщение не соответствует правилам","This message was deleted...":"Сообщение было удалено...",Thread:E_e,"To start recording, allow the camera access in your browser":"Для начала записи разрешите доступ к камере в вашем браузере","To start recording, allow the microphone access in your browser":"Для начала записи разрешите доступ к микрофону в вашем браузере","Type a number from 2 to 10":"Введите число от 2 до 10","Type your message":"Ваше сообщение",Unarchive:M_e,Unmute:T_e,Unpin:k_e,"Unread messages":"Непрочитанные сообщения","Unsupported attachment":"Неподдерживаемое вложение","Update your comment":"Обновите ваш комментарий",'Upload type: "{{ type }}" is not allowed':'Тип загрузки: "{{ type }}" не разрешен',"User uploaded content":"Пользователь загрузил контент","View results":"Посмотреть результаты","View {{count}} comments_few":"Просмотреть {{count}} комментариев","View {{count}} comments_many":"Просмотреть {{count}} комментариев","View {{count}} comments_one":"Просмотреть {{count}} комментарий","View {{count}} comments_other":"Просмотреть {{count}} комментариев","Voice message":"Голосовое сообщение","Vote ended":"Голосование завершено","Wait until all attachments have uploaded":"Подождите, пока все вложения загрузятся",You:R_e,"You have no channels currently":"У вас нет каналов в данный момент","You've reached the maximum number of files":"Вы достигли максимального количества файлов","aria/Attachment":"Вложение","aria/Cancel Reply":"Отменить ответ","aria/Cancel upload":"Отменить загрузку","aria/Channel list":"Список каналов","aria/Channel search results":"Результаты поиска по каналам","aria/Close thread":"Закрыть тему","aria/Download attachment":"Скачать вложение","aria/Emoji picker":"Выбор эмодзи","aria/File input":"Ввод файла","aria/File upload":"Загрузка файла","aria/Image input":"Ввод изображения","aria/Load More Channels":"Загрузить больше каналов","aria/Menu":"Меню","aria/Message Options":"Параметры сообщения","aria/Open Attachment Selector":"Открыть выбор вложений","aria/Open Message Actions Menu":"Открыть меню действий с сообщениями","aria/Open Reaction Selector":"Открыть селектор реакций","aria/Open Thread":"Открыть тему","aria/Reaction list":"Список реакций","aria/Remove attachment":"Удалить вложение","aria/Retry upload":"Повторить загрузку","aria/Search results":"Результаты поиска","aria/Search results header filter button":"Кнопка фильтра заголовка результатов поиска","aria/Send":"Отправить","aria/Stop AI Generation":"Остановить генерацию ИИ","ban-command-args":"[@имяпользователя] [текст]","ban-command-description":"Заблокировать пользователя","giphy-command-args":"[текст]","giphy-command-description":"Опубликовать случайную GIF-анимацию в канале",live:A_e,"mute-command-args":"[@имяпользователя]","mute-command-description":"Выключить микрофон у пользователя",replyCount_few:O_e,replyCount_many:L_e,replyCount_one:N_e,replyCount_other:P_e,"search-results-header-filter-source-button-label--channels":"каналы","search-results-header-filter-source-button-label--messages":"сообщения","search-results-header-filter-source-button-label--users":"пользователи",searchResultsCount_few:I_e,searchResultsCount_many:F_e,searchResultsCount_one:j_e,searchResultsCount_other:U_e,"this content could not be displayed":"Этот контент не может быть отображен в данный момент","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","unban-command-args":"[@имяпользователя]","unban-command-description":"Разблокировать пользователя","unmute-command-args":"[@имяпользователя]","unmute-command-description":"Включить микрофон у пользователя",unreadMessagesSeparatorText_few:B_e,unreadMessagesSeparatorText_many:$_e,unreadMessagesSeparatorText_one:z_e,unreadMessagesSeparatorText_other:H_e,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} и {{ moreCount }} еще","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} и {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} и {{ secondUser }}","{{ imageCount }} more":"Ещё {{ imageCount }}","{{ memberCount }} members":"{{ memberCount }} участников","{{ user }} has been muted":"Вы отписались от уведомлений от {{ user }}","{{ user }} has been unmuted":"Уведомления от {{ user }} были включены","{{ user }} is typing...":"{{ user }} печатает...","{{ users }} and more are typing...":"{{ users }} и другие печатают...","{{ users }} and {{ user }} are typing...":"{{ users }} и {{ user }} печатают...","{{ watcherCount }} online":"{{ watcherCount }} в сети","{{count}} unread_few":"{{count}} непрочитанных","{{count}} unread_many":"{{count}} непрочитанных","{{count}} unread_one":"{{count}} непрочитанное","{{count}} unread_other":"{{count}} непрочитанных","{{count}} votes_few":"{{count}} голоса","{{count}} votes_many":"{{count}} голосов","{{count}} votes_one":"{{count}} голос","{{count}} votes_other":"{{count}} голосов","🏙 Attachment...":"🏙 Вложение...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} создал(а): {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} проголосовал(а): {{pollOptionText}}"},q_e="Anonim",Y_e="Arşivle",W_e="İptal",G_e="Kapat",K_e="Oluştur",Q_e="Sil",Z_e="İletildi",X_e="Düzenlendi",J_e="Son",ewe="Dosya",twe="Bayrak",nwe="Menü",rwe="Sessiz",awe="Yeni",iwe="Tamam",swe="Seçenekler",owe="Sabitle",lwe="Anket",cwe="Soru",uwe="Alıntı",dwe="Cevapla",fwe="Arama",hwe="Gönder",pwe="Karıştır",mwe="Gönder",gwe="Konu",ywe="Arşivden çıkar",vwe="Sesini aç",bwe="Sabitlemeyi kaldır",_we="Sen",wwe="canlı",xwe="1 cevap",Cwe="{{ count }} cevap",Dwe="1 sonuç",Swe="{{ count }} sonuç",Ewe="1 okunmamış mesaj",Mwe="{{count}} okunmamış mesaj",Twe={"Add a comment":"Yorum ekle","Add an option":"Bir seçenek ekle","All results loaded":"Tüm sonuçlar yüklendi","Allow access to camera":"Kameraya erişime izin ver","Allow access to microphone":"Mikrofona erişime izin ver","Allow comments":"Yorumlara izin ver","Allow option suggestion":"Seçenek önerisine izin ver","An error has occurred during recording":"Kayıt sırasında bir hata oluştu","An error has occurred during the recording processing":"Kayıt işlemi sırasında bir hata oluştu",Anonymous:q_e,"Anonymous poll":"Anonim anket",Archive:Y_e,"Ask a question":"Bir soru sor","Attach files":"Dosya ekle",Cancel:W_e,"Cannot seek in the recording":"Kayıtta arama yapılamıyor","Channel Missing":"Kanal bulunamıyor",Close:G_e,"Close emoji picker":"Emoji seçiciyi kapat","Commands matching":"Eşleşen komutlar","Connection failure, reconnecting now...":"Bağlantı hatası, tekrar bağlanılıyor...",Create:K_e,"Create poll":"Anket oluştur",Delete:Q_e,Delivered:Z_e,"Download attachment {{ name }}":"Ek {{ name }}'i indir","Drag your files here":"Dosyalarınızı buraya sürükleyin","Drag your files here to add to your post":"Gönderinize eklemek için dosyalarınızı buraya sürükleyin","Edit Message":"Mesajı Düzenle","Edit message request failed":"Mesaj düzenleme isteği başarısız oldu",Edited:X_e,"Emoji matching":"Emoji eşleştirme","Empty message...":"Boş mesaj...",End:J_e,"End vote":"Oyu bitir","Error adding flag":"Bayrak eklenirken hata oluştu","Error connecting to chat, refresh the page to try again.":"Bağlantı hatası, sayfayı yenileyip tekrar deneyin.","Error deleting message":"Mesaj silinirken hata oluştu","Error fetching reactions":"Reaksiyonlar alınırken hata oluştu","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Mesajı okunmamış olarak işaretleme hatası. En yeni 100 kanal mesajından daha eski okunmamış mesajları işaretleme yapılamaz.","Error muting a user ...":"Kullanıcıyı sessize alırken hata oluştu ...","Error pinning message":"Mesaj sabitlenirken hata oluştu","Error removing message pin":"Mesaj PIN'i kaldırılırken hata oluştu","Error reproducing the recording":"Kaydı yeniden üretme hatası","Error starting recording":"Kayıt başlatılırken hata oluştu","Error unmuting a user ...":"Kullanıcının sesini açarken hata oluştu ...","Error uploading attachment":"Ek yüklenirken hata oluştu","Error uploading file":"Dosya yüklenirken hata oluştu","Error uploading image":"Resmi yüklerken hata","Error · Unsent":"Hata · Gönderilemedi","Error: {{ errorMessage }}":"Hata: {{ errorMessage }}","Failed to jump to the first unread message":"İlk okunmamış mesaja atlamada hata oluştu","Failed to mark channel as read":"Kanalı okundu olarak işaretleme başarısız oldu","Failed to play the recording":"Kayıt oynatılamadı",File:ewe,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"Dosya çok büyük: {{ size }}, maksimum yükleme boyutu {{ limit }}",Flag:twe,"Generating...":"Oluşturuluyor...","Latest Messages":"Son Mesajlar","Load more":"Daha fazla yükle","Mark as unread":"Okunmamış olarak işaretle","Maximum number of votes (from 2 to 10)":"Maksimum oy sayısı (2 ile 10 arası)",Menu:nwe,"Message Failed · Click to try again":"Mesaj Başarısız · Tekrar denemek için tıklayın","Message Failed · Unauthorized":"Mesaj Başarısız · Yetkisiz","Message deleted":"Mesaj silindi","Message has been successfully flagged":"Mesaj başarıyla bayraklandı","Message pinned":"Mesaj sabitlendi","Message was blocked by moderation policies":"Mesaj moderasyon politikaları tarafından engellendi","Messages have been marked unread.":"Mesajlar okunmamış olarak işaretlendi.","Missing permissions to upload the attachment":"Ek yüklemek için izinler eksik","Multiple answers":"Çoklu cevaplar",Mute:rwe,New:awe,"New Messages!":"Yeni Mesajlar!","No chats here yet…":"Henüz burada sohbet yok...","No results found":"Sonuç bulunamadı","Nobody will be able to vote in this poll anymore.":"Artık bu ankette kimse oy kullanamayacak.","Nothing yet...":"Şimdilik hiçbir şey...",Ok:iwe,"Only numbers are allowed":"Sadece sayılar kullanılabilir","Open emoji picker":"Emoji klavyesini aç","Option already exists":"Seçenek zaten mevcut",Options:swe,"People matching":"Eşleşen kişiler",Pin:owe,"Pinned by":"Sabitleyen",Poll:lwe,"Poll comments":"Anket yorumları","Poll options":"Anket seçenekleri","Poll results":"Anket sonuçları",Question:cwe,Quote:uwe,"Recording format is not supported and cannot be reproduced":"Kayıt formatı desteklenmiyor ve çoğaltılamıyor",Reply:dwe,"Reply to Message":"Mesaja Cevapla",Search:fwe,"Searching...":"Aranıyor...","See all options ({{count}})_one":"Tüm seçenekleri göster ({{count}})","See all options ({{count}})_other":"Tüm seçenekleri göster ({{count}})","Select one":"Birini seçin","Select one or more":"Bir veya daha fazlasını seçin","Select up to {{count}}_one":"En fazla {{count}}'yi seçin","Select up to {{count}}_other":"En fazla {{count}}'yi seçin",Send:hwe,"Send Anyway":"Yine de gönder","Send message request failed":"Mesaj gönderme isteği başarısız oldu","Sending...":"Gönderiliyor...","Show all":"Tümünü göster",Shuffle:pwe,"Slow Mode ON":"Yavaş Mod Açık","Some of the files will not be accepted":"Bazı dosyalar kabul edilmeyecek","Start typing to search":"Aramak için yazmaya başlayın",Submit:mwe,"Suggest an option":"Bir seçenek önerin","Thinking...":"Düşünüyor...","This message did not meet our content guidelines":"Bu mesaj içerik yönergelerimize uygun değil","This message was deleted...":"Bu mesaj silindi...",Thread:gwe,"To start recording, allow the camera access in your browser":"Kayıt yapmaya başlamak için tarayıcınızda kameraya erişime izin verin","To start recording, allow the microphone access in your browser":"Kayıt yapmaya başlamak için tarayıcınızda mikrofona erişime izin verin","Type a number from 2 to 10":"2 ile 10 arasında bir sayı yazın","Type your message":"Mesajınızı yazın",Unarchive:ywe,Unmute:vwe,Unpin:bwe,"Unread messages":"Okunmamış mesajlar","Unsupported attachment":"Desteklenmeyen ek","Update your comment":"Yorumunuzu güncelleyin",'Upload type: "{{ type }}" is not allowed':'Yükleme türü: "{{ type }}" izin verilmez',"User uploaded content":"Kullanıcı tarafından yüklenen içerik","View results":"Sonuçları görüntüle","View {{count}} comments_one":"{{count}} yorumu görüntüle","View {{count}} comments_other":"{{count}} yorumu görüntüle","Voice message":"Sesli mesaj","Vote ended":"Oylama sona erdi","Wait until all attachments have uploaded":"Tüm ekler yüklenene kadar bekleyin",You:_we,"You have no channels currently":"Henüz kanalınız yok","You've reached the maximum number of files":"Maksimum dosya sayısına ulaştınız","aria/Attachment":"Ek","aria/Cancel Reply":"Cevabı İptal Et","aria/Cancel upload":"Yüklemeyi İptal Et","aria/Channel list":"Kanal listesi","aria/Channel search results":"Kanal arama sonuçları","aria/Close thread":"Konuyu kapat","aria/Download attachment":"Ek indir","aria/Emoji picker":"Emoji seçici","aria/File input":"Dosya girişi","aria/File upload":"Dosya yükleme","aria/Image input":"Resim girişi","aria/Load More Channels":"Daha Fazla Kanal Yükle","aria/Menu":"Menü","aria/Message Options":"Mesaj Seçenekleri","aria/Open Attachment Selector":"Ek Seçiciyi Aç","aria/Open Message Actions Menu":"Mesaj İşlemleri Menüsünü Aç","aria/Open Reaction Selector":"Tepki Seçiciyi Aç","aria/Open Thread":"Konuyu Aç","aria/Reaction list":"Tepki listesi","aria/Remove attachment":"Eki kaldır","aria/Retry upload":"Yüklemeyi Tekrar Dene","aria/Search results":"Arama sonuçları","aria/Search results header filter button":"Arama sonuçları başlık filtre düğmesi","aria/Send":"Gönder","aria/Stop AI Generation":"Yapay Zeka Üretimini Durdur","ban-command-args":"[@kullanıcıadı] [metin]","ban-command-description":"Bir kullanıcıyı yasakla","giphy-command-args":"[metin]","giphy-command-description":"Rastgele bir gif'i kanala gönder",live:wwe,"mute-command-args":"[@kullanıcıadı]","mute-command-description":"Bir kullanıcının sesini kapat",replyCount_one:xwe,replyCount_other:Cwe,"search-results-header-filter-source-button-label--channels":"kanallar","search-results-header-filter-source-button-label--messages":"mesajlar","search-results-header-filter-source-button-label--users":"kullanıcılar",searchResultsCount_one:Dwe,searchResultsCount_other:Swe,"this content could not be displayed":"bu içerik gösterilemiyor","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","unban-command-args":"[@kullanıcıadı]","unban-command-description":"Bir kullanıcının yasağını kaldır","unmute-command-args":"[@kullanıcıadı]","unmute-command-description":"Bir kullanıcının sesini aç",unreadMessagesSeparatorText_one:Ewe,unreadMessagesSeparatorText_other:Mwe,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} ve {{ moreCount }} daha","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} ve {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} ve {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} adet daha","{{ memberCount }} members":"{{ memberCount }} üye","{{ user }} has been muted":"{{ user }} sessize alındı","{{ user }} has been unmuted":"{{ user }} sesi açıldı","{{ user }} is typing...":"{{ user }} yazıyor...","{{ users }} and more are typing...":"{{ users }} ve diğerleri yazıyor...","{{ users }} and {{ user }} are typing...":"{{ users }} ve {{ user }} yazıyor...","{{ watcherCount }} online":"{{ watcherCount }} çevrimiçi","{{count}} unread_one":"{{count}} okunmamış","{{count}} unread_other":"{{count}} okunmamış","{{count}} votes_one":"{{count}} oy","{{count}} votes_other":"{{count}} oy","🏙 Attachment...":"🏙 Ek...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} oluşturdu: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} oy verdi: {{pollOptionText}}"};function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function zo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kwe(e,t){if(Qs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function CI(e){var t=kwe(e,"string");return Qs(t)=="symbol"?t:t+""}function a4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CI(r.key),r)}}function Ho(e,t,n){return t&&a4(e.prototype,t),n&&a4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fD(e,t){return fD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},fD(e,t)}function $1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fD(e,t)}function bm(e,t){if(t&&(Qs(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xc(e)}function Io(e){return Io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Io(e)}function Ac(e,t,n){return(t=CI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rwe(e){if(Array.isArray(e))return e}function Awe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Owe(e,t){if(e){if(typeof e=="string")return i4(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i4(e,t):void 0}}function Lwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nwe(e){return Rwe(e)||Awe(e)||Owe(e)||Lwe()}function s4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function o4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s4(Object(n),!0).forEach(function(r){Ac(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Pwe={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,n){console&&console[t]&&console[t].apply(console,n)}},Iwe=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};zo(this,e),this.init(t,n)}return Ho(e,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||Pwe,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,a,i){return i&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(a).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new e(this.logger,o4(o4({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new e(this.logger,n)}}]),e}(),ko=new Iwe,Ec=function(){function e(){zo(this,e),this.observers={}}return Ho(e,[{key:"on",value:function(n,r){var a=this;return n.split(" ").forEach(function(i){a.observers[i]=a.observers[i]||[],a.observers[i].push(r)}),this}},{key:"off",value:function(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(a){return a!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];if(this.observers[n]){var s=[].concat(this.observers[n]);s.forEach(function(c){c.apply(void 0,a)})}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach(function(c){c.apply(c,[n].concat(a))})}}}]),e}();function Bh(){var e,t,n=new Promise(function(r,a){e=r,t=a});return n.resolve=e,n.reject=t,n}function l4(e){return e==null?"":""+e}function Fwe(e,t,n){e.forEach(function(r){t[r]&&(n[r]=t[r])})}function L2(e,t,n){function r(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function a(){return!e||typeof e=="string"}for(var i=typeof t!="string"?[].concat(t):t.split(".");i.length>1;){if(a())return{};var s=r(i.shift());!e[s]&&n&&(e[s]=new n),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={}}return a()?{}:{obj:e,k:r(i.shift())}}function c4(e,t,n){var r=L2(e,t,Object),a=r.obj,i=r.k;a[i]=n}function jwe(e,t,n,r){var a=L2(e,t,Object),i=a.obj,s=a.k;i[s]=i[s]||[],i[s].push(n)}function N0(e,t){var n=L2(e,t),r=n.obj,a=n.k;if(r)return r[a]}function u4(e,t,n){var r=N0(e,n);return r!==void 0?r:N0(t,n)}function DI(e,t,n){for(var r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):DI(e[r],t[r],n):e[r]=t[r]);return e}function Cd(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Uwe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Bwe(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return Uwe[t]}):e}var z1=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,$we=[" ",",","?","!",";"];function zwe(e,t,n){t=t||"",n=n||"";var r=$we.filter(function(o){return t.indexOf(o)<0&&n.indexOf(o)<0});if(r.length===0)return!0;var a=new RegExp("(".concat(r.map(function(o){return o==="?"?"\\?":o}).join("|"),")")),i=!a.test(e);if(!i){var s=e.indexOf(n);s>0&&!a.test(e.substring(0,s))&&(i=!0)}return i}function d4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ay(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(n),!0).forEach(function(r){Ac(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hwe(e){var t=Vwe();return function(){var r=Io(e),a;if(t){var i=Io(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return bm(this,a)}}function Vwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function SI(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),a=e,i=0;i<r.length;++i){if(!a||typeof a[r[i]]=="string"&&i+1<r.length)return;if(a[r[i]]===void 0){for(var s=2,o=r.slice(i,i+s).join(n),c=a[o];c===void 0&&r.length>i+s;)s++,o=r.slice(i,i+s).join(n),c=a[o];if(c===void 0)return;if(c===null)return null;if(t.endsWith(o)){if(typeof c=="string")return c;if(o&&typeof c[o]=="string")return c[o]}var d=r.slice(i+s).join(n);return d?SI(c,d,n):void 0}a=a[r[i]]}return a}}var qwe=function(e){$1(n,e);var t=Hwe(n);function n(r){var a,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return zo(this,n),a=t.call(this),z1&&Ec.call(xc(a)),a.data=r||{},a.options=i,a.options.keySeparator===void 0&&(a.options.keySeparator="."),a.options.ignoreJSONStructure===void 0&&(a.options.ignoreJSONStructure=!0),a}return Ho(n,[{key:"addNamespaces",value:function(a){this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}},{key:"removeNamespaces",value:function(a){var i=this.options.ns.indexOf(a);i>-1&&this.options.ns.splice(i,1)}},{key:"getResource",value:function(a,i,s){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,d=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure,f=[a,i];s&&typeof s!="string"&&(f=f.concat(s)),s&&typeof s=="string"&&(f=f.concat(c?s.split(c):s)),a.indexOf(".")>-1&&(f=a.split("."));var h=N0(this.data,f);return h||!d||typeof s!="string"?h:SI(this.data&&this.data[a]&&this.data[a][i],s,c)}},{key:"addResource",value:function(a,i,s,o){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},d=this.options.keySeparator;d===void 0&&(d=".");var f=[a,i];s&&(f=f.concat(d?s.split(d):s)),a.indexOf(".")>-1&&(f=a.split("."),o=i,i=f[1]),this.addNamespaces(i),c4(this.data,f,o),c.silent||this.emit("added",a,i,s,o)}},{key:"addResources",value:function(a,i,s){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var c in s)(typeof s[c]=="string"||Object.prototype.toString.apply(s[c])==="[object Array]")&&this.addResource(a,i,c,s[c],{silent:!0});o.silent||this.emit("added",a,i,s)}},{key:"addResourceBundle",value:function(a,i,s,o,c){var d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},f=[a,i];a.indexOf(".")>-1&&(f=a.split("."),o=s,s=i,i=f[1]),this.addNamespaces(i);var h=N0(this.data,f)||{};o?DI(h,s,c):h=ay(ay({},h),s),c4(this.data,f,h),d.silent||this.emit("added",a,i,s)}},{key:"removeResourceBundle",value:function(a,i){this.hasResourceBundle(a,i)&&delete this.data[a][i],this.removeNamespaces(i),this.emit("removed",a,i)}},{key:"hasResourceBundle",value:function(a,i){return this.getResource(a,i)!==void 0}},{key:"getResourceBundle",value:function(a,i){return i||(i=this.options.defaultNS),this.options.compatibilityAPI==="v1"?ay(ay({},{}),this.getResource(a,i)):this.getResource(a,i)}},{key:"getDataByLanguage",value:function(a){return this.data[a]}},{key:"hasLanguageSomeTranslations",value:function(a){var i=this.getDataByLanguage(a),s=i&&Object.keys(i)||[];return!!s.find(function(o){return i[o]&&Object.keys(i[o]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(Ec),EI={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,n,r,a,i){var s=this;return t.forEach(function(o){s.processors[o]&&(n=s.processors[o].process(n,r,a,i))}),n}};function f4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f4(Object(n),!0).forEach(function(r){Ac(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ywe(e){var t=Wwe();return function(){var r=Io(e),a;if(t){var i=Io(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return bm(this,a)}}function Wwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var h4={},p4=function(e){$1(n,e);var t=Ywe(n);function n(r){var a,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return zo(this,n),a=t.call(this),z1&&Ec.call(xc(a)),Fwe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,xc(a)),a.options=i,a.options.keySeparator===void 0&&(a.options.keySeparator="."),a.logger=ko.create("translator"),a}return Ho(n,[{key:"changeLanguage",value:function(a){a&&(this.language=a)}},{key:"exists",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(a==null)return!1;var s=this.resolve(a,i);return s&&s.res!==void 0}},{key:"extractFromKey",value:function(a,i){var s=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");var o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,c=i.ns||this.options.defaultNS||[],d=s&&a.indexOf(s)>-1,f=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!zwe(a,s,o);if(d&&!f){var h=a.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:a,namespaces:c};var m=a.split(s);(s!==o||s===o&&this.options.ns.indexOf(m[0])>-1)&&(c=m.shift()),a=m.join(o)}return typeof c=="string"&&(c=[c]),{key:a,namespaces:c}}},{key:"translate",value:function(a,i,s){var o=this;if(Qs(i)!=="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),i||(i={}),a==null)return"";Array.isArray(a)||(a=[String(a)]);var c=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,d=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,f=this.extractFromKey(a[a.length-1],i),h=f.key,m=f.namespaces,g=m[m.length-1],b=i.lng||this.language,_=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(b&&b.toLowerCase()==="cimode"){if(_){var w=i.nsSeparator||this.options.nsSeparator;return c?(x.res="".concat(g).concat(w).concat(h),x):"".concat(g).concat(w).concat(h)}return c?(x.res=h,x):h}var x=this.resolve(a,i),k=x&&x.res,R=x&&x.usedKey||h,I=x&&x.exactUsedKey||h,O=Object.prototype.toString.apply(k),A=["[object Number]","[object Function]","[object RegExp]"],L=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,T=typeof k!="string"&&typeof k!="boolean"&&typeof k!="number";if(C&&k&&T&&A.indexOf(O)<0&&!(typeof L=="string"&&O==="[object Array]")){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(R,k,bi(bi({},i),{},{ns:m})):"key '".concat(h," (").concat(this.language,")' returned an object instead of string.");return c?(x.res=S,x):S}if(d){var j=O==="[object Array]",B=j?[]:{},H=j?I:R;for(var U in k)if(Object.prototype.hasOwnProperty.call(k,U)){var z="".concat(H).concat(d).concat(U);B[U]=this.translate(z,bi(bi({},i),{joinArrays:!1,ns:m})),B[U]===z&&(B[U]=k[U])}k=B}}else if(C&&typeof L=="string"&&O==="[object Array]")k=k.join(L),k&&(k=this.extendTranslation(k,a,i,s));else{var F=!1,V=!1,Y=i.count!==void 0&&typeof i.count!="string",q=n.hasDefaultValue(i),N=Y?this.pluralResolver.getSuffix(b,i.count,i):"",W=i["defaultValue".concat(N)]||i.defaultValue;!this.isValidLookup(k)&&q&&(F=!0,k=W),this.isValidLookup(k)||(V=!0,k=h);var K=i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,$=K&&V?void 0:k,J=q&&W!==k&&this.options.updateMissing;if(V||F||J){if(this.logger.log(J?"updateKey":"missingKey",b,g,h,J?W:k),d){var oe=this.resolve(h,bi(bi({},i),{},{keySeparator:!1}));oe&&oe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var fe=[],ye=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ye&&ye[0])for(var le=0;le<ye.length;le++)fe.push(ye[le]);else this.options.saveMissingTo==="all"?fe=this.languageUtils.toResolveHierarchy(i.lng||this.language):fe.push(i.lng||this.language);var Ee=function(Me,Fe,$e){var ze=q&&$e!==k?$e:$;o.options.missingKeyHandler?o.options.missingKeyHandler(Me,g,Fe,ze,J,i):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(Me,g,Fe,ze,J,i),o.emit("missingKey",Me,g,Fe,k)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Y?fe.forEach(function(ue){o.pluralResolver.getSuffixes(ue,i).forEach(function(Me){Ee([ue],h+Me,i["defaultValue".concat(Me)]||W)})}):Ee(fe,h,W))}k=this.extendTranslation(k,a,i,x,s),V&&k===h&&this.options.appendNamespaceToMissingKey&&(k="".concat(g,":").concat(h)),(V||F)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?k=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(g,":").concat(h):h,F?k:void 0):k=this.options.parseMissingKeyHandler(k))}return c?(x.res=k,x):k}},{key:"extendTranslation",value:function(a,i,s,o,c){var d=this;if(this.i18nFormat&&this.i18nFormat.parse)a=this.i18nFormat.parse(a,bi(bi({},this.options.interpolation.defaultVariables),s),o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init(bi(bi({},s),{interpolation:bi(bi({},this.options.interpolation),s.interpolation)}));var f=typeof a=="string"&&(s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),h;if(f){var m=a.match(this.interpolator.nestingRegexp);h=m&&m.length}var g=s.replace&&typeof s.replace!="string"?s.replace:s;if(this.options.interpolation.defaultVariables&&(g=bi(bi({},this.options.interpolation.defaultVariables),g)),a=this.interpolator.interpolate(a,g,s.lng||this.language,s),f){var b=a.match(this.interpolator.nestingRegexp),_=b&&b.length;h<_&&(s.nest=!1)}s.nest!==!1&&(a=this.interpolator.nest(a,function(){for(var k=arguments.length,R=new Array(k),I=0;I<k;I++)R[I]=arguments[I];return c&&c[0]===R[0]&&!s.context?(d.logger.warn("It seems you are nesting recursively key: ".concat(R[0]," in key: ").concat(i[0])),null):d.translate.apply(d,R.concat([i]))},s)),s.interpolation&&this.interpolator.reset()}var w=s.postProcess||this.options.postProcess,x=typeof w=="string"?[w]:w;return a!=null&&x&&x.length&&s.applyPostProcessor!==!1&&(a=EI.handle(x,a,i,this.options&&this.options.postProcessPassResolved?bi({i18nResolved:o},s):s,this)),a}},{key:"resolve",value:function(a){var i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,c,d,f,h;return typeof a=="string"&&(a=[a]),a.forEach(function(m){if(!i.isValidLookup(o)){var g=i.extractFromKey(m,s),b=g.key;c=b;var _=g.namespaces;i.options.fallbackNS&&(_=_.concat(i.options.fallbackNS));var w=s.count!==void 0&&typeof s.count!="string",x=w&&!s.ordinal&&s.count===0&&i.pluralResolver.shouldUseIntlApi(),k=s.context!==void 0&&(typeof s.context=="string"||typeof s.context=="number")&&s.context!=="",R=s.lngs?s.lngs:i.languageUtils.toResolveHierarchy(s.lng||i.language,s.fallbackLng);_.forEach(function(I){i.isValidLookup(o)||(h=I,!h4["".concat(R[0],"-").concat(I)]&&i.utils&&i.utils.hasLoadedNamespace&&!i.utils.hasLoadedNamespace(h)&&(h4["".concat(R[0],"-").concat(I)]=!0,i.logger.warn('key "'.concat(c,'" for languages "').concat(R.join(", "),`" won't get resolved as namespace "`).concat(h,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),R.forEach(function(O){if(!i.isValidLookup(o)){f=O;var A=[b];if(i.i18nFormat&&i.i18nFormat.addLookupKeys)i.i18nFormat.addLookupKeys(A,b,O,I,s);else{var L;w&&(L=i.pluralResolver.getSuffix(O,s.count,s));var C="".concat(i.options.pluralSeparator,"zero");if(w&&(A.push(b+L),x&&A.push(b+C)),k){var T="".concat(b).concat(i.options.contextSeparator).concat(s.context);A.push(T),w&&(A.push(T+L),x&&A.push(T+C))}}for(var S;S=A.pop();)i.isValidLookup(o)||(d=S,o=i.getResource(O,I,S,s))}}))})}}),{res:o,usedKey:c,exactUsedKey:d,usedLng:f,usedNS:h}}},{key:"isValidLookup",value:function(a){return a!==void 0&&!(!this.options.returnNull&&a===null)&&!(!this.options.returnEmptyString&&a==="")}},{key:"getResource",value:function(a,i,s){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(a,i,s,o):this.resourceStore.getResource(a,i,s,o)}}],[{key:"hasDefaultValue",value:function(a){var i="defaultValue";for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)&&i===s.substring(0,i.length)&&a[s]!==void 0)return!0;return!1}}]),n}(Ec);function Ox(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Gwe=function(){function e(t){zo(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ko.create("languageUtils")}return Ho(e,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],a=n.split("-");return this.options.lowerCaseLng?a=a.map(function(i){return i.toLowerCase()}):a.length===2?(a[0]=a[0].toLowerCase(),a[1]=a[1].toUpperCase(),r.indexOf(a[1].toLowerCase())>-1&&(a[1]=Ox(a[1].toLowerCase()))):a.length===3&&(a[0]=a[0].toLowerCase(),a[1].length===2&&(a[1]=a[1].toUpperCase()),a[0]!=="sgn"&&a[2].length===2&&(a[2]=a[2].toUpperCase()),r.indexOf(a[1].toLowerCase())>-1&&(a[1]=Ox(a[1].toLowerCase())),r.indexOf(a[2].toLowerCase())>-1&&(a[2]=Ox(a[2].toLowerCase()))),a.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var a;return n.forEach(function(i){if(!a){var s=r.formatLanguageCode(i);(!r.options.supportedLngs||r.isSupportedCode(s))&&(a=s)}}),!a&&this.options.supportedLngs&&n.forEach(function(i){if(!a){var s=r.getLanguagePartFromCode(i);if(r.isSupportedCode(s))return a=s;a=r.options.supportedLngs.find(function(o){if(o.indexOf(s)===0)return o})}}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var a=n[r];return a||(a=n[this.getScriptPartFromCode(r)]),a||(a=n[this.formatLanguageCode(r)]),a||(a=n[this.getLanguagePartFromCode(r)]),a||(a=n.default),a||[]}},{key:"toResolveHierarchy",value:function(n,r){var a=this,i=this.getFallbackCodes(r||this.options.fallbackLng||[],n),s=[],o=function(d){d&&(a.isSupportedCode(d)?s.push(d):a.logger.warn("rejecting language code not found in supportedLngs: ".concat(d)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(n))):typeof n=="string"&&o(this.formatLanguageCode(n)),i.forEach(function(c){s.indexOf(c)<0&&o(a.formatLanguageCode(c))}),s}}]),e}(),Kwe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Qwe={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}},Zwe=["v1","v2","v3"],m4={zero:0,one:1,two:2,few:3,many:4,other:5};function Xwe(){var e={};return Kwe.forEach(function(t){t.lngs.forEach(function(n){e[n]={numbers:t.nr,plurals:Qwe[t.fc]}})}),e}var Jwe=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};zo(this,e),this.languageUtils=t,this.options=n,this.logger=ko.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Xwe()}return Ho(e,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(n,r);return this.shouldUseIntlApi()?a&&a.resolvedOptions().pluralCategories.length>1:a&&a.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,a).map(function(i){return"".concat(r).concat(i)})}},{key:"getSuffixes",value:function(n){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,a);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort(function(s,o){return m4[s]-m4[o]}).map(function(s){return"".concat(r.options.prepend).concat(s)}):i.numbers.map(function(s){return r.getSuffix(n,s,a)}):[]}},{key:"getSuffix",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=this.getRule(n,a);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(i.select(r)):this.getSuffixRetroCompatible(i,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var a=this,i=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),s=n.numbers[i];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));var o=function(){return a.options.prepend&&s.toString()?a.options.prepend+s.toString():s.toString()};return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?"_plural_".concat(s.toString()):o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?o():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}},{key:"shouldUseIntlApi",value:function(){return!Zwe.includes(this.options.compatibilityJSON)}}]),e}();function g4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(n),!0).forEach(function(r){Ac(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var exe=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};zo(this,e),this.logger=ko.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(n){return n},this.init(t)}return Ho(e,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:Bwe,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?Cd(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?Cd(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?Cd(r.nestingPrefix):r.nestingPrefixEscaped||Cd("$t("),this.nestingSuffix=r.nestingSuffix?Cd(r.nestingSuffix):r.nestingSuffixEscaped||Cd(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var a="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(a,"g")}},{key:"interpolate",value:function(n,r,a,i){var s=this,o,c,d,f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function h(w){return w.replace(/\$/g,"$$$$")}var m=function(x){if(x.indexOf(s.formatSeparator)<0){var k=u4(r,f,x);return s.alwaysFormat?s.format(k,void 0,a,Vs(Vs(Vs({},i),r),{},{interpolationkey:x})):k}var R=x.split(s.formatSeparator),I=R.shift().trim(),O=R.join(s.formatSeparator).trim();return s.format(u4(r,f,I),O,a,Vs(Vs(Vs({},i),r),{},{interpolationkey:I}))};this.resetRegExp();var g=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,b=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,_=[{regex:this.regexpUnescape,safeValue:function(x){return h(x)}},{regex:this.regexp,safeValue:function(x){return s.escapeValue?h(s.escape(x)):h(x)}}];return _.forEach(function(w){for(d=0;o=w.regex.exec(n);){var x=o[1].trim();if(c=m(x),c===void 0)if(typeof g=="function"){var k=g(n,o,i);c=typeof k=="string"?k:""}else if(i&&i.hasOwnProperty(x))c="";else if(b){c=o[0];continue}else s.logger.warn("missed to pass in variable ".concat(x," for interpolating ").concat(n)),c="";else typeof c!="string"&&!s.useRawValueToEscape&&(c=l4(c));var R=w.safeValue(c);if(n=n.replace(o[0],R),b?(w.regex.lastIndex+=c.length,w.regex.lastIndex-=o[0].length):w.regex.lastIndex=0,d++,d>=s.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var a=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,o,c=Vs({},i);c.applyPostProcessor=!1,delete c.defaultValue;function d(g,b){var _=this.nestingOptionsSeparator;if(g.indexOf(_)<0)return g;var w=g.split(new RegExp("".concat(_,"[ ]*{"))),x="{".concat(w[1]);g=w[0],x=this.interpolate(x,c);var k=x.match(/'/g),R=x.match(/"/g);(k&&k.length%2===0&&!R||R.length%2!==0)&&(x=x.replace(/'/g,'"'));try{c=JSON.parse(x),b&&(c=Vs(Vs({},b),c))}catch(I){return this.logger.warn("failed parsing options string in nesting for key ".concat(g),I),"".concat(g).concat(_).concat(x)}return delete c.defaultValue,g}for(;s=this.nestingRegexp.exec(n);){var f=[],h=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){var m=s[1].split(this.formatSeparator).map(function(g){return g.trim()});s[1]=m.shift(),f=m,h=!0}if(o=r(d.call(this,s[1].trim(),c),c),o&&s[0]===n&&typeof o!="string")return o;typeof o!="string"&&(o=l4(o)),o||(this.logger.warn("missed to resolve ".concat(s[1]," for nesting ").concat(n)),o=""),h&&(o=f.reduce(function(g,b){return a.format(g,b,i.lng,Vs(Vs({},i),{},{interpolationkey:s[1].trim()}))},o.trim())),n=n.replace(s[0],o),this.regexp.lastIndex=0}return n}}]),e}();function y4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(n),!0).forEach(function(r){Ac(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function txe(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var a=r[1].substring(0,r[1].length-1);if(t==="currency"&&a.indexOf(":")<0)n.currency||(n.currency=a.trim());else if(t==="relativetime"&&a.indexOf(":")<0)n.range||(n.range=a.trim());else{var i=a.split(";");i.forEach(function(s){if(s){var o=s.split(":"),c=Nwe(o),d=c[0],f=c.slice(1),h=f.join(":").trim().replace(/^'+|'+$/g,"");n[d.trim()]||(n[d.trim()]=h),h==="false"&&(n[d.trim()]=!1),h==="true"&&(n[d.trim()]=!0),isNaN(h)||(n[d.trim()]=parseInt(h,10))}})}}return{formatName:t,formatOptions:n}}function Dd(e){var t={};return function(r,a,i){var s=a+JSON.stringify(i),o=t[s];return o||(o=e(a,i),t[s]=o),o(r)}}var nxe=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};zo(this,e),this.logger=ko.create("formatter"),this.options=t,this.formats={number:Dd(function(n,r){var a=new Intl.NumberFormat(n,r);return function(i){return a.format(i)}}),currency:Dd(function(n,r){var a=new Intl.NumberFormat(n,oc(oc({},r),{},{style:"currency"}));return function(i){return a.format(i)}}),datetime:Dd(function(n,r){var a=new Intl.DateTimeFormat(n,oc({},r));return function(i){return a.format(i)}}),relativetime:Dd(function(n,r){var a=new Intl.RelativeTimeFormat(n,oc({},r));return function(i){return a.format(i,r.range||"day")}}),list:Dd(function(n,r){var a=new Intl.ListFormat(n,oc({},r));return function(i){return a.format(i)}})},this.init(t)}return Ho(e,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},a=r.interpolation;this.formatSeparator=a.formatSeparator?a.formatSeparator:a.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=Dd(r)}},{key:"format",value:function(n,r,a,i){var s=this,o=r.split(this.formatSeparator),c=o.reduce(function(d,f){var h=txe(f),m=h.formatName,g=h.formatOptions;if(s.formats[m]){var b=d;try{var _=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},w=_.locale||_.lng||i.locale||i.lng||a;b=s.formats[m](d,w,oc(oc(oc({},g),i),_))}catch(x){s.logger.warn(x)}return b}else s.logger.warn("there was no format function for ".concat(m));return d},n);return c}}]),e}();function v4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function b4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(n),!0).forEach(function(r){Ac(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rxe(e){var t=axe();return function(){var r=Io(e),a;if(t){var i=Io(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return bm(this,a)}}function axe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ixe(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}var sxe=function(e){$1(n,e);var t=rxe(n);function n(r,a,i){var s,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return zo(this,n),s=t.call(this),z1&&Ec.call(xc(s)),s.backend=r,s.store=a,s.services=i,s.languageUtils=i.languageUtils,s.options=o,s.logger=ko.create("backendConnector"),s.waitingReads=[],s.maxParallelReads=o.maxParallelReads||10,s.readingCalls=0,s.maxRetries=o.maxRetries>=0?o.maxRetries:5,s.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(i,o.backend,o),s}return Ho(n,[{key:"queueLoad",value:function(a,i,s,o){var c=this,d={},f={},h={},m={};return a.forEach(function(g){var b=!0;i.forEach(function(_){var w="".concat(g,"|").concat(_);!s.reload&&c.store.hasResourceBundle(g,_)?c.state[w]=2:c.state[w]<0||(c.state[w]===1?f[w]===void 0&&(f[w]=!0):(c.state[w]=1,b=!1,f[w]===void 0&&(f[w]=!0),d[w]===void 0&&(d[w]=!0),m[_]===void 0&&(m[_]=!0)))}),b||(h[g]=!0)}),(Object.keys(d).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(d),pending:Object.keys(f),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(m)}}},{key:"loaded",value:function(a,i,s){var o=a.split("|"),c=o[0],d=o[1];i&&this.emit("failedLoading",c,d,i),s&&this.store.addResourceBundle(c,d,s),this.state[a]=i?-1:2;var f={};this.queue.forEach(function(h){jwe(h.loaded,[c],d),ixe(h,a),i&&h.errors.push(i),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(function(m){f[m]||(f[m]={});var g=h.loaded[m];g.length&&g.forEach(function(b){f[m][b]===void 0&&(f[m][b]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(function(h){return!h.done})}},{key:"read",value:function(a,i,s){var o=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,f=arguments.length>5?arguments[5]:void 0;if(!a.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:a,ns:i,fcName:s,tried:c,wait:d,callback:f});return}return this.readingCalls++,this.backend[s](a,i,function(h,m){if(o.readingCalls--,o.waitingReads.length>0){var g=o.waitingReads.shift();o.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&m&&c<o.maxRetries){setTimeout(function(){o.read.call(o,a,i,s,c+1,d*2,f)},d);return}f(h,m)})}},{key:"prepareLoading",value:function(a,i){var s=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();typeof a=="string"&&(a=this.languageUtils.toResolveHierarchy(a)),typeof i=="string"&&(i=[i]);var d=this.queueLoad(a,i,o,c);if(!d.toLoad.length)return d.pending.length||c(),null;d.toLoad.forEach(function(f){s.loadOne(f)})}},{key:"load",value:function(a,i,s){this.prepareLoading(a,i,{},s)}},{key:"reload",value:function(a,i,s){this.prepareLoading(a,i,{reload:!0},s)}},{key:"loadOne",value:function(a){var i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=a.split("|"),c=o[0],d=o[1];this.read(c,d,"read",void 0,void 0,function(f,h){f&&i.logger.warn("".concat(s,"loading namespace ").concat(d," for language ").concat(c," failed"),f),!f&&h&&i.logger.log("".concat(s,"loaded namespace ").concat(d," for language ").concat(c),h),i.loaded(a,f,h)})}},{key:"saveMissing",value:function(a,i,s,o,c){var d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(i)){this.logger.warn('did not save key "'.concat(s,'" as the namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}s==null||s===""||(this.backend&&this.backend.create&&this.backend.create(a,i,s,o,null,b4(b4({},d),{},{isUpdate:c})),!(!a||!a[0])&&this.store.addResource(a[0],i,s,o))}}]),n}(Ec);function oxe(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var n={};if(Qs(t[1])==="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),Qs(t[2])==="object"||Qs(t[3])==="object"){var r=t[3]||t[2];Object.keys(r).forEach(function(a){n[a]=r[a]})}return n},interpolation:{escapeValue:!0,format:function(t,n,r,a){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function _4(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function w4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(n),!0).forEach(function(r){Ac(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lxe(e){var t=cxe();return function(){var r=Io(e),a;if(t){var i=Io(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return bm(this,a)}}function cxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iy(){}function uxe(e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach(function(n){typeof e[n]=="function"&&(e[n]=e[n].bind(e))})}var P0=function(e){$1(n,e);var t=lxe(n);function n(){var r,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(zo(this,n),r=t.call(this),z1&&Ec.call(xc(r)),r.options=_4(a),r.services={},r.logger=ko,r.modules={external:[]},uxe(xc(r)),i&&!r.isInitialized&&!a.isClone){if(!r.options.initImmediate)return r.init(a,i),bm(r,xc(r));setTimeout(function(){r.init(a,i)},0)}return r}return Ho(n,[{key:"init",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;typeof i=="function"&&(s=i,i={}),!i.defaultNS&&i.defaultNS!==!1&&i.ns&&(typeof i.ns=="string"?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));var o=oxe();this.options=ho(ho(ho({},o),this.options),_4(i)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=ho(ho({},o.interpolation),this.options.interpolation)),i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);function c(x){return x?typeof x=="function"?new x:x:null}if(!this.options.isClone){this.modules.logger?ko.init(c(this.modules.logger),this.options):ko.init(null,this.options);var d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=nxe);var f=new Gwe(this.options);this.store=new qwe(this.options.resources,this.options);var h=this.services;h.logger=ko,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new Jwe(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(h.formatter=c(d),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new exe(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new sxe(c(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(x){for(var k=arguments.length,R=new Array(k>1?k-1:0),I=1;I<k;I++)R[I-1]=arguments[I];a.emit.apply(a,[x].concat(R))}),this.modules.languageDetector&&(h.languageDetector=c(this.modules.languageDetector),h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=c(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new p4(this.services,this.options),this.translator.on("*",function(x){for(var k=arguments.length,R=new Array(k>1?k-1:0),I=1;I<k;I++)R[I-1]=arguments[I];a.emit.apply(a,[x].concat(R))}),this.modules.external.forEach(function(x){x.init&&x.init(a)})}if(this.format=this.options.interpolation.format,s||(s=iy),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var g=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];g.forEach(function(x){a[x]=function(){var k;return(k=a.store)[x].apply(k,arguments)}});var b=["addResource","addResources","addResourceBundle","removeResourceBundle"];b.forEach(function(x){a[x]=function(){var k;return(k=a.store)[x].apply(k,arguments),a}});var _=Bh(),w=function(){var k=function(I,O){a.isInitialized&&!a.initializedStoreOnce&&a.logger.warn("init: i18next is already initialized. You should call init just once!"),a.isInitialized=!0,a.options.isClone||a.logger.log("initialized",a.options),a.emit("initialized",a.options),_.resolve(O),s(I,O)};if(a.languages&&a.options.compatibilityAPI!=="v1"&&!a.isInitialized)return k(null,a.t.bind(a));a.changeLanguage(a.options.lng,k)};return this.options.resources||!this.options.initImmediate?w():setTimeout(w,0),_}},{key:"loadResources",value:function(a){var i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iy,o=s,c=typeof a=="string"?a:this.language;if(typeof a=="function"&&(o=a),!this.options.resources||this.options.partialBundledLanguages){if(c&&c.toLowerCase()==="cimode")return o();var d=[],f=function(g){if(g){var b=i.services.languageUtils.toResolveHierarchy(g);b.forEach(function(_){d.indexOf(_)<0&&d.push(_)})}};if(c)f(c);else{var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.forEach(function(m){return f(m)})}this.options.preload&&this.options.preload.forEach(function(m){return f(m)}),this.services.backendConnector.load(d,this.options.ns,function(m){!m&&!i.resolvedLanguage&&i.language&&i.setResolvedLanguage(i.language),o(m)})}else o(null)}},{key:"reloadResources",value:function(a,i,s){var o=Bh();return a||(a=this.languages),i||(i=this.options.ns),s||(s=iy),this.services.backendConnector.reload(a,i,function(c){o.resolve(),s(c)}),o}},{key:"use",value:function(a){if(!a)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!a.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return a.type==="backend"&&(this.modules.backend=a),(a.type==="logger"||a.log&&a.warn&&a.error)&&(this.modules.logger=a),a.type==="languageDetector"&&(this.modules.languageDetector=a),a.type==="i18nFormat"&&(this.modules.i18nFormat=a),a.type==="postProcessor"&&EI.addPostProcessor(a),a.type==="formatter"&&(this.modules.formatter=a),a.type==="3rdParty"&&this.modules.external.push(a),this}},{key:"setResolvedLanguage",value:function(a){if(!(!a||!this.languages)&&!(["cimode","dev"].indexOf(a)>-1))for(var i=0;i<this.languages.length;i++){var s=this.languages[i];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}},{key:"changeLanguage",value:function(a,i){var s=this;this.isLanguageChangingTo=a;var o=Bh();this.emit("languageChanging",a);var c=function(m){s.language=m,s.languages=s.services.languageUtils.toResolveHierarchy(m),s.resolvedLanguage=void 0,s.setResolvedLanguage(m)},d=function(m,g){g?(c(g),s.translator.changeLanguage(g),s.isLanguageChangingTo=void 0,s.emit("languageChanged",g),s.logger.log("languageChanged",g)):s.isLanguageChangingTo=void 0,o.resolve(function(){return s.t.apply(s,arguments)}),i&&i(m,function(){return s.t.apply(s,arguments)})},f=function(m){!a&&!m&&s.services.languageDetector&&(m=[]);var g=typeof m=="string"?m:s.services.languageUtils.getBestMatchFromCodes(m);g&&(s.language||c(g),s.translator.language||s.translator.changeLanguage(g),s.services.languageDetector&&s.services.languageDetector.cacheUserLanguage(g)),s.loadResources(g,function(b){d(b,g)})};return!a&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!a&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(f):f(a),o}},{key:"getFixedT",value:function(a,i,s){var o=this,c=function d(f,h){var m;if(Qs(h)!=="object"){for(var g=arguments.length,b=new Array(g>2?g-2:0),_=2;_<g;_++)b[_-2]=arguments[_];m=o.options.overloadTranslationOptionHandler([f,h].concat(b))}else m=ho({},h);m.lng=m.lng||d.lng,m.lngs=m.lngs||d.lngs,m.ns=m.ns||d.ns,m.keyPrefix=m.keyPrefix||s||d.keyPrefix;var w=o.options.keySeparator||".",x=m.keyPrefix?"".concat(m.keyPrefix).concat(w).concat(f):f;return o.t(x,m)};return typeof a=="string"?c.lng=a:c.lngs=a,c.ns=i,c.keyPrefix=s,c}},{key:"t",value:function(){var a;return this.translator&&(a=this.translator).translate.apply(a,arguments)}},{key:"exists",value:function(){var a;return this.translator&&(a=this.translator).exists.apply(a,arguments)}},{key:"setDefaultNamespace",value:function(a){this.options.defaultNS=a}},{key:"hasLoadedNamespace",value:function(a){var i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,d=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;var f=function(g,b){var _=i.services.backendConnector.state["".concat(g,"|").concat(b)];return _===-1||_===2};if(s.precheck){var h=s.precheck(this,f);if(h!==void 0)return h}return!!(this.hasResourceBundle(o,a)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(o,a)&&(!c||f(d,a)))}},{key:"loadNamespaces",value:function(a,i){var s=this,o=Bh();return this.options.ns?(typeof a=="string"&&(a=[a]),a.forEach(function(c){s.options.ns.indexOf(c)<0&&s.options.ns.push(c)}),this.loadResources(function(c){o.resolve(),i&&i(c)}),o):(i&&i(),Promise.resolve())}},{key:"loadLanguages",value:function(a,i){var s=Bh();typeof a=="string"&&(a=[a]);var o=this.options.preload||[],c=a.filter(function(d){return o.indexOf(d)<0});return c.length?(this.options.preload=o.concat(c),this.loadResources(function(d){s.resolve(),i&&i(d)}),s):(i&&i(),Promise.resolve())}},{key:"dir",value:function(a){if(a||(a=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!a)return"rtl";var i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"];return i.indexOf(this.services.languageUtils.getLanguagePartFromCode(a))>-1||a.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iy,o=ho(ho(ho({},this.options),i),{isClone:!0}),c=new n(o);(i.debug!==void 0||i.prefix!==void 0)&&(c.logger=c.logger.clone(i));var d=["store","services","language"];return d.forEach(function(f){c[f]=a[f]}),c.services=ho({},this.services),c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c.translator=new p4(c.services,c.options),c.translator.on("*",function(f){for(var h=arguments.length,m=new Array(h>1?h-1:0),g=1;g<h;g++)m[g-1]=arguments[g];c.emit.apply(c,[f].concat(m))}),c.init(o,s),c.translator.options=c.options,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(Ec);Ac(P0,"createInstance",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new P0(e,t)});var Mi=P0.createInstance();Mi.createInstance=P0.createInstance;Mi.createInstance;Mi.init;Mi.loadResources;Mi.reloadResources;Mi.use;Mi.changeLanguage;Mi.getFixedT;Mi.t;Mi.exists;Mi.setDefaultNamespace;Mi.hasLoadedNamespace;Mi.loadNamespaces;Mi.loadLanguages;var Fy={exports:{}},dxe=Fy.exports,x4;function fxe(){return x4||(x4=1,function(e,t){(function(n,r){e.exports=r()})(dxe,function(){return function(n,r,a){a.updateLocale=function(i,s){var o=a.Ls[i];if(o)return(s?Object.keys(s):[]).forEach(function(c){o[c]=s[c]}),o}}})}(Fy)),Fy.exports}var hxe=fxe();const pxe=Or(hxe);var jy={exports:{}},mxe=jy.exports,C4;function gxe(){return C4||(C4=1,function(e,t){(function(n,r){e.exports=r()})(mxe,function(){return function(n,r,a){var i=r.prototype,s=function(h){return h&&(h.indexOf?h:h.s)},o=function(h,m,g,b,_){var w=h.name?h:h.$locale(),x=s(w[m]),k=s(w[g]),R=x||k.map(function(O){return O.slice(0,b)});if(!_)return R;var I=w.weekStart;return R.map(function(O,A){return R[(A+(I||0))%7]})},c=function(){return a.Ls[a.locale()]},d=function(h,m){return h.formats[m]||function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,_,w){return _||w.slice(1)})}(h.formats[m.toUpperCase()])},f=function(){var h=this;return{months:function(m){return m?m.format("MMMM"):o(h,"months")},monthsShort:function(m){return m?m.format("MMM"):o(h,"monthsShort","months",3)},firstDayOfWeek:function(){return h.$locale().weekStart||0},weekdays:function(m){return m?m.format("dddd"):o(h,"weekdays")},weekdaysMin:function(m){return m?m.format("dd"):o(h,"weekdaysMin","weekdays",2)},weekdaysShort:function(m){return m?m.format("ddd"):o(h,"weekdaysShort","weekdays",3)},longDateFormat:function(m){return d(h.$locale(),m)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return f.bind(this)()},a.localeData=function(){var h=c();return{firstDayOfWeek:function(){return h.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(m){return d(h,m)},meridiem:h.meridiem,ordinal:h.ordinal}},a.months=function(){return o(c(),"months")},a.monthsShort=function(){return o(c(),"monthsShort","months",3)},a.weekdays=function(h){return o(c(),"weekdays",null,null,h)},a.weekdaysShort=function(h){return o(c(),"weekdaysShort","weekdays",3,h)},a.weekdaysMin=function(h){return o(c(),"weekdaysMin","weekdays",2,h)}}})}(jy)),jy.exports}var yxe=gxe();const vxe=Or(yxe);var Uy={exports:{}},bxe=Uy.exports,D4;function _xe(){return D4||(D4=1,function(e,t){(function(n,r){e.exports=r()})(bxe,function(){return function(n,r,a){n=n||{};var i=r.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(d,f,h,m){return i.fromToBase(d,f,h,m)}a.en.relativeTime=s,i.fromToBase=function(d,f,h,m,g){for(var b,_,w,x=h.$locale().relativeTime||s,k=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],R=k.length,I=0;I<R;I+=1){var O=k[I];O.d&&(b=m?a(d).diff(h,O.d,!0):h.diff(d,O.d,!0));var A=(n.rounding||Math.round)(Math.abs(b));if(w=b>0,A<=O.r||!O.r){A<=1&&I>0&&(O=k[I-1]);var L=x[O.l];g&&(A=g(""+A)),_=typeof L=="string"?L.replace("%d",A):L(A,f,O.l,w);break}}if(f)return _;var C=w?x.future:x.past;return typeof C=="function"?C(_):C.replace("%s",_)},i.to=function(d,f){return o(d,f,this,!0)},i.from=function(d,f){return o(d,f,this)};var c=function(d){return d.$u?a.utc():a()};i.toNow=function(d){return this.to(c(this),d)},i.fromNow=function(d){return this.from(c(this),d)}}})}(Uy)),Uy.exports}var wxe=_xe();const xxe=Or(wxe);var By={exports:{}},Cxe=By.exports,S4;function Dxe(){return S4||(S4=1,function(e,t){(function(n,r){e.exports=r()})(Cxe,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,s,o){var c=s.prototype;o.utc=function(_){var w={date:_,utc:!0,args:arguments};return new s(w)},c.utc=function(_){var w=o(this.toDate(),{locale:this.$L,utc:!0});return _?w.add(this.utcOffset(),n):w},c.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var d=c.parse;c.parse=function(_){_.utc&&(this.$u=!0),this.$utils().u(_.$offset)||(this.$offset=_.$offset),d.call(this,_)};var f=c.init;c.init=function(){if(this.$u){var _=this.$d;this.$y=_.getUTCFullYear(),this.$M=_.getUTCMonth(),this.$D=_.getUTCDate(),this.$W=_.getUTCDay(),this.$H=_.getUTCHours(),this.$m=_.getUTCMinutes(),this.$s=_.getUTCSeconds(),this.$ms=_.getUTCMilliseconds()}else f.call(this)};var h=c.utcOffset;c.utcOffset=function(_,w){var x=this.$utils().u;if(x(_))return this.$u?0:x(this.$offset)?h.call(this):this.$offset;if(typeof _=="string"&&(_=function(O){O===void 0&&(O="");var A=O.match(r);if(!A)return null;var L=(""+A[0]).match(a)||["-",0,0],C=L[0],T=60*+L[1]+ +L[2];return T===0?0:C==="+"?T:-T}(_),_===null))return this;var k=Math.abs(_)<=16?60*_:_,R=this;if(w)return R.$offset=k,R.$u=_===0,R;if(_!==0){var I=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(R=this.local().add(k+I,n)).$offset=k,R.$x.$localOffset=I}else R=this.utc();return R};var m=c.format;c.format=function(_){var w=_||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return m.call(this,w)},c.valueOf=function(){var _=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*_},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var g=c.toDate;c.toDate=function(_){return _==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var b=c.diff;c.diff=function(_,w,x){if(_&&this.$u===_.$u)return b.call(this,_,w,x);var k=this.local(),R=o(_).local();return b.call(k,R,w,x)}}})}(By)),By.exports}var Sxe=Dxe();const Exe=Or(Sxe);var $y={exports:{}},Mxe=$y.exports,E4;function Txe(){return E4||(E4=1,function(e,t){(function(n,r){e.exports=r()})(Mxe,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(a,i,s){var o,c=function(m,g,b){b===void 0&&(b={});var _=new Date(m),w=function(x,k){k===void 0&&(k={});var R=k.timeZoneName||"short",I=x+"|"+R,O=r[I];return O||(O=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:x,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:R}),r[I]=O),O}(g,b);return w.formatToParts(_)},d=function(m,g){for(var b=c(m,g),_=[],w=0;w<b.length;w+=1){var x=b[w],k=x.type,R=x.value,I=n[k];I>=0&&(_[I]=parseInt(R,10))}var O=_[3],A=O===24?0:O,L=_[0]+"-"+_[1]+"-"+_[2]+" "+A+":"+_[4]+":"+_[5]+":000",C=+m;return(s.utc(L).valueOf()-(C-=C%1e3))/6e4},f=i.prototype;f.tz=function(m,g){m===void 0&&(m=o);var b,_=this.utcOffset(),w=this.toDate(),x=w.toLocaleString("en-US",{timeZone:m}),k=Math.round((w-new Date(x))/1e3/60),R=15*-Math.round(w.getTimezoneOffset()/15)-k;if(!Number(R))b=this.utcOffset(0,g);else if(b=s(x,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(R,!0),g){var I=b.utcOffset();b=b.add(_-I,"minute")}return b.$x.$timezone=m,b},f.offsetName=function(m){var g=this.$x.$timezone||s.tz.guess(),b=c(this.valueOf(),g,{timeZoneName:m}).find(function(_){return _.type.toLowerCase()==="timezonename"});return b&&b.value};var h=f.startOf;f.startOf=function(m,g){if(!this.$x||!this.$x.$timezone)return h.call(this,m,g);var b=s(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return h.call(b,m,g).tz(this.$x.$timezone,!0)},s.tz=function(m,g,b){var _=b&&g,w=b||g||o,x=d(+s(),w);if(typeof m!="string")return s(m).tz(w);var k=function(A,L,C){var T=A-60*L*1e3,S=d(T,C);if(L===S)return[T,L];var j=d(T-=60*(S-L)*1e3,C);return S===j?[T,S]:[A-60*Math.min(S,j)*1e3,Math.max(S,j)]}(s.utc(m,_).valueOf(),x,w),R=k[0],I=k[1],O=s(R).utcOffset(I);return O.$x.$timezone=w,O},s.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},s.tz.setDefault=function(m){o=m}}})}($y)),$y.exports}var kxe=Txe();const Rxe=Or(kxe);var zy={exports:{}},Axe=zy.exports,M4;function Oxe(){return M4||(M4=1,function(e,t){(function(n,r){e.exports=r(Ps())})(Axe,function(n){function r(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var a=r(n),i={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function s(c,d,f){var h=i[f];return Array.isArray(h)&&(h=h[d?0:1]),h.replace("%d",c)}var o={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(c){return c+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s,m:s,mm:s,h:s,hh:s,d:s,dd:s,M:s,MM:s,y:s,yy:s}};return a.default.locale(o,null,!0),o})}(zy)),zy.exports}Oxe();var Hy={exports:{}},Lxe=Hy.exports,T4;function Nxe(){return T4||(T4=1,function(e,t){(function(n,r){e.exports=r(Ps())})(Lxe,function(n){function r(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var a=r(n),i={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(s){return s+"º"}};return a.default.locale(i,null,!0),i})}(Hy)),Hy.exports}Nxe();var Vy={exports:{}},Pxe=Vy.exports,k4;function Ixe(){return k4||(k4=1,function(e,t){(function(n,r){e.exports=r(Ps())})(Pxe,function(n){function r(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var a=r(n),i={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(s){return""+s+(s===1?"er":"")}};return a.default.locale(i,null,!0),i})}(Vy)),Vy.exports}Ixe();var qy={exports:{}},Fxe=qy.exports,R4;function jxe(){return R4||(R4=1,function(e,t){(function(n,r){e.exports=r(Ps())})(Fxe,function(n){function r(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var a=r(n),i={name:"hi",weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),ordinal:function(s){return s},formats:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"}};return a.default.locale(i,null,!0),i})}(qy)),qy.exports}jxe();var Yy={exports:{}},Uxe=Yy.exports,A4;function Bxe(){return A4||(A4=1,function(e,t){(function(n,r){e.exports=r(Ps())})(Uxe,function(n){function r(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var a=r(n),i={name:"it",weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(s){return s+"º"}};return a.default.locale(i,null,!0),i})}(Yy)),Yy.exports}Bxe();var Wy={exports:{}},$xe=Wy.exports,O4;function zxe(){return O4||(O4=1,function(e,t){(function(n,r){e.exports=r(Ps())})($xe,function(n){function r(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var a=r(n),i={name:"ja",weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(s){return s+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiem:function(s){return s<12?"午前":"午後"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}};return a.default.locale(i,null,!0),i})}(Wy)),Wy.exports}zxe();var Gy={exports:{}},Hxe=Gy.exports,L4;function Vxe(){return L4||(L4=1,function(e,t){(function(n,r){e.exports=r(Ps())})(Hxe,function(n){function r(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var a=r(n),i={name:"ko",weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),ordinal:function(s){return s+"일"},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},meridiem:function(s){return s<12?"오전":"오후"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"}};return a.default.locale(i,null,!0),i})}(Gy)),Gy.exports}Vxe();var Ky={exports:{}},qxe=Ky.exports,N4;function Yxe(){return N4||(N4=1,function(e,t){(function(n,r){e.exports=r(Ps())})(qxe,function(n){function r(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var a=r(n),i={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(s){return"["+s+(s===1||s===8||s>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return a.default.locale(i,null,!0),i})}(Ky)),Ky.exports}Yxe();var Qy={exports:{}},Wxe=Qy.exports,P4;function Gxe(){return P4||(P4=1,function(e,t){(function(n,r){e.exports=r(Ps())})(Wxe,function(n){function r(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var a=r(n),i={name:"pt",weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sab".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sa".split("_"),months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(s){return s+"º"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},relativeTime:{future:"em %s",past:"há %s",s:"alguns segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"}};return a.default.locale(i,null,!0),i})}(Qy)),Qy.exports}Gxe();var Zy={exports:{}},Kxe=Zy.exports,I4;function Qxe(){return I4||(I4=1,function(e,t){(function(n,r){e.exports=r(Ps())})(Kxe,function(n){function r(b){return b&&typeof b=="object"&&"default"in b?b:{default:b}}var a=r(n),i="января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),s="январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),o="янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),c="янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_"),d=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function f(b,_,w){var x,k;return w==="m"?_?"минута":"минуту":b+" "+(x=+b,k={mm:_?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[w].split("_"),x%10==1&&x%100!=11?k[0]:x%10>=2&&x%10<=4&&(x%100<10||x%100>=20)?k[1]:k[2])}var h=function(b,_){return d.test(_)?i[b.month()]:s[b.month()]};h.s=s,h.f=i;var m=function(b,_){return d.test(_)?o[b.month()]:c[b.month()]};m.s=c,m.f=o;var g={name:"ru",weekdays:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),weekdaysShort:"вск_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),months:h,monthsShort:m,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:f,mm:f,h:"час",hh:f,d:"день",dd:f,M:"месяц",MM:f,y:"год",yy:f},ordinal:function(b){return b},meridiem:function(b){return b<4?"ночи":b<12?"утра":b<17?"дня":"вечера"}};return a.default.locale(g,null,!0),g})}(Zy)),Zy.exports}Qxe();var Xy={exports:{}},Zxe=Xy.exports,F4;function Xxe(){return F4||(F4=1,function(e,t){(function(n,r){e.exports=r(Ps())})(Zxe,function(n){function r(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var a=r(n),i={name:"tr",weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(s){return s+"."}};return a.default.locale(i,null,!0),i})}(Xy)),Xy.exports}Xxe();var Jy={exports:{}},Jxe=Jy.exports,j4;function eCe(){return j4||(j4=1,function(e,t){(function(n,r){e.exports=r()})(Jxe,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],a=n%100;return"["+n+(r[(a-20)%10]||r[a]||r[0])+"]"}}})}(Jy)),Jy.exports}eCe();const Ma="translation",U4="en";ha.extend(pxe);ha.extend(Exe);ha.extend(Rxe);ha.updateLocale("de",{calendar:{lastDay:"[gestern um] LT",lastWeek:"[letzten] dddd [um] LT",nextDay:"[morgen um] LT",nextWeek:"dddd [um] LT",sameDay:"[heute um] LT",sameElse:"L"}});ha.updateLocale("es",{calendar:{lastDay:"[ayer a las] LT",lastWeek:"[pasado] dddd [a] LT",nextDay:"[mañana a] LT",nextWeek:"dddd [a] LT",sameDay:"[hoy a las] LT",sameElse:"L"}});ha.updateLocale("fr",{calendar:{lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",sameDay:"[Aujourd’hui à] LT",sameElse:"L"}});ha.updateLocale("hi",{calendar:{lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",sameDay:"[आज] LT",sameElse:"L"},meridiem(e){return e<4?"रात":e<10?"सुबह":e<17?"दोपहर":e<20?"शाम":"रात"},meridiemHour(e,t){return e===12&&(e=0),t==="रात"?e<4?e:e+12:t==="सुबह"?e:t==="दोपहर"?e>=10?e:e+12:t==="शाम"?e+12:e},meridiemParse:/रात|सुबह|दोपहर|शाम/});ha.updateLocale("it",{calendar:{lastDay:"[Ieri alle] LT",lastWeek:"[lo scorso] dddd [alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",sameDay:"[Oggi alle] LT",sameElse:"L"}});ha.updateLocale("ja",{calendar:{lastDay:"[昨日] LT",lastWeek:"dddd LT",nextDay:"[明日] LT",nextWeek:"[次の] dddd LT",sameDay:"[今日] LT",sameElse:"L"}});ha.updateLocale("ko",{calendar:{lastDay:"[어제] LT",lastWeek:"[지난] dddd LT",nextDay:"[내일] LT",nextWeek:"dddd LT",sameDay:"[오늘] LT",sameElse:"L"}});ha.updateLocale("nl",{calendar:{lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",sameDay:"[vandaag om] LT",sameElse:"L"}});ha.updateLocale("pt",{calendar:{lastDay:"[ontem às] LT",lastWeek:"dddd [passada às] LT",nextDay:"[amanhã às] LT",nextWeek:"dddd [às] LT",sameDay:"[hoje às] LT",sameElse:"L"}});ha.updateLocale("ru",{calendar:{lastDay:"[Вчера, в] LT",nextDay:"[Завтра, в] LT",sameDay:"[Сегодня, в] LT"}});ha.updateLocale("tr",{calendar:{lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",sameDay:"[bugün saat] LT",sameElse:"L"}});const tCe={formats:{},months:["January","February","March","April","May","June","July","August","September","October","November","December"],relativeTime:{},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},B4=e=>e.extend!==void 0,$4=e=>e.tz!==void 0,nCe={DateTimeParser:ha,dayjsLocaleConfigForLanguage:null,debug:!1,disableDateTimeTranslations:!1,language:"en",logger:e=>console.warn(e)};class rCe{constructor(t={}){this.i18nInstance=Mi.createInstance(),this.Dayjs=null,this.setLanguageCallback=()=>null,this.initialized=!1,this.t=MS,this.translations={de:{[Ma]:Eme},en:{[Ma]:uge},es:{[Ma]:Zge},fr:{[Ma]:jye},hi:{[Ma]:xve},it:{[Ma]:c0e},ja:{[Ma]:Y0e},ko:{[Ma]:k1e},nl:{[Ma]:hbe},pt:{[Ma]:e_e},ru:{[Ma]:V_e},tr:{[Ma]:Twe}},this.dayjsLocales={},this.formatters=aA,this.localeExists=i=>this.isCustomDateTimeParser?!0:Object.keys(ha.Ls).indexOf(i)>-1,this.validateCurrentLanguage=()=>{Object.keys(this.translations).indexOf(this.currentLanguage)===-1&&(this.logger(`Streami18n: '${this.currentLanguage}' language is not registered. Please make sure to call streami18n.registerTranslation('${this.currentLanguage}', {...}) or use one the built-in supported languages - ${this.getAvailableLanguages()}`),this.currentLanguage=U4)},this.geti18Instance=()=>this.i18nInstance,this.getAvailableLanguages=()=>Object.keys(this.translations),this.getTranslations=()=>this.translations;const n={...nCe,...t};this.logger=n.logger,this.currentLanguage=n.language,this.DateTimeParser=n.DateTimeParser,this.timezone=n.timezone,this.formatters={...aA,...t==null?void 0:t.formatters};try{this.DateTimeParser&&B4(this.DateTimeParser)&&(this.DateTimeParser.extend(R5),this.DateTimeParser.extend(k5),this.DateTimeParser.extend(vxe),this.DateTimeParser.extend(xxe))}catch(i){throw Error(`Streami18n: Looks like you wanted to provide Dayjs instance, but something went wrong while adding plugins ${i}`)}this.isCustomDateTimeParser=!!t.DateTimeParser;const r=n.translationsForLanguage;r&&(this.translations[this.currentLanguage]={[Ma]:this.translations[this.currentLanguage]&&this.translations[this.currentLanguage][Ma]?{...this.translations[this.currentLanguage][Ma],...r}:r}),this.translations[this.currentLanguage]||(this.translations[this.currentLanguage]={[Ma]:{}}),this.i18nextConfig={debug:n.debug,fallbackLng:!1,interpolation:{escapeValue:!1,formatSeparator:"|"},keySeparator:!1,lng:this.currentLanguage,nsSeparator:!1},n.parseMissingKeyHandler&&(this.i18nextConfig.parseMissingKeyHandler=n.parseMissingKeyHandler),this.validateCurrentLanguage();const a=n.dayjsLocaleConfigForLanguage;a?this.addOrUpdateLocale(this.currentLanguage,{...a}):this.localeExists(this.currentLanguage)||this.logger(`Streami18n: Streami18n(...) - Locale config for ${this.currentLanguage} does not exist in momentjs.Please import the locale file using "import 'moment/locale/${this.currentLanguage}';" in your app or register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)`),this.tDateTimeParser=i=>{const s=n.disableDateTimeTranslations||!this.localeExists(this.currentLanguage)?U4:this.currentLanguage;return B4(this.DateTimeParser)?$4(this.DateTimeParser)?this.DateTimeParser(i).tz(this.timezone).locale(s):this.DateTimeParser(i).locale(s):$4(this.DateTimeParser)&&this.timezone?this.DateTimeParser(i).tz(this.timezone).locale(s):this.DateTimeParser(i).locale(s)}}async init(){this.validateCurrentLanguage();try{this.t=await this.i18nInstance.init({...this.i18nextConfig,lng:this.currentLanguage,resources:this.translations}),this.initialized=!0,this.formatters&&Object.entries(this.formatters).forEach(([t,n])=>{var r;n&&((r=this.i18nInstance.services.formatter)==null||r.add(t,n(this)))})}catch(t){this.logger(`Something went wrong with init: ${JSON.stringify(t)}`)}return{t:this.t,tDateTimeParser:this.tDateTimeParser}}async getTranslators(){return this.initialized?{t:this.t,tDateTimeParser:this.tDateTimeParser}:(this.dayjsLocales[this.currentLanguage]&&this.addOrUpdateLocale(this.currentLanguage,this.dayjsLocales[this.currentLanguage]),await this.init())}registerTranslation(t,n,r){if(!n){this.logger("Streami18n: registerTranslation(language, translation, customDayjsLocale) called without translation");return}this.translations[t]?this.translations[t][Ma]=n:this.translations[t]={[Ma]:n},r?this.dayjsLocales[t]={...r}:this.localeExists(t)||this.logger(`Streami18n: registerTranslation(language, translation, customDayjsLocale) - Locale config for ${t} does not exist in Dayjs.Please import the locale file using "import 'dayjs/locale/${t}';" in your app or register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)`),this.initialized&&this.i18nInstance.addResources(t,Ma,n)}addOrUpdateLocale(t,n){this.localeExists(t)?ha.updateLocale(t,{...n}):ha.locale({name:t,...tCe,...n},void 0,!0)}async setLanguage(t){if(this.currentLanguage=t,!!this.initialized)try{const n=await this.i18nInstance.changeLanguage(t);return this.dayjsLocales[t]&&this.addOrUpdateLocale(this.currentLanguage,this.dayjsLocales[this.currentLanguage]),this.setLanguageCallback(n),n}catch(n){return this.logger(`Failed to set language: ${JSON.stringify(n)}`),this.t}}registerSetLanguageCallback(t){this.setLanguageCallback=t}}const MI=e=>{var b;const{messages:t,reviewProcessedMessage:n,setGiphyPreviewMessage:r,...a}=e,{enableDateSeparator:i,hideDeletedMessages:s,hideNewMessageSeparator:o,lastRead:c,userId:d}=a;let f=!1,h=!1,m;const g=[];for(let _=0;_<t.length;_+=1){const w=t[_];if(s&&w.type==="deleted")continue;if(r&&w.type==="ephemeral"&&w.command==="giphy"){h=!0,r(w);continue}const x=[],k=w.created_at&&Ml(w.created_at)&&w.created_at.toDateString()||"",R=t[_-1];let I=k;i&&(R!=null&&R.created_at)&&Ml(R.created_at)&&(I=R.created_at.toDateString()),!f&&!o&&(f=c&&w.created_at&&new Date(c)<w.created_at||!1,i&&f&&((b=w.user)==null?void 0:b.id)!==d&&x.push({customType:uf.date,date:w.created_at,id:z4(w.created_at),unread:f})),i&&(_===0||k!==I||s&&(R==null?void 0:R.type)==="deleted"&&m!==k)&&!Cl(x[x.length-1])?(m=k,x.push({customType:uf.date,date:w.created_at,id:z4(w.created_at)},w)):x.push(w),g.push(...(n==null?void 0:n({changes:x,context:a,index:_,messages:t,processedMessages:g}))||x)}return r&&!h&&r(void 0),g},aCe=()=>({customType:uf.intro,id:El()}),z4=e=>{let t;try{t=e?e instanceof Date?e.toISOString():e:El()}catch{t=El()}return`${uf.date}-${t}`},TI=e=>{for(let t=e.length-1;t>0;t-=1)if(e[t].status==="received")return e[t].id;return null},iCe=(e,t={},n)=>{const r={};return Object.values(t).forEach(a=>{if(!a.last_read)return;let i;e.forEach(s=>{s.created_at&&s.created_at<a.last_read&&(i=s.id,n&&(r[i]||(r[i]=[]),r[i].push(a.user)))}),i&&!n&&(r[i]||(r[i]=[]),r[i].push(a.user))}),r},sCe=(e,t)=>{const n=e,r=aCe();if(!t||!n.length)return n.unshift(r),n;for(let a=0;a<e.length;a+=1){const i=Ml(e[a].created_at)?e[a].created_at.getTime():null,s=Ml(e[a+1].created_at)?e[a+1].created_at.getTime():null;if(i&&i<t)if(s&&s<t){if(e[a+1]&&Cl(e[a+1]))continue;if(!s)return n.push(r),n}else return n.splice(a+1,0,r),n}return n},kI=(e,t,n,r,a)=>{var o,c,d,f,h,m,g;if(Cl(e)||Hd(e))return"";if(r||((o=e.attachments)==null?void 0:o.length)!==0)return"single";const i=!t||Hd(t)||Cl(t)||t.type==="system"||t.type==="error"||((c=t.attachments)==null?void 0:c.length)!==0||((d=e.user)==null?void 0:d.id)!==((f=t.user)==null?void 0:f.id)||t.deleted_at||e.reaction_groups&&Object.keys(e.reaction_groups).length>0||af(t)||a!==void 0&&t.created_at&&e.created_at&&new Date(e.created_at).getTime()-new Date(t.created_at).getTime()>a,s=!n||Hd(n)||Cl(n)||n.type==="system"||n.type==="error"||((h=n.attachments)==null?void 0:h.length)!==0||((m=e.user)==null?void 0:m.id)!==((g=n.user)==null?void 0:g.id)||n.deleted_at||n.reaction_groups&&Object.keys(n.reaction_groups).length>0||af(e)||a!==void 0&&n.created_at&&e.created_at&&new Date(n.created_at).getTime()-new Date(e.created_at).getTime()>a;return!i&&!s?e.deleted_at||e.type==="error"?"single":"middle":s?i||e.deleted_at||e.type==="error"?"single":"bottom":i?"top":""},oCe=(e,t)=>e>=t;function Hd(e){return e.customType===uf.intro}function Cl(e){return e!==null&&typeof e=="object"&&e.customType===uf.date&&Ml(e.date)}function RI(e){return!Cl(e)&&!Hd(e)}const AI=({firstUnreadMessageId:e,isFirstMessage:t,lastReadDate:n,lastReadMessageId:r,message:a,previousMessage:i,unreadMessageCount:s=0})=>{if(a.parent_id)return!1;const o=a.created_at&&new Date(a.created_at).getTime(),c=n==null?void 0:n.getTime(),d=!!o&&!!c&&o>c,f=!!r&&r===(i==null?void 0:i.id);return e===a.id||!!s&&d&&(t||f)},lCe=e=>{const{channel:t,disableDateSeparator:n,groupStyles:r,headerPosition:a,hideDeletedMessages:i,hideNewMessageSeparator:s,maxTimeBetweenGroupedMessages:o,messages:c,noGroupByUser:d,reviewProcessedMessage:f}=e,{client:h}=Yt("useEnrichedMessages"),{HeaderComponent:m}=xn(),g=E.useMemo(()=>{var k;return(k=t.lastRead)==null?void 0:k.call(t)},[t]),b=!n;let _=!b&&!i&&s?c:MI({enableDateSeparator:b,hideDeletedMessages:i,hideNewMessageSeparator:s,lastRead:g,messages:c,reviewProcessedMessage:f,userId:h.userID||""});m&&(_=sCe(_,a));const w=r||kI;return{messageGroupStyles:E.useMemo(()=>_.reduce((k,R,I)=>{const O=w(R,_[I-1],_[I+1],d,o);return O&&(k[R.id]=O),k},{}),[o,_,d]),messages:_}},OI=e=>{const{messages:t,read:n,returnAllReadData:r,userID:a}=e;return E.useMemo(()=>{const i=t.filter(s=>{var o;return RI(s)&&((o=s.user)==null?void 0:o.id)===a});return iCe(i,n,r)},[t,n,r,a])},cCe=e=>{const{channelUnreadUiState:t,enrichedMessages:n,internalMessageProps:r,messageGroupStyles:a,read:i,renderMessages:s,returnAllReadData:o,threadList:c}=e,{client:d,customClasses:f}=Yt("useMessageListElements"),h=xn(),m=OI({messages:n,read:i,returnAllReadData:o,userID:d.userID}),g=E.useMemo(()=>TI(n),[n]);return E.useMemo(()=>s({channelUnreadUiState:t,components:h,customClasses:f,lastReceivedMessageId:g,messageGroupStyles:a,messages:n,readData:m,sharedMessageProps:{...r,threadList:c}}),[n,r,g,a,t,m,s,c])};function uCe(e){const{loadMoreScrollThreshold:t,onScrollBy:n,scrollContainerMeasures:r,scrolledUpThreshold:a,scrollToBottom:i,showNewMessages:s}=e,{client:o}=Yt("useMessageListScrollManager"),c=E.useRef({offsetHeight:0,scrollHeight:0}),d=E.useRef(void 0),f=E.useRef(0);return E.useLayoutEffect(()=>{var k,R,I;const h=c.current,m=d.current,g=e.messages,b=g[g.length-1]||{},_=m==null?void 0:m[m.length-1],w=r(),x=h.scrollHeight-h.offsetHeight-f.current<a;if(typeof m<"u")if(m.length<g.length)if((_==null?void 0:_.id)===b.id){if(f.current<t){const O=w.scrollHeight-h.scrollHeight;n(O)}}else((k=b.user)==null?void 0:k.id)===o.userID||x?i():s();else{const O=((R=_==null?void 0:_.latest_reactions)==null?void 0:R.length)!==((I=b.latest_reactions)==null?void 0:I.length),A=(_==null?void 0:_.reply_count)!==b.reply_count;(O||A)&&x&&i()}d.current=g,c.current=w},[c,d,e.messages]),h=>{f.current=h}}const dCe=e=>{const{hasMoreNewer:t,listElement:n,loadMoreScrollThreshold:r,messages:a=[],scrolledUpThreshold:i=200,suppressAutoscroll:s}=e,[o,c]=E.useState(!1),[d,f]=E.useState(),[h,m]=E.useState(!0),g=E.useRef(!1),b=E.useRef(!1),_=E.useCallback(()=>{!(n!=null&&n.scrollTo)||t||s||(n.scrollTo({top:n.scrollHeight}),c(!1))},[n,t,s]);E.useLayoutEffect(()=>{n&&(f(n.getBoundingClientRect()),_())},[n,t]);const w=uCe({loadMoreScrollThreshold:r,messages:a,onScrollBy:k=>{n==null||n.scrollBy({top:k})},scrollContainerMeasures:()=>({offsetHeight:(n==null?void 0:n.offsetHeight)||0,scrollHeight:(n==null?void 0:n.scrollHeight)||0}),scrolledUpThreshold:i,scrollToBottom:_,showNewMessages:()=>c(!0)}),x=E.useCallback(k=>{const R=k.target,I=R.scrollTop;w(I);const O=R.offsetHeight,A=R.scrollHeight,L=g.current;g.current=A-(I+O)<i,b.current=I<i,g.current&&c(!1),L&&!g.current?m(!1):!L&&g.current&&m(!0)},[w,b,g,i]);return{hasNewMessages:o,isMessageListScrolledToBottom:h,onScroll:x,scrollToBottom:_,wrapperRect:d}},LI="str-chat__main-panel-inner str-chat__message-list-main-panel",NI=({children:e})=>v.createElement("div",{className:LI},e),PI="str-chat__unread-messages-separator",II=({showCount:e,unreadCount:t})=>{const{t:n}=Ge("UnreadMessagesSeparator");return v.createElement("div",{className:PI,"data-testid":"unread-messages-separator"},t&&e?n("unreadMessagesSeparatorText",{count:t}):n("Unread messages"))},fCe=e=>{const{bottom:t}=e.getBoundingClientRect();return t<0},hCe=(e,t)=>{const{top:n}=e.getBoundingClientRect(),{top:r}=t.getBoundingClientRect();return n>r},pCe=({isMessageListScrolledToBottom:e,showAlways:t,unreadCount:n})=>{const{messages:r}=Zn("UnreadMessagesNotification"),[a,i]=E.useState(!1),s=E.useRef(!1),o=typeof IntersectionObserver<"u";return E.useEffect(()=>{if(!(n&&o)){i(!1);return}const[c]=document.getElementsByClassName(LI);if(!c)return;const[d]=document.getElementsByClassName(PI);if(!d){i(!0);return}const f=fCe(d),h=hCe(d,c);i(t?f||h:f);const m=new IntersectionObserver(g=>{if(!g.length)return;const{boundingClientRect:b,isIntersecting:_}=g[0];if(_){i(!1);return}const w=b.bottom<0;i(t||w),s.current=w},{root:c});return m.observe(d),()=>{m.disconnect()}},[o,e,r,t,n]),E.useEffect(()=>{n&&e&&s.current&&(i(!0),s.current=!1)},[e,n]),{show:a&&o}},mCe=(e,t)=>{var a,i;const n=(a=e.state.latestMessages.slice(-1)[0])==null?void 0:a.id,r=(i=e.state.read[t])==null?void 0:i.last_read_message_id;return n===r},FI=({isMessageListScrolledToBottom:e,messageListIsThread:t,wasMarkedUnread:n})=>{const{client:r}=Yt("useMarkRead"),{markRead:a,setChannelUnreadUiState:i}=Ya("useMarkRead"),{channel:s}=Zn("useMarkRead");E.useEffect(()=>{const o=()=>{var f;return!document.hidden&&!n&&!t&&e&&((f=r.user)==null?void 0:f.id)&&!mCe(s,r.user.id)},c=()=>{o()&&a()},d=f=>{var m,g;const h=!((m=f.message)!=null&&m.parent_id)||((g=f.message)==null?void 0:g.show_in_channel);!e||n||document.hidden?i(b=>{const _=(b==null?void 0:b.unread_messages)??0,w=gCe(s.state.messages,f.message);return{...b||{},last_read:(b==null?void 0:b.last_read)??(_===0&&(w!=null&&w.created_at)?new Date(w.created_at):new Date(0)),unread_messages:_+1}}):h&&o()&&a()};return s.on("message.new",d),document.addEventListener("visibilitychange",c),o()&&a(),()=>{s.off("message.new",d),document.removeEventListener("visibilitychange",c)}},[s,r,e,a,t,i,n])};function gCe(e,t){if(!t)return;let n;for(let r=e.length-1;r>=0;r--){const a=e[r];if(!(a!=null&&a.id))break;if(a.id!==t.id){n=a;break}}return n}const yCe=e=>{const{children:t,onClick:n,showNotification:r=!0}=e;return r?v.createElement("button",{"aria-live":"polite",className:"str-chat__message-notification","data-testid":"message-notification",onClick:n},t):null},jI=v.memo(yCe),UI=e=>{const{hasNewMessages:t,isMessageListScrolledToBottom:n,isNotAtLatestMessageSet:r,MessageNotification:a,notifications:i,scrollToBottom:s,threadList:o,unreadCount:c}=e,{t:d}=Ge("MessageListNotifications");return v.createElement("div",{className:"str-chat__list-notifications"},i.map(f=>v.createElement(xI,{active:!0,key:f.id,type:f.type},f.text)),v.createElement($pe,null),v.createElement(a,{isMessageListScrolledToBottom:n,onClick:s,showNotification:t||r,threadList:o,unreadCount:c},d(r?"Latest Messages":"New Messages!")))},vCe=()=>v.createElement("svg",{fill:"currentColor",viewBox:"0 0 14 13",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M1.32227 12.3408C0.944336 11.9629 0.953125 11.3213 1.32227 10.9521L5.60254 6.66309L1.32227 2.38281C0.953125 2.01367 0.944336 1.37207 1.32227 0.994141C1.7002 0.616211 2.3418 0.625 2.71094 0.985352L7 5.27441L11.2803 0.994141C11.6494 0.625 12.291 0.616211 12.6689 0.994141C13.0469 1.37207 13.0381 2.01367 12.6689 2.38281L8.38867 6.66309L12.6689 10.9521C13.0381 11.3213 13.0469 11.9629 12.6689 12.3408C12.291 12.7188 11.6494 12.71 11.2803 12.3408L7 8.06055L2.71094 12.3408C2.3418 12.71 1.7002 12.7188 1.32227 12.3408Z"})),BI=({queryMessageLimit:e,showCount:t,unreadCount:n})=>{const{jumpToFirstUnreadMessage:r,markRead:a}=Ya("UnreadMessagesNotification"),{t:i}=Ge("UnreadMessagesNotification");return v.createElement("div",{className:"str-chat__unread-messages-notification","data-testid":"unread-messages-notification"},v.createElement("button",{onClick:()=>r(e)},n&&t?i("{{count}} unread",{count:n??0}):i("Unread messages")),v.createElement("button",{onClick:()=>a()},v.createElement(vCe,null)))},H4=e=>{e instanceof WheelEvent&&e.deltaY===1&&e.preventDefault()},bCe=e=>{const{children:t,element:n="div",hasMore:r,hasMoreNewer:a,hasNextPage:i,hasPreviousPage:s,head:o,initialLoad:c=!0,isLoading:d,listenToScroll:f,loader:h,loadMore:m,loadMoreNewer:g,loadNextPage:b,loadPreviousPage:_,threshold:w=GS,useCapture:x=!1,...k}=e,R=b||g,I=_||m,O=i||a,A=s||r,L=E.useRef(void 0),C=E.useRef(void 0),T=E.useRef(void 0),S=E.useRef(void 0);S.current=()=>{const H=L.current;if(!H||H.offsetParent===null)return;const U=H.parentElement,z=H.scrollHeight-U.scrollTop-U.clientHeight,F=U.scrollTop;f&&f(z,F,w),!d&&(C.current===z&&T.current===F||(C.current=z,T.current=F,F<Number(w)&&typeof I=="function"&&A&&I(),z<Number(w)&&typeof R=="function"&&O&&R()))},E.useEffect(()=>{QS([[{hasMoreNewer:a},{hasNextPage:i}],[{loadMoreNewer:g},{loadNextPage:b}],[{hasMore:r},{hasPreviousPage:s}],[{loadMore:m},{loadPreviousPage:_}]],"InfiniteScroll")},[]),E.useEffect(()=>{var z;const H=(z=L.current)==null?void 0:z.parentNode;if(!H)return;const U=()=>{var F;return(F=S.current)==null?void 0:F.call(S)};return H.addEventListener("scroll",U,x),H.addEventListener("resize",U,x),U(),()=>{H.removeEventListener("scroll",U,x),H.removeEventListener("resize",U,x)}},[c,x]),E.useEffect(()=>{var U;const H=(U=L.current)==null?void 0:U.parentNode;return H&&H.addEventListener("wheel",H4,{passive:!1}),()=>{H&&H.removeEventListener("wheel",H4,x)}},[x]);const j={...k,ref:H=>{L.current=H}},B=[h,t];return o&&B.unshift(o),v.createElement(n,j,B)},_Ce=e=>{const{t}=Ge();if(!e.length)return null;const[n,...r]=e;if(e.length===1)return t("{{ user }} is typing...",{user:n});const a=3;return e.length>a?t("{{ users }} and more are typing...",{users:e.slice(0,a).join(", ").trim()}):t("{{ users }} and {{ user }} are typing...",{user:n,users:r.join(", ").trim()})},wCe=e=>{const{threadList:t}=e,{channelConfig:n,thread:r}=Zn("TypingIndicator"),{client:a}=Yt("TypingIndicator"),{typing:i={}}=cee("TypingIndicator"),s=t?[]:Object.values(i).filter(({parent_id:h,user:m})=>{var g;return(m==null?void 0:m.id)!==((g=a.user)==null?void 0:g.id)&&!h}),o=t?Object.values(i).filter(({parent_id:h,user:m})=>{var g;return(m==null?void 0:m.id)!==((g=a.user)==null?void 0:g.id)&&h===(r==null?void 0:r.id)}):[],c=(t?o:s).map(({user:h})=>(h==null?void 0:h.name)||(h==null?void 0:h.id)).filter(Boolean),d=_Ce(c),f=t&&o.length||!t&&s.length;return(n==null?void 0:n.typing_events)===!1||!f?null:v.createElement("div",{className:Ue("str-chat__typing-indicator",{"str-chat__typing-indicator--typing":f}),"data-testid":"typing-indicator"},v.createElement("div",{className:"str-chat__typing-indicator__dots"},v.createElement("span",{className:"str-chat__typing-indicator__dot"}),v.createElement("span",{className:"str-chat__typing-indicator__dot"}),v.createElement("span",{className:"str-chat__typing-indicator__dot"})),v.createElement("div",{className:"str-chat__typing-indicator__users","data-testid":"typing-users"},d))},$I=v.memo(wCe),xCe=e=>{const{calendar:t,date:n,formatDate:r,position:a="right",unread:i,...s}=e,{t:o,tDateTimeParser:c}=Ge("DateSeparator"),d=Ap({calendar:t,...s,formatDate:r,messageCreatedAt:n,t:o,tDateTimeParser:c,timestampTranslationKey:"timestamp/DateSeparator"});return v.createElement("div",{className:"str-chat__date-separator","data-testid":"date-separator"},(a==="right"||a==="center")&&v.createElement("hr",{className:"str-chat__date-separator-line"}),v.createElement("div",{className:"str-chat__date-separator-date"},i?`${o("New")} - ${d}`:d),(a==="left"||a==="center")&&v.createElement("hr",{className:"str-chat__date-separator-line"}))},zI=v.memo(xCe),CCe=e=>{var g,b,_;const{Avatar:t=zi,calendar:n,calendarFormats:r,format:a,message:i}=e,{t:s,tDateTimeParser:o}=Ge("EventComponent"),{created_at:c="",event:d,text:f,type:h}=i,m={messageCreatedAt:c.toString(),tDateTimeParser:o};if(h==="system")return v.createElement("div",{className:"str-chat__message--system","data-testid":"message-system"},v.createElement("div",{className:"str-chat__message--system__text"},v.createElement("div",{className:"str-chat__message--system__line"}),v.createElement("p",null,f),v.createElement("div",{className:"str-chat__message--system__line"})),v.createElement("div",{className:"str-chat__message--system__date"},v.createElement("strong",null,Ap({...m,calendar:n,calendarFormats:r,format:a,t:s,timestampTranslationKey:"timestamp/SystemMessage"}))));if((d==null?void 0:d.type)==="member.removed"||(d==null?void 0:d.type)==="member.added"){const w=((g=d.user)==null?void 0:g.name)||((b=d.user)==null?void 0:b.id),x=`${w} ${d.type==="member.added"?"has joined the chat":"was removed from the chat"}`;return v.createElement("div",{className:"str-chat__event-component__channel-event"},v.createElement(t,{image:(_=d.user)==null?void 0:_.image,name:w,user:d.user}),v.createElement("div",{className:"str-chat__event-component__channel-event__content"},v.createElement("em",{className:"str-chat__event-component__channel-event__sentence"},x),v.createElement("div",{className:"str-chat__event-component__channel-event__date"},Ap({...m,format:"LT"}))))}return null},HI=v.memo(CCe);function DCe({channelUnreadUiState:e,components:t,customClasses:n,lastReceivedMessageId:r,messageGroupStyles:a,messages:i,readData:s,sharedMessageProps:o}){const{DateSeparator:c=zI,HeaderComponent:d,MessageSystem:f=HI,UnreadMessagesSeparator:h=II}=t,m=[];let g,b;for(let _=0;_<i.length;_++){const w=i[_];if(Cl(w))m.push(v.createElement("li",{key:`${w.date.toISOString()}-i`},v.createElement(c,{date:w.date,formatDate:o.formatDate,unread:w.unread})));else if(Hd(w))d&&m.push(v.createElement("li",{key:"intro"},v.createElement(d,null)));else if(w.type==="system")m.push(v.createElement("li",{"data-message-id":w.id,key:w.id||w.created_at.toISOString()},v.createElement(f,{message:w})));else{g||(g=w);const x=a[w.id]||"",k=(n==null?void 0:n.message)||`str-chat__li str-chat__li--${x}`,R=AI({firstUnreadMessageId:e==null?void 0:e.first_unread_message_id,isFirstMessage:!!(g!=null&&g.id)&&g.id===w.id,lastReadDate:e==null?void 0:e.last_read,lastReadMessageId:e==null?void 0:e.last_read_message_id,message:w,previousMessage:b,unreadMessageCount:e==null?void 0:e.unread_messages});m.push(v.createElement(E.Fragment,{key:w.id||w.created_at.toISOString()},R&&h&&v.createElement("li",{className:"str-chat__li str-chat__unread-messages-separator-wrapper"},v.createElement(h,{unreadCount:e==null?void 0:e.unread_messages})),v.createElement("li",{className:k,"data-message-id":w.id,"data-testid":k},v.createElement(q1,{groupStyles:[x],lastReceivedId:r,message:w,readBy:s[w.id]||[],...o})))),b=w}}return m}const H1=e=>E.useMemo(()=>El(),[e]),SCe=e=>{const{channel:t,channelUnreadUiState:n,disableDateSeparator:r=!1,groupStyles:a,hasMoreNewer:i=!1,headerPosition:s,hideDeletedMessages:o=!1,hideNewMessageSeparator:c=!1,highlightedMessageId:d,internalInfiniteScrollProps:{threshold:f=GS,...h}={},jumpToLatestMessage:m=()=>Promise.resolve(),loadMore:g,loadMoreNewer:b,maxTimeBetweenGroupedMessages:_,messageActions:w=Object.keys(Sn),messageLimit:x=Nd,messages:k=[],noGroupByUser:R=!1,notifications:I,pinPermissions:O=h8,reactionDetailsSort:A,read:L,renderMessages:C=DCe,returnAllReadData:T=!1,reviewProcessedMessage:S,showUnreadNotificationAlways:j,sortReactionDetails:B,sortReactions:H,suppressAutoscroll:U,threadList:z=!1,unsafeHTML:F=!1}=e,[V,Y]=v.useState(null),[q,N]=v.useState(null),{customClasses:W}=Yt("MessageList"),{EmptyStateIndicator:K=KS,LoadingIndicator:$=Fu,MessageListMainPanel:J=NI,MessageListNotifications:oe=UI,MessageNotification:fe=jI,TypingIndicator:ye=$I,UnreadMessagesNotification:le=BI}=xn(),{hasNewMessages:Ee,isMessageListScrolledToBottom:ue,onScroll:Me,scrollToBottom:Fe,wrapperRect:$e}=dCe({hasMoreNewer:i,listElement:V,loadMoreScrollThreshold:f,messages:k,scrolledUpThreshold:e.scrolledUpThreshold,suppressAutoscroll:U}),{show:ze}=pCe({isMessageListScrolledToBottom:ue,showAlways:!!j,unreadCount:n==null?void 0:n.unread_messages});FI({isMessageListScrolledToBottom:ue,messageListIsThread:z,wasMarkedUnread:!!(n!=null&&n.first_unread_message_id)});const{messageGroupStyles:Xe,messages:ot}=lCe({channel:t,disableDateSeparator:r,groupStyles:a,headerPosition:s,hideDeletedMessages:o,hideNewMessageSeparator:c,maxTimeBetweenGroupedMessages:_,messages:k,noGroupByUser:R,reviewProcessedMessage:S}),nt=cCe({channelUnreadUiState:n,enrichedMessages:ot,internalMessageProps:{additionalMessageInputProps:e.additionalMessageInputProps,closeReactionSelectorOnClick:e.closeReactionSelectorOnClick,customMessageActions:e.customMessageActions,disableQuotedMessages:e.disableQuotedMessages,formatDate:e.formatDate,getDeleteMessageErrorNotification:e.getDeleteMessageErrorNotification,getFlagMessageErrorNotification:e.getFlagMessageErrorNotification,getFlagMessageSuccessNotification:e.getFlagMessageSuccessNotification,getMarkMessageUnreadErrorNotification:e.getMarkMessageUnreadErrorNotification,getMarkMessageUnreadSuccessNotification:e.getMarkMessageUnreadSuccessNotification,getMuteUserErrorNotification:e.getMuteUserErrorNotification,getMuteUserSuccessNotification:e.getMuteUserSuccessNotification,getPinMessageErrorNotification:e.getPinMessageErrorNotification,Message:e.Message,messageActions:w,messageListRect:$e,onlySenderCanEdit:e.onlySenderCanEdit,onMentionsClick:e.onMentionsClick,onMentionsHover:e.onMentionsHover,onUserClick:e.onUserClick,onUserHover:e.onUserHover,openThread:e.openThread,pinPermissions:O,reactionDetailsSort:A,renderText:e.renderText,retrySendMessage:e.retrySendMessage,sortReactionDetails:B,sortReactions:H,unsafeHTML:F},messageGroupStyles:Xe,read:L,renderMessages:C,returnAllReadData:T,threadList:z}),St=(W==null?void 0:W.messageList)||"str-chat__list",Nt=v.useCallback(()=>{g&&g(x)},[g,x]),ut=v.useCallback(()=>{b&&b(x)},[b,x]),_t=v.useCallback(async()=>{i?await m():Fe()},[Fe,i]);v.useLayoutEffect(()=>{if(d){const Je=q==null?void 0:q.querySelector(`[data-message-id='${d}']`);Je==null||Je.scrollIntoView({block:"center"})}},[d]);const wt=H1(),st=nt.length===0&&!z,de=z?`message-list-dialog-manager-thread-${wt}`:`message-list-dialog-manager-${wt}`;return v.createElement(WJ,{value:{listElement:V,scrollToBottom:Fe}},v.createElement(J,null,v.createElement(ES,{id:de},!z&&ze&&v.createElement(le,{unreadCount:n==null?void 0:n.unread_messages}),v.createElement("div",{className:Ue(St,W==null?void 0:W.threadList),onScroll:Me,ref:Y,tabIndex:0},st?v.createElement(K,{listType:z?"thread":"message"}):v.createElement(bCe,{className:"str-chat__message-list-scroll","data-testid":"reverse-infinite-scroll",hasNextPage:e.hasMoreNewer,hasPreviousPage:e.hasMore,head:e.head,isLoading:e.loadingMore,loader:v.createElement("div",{className:"str-chat__list__loading",key:"loading-indicator"},e.loadingMore&&v.createElement($,{size:20})),loadNextPage:ut,loadPreviousPage:Nt,threshold:f,...h},v.createElement("ul",{className:"str-chat__ul",ref:N},nt),v.createElement(ye,{threadList:z}),v.createElement("div",{key:"bottom"}))))),v.createElement(oe,{hasNewMessages:Ee,isMessageListScrolledToBottom:ue,isNotAtLatestMessageSet:i,MessageNotification:fe,notifications:I,scrollToBottom:_t,threadList:z,unreadCount:z||n==null?void 0:n.unread_messages}))},VI=e=>{const{jumpToLatestMessage:t,loadMore:n,loadMoreNewer:r}=Ya("MessageList"),{members:a,mutes:i,watchers:s,...o}=Zn("MessageList");return v.createElement(SCe,{jumpToLatestMessage:t,loadMore:n,loadMoreNewer:r,...o,...e})};function ECe(e,t,n){const[r,a]=E.useState(!1),[i,s]=E.useState(!0),o=E.useRef(!1),c=E.useRef(""),d=E.useRef(!1);return E.useEffect(()=>{var m;if(n){a(!0);return}if(!(e!=null&&e.length))return;const f=e[e.length-1],h=c.current;c.current=f.id||"",f.id!==h&&(d.current||(((m=f.user)==null?void 0:m.id)!==t&&o.current&&a(!0),o.current=!0))},[t,e,n]),{atBottom:d,isMessageListScrolledToBottom:i,newMessagesNotification:r,setIsMessageListScrolledToBottom:s,setNewMessagesNotification:a}}const MCe={failed:!0,sending:!0};function TCe(e,t){const n=t?1:0,r=E.useRef(void 0),a=E.useRef(void 0),i=E.useRef(0);return E.useMemo(()=>{var h,m;if(!e||!e.length)return i.current=0,0;const o=e==null?void 0:e[n],c=(o==null?void 0:o.id)===((h=a.current)==null?void 0:h.id),d=RI(o)?o.status:void 0,f=!!(d&&MCe[d]);if(c||f)return i.current;r.current||(r.current=o),a.current=o;for(let g=i.current;g<e.length;g+=1)if(e[g].id===((m=r.current)==null?void 0:m.id))return i.current=g-n,i.current;return r.current=o,i.current=0,0},[n,e,e==null?void 0:e.length])}function kCe(e,t){const n=E.useRef(""),r=E.useRef(!1);function a(){var i;if(e&&e.length>0){const s=e[e.length-1];if(((i=s.user)==null?void 0:i.id)===t&&n.current!==s.id)return n.current=s.id,!0}return!1}return E.useEffect(()=>{e&&e.length&&!r.current&&(r.current=!0,a())},[e,e==null?void 0:e.length]),a}const RCe=e=>{const[t,n]=E.useState(),{client:r}=Yt("useGiphyPreview");return E.useEffect(()=>{if(!e)return;const a=i=>{const{message:s,user:o}=i;(s==null?void 0:s.command)==="giphy"&&(o==null?void 0:o.id)===r.userID&&n(void 0)};return r.on("message.new",a),()=>r.off("message.new",a)},[r,e]),{giphyPreviewMessage:t,setGiphyPreviewMessage:e?n:void 0}},ACe=({messages:e})=>{const[t,n]=E.useState(+new Date),r=E.useRef(void 0);return E.useEffect(()=>{var i;(e==null?void 0:e.find(s=>s.id===r.current))||n(+new Date),r.current=(i=e==null?void 0:e[0])==null?void 0:i.id},[e]),{messageSetKey:t}},OCe=({messages:e,scrollToBottom:t,scrollToLatestMessageOnFocus:n})=>{const[r,a]=E.useState(!1),i=E.useRef(void 0);i.current=s=>{!n||!r||s.target!==window||setTimeout(t,100)},E.useEffect(()=>{a(!0)},[e]),E.useEffect(()=>{const s=c=>{var d;(d=i.current)==null||d.call(i,c)},o=()=>{a(!1)};return typeof window<"u"&&(window.addEventListener("focus",s),window.addEventListener("blur",o)),()=>{window.removeEventListener("focus",s),window.removeEventListener("blur",o)}},[])},LCe=({lastRead:e,showAlways:t,unreadCount:n})=>{const[r,a]=E.useState(!1),i=E.useCallback(s=>{if(!n)return;const o=s[0],c=s.slice(-1)[0];if(!(o&&c))return;const d=new Date(o.created_at??0).getTime(),f=new Date(c.created_at??0).getTime(),h=new Date(e??0).getTime(),m=!!h&&d>h,g=!!h&&f<h;a(t?m||g:m)},[e,t,n]);return E.useEffect(()=>{n||a(!1)},[n]),{show:r,toggleShowUnreadMessagesNotification:i}},N2=10**7;function V1(e,t){return e+t-N2}function NCe(e){return N2-e}const PCe=(e,t)=>wc(n=>{const r=n.map(a=>{if(a.originalIndex)return t[V1(a.originalIndex,N2)]}).filter(a=>!!a);e.forEach(a=>a(r))},200),ICe=({context:e,...t})=>{var a;if(!e)return v.createElement(v.Fragment,null);const n=e.processedMessages[V1(t["data-item-index"],e.numItemsPrepended)],r=e.messageGroupStyles[n.id];return v.createElement("div",{...t,className:((a=e==null?void 0:e.customClasses)==null?void 0:a.virtualMessage)||Ue("str-chat__virtual-list-message-wrapper str-chat__li",{[`str-chat__li--${r}`]:r})})},FCe=({context:e})=>{const{LoadingIndicator:t=Fu}=xn();return v.createElement(v.Fragment,null,e==null?void 0:e.head,(e==null?void 0:e.loadingMore)&&t&&v.createElement("div",{className:"str-chat__virtual-list__loading"},v.createElement(t,{size:20})))},jCe=({context:e})=>{const{EmptyStateIndicator:t=KS}=xn();return v.createElement(v.Fragment,null,t&&v.createElement(t,{listType:e!=null&&e.threadList?"thread":"message"}))},UCe=(e,t,n)=>{var W,K,$,J,oe,fe,ye;const{additionalMessageInputProps:r,closeReactionSelectorOnClick:a,customMessageActions:i,customMessageRenderer:s,DateSeparator:o,firstUnreadMessageId:c,formatDate:d,lastReadDate:f,lastReadMessageId:h,lastReceivedMessageId:m,Message:g,messageActions:b,messageGroupStyles:_,MessageSystem:w,numItemsPrepended:x,openThread:k,ownMessagesReadByOthers:R,processedMessages:I,reactionDetailsSort:O,shouldGroupByUser:A,sortReactionDetails:L,sortReactions:C,threadList:T,unreadMessageCount:S=0,UnreadMessagesSeparator:j,virtuosoRef:B}=n,H=V1(e,x);if(s)return s(I,H);const U=I[H];if(!U||Hd(U))return v.createElement("div",{style:{height:"1px"}});if(Cl(U))return o?v.createElement(o,{date:U.date,unread:U.unread}):null;if(U.type==="system")return w?v.createElement(w,{message:U}):null;const z=I[H-1],F=I[H+1],V=A&&H>0&&((W=U.user)==null?void 0:W.id)===((K=z==null?void 0:z.user)==null?void 0:K.id),Y=A&&((($=U.user)==null?void 0:$.id)!==((J=z==null?void 0:z.user)==null?void 0:J.id)||z&&af(z)),q=A&&(((oe=U.user)==null?void 0:oe.id)!==((fe=F==null?void 0:F.user)==null?void 0:fe.id)||af(U)),N=AI({firstUnreadMessageId:c,isFirstMessage:H===0,lastReadDate:f,lastReadMessageId:h,message:U,previousMessage:H?I[H-1]:void 0,unreadMessageCount:S});return v.createElement(v.Fragment,null,N&&v.createElement("div",{className:"str-chat__unread-messages-separator-wrapper"},v.createElement(j,{unreadCount:S})),v.createElement(q1,{additionalMessageInputProps:r,autoscrollToBottom:(ye=B.current)==null?void 0:ye.autoscrollToBottom,closeReactionSelectorOnClick:a,customMessageActions:i,endOfGroup:q,firstOfGroup:Y,formatDate:d,groupedByUser:V,groupStyles:[_[U.id]??""],lastReceivedId:m,message:U,Message:g,messageActions:b,openThread:k,reactionDetailsSort:O,readBy:R[U.id]||[],sortReactionDetails:L,sortReactions:C,threadList:T}))},BCe=E.createContext(void 0),$Ce=({children:e,value:t})=>v.createElement(BCe.Provider,{value:t},e);function V4(e){(e.message==="ResizeObserver loop completed with undelivered notifications."||e.message==="ResizeObserver loop limit exceeded")&&e.stopImmediatePropagation()}function zCe(){E.useEffect(()=>(window.addEventListener("error",V4),()=>{window.removeEventListener("error",V4)}),[])}function HCe(e){return e.getBoundingClientRect().height}function qI(e,t){return e.findIndex(n=>n.id===t)}function VCe(e,t){if(t){const n=qI(e,t);if(n!==-1)return{align:"center",index:n}}return e.length-1}const qCe=e=>{const{additionalMessageInputProps:t,additionalVirtuosoProps:n={},channel:r,channelUnreadUiState:a,closeReactionSelectorOnClick:i,customMessageActions:s,customMessageRenderer:o,defaultItemHeight:c,disableDateSeparator:d=!0,formatDate:f,groupStyles:h,hasMoreNewer:m,head:g,hideDeletedMessages:b=!1,hideNewMessageSeparator:_=!1,highlightedMessageId:w,jumpToLatestMessage:x,loadingMore:k,loadMore:R,loadMoreNewer:I,maxTimeBetweenGroupedMessages:O,Message:A,messageActions:L,messageLimit:C=Nd,messages:T,notifications:S,openThread:j,overscan:B=0,reactionDetailsSort:H,read:U,returnAllReadData:z=!1,reviewProcessedMessage:F,scrollSeekPlaceHolder:V,scrollToLatestMessageOnFocus:Y=!1,separateGiphyPreview:q=!1,shouldGroupByUser:N=!1,showUnreadNotificationAlways:W,sortReactionDetails:K,sortReactions:$,stickToBottomScrollBehavior:J="smooth",suppressAutoscroll:oe,threadList:fe}=e,{components:ye,...le}=n;zCe();const{DateSeparator:Ee=zI,GiphyPreviewMessage:ue=zpe,MessageListMainPanel:Me=NI,MessageListNotifications:Fe=UI,MessageNotification:$e=jI,MessageSystem:ze=HI,TypingIndicator:Xe,UnreadMessagesNotification:ot=BI,UnreadMessagesSeparator:nt=II,VirtualMessage:St=YI}=xn(),Nt=A||St,{client:ut,customClasses:_t}=Yt("VirtualizedMessageList"),wt=E.useRef(null),st=E.useMemo(()=>{var pt;return(pt=r.lastRead)==null?void 0:pt.call(r)},[r]),{show:de,toggleShowUnreadMessagesNotification:Je}=LCe({lastRead:a==null?void 0:a.last_read,showAlways:!!W,unreadCount:(a==null?void 0:a.unread_messages)??0}),{giphyPreviewMessage:be,setGiphyPreviewMessage:ke}=RCe(q),Pe=E.useMemo(()=>typeof T>"u"?[]:d&&!b&&_&&!q?T:MI({enableDateSeparator:!d,hideDeletedMessages:b,hideNewMessageSeparator:_,lastRead:st,messages:T,reviewProcessedMessage:F,setGiphyPreviewMessage:ke,userId:ut.userID||""}),[d,b,_,st,T,T==null?void 0:T.length,ut.userID]),rt=OI({messages:Pe,read:U,returnAllReadData:z,userID:ut.userID}),at=E.useMemo(()=>TI(Pe),[Pe]),Jt=h||kI,En=E.useMemo(()=>Pe.reduce((pt,Mn,nn)=>{const Fn=Jt(Mn,Pe[nn-1],Pe[nn+1],!N,O);return Fn&&Mn.id&&(pt[Mn.id]=Fn),pt},{}),[O,Pe.length,N,Jt]),{atBottom:Ln,isMessageListScrolledToBottom:Bn,newMessagesNotification:en,setIsMessageListScrolledToBottom:dt,setNewMessagesNotification:hn}=ECe(Pe,ut.userID,m);FI({isMessageListScrolledToBottom:Bn,messageListIsThread:!!fe,wasMarkedUnread:!!(a!=null&&a.first_unread_message_id)});const Re=E.useCallback(async()=>{if(m){await x();return}wt.current&&wt.current.scrollToIndex(Pe.length-1),hn(!1)},[wt,Pe,hn,Pe.length,m,x]);OCe({messages:T,scrollToBottom:Re,scrollToLatestMessageOnFocus:Y});const it=TCe(Pe,!d),{messageSetKey:kt}=ACe({messages:T}),et=kCe(Pe,ut.userID),Xt=E.useMemo(()=>PCe([Je],Pe),[Pe,Je]),bt=pt=>m||oe?!1:et()?pt?J:"auto":pt?J:!1,rn=E.useCallback((pt,Mn,{numItemsPrepended:nn,processedMessages:Fn})=>Fn[V1(pt,nn)].id,[]),pn=pt=>{Ln.current=pt,dt(pt),pt&&(I==null||I(C),hn==null||hn(!1))},Gn=pt=>{pt&&(R==null||R(C))};E.useEffect(()=>{let pt;if(w){const Mn=qI(Pe,w);Mn!==-1&&(pt=setTimeout(()=>{var nn;(nn=wt.current)==null||nn.scrollToIndex({align:"center",index:Mn})},0))}return()=>{clearTimeout(pt)}},[w,Pe]);const mn=H1();if(!Pe)return null;const $t=fe?`virtualized-message-list-dialog-manager-thread-${mn}`:`virtualized-message-list-dialog-manager-${mn}`;return v.createElement($Ce,{value:{scrollToBottom:Re}},v.createElement(Me,null,v.createElement(ES,{id:$t},!fe&&de&&v.createElement(ot,{unreadCount:a==null?void 0:a.unread_messages}),v.createElement("div",{className:(_t==null?void 0:_t.virtualizedMessageList)||"str-chat__virtual-list"},v.createElement(kne,{atBottomStateChange:pn,atBottomThreshold:100,atTopStateChange:Gn,atTopThreshold:100,className:"str-chat__message-list-scroll",components:{EmptyPlaceholder:jCe,Header:FCe,Item:ICe,...ye},computeItemKey:rn,context:{additionalMessageInputProps:t,closeReactionSelectorOnClick:i,customClasses:_t,customMessageActions:s,customMessageRenderer:o,DateSeparator:Ee,firstUnreadMessageId:a==null?void 0:a.first_unread_message_id,formatDate:f,head:g,lastReadDate:a==null?void 0:a.last_read,lastReadMessageId:a==null?void 0:a.last_read_message_id,lastReceivedMessageId:at,loadingMore:k,Message:Nt,messageActions:L,messageGroupStyles:En,MessageSystem:ze,numItemsPrepended:it,openThread:j,ownMessagesReadByOthers:rt,processedMessages:Pe,reactionDetailsSort:H,shouldGroupByUser:N,sortReactionDetails:K,sortReactions:$,threadList:fe,unreadMessageCount:a==null?void 0:a.unread_messages,UnreadMessagesSeparator:nt,virtuosoRef:wt},firstItemIndex:NCe(it),followOutput:bt,increaseViewportBy:{bottom:200,top:0},initialTopMostItemIndex:VCe(Pe,w),itemContent:UCe,itemSize:HCe,itemsRendered:Xt,key:kt,overscan:B,ref:wt,style:{overflowX:"hidden"},totalCount:Pe.length,...le,...V?{scrollSeek:V}:{},...c?{defaultItemHeight:c}:{}}))),Xe&&v.createElement(Xe,null)),v.createElement(Fe,{hasNewMessages:en,isMessageListScrolledToBottom:Bn,isNotAtLatestMessageSet:m,MessageNotification:$e,notifications:S,scrollToBottom:Re,threadList:fe,unreadCount:fe||a==null?void 0:a.unread_messages}),be&&v.createElement(ue,{message:be}))};function YCe(e){const{jumpToLatestMessage:t,loadMore:n,loadMoreNewer:r}=Ya("VirtualizedMessageList"),{channel:a,channelUnreadUiState:i,hasMore:s,hasMoreNewer:o,highlightedMessageId:c,loadingMore:d,loadingMoreNewer:f,messages:h,notifications:m,read:g,suppressAutoscroll:b}=Zn("VirtualizedMessageList"),_=e.messages||h;return v.createElement(qCe,{channel:a,channelUnreadUiState:e.channelUnreadUiState??i,hasMore:!!s,hasMoreNewer:!!o,highlightedMessageId:c,jumpToLatestMessage:t,loadingMore:!!d,loadingMoreNewer:!!f,loadMore:n,loadMoreNewer:r,messages:_,notifications:m,read:g,suppressAutoscroll:b,...e})}const WCe=e=>{var Me,Fe,$e;const{additionalMessageInputProps:t,editing:n,endOfGroup:r,firstOfGroup:a,groupedByUser:i,handleAction:s,handleOpenThread:o,handleRetry:c,highlighted:d,isMessageAIGenerated:f,isMyMessage:h,message:m,onUserClick:g,onUserHover:b,renderText:_,threadList:w}=e,{client:x}=Yt("MessageSimple"),{t:k}=Ge("MessageSimple"),[R,I]=E.useState(!1),[O,A]=E.useState(!1),{Attachment:L=H2,Avatar:C=zi,MessageOptions:T=The,MessageActions:S=T,MessageBlocked:j=vhe,MessageDeleted:B=Dle,MessageBouncePrompt:H=yhe,MessageRepliesCountButton:U=Rhe,MessageStatus:z=Ohe,MessageTimestamp:F=Ele,ReactionsList:V=Ipe,StreamedMessageText:Y=jpe,PinIndicator:q}=xn(),N=m8(m),W=ele(m),K=E.useMemo(()=>f==null?void 0:f(m),[f,m]);if(Cl(m))return null;if(m.deleted_at||m.type==="deleted")return v.createElement(B,{message:m});if(ale(m))return v.createElement(j,null);const $=!i||r,J=!w&&!!m.reply_count,oe=m.status==="failed"&&((Me=m.error)==null?void 0:Me.status)!==403,fe=f2(m),ye=af(m)&&!K;let le;oe?le=()=>c(m):fe?le=()=>I(!0):ye&&(le=()=>A(ze=>!ze));const Ee=Ue("str-chat__message str-chat__message-simple",`str-chat__message--${m.type}`,`str-chat__message--${m.status}`,h()?"str-chat__message--me str-chat__message-simple--me":"str-chat__message--other",m.text?"str-chat__message--has-text":"has-no-text",{"str-chat__message--has-attachment":N,"str-chat__message--highlighted":d,"str-chat__message--pinned pinned-message":m.pinned,"str-chat__message--with-reactions":W,"str-chat__message-send-can-be-retried":(m==null?void 0:m.status)==="failed"&&((Fe=m==null?void 0:m.error)==null?void 0:Fe.status)!==403,"str-chat__message-with-thread-link":J,"str-chat__virtual-message__wrapper--end":r,"str-chat__virtual-message__wrapper--first":a,"str-chat__virtual-message__wrapper--group":i}),ue=m.poll_id&&x.polls.fromState(m.poll_id);return v.createElement(v.Fragment,null,n&&v.createElement(G2e,{additionalMessageInputProps:t}),R&&v.createElement(ghe,{MessageBouncePrompt:H,onClose:()=>I(!1),open:R}),v.createElement("div",{className:Ee,key:m.id},q&&v.createElement(q,null),m.user&&v.createElement(C,{image:m.user.image,name:m.user.name||m.user.id,onClick:g,onMouseOver:b,user:m.user}),v.createElement("div",{className:Ue("str-chat__message-inner",{"str-chat__simple-message--error-failed":oe||fe}),"data-testid":"message-inner",onClick:le,onKeyUp:le},v.createElement(S,null),v.createElement("div",{className:"str-chat__message-reactions-host"},W&&v.createElement(V,{reverse:!0})),v.createElement("div",{className:"str-chat__message-bubble"},ue&&v.createElement(O2,{poll:ue}),($e=m.attachments)!=null&&$e.length&&!m.quoted_message?v.createElement(L,{actionHandler:s,attachments:m.attachments}):null,K?v.createElement(Y,{message:m,renderText:_}):v.createElement(wI,{message:m,renderText:_}),m.mml&&v.createElement(Lue,{actionHandler:s,align:h()?"right":"left",source:m.mml}),v.createElement(Eue,null))),J&&v.createElement(U,{onClick:o,reply_count:m.reply_count}),$&&v.createElement("div",{className:"str-chat__message-metadata"},v.createElement(z,null),!h()&&!!m.user&&v.createElement("span",{className:"str-chat__message-simple-name"},m.user.name||m.user.id),v.createElement(F,{customClass:"str-chat__message-simple-timestamp"}),ye&&v.createElement("span",{className:"str-chat__mesage-simple-edited"},k("Edited")),ye&&v.createElement(Fpe,{calendar:!0,open:O}))))},GCe=v.memo(WCe,Joe),YI=e=>{const t=jr();return v.createElement(GCe,{...t,...e})},KCe=e=>{const{canPin:t,groupedByUser:n,Message:r,message:a,messageActions:i=Object.keys(Sn),onUserClick:s,onUserHover:o,userRoles:c}=e,{client:d,isMessageAIGenerated:f}=Yt("Message"),{read:h}=Zn("Message"),{Message:m}=xn(),g=a.type==="regular"&&a.status==="received",b=r??m??YI,{clearEdit:_,editing:w,setEdit:x}=sle(),{onUserClick:k,onUserHover:R}=vle(a,{onUserClickHandler:s,onUserHoverHandler:o}),{canDelete:I,canEdit:O,canFlag:A,canMarkUnread:L,canMute:C,canQuote:T,canReact:S,canReply:j,isMyMessage:B}=c,H=E.useMemo(()=>{var $;return!!(!B&&(($=d.user)!=null&&$.id)&&h&&(!h[d.user.id]||a!=null&&a.created_at&&new Date(a.created_at).getTime()>h[d.user.id].last_read.getTime()))},[d,B,a.created_at,h]),U=E.useCallback(()=>Koe(i,{canDelete:I,canEdit:O,canFlag:A,canMarkUnread:L,canMute:C,canPin:t,canQuote:T,canReact:S,canReply:j}),[i,I,O,A,L,C,t,T,S,j]),{canPin:z,messageActions:F,onlySenderCanEdit:V,onUserClick:Y,onUserHover:q,userRoles:N,...W}=e,K={...W,actionsEnabled:g,clearEditingState:_,editing:w,getMessageActions:U,handleEdit:x,isMessageAIGenerated:f,isMyMessage:()=>B,messageIsUnread:H,onUserClick:k,onUserHover:R,setEditingState:x};return v.createElement(zJ,{value:K},v.createElement(b,{groupedByUser:n}))},QCe=v.memo(KCe,Xoe),q1=e=>{const{closeReactionSelectorOnClick:t,disableQuotedMessages:n,getDeleteMessageErrorNotification:r,getFetchReactionsErrorNotification:a,getFlagMessageErrorNotification:i,getFlagMessageSuccessNotification:s,getMarkMessageUnreadErrorNotification:o,getMarkMessageUnreadSuccessNotification:c,getMuteUserErrorNotification:d,getMuteUserSuccessNotification:f,getPinMessageErrorNotification:h,message:m,onlySenderCanEdit:g=!1,onMentionsClick:b,onMentionsHover:_,openThread:w,pinPermissions:x,reactionDetailsSort:k,retrySendMessage:R,sortReactionDetails:I,sortReactions:O}=e,{addNotification:A}=Ya("Message"),{highlightedMessageId:L,mutes:C}=Zn("Message"),T=qoe(m),S=hle(m,w),j=gle(m),B=yle(R),H=h2(m,g,n),U=ble(m,{getErrorNotification:a,notify:A}),z=ile(m,{getErrorNotification:r,notify:A}),F=lle(m,{getErrorNotification:i,getSuccessNotification:s,notify:A}),V=ule(m,{getErrorNotification:o,getSuccessNotification:c,notify:A}),Y=fle(m,{getErrorNotification:d,getSuccessNotification:f,notify:A}),{onMentionsClick:q,onMentionsHover:N}=cle(m,{onMentionsClick:b,onMentionsHover:_}),{canPin:W,handlePin:K}=ple(m,x,{getErrorNotification:h,notify:A}),$=L===m.id;return v.createElement(QCe,{additionalMessageInputProps:e.additionalMessageInputProps,autoscrollToBottom:e.autoscrollToBottom,canPin:W,closeReactionSelectorOnClick:t,customMessageActions:e.customMessageActions,disableQuotedMessages:e.disableQuotedMessages,endOfGroup:e.endOfGroup,firstOfGroup:e.firstOfGroup,formatDate:e.formatDate,groupedByUser:e.groupedByUser,groupStyles:e.groupStyles,handleAction:T,handleDelete:z,handleFetchReactions:U,handleFlag:F,handleMarkUnread:V,handleMute:Y,handleOpenThread:S,handlePin:K,handleReaction:j,handleRetry:B,highlighted:$,initialMessage:e.initialMessage,lastReceivedId:e.lastReceivedId,message:m,Message:e.Message,messageActions:e.messageActions,messageListRect:e.messageListRect,mutes:C,onMentionsClickMessage:q,onMentionsHoverMessage:N,onUserClick:e.onUserClick,onUserHover:e.onUserHover,pinPermissions:e.pinPermissions,reactionDetailsSort:k,readBy:e.readBy,renderText:e.renderText,sortReactionDetails:I,sortReactions:O,threadList:e.threadList,unsafeHTML:e.unsafeHTML,userRoles:H})},ZCe=({title:e})=>{const{t}=Ge("CloseIcon");return v.createElement("svg",{"data-testid":"close-no-outline",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("title",null,e??t("Close")),v.createElement("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"black"}))},XCe=e=>{const{closeThread:t,overrideImage:n,overrideTitle:r}=e,{t:a}=Ge("ThreadHeader"),{channel:i}=Zn(""),{displayTitle:s}=c8({channel:i,overrideImage:n,overrideTitle:r});return v.createElement("div",{className:"str-chat__thread-header"},v.createElement("div",{className:"str-chat__thread-header-details"},v.createElement("div",{className:"str-chat__thread-header-title"},a("Thread")),v.createElement("div",{className:"str-chat__thread-header-subtitle"},s)),v.createElement("button",{"aria-label":a("aria/Close thread"),className:"str-chat__close-thread-button","data-testid":"close-button",onClick:t},v.createElement(ZCe,null)))},JCe=()=>{const{thread:e}=Zn("ThreadStart"),{t}=Ge("ThreadStart");return e!=null&&e.reply_count?v.createElement("div",{className:"str-chat__thread-start"},t("replyCount",{count:e.reply_count})):null},eDe=e=>{const{ThreadStart:t=JCe}=xn();return v.createElement("div",{className:"str-chat__parent-message-li"},v.createElement(q1,{initialMessage:!0,threadList:!0,...e}),v.createElement(t,null))},WI=v.createContext({legacyThread:void 0}),tDe=()=>E.useContext(WI),nDe=e=>{var i;const{channel:t,channelConfig:n,thread:r}=Zn("Thread"),a=um();return!r&&!a||(n==null?void 0:n.replies)===!1?null:v.createElement(aDe,{...e,key:`thread-${(i=r??a)==null?void 0:i.id}-${t==null?void 0:t.cid}`})},rDe=e=>({isLoadingNext:e.pagination.isLoadingNext,isLoadingPrev:e.pagination.isLoadingPrev,parentMessage:e.parentMessage,replies:e.replies}),aDe=e=>{const{additionalMessageInputProps:t,additionalMessageListProps:n,additionalParentMessageProps:r,additionalVirtualizedMessageListProps:a,autoFocus:i=!0,enableDateSeparator:s=!1,Input:o,Message:c,messageActions:d=Object.keys(Sn),virtualized:f}=e,h=um(),{thread:m,threadHasMore:g,threadLoadingMore:b,threadMessages:_=[],threadSuppressAutoscroll:w}=Zn("Thread"),{closeThread:x,loadMoreThread:k}=Ya("Thread"),{customClasses:R}=Yt("Thread"),{Message:I,ThreadHead:O=eDe,ThreadHeader:A=XCe,ThreadInput:L,VirtualMessage:C}=xn(),{isLoadingNext:T,isLoadingPrev:S,parentMessage:j,replies:B}=On(h==null?void 0:h.state,rDe)??{},H=o??(t==null?void 0:t.Input)??L??U2,F=c||(n==null?void 0:n.Message)||(f&&C?C:I),V=f?YCe:VI;E.useEffect(()=>{h||((m==null?void 0:m.reply_count)??0)>0&&k()},[m,k,h]);const Y=h?{loadingMore:S,loadingMoreNewer:T,loadMore:h.loadPrevPage,loadMoreNewer:h.loadNextPage,messages:B}:{hasMore:g,loadingMore:b,loadMore:k,messages:_},q=m??j;if(!q)return null;const N=(R==null?void 0:R.thread)||Ue("str-chat__thread-container str-chat__thread",{"str-chat__thread--virtualized":f}),W=v.createElement(O,{key:q.id,message:q,Message:F,...r});return v.createElement(WI.Provider,{value:{legacyThread:m??void 0}},v.createElement("div",{className:N},v.createElement(A,{closeThread:x,thread:q}),v.createElement(V,{disableDateSeparator:!s,head:W,Message:F,messageActions:d,suppressAutoscroll:w,threadList:!0,...Y,...f?a:n}),v.createElement(B2,{focus:i,Input:H,isThreadInput:!0,parent:m??j,...t})))},sy=new QK(64),Mr=()=>{const{client:e}=Yt(),{channel:t}=Zn(),{editing:n,message:r}=jr(),{legacyThread:a}=tDe(),i=um(),s=E.useMemo(()=>{if(r)return r},[r==null?void 0:r.id]),o=E.useMemo(()=>{if(a)return a},[a==null?void 0:a.id]),c=E.useMemo(()=>{if(n&&s){const d=hl.constructTag(s),f=sy.get(d);return f||new hl({client:e,composition:s,compositionContext:s})}else{if(i)return i.messageComposer;if(o){const d={...o,legacyThreadId:o.id},f=hl.constructTag(d),h=sy.get(f);return h||new hl({client:e,compositionContext:d})}else return t.messageComposer}},[s,o,t,e,n,i]);return["legacy_thread","message"].includes(c.contextType)&&!sy.peek(c.tag)&&sy.add(c.tag,c),E.useEffect(()=>{const d=c.registerSubscriptions();return()=>{d()}},[c]),c},iDe=e=>({attachments:e.attachments}),_m=()=>{const{attachmentManager:e}=Mr(),{attachments:t}=On(e.state,iDe);return{attachments:t,availableUploadSlots:e.availableUploadSlots,blockedUploadsCount:e.blockedUploadsCount,failedUploadsCount:e.failedUploadsCount,isUploadEnabled:e.isUploadEnabled,pendingUploadsCount:e.pendingUploadsCount,successfulUploadsCount:e.successfulUploadsCount,uploadsInProgressCount:e.uploadsInProgressCount}},GI="str-chat__channel",q4=({children:e,className:t,...n})=>v.createElement("button",{className:Ue("str-chat__dialog-menu__button",t),...n},v.createElement("div",{className:"str-chat__dialog-menu__button-icon"}),v.createElement("div",{className:"str-chat__dialog-menu__button-text"},e)),KI=E.createContext({fileInput:null}),sDe=({children:e,value:t})=>v.createElement(KI.Provider,{value:t},e),oDe=()=>E.useContext(KI),QI=()=>{const{AttachmentSelectorInitiationButtonContents:e,FileUploadIcon:t=ote}=xn(),n=E.useRef(null),[r,a]=E.useState(null),i=H1();return E.useEffect(()=>{if(!r)return;const s=o=>{![" ","Enter"].includes(o.key)||!n.current||(o.preventDefault(),n.current.click())};return r.addEventListener("keyup",s),()=>{r.removeEventListener("keyup",s)}},[r]),v.createElement("div",{className:"str-chat__file-input-container","data-testid":"file-upload-button"},v.createElement(hF,{id:i,ref:n}),v.createElement("label",{className:"str-chat__file-input-label",htmlFor:i,ref:a,tabIndex:0},e?v.createElement(e,null):v.createElement(t,null)))},lDe=()=>{const{AttachmentSelectorInitiationButtonContents:e,FileUploadIcon:t}=xn();return e?v.createElement(e,null):t?v.createElement(t,null):v.createElement("div",{className:"str-chat__attachment-selector__menu-button__icon"})},Y4={File({closeMenu:e}){const{t}=Ge(),{fileInput:n}=oDe(),{isUploadEnabled:r}=_m();return v.createElement(q4,{className:"str-chat__attachment-selector-actions-menu__button str-chat__attachment-selector-actions-menu__upload-file-button",disabled:!r,onClick:()=>{n&&n.click(),e()}},t("File"))},Poll({closeMenu:e,openModalForAction:t}){const{t:n}=Ge();return v.createElement(q4,{className:"str-chat__attachment-selector-actions-menu__button str-chat__attachment-selector-actions-menu__create-poll-button",onClick:()=>{t("createPoll"),e()}},n("Poll"))}},cDe=[{ActionButton:Y4.File,type:"uploadFile"},{ActionButton:Y4.Poll,type:"createPoll"}],uDe=e=>{const{PollCreationDialog:t=Epe}=xn(),{channelCapabilities:n,channelConfig:r}=Zn(),{isThreadInput:a}=to();return e.filter(i=>!(i.type==="uploadFile"&&!n["upload-file"]||i.type==="createPoll"&&(!(r!=null&&r.polls)||a||!n["send-poll"]))).map(i=>i.type==="createPoll"&&!i.ModalContent?{...i,ModalContent:t}:i)},dDe=({attachmentSelectorActionSet:e=cDe,getModalPortalDestination:t})=>{const{t:n}=Ge(),{channelCapabilities:r}=Zn(),{isThreadInput:a}=to(),i=uDe(e),s=`attachment-actions-menu${a?"-thread":""}`,o=sm({id:s}),c=Du(s),[d,f]=E.useState(),h=E.useCallback(R=>{const I=i.find(O=>O.type===R);I!=null&&I.ModalContent&&f(I)},[i]),m=E.useCallback(()=>f(void 0),[]),[g,b]=E.useState(null),_=E.useRef(null),w=E.useCallback(()=>document.getElementById(GI),[]);if(i.length===0)return null;if(i.length===1&&i[0].type==="uploadFile")return v.createElement(QI,null);const x=d==null?void 0:d.ModalContent,k=!!x;return v.createElement(sDe,{value:{fileInput:g}},v.createElement("div",{className:"str-chat__attachment-selector"},r["upload-file"]&&v.createElement(hF,{ref:b}),v.createElement("button",{"aria-expanded":c,"aria-haspopup":"true","aria-label":n("aria/Open Attachment Selector"),className:"str-chat__attachment-selector__menu-button","data-testid":"invoke-attachment-selector-button",onClick:()=>o==null?void 0:o.toggle(),ref:_},v.createElement(lDe,null)),v.createElement(S2,{id:s,placement:"top-start",referenceElement:_.current,tabIndex:-1,trapFocus:!0},v.createElement("div",{className:"str-chat__attachment-selector-actions-menu str-chat__dialog-menu","data-testid":"attachment-selector-actions-menu"},i.map(({ActionButton:R,type:I})=>v.createElement(R,{closeMenu:o.close,key:`attachment-selector-item-${I}`,openModalForAction:h})))),v.createElement(C5,{getPortalDestination:t??w,isOpen:k},v.createElement(Uu,{className:"str-chat__create-poll-modal",onClose:m,open:k},x&&v.createElement(x,{close:m})))))},fDe=({attachment:e,handleRetry:t,removeAttachments:n})=>{var i,s,o,c;const{t:r}=Ge("UnsupportedAttachmentPreview"),a=e.title??r("Unsupported attachment");return v.createElement("div",{className:"str-chat__attachment-preview-unsupported","data-testid":"attachment-preview-unknown"},v.createElement("div",{className:"str-chat__attachment-preview-file-icon"},v.createElement(Nu,{filename:a,mimeType:e.mime_type})),v.createElement("button",{"aria-label":r("aria/Remove attachment"),className:"str-chat__attachment-preview-delete","data-testid":"file-preview-item-delete-button",disabled:((i=e.localMetadata)==null?void 0:i.uploadState)==="uploading",onClick:()=>{var d,f;return((d=e.localMetadata)==null?void 0:d.id)&&n([(f=e.localMetadata)==null?void 0:f.id])}},v.createElement(wf,null)),jW(e)&&["blocked","failed"].includes((s=e.localMetadata)==null?void 0:s.uploadState)&&!!t&&v.createElement("button",{className:"str-chat__attachment-preview-error str-chat__attachment-preview-error-file","data-testid":"file-preview-item-retry-button",onClick:()=>t(e)},v.createElement(C1,null)),v.createElement("div",{className:"str-chat__attachment-preview-metadata"},v.createElement("div",{className:"str-chat__attachment-preview-title",title:a},a),((o=e.localMetadata)==null?void 0:o.uploadState)==="finished"&&!!e.asset_url&&v.createElement("a",{className:"str-chat__attachment-preview-file-download",download:!0,href:e.asset_url,rel:"noreferrer",target:"_blank"},v.createElement($5,null)),((c=e.localMetadata)==null?void 0:c.uploadState)==="uploading"&&v.createElement(cm,{size:17})))},hDe=({onClose:e,permissionName:t})=>{const{t:n}=Ge(),r={body:{camera:n("To start recording, allow the camera access in your browser"),microphone:n("To start recording, allow the microphone access in your browser")},heading:{camera:n("Allow access to camera"),microphone:n("Allow access to microphone")}};return v.createElement("div",{className:"str-chat__recording-permission-denied-notification"},v.createElement("div",{className:"str-chat__recording-permission-denied-notification__heading"},r.heading[t]),v.createElement("p",{className:"str-chat__recording-permission-denied-notification__message"},r.body[t]),v.createElement("div",{className:"str-chat__recording-permission-denied-notification__dismiss-button-container"},v.createElement("button",{className:"str-chat__recording-permission-denied-notification__dismiss-button",onClick:e},n("Ok"))))},P2=({durationSeconds:e})=>v.createElement("div",{className:Ue("str-chat__recording-timer",{"str-chat__recording-timer--hours":e>=3600})},RS(e)),pDe=({durationSeconds:e,mimeType:t,waveformData:n,...r})=>{const{audioRef:a,isPlaying:i,progress:s,secondsElapsed:o,seek:c,togglePlay:d}=lm({durationSeconds:e,mimeType:t}),f=o||e;return v.createElement(v.Fragment,null,v.createElement("audio",{ref:a},v.createElement("source",{src:r.src,type:t})),v.createElement("button",{className:"str-chat__audio_recorder__toggle-playback-button","data-testid":"audio-recording-preview-toggle-play-btn",onClick:d},i?v.createElement(V5,null):v.createElement(ute,null)),v.createElement(P2,{durationSeconds:f}),v.createElement("div",{className:"str-chat__wave-progress-bar__track-container"},v.createElement(j5,{progress:s,seek:c,waveformData:n||[]})))},mDe=({startOnMount:e}={})=>{const[t,n]=E.useState(0),r=E.useRef(void 0),a=E.useCallback(()=>{r.current||(r.current=setInterval(()=>{n(s=>s+1)},1e3))},[]),i=E.useCallback(()=>{clearInterval(r.current),r.current=void 0},[]);return E.useEffect(()=>{if(e)return a(),()=>{i()}},[a,e,i]),{secondsElapsed:t,startCounter:a,stopCounter:i}},gDe=({maxDataPointsDrawn:e=100})=>{const{recordingController:{recorder:t}}=to(),[n,r]=E.useState([]);return E.useEffect(()=>{if(!(t!=null&&t.amplitudeRecorder))return;const a=t.amplitudeRecorder.amplitudes.subscribe(r);return()=>{a.unsubscribe()}},[t]),t?v.createElement("div",{className:"str-chat__waveform-box-container"},v.createElement("div",{className:"str-chat__audio_recorder__waveform-box"},n.slice(-e).map((a,i)=>v.createElement("div",{className:"str-chat__wave-progress-bar__amplitude-bar",key:`amplitude-${i}-voice-recording`,style:{"--str-chat__wave-progress-bar__amplitude-bar-height":a?a*100+"%":"0%"}})))):null},yDe=()=>{const{secondsElapsed:e,startCounter:t,stopCounter:n}=mDe(),{recordingController:{recorder:r}}=to();return E.useEffect(()=>{if(!(r!=null&&r.mediaRecorder))return;const{mediaRecorder:a}=r;return a.state==="recording"&&t(),a.addEventListener("start",t),a.addEventListener("resume",t),a.addEventListener("stop",n),a.addEventListener("pause",n),()=>{a.removeEventListener("start",t),a.removeEventListener("resume",t),a.removeEventListener("stop",n),a.removeEventListener("pause",n)}},[r,t,n]),v.createElement(v.Fragment,null,v.createElement(P2,{durationSeconds:e}),v.createElement(gDe,null))};class I0{constructor(t){this.closed=!1,this._unsubscribe=t}unsubscribe(){var t;this.closed=!0,(t=this._unsubscribe)==null||t.call(this)}}function I2(e){return typeof e=="function"?{next:e}:e}class vDe{constructor(t){this._closed=!1,t&&(this._producer=t)}get closed(){return this._closed}subscribe(t){var r;const n=I2(t);return this.closed||(r=this._producer)==null||r.call(this,n),new I0(()=>{this._closed=!0})}}class zp extends vDe{constructor(){super(),this._observers=new Map,this._observerCounter=0}get observers(){return Array.from(this._observers.values())}next(t){if(this.closed)return;const n=this.observers;for(let r=0;r<n.length;r++)n[r].next(t)}error(t){var r,a;if(this.closed)return;this.thrownError=t;const{observers:n}=this;for(let i=0;i<n.length;i++)(a=(r=n[i]).error)==null||a.call(r,t);this._observers.clear()}complete(){var n,r;if(this.closed)return;this._closed=!0;const{observers:t}=this;for(let a=0;a<t.length;a++)(r=(n=t[a]).complete)==null||r.call(n);this._observers.clear()}subscribe(t){const n=I2(t);if(this.thrownError||this.closed){const a=new I0;return a.closed=!0,a}const r=this._observerCounter++;return this._observers.set(r,n),new I0(()=>{this._observers.delete(r)})}unsubscribe(){this._closed=!0,this._observers.clear()}}class df extends zp{constructor(t){super(),this._value=t}get value(){const{_value:t,thrownError:n}=this;if(n)throw n;return t}subscribe(t){const n=I2(t),r=super.subscribe(t);return r.closed||n.next(this._value),r}next(t){super.next(this._value=t)}}var Hp;(function(e){e.CAM="camera",e.MIC="microphone"})(Hp||(Hp={}));const bDe={audio:Hp.MIC,video:Hp.CAM};class _De{constructor({mediaType:t}){this.state=new df(void 0),this.status=new df(void 0),this.error=new zp,this.changeSubscriptions=[],this.name=bDe[t]}get isWatching(){return this.changeSubscriptions.some(t=>!t.closed)}async watch(){if(!this.status.value&&(await this.check(),!this.status.value))return;const t=this.status.value,n=r=>{const{state:a}=r.target;this.state.next(a)};t.addEventListener("change",n),this.changeSubscriptions.push(new I0(()=>{t.removeEventListener("change",n)}))}unwatch(){this.changeSubscriptions.forEach(t=>t.unsubscribe())}async check(){if(!this.name){this.error.next(new Error("Unknown media recording permission"));return}let t;try{const n=await navigator.permissions.query({name:this.name});t=n.state,this.status.next(n)}catch{t="granted"}this.state.next(t)}}var Lx={exports:{}},W4;function wDe(){return W4||(W4=1,function(e){(function(t,n){e.exports?e.exports=n():window.ysFixWebmDuration=n()})("fix-webm-duration",function(){var t={172351395:{name:"EBML",type:"Container"},646:{name:"EBMLVersion",type:"Uint"},759:{name:"EBMLReadVersion",type:"Uint"},754:{name:"EBMLMaxIDLength",type:"Uint"},755:{name:"EBMLMaxSizeLength",type:"Uint"},642:{name:"DocType",type:"String"},647:{name:"DocTypeVersion",type:"Uint"},645:{name:"DocTypeReadVersion",type:"Uint"},108:{name:"Void",type:"Binary"},63:{name:"CRC-32",type:"Binary"},190023271:{name:"SignatureSlot",type:"Container"},16010:{name:"SignatureAlgo",type:"Uint"},16026:{name:"SignatureHash",type:"Uint"},16037:{name:"SignaturePublicKey",type:"Binary"},16053:{name:"Signature",type:"Binary"},15963:{name:"SignatureElements",type:"Container"},15995:{name:"SignatureElementList",type:"Container"},9522:{name:"SignedElement",type:"Binary"},139690087:{name:"Segment",type:"Container"},21863284:{name:"SeekHead",type:"Container"},3515:{name:"Seek",type:"Container"},5035:{name:"SeekID",type:"Binary"},5036:{name:"SeekPosition",type:"Uint"},88713574:{name:"Info",type:"Container"},13220:{name:"SegmentUID",type:"Binary"},13188:{name:"SegmentFilename",type:"String"},1882403:{name:"PrevUID",type:"Binary"},1868715:{name:"PrevFilename",type:"String"},2013475:{name:"NextUID",type:"Binary"},1999803:{name:"NextFilename",type:"String"},1092:{name:"SegmentFamily",type:"Binary"},10532:{name:"ChapterTranslate",type:"Container"},10748:{name:"ChapterTranslateEditionUID",type:"Uint"},10687:{name:"ChapterTranslateCodec",type:"Uint"},10661:{name:"ChapterTranslateID",type:"Binary"},710577:{name:"TimecodeScale",type:"Uint"},1161:{name:"Duration",type:"Float"},1121:{name:"DateUTC",type:"Date"},15273:{name:"Title",type:"String"},3456:{name:"MuxingApp",type:"String"},5953:{name:"WritingApp",type:"String"},103:{name:"Timecode",type:"Uint"},6228:{name:"SilentTracks",type:"Container"},6359:{name:"SilentTrackNumber",type:"Uint"},39:{name:"Position",type:"Uint"},43:{name:"PrevSize",type:"Uint"},35:{name:"SimpleBlock",type:"Binary"},32:{name:"BlockGroup",type:"Container"},33:{name:"Block",type:"Binary"},34:{name:"BlockVirtual",type:"Binary"},13729:{name:"BlockAdditions",type:"Container"},38:{name:"BlockMore",type:"Container"},110:{name:"BlockAddID",type:"Uint"},37:{name:"BlockAdditional",type:"Binary"},27:{name:"BlockDuration",type:"Uint"},122:{name:"ReferencePriority",type:"Uint"},123:{name:"ReferenceBlock",type:"Int"},125:{name:"ReferenceVirtual",type:"Int"},36:{name:"CodecState",type:"Binary"},13730:{name:"DiscardPadding",type:"Int"},14:{name:"Slices",type:"Container"},104:{name:"TimeSlice",type:"Container"},76:{name:"LaceNumber",type:"Uint"},77:{name:"FrameNumber",type:"Uint"},75:{name:"BlockAdditionID",type:"Uint"},78:{name:"Delay",type:"Uint"},79:{name:"SliceDuration",type:"Uint"},72:{name:"ReferenceFrame",type:"Container"},73:{name:"ReferenceOffset",type:"Uint"},74:{name:"ReferenceTimeCode",type:"Uint"},47:{name:"EncryptedBlock",type:"Binary"},106212971:{name:"Tracks",type:"Container"},46:{name:"TrackEntry",type:"Container"},87:{name:"TrackNumber",type:"Uint"},13253:{name:"TrackUID",type:"Uint"},3:{name:"TrackType",type:"Uint"},57:{name:"FlagEnabled",type:"Uint"},8:{name:"FlagDefault",type:"Uint"},5546:{name:"FlagForced",type:"Uint"},28:{name:"FlagLacing",type:"Uint"},11751:{name:"MinCache",type:"Uint"},11768:{name:"MaxCache",type:"Uint"},254851:{name:"DefaultDuration",type:"Uint"},216698:{name:"DefaultDecodedFieldDuration",type:"Uint"},209231:{name:"TrackTimecodeScale",type:"Float"},4991:{name:"TrackOffset",type:"Int"},5614:{name:"MaxBlockAdditionID",type:"Uint"},4974:{name:"Name",type:"String"},177564:{name:"Language",type:"String"},6:{name:"CodecID",type:"String"},9122:{name:"CodecPrivate",type:"Binary"},362120:{name:"CodecName",type:"String"},13382:{name:"AttachmentLink",type:"Uint"},1742487:{name:"CodecSettings",type:"String"},1785920:{name:"CodecInfoURL",type:"String"},438848:{name:"CodecDownloadURL",type:"String"},42:{name:"CodecDecodeAll",type:"Uint"},12203:{name:"TrackOverlay",type:"Uint"},5802:{name:"CodecDelay",type:"Uint"},5819:{name:"SeekPreRoll",type:"Uint"},9764:{name:"TrackTranslate",type:"Container"},9980:{name:"TrackTranslateEditionUID",type:"Uint"},9919:{name:"TrackTranslateCodec",type:"Uint"},9893:{name:"TrackTranslateTrackID",type:"Binary"},96:{name:"Video",type:"Container"},26:{name:"FlagInterlaced",type:"Uint"},5048:{name:"StereoMode",type:"Uint"},5056:{name:"AlphaMode",type:"Uint"},5049:{name:"OldStereoMode",type:"Uint"},48:{name:"PixelWidth",type:"Uint"},58:{name:"PixelHeight",type:"Uint"},5290:{name:"PixelCropBottom",type:"Uint"},5307:{name:"PixelCropTop",type:"Uint"},5324:{name:"PixelCropLeft",type:"Uint"},5341:{name:"PixelCropRight",type:"Uint"},5296:{name:"DisplayWidth",type:"Uint"},5306:{name:"DisplayHeight",type:"Uint"},5298:{name:"DisplayUnit",type:"Uint"},5299:{name:"AspectRatioType",type:"Uint"},963876:{name:"ColourSpace",type:"Binary"},1029411:{name:"GammaValue",type:"Float"},230371:{name:"FrameRate",type:"Float"},97:{name:"Audio",type:"Container"},53:{name:"SamplingFrequency",type:"Float"},14517:{name:"OutputSamplingFrequency",type:"Float"},31:{name:"Channels",type:"Uint"},15739:{name:"ChannelPositions",type:"Binary"},8804:{name:"BitDepth",type:"Uint"},98:{name:"TrackOperation",type:"Container"},99:{name:"TrackCombinePlanes",type:"Container"},100:{name:"TrackPlane",type:"Container"},101:{name:"TrackPlaneUID",type:"Uint"},102:{name:"TrackPlaneType",type:"Uint"},105:{name:"TrackJoinBlocks",type:"Container"},109:{name:"TrackJoinUID",type:"Uint"},64:{name:"TrickTrackUID",type:"Uint"},65:{name:"TrickTrackSegmentUID",type:"Binary"},70:{name:"TrickTrackFlag",type:"Uint"},71:{name:"TrickMasterTrackUID",type:"Uint"},68:{name:"TrickMasterTrackSegmentUID",type:"Binary"},11648:{name:"ContentEncodings",type:"Container"},8768:{name:"ContentEncoding",type:"Container"},4145:{name:"ContentEncodingOrder",type:"Uint"},4146:{name:"ContentEncodingScope",type:"Uint"},4147:{name:"ContentEncodingType",type:"Uint"},4148:{name:"ContentCompression",type:"Container"},596:{name:"ContentCompAlgo",type:"Uint"},597:{name:"ContentCompSettings",type:"Binary"},4149:{name:"ContentEncryption",type:"Container"},2017:{name:"ContentEncAlgo",type:"Uint"},2018:{name:"ContentEncKeyID",type:"Binary"},2019:{name:"ContentSignature",type:"Binary"},2020:{name:"ContentSigKeyID",type:"Binary"},2021:{name:"ContentSigAlgo",type:"Uint"},2022:{name:"ContentSigHashAlgo",type:"Uint"},206814059:{name:"Cues",type:"Container"},59:{name:"CuePoint",type:"Container"},51:{name:"CueTime",type:"Uint"},55:{name:"CueTrackPositions",type:"Container"},119:{name:"CueTrack",type:"Uint"},113:{name:"CueClusterPosition",type:"Uint"},112:{name:"CueRelativePosition",type:"Uint"},50:{name:"CueDuration",type:"Uint"},4984:{name:"CueBlockNumber",type:"Uint"},106:{name:"CueCodecState",type:"Uint"},91:{name:"CueReference",type:"Container"},22:{name:"CueRefTime",type:"Uint"},23:{name:"CueRefCluster",type:"Uint"},4959:{name:"CueRefNumber",type:"Uint"},107:{name:"CueRefCodecState",type:"Uint"},155296873:{name:"Attachments",type:"Container"},8615:{name:"AttachedFile",type:"Container"},1662:{name:"FileDescription",type:"String"},1646:{name:"FileName",type:"String"},1632:{name:"FileMimeType",type:"String"},1628:{name:"FileData",type:"Binary"},1710:{name:"FileUID",type:"Uint"},1653:{name:"FileReferral",type:"Binary"},1633:{name:"FileUsedStartTime",type:"Uint"},1634:{name:"FileUsedEndTime",type:"Uint"},4433776:{name:"Chapters",type:"Container"},1465:{name:"EditionEntry",type:"Container"},1468:{name:"EditionUID",type:"Uint"},1469:{name:"EditionFlagHidden",type:"Uint"},1499:{name:"EditionFlagDefault",type:"Uint"},1501:{name:"EditionFlagOrdered",type:"Uint"},54:{name:"ChapterAtom",type:"Container"},13252:{name:"ChapterUID",type:"Uint"},5716:{name:"ChapterStringUID",type:"String"},17:{name:"ChapterTimeStart",type:"Uint"},18:{name:"ChapterTimeEnd",type:"Uint"},24:{name:"ChapterFlagHidden",type:"Uint"},1432:{name:"ChapterFlagEnabled",type:"Uint"},11879:{name:"ChapterSegmentUID",type:"Binary"},11964:{name:"ChapterSegmentEditionUID",type:"Uint"},9155:{name:"ChapterPhysicalEquiv",type:"Uint"},15:{name:"ChapterTrack",type:"Container"},9:{name:"ChapterTrackNumber",type:"Uint"},0:{name:"ChapterDisplay",type:"Container"},5:{name:"ChapString",type:"String"},892:{name:"ChapLanguage",type:"String"},894:{name:"ChapCountry",type:"String"},10564:{name:"ChapProcess",type:"Container"},10581:{name:"ChapProcessCodecID",type:"Uint"},1293:{name:"ChapProcessPrivate",type:"Binary"},10513:{name:"ChapProcessCommand",type:"Container"},10530:{name:"ChapProcessTime",type:"Uint"},10547:{name:"ChapProcessData",type:"Binary"},39109479:{name:"Tags",type:"Container"},13171:{name:"Tag",type:"Container"},9152:{name:"Targets",type:"Container"},10442:{name:"TargetTypeValue",type:"Uint"},9162:{name:"TargetType",type:"String"},9157:{name:"TagTrackUID",type:"Uint"},9161:{name:"TagEditionUID",type:"Uint"},9156:{name:"TagChapterUID",type:"Uint"},9158:{name:"TagAttachmentUID",type:"Uint"},10184:{name:"SimpleTag",type:"Container"},1443:{name:"TagName",type:"String"},1146:{name:"TagLanguage",type:"String"},1156:{name:"TagDefault",type:"Uint"},1159:{name:"TagString",type:"String"},1157:{name:"TagBinary",type:"Binary"}};function n(f,h){f.prototype=Object.create(h.prototype),f.prototype.constructor=f}function r(f,h){this.name=f||"Unknown",this.type=h||"Unknown"}r.prototype.updateBySource=function(){},r.prototype.setSource=function(f){this.source=f,this.updateBySource()},r.prototype.updateByData=function(){},r.prototype.setData=function(f){this.data=f,this.updateByData()};function a(f,h){r.call(this,f,h||"Uint")}n(a,r);function i(f){return f.length%2===1?"0"+f:f}a.prototype.updateBySource=function(){this.data="";for(var f=0;f<this.source.length;f++){var h=this.source[f].toString(16);this.data+=i(h)}},a.prototype.updateByData=function(){var f=this.data.length/2;this.source=new Uint8Array(f);for(var h=0;h<f;h++){var m=this.data.substr(h*2,2);this.source[h]=parseInt(m,16)}},a.prototype.getValue=function(){return parseInt(this.data,16)},a.prototype.setValue=function(f){this.setData(i(f.toString(16)))};function s(f,h){r.call(this,f,h||"Float")}n(s,r),s.prototype.getFloatArrayType=function(){return this.source&&this.source.length===4?Float32Array:Float64Array},s.prototype.updateBySource=function(){var f=this.source.reverse(),h=this.getFloatArrayType(),m=new h(f.buffer);this.data=m[0]},s.prototype.updateByData=function(){var f=this.getFloatArrayType(),h=new f([this.data]),m=new Uint8Array(h.buffer);this.source=m.reverse()},s.prototype.getValue=function(){return this.data},s.prototype.setValue=function(f){this.setData(f)};function o(f,h){r.call(this,f,h||"Container")}n(o,r),o.prototype.readByte=function(){return this.source[this.offset++]},o.prototype.readUint=function(){for(var f=this.readByte(),h=8-f.toString(2).length,m=f-(1<<7-h),g=0;g<h;g++)m*=256,m+=this.readByte();return m},o.prototype.updateBySource=function(){for(this.data=[],this.offset=0;this.offset<this.source.length;this.offset=m){var f=this.readUint(),h=this.readUint(),m=Math.min(this.offset+h,this.source.length),g=this.source.slice(this.offset,m),b=t[f]||{name:"Unknown",type:"Unknown"},_=r;switch(b.type){case"Container":_=o;break;case"Uint":_=a;break;case"Float":_=s;break}var w=new _(b.name,b.type);w.setSource(g),this.data.push({id:f,idHex:f.toString(16),data:w})}},o.prototype.writeUint=function(f,h){for(var m=1,g=128;f>=g&&m<8;m++,g*=128);if(!h)for(var b=g+f,_=m-1;_>=0;_--){var w=b%256;this.source[this.offset+_]=w,b=(b-w)/256}this.offset+=m},o.prototype.writeSections=function(f){this.offset=0;for(var h=0;h<this.data.length;h++){var m=this.data[h],g=m.data.source,b=g.length;this.writeUint(m.id,f),this.writeUint(b,f),f||this.source.set(g,this.offset),this.offset+=b}return this.offset},o.prototype.updateByData=function(){var f=this.writeSections("draft");this.source=new Uint8Array(f),this.writeSections()},o.prototype.getSectionById=function(f){for(var h=0;h<this.data.length;h++){var m=this.data[h];if(m.id===f)return m.data}return null};function c(f){o.call(this,"File","File"),this.setSource(f)}n(c,o),c.prototype.fixDuration=function(f,h){var m=h&&h.logger;m===void 0?m=function(x){console.log(x)}:m||(m=function(){});var g=this.getSectionById(139690087);if(!g)return m("[fix-webm-duration] Segment section is missing"),!1;var b=g.getSectionById(88713574);if(!b)return m("[fix-webm-duration] Info section is missing"),!1;var _=b.getSectionById(710577);if(!_)return m("[fix-webm-duration] TimecodeScale section is missing"),!1;var w=b.getSectionById(1161);if(w)if(w.getValue()<=0)m(`[fix-webm-duration] Duration section is present, but the value is ${w.getValue()}`),w.setValue(f);else return m(`[fix-webm-duration] Duration section is present, and the value is ${w.getValue()}`),!1;else m("[fix-webm-duration] Duration section is missing"),w=new s("Duration","Float"),w.setValue(f),b.data.push({id:1161,data:w});return _.setValue(1e6),b.updateByData(),g.updateByData(),this.updateByData(),!0},c.prototype.toBlob=function(f){return new Blob([this.source.buffer],{type:f||"video/webm"})};function d(f,h,m,g){if(typeof m=="object"&&(g=m,m=void 0),!m)return new Promise(function(_){d(f,h,_,g)});try{var b=new FileReader;b.onloadend=function(){try{var _=new c(new Uint8Array(b.result));_.fixDuration(h,g)&&(f=_.toBlob(f.type))}catch{}m(f)},b.readAsArrayBuffer(f)}catch{m(f)}}return d.default=d,d})}(Lx)),Lx.exports}var xDe=wDe();const CDe=Or(xDe);var Zh={exports:{}};Zh.exports;var G4;function DDe(){return G4||(G4=1,function(e,t){var n=200,r="__lodash_hash_undefined__",a=800,i=16,s=9007199254740991,o="[object Arguments]",c="[object Array]",d="[object AsyncFunction]",f="[object Boolean]",h="[object Date]",m="[object Error]",g="[object Function]",b="[object GeneratorFunction]",_="[object Map]",w="[object Number]",x="[object Null]",k="[object Object]",R="[object Proxy]",I="[object RegExp]",O="[object Set]",A="[object String]",L="[object Undefined]",C="[object WeakMap]",T="[object ArrayBuffer]",S="[object DataView]",j="[object Float32Array]",B="[object Float64Array]",H="[object Int8Array]",U="[object Int16Array]",z="[object Int32Array]",F="[object Uint8Array]",V="[object Uint8ClampedArray]",Y="[object Uint16Array]",q="[object Uint32Array]",N=/[\\^$.*+?()[\]{}|]/g,W=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,$={};$[j]=$[B]=$[H]=$[U]=$[z]=$[F]=$[V]=$[Y]=$[q]=!0,$[o]=$[c]=$[T]=$[f]=$[S]=$[h]=$[m]=$[g]=$[_]=$[w]=$[k]=$[I]=$[O]=$[A]=$[C]=!1;var J=typeof _r=="object"&&_r&&_r.Object===Object&&_r,oe=typeof self=="object"&&self&&self.Object===Object&&self,fe=J||oe||Function("return this")(),ye=t&&!t.nodeType&&t,le=ye&&!0&&e&&!e.nodeType&&e,Ee=le&&le.exports===ye,ue=Ee&&J.process,Me=function(){try{var ee=le&&le.require&&le.require("util").types;return ee||ue&&ue.binding&&ue.binding("util")}catch{}}(),Fe=Me&&Me.isTypedArray;function $e(ee,pe,Q){switch(Q.length){case 0:return ee.call(pe);case 1:return ee.call(pe,Q[0]);case 2:return ee.call(pe,Q[0],Q[1]);case 3:return ee.call(pe,Q[0],Q[1],Q[2])}return ee.apply(pe,Q)}function ze(ee,pe){for(var Q=-1,ne=Array(ee);++Q<ee;)ne[Q]=pe(Q);return ne}function Xe(ee){return function(pe){return ee(pe)}}function ot(ee,pe){return ee==null?void 0:ee[pe]}function nt(ee,pe){return function(Q){return ee(pe(Q))}}var St=Array.prototype,Nt=Function.prototype,ut=Object.prototype,_t=fe["__core-js_shared__"],wt=Nt.toString,st=ut.hasOwnProperty,de=function(){var ee=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||"");return ee?"Symbol(src)_1."+ee:""}(),Je=ut.toString,be=wt.call(Object),ke=RegExp("^"+wt.call(st).replace(N,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=Ee?fe.Buffer:void 0,rt=fe.Symbol,at=fe.Uint8Array;Pe&&Pe.allocUnsafe;var Jt=nt(Object.getPrototypeOf,Object),En=Object.create,Ln=ut.propertyIsEnumerable,Bn=St.splice,en=rt?rt.toStringTag:void 0,dt=function(){try{var ee=sr(Object,"defineProperty");return ee({},"",{}),ee}catch{}}(),hn=Pe?Pe.isBuffer:void 0,Re=Math.max,it=Date.now,kt=sr(fe,"Map"),et=sr(Object,"create"),Xt=function(){function ee(){}return function(pe){if(!Xr(pe))return{};if(En)return En(pe);ee.prototype=pe;var Q=new ee;return ee.prototype=void 0,Q}}();function bt(ee){var pe=-1,Q=ee==null?0:ee.length;for(this.clear();++pe<Q;){var ne=ee[pe];this.set(ne[0],ne[1])}}function rn(){this.__data__=et?et(null):{},this.size=0}function pn(ee){var pe=this.has(ee)&&delete this.__data__[ee];return this.size-=pe?1:0,pe}function Gn(ee){var pe=this.__data__;if(et){var Q=pe[ee];return Q===r?void 0:Q}return st.call(pe,ee)?pe[ee]:void 0}function mn(ee){var pe=this.__data__;return et?pe[ee]!==void 0:st.call(pe,ee)}function $t(ee,pe){var Q=this.__data__;return this.size+=this.has(ee)?0:1,Q[ee]=et&&pe===void 0?r:pe,this}bt.prototype.clear=rn,bt.prototype.delete=pn,bt.prototype.get=Gn,bt.prototype.has=mn,bt.prototype.set=$t;function pt(ee){var pe=-1,Q=ee==null?0:ee.length;for(this.clear();++pe<Q;){var ne=ee[pe];this.set(ne[0],ne[1])}}function Mn(){this.__data__=[],this.size=0}function nn(ee){var pe=this.__data__,Q=Tt(pe,ee);if(Q<0)return!1;var ne=pe.length-1;return Q==ne?pe.pop():Bn.call(pe,Q,1),--this.size,!0}function Fn(ee){var pe=this.__data__,Q=Tt(pe,ee);return Q<0?void 0:pe[Q][1]}function Br(ee){return Tt(this.__data__,ee)>-1}function fi(ee,pe){var Q=this.__data__,ne=Tt(Q,ee);return ne<0?(++this.size,Q.push([ee,pe])):Q[ne][1]=pe,this}pt.prototype.clear=Mn,pt.prototype.delete=nn,pt.prototype.get=Fn,pt.prototype.has=Br,pt.prototype.set=fi;function ce(ee){var pe=-1,Q=ee==null?0:ee.length;for(this.clear();++pe<Q;){var ne=ee[pe];this.set(ne[0],ne[1])}}function me(){this.size=0,this.__data__={hash:new bt,map:new(kt||pt),string:new bt}}function Se(ee){var pe=ja(this,ee).delete(ee);return this.size-=pe?1:0,pe}function Le(ee){return ja(this,ee).get(ee)}function lt(ee){return ja(this,ee).has(ee)}function Ut(ee,pe){var Q=ja(this,ee),ne=Q.size;return Q.set(ee,pe),this.size+=Q.size==ne?0:1,this}ce.prototype.clear=me,ce.prototype.delete=Se,ce.prototype.get=Le,ce.prototype.has=lt,ce.prototype.set=Ut;function Lt(ee){var pe=this.__data__=new pt(ee);this.size=pe.size}function te(){this.__data__=new pt,this.size=0}function re(ee){var pe=this.__data__,Q=pe.delete(ee);return this.size=pe.size,Q}function xe(ee){return this.__data__.get(ee)}function Qe(ee){return this.__data__.has(ee)}function qe(ee,pe){var Q=this.__data__;if(Q instanceof pt){var ne=Q.__data__;if(!kt||ne.length<n-1)return ne.push([ee,pe]),this.size=++Q.size,this;Q=this.__data__=new ce(ne)}return Q.set(ee,pe),this.size=Q.size,this}Lt.prototype.clear=te,Lt.prototype.delete=re,Lt.prototype.get=xe,Lt.prototype.has=Qe,Lt.prototype.set=qe;function Ve(ee,pe){var Q=Ka(ee),ne=!Q&&mi(ee),ge=!Q&&!ne&&no(ee),He=!Q&&!ne&&!ge&&gi(ee),vt=Q||ne||ge||He,ht=vt?ze(ee.length,String):[],Rt=ht.length;for(var Ht in ee)vt&&(Ht=="length"||ge&&(Ht=="offset"||Ht=="parent")||He&&(Ht=="buffer"||Ht=="byteLength"||Ht=="byteOffset")||Cr(Ht,Rt))||ht.push(Ht);return ht}function Et(ee,pe,Q){(Q!==void 0&&!pi(ee[pe],Q)||Q===void 0&&!(pe in ee))&&Wt(ee,pe,Q)}function Ot(ee,pe,Q){var ne=ee[pe];(!(st.call(ee,pe)&&pi(ne,Q))||Q===void 0&&!(pe in ee))&&Wt(ee,pe,Q)}function Tt(ee,pe){for(var Q=ee.length;Q--;)if(pi(ee[Q][0],pe))return Q;return-1}function Wt(ee,pe,Q){pe=="__proto__"&&dt?dt(ee,pe,{configurable:!0,enumerable:!0,value:Q,writable:!0}):ee[pe]=Q}var Ft=Qr();function Pt(ee){return ee==null?ee===void 0?L:x:en&&en in Object(ee)?Oa(ee):It(ee)}function zt(ee){return Jr(ee)&&Pt(ee)==o}function Gt(ee){if(!Xr(ee)||ft(ee))return!1;var pe=Za(ee)?ke:W;return pe.test(Ua(ee))}function $n(ee){return Jr(ee)&&sa(ee.length)&&!!$[Pt(ee)]}function Tr(ee){if(!Xr(ee))return Pn(ee);var pe=sn(ee),Q=[];for(var ne in ee)ne=="constructor"&&(pe||!st.call(ee,ne))||Q.push(ne);return Q}function Kn(ee,pe,Q,ne,ge){ee!==pe&&Ft(pe,function(He,vt){if(ge||(ge=new Lt),Xr(He))Kr(ee,pe,vt,Q,Kn,ne,ge);else{var ht=ne?ne(Zr(ee,vt),He,vt+"",ee,pe,ge):void 0;ht===void 0&&(ht=He),Et(ee,vt,ht)}},Is)}function Kr(ee,pe,Q,ne,ge,He,vt){var ht=Zr(ee,Q),Rt=Zr(pe,Q),Ht=vt.get(Rt);if(Ht){Et(ee,Q,Ht);return}var tn=He?He(ht,Rt,Q+"",ee,pe,vt):void 0,Lr=tn===void 0;if(Lr){var zr=Ka(Rt),yi=!zr&&no(Rt),ao=!zr&&!yi&&gi(Rt);tn=Rt,zr||yi||ao?Ka(ht)?tn=ht:Vi(ht)?tn=Ti(ht):yi?(Lr=!1,tn=Nn(Rt)):ao?(Lr=!1,tn=Ra(Rt)):tn=[]:La(Rt)||mi(Rt)?(tn=ht,mi(ht)?tn=ro(ht):(!Xr(ht)||Za(ht))&&(tn=Ga(Rt))):Lr=!1}Lr&&(vt.set(Rt,tn),ge(tn,Rt,ne,He,vt),vt.delete(Rt)),Et(ee,Q,tn)}function xr(ee,pe){return hr(In(ee,pe,Fs),ee+"")}var bn=dt?function(ee,pe){return dt(ee,"toString",{configurable:!0,enumerable:!1,value:cs(pe),writable:!0})}:Fs;function Nn(ee,pe){return ee.slice()}function kr(ee){var pe=new ee.constructor(ee.byteLength);return new at(pe).set(new at(ee)),pe}function Ra(ee,pe){var Q=kr(ee.buffer);return new ee.constructor(Q,ee.byteOffset,ee.length)}function Ti(ee,pe){var Q=-1,ne=ee.length;for(pe||(pe=Array(ne));++Q<ne;)pe[Q]=ee[Q];return pe}function Aa(ee,pe,Q,ne){var ge=!Q;Q||(Q={});for(var He=-1,vt=pe.length;++He<vt;){var ht=pe[He],Rt=void 0;Rt===void 0&&(Rt=ee[ht]),ge?Wt(Q,ht,Rt):Ot(Q,ht,Rt)}return Q}function hi(ee){return xr(function(pe,Q){var ne=-1,ge=Q.length,He=ge>1?Q[ge-1]:void 0,vt=ge>2?Q[2]:void 0;for(He=ee.length>3&&typeof He=="function"?(ge--,He):void 0,vt&&se(Q[0],Q[1],vt)&&(He=ge<3?void 0:He,ge=1),pe=Object(pe);++ne<ge;){var ht=Q[ne];ht&&ee(pe,ht,ne,He)}return pe})}function Qr(ee){return function(pe,Q,ne){for(var ge=-1,He=Object(pe),vt=ne(pe),ht=vt.length;ht--;){var Rt=vt[++ge];if(Q(He[Rt],Rt,He)===!1)break}return pe}}function ja(ee,pe){var Q=ee.__data__;return mt(pe)?Q[typeof pe=="string"?"string":"hash"]:Q.map}function sr(ee,pe){var Q=ot(ee,pe);return Gt(Q)?Q:void 0}function Oa(ee){var pe=st.call(ee,en),Q=ee[en];try{ee[en]=void 0;var ne=!0}catch{}var ge=Je.call(ee);return ne&&(pe?ee[en]=Q:delete ee[en]),ge}function Ga(ee){return typeof ee.constructor=="function"&&!sn(ee)?Xt(Jt(ee)):{}}function Cr(ee,pe){var Q=typeof ee;return pe=pe??s,!!pe&&(Q=="number"||Q!="symbol"&&K.test(ee))&&ee>-1&&ee%1==0&&ee<pe}function se(ee,pe,Q){if(!Xr(Q))return!1;var ne=typeof pe;return(ne=="number"?Qa(Q)&&Cr(pe,Q.length):ne=="string"&&pe in Q)?pi(Q[pe],ee):!1}function mt(ee){var pe=typeof ee;return pe=="string"||pe=="number"||pe=="symbol"||pe=="boolean"?ee!=="__proto__":ee===null}function ft(ee){return!!de&&de in ee}function sn(ee){var pe=ee&&ee.constructor,Q=typeof pe=="function"&&pe.prototype||ut;return ee===Q}function Pn(ee){var pe=[];if(ee!=null)for(var Q in Object(ee))pe.push(Q);return pe}function It(ee){return Je.call(ee)}function In(ee,pe,Q){return pe=Re(pe===void 0?ee.length-1:pe,0),function(){for(var ne=arguments,ge=-1,He=Re(ne.length-pe,0),vt=Array(He);++ge<He;)vt[ge]=ne[pe+ge];ge=-1;for(var ht=Array(pe+1);++ge<pe;)ht[ge]=ne[ge];return ht[pe]=Q(vt),$e(ee,this,ht)}}function Zr(ee,pe){if(!(pe==="constructor"&&typeof ee[pe]=="function")&&pe!="__proto__")return ee[pe]}var hr=$r(bn);function $r(ee){var pe=0,Q=0;return function(){var ne=it(),ge=i-(ne-Q);if(Q=ne,ge>0){if(++pe>=a)return arguments[0]}else pe=0;return ee.apply(void 0,arguments)}}function Ua(ee){if(ee!=null){try{return wt.call(ee)}catch{}try{return ee+""}catch{}}return""}function pi(ee,pe){return ee===pe||ee!==ee&&pe!==pe}var mi=zt(function(){return arguments}())?zt:function(ee){return Jr(ee)&&st.call(ee,"callee")&&!Ln.call(ee,"callee")},Ka=Array.isArray;function Qa(ee){return ee!=null&&sa(ee.length)&&!Za(ee)}function Vi(ee){return Jr(ee)&&Qa(ee)}var no=hn||js;function Za(ee){if(!Xr(ee))return!1;var pe=Pt(ee);return pe==g||pe==b||pe==d||pe==R}function sa(ee){return typeof ee=="number"&&ee>-1&&ee%1==0&&ee<=s}function Xr(ee){var pe=typeof ee;return ee!=null&&(pe=="object"||pe=="function")}function Jr(ee){return ee!=null&&typeof ee=="object"}function La(ee){if(!Jr(ee)||Pt(ee)!=k)return!1;var pe=Jt(ee);if(pe===null)return!0;var Q=st.call(pe,"constructor")&&pe.constructor;return typeof Q=="function"&&Q instanceof Q&&wt.call(Q)==be}var gi=Fe?Xe(Fe):$n;function ro(ee){return Aa(ee,Is(ee))}function Is(ee){return Qa(ee)?Ve(ee):Tr(ee)}var Vo=hi(function(ee,pe,Q,ne){Kn(ee,pe,Q,ne)});function cs(ee){return function(){return ee}}function Fs(ee){return ee}function js(){return!1}e.exports=Vo}(Zh,Zh.exports)),Zh.exports}var SDe=DDe();const EDe=Or(SDe),MDe=(e,t)=>e??t,ev=(e,t)=>EDe(e,t,MDe),TDe=255,kDe=e=>e&&console.error("[AMPLITUDE RECORDER ERROR]",e),RDe=e=>Math.sqrt(e.reduce((t,n)=>t+Math.pow(n,2),0)/e.length),ZI={analyserConfig:{fftSize:32,maxDecibels:0,minDecibels:-100},sampleCount:100,samplingFrequencyMs:60};var dl;(function(e){e.CLOSED="closed",e.RECORDING="recording",e.STOPPED="stopped"})(dl||(dl={}));class ADe{constructor({config:t,stream:n}){this.amplitudes=new df([]),this.state=new df(void 0),this.error=new zp,this.start=()=>{if(this.state.value!==dl.CLOSED){if(!this.stream)throw new Error("Missing MediaStream instance. Cannot to start amplitude recording");if(this.state.value===dl.RECORDING&&this.stop(),!this.analyserNode){if(!this.stream)return;this.init()}this.state.next(dl.RECORDING),this.amplitudeSamplingInterval=setInterval(()=>{if(!(this.analyserNode&&this.state.value===dl.RECORDING))return;const r=new Uint8Array(this.analyserNode.frequencyBinCount);try{this.analyserNode.getByteFrequencyData(r)}catch(i){kDe(i),this.error.next(i);return}const a=RDe(r)/TDe;this.amplitudes.next([...this.amplitudes.value,a])},this.config.samplingFrequencyMs)}},this.config=ev({...t},ZI),this.stream=n}init(){this.audioContext=new AudioContext,this.analyserNode=this.audioContext.createAnalyser();const{analyserConfig:t}=this.config;this.analyserNode.fftSize=t.fftSize,this.analyserNode.maxDecibels=t.maxDecibels,this.analyserNode.minDecibels=t.minDecibels,this.microphone=this.audioContext.createMediaStreamSource(this.stream),this.microphone.connect(this.analyserNode)}stop(){clearInterval(this.amplitudeSamplingInterval),this.amplitudeSamplingInterval=void 0,this.state.next(dl.STOPPED)}close(){var t,n,r,a;this.state.value!==dl.STOPPED&&this.stop(),this.state.next(dl.CLOSED),this.amplitudes.next([]),(t=this.microphone)==null||t.disconnect(),(n=this.analyserNode)==null||n.disconnect(),((r=this.audioContext)==null?void 0:r.state)!=="closed"&&((a=this.audioContext)==null||a.close())}}const ODe=async e=>{const t=new AudioContext,n=await ste(e),r=await t.decodeAudioData(n);return t.state!=="closed"&&await t.close(),r},LDe=async(e,t)=>{const n=new OfflineAudioContext(e.numberOfChannels,e.duration*t,t),r=n.createBufferSource();return r.buffer=e,r.connect(n.destination),r.start(),await n.startRendering()},F0=44,Vp=2,NDe=4294967295,ba={AUDIO_FORMAT:{offset:20,value:1},BITS_PER_SAMPLE:{offset:34,value:Vp*8},BLOCK_ALIGN:{offset:32},BYTE_RATE:{offset:28},CHANNEL_COUNT:{offset:22},CHUNK_ID:{offset:0,value:1380533830},CHUNK_SIZE:{offset:4},FILE_FORMAT:{offset:8,value:1463899717},SAMPLE_RATE:{offset:24},SUBCHUNK1_ID:{offset:12,value:1718449184},SUBCHUNK1_SIZE:{offset:16,value:16},SUBCHUNK2_ID:{offset:36,value:1684108385},SUBCHUNK2_SIZE:{offset:40}},oy=e=>e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3);oy("data"),oy("fmt "),oy("RIFF"),oy("WAVE");const PDe=({arrayBuffer:e,channelCount:t,sampleRate:n})=>{const r=n*t*Vp,a=t*Vp,i=new DataView(e),s=Math.min(i.byteLength-F0,NDe-F0);i.setUint32(ba.CHUNK_ID.offset,ba.CHUNK_ID.value),i.setUint32(ba.CHUNK_SIZE.offset,e.byteLength-8,!0),i.setUint32(ba.FILE_FORMAT.offset,ba.FILE_FORMAT.value),i.setUint32(ba.SUBCHUNK1_ID.offset,ba.SUBCHUNK1_ID.value),i.setUint32(ba.SUBCHUNK1_SIZE.offset,ba.SUBCHUNK1_SIZE.value,!0),i.setUint16(ba.AUDIO_FORMAT.offset,ba.AUDIO_FORMAT.value,!0),i.setUint16(ba.CHANNEL_COUNT.offset,t,!0),i.setUint32(ba.SAMPLE_RATE.offset,n,!0),i.setUint32(ba.BYTE_RATE.offset,r,!0),i.setUint16(ba.BLOCK_ALIGN.offset,a,!0),i.setUint16(ba.BITS_PER_SAMPLE.offset,ba.BITS_PER_SAMPLE.value,!0),i.setUint32(ba.SUBCHUNK2_ID.offset,ba.SUBCHUNK2_ID.value),i.setUint32(ba.SUBCHUNK2_SIZE.offset,s,!0)},IDe=e=>Array.from({length:e.numberOfChannels},(t,n)=>e.getChannelData(n)),FDe=({arrayBuffer:e,dataByChannel:t})=>{const n=new DataView(e),r=t.length;t.forEach((a,i)=>{let s=F0+r*i;a.forEach(o=>{n.setInt16(s,o<0?Math.max(-1,o)*32768:Math.min(1,o)*32767,!0),s+=r*Vp})})},jDe=async(e,t)=>{const n=await LDe(await ODe(e),t),a=n.duration*t*n.numberOfChannels*Vp+F0,i=new ArrayBuffer(a);return PDe({arrayBuffer:i,channelCount:n.numberOfChannels,sampleRate:t}),FDe({arrayBuffer:i,dataByChannel:IDe(n)}),new Blob([i],{type:"audio/wav"})},UDe=({blob:e,encoder:t=jDe,sampleRate:n})=>t(U5({blobsArray:[e],fileName:`audio_recording_${new Date().toISOString()}.${B5(e.type)}`,mimeType:e.type}),n),K4={audio:{others:"audio/webm",safari:"audio/mp4;codecs=mp4a.40.2"}},BDe={sampleRate:16e3},$De=e=>{e!=null&&e.active&&e.getTracks().forEach(t=>{t.stop(),e.removeTrack(t)})},Zc=e=>e&&console.error("[MEDIA RECORDER ERROR]",e);var wi;(function(e){e.PAUSED="paused",e.RECORDING="recording",e.STOPPED="stopped"})(wi||(wi={}));var j0;(function(e){e.VOICE_RECORDING="voiceRecording"})(j0||(j0={}));class zDe{constructor({config:t,generateRecordingTitle:n,t:r}={}){this.recordedChunkDurations=[],this.recordedData=[],this.recordingState=new df(void 0),this.recording=new df(void 0),this.error=new zp,this.notification=new zp,this.generateRecordingTitle=i=>this.customGenerateRecordingTitle?this.customGenerateRecordingTitle(i):`${this.mediaType}_recording_${new Date().toISOString()}.${B5(i)}`,this.makeVoiceRecording=async()=>{var c;if(this.recordingUri&&URL.revokeObjectURL(this.recordingUri),!this.recordedData.length)return;const{mimeType:i}=this.mediaRecorderConfig;let s=new Blob(this.recordedData,{type:i});if(i.match("audio/webm")&&(s=await CDe(s,this.durationMs,{logger:()=>null})),i.match("audio/mp4")||(s=await UDe({blob:s,...this.transcoderConfig})),!s)return;this.recordingUri=URL.createObjectURL(s);const o=U5({blobsArray:[s],fileName:this.generateRecordingTitle(s.type),mimeType:s.type});return{asset_url:this.recordingUri,duration:this.durationMs/1e3,file_size:s.size,localMetadata:{file:o,id:El()},mime_type:s.type,title:o.name,type:j0.VOICE_RECORDING,waveform_data:I5(((c=this.amplitudeRecorder)==null?void 0:c.amplitudes.value)??[],this.amplitudeRecorderConfig.sampleCount)}},this.handleErrorEvent=i=>{const{error:s}=i;Zc(s),this.error.next(s),this.notification.next({text:this.t("An error has occurred during recording"),type:"error"})},this.handleDataavailableEvent=async i=>{var s;if(i.data.size&&this.mediaType==="audio")try{this.recordedData.push(i.data);const o=await this.makeVoiceRecording();if(!o)return;(s=this.signalRecordingReady)==null||s.call(this,o),this.recording.next(o)}catch(o){Zc(o),this.error.next(o),this.notification.next({text:this.t("An error has occurred during the recording processing"),type:"error"})}},this.resetRecordingState=()=>{this.recordedData=[],this.recording.next(void 0),this.recordingState.next(void 0),this.recordedChunkDurations=[],this.startTime=void 0},this.cleanUp=()=>{var i;this.resetRecordingState(),this.recordingUri&&URL.revokeObjectURL(this.recordingUri),(i=this.amplitudeRecorder)==null||i.close(),this.mediaRecorder&&($De(this.mediaRecorder.stream),this.mediaRecorder.removeEventListener("dataavailable",this.handleDataavailableEvent),this.mediaRecorder.removeEventListener("error",this.handleErrorEvent))},this.start=async()=>{if([wi.RECORDING,wi.PAUSED].includes(this.recordingState.value)){const i=new Error("Cannot start recording. Recording already in progress");Zc(i),this.error.next(i);return}if(!navigator.mediaDevices){const i=new Error("Media recording is not supported");Zc(i),this.error.next(i),this.notification.next({text:this.t("Error starting recording"),type:"error"});return}if(this.mediaType==="video"){const i=new Error(`Video recording is not supported. Provided MIME type: ${this.mediaRecorderConfig.mimeType}`);Zc(i),this.error.next(i),this.notification.next({text:this.t("Error starting recording"),type:"error"});return}if(this.permission.state.value||await this.permission.check(),this.permission.state.value==="denied"){Zc(new Error("Permission denied"));return}try{const i=await navigator.mediaDevices.getUserMedia({audio:!0});this.mediaRecorder=new MediaRecorder(i,this.mediaRecorderConfig),this.mediaRecorder.addEventListener("dataavailable",this.handleDataavailableEvent),this.mediaRecorder.addEventListener("error",this.handleErrorEvent),this.startTime=new Date().getTime(),this.mediaRecorder.start(),this.mediaType==="audio"&&i&&(this.amplitudeRecorder=new ADe({config:this.amplitudeRecorderConfig,stream:i}),this.amplitudeRecorder.start()),this.recordingState.next(wi.RECORDING)}catch(i){Zc(i),this.cancel(),this.error.next(i),this.notification.next({text:this.t("Error starting recording"),type:"error"})}},this.pause=()=>{var i,s;this.recordingState.value===wi.RECORDING&&(this.startTime&&(this.recordedChunkDurations.push(new Date().getTime()-this.startTime),this.startTime=void 0),(i=this.mediaRecorder)==null||i.pause(),(s=this.amplitudeRecorder)==null||s.stop(),this.recordingState.next(wi.PAUSED))},this.resume=()=>{var i,s;this.recordingState.value===wi.PAUSED&&(this.startTime=new Date().getTime(),(i=this.mediaRecorder)==null||i.resume(),(s=this.amplitudeRecorder)==null||s.start(),this.recordingState.next(wi.RECORDING))},this.stop=()=>{var o,c,d;const i=this.recording.value;if(i)return Promise.resolve(i);if(![wi.PAUSED,wi.RECORDING].includes(((o=this.mediaRecorder)==null?void 0:o.state)||""))return Promise.resolve(void 0);this.startTime&&(this.recordedChunkDurations.push(new Date().getTime()-this.startTime),this.startTime=void 0);const s=new Promise(f=>{this.signalRecordingReady=f});return(c=this.mediaRecorder)==null||c.stop(),(d=this.amplitudeRecorder)==null||d.stop(),this.recordingState.next(wi.STOPPED),s},this.cancel=()=>{this.stop(),this.cleanUp()},this.t=r||MS,this.amplitudeRecorderConfig=ev({...t==null?void 0:t.amplitudeRecorderConfig},ZI),this.mediaRecorderConfig=ev({...t==null?void 0:t.mediaRecorderConfig},{mimeType:MediaRecorder.isTypeSupported("audio/webm")?K4.audio.others:K4.audio.safari}),this.transcoderConfig=ev({...t==null?void 0:t.transcoderConfig},BDe);const a=ite(this.mediaRecorderConfig.mimeType);if(!a)throw new Error(`Unsupported media type (supported audio or video only). Provided mimeType: ${this.mediaRecorderConfig.mimeType}`);this.mediaType=a,this.permission=new _De({mediaType:a}),this.customGenerateRecordingTitle=n}get durationMs(){return this.recordedChunkDurations.reduce((t,n)=>t+n,0)}}const HDe=()=>{var o;const e=to(),{recordingController:{completeRecording:t,recorder:n,recording:r,recordingState:a}}=e,i=((o=r==null?void 0:r.localMetadata)==null?void 0:o.uploadState)==="uploading",s=E.useMemo(()=>({paused:a===wi.PAUSED,recording:a===wi.RECORDING,stopped:a===wi.STOPPED}),[a]);return n?v.createElement("div",{className:"str-chat__audio_recorder-container"},v.createElement("div",{className:"str-chat__audio_recorder","data-testid":"audio-recorder"},v.createElement("button",{className:"str-chat__audio_recorder__cancel-button","data-testid":"cancel-recording-audio-button",disabled:i,onClick:n.cancel},v.createElement(cte,null)),s.stopped&&(r!=null&&r.asset_url)?v.createElement(pDe,{durationSeconds:r.duration??0,mimeType:r.mime_type,src:r.asset_url,waveformData:r.waveform_data}):s.paused||s.recording?v.createElement(yDe,null):null,s.paused&&v.createElement("button",{className:"str-chat__audio_recorder__resume-recording-button",onClick:n.resume},v.createElement(H5,null)),s.recording&&v.createElement("button",{className:"str-chat__audio_recorder__pause-recording-button","data-testid":"pause-recording-audio-button",onClick:n.pause},v.createElement(V5,null)),s.stopped?v.createElement("button",{className:"str-chat__audio_recorder__complete-button","data-testid":"audio-recorder-complete-button",disabled:i,onClick:t},i?v.createElement(cm,null):v.createElement(z5,null)):v.createElement("button",{className:"str-chat__audio_recorder__stop-button","data-testid":"audio-recorder-stop-button",onClick:n.stop},v.createElement(dte,null)))):null},VDe=e=>v.createElement("button",{"aria-label":"Start recording audio",className:"str-chat__start-recording-audio-button","data-testid":"start-recording-audio-button",...e},v.createElement(H5,null)),qDe=({attachment:e,handleRetry:t,removeAttachments:n})=>{var c,d,f;const{t:r}=Ge(),{audioRef:a,isPlaying:i,secondsElapsed:s,togglePlay:o}=lm({mimeType:e.mime_type});return v.createElement("div",{className:"str-chat__attachment-preview-voice-recording","data-testid":"attachment-preview-voice-recording"},v.createElement("audio",{ref:a},v.createElement("source",{"data-testid":"audio-source",src:e.asset_url,type:e.mime_type})),v.createElement(x1,{isPlaying:i,onClick:o}),v.createElement("button",{"aria-label":r("aria/Remove attachment"),className:"str-chat__attachment-preview-delete","data-testid":"file-preview-item-delete-button",disabled:((c=e.localMetadata)==null?void 0:c.uploadState)==="uploading",onClick:()=>{var h;return((h=e.localMetadata)==null?void 0:h.id)&&n([e.localMetadata.id])}},v.createElement(wf,null)),["blocked","failed"].includes((d=e.localMetadata)==null?void 0:d.uploadState)&&!!t&&v.createElement("button",{className:"str-chat__attachment-preview-error str-chat__attachment-preview-error-file","data-testid":"file-preview-item-retry-button",onClick:()=>t(e)},v.createElement(C1,null)),v.createElement("div",{className:"str-chat__attachment-preview-metadata"},v.createElement("div",{className:"str-chat__attachment-preview-file-name",title:e.title},e.title),typeof e.duration<"u"&&v.createElement(P2,{durationSeconds:s||e.duration}),((f=e.localMetadata)==null?void 0:f.uploadState)==="uploading"&&v.createElement(cm,{size:17})),v.createElement("div",{className:"str-chat__attachment-preview-file-icon"},v.createElement(Nu,{filename:e.title,mimeType:e.mime_type})))},Nx=({attachment:e,handleRetry:t,removeAttachments:n})=>{var i;const{t:r}=Ge("FilePreview"),a=(i=e.localMetadata)==null?void 0:i.uploadState;return v.createElement("div",{className:"str-chat__attachment-preview-file","data-testid":"attachment-preview-file"},v.createElement("div",{className:"str-chat__attachment-preview-file-icon"},v.createElement(Nu,{filename:e.title,mimeType:e.mime_type})),v.createElement("button",{"aria-label":r("aria/Remove attachment"),className:"str-chat__attachment-preview-delete","data-testid":"file-preview-item-delete-button",disabled:a==="uploading",onClick:()=>{var s,o;return((s=e.localMetadata)==null?void 0:s.id)&&n([(o=e.localMetadata)==null?void 0:o.id])}},v.createElement(wf,null)),["blocked","failed"].includes(a)&&!!t&&v.createElement("button",{className:"str-chat__attachment-preview-error str-chat__attachment-preview-error-file","data-testid":"file-preview-item-retry-button",onClick:()=>{t(e)}},v.createElement(C1,null)),v.createElement("div",{className:"str-chat__attachment-preview-file-end"},v.createElement("div",{className:"str-chat__attachment-preview-file-name",title:e.title},e.title),(typeof a>"u"||a==="finished")&&!!e.asset_url&&v.createElement("a",{"aria-label":r("aria/Download attachment"),className:"str-chat__attachment-preview-file-download",download:!0,href:e.asset_url,rel:"noreferrer",target:"_blank",title:r("Download attachment {{ name }}",{name:e.title})},v.createElement($5,null)),a==="uploading"&&v.createElement(cm,{size:17})))},YDe=({attachment:e,handleRetry:t,removeAttachments:n})=>{const{t:r}=Ge("ImagePreviewItem"),{BaseImage:a=I1}=xn(),[i,s]=E.useState(!1),{id:o,uploadState:c}=e.localMetadata??{},d=E.useCallback(()=>s(!0),[]),f=e.image_url||e.localMetadata.previewUri;return v.createElement("div",{className:Ue("str-chat__attachment-preview-image",{"str-chat__attachment-preview-image--error":i}),"data-testid":"attachment-preview-image"},v.createElement("button",{"aria-label":r("aria/Remove attachment"),className:"str-chat__attachment-preview-delete","data-testid":"image-preview-item-delete-button",disabled:c==="uploading",onClick:()=>o&&n([o])},v.createElement(wf,null)),["blocked","failed"].includes(c)&&v.createElement("button",{className:"str-chat__attachment-preview-error str-chat__attachment-preview-error-image","data-testid":"image-preview-item-retry-button",onClick:()=>t(e)},v.createElement(C1,null)),c==="uploading"&&v.createElement("div",{className:"str-chat__attachment-preview-image-loading"},v.createElement(cm,{size:17})),f&&v.createElement(a,{alt:e.fallback,className:"str-chat__attachment-preview-thumbnail",onError:d,src:f,title:e.fallback}))},WDe=()=>{const{pollComposer:e}=Mr(),[t,n]=E.useState(e.canCreatePoll);return E.useEffect(()=>e.state.subscribe(()=>{n(e.canCreatePoll)}),[e]),t},GDe=()=>{var f;const{client:e,latestMessageDatesByChannels:t}=Yt("useCooldownTimer"),{channel:n,messages:r=[]}=Zn("useCooldownTimer"),[a,i]=E.useState(),{cooldown:s=0,own_capabilities:o}=n.data||{},c=o==null?void 0:o.includes("skip-slow-mode"),d=E.useMemo(()=>{var h;return t[n.cid]??((h=[...r].sort((m,g)=>{var b,_;return((b=g.created_at)==null?void 0:b.getTime())-((_=m.created_at)==null?void 0:_.getTime())}).find(m=>{var g,b;return((g=m.user)==null?void 0:g.id)===((b=e.user)==null?void 0:b.id)}))==null?void 0:h.created_at)},[r,(f=e.user)==null?void 0:f.id,t,n.cid]);return E.useEffect(()=>{const h=d?Math.max(0,(new Date().getTime()-d.getTime())/1e3):void 0,m=!c&&typeof h<"u"&&s>h?Math.round(s-h):0;if(i(m),!m)return;const g=setTimeout(()=>{i(0)},m*1e3);return()=>{clearTimeout(g)}},[s,d,c]),{cooldownInterval:s,cooldownRemaining:a,setCooldownRemaining:i}},KDe=e=>{const{focus:t}=e,n=E.useRef(void 0);return E.useEffect(()=>{t&&n.current&&n.current.focus()},[t]),{textareaRef:n}},QDe=e=>{const t=e.textComposer.state.getLatestValue(),n=e.attachmentManager.state.getLatestValue(),r=e.linkPreviewsManager.state.getLatestValue(),a=e.pollComposer.state.getLatestValue(),i=e.customDataManager.state.getLatestValue(),s=e.state.getLatestValue();return()=>{e.state.next(s),e.textComposer.state.next(t),e.attachmentManager.state.next(n),e.linkPreviewsManager.state.next(r),e.pollComposer.state.next(a),e.customDataManager.state.next(i)}},ZDe=e=>{const{clearEditingState:t,overrideSubmitHandler:n}=e,{addNotification:r,editMessage:a,sendMessage:i}=Ya("useSubmitHandler"),{t:s}=Ge("useSubmitHandler"),o=Mr();return{handleSubmit:E.useCallback(async d=>{d==null||d.preventDefault();const f=await o.compose();if(!f||!f.message)return;const{localMessage:h,message:m,sendOptions:g}=f;if(o.editedMessage&&h.type!=="error")try{await a(h,g),t==null||t()}catch{r(s("Edit message request failed"),"error")}else{const b=QDe(o);try{!!m.poll_id?o.state.partialNext({id:hl.generateId(),pollId:null}):o.clear(),n?await n({cid:o.channel.cid,localMessage:h,message:m,sendOptions:g}):await i({localMessage:h,message:m,options:g}),o.config.text.publishTypingEvents&&await o.channel.stopTyping()}catch{b(),r(s("Send message request failed"),"error")}}},[r,t,a,o,n,i,s])}},XDe=()=>{const{attachmentManager:e,textComposer:t}=Mr();return{onPaste:E.useCallback(r=>{(async a=>{const{items:i}=a.clipboardData;a.preventDefault();let s;for(let c=0;c<i.length;c++){const d=i[c];if(d.kind==="string"&&d.type==="text/plain"){s=new Promise(f=>{d.getAsString(h=>{f(h)})});break}}const o=await tte(Array.from(i));if(s){const c=await s;t.insertText({text:c})}else e.uploadFiles(o)})(r)},[e,t])}},JDe=({asyncMessagesMultiSendEnabled:e,enabled:t,generateRecordingTitle:n,handleSubmit:r,recordingConfig:a})=>{const{t:i}=Ge("useMediaRecorder"),s=Mr(),[o,c]=E.useState(),[d,f]=E.useState(),[h,m]=E.useState(),[g,b]=E.useState(!1),_=E.useMemo(()=>t?new zDe({config:a??{},generateRecordingTitle:n,t:i}):void 0,[a,t,n,i]),w=E.useCallback(async()=>{if(!_)return;const x=await _.stop();x&&(await s.attachmentManager.uploadAttachment(x),e||b(!0),_.cleanUp())},[e,s,_]);return E.useEffect(()=>{g&&(r(),b(!1))},[r,g]),E.useEffect(()=>{if(!_)return;_.permission.watch();const x=_.recording.subscribe(c),k=_.recordingState.subscribe(f),R=_.permission.state.subscribe(m);return()=>{_.cancel(),_.permission.unwatch(),x.unsubscribe(),k.unsubscribe(),R.unsubscribe()}},[_]),{completeRecording:w,permissionState:h,recorder:_,recording:o,recordingState:d}},eSe=e=>{const{asyncMessagesMultiSendEnabled:t,audioRecordingConfig:n,audioRecordingEnabled:r}=e,{textareaRef:a}=KDe(e),{handleSubmit:i}=ZDe(e),s=JDe({asyncMessagesMultiSendEnabled:t,enabled:!!r,handleSubmit:i,recordingConfig:n}),{onPaste:o}=XDe();return{handleSubmit:i,onPaste:o,recordingController:s,textareaRef:a}},tSe=e=>e,XI=()=>{const e=Mr();return On(e.editingAuditState,tSe),e.hasSendableData},nSe=({AudioAttachmentPreview:e=Nx,FileAttachmentPreview:t=Nx,ImageAttachmentPreview:n=YDe,UnsupportedAttachmentPreview:r=fDe,VideoAttachmentPreview:a=Nx,VoiceRecordingPreview:i=qDe})=>{const s=Mr(),{attachments:o}=_m();return o.length?v.createElement("div",{className:"str-chat__attachment-preview-list"},v.createElement("div",{className:"str-chat__attachment-list-scroll-container","data-testid":"attachment-list-scroll-container"},o.map(c=>KD(c)?null:$W(c)?v.createElement(i,{attachment:c,handleRetry:s.attachmentManager.uploadAttachment,key:c.localMetadata.id||c.asset_url,removeAttachments:s.attachmentManager.removeAttachments}):BW(c)?v.createElement(e,{attachment:c,handleRetry:s.attachmentManager.uploadAttachment,key:c.localMetadata.id||c.asset_url,removeAttachments:s.attachmentManager.removeAttachments}):zW(c)?v.createElement(a,{attachment:c,handleRetry:s.attachmentManager.uploadAttachment,key:c.localMetadata.id||c.asset_url,removeAttachments:s.attachmentManager.removeAttachments}):fP(c)?v.createElement(n,{attachment:c,handleRetry:s.attachmentManager.uploadAttachment,key:c.localMetadata.id||c.image_url,removeAttachments:s.attachmentManager.removeAttachments}):UW(c)?v.createElement(t,{attachment:c,handleRetry:s.attachmentManager.uploadAttachment,key:c.localMetadata.id||c.asset_url,removeAttachments:s.attachmentManager.removeAttachments}):Ou(c)?v.createElement(r,{attachment:c,handleRetry:s.attachmentManager.uploadAttachment,key:c.localMetadata.id,removeAttachments:s.attachmentManager.removeAttachments}):null))):null},rSe=({startFrom:e})=>{const[t,n]=E.useState();return E.useEffect(()=>{let r;return typeof t=="number"&&t>0&&(r=setTimeout(()=>{n(t-1)},1e3)),()=>{clearTimeout(r)}},[t]),E.useEffect(()=>{n(e??0)},[e]),t},aSe=({cooldownInterval:e})=>{const t=rSe({startFrom:e});return v.createElement("div",{className:"str-chat__message-input-cooldown","data-testid":"cooldown-timer"},t)},iSe=({sendMessage:e,...t})=>{const n=XI();return v.createElement("button",{"aria-label":"Send",className:"str-chat__send-button","data-testid":"send-button",disabled:!n,onClick:e,type:"button",...t},v.createElement(z5,null))},sSe=({onClick:e,...t})=>{const{t:n}=Ge();return v.createElement("button",{"aria-label":n("aria/Stop AI Generation"),className:"str-chat__stop-ai-generation-button","data-testid":"stop-ai-generation-button",onClick:e,...t})},JI=e=>({quotedMessage:e.quotedMessage}),oSe=()=>{const{t:e}=Ge("QuotedMessagePreview"),t=Mr(),{quotedMessage:n}=On(t.state,JI);return n?v.createElement("div",{className:"str-chat__quoted-message-preview-header"},v.createElement("div",{className:"str-chat__quoted-message-reply-to-message"},e("Reply to Message")),v.createElement("button",{"aria-label":e("aria/Cancel Reply"),className:"str-chat__quoted-message-remove",onClick:()=>t.setQuotedMessage(null)},v.createElement(wf,null))):null},lSe=({renderText:e=R2})=>{const{client:t}=Yt(),{Attachment:n=H2,Avatar:r=zi}=xn(),{userLanguage:a}=Ge("QuotedMessagePreview"),i=Mr(),{quotedMessage:s}=On(i.state,JI),o=E.useMemo(()=>{var h;return((h=s==null?void 0:s.i18n)==null?void 0:h[`${a}_text`])||(s==null?void 0:s.text)},[s==null?void 0:s.i18n,s==null?void 0:s.text,a]),c=E.useMemo(()=>e(o,s==null?void 0:s.mentioned_users),[s,o,e]),d=E.useMemo(()=>{var h;return(h=s==null?void 0:s.attachments)!=null&&h.length?s.attachments.slice(0,1):[]},[s]),f=(s==null?void 0:s.poll_id)&&t.polls.fromState(s.poll_id);return!o&&!d.length&&!f?null:v.createElement("div",{className:"str-chat__quoted-message-preview","data-testid":"quoted-message-preview"},(s==null?void 0:s.user)&&v.createElement(r,{className:"str-chat__avatar--quoted-message-sender",image:s.user.image,name:s.user.name||s.user.id,user:s.user}),v.createElement("div",{className:"str-chat__quoted-message-bubble"},f?v.createElement(O2,{isQuoted:!0,poll:f}):v.createElement(v.Fragment,null,!!d.length&&v.createElement(n,{attachments:d,isQuoted:!0}),v.createElement("div",{className:"str-chat__quoted-message-text","data-testid":"quoted-message-text"},c))))},cSe=e=>({linkPreviews:Array.from(e.previews.values()).filter(t=>_c.previewIsLoaded(t)||_c.previewIsLoading(t))}),uSe=e=>({quotedMessage:e.quotedMessage}),dSe=()=>{const e=Mr(),{linkPreviewsManager:t}=e,{quotedMessage:n}=On(e.state,uSe),{linkPreviews:r}=On(t.state,cSe);return r.length>0&&!n?v.createElement("div",{className:"str-chat__link-preview-list"},r.map(i=>v.createElement(fSe,{key:i.og_scrape_url,linkPreview:i}))):null},fSe=({linkPreview:e})=>{const{linkPreviewsManager:t}=Mr(),{handleEnter:n,handleLeave:r,tooltipVisible:a}=U1(),[i,s]=E.useState(null);return!_c.previewIsLoaded(e)&&!_c.previewIsLoading(e)?null:v.createElement("div",{className:Ue("str-chat__link-preview-card",{"str-chat__link-preview-card--loading":_c.previewIsLoading(e)}),"data-testid":"link-preview-card"},v.createElement(zd,{offset:[0,5],referenceElement:i,visible:a},e.og_scrape_url),v.createElement("div",{className:"str-chat__link-preview-card__icon-container",onMouseEnter:n,onMouseLeave:r,ref:s},v.createElement(lte,null)),v.createElement("div",{className:"str-chat__link-preview-card__content"},v.createElement("div",{className:"str-chat__link-preview-card__content-title"},e.title),v.createElement("div",{className:"str-chat__link-preview-card__content-description"},e.text)),v.createElement("button",{className:"str-chat__link-preview-card__dismiss-button","data-testid":"link-preview-card-dismiss-btn",onClick:()=>t.dismissPreview(e.og_scrape_url),type:"button"},v.createElement(wf,null)))},hSe=e=>{const{entity:t}=e;return v.createElement("div",{className:"str-chat__slash-command"},v.createElement("span",{className:"str-chat__slash-command-header"},v.createElement("strong",null,t.name)," ",t.args),v.createElement("br",null),v.createElement("span",{className:"str-chat__slash-command-description"},t.description))},pSe=e=>{const{entity:t}=e;if(!Object.keys(t).length)return null;const{parts:r,token:a}=t.tokenizedDisplayName??{},i=()=>(r==null?void 0:r.map((s,o)=>s.toLowerCase()===a?v.createElement("span",{className:"str-chat__emoji-item--highlight",key:`part-${o}`},s):v.createElement("span",{className:"str-chat__emoji-item--part",key:`part-${o}`},s)))??null;return v.createElement("div",{className:"str-chat__emoji-item"},v.createElement("span",{className:"str-chat__emoji-item--entity"},t.native),v.createElement("span",{className:"str-chat__emoji-item--name"},i()))},mSe=v.forwardRef(function({className:t,component:n,focused:r,item:a,onMouseEnter:i},s){const{textComposer:o}=Mr(),c=E.useRef(null),d=E.useCallback(()=>{o.handleSelect(a)},[a,o]);return E.useLayoutEffect(()=>{var f;r&&((f=c.current)==null||f.scrollIntoView({behavior:"instant",block:"nearest"}))},[r,c]),v.createElement("li",{className:Ue("str-chat__suggestion-list-item",t,{"str-chat__suggestion-item--selected":r}),onMouseEnter:i,ref:c},v.createElement("button",{onClick:d,onKeyDown:f=>{f.key==="Enter"&&d()},ref:s},v.createElement(n,{entity:a,focused:r})))}),gSe=({Avatar:e=zi,entity:t})=>{if(!!!Object.keys(t).length)return null;const{parts:r,token:a}=t.tokenizedDisplayName,i=()=>r.map((s,o)=>{const c=s.toLowerCase()===a,d=s.replace(/^\s+|\s+$/g," ");return v.createElement("span",{className:Ue({"str-chat__emoji-item--highlight":c,"str-chat__emoji-item--part":!c}),key:`part-${o}`},d)});return v.createElement("div",{className:"str-chat__user-item"},v.createElement(e,{className:"str-chat__avatar--autocomplete-item",image:t.image,name:t.name||t.id}),v.createElement("span",{className:"str-chat__user-item--name","data-testid":"user-item-name"},i()),v.createElement("div",{className:"str-chat__user-item-at"},"@"))},ySe=e=>({suggestions:e.suggestions}),vSe=e=>({items:e.items??[]}),bSe={"/":e=>v.createElement(hSe,{entity:e.entity}),":":e=>v.createElement(pSe,{entity:e.entity}),"@":e=>v.createElement(gSe,{entity:e.entity})},_Se=({className:e,closeOnClickOutside:t=!0,containerClassName:n,focusedItemIndex:r,setFocusedItemIndex:a,suggestionItemComponents:i=bSe})=>{const{AutocompleteSuggestionItem:s=mSe}=xn(),o=Mr(),{textComposer:c}=o,{suggestions:d}=On(c.state,ySe),{items:f}=On(d==null?void 0:d.searchSource.state,vSe)??{},[h,m]=E.useState(null),g=d!=null&&d.trigger?i[d==null?void 0:d.trigger]:void 0;return E.useEffect(()=>{if(!t||!d||!h)return;const b=_=>{h.contains(_.target)||c.closeSuggestions()};return document.addEventListener("click",b),()=>{document.removeEventListener("click",b)}},[t,d,h,c]),!d||!(f!=null&&f.length)||!g?null:v.createElement("div",{className:Ue("str-chat__suggestion-list-container",n),ref:m},v.createElement(A2,{loadNextOnScrollToBottom:d.searchSource.search,threshold:100},v.createElement("ul",{className:Ue("str-chat__suggestion-list str-chat__suggestion-list--react",e)},f.map((b,_)=>v.createElement(s,{component:g,focused:r===_,item:b,key:b.id.toString(),onMouseEnter:()=>a==null?void 0:a(_)})))))};function hD(){return hD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hD.apply(null,arguments)}function wSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xSe=E.useLayoutEffect,CSe=function(t){var n=v.useRef(t);return xSe(function(){n.current=t}),n},Q4=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},DSe=function(t,n){var r=v.useRef();return v.useCallback(function(a){t.current=a,r.current&&Q4(r.current,null),r.current=n,n&&Q4(n,a)},[n])},Z4={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},SSe=function(t){Object.keys(Z4).forEach(function(n){t.style.setProperty(n,Z4[n],"important")})},X4=SSe,_i=null,J4=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function ESe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),_i||(_i=document.createElement("textarea"),_i.setAttribute("tabindex","-1"),_i.setAttribute("aria-hidden","true"),X4(_i)),_i.parentNode===null&&document.body.appendChild(_i);var a=e.paddingSize,i=e.borderSize,s=e.sizingStyle,o=s.boxSizing;Object.keys(s).forEach(function(m){var g=m;_i.style[g]=s[g]}),X4(_i),_i.value=t;var c=J4(_i,e);_i.value=t,c=J4(_i,e),_i.value="x";var d=_i.scrollHeight-a,f=d*n;o==="border-box"&&(f=f+a+i),c=Math.max(f,c);var h=d*r;return o==="border-box"&&(h=h+a+i),c=Math.min(h,c),[c,d]}var eL=function(){},MSe=function(t,n){return t.reduce(function(r,a){return r[a]=n[a],r},{})},TSe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],kSe=!!document.documentElement.currentStyle,RSe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=MSe(TSe,n),a=r.boxSizing;if(a==="")return null;kSe&&a==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var i=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),s=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:i,borderSize:s}},ASe=RSe;function F2(e,t,n){var r=CSe(n);E.useLayoutEffect(function(){var a=function(s){return r.current(s)};if(e)return e.addEventListener(t,a),function(){return e.removeEventListener(t,a)}},[])}var OSe=function(t,n){F2(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},LSe=function(t){F2(window,"resize",t)},NSe=function(t){F2(document.fonts,"loadingdone",t)},PSe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],ISe=function(t,n){var r=t.cacheMeasurements,a=t.maxRows,i=t.minRows,s=t.onChange,o=s===void 0?eL:s,c=t.onHeightChange,d=c===void 0?eL:c,f=wSe(t,PSe),h=f.value!==void 0,m=E.useRef(null),g=DSe(m,n),b=E.useRef(0),_=E.useRef(),w=function(){var R=m.current,I=r&&_.current?_.current:ASe(R);if(I){_.current=I;var O=ESe(I,R.value||R.placeholder||"x",i,a),A=O[0],L=O[1];b.current!==A&&(b.current=A,R.style.setProperty("height",A+"px","important"),d(A,{rowHeight:L}))}},x=function(R){h||w(),o(R)};return E.useLayoutEffect(w),OSe(m,function(){if(!h){var k=m.current.value;requestAnimationFrame(function(){var R=m.current;R&&k!==R.value&&w()})}}),LSe(w),NSe(w),E.createElement("textarea",hD({},f,{onChange:x,ref:g}))},FSe=E.forwardRef(ISe);const jSe=e=>({selection:e.selection,suggestions:e.suggestions,text:e.text}),USe=e=>({isLoadingItems:e.isLoading,items:e.items}),BSe=e=>({enabled:e.text.enabled}),$Se=e=>e.key==="Enter"&&!e.shiftKey&&!e.nativeEvent.isComposing,zSe=({className:e,closeSuggestionsOnClickOutside:t,containerClassName:n,listClassName:r,maxRows:a,minRows:i,onBlur:s,onChange:o,onKeyDown:c,onScroll:d,onSelect:f,placeholder:h,shouldSubmit:m,...g})=>{const{t:b}=Ge(),{AutocompleteSuggestionList:_=_Se}=xn(),{additionalTextareaProps:w,cooldownRemaining:x,handleSubmit:k,maxRows:R,minRows:I,onPaste:O,shouldSubmit:A,textareaRef:L}=to(),C=a??R??1,T=i??I,S=h??(w==null?void 0:w.placeholder),j=m??A??$Se,B=Mr(),{textComposer:H}=B,{selection:U,suggestions:z,text:F}=On(H.state,jSe),{enabled:V}=On(B.configState,BSe),{isLoadingItems:Y}=On(z==null?void 0:z.searchSource.state,USe)??{},q=E.useRef(null),[N,W]=E.useState(0),[K,$]=E.useState(!1),J=E.useCallback(ue=>{if(o){o(ue);return}L.current&&H.handleChange({selection:{end:L.current.selectionEnd,start:L.current.selectionStart},text:ue.target.value})},[o,H,L]),oe=E.useCallback(()=>{$(!1)},[]),fe=E.useCallback(()=>{$(!0)},[]),ye=E.useCallback(ue=>{var Me;if(c){c(ue);return}if(H.suggestions&&((Me=H.suggestions.searchSource.items)!=null&&Me.length)){if(ue.key==="Escape")return H.closeSuggestions();const Fe=H.suggestions.searchSource.items;ue.key==="Enter"&&(ue.preventDefault(),H.handleSelect(Fe[N])),ue.key==="ArrowUp"&&(ue.preventDefault(),W($e=>{let ze=$e-1;return z!=null&&z.searchSource.hasNext?ze=$e:ze<0&&(ze=Fe.length-1),ze})),ue.key==="ArrowDown"&&(ue.preventDefault(),W($e=>{let ze=$e+1;return z!=null&&z.searchSource.hasNext?ze=$e:ze>=Fe.length&&(ze=0),ze}))}else j(ue)&&L.current&&(k(),L.current.selectionEnd=0)},[N,k,c,j,z,H,L]),le=E.useCallback(ue=>{d?d(ue):H.closeSuggestions()},[d,H]),Ee=E.useMemo(()=>nf(ue=>{f==null||f(ue),H.setSelection({end:ue.target.selectionEnd,start:ue.target.selectionStart})},100,{leading:!1,trailing:!0}),[f,H]);return E.useEffect(()=>{L.current&&!K&&(L.current.selectionStart=U.start,L.current.selectionEnd=U.end)},[F,L,U.start,U.end,K]),E.useEffect(()=>{H.suggestions&&W(0)},[H.suggestions]),v.createElement("div",{className:Ue("rta","str-chat__textarea str-chat__message-textarea-react-host",n,{"rta--loading":Y}),ref:q},v.createElement(FSe,{...w,...g,"aria-label":x?b("Slow Mode ON"):S,className:Ue("rta__textarea","str-chat__textarea__textarea str-chat__message-textarea",e),"data-testid":"message-input",disabled:!V||!!x,maxRows:C,minRows:T,onBlur:s,onChange:J,onCompositionEnd:oe,onCompositionStart:fe,onKeyDown:ye,onPaste:O,onScroll:le,onSelect:Ee,placeholder:S||b("Type your message"),ref:ue=>{L.current=ue},value:F}),!K&&v.createElement(_,{className:r,closeOnClickOutside:t,focusedItemIndex:N,setFocusedItemIndex:W}))},U0={Generating:"AI_STATE_GENERATING",Idle:"AI_STATE_IDLE",Thinking:"AI_STATE_THINKING"},HSe=e=>{const[t,n]=E.useState(U0.Idle);return E.useEffect(()=>{if(!e)return;const r=e.on("ai_indicator.update",i=>{const{cid:s}=i,o=i.ai_state;e.cid===s&&n(o)}),a=e.on("ai_indicator.clear",i=>{const{cid:s}=i;e.cid===s&&n(U0.Idle)});return()=>{r.unsubscribe(),a.unsubscribe()}},[e]),{aiState:t}};var VSe=l5();const br=Or(VSe);function Bu(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(f){try{d(r.next(f))}catch(h){s(h)}}function c(f){try{d(r.throw(f))}catch(h){s(h)}}function d(f){f.done?i(f.value):a(f.value).then(o,c)}d((r=r.apply(e,t||[])).next())})}const qSe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function ff(e,t,n){const r=YSe(e),{webkitRelativePath:a}=e,i=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof r.path!="string"&&tL(r,"path",i),tL(r,"relativePath",i),r}function YSe(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),a=qSe.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function tL(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const WSe=[".DS_Store","Thumbs.db"];function GSe(e){return Bu(this,void 0,void 0,function*(){return B0(e)&&KSe(e.dataTransfer)?JSe(e.dataTransfer,e.type):QSe(e)?ZSe(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?XSe(e):[]})}function KSe(e){return B0(e)}function QSe(e){return B0(e)&&B0(e.target)}function B0(e){return typeof e=="object"&&e!==null}function ZSe(e){return pD(e.target.files).map(t=>ff(t))}function XSe(e){return Bu(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>ff(n))})}function JSe(e,t){return Bu(this,void 0,void 0,function*(){if(e.items){const n=pD(e.items).filter(a=>a.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(e2e));return nL(eF(r))}return nL(pD(e.files).map(n=>ff(n)))})}function nL(e){return e.filter(t=>WSe.indexOf(t.name)===-1)}function pD(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function e2e(e){if(typeof e.webkitGetAsEntry!="function")return rL(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?tF(t):rL(e,t)}function eF(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?eF(n):[n]],[])}function rL(e,t){return Bu(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const i=yield e.getAsFileSystemHandle();if(i===null)throw new Error(`${e} is not a File`);if(i!==void 0){const s=yield i.getFile();return s.handle=i,ff(s)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return ff(r,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function t2e(e){return Bu(this,void 0,void 0,function*(){return e.isDirectory?tF(e):n2e(e)})}function tF(e){const t=e.createReader();return new Promise((n,r)=>{const a=[];function i(){t.readEntries(s=>Bu(this,void 0,void 0,function*(){if(s.length){const o=Promise.all(s.map(t2e));a.push(o),i()}else try{const o=yield Promise.all(a);n(o)}catch(o){r(o)}}),s=>{r(s)})}i()})}function n2e(e){return Bu(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const a=ff(r,e.fullPath);t(a)},r=>{n(r)})})})}var ly={},aL;function r2e(){return aL||(aL=1,ly.__esModule=!0,ly.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",a=(e.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return n.some(function(s){var o=s.trim().toLowerCase();return o.charAt(0)==="."?r.toLowerCase().endsWith(o):o.endsWith("/*")?i===o.replace(/\/.*$/,""):a===o})}return!0}),ly}var a2e=r2e();const Px=Or(a2e);function iL(e){return o2e(e)||s2e(e)||rF(e)||i2e()}function i2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o2e(e){if(Array.isArray(e))return mD(e)}function sL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sL(Object(n),!0).forEach(function(r){nF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qp(e,t){return u2e(e)||c2e(e,t)||rF(e,t)||l2e()}function l2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rF(e,t){if(e){if(typeof e=="string")return mD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mD(e,t)}}function mD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,s,o;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(c){i=!0,o=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw o}}return r}}function u2e(e){if(Array.isArray(e))return e}var d2e=typeof Px=="function"?Px:Px.default,f2e="file-invalid-type",h2e="file-too-large",p2e="file-too-small",m2e="too-many-files",g2e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:f2e,message:"File type must be ".concat(r)}},lL=function(t){return{code:h2e,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},cL=function(t){return{code:p2e,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},y2e={code:m2e,message:"Too many files"};function aF(e,t){var n=e.type==="application/x-moz-file"||d2e(e,t);return[n,n?null:g2e(t)]}function iF(e,t,n){if(ru(e.size))if(ru(t)&&ru(n)){if(e.size>n)return[!1,lL(n)];if(e.size<t)return[!1,cL(t)]}else{if(ru(t)&&e.size<t)return[!1,cL(t)];if(ru(n)&&e.size>n)return[!1,lL(n)]}return[!0,null]}function ru(e){return e!=null}function v2e(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,i=e.multiple,s=e.maxFiles,o=e.validator;return!i&&t.length>1||i&&s>=1&&t.length>s?!1:t.every(function(c){var d=aF(c,n),f=qp(d,1),h=f[0],m=iF(c,r,a),g=qp(m,1),b=g[0],_=o?o(c):null;return h&&b&&!_})}function $0(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function cy(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function uL(e){e.preventDefault()}function b2e(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function _2e(e){return e.indexOf("Edge/")!==-1}function w2e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return b2e(e)||_2e(e)}function po(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return t.some(function(o){return!$0(r)&&o&&o.apply(void 0,[r].concat(i)),$0(r)})}}function x2e(){return"showOpenFilePicker"in window}function C2e(e){if(ru(e)){var t=Object.entries(e).filter(function(n){var r=qp(n,2),a=r[0],i=r[1],s=!0;return sF(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(i)||!i.every(oF))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var a=qp(r,2),i=a[0],s=a[1];return oL(oL({},n),{},nF({},i,s))},{});return[{description:"Files",accept:t}]}return e}function D2e(e){if(ru(e))return Object.entries(e).reduce(function(t,n){var r=qp(n,2),a=r[0],i=r[1];return[].concat(iL(t),[a],iL(i))},[]).filter(function(t){return sF(t)||oF(t)}).join(",")}function S2e(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function E2e(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function sF(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function oF(e){return/^.*\.[\w]+$/.test(e)}var M2e=["children"],T2e=["open"],k2e=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],R2e=["refKey","onChange","onClick"];function A2e(e){return N2e(e)||L2e(e)||lF(e)||O2e()}function O2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N2e(e){if(Array.isArray(e))return gD(e)}function Ix(e,t){return F2e(e)||I2e(e,t)||lF(e,t)||P2e()}function P2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lF(e,t){if(e){if(typeof e=="string")return gD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gD(e,t)}}function gD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,s,o;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(c){i=!0,o=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw o}}return r}}function F2e(e){if(Array.isArray(e))return e}function dL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dL(Object(n),!0).forEach(function(r){yD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z0(e,t){if(e==null)return{};var n=j2e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function j2e(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var j2=E.forwardRef(function(e,t){var n=e.children,r=z0(e,M2e),a=uF(r),i=a.open,s=z0(a,T2e);return E.useImperativeHandle(t,function(){return{open:i}},[i]),v.createElement(E.Fragment,null,n(Yr(Yr({},s),{},{open:i})))});j2.displayName="Dropzone";var cF={disabled:!1,getFilesFromEvent:GSe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};j2.defaultProps=cF;j2.propTypes={children:br.func,accept:br.objectOf(br.arrayOf(br.string)),multiple:br.bool,preventDropOnDocument:br.bool,noClick:br.bool,noKeyboard:br.bool,noDrag:br.bool,noDragEventsBubbling:br.bool,minSize:br.number,maxSize:br.number,maxFiles:br.number,disabled:br.bool,getFilesFromEvent:br.func,onFileDialogCancel:br.func,onFileDialogOpen:br.func,useFsAccessApi:br.bool,autoFocus:br.bool,onDragEnter:br.func,onDragLeave:br.func,onDragOver:br.func,onDrop:br.func,onDropAccepted:br.func,onDropRejected:br.func,onError:br.func,validator:br.func};var vD={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function uF(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Yr(Yr({},cF),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,i=t.maxSize,s=t.minSize,o=t.multiple,c=t.maxFiles,d=t.onDragEnter,f=t.onDragLeave,h=t.onDragOver,m=t.onDrop,g=t.onDropAccepted,b=t.onDropRejected,_=t.onFileDialogCancel,w=t.onFileDialogOpen,x=t.useFsAccessApi,k=t.autoFocus,R=t.preventDropOnDocument,I=t.noClick,O=t.noKeyboard,A=t.noDrag,L=t.noDragEventsBubbling,C=t.onError,T=t.validator,S=E.useMemo(function(){return D2e(n)},[n]),j=E.useMemo(function(){return C2e(n)},[n]),B=E.useMemo(function(){return typeof w=="function"?w:fL},[w]),H=E.useMemo(function(){return typeof _=="function"?_:fL},[_]),U=E.useRef(null),z=E.useRef(null),F=E.useReducer(U2e,vD),V=Ix(F,2),Y=V[0],q=V[1],N=Y.isFocused,W=Y.isFileDialogActive,K=E.useRef(typeof window<"u"&&window.isSecureContext&&x&&x2e()),$=function(){!K.current&&W&&setTimeout(function(){if(z.current){var Je=z.current.files;Je.length||(q({type:"closeDialog"}),H())}},300)};E.useEffect(function(){return window.addEventListener("focus",$,!1),function(){window.removeEventListener("focus",$,!1)}},[z,W,H,K]);var J=E.useRef([]),oe=function(Je){U.current&&U.current.contains(Je.target)||(Je.preventDefault(),J.current=[])};E.useEffect(function(){return R&&(document.addEventListener("dragover",uL,!1),document.addEventListener("drop",oe,!1)),function(){R&&(document.removeEventListener("dragover",uL),document.removeEventListener("drop",oe))}},[U,R]),E.useEffect(function(){return!r&&k&&U.current&&U.current.focus(),function(){}},[U,k,r]);var fe=E.useCallback(function(de){C?C(de):console.error(de)},[C]),ye=E.useCallback(function(de){de.preventDefault(),de.persist(),ut(de),J.current=[].concat(A2e(J.current),[de.target]),cy(de)&&Promise.resolve(a(de)).then(function(Je){if(!($0(de)&&!L)){var be=Je.length,ke=be>0&&v2e({files:Je,accept:S,minSize:s,maxSize:i,multiple:o,maxFiles:c,validator:T}),Pe=be>0&&!ke;q({isDragAccept:ke,isDragReject:Pe,isDragActive:!0,type:"setDraggedFiles"}),d&&d(de)}}).catch(function(Je){return fe(Je)})},[a,d,fe,L,S,s,i,o,c,T]),le=E.useCallback(function(de){de.preventDefault(),de.persist(),ut(de);var Je=cy(de);if(Je&&de.dataTransfer)try{de.dataTransfer.dropEffect="copy"}catch{}return Je&&h&&h(de),!1},[h,L]),Ee=E.useCallback(function(de){de.preventDefault(),de.persist(),ut(de);var Je=J.current.filter(function(ke){return U.current&&U.current.contains(ke)}),be=Je.indexOf(de.target);be!==-1&&Je.splice(be,1),J.current=Je,!(Je.length>0)&&(q({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),cy(de)&&f&&f(de))},[U,f,L]),ue=E.useCallback(function(de,Je){var be=[],ke=[];de.forEach(function(Pe){var rt=aF(Pe,S),at=Ix(rt,2),Jt=at[0],En=at[1],Ln=iF(Pe,s,i),Bn=Ix(Ln,2),en=Bn[0],dt=Bn[1],hn=T?T(Pe):null;if(Jt&&en&&!hn)be.push(Pe);else{var Re=[En,dt];hn&&(Re=Re.concat(hn)),ke.push({file:Pe,errors:Re.filter(function(it){return it})})}}),(!o&&be.length>1||o&&c>=1&&be.length>c)&&(be.forEach(function(Pe){ke.push({file:Pe,errors:[y2e]})}),be.splice(0)),q({acceptedFiles:be,fileRejections:ke,isDragReject:ke.length>0,type:"setFiles"}),m&&m(be,ke,Je),ke.length>0&&b&&b(ke,Je),be.length>0&&g&&g(be,Je)},[q,o,S,s,i,c,m,g,b,T]),Me=E.useCallback(function(de){de.preventDefault(),de.persist(),ut(de),J.current=[],cy(de)&&Promise.resolve(a(de)).then(function(Je){$0(de)&&!L||ue(Je,de)}).catch(function(Je){return fe(Je)}),q({type:"reset"})},[a,ue,fe,L]),Fe=E.useCallback(function(){if(K.current){q({type:"openDialog"}),B();var de={multiple:o,types:j};window.showOpenFilePicker(de).then(function(Je){return a(Je)}).then(function(Je){ue(Je,null),q({type:"closeDialog"})}).catch(function(Je){S2e(Je)?(H(Je),q({type:"closeDialog"})):E2e(Je)?(K.current=!1,z.current?(z.current.value=null,z.current.click()):fe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):fe(Je)});return}z.current&&(q({type:"openDialog"}),B(),z.current.value=null,z.current.click())},[q,B,H,x,ue,fe,j,o]),$e=E.useCallback(function(de){!U.current||!U.current.isEqualNode(de.target)||(de.key===" "||de.key==="Enter"||de.keyCode===32||de.keyCode===13)&&(de.preventDefault(),Fe())},[U,Fe]),ze=E.useCallback(function(){q({type:"focus"})},[]),Xe=E.useCallback(function(){q({type:"blur"})},[]),ot=E.useCallback(function(){I||(w2e()?setTimeout(Fe,0):Fe())},[I,Fe]),nt=function(Je){return r?null:Je},St=function(Je){return O?null:nt(Je)},Nt=function(Je){return A?null:nt(Je)},ut=function(Je){L&&Je.stopPropagation()},_t=E.useMemo(function(){return function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Je=de.refKey,be=Je===void 0?"ref":Je,ke=de.role,Pe=de.onKeyDown,rt=de.onFocus,at=de.onBlur,Jt=de.onClick,En=de.onDragEnter,Ln=de.onDragOver,Bn=de.onDragLeave,en=de.onDrop,dt=z0(de,k2e);return Yr(Yr(yD({onKeyDown:St(po(Pe,$e)),onFocus:St(po(rt,ze)),onBlur:St(po(at,Xe)),onClick:nt(po(Jt,ot)),onDragEnter:Nt(po(En,ye)),onDragOver:Nt(po(Ln,le)),onDragLeave:Nt(po(Bn,Ee)),onDrop:Nt(po(en,Me)),role:typeof ke=="string"&&ke!==""?ke:"presentation"},be,U),!r&&!O?{tabIndex:0}:{}),dt)}},[U,$e,ze,Xe,ot,ye,le,Ee,Me,O,A,r]),wt=E.useCallback(function(de){de.stopPropagation()},[]),st=E.useMemo(function(){return function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Je=de.refKey,be=Je===void 0?"ref":Je,ke=de.onChange,Pe=de.onClick,rt=z0(de,R2e),at=yD({accept:S,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:nt(po(ke,Me)),onClick:nt(po(Pe,wt)),tabIndex:-1},be,z);return Yr(Yr({},at),rt)}},[z,n,o,Me,r]);return Yr(Yr({},Y),{},{isFocused:N&&!r,getRootProps:_t,getInputProps:st,rootRef:U,inputRef:z,open:nt(Fe)})}function U2e(e,t){switch(t.type){case"focus":return Yr(Yr({},e),{},{isFocused:!0});case"blur":return Yr(Yr({},e),{},{isFocused:!1});case"openDialog":return Yr(Yr({},vD),{},{isFileDialogActive:!0});case"closeDialog":return Yr(Yr({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Yr(Yr({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Yr(Yr({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Yr({},vD);default:return e}}function fL(){}const dF=v.createContext({subscribeToDrop:null}),fF=()=>E.useContext(dF),B2e=()=>{const{subscribeToDrop:e}=fF(),t=Mr();E.useEffect(()=>e==null?void 0:e(t.attachmentManager.uploadFiles),[e,t])},$2e=e=>({acceptedFiles:e.attachments.acceptedFiles,multipleUploads:e.attachments.maxNumberOfFilesPerMessage>1}),z2e=({children:e,className:t,component:n="div",style:r})=>{const a=E.useRef(new Set),{t:i}=Ge(),s=to(),o=fF(),c=Mr(),{isUploadEnabled:d}=_m(),{acceptedFiles:f,multipleUploads:h}=On(c.configState,$2e),m=Object.keys(s).length>0,g=E.useMemo(()=>f.reduce((R,I)=>(R[I]??(R[I]=[]),R),{}),[f]),b=E.useCallback(R=>(a.current.add(R),()=>{a.current.delete(R)}),[]),_=E.useCallback(R=>{a.current.forEach(I=>I(R))},[]),{getRootProps:w,isDragActive:x,isDragReject:k}=uF({accept:g,disabled:m?!d||(s.cooldownRemaining??0)>0:!1,multiple:h,noClick:!0,onDrop:m?c.attachmentManager.uploadFiles:_});return o.subscribeToDrop!==null?v.createElement(n,{className:t},e):v.createElement(dF.Provider,{value:{subscribeToDrop:b}},v.createElement(n,{...w({className:t,style:r})},x&&v.createElement("div",{className:Ue("str-chat__dropzone-container",{"str-chat__dropzone-container--not-accepted":k})},!k&&v.createElement("p",null,i("Drag your files here")),k&&v.createElement("p",null,i("Some of the files will not be accepted"))),e))},U2=()=>{const{message:e}=jr(),{asyncMessagesMultiSendEnabled:t,cooldownRemaining:n,handleSubmit:r,hideSendButton:a,recordingController:i,setCooldownRemaining:s}=to(),{AttachmentPreviewList:o=nSe,AttachmentSelector:c=e?QI:dDe,AudioRecorder:d=HDe,CooldownTimer:f=aSe,EmojiPicker:h,LinkPreviewList:m=dSe,QuotedMessagePreview:g=lSe,RecordingPermissionDeniedNotification:b=hDe,SendButton:_=iSe,StartRecordingAudioButton:w=VDe,StopAIGenerationButton:x,TextareaComposer:k=zSe}=xn(),{channel:R}=Yt("MessageInputFlat"),{aiState:I}=HSe(R),O=E.useCallback(()=>R==null?void 0:R.stopAIResponse(),[R]),[A,L]=E.useState(!1),C=E.useCallback(()=>{L(!1)},[]),{attachments:T}=_m();if(i.recordingState)return v.createElement(d,null);const S=!!(i.recorder&&navigator.mediaDevices),j=!!i.recordingState,B=x===void 0?sSe:x,H=[U0.Thinking,U0.Generating].includes(I)&&!!B;return v.createElement(z2e,{className:"str-chat__message-input",component:"div"},S&&i.permissionState==="denied"&&A&&v.createElement(b,{onClose:C,permissionName:Hp.MIC}),v.createElement(m,null),v.createElement(oSe,null),v.createElement("div",{className:"str-chat__message-input-inner"},v.createElement(c,null),v.createElement("div",{className:"str-chat__message-textarea-container"},v.createElement(g,null),v.createElement(o,null),v.createElement("div",{className:"str-chat__message-textarea-with-emoji-picker"},v.createElement(k,null),h&&v.createElement(h,null))),H?v.createElement(B,{onClick:O}):!a&&v.createElement(v.Fragment,null,n?v.createElement(f,{cooldownInterval:n,setCooldownRemaining:s}):v.createElement(v.Fragment,null,v.createElement(_,{sendMessage:r}),S&&v.createElement(w,{disabled:j||!t&&T.some(U=>U.type===j0.VOICE_RECORDING),onClick:()=>{var U;(U=i.recorder)==null||U.start(),L(!0)}})))))},H2e=e=>{const{additionalTextareaProps:t,asyncMessagesMultiSendEnabled:n,audioRecordingEnabled:r,clearEditingState:a,cooldownInterval:i,cooldownRemaining:s,emojiSearchIndex:o,focus:c,handleSubmit:d,hideSendButton:f,isThreadInput:h,maxRows:m,minRows:g,onPaste:b,parent:_,recordingController:w,setCooldownRemaining:x,shouldSubmit:k,textareaRef:R}=e,I=_==null?void 0:_.id;return E.useMemo(()=>({additionalTextareaProps:t,asyncMessagesMultiSendEnabled:n,audioRecordingEnabled:r,clearEditingState:a,cooldownInterval:i,cooldownRemaining:s,emojiSearchIndex:o,focus:c,handleSubmit:d,hideSendButton:f,isThreadInput:h,maxRows:m,minRows:g,onPaste:b,parent:_,recordingController:w,setCooldownRemaining:x,shouldSubmit:k,textareaRef:R}),[n,r,i,s,o,d,f,h,g,I,w])},V2e=e=>{const t=GDe(),n=eSe(e),{emojiSearchIndex:r}=xn(),a=H2e({...t,...n,...e,emojiSearchIndex:e.emojiSearchIndex??r}),i=Mr();return E.useEffect(()=>()=>{i.createDraft()},[i]),E.useEffect(()=>{const s=i.threadId;!s||!i.channel||!i.compositionIsEmpty||i.channel.getDraft({parent_id:s}).then(({draft:o})=>{o&&i.initState({composition:o})})},[i]),B2e(),v.createElement(qJ,{value:a},e.children)},q2e=e=>{const{Input:t}=e,{Input:n}=xn(),r=H1(),a=t||n||U2,i=e.isThreadInput?`message-input-dialog-manager-thread-${r}`:`message-input-dialog-manager-${r}`;return v.createElement(ES,{id:i},v.createElement(V2e,{...e},v.createElement(a,null)))},B2=v.memo(q2e),Y2e=()=>{const{t:e}=Ge(),t=XI();return v.createElement("button",{className:"str-chat__edit-message-send","data-testid":"send-button-edit-form",disabled:!t,type:"submit"},e("Send"))},W2e=()=>{const{t:e}=Ge("EditMessageForm"),t=Mr(),{clearEditingState:n,handleSubmit:r}=to(),a=E.useCallback(()=>{n==null||n(),t.restore()},[n,t]);return E.useEffect(()=>{const i=s=>{s.key==="Escape"&&a()};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[a]),v.createElement("form",{autoComplete:"off",className:"str-chat__edit-message-form",onSubmit:r},v.createElement(U2,null),v.createElement("div",{className:"str-chat__edit-message-form-options"},v.createElement("button",{className:"str-chat__edit-message-cancel","data-testid":"cancel-button",onClick:a},e("Cancel")),v.createElement(Y2e,null)))},G2e=({additionalMessageInputProps:e})=>{const{EditMessageInput:t=W2e}=xn(),{clearEditingState:n}=jr(),r=Mr(),a=E.useCallback(()=>{n(),r.restore()},[n,r]);return v.createElement(Uu,{className:"str-chat__edit-message-modal",onClose:a,open:!0},v.createElement(B2,{clearEditingState:n,hideSendButton:!0,Input:t,...e}))},K2e=e=>({acceptedFiles:e.attachments.acceptedFiles,maxNumberOfFilesPerMessage:e.attachments.maxNumberOfFilesPerMessage}),Q2e=E.forwardRef(function({onFileChange:t,resetOnChange:n=!0,...r},a){const i=ete(n,t);return v.createElement("input",{onChange:i,ref:a,type:"file",...r})}),Z2e=Q2e,hF=E.forwardRef(function({className:t,onFileChange:n,...r},a){const{t:i}=Ge("UploadFileInput"),{cooldownRemaining:s}=to(),o=Mr(),{attachmentManager:c}=o,{isUploadEnabled:d}=_m(),{acceptedFiles:f,maxNumberOfFilesPerMessage:h}=On(o.configState,K2e),m=E.useMemo(()=>El(),[]),g=E.useCallback(b=>{c.uploadFiles(b),n==null||n(b)},[n,c]);return v.createElement(Z2e,{accept:f==null?void 0:f.join(","),"aria-label":i("aria/File upload"),"data-testid":"file-input",disabled:!d||!!s,id:m,multiple:h>1,...r,className:Ue("str-chat__file-input",t),onFileChange:g,ref:a})}),pF="str-chat__message-attachment__voice-recording-widget",X2e=({attachment:e,playbackRates:t})=>{const{t:n}=Ge("VoiceRecordingPlayer"),{asset_url:r,duration:a=0,mime_type:i,title:s=n("Voice message"),waveform_data:o}=e,{audioRef:c,increasePlaybackRate:d,isPlaying:f,playbackRate:h,progress:m,secondsElapsed:g,seek:b,togglePlay:_}=lm({durationSeconds:a??0,mimeType:i,playbackRates:t});if(!r)return null;const w=g||a;return v.createElement("div",{className:pF,"data-testid":"voice-recording-widget"},v.createElement("audio",{ref:c},v.createElement("source",{"data-testid":"audio-source",src:r,type:i})),v.createElement(x1,{isPlaying:f,onClick:_}),v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__metadata"},v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__title","data-testid":"voice-recording-title",title:s},s),v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__audio-state"},v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__timer"},e.duration?RS(w):v.createElement(w1,{fileSize:e.file_size,maximumFractionDigits:0})),v.createElement(j5,{progress:m,seek:b,waveformData:o||[]}))),v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__right-section"},f?v.createElement(bee,{disabled:!c.current,onClick:d},h.toFixed(1),"x"):v.createElement(Nu,{big:!0,mimeType:i,size:40})))},J2e=({attachment:e})=>{const{t}=Ge(),n=e.title||t("Voice message");return v.createElement("div",{className:pF,"data-testid":"quoted-voice-recording-widget"},v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__metadata"},n&&v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__title","data-testid":"voice-recording-title",title:n},n),v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__audio-state"},v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__timer"},e.duration?RS(e.duration):v.createElement(w1,{fileSize:e.file_size,maximumFractionDigits:0})))),v.createElement(Nu,{big:!0,mimeType:e.mime_type,size:34}))},eEe=({attachment:e,isQuoted:t})=>t?v.createElement(J2e,{attachment:e}):v.createElement(X2e,{attachment:e}),tEe=e=>{if(e!=null){const[t]=e.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/");return t}return null},nEe=({type:e})=>{const{t}=Ge("Card");return v.createElement("div",{className:Ue("str-chat__message-attachment-card",{[`str-chat__message-attachment-card--${e}`]:e})},v.createElement("div",{className:"str-chat__message-attachment-card--content"},v.createElement("div",{className:"str-chat__message-attachment-card--text"},t("this content could not be displayed"))))},mF=({author_name:e,url:t})=>v.createElement("div",{className:"str-chat__message-attachment-card--source-link","data-testid":"card-source-link"},v.createElement(N5,{className:"str-chat__message-attachment-card--url",href:t,rel:"noopener noreferrer",target:"_blank"},e||tEe(t))),rEe=e=>{const{asset_url:t,dimensions:n,image:r,image_url:a,thumb_url:i,title:s,type:o}=e;let c=null;return t&&o==="video"?c=v.createElement(u5,{className:"react-player",controls:!0,height:"100%",url:t,width:"100%"}):r&&(c=v.createElement(k8,{dimensions:n,fallback:s||r,image_url:a,thumb_url:i})),c?v.createElement("div",{className:"str-chat__message-attachment-card--header str-chat__message-attachment-card-react--header","data-testid":"card-header"},c):null},aEe=e=>{const{author_name:t,og_scrape_url:n,text:r,title:a,title_link:i,type:s}=e,o=i||n;return v.createElement("div",{className:"str-chat__message-attachment-card--content"},s==="audio"?v.createElement(iEe,{og:e}):v.createElement("div",{className:"str-chat__message-attachment-card--flex"},o&&v.createElement(mF,{author_name:t,url:o}),a&&v.createElement("div",{className:"str-chat__message-attachment-card--title"},a),r&&v.createElement("div",{className:"str-chat__message-attachment-card--text"},r)))},iEe=({og:{asset_url:e,author_name:t,mime_type:n,og_scrape_url:r,text:a,title:i,title_link:s}})=>{const{audioRef:o,isPlaying:c,progress:d,seek:f,togglePlay:h}=lm({mimeType:n}),m=s||r;return v.createElement("div",{className:"str-chat__message-attachment-card-audio-widget","data-testid":"card-audio-widget"},e&&v.createElement(v.Fragment,null,v.createElement("audio",{ref:o},v.createElement("source",{"data-testid":"audio-source",src:e,type:"audio/mp3"})),v.createElement("div",{className:"str-chat__message-attachment-card-audio-widget--first-row"},v.createElement("div",{className:"str-chat__message-attachment-audio-widget--play-controls"},v.createElement(x1,{isPlaying:c,onClick:h})),v.createElement(P5,{onClick:f,progress:d}))),v.createElement("div",{className:"str-chat__message-attachment-audio-widget--second-row"},m&&v.createElement(mF,{author_name:t,url:m}),i&&v.createElement("div",{className:"str-chat__message-attachment-audio-widget--title"},i),a&&v.createElement("div",{className:"str-chat__message-attachment-audio-widget--description"},a)))},sEe=e=>{const{asset_url:t,giphy:n,image_url:r,thumb_url:a,title:i,title_link:s,type:o}=e,{giphyVersion:c}=Zn("CardHeader");let d=a||r;const f={};if(o==="giphy"&&typeof n<"u"){const h=n[c];d=h.url,f.height=h.height,f.width=h.width}return!i&&!s&&!t&&!d?v.createElement(nEe,null):v.createElement("div",{className:`str-chat__message-attachment-card str-chat__message-attachment-card--${o}`},v.createElement(rEe,{...e,dimensions:f,image:d}),v.createElement(aEe,{...e}))},oEe=v.memo(sEe),lEe=({attachment:e})=>v.createElement("div",{className:"str-chat__message-attachment-file--item","data-testid":"attachment-file"},v.createElement(Nu,{className:"str-chat__file-icon",mimeType:e.mime_type}),v.createElement("div",{className:"str-chat__message-attachment-file--item-text"},v.createElement("div",{className:"str-chat__message-attachment-file--item-first-row"},v.createElement("div",{className:"str-chat__message-attachment-file--item-name","data-testid":"file-title"},e.title),v.createElement(kS,{assetUrl:e.asset_url})),v.createElement(w1,{fileSize:e.file_size}))),cEe=v.memo(lEe),uEe=({attachment:e})=>{const{t}=Ge("UnsupportedAttachment");return v.createElement("div",{className:"str-chat__message-attachment-unsupported","data-testid":"attachment-unsupported"},v.createElement(Nu,{className:"str-chat__file-icon"}),v.createElement("div",{className:"str-chat__message-attachment-unsupported__metadata"},v.createElement("div",{className:"str-chat__message-attachment-unsupported__title","data-testid":"unsupported-attachment-title"},e.title||t("Unsupported attachment"))))},Fo=({attachment:e,children:t,componentType:n})=>{var s;const r=xee(e);let a="";r||(a=n==="card"&&!(e!=null&&e.image_url)&&!(e!=null&&e.thumb_url)?"no-image":(s=e==null?void 0:e.actions)!=null&&s.length?"actions":"");const i=Ue("str-chat__message-attachment str-chat__message-attachment-dynamic-size",{[`str-chat__message-attachment--${n}`]:n,[`str-chat__message-attachment--${e==null?void 0:e.type}`]:e==null?void 0:e.type,[`str-chat__message-attachment--${n}--${a}`]:n&&a,"str-chat__message-attachment--svg-image":Cee(e),"str-chat__message-attachment-with-actions":a==="actions"});return v.createElement("div",{className:i},t)},$2=({actionHandler:e,attachment:t,AttachmentActions:n=fee})=>{var r,a;return(r=t.actions)!=null&&r.length?v.createElement(n,{...t,actionHandler:e,actions:t.actions,id:((a=t.localMetadata)==null?void 0:a.id)||"",text:t.text||""}):null};function z2(e){const t={"--original-height":1e6,"--original-width":1e6};if(SS(e,"url")){const n=new URL(e).searchParams,r=Number(n.get("oh")),a=Number(n.get("ow")),i=r>1?r:1e6,s=a>1?a:1e6;t["--original-width"]=s,t["--original-height"]=i}return t}const dEe=({attachment:e,Gallery:t=dce})=>{const n=E.useRef([]),{imageAttachmentSizeHandler:r}=Zn(),[a,i]=E.useState([]);E.useLayoutEffect(()=>{if(n.current&&n.current.every(o=>!!o)&&r){const o=[];n.current.forEach((c,d)=>{const f=r(e.images[d],c);o.push(f)}),i(o)}},[n,r,e]);const s=e.images.map((o,c)=>{var d,f,h;return{...o,previewUrl:((d=a[c])==null?void 0:d.url)||"about:blank",style:z2(((f=e.images[c])==null?void 0:f.image_url)||((h=e.images[c])==null?void 0:h.thumb_url)||"")}});return v.createElement(Fo,{attachment:e,componentType:"gallery"},v.createElement(t,{images:s||[],innerRefs:n,key:"gallery"}))},fEe=e=>{const{attachment:t,Image:n=k8}=e,r="image",a=E.useRef(null),{imageAttachmentSizeHandler:i}=Zn(),[s,o]=E.useState(void 0);E.useLayoutEffect(()=>{if(a.current&&i){const d=i(t,a.current);o(d)}},[a,i,t]);const c={...t,previewUrl:(s==null?void 0:s.url)||"about:blank",style:z2(t.image_url||t.thumb_url||"")};return t.actions&&t.actions.length?v.createElement(Fo,{attachment:t,componentType:r},v.createElement("div",{className:"str-chat__attachment"},v.createElement(n,{...c,innerRef:a}),v.createElement($2,{...e}))):v.createElement(Fo,{attachment:t,componentType:r},v.createElement(n,{...c,innerRef:a}))},hEe=e=>{const{attachment:t,Card:n=oEe}=e,r="card";return t.actions&&t.actions.length?v.createElement(Fo,{attachment:t,componentType:r},v.createElement("div",{className:"str-chat__attachment"},v.createElement(n,{...t}),v.createElement($2,{...e}))):v.createElement(Fo,{attachment:t,componentType:r},v.createElement(n,{...t}))},pEe=({attachment:e,File:t=cEe})=>e.asset_url?v.createElement(Fo,{attachment:e,componentType:"file"},v.createElement(t,{attachment:e})):null,mEe=({attachment:e,Audio:t=Lee})=>v.createElement(Fo,{attachment:e,componentType:"audio"},v.createElement("div",{className:"str-chat__attachment"},v.createElement(t,{og:e}))),gEe=({attachment:e,isQuoted:t,VoiceRecording:n=eEe})=>v.createElement(Fo,{attachment:e,componentType:"voiceRecording"},v.createElement("div",{className:"str-chat__attachment"},v.createElement(n,{attachment:e,isQuoted:t}))),yEe=e=>{var f;const{attachment:t,Media:n=u5}=e,r="media",{shouldGenerateVideoThumbnail:a,videoAttachmentSizeHandler:i}=Zn(),s=E.useRef(null),[o,c]=E.useState();E.useLayoutEffect(()=>{if(s.current&&i){const h=i(t,s.current,a);c(h)}},[s,i,t]);const d=v.createElement("div",{className:"str-chat__player-wrapper","data-testid":"video-wrapper",ref:s,style:z2(t.thumb_url||"")},v.createElement(n,{className:"react-player",config:{file:{attributes:{poster:o==null?void 0:o.thumbUrl}}},controls:!0,height:"100%",url:o==null?void 0:o.url,width:"100%"}));return(f=t.actions)!=null&&f.length?v.createElement(Fo,{attachment:t,componentType:r},v.createElement("div",{className:"str-chat__attachment"},d,v.createElement($2,{...e}))):v.createElement(Fo,{attachment:t,componentType:r},d)},vEe=({attachment:e,UnsupportedAttachment:t=uEe})=>v.createElement(v.Fragment,null,v.createElement(t,{attachment:e})),bEe={audio:mEe,card:hEe,file:pEe,media:yEe,unsupported:vEe,voiceRecording:gEe},_Ee=["card","gallery","image","media","audio","voiceRecording","file","unsupported"],H2=e=>{const{attachments:t}=e,n=E.useMemo(()=>wEe(e),[t]);return v.createElement("div",{className:"str-chat__attachment-list"},_Ee.reduce((r,a)=>[...r,...n[a]],[]))},wEe=({attachments:e,...t})=>{const n=e.filter(a=>bv(a)),r=e.filter(a=>!bv(a)).reduce((a,i)=>{const s=xEe(i),o=bEe[s];return a[s].push(v.createElement(o,{key:`${s}-${a[s].length}`,...t,attachment:i})),a},{audio:[],card:[],file:[],media:[],unsupported:[],image:[],gallery:[],voiceRecording:[]});return n.length>1?r.gallery=[v.createElement(dEe,{key:"gallery-container",...t,attachment:{images:n,type:"gallery"}})]:n.length===1&&(r.image=[v.createElement(fEe,{key:"image-container",...t,attachment:n[0]})]),r},xEe=e=>KD(e)?"card":JD(e,oA)?"media":ZD(e)?"audio":XD(e)?"voiceRecording":QD(e,oA)?"file":"unsupported";var Xh={exports:{}};Xh.exports;var hL;function CEe(){return hL||(hL=1,function(e,t){var n=200,r="__lodash_hash_undefined__",a=800,i=16,s=9007199254740991,o="[object Arguments]",c="[object Array]",d="[object AsyncFunction]",f="[object Boolean]",h="[object Date]",m="[object Error]",g="[object Function]",b="[object GeneratorFunction]",_="[object Map]",w="[object Number]",x="[object Null]",k="[object Object]",R="[object Proxy]",I="[object RegExp]",O="[object Set]",A="[object String]",L="[object Undefined]",C="[object WeakMap]",T="[object ArrayBuffer]",S="[object DataView]",j="[object Float32Array]",B="[object Float64Array]",H="[object Int8Array]",U="[object Int16Array]",z="[object Int32Array]",F="[object Uint8Array]",V="[object Uint8ClampedArray]",Y="[object Uint16Array]",q="[object Uint32Array]",N=/[\\^$.*+?()[\]{}|]/g,W=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,$={};$[j]=$[B]=$[H]=$[U]=$[z]=$[F]=$[V]=$[Y]=$[q]=!0,$[o]=$[c]=$[T]=$[f]=$[S]=$[h]=$[m]=$[g]=$[_]=$[w]=$[k]=$[I]=$[O]=$[A]=$[C]=!1;var J=typeof _r=="object"&&_r&&_r.Object===Object&&_r,oe=typeof self=="object"&&self&&self.Object===Object&&self,fe=J||oe||Function("return this")(),ye=t&&!t.nodeType&&t,le=ye&&!0&&e&&!e.nodeType&&e,Ee=le&&le.exports===ye,ue=Ee&&J.process,Me=function(){try{var Q=le&&le.require&&le.require("util").types;return Q||ue&&ue.binding&&ue.binding("util")}catch{}}(),Fe=Me&&Me.isTypedArray;function $e(Q,ne,ge){switch(ge.length){case 0:return Q.call(ne);case 1:return Q.call(ne,ge[0]);case 2:return Q.call(ne,ge[0],ge[1]);case 3:return Q.call(ne,ge[0],ge[1],ge[2])}return Q.apply(ne,ge)}function ze(Q,ne){for(var ge=-1,He=Array(Q);++ge<Q;)He[ge]=ne(ge);return He}function Xe(Q){return function(ne){return Q(ne)}}function ot(Q,ne){return Q==null?void 0:Q[ne]}function nt(Q,ne){return function(ge){return Q(ne(ge))}}var St=Array.prototype,Nt=Function.prototype,ut=Object.prototype,_t=fe["__core-js_shared__"],wt=Nt.toString,st=ut.hasOwnProperty,de=function(){var Q=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||"");return Q?"Symbol(src)_1."+Q:""}(),Je=ut.toString,be=wt.call(Object),ke=RegExp("^"+wt.call(st).replace(N,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=Ee?fe.Buffer:void 0,rt=fe.Symbol,at=fe.Uint8Array;Pe&&Pe.allocUnsafe;var Jt=nt(Object.getPrototypeOf,Object),En=Object.create,Ln=ut.propertyIsEnumerable,Bn=St.splice,en=rt?rt.toStringTag:void 0,dt=function(){try{var Q=Oa(Object,"defineProperty");return Q({},"",{}),Q}catch{}}(),hn=Pe?Pe.isBuffer:void 0,Re=Math.max,it=Date.now,kt=Oa(fe,"Map"),et=Oa(Object,"create"),Xt=function(){function Q(){}return function(ne){if(!Jr(ne))return{};if(En)return En(ne);Q.prototype=ne;var ge=new Q;return Q.prototype=void 0,ge}}();function bt(Q){var ne=-1,ge=Q==null?0:Q.length;for(this.clear();++ne<ge;){var He=Q[ne];this.set(He[0],He[1])}}function rn(){this.__data__=et?et(null):{},this.size=0}function pn(Q){var ne=this.has(Q)&&delete this.__data__[Q];return this.size-=ne?1:0,ne}function Gn(Q){var ne=this.__data__;if(et){var ge=ne[Q];return ge===r?void 0:ge}return st.call(ne,Q)?ne[Q]:void 0}function mn(Q){var ne=this.__data__;return et?ne[Q]!==void 0:st.call(ne,Q)}function $t(Q,ne){var ge=this.__data__;return this.size+=this.has(Q)?0:1,ge[Q]=et&&ne===void 0?r:ne,this}bt.prototype.clear=rn,bt.prototype.delete=pn,bt.prototype.get=Gn,bt.prototype.has=mn,bt.prototype.set=$t;function pt(Q){var ne=-1,ge=Q==null?0:Q.length;for(this.clear();++ne<ge;){var He=Q[ne];this.set(He[0],He[1])}}function Mn(){this.__data__=[],this.size=0}function nn(Q){var ne=this.__data__,ge=Tt(ne,Q);if(ge<0)return!1;var He=ne.length-1;return ge==He?ne.pop():Bn.call(ne,ge,1),--this.size,!0}function Fn(Q){var ne=this.__data__,ge=Tt(ne,Q);return ge<0?void 0:ne[ge][1]}function Br(Q){return Tt(this.__data__,Q)>-1}function fi(Q,ne){var ge=this.__data__,He=Tt(ge,Q);return He<0?(++this.size,ge.push([Q,ne])):ge[He][1]=ne,this}pt.prototype.clear=Mn,pt.prototype.delete=nn,pt.prototype.get=Fn,pt.prototype.has=Br,pt.prototype.set=fi;function ce(Q){var ne=-1,ge=Q==null?0:Q.length;for(this.clear();++ne<ge;){var He=Q[ne];this.set(He[0],He[1])}}function me(){this.size=0,this.__data__={hash:new bt,map:new(kt||pt),string:new bt}}function Se(Q){var ne=sr(this,Q).delete(Q);return this.size-=ne?1:0,ne}function Le(Q){return sr(this,Q).get(Q)}function lt(Q){return sr(this,Q).has(Q)}function Ut(Q,ne){var ge=sr(this,Q),He=ge.size;return ge.set(Q,ne),this.size+=ge.size==He?0:1,this}ce.prototype.clear=me,ce.prototype.delete=Se,ce.prototype.get=Le,ce.prototype.has=lt,ce.prototype.set=Ut;function Lt(Q){var ne=this.__data__=new pt(Q);this.size=ne.size}function te(){this.__data__=new pt,this.size=0}function re(Q){var ne=this.__data__,ge=ne.delete(Q);return this.size=ne.size,ge}function xe(Q){return this.__data__.get(Q)}function Qe(Q){return this.__data__.has(Q)}function qe(Q,ne){var ge=this.__data__;if(ge instanceof pt){var He=ge.__data__;if(!kt||He.length<n-1)return He.push([Q,ne]),this.size=++ge.size,this;ge=this.__data__=new ce(He)}return ge.set(Q,ne),this.size=ge.size,this}Lt.prototype.clear=te,Lt.prototype.delete=re,Lt.prototype.get=xe,Lt.prototype.has=Qe,Lt.prototype.set=qe;function Ve(Q,ne){var ge=Qa(Q),He=!ge&&Ka(Q),vt=!ge&&!He&&Za(Q),ht=!ge&&!He&&!vt&&ro(Q),Rt=ge||He||vt||ht,Ht=Rt?ze(Q.length,String):[],tn=Ht.length;for(var Lr in Q)Rt&&(Lr=="length"||vt&&(Lr=="offset"||Lr=="parent")||ht&&(Lr=="buffer"||Lr=="byteLength"||Lr=="byteOffset")||se(Lr,tn))||Ht.push(Lr);return Ht}function Et(Q,ne,ge){(ge!==void 0&&!mi(Q[ne],ge)||ge===void 0&&!(ne in Q))&&Wt(Q,ne,ge)}function Ot(Q,ne,ge){var He=Q[ne];(!(st.call(Q,ne)&&mi(He,ge))||ge===void 0&&!(ne in Q))&&Wt(Q,ne,ge)}function Tt(Q,ne){for(var ge=Q.length;ge--;)if(mi(Q[ge][0],ne))return ge;return-1}function Wt(Q,ne,ge){ne=="__proto__"&&dt?dt(Q,ne,{configurable:!0,enumerable:!0,value:ge,writable:!0}):Q[ne]=ge}var Ft=Qr();function Pt(Q){return Q==null?Q===void 0?L:x:en&&en in Object(Q)?Ga(Q):In(Q)}function zt(Q){return La(Q)&&Pt(Q)==o}function Gt(Q){if(!Jr(Q)||sn(Q))return!1;var ne=sa(Q)?ke:W;return ne.test(pi(Q))}function $n(Q){return La(Q)&&Xr(Q.length)&&!!$[Pt(Q)]}function Tr(Q){if(!Jr(Q))return It(Q);var ne=Pn(Q),ge=[];for(var He in Q)He=="constructor"&&(ne||!st.call(Q,He))||ge.push(He);return ge}function Kn(Q,ne,ge,He,vt){Q!==ne&&Ft(ne,function(ht,Rt){if(vt||(vt=new Lt),Jr(ht))Kr(Q,ne,Rt,ge,Kn,He,vt);else{var Ht=He?He(hr(Q,Rt),ht,Rt+"",Q,ne,vt):void 0;Ht===void 0&&(Ht=ht),Et(Q,Rt,Ht)}},cs)}function Kr(Q,ne,ge,He,vt,ht,Rt){var Ht=hr(Q,ge),tn=hr(ne,ge),Lr=Rt.get(tn);if(Lr){Et(Q,ge,Lr);return}var zr=ht?ht(Ht,tn,ge+"",Q,ne,Rt):void 0,yi=zr===void 0;if(yi){var ao=Qa(tn),Oc=!ao&&Za(tn),zu=!ao&&!Oc&&ro(tn);zr=tn,ao||Oc||zu?Qa(Ht)?zr=Ht:no(Ht)?zr=Ti(Ht):Oc?(yi=!1,zr=Nn(tn)):zu?(yi=!1,zr=Ra(tn)):zr=[]:gi(tn)||Ka(tn)?(zr=Ht,Ka(Ht)?zr=Is(Ht):(!Jr(Ht)||sa(Ht))&&(zr=Cr(tn))):yi=!1}yi&&(Rt.set(tn,zr),vt(zr,tn,He,ht,Rt),Rt.delete(tn)),Et(Q,ge,zr)}function xr(Q,ne){return $r(Zr(Q,ne,ee),Q+"")}var bn=dt?function(Q,ne){return dt(Q,"toString",{configurable:!0,enumerable:!1,value:js(ne),writable:!0})}:ee;function Nn(Q,ne){return Q.slice()}function kr(Q){var ne=new Q.constructor(Q.byteLength);return new at(ne).set(new at(Q)),ne}function Ra(Q,ne){var ge=kr(Q.buffer);return new Q.constructor(ge,Q.byteOffset,Q.length)}function Ti(Q,ne){var ge=-1,He=Q.length;for(ne||(ne=Array(He));++ge<He;)ne[ge]=Q[ge];return ne}function Aa(Q,ne,ge,He){var vt=!ge;ge||(ge={});for(var ht=-1,Rt=ne.length;++ht<Rt;){var Ht=ne[ht],tn=void 0;tn===void 0&&(tn=Q[Ht]),vt?Wt(ge,Ht,tn):Ot(ge,Ht,tn)}return ge}function hi(Q){return xr(function(ne,ge){var He=-1,vt=ge.length,ht=vt>1?ge[vt-1]:void 0,Rt=vt>2?ge[2]:void 0;for(ht=Q.length>3&&typeof ht=="function"?(vt--,ht):void 0,Rt&&mt(ge[0],ge[1],Rt)&&(ht=vt<3?void 0:ht,vt=1),ne=Object(ne);++He<vt;){var Ht=ge[He];Ht&&Q(ne,Ht,He,ht)}return ne})}function Qr(Q){return function(ne,ge,He){for(var vt=-1,ht=Object(ne),Rt=He(ne),Ht=Rt.length;Ht--;){var tn=Rt[++vt];if(ge(ht[tn],tn,ht)===!1)break}return ne}}function ja(Q,ne,ge,He,vt,ht){return Jr(Q)&&Jr(ne)&&(ht.set(ne,Q),Kn(Q,ne,void 0,ja,ht),ht.delete(ne)),Q}function sr(Q,ne){var ge=Q.__data__;return ft(ne)?ge[typeof ne=="string"?"string":"hash"]:ge.map}function Oa(Q,ne){var ge=ot(Q,ne);return Gt(ge)?ge:void 0}function Ga(Q){var ne=st.call(Q,en),ge=Q[en];try{Q[en]=void 0;var He=!0}catch{}var vt=Je.call(Q);return He&&(ne?Q[en]=ge:delete Q[en]),vt}function Cr(Q){return typeof Q.constructor=="function"&&!Pn(Q)?Xt(Jt(Q)):{}}function se(Q,ne){var ge=typeof Q;return ne=ne??s,!!ne&&(ge=="number"||ge!="symbol"&&K.test(Q))&&Q>-1&&Q%1==0&&Q<ne}function mt(Q,ne,ge){if(!Jr(ge))return!1;var He=typeof ne;return(He=="number"?Vi(ge)&&se(ne,ge.length):He=="string"&&ne in ge)?mi(ge[ne],Q):!1}function ft(Q){var ne=typeof Q;return ne=="string"||ne=="number"||ne=="symbol"||ne=="boolean"?Q!=="__proto__":Q===null}function sn(Q){return!!de&&de in Q}function Pn(Q){var ne=Q&&Q.constructor,ge=typeof ne=="function"&&ne.prototype||ut;return Q===ge}function It(Q){var ne=[];if(Q!=null)for(var ge in Object(Q))ne.push(ge);return ne}function In(Q){return Je.call(Q)}function Zr(Q,ne,ge){return ne=Re(ne===void 0?Q.length-1:ne,0),function(){for(var He=arguments,vt=-1,ht=Re(He.length-ne,0),Rt=Array(ht);++vt<ht;)Rt[vt]=He[ne+vt];vt=-1;for(var Ht=Array(ne+1);++vt<ne;)Ht[vt]=He[vt];return Ht[ne]=ge(Rt),$e(Q,this,Ht)}}function hr(Q,ne){if(!(ne==="constructor"&&typeof Q[ne]=="function")&&ne!="__proto__")return Q[ne]}var $r=Ua(bn);function Ua(Q){var ne=0,ge=0;return function(){var He=it(),vt=i-(He-ge);if(ge=He,vt>0){if(++ne>=a)return arguments[0]}else ne=0;return Q.apply(void 0,arguments)}}function pi(Q){if(Q!=null){try{return wt.call(Q)}catch{}try{return Q+""}catch{}}return""}function mi(Q,ne){return Q===ne||Q!==Q&&ne!==ne}var Ka=zt(function(){return arguments}())?zt:function(Q){return La(Q)&&st.call(Q,"callee")&&!Ln.call(Q,"callee")},Qa=Array.isArray;function Vi(Q){return Q!=null&&Xr(Q.length)&&!sa(Q)}function no(Q){return La(Q)&&Vi(Q)}var Za=hn||pe;function sa(Q){if(!Jr(Q))return!1;var ne=Pt(Q);return ne==g||ne==b||ne==d||ne==R}function Xr(Q){return typeof Q=="number"&&Q>-1&&Q%1==0&&Q<=s}function Jr(Q){var ne=typeof Q;return Q!=null&&(ne=="object"||ne=="function")}function La(Q){return Q!=null&&typeof Q=="object"}function gi(Q){if(!La(Q)||Pt(Q)!=k)return!1;var ne=Jt(Q);if(ne===null)return!0;var ge=st.call(ne,"constructor")&&ne.constructor;return typeof ge=="function"&&ge instanceof ge&&wt.call(ge)==be}var ro=Fe?Xe(Fe):$n;function Is(Q){return Aa(Q,cs(Q))}var Vo=xr(function(Q){return Q.push(void 0,ja),$e(Fs,void 0,Q)});function cs(Q){return Vi(Q)?Ve(Q):Tr(Q)}var Fs=hi(function(Q,ne,ge,He){Kn(Q,ne,ge,He)});function js(Q){return function(){return Q}}function ee(Q){return Q}function pe(){return!1}e.exports=Vo}(Xh,Xh.exports)),Xh.exports}var DEe=CEe();const SEe=Or(DEe),EEe=()=>(e,t)=>{var n;switch(t.type){case"closeThread":return{...e,thread:null,threadLoadingMore:!1,threadMessages:[]};case"copyMessagesFromChannel":{const{channel:r,parentId:a}=t;return{...e,messages:[...r.state.messages],pinnedMessages:[...r.state.pinnedMessages],suppressAutoscroll:!1,threadMessages:a?{...r.state.threads}[a]||[]:e.threadMessages}}case"copyStateFromChannelOnEvent":{const{channel:r}=t;return{...e,members:{...r.state.members},messages:[...r.state.messages],pinnedMessages:[...r.state.pinnedMessages],read:{...r.state.read},watcherCount:r.state.watcher_count,watchers:{...r.state.watchers}}}case"initStateFromChannel":{const{channel:r,hasMore:a}=t;return{...e,hasMore:a,loading:!1,members:{...r.state.members},messages:[...r.state.messages],pinnedMessages:[...r.state.pinnedMessages],read:{...r.state.read},watcherCount:r.state.watcher_count,watchers:{...r.state.watchers}}}case"jumpToLatestMessage":return{...e,hasMoreNewer:!1,highlightedMessageId:void 0,loading:!1,suppressAutoscroll:!1};case"jumpToMessageFinished":return{...e,hasMoreNewer:t.channel.state.messagePagination.hasNext,highlightedMessageId:t.highlightedMessageId,messages:t.channel.state.messages};case"clearHighlightedMessage":return{...e,highlightedMessageId:void 0};case"loadMoreFinished":{const{hasMore:r,messages:a}=t;return{...e,hasMore:r,loadingMore:!1,messages:a,suppressAutoscroll:!1}}case"loadMoreNewerFinished":{const{hasMoreNewer:r,messages:a}=t;return{...e,hasMoreNewer:r,loadingMoreNewer:!1,messages:a}}case"loadMoreThreadFinished":{const{threadHasMore:r,threadMessages:a}=t;return{...e,threadHasMore:r,threadLoadingMore:!1,threadMessages:a}}case"openThread":{const{channel:r,message:a}=t;return{...e,thread:a,threadHasMore:!0,threadMessages:a.id?{...r.state.threads}[a.id]||[]:[],threadSuppressAutoscroll:!1}}case"setError":{const{error:r}=t;return{...e,error:r}}case"setLoadingMore":{const{loadingMore:r}=t;return{...e,loadingMore:r,suppressAutoscroll:r}}case"setLoadingMoreNewer":{const{loadingMoreNewer:r}=t;return{...e,loadingMoreNewer:r}}case"setThread":{const{message:r}=t;return{...e,thread:r}}case"setTyping":{const{channel:r}=t;return{...e,typing:{...r.state.typing}}}case"startLoadingThread":return{...e,threadLoadingMore:!0,threadSuppressAutoscroll:!0};case"updateThreadOnEvent":{const{channel:r,message:a}=t;return e.thread?{...e,thread:(a==null?void 0:a.id)===e.thread.id?r.state.formatMessage(a):e.thread,threadMessages:(n=e.thread)!=null&&n.id?{...r.state.threads}[e.thread.id]||[]:[]}:e}default:return e}},MEe={error:null,hasMore:!0,hasMoreNewer:!1,loading:!0,loadingMore:!1,members:{},messages:[],pinnedMessages:[],read:{},suppressAutoscroll:!1,thread:null,threadHasMore:!0,threadLoadingMore:!1,threadMessages:[],threadSuppressAutoscroll:!1,typing:{},watcherCount:0,watchers:{}},TEe=e=>{var fe,ye;const{channel:t,channelCapabilitiesArray:n=[],channelConfig:r,channelUnreadUiState:a,error:i,giphyVersion:s,hasMore:o,hasMoreNewer:c,highlightedMessageId:d,imageAttachmentSizeHandler:f,loading:h,loadingMore:m,members:g,messages:b=[],mutes:_,notifications:w,pinnedMessages:x,read:k={},shouldGenerateVideoThumbnail:R,skipMessageDataMemoization:I,suppressAutoscroll:O,thread:A,threadHasMore:L,threadLoadingMore:C,threadMessages:T=[],videoAttachmentSizeHandler:S,watcher_count:j,watcherCount:B,watchers:H}=e,U=t.cid,z=t.initialized&&((fe=t.lastRead())==null?void 0:fe.getTime()),F=Object.keys(g||[]).length,V=w.length,Y=Object.values(k),q=Y.length,N=Y.map(({last_read:le})=>le.toISOString()).join(),W=T==null?void 0:T.length,K={};n.forEach(le=>{K[le]=!0});const $=I?b:b.map(({deleted_at:le,latest_reactions:Ee,pinned:ue,reply_count:Me,status:Fe,updated_at:$e,user:ze})=>`${le}${Ee?Ee.map(({type:Xe})=>Xe).join():""}${ue}${Me}${Fe}${$e&&(jC($e)||Ml($e))?$e.toISOString():$e||""}${ze==null?void 0:ze.updated_at}`).join(),J=T.map(({deleted_at:le,latest_reactions:Ee,pinned:ue,status:Me,updated_at:Fe,user:$e})=>`${le}${Ee?Ee.map(({type:ze})=>ze).join():""}${ue}${Me}${Fe&&(jC(Fe)||Ml(Fe))?Fe.toISOString():Fe||""}${$e==null?void 0:$e.updated_at}`).join();return E.useMemo(()=>({channel:t,channelCapabilities:K,channelConfig:r,channelUnreadUiState:a,error:i,giphyVersion:s,hasMore:o,hasMoreNewer:c,highlightedMessageId:d,imageAttachmentSizeHandler:f,loading:h,loadingMore:m,members:g,messages:b,mutes:_,notifications:w,pinnedMessages:x,read:k,shouldGenerateVideoThumbnail:R,suppressAutoscroll:O,thread:A,threadHasMore:L,threadLoadingMore:C,threadMessages:T,videoAttachmentSizeHandler:S,watcher_count:j,watcherCount:B,watchers:H}),[(ye=t.data)==null?void 0:ye.name,U,a,i,o,c,d,z,h,m,F,$,J,V,q,N,R,I,O,A,L,C,W,B])},kEe=e=>{const{typing:t}=e,n=Object.keys(t||{}).join();return E.useMemo(()=>({typing:t}),[n])},REe=e=>{const{channel:t,client:n}=Yt("useEditMessageHandler");return(r,a)=>e&&t?Promise.resolve(e(t.cid,r,a)):n.updateMessage(r,void 0,a)},AEe=()=>{const e=E.useRef(!1);return E.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e},OEe=(e,t)=>E.useCallback((n,r)=>{if(!e&&!t||!(n.target instanceof HTMLElement))return;const i=n.target.innerHTML.replace("*","");if(i[0]==="@"){const s=i.replace("@",""),o=r==null?void 0:r.find(({id:c,name:d})=>d===s||c===s);e&&typeof e=="function"&&n.type==="mouseover"&&e(n,o),t&&n.type==="click"&&typeof t=="function"&&t(n,o)}},[t,e]),LEe=()=>v.createElement("div",{className:"str-chat__loading-channel-message"},v.createElement("div",{className:"str-chat__loading-channel-message-avatar"}),v.createElement("div",{className:"str-chat__loading-channel-message-end"},v.createElement("div",{className:"str-chat__loading-channel-message-sender"}),v.createElement("div",{className:"str-chat__loading-channel-message-last-row"},v.createElement("div",{className:"str-chat__loading-channel-message-text"}),v.createElement("div",{className:"str-chat__loading-channel-message-date"})))),NEe=()=>v.createElement("div",{className:"str-chat__loading-channel-message-input-row"},v.createElement("div",{className:"str-chat__loading-channel-message-input"}),v.createElement("div",{className:"str-chat__loading-channel-message-send"})),PEe=()=>v.createElement("div",{className:"str-chat__loading-channel-header"},v.createElement("div",{className:"str-chat__loading-channel-header-avatar"}),v.createElement("div",{className:"str-chat__loading-channel-header-end"},v.createElement("div",{className:"str-chat__loading-channel-header-name"}),v.createElement("div",{className:"str-chat__loading-channel-header-info"}))),gF=()=>v.createElement("div",{className:"str-chat__loading-channel"},v.createElement(PEe,null),v.createElement("div",{className:"str-chat__loading-channel-message-list"},Array.from(Array(3)).map((e,t)=>v.createElement(LEe,{key:`loading-message-${t}`}))),v.createElement(NEe,null)),yF=()=>{const{useImageFlagEmojisOnWindows:e}=Yt("Channel");return e&&navigator.userAgent.match(/Win/)?"str-chat--windows-flags":""},vF=e=>e??"str-chat__container",IEe=({customClasses:e})=>{const t=yF();return{channelClass:(e==null?void 0:e.channel)??"str-chat__channel",chatClass:(e==null?void 0:e.chat)??"str-chat",chatContainerClass:vF(e==null?void 0:e.chatContainer),windowsEmojiClass:t}},FEe=(e,t)=>(n,r)=>{if(typeof n!="string"||r!=="success"&&r!=="error")return;const a=El();e(s=>[...s,{id:a,text:n,type:r}]);const i=setTimeout(()=>e(s=>s.filter(o=>o.id!==a)),5e3);t.push(i)},pL=(e,t)=>{for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.id===e)return{index:n,target:r}}return{index:-1}},mL=(e,t,n=!1)=>{var o,c;const r=e.getTime();let a=0,i=0,s=t.length-1;for(;a<=s;){i=Math.floor((s+a)/2);const d=new Date(t[i].created_at).getTime(),f=((o=t[i-1])==null?void 0:o.created_at)&&new Date(t[i-1].created_at).getTime(),h=((c=t[i+1])==null?void 0:c.created_at)&&new Date(t[i+1].created_at).getTime();if(d===r||f&&h&&f<r&&r<h)return{index:i,target:t[i]};d<r?a=i+1:s=i-1}return!n||new Date(t[a].created_at).getTime()===r?{index:a,target:t[a]}:{index:-1}},jEe=(e,t)=>{let n;const r=e.image_url||e.thumb_url||"";if(SS(r,"url")){const a=new URL(r),i=bF(a,t);i&&(i.height*=2,i.width*=2,_F(i,a)),n=a.href}return{url:n||""}},UEe=(e,t,n)=>{let r;if(e.thumb_url&&n&&SS(e.thumb_url,"url")){const a=new URL(e.thumb_url),i=bF(a,t);i&&(i.height*=2,i.width*=2,_F(i,a)),r=a.href}return{thumbUrl:r,url:e.asset_url||""}},bF=(e,t)=>{const n=e.searchParams,r=Number(n.get("oh"))||1,a=Number(n.get("ow"))||1,i=$Ee(t);let s;return(i.maxHeight||i.height)&&i.maxWidth?s=BEe(r,a,i.maxHeight||i.height,i.maxWidth):s=void 0,s},BEe=(e,t,n,r)=>({height:Math.round(Math.max(n,r/t*e)),width:Math.round(Math.max(n,r/e*t))}),$Ee=e=>{const t=getComputedStyle(e),n=Fx(t.getPropertyValue("height")),r=Fx(t.getPropertyValue("max-height")),a=Fx(t.getPropertyValue("max-width"));return(n||r)&&a||console.warn("Invalid value set for height/max-height and/or max-width for HTML element, this can cause scrolling issues inside the message list, more info https://getstream.io/chat/docs/sdk/react/message-components/attachment/#image-and-video-sizing"),{height:n,maxHeight:r,maxWidth:a}},Fx=e=>{if(!e.endsWith("px"))return;const t=parseFloat(e);return isNaN(t)?void 0:t},_F=(e,t)=>{t.searchParams.set("h",e.height.toString()),t.searchParams.set("w",e.width.toString())},zEe=e=>({focusedMessage:e.focusedMessage}),HEe=()=>{const{searchController:e}=Yt("Channel"),{focusedMessage:t}=On(e._internalState,zEe);return t},du=({children:e,className:t,...n})=>{const{customClasses:r,theme:a}=Yt("Channel"),{channelClass:i,chatClass:s}=IEe({customClasses:r}),o=Ue(s,a,i,t);return v.createElement("div",{id:GI,...n,className:o},e)},VEe=e=>{const{channel:t,EmptyPlaceholder:n=null,LoadingErrorIndicator:r,LoadingIndicator:a=gF}=e,{channel:i,channelsQueryState:s}=Yt("Channel"),o=t||i;return s.queryInProgress==="reload"&&a?v.createElement(du,null,v.createElement(a,null)):s.error&&r?v.createElement(du,null,v.createElement(r,{error:s.error})):o!=null&&o.cid?v.createElement(qEe,{...e,channel:o,key:o.cid}):v.createElement(du,null,n)},qEe=e=>{var hn;const{activeUnreadHandler:t,channel:n,channelQueryOptions:r,children:a,doDeleteMessageRequest:i,doMarkReadRequest:s,doSendMessageRequest:o,doUpdateMessageRequest:c,initializeOnMount:d=!0,LoadingErrorIndicator:f=ore,LoadingIndicator:h=gF,markReadOnMount:m=!0,onMentionsClick:g,onMentionsHover:b,skipMessageDataMemoization:_}=e,w=E.useMemo(()=>SEe(r,{messages:{limit:_6}}),[r]),{client:x,customClasses:k,latestMessageDatesByChannels:R,mutes:I,searchController:O}=Yt("Channel"),{t:A}=Ge("Channel"),L=vF(k==null?void 0:k.chatContainer),C=yF(),T=um(),[S,j]=E.useState(n.getConfig()),[B,H]=E.useState([]),U=E.useRef([]),[z,F]=E.useState(),V=E.useMemo(()=>EEe(),[]),[Y,q]=E.useReducer(V,{...MEe,hasMore:n.state.messagePagination.hasPrev,loading:!n.initialized}),N=HEe(),W=AEe(),K=E.useRef(""),$=E.useRef(void 0),J=E.useRef(!0),oe=E.useRef(null),fe=(hn=n.data)==null?void 0:hn.own_capabilities,ye=wc(()=>q({channel:n,type:"copyStateFromChannelOnEvent"}),500,{leading:!0,trailing:!0}),le=E.useMemo(()=>wc(F,200,{leading:!0,trailing:!1}),[]),Ee=E.useMemo(()=>wc(async Re=>{const{updateChannelUiUnreadState:it=!0}=Re??{};if(!(n.disconnected||!(S!=null&&S.read_events))){$.current=new Date;try{if(s)s(n,it?le:void 0);else{const kt=await n.markRead();it&&kt&&F({last_read:$.current,last_read_message_id:kt.event.last_read_message_id,unread_messages:0})}t?t(0,K.current):K.current&&(document.title=K.current)}catch{console.error(A("Failed to mark channel as read"))}}},500,{leading:!0,trailing:!1}),[t,n,S,s,le,A]),ue=async Re=>{var it,kt,et,Xt,bt,rn,pn,Gn,mn;if(Re.message&&q({channel:n,message:Re.message,type:"updateThreadOnEvent"}),!(Re.type==="user.watching.start"||Re.type==="user.watching.stop")){if(Re.type==="typing.start"||Re.type==="typing.stop")return q({channel:n,type:"setTyping"});if(Re.type==="connection.changed"&&typeof Re.online=="boolean"&&(J.current=Re.online),Re.type==="message.new"){if((!((it=Re.message)!=null&&it.parent_id)||((kt=Re.message)==null?void 0:kt.show_in_channel))&&document.hidden&&S!=null&&S.read_events&&!n.muteStatus().muted){const pt=n.countUnread($.current);t?t(pt,K.current):document.title=`(${pt}) ${K.current}`}if(((Xt=(et=Re.message)==null?void 0:et.user)==null?void 0:Xt.id)===x.userID&&((bt=Re==null?void 0:Re.message)!=null&&bt.created_at)&&((rn=Re==null?void 0:Re.message)!=null&&rn.cid)){const pt=new Date(Re.message.created_at),Mn=Re.message.cid;(!R[Mn]||R[Mn].getTime()<pt.getTime())&&(R[Mn]=pt)}}if(Re.type==="user.deleted"){const $t=(mn=(Gn=(pn=n.state)==null?void 0:pn.messages)==null?void 0:Gn[0])==null?void 0:mn.id;await n.query({messages:{id_lt:$t,limit:Nd},watchers:{limit:Nd}})}Re.type==="notification.mark_unread"&&F($t=>Re.last_read_at&&Re.user?{first_unread_message_id:Re.first_unread_message_id,last_read:new Date(Re.last_read_at),last_read_message_id:Re.last_read_message_id,unread_messages:Re.unread_messages??0}:$t),Re.type==="channel.truncated"&&Re.cid===n.cid&&F(void 0),ye()}};E.useLayoutEffect(()=>{let Re=!1,it=!1;(async()=>{var et,Xt;if(!n.initialized&&d)try{const bt=[];if(!n.id&&((et=n.data)!=null&&et.members))for(const pn of n.data.members){let Gn;if(typeof pn=="string")Gn=pn;else if(typeof pn=="object"){const{user:mn,user_id:$t}=pn;Gn=$t||(mn==null?void 0:mn.id)}Gn&&bt.push(Gn)}await Oy({channel:n,client:x,members:bt,options:w});const rn=n.getConfig();j(rn)}catch(bt){q({error:bt,type:"setError"}),Re=!0}if(it=!0,K.current=document.title,!Re){if(q({channel:n,hasMore:n.state.messagePagination.hasPrev,type:"initStateFromChannel"}),(Xt=x.user)!=null&&Xt.id&&n.state.read[x.user.id]){const{user:bt,...rn}=n.state.read[x.user.id];F(rn)}n.countUnread()>0&&m&&Ee({updateChannelUiUnreadState:!1}),x.on("connection.changed",ue),x.on("connection.recovered",ue),x.on("user.updated",ue),x.on("user.deleted",ue),n.on(ue)}})();const kt=U.current;return()=>{Re||!it||(n==null||n.off(ue),x.off("connection.changed",ue),x.off("connection.recovered",ue),x.off("user.deleted",ue),kt.forEach(clearTimeout))}},[n.cid,w,s,S==null?void 0:S.read_events,d]),E.useEffect(()=>{var it;if(!Y.thread)return;const Re=(it=Y.messages)==null?void 0:it.find(kt=>{var et;return kt.id===((et=Y.thread)==null?void 0:et.id)});Re&&q({message:Re,type:"setThread"})},[Y.messages,Y.thread]);const Me=E.useCallback(({highlightDuration:Re,highlightedMessageId:it})=>{q({channel:n,highlightedMessageId:it,type:"jumpToMessageFinished"}),oe.current&&clearTimeout(oe.current),oe.current=setTimeout(()=>{O._internalState.getLatestValue().focusedMessage&&O._internalState.partialNext({focusedMessage:void 0}),oe.current=null,q({type:"clearHighlightedMessage"})},Re??ux)},[n,O]);E.useEffect(()=>{N!=null&&N.id&&Me({highlightedMessageId:N.id})},[N,Me]);const Fe=E.useMemo(()=>FEe(H,U.current),[]),$e=E.useCallback(nf((Re,it)=>{W.current&&q({hasMore:Re,messages:it,type:"loadMoreFinished"})},2e3,{leading:!0,trailing:!0}),[]),ze=async(Re=Nd)=>{var bt;if(!J.current||!window.navigator.onLine||!n.state.messagePagination.hasPrev)return 0;const it=(bt=Y==null?void 0:Y.messages)==null?void 0:bt[0];if(Y.loadingMore||Y.loadingMoreNewer||(it==null?void 0:it.status)!=="received")return 0;q({loadingMore:!0,type:"setLoadingMore"});const kt=it==null?void 0:it.id,et=Re;let Xt;try{Xt=await n.query({messages:{id_lt:kt,limit:et},watchers:{limit:et}})}catch(rn){return console.warn("message pagination request failed with error",rn),q({loadingMore:!1,type:"setLoadingMore"}),0}return $e(n.state.messagePagination.hasPrev,n.state.messages),Xt.messages.length},Xe=async(Re=Nd)=>{var bt,rn;if(!J.current||!window.navigator.onLine||!n.state.messagePagination.hasNext)return 0;const it=(rn=Y==null?void 0:Y.messages)==null?void 0:rn[((bt=Y==null?void 0:Y.messages)==null?void 0:bt.length)-1];if(Y.loadingMore||Y.loadingMoreNewer)return 0;q({loadingMoreNewer:!0,type:"setLoadingMoreNewer"});const kt=it==null?void 0:it.id,et=Re;let Xt;try{Xt=await n.query({messages:{id_gt:kt,limit:et},watchers:{limit:et}})}catch(pn){return console.warn("message pagination request failed with error",pn),q({loadingMoreNewer:!1,type:"setLoadingMoreNewer"}),0}return q({hasMoreNewer:n.state.messagePagination.hasNext,messages:n.state.messages,type:"loadMoreNewerFinished"}),Xt.messages.length},ot=E.useCallback(async(Re,it=OA,kt=ux)=>{q({loadingMore:!0,type:"setLoadingMore"}),await n.state.loadMessageIntoState(Re,void 0,it),$e(n.state.messagePagination.hasPrev,n.state.messages),Me({highlightDuration:kt,highlightedMessageId:Re})},[n,Me,$e]),nt=E.useCallback(async()=>{await n.state.loadMessageIntoState("latest"),$e(n.state.messagePagination.hasPrev,n.state.messages),q({type:"jumpToLatestMessage"})},[n,$e]),St=E.useCallback(async(Re=OA,it=ux)=>{var bt,rn,pn,Gn;if(!(z!=null&&z.unread_messages))return;let kt=z==null?void 0:z.last_read_message_id,et=z==null?void 0:z.first_unread_message_id,Xt=!1;if(et)Xt=pL(et,n.state.messages).index!==-1;else if(kt){const mn=pL(kt,n.state.messages);Xt=!!mn.target,et=mn.index>-1?(bt=n.state.messages[mn.index+1])==null?void 0:bt.id:void 0}else{const mn=z.last_read.getTime(),{index:$t,target:pt}=mL(z.last_read,n.state.messages,!0);if(pt)et=(rn=n.state.messages[$t+1])==null?void 0:rn.id,Xt=!!et,kt=pt.id;else{q({loadingMore:!0,type:"setLoadingMore"});let Mn;try{Mn=(await n.query({messages:{created_at_around:z.last_read.toISOString(),limit:Re}},"new")).messages}catch{Fe(A("Failed to jump to the first unread message"),"error"),$e(n.state.messagePagination.hasPrev,n.state.messages);return}const nn=Mn.find(Br=>Br.created_at);if(!nn){Fe(A("Failed to jump to the first unread message"),"error"),$e(n.state.messagePagination.hasPrev,n.state.messages);return}const Fn=new Date(nn.created_at).getTime();mn<Fn?et=nn.id:kt=(pn=mL(z.last_read,Mn).target)==null?void 0:pn.id,$e(n.state.messagePagination.hasPrev,n.state.messages)}}if(!et&&!kt){Fe(A("Failed to jump to the first unread message"),"error");return}if(!Xt){q({loadingMore:!0,type:"setLoadingMore"});try{const mn=et??kt;await n.state.loadMessageIntoState(mn,void 0,Re);const $t=n.state.messages.findIndex(pt=>pt.id===mn);$e(n.state.messagePagination.hasPrev,n.state.messages),et=et??((Gn=n.state.messages[$t+1])==null?void 0:Gn.id)}catch{Fe(A("Failed to jump to the first unread message"),"error"),$e(n.state.messagePagination.hasPrev,n.state.messages);return}}if(!et){Fe(A("Failed to jump to the first unread message"),"error");return}z.first_unread_message_id||F({...z,first_unread_message_id:et,last_read_message_id:kt}),Me({highlightDuration:it,highlightedMessageId:et})},[Fe,n,Me,$e,A,z]),Nt=E.useCallback(async Re=>{if(!(Re!=null&&Re.id))throw new Error("Cannot delete a message - missing message ID.");let it;return i?it=await i(Re):it=(await x.deleteMessage(Re.id)).message,it},[x,i]),ut=Re=>{n.state.addMessageSorted(Re,!0),q({channel:n,parentId:Y.thread&&Re.parent_id,type:"copyMessagesFromChannel"})},_t=async({localMessage:Re,message:it,options:kt})=>{var et,Xt;try{let bt;o?bt=await o(n,it,kt):bt=await n.sendMessage(it,kt);let rn;for(let $t=n.state.messages.length-1;$t>=0;$t--){const pt=n.state.messages[$t];if(pt.id&&pt.id===it.id){rn=pt;break}}const pn=new Date(((et=bt==null?void 0:bt.message)==null?void 0:et.updated_at)||0).getTime(),Gn=((Xt=rn==null?void 0:rn.updated_at)==null?void 0:Xt.getTime())||0,mn=pn>Gn;bt!=null&&bt.message&&(mn||(rn==null?void 0:rn.status)==="sending")&&ut({...bt.message,status:"received"})}catch(bt){const rn=JSON.stringify(bt),pn=rn?JSON.parse(rn):{};pn.code===4&&bt instanceof Error&&bt.message.includes("already exists")?ut({...Re,status:"received"}):(ut({...Re,error:pn,status:"failed"}),T==null||T.upsertReplyLocally({message:{...Re,error:pn,status:"failed"}}))}},wt=async({localMessage:Re,message:it,options:kt})=>{n.state.filterErrorMessages(),T==null||T.upsertReplyLocally({message:Re}),ut(Re),await _t({localMessage:Re,message:it,options:kt})},st=async Re=>{ut({...Re,error:void 0,status:"sending"}),await _t({localMessage:Re,message:MW(Re)})},de=Re=>{n.state.removeMessage(Re),q({channel:n,parentId:Y.thread&&Re.parent_id,type:"copyMessagesFromChannel"})},Je=(Re,it)=>{it==null||it.preventDefault(),q({channel:n,message:Re,type:"openThread"})},be=Re=>{Re==null||Re.preventDefault(),q({type:"closeThread"})},ke=E.useCallback(nf((Re,it)=>{q({threadHasMore:Re,threadMessages:it,type:"loadMoreThreadFinished"})},2e3,{leading:!0,trailing:!0}),[]),Pe=async(Re=Fne)=>{var Xt;if(Y.threadLoadingMore||!Y.thread||!Y.threadHasMore)return;q({type:"startLoadingThread"});const it=Y.thread.id;if(!it)return q({type:"closeThread"});const kt=n.state.threads[it]||[],et=(Xt=kt[0])==null?void 0:Xt.id;try{const bt=await n.getReplies(it,{id_lt:et,limit:Re}),rn=oCe(bt.messages.length,Re),pn=n.state.threads[it]||[];ke(rn,pn)}catch{ke(!1,kt)}},rt=OEe(b,g),at=REe(c),{typing:Jt,...En}=Y,Ln=TEe({...En,channel:n,channelCapabilitiesArray:fe,channelConfig:S,channelUnreadUiState:z,giphyVersion:e.giphyVersion||"fixed_height",imageAttachmentSizeHandler:e.imageAttachmentSizeHandler||jEe,mutes:I,notifications:B,shouldGenerateVideoThumbnail:e.shouldGenerateVideoThumbnail||!0,videoAttachmentSizeHandler:e.videoAttachmentSizeHandler||UEe,watcher_count:Y.watcherCount}),Bn=E.useMemo(()=>({addNotification:Fe,closeThread:be,deleteMessage:Nt,dispatch:q,editMessage:at,jumpToFirstUnreadMessage:St,jumpToLatestMessage:nt,jumpToMessage:ot,loadMore:ze,loadMoreNewer:Xe,loadMoreThread:Pe,markRead:Ee,onMentionsClick:rt,onMentionsHover:rt,openThread:Je,removeMessage:de,retrySendMessage:st,sendMessage:wt,setChannelUnreadUiState:le,skipMessageDataMemoization:_,updateMessage:ut}),[n.cid,Nt,ze,Xe,Ee,St,ot,nt,le]),en=E.useMemo(()=>({Attachment:e.Attachment,AttachmentPreviewList:e.AttachmentPreviewList,AttachmentSelector:e.AttachmentSelector,AttachmentSelectorInitiationButtonContents:e.AttachmentSelectorInitiationButtonContents,AudioRecorder:e.AudioRecorder,AutocompleteSuggestionItem:e.AutocompleteSuggestionItem,AutocompleteSuggestionList:e.AutocompleteSuggestionList,Avatar:e.Avatar,BaseImage:e.BaseImage,CooldownTimer:e.CooldownTimer,CustomMessageActionsList:e.CustomMessageActionsList,DateSeparator:e.DateSeparator,EditMessageInput:e.EditMessageInput,EmojiPicker:e.EmojiPicker,emojiSearchIndex:e.emojiSearchIndex,EmptyStateIndicator:e.EmptyStateIndicator,FileUploadIcon:e.FileUploadIcon,GiphyPreviewMessage:e.GiphyPreviewMessage,HeaderComponent:e.HeaderComponent,Input:e.Input,LinkPreviewList:e.LinkPreviewList,LoadingIndicator:e.LoadingIndicator,Message:e.Message,MessageActions:e.MessageActions,MessageBlocked:e.MessageBlocked,MessageBouncePrompt:e.MessageBouncePrompt,MessageDeleted:e.MessageDeleted,MessageListNotifications:e.MessageListNotifications,MessageNotification:e.MessageNotification,MessageOptions:e.MessageOptions,MessageRepliesCountButton:e.MessageRepliesCountButton,MessageStatus:e.MessageStatus,MessageSystem:e.MessageSystem,MessageTimestamp:e.MessageTimestamp,ModalGallery:e.ModalGallery,PinIndicator:e.PinIndicator,PollActions:e.PollActions,PollContent:e.PollContent,PollCreationDialog:e.PollCreationDialog,PollHeader:e.PollHeader,PollOptionSelector:e.PollOptionSelector,QuotedMessage:e.QuotedMessage,QuotedMessagePreview:e.QuotedMessagePreview,QuotedPoll:e.QuotedPoll,reactionOptions:e.reactionOptions,ReactionSelector:e.ReactionSelector,ReactionsList:e.ReactionsList,ReactionsListModal:e.ReactionsListModal,SendButton:e.SendButton,StartRecordingAudioButton:e.StartRecordingAudioButton,StopAIGenerationButton:e.StopAIGenerationButton,StreamedMessageText:e.StreamedMessageText,TextareaComposer:e.TextareaComposer,ThreadHead:e.ThreadHead,ThreadHeader:e.ThreadHeader,ThreadStart:e.ThreadStart,Timestamp:e.Timestamp,TypingIndicator:e.TypingIndicator,UnreadMessagesNotification:e.UnreadMessagesNotification,UnreadMessagesSeparator:e.UnreadMessagesSeparator,VirtualMessage:e.VirtualMessage}),[e.Attachment,e.AttachmentPreviewList,e.AttachmentSelector,e.AttachmentSelectorInitiationButtonContents,e.AudioRecorder,e.AutocompleteSuggestionItem,e.AutocompleteSuggestionList,e.Avatar,e.BaseImage,e.CooldownTimer,e.CustomMessageActionsList,e.DateSeparator,e.EditMessageInput,e.EmojiPicker,e.emojiSearchIndex,e.EmptyStateIndicator,e.FileUploadIcon,e.GiphyPreviewMessage,e.HeaderComponent,e.Input,e.LinkPreviewList,e.LoadingIndicator,e.Message,e.MessageActions,e.MessageBlocked,e.MessageBouncePrompt,e.MessageDeleted,e.MessageListNotifications,e.MessageNotification,e.MessageOptions,e.MessageRepliesCountButton,e.MessageStatus,e.MessageSystem,e.MessageTimestamp,e.ModalGallery,e.PinIndicator,e.PollActions,e.PollContent,e.PollCreationDialog,e.PollHeader,e.PollOptionSelector,e.QuotedMessage,e.QuotedMessagePreview,e.QuotedPoll,e.reactionOptions,e.ReactionSelector,e.ReactionsList,e.ReactionsListModal,e.SendButton,e.StartRecordingAudioButton,e.StopAIGenerationButton,e.StreamedMessageText,e.TextareaComposer,e.ThreadHead,e.ThreadHeader,e.ThreadStart,e.Timestamp,e.TypingIndicator,e.UnreadMessagesNotification,e.UnreadMessagesSeparator,e.VirtualMessage]),dt=kEe({typing:Jt});return Y.error?v.createElement(du,null,v.createElement(f,{error:Y.error})):Y.loading?v.createElement(du,null,v.createElement(h,null)):n.watch?v.createElement(du,{className:C},v.createElement(OJ,{value:Ln},v.createElement(kJ,{value:Bn},v.createElement(uee,{overrides:en},v.createElement(lee,{value:dt},v.createElement("div",{className:Ue(L)},a)))))):v.createElement(du,null,v.createElement("div",null,A("Channel Missing")))},YEe=v.memo(VEe),WEe=({client:e,defaultLanguage:t="en",i18nInstance:n,initialNavOpen:r})=>{var I,O;const[a,i]=E.useState({t:A=>A,tDateTimeParser:A5,userLanguage:"en"}),[s,o]=E.useState(),[c,d]=E.useState([]),[f,h]=E.useState(r),[m,g]=E.useState({}),b=((I=e.user)==null?void 0:I.mutes)??[],_=()=>h(!1),w=()=>setTimeout(()=>h(!0),100),x=E.useRef(null),k=()=>(x.current||(x.current=e.getAppSettings()),x.current);E.useEffect(()=>{if(!e)return;const A="13.0.4",L=e.getUserAgent();return L.includes("stream-chat-react")||e.setUserAgent(`stream-chat-react-${A}-${L}`),e.threads.registerSubscriptions(),e.polls.registerSubscriptions(),()=>{e.threads.unregisterSubscriptions(),e.polls.unregisterSubscriptions()}},[e]),E.useEffect(()=>{d(b);const A=L=>{var C;d(((C=L.me)==null?void 0:C.mutes)||[])};return e.on("notification.mutes_updated",A),()=>e.off("notification.mutes_updated",A)},[b==null?void 0:b.length]),E.useEffect(()=>{var C;let A=(C=e.user)==null?void 0:C.language;if(!A){const T=window.navigator.language.slice(0,2);A=see(T)?T:t}const L=n||new rCe({language:A});L.registerSetLanguageCallback(T=>i(S=>({...S,t:T}))),L.getTranslators().then(T=>{i({...T,userLanguage:A||t})})},[n]);const R=E.useCallback(async(A,L={},C)=>{C&&C.preventDefault&&C.preventDefault(),A&&Object.keys(L).length&&await A.query({watch:!0,watchers:L}),o(A),_()},[]);return E.useEffect(()=>{g({})},[(O=e.user)==null?void 0:O.id]),{channel:s,closeMobileNav:_,getAppSettings:k,latestMessageDatesByChannels:m,mutes:c,navOpen:f,openMobileNav:w,setActiveChannel:R,translators:a}},GEe=e=>{var A;const{channel:t,channelsQueryState:n,client:r,closeMobileNav:a,customClasses:i,getAppSettings:s,isMessageAIGenerated:o,latestMessageDatesByChannels:c,mutes:d,navOpen:f,openMobileNav:h,searchController:m,setActiveChannel:g,theme:b,useImageFlagEmojisOnWindows:_}=e,w=t==null?void 0:t.cid,x=n.error,k=n.queryInProgress,R=`${r.clientID}${Object.keys(r.activeChannels).length}${Object.keys(r.listeners).length}${r.mutedChannels.length}
  ${(A=r.user)==null?void 0:A.id}`,I=d.length;return E.useMemo(()=>({channel:t,channelsQueryState:n,client:r,closeMobileNav:a,customClasses:i,getAppSettings:s,isMessageAIGenerated:o,latestMessageDatesByChannels:c,mutes:d,navOpen:f,openMobileNav:h,searchController:m,setActiveChannel:g,theme:b,useImageFlagEmojisOnWindows:_}),[w,x,k,R,s,m,I,f,o])},KEe=()=>{const[e,t]=E.useState(null),[n,r]=E.useState("uninitialized");return{error:e,queryInProgress:n,setError:t,setQueryInProgress:r}},QEe=e=>{const{children:t,client:n,customClasses:r,defaultLanguage:a,i18nInstance:i,initialNavOpen:s=!0,isMessageAIGenerated:o,searchController:c,theme:d="messaging light",useImageFlagEmojisOnWindows:f=!1}=e,{channel:h,closeMobileNav:m,getAppSettings:g,latestMessageDatesByChannels:b,mutes:_,navOpen:w,openMobileNav:x,setActiveChannel:k,translators:R}=WEe({client:n,defaultLanguage:a,i18nInstance:i,initialNavOpen:s}),I=KEe(),O=E.useMemo(()=>c??new XG({sources:[new QG(n),new KG(n),new ZG(n)]}),[n,c]),A=GEe({channel:h,channelsQueryState:I,client:n,closeMobileNav:m,customClasses:r,getAppSettings:g,isMessageAIGenerated:o,latestMessageDatesByChannels:b,mutes:_,navOpen:w,openMobileNav:x,searchController:O,setActiveChannel:k,theme:d,useImageFlagEmojisOnWindows:f});return R.t?v.createElement(LJ,{value:A},v.createElement(oee,{value:R},t)):null},ZEe=e=>{const{children:t,thread:n}=e,{thread:r}=Zn("Window");return v.createElement("div",{className:Ue("str-chat__main-panel",{"str-chat__main-panel--thread-open":r||n})},t)},XEe=v.memo(ZEe),JEe="_customChannelHeader_jb9rf_1",e3e="_customChannelHeaderRow_jb9rf_15",t3e="_customChannelHeaderLeft_jb9rf_27",n3e="_customChannelHeaderIcon_jb9rf_41",r3e="_customChannelHeaderTitle_jb9rf_51",a3e="_customChannelHeaderDate_jb9rf_61",i3e="_customChannelHeaderOnline_jb9rf_73",s3e="_customChannelHeaderOnlineLabel_jb9rf_87",o3e="_customChannelHeaderNone_jb9rf_99",l3e="_customChannelHeaderAvatar_jb9rf_109",mo={customChannelHeader:JEe,customChannelHeaderRow:e3e,customChannelHeaderLeft:t3e,customChannelHeaderIcon:n3e,customChannelHeaderTitle:r3e,customChannelHeaderDate:a3e,customChannelHeaderOnline:i3e,customChannelHeaderOnlineLabel:s3e,customChannelHeaderNone:o3e,customChannelHeaderAvatar:l3e};function c3e(e){if(!e)return"N/A";if(e.includes("-")&&e.length===10){const[i,s,o]=e.split("-"),c=new Date(parseInt(i),parseInt(s)-1,parseInt(o)),d=String(c.getMonth()+1).padStart(2,"0"),f=String(c.getDate()).padStart(2,"0"),h=c.getFullYear();return`${d}-${f}-${h}`}let t;if(e.includes("-"))t=new Date(e);else if(e.includes("/")){const i=e.split("/");if(i.length===3){const[s,o,c]=i;t=new Date(c,s-1,o)}else return e}else return e;if(isNaN(t.getTime()))return e;const n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),a=t.getFullYear();return`${n}-${r}-${a}`}function u3e(e){if(!e)return"";const t=e.trim().split(" ");if(t.length===1){const n=t[0].split(/[^a-zA-Z0-9]/).filter(Boolean);return n.length>1?(n[0][0]+n[1][0]).toUpperCase():t[0].slice(0,2).toUpperCase()}return(t[0][0]+t[t.length-1][0]).toUpperCase()}function d3e(){var s,o;const{channel:e}=Zn(),t=((s=e==null?void 0:e.data)==null?void 0:s.name)||(e==null?void 0:e.id),n=(o=e==null?void 0:e.data)==null?void 0:o.matchDate,a=e.getClient().user.id,i=Object.values(e.state.members||{}).filter(c=>{var d,f;return((d=c.user)==null?void 0:d.online)||((f=c.user)==null?void 0:f.id)===a}).map(c=>{var d,f;return((d=c.user)==null?void 0:d.name)||((f=c.user)==null?void 0:f.id)}).filter(Boolean);return D.jsxs("div",{className:mo.customChannelHeader,children:[D.jsx("div",{className:mo.customChannelHeaderRow,children:D.jsxs("div",{className:mo.customChannelHeaderLeft,children:[D.jsx("span",{className:mo.customChannelHeaderIcon,children:"💬"}),D.jsxs("span",{children:["You're in the"," ",D.jsxs("span",{className:mo.customChannelHeaderTitle,children:['"',t,'"']})," ","channel."]}),n&&D.jsxs("span",{className:mo.customChannelHeaderDate,children:["Match Date: ",c3e(n)]})]})}),D.jsxs("div",{className:mo.customChannelHeaderOnline,children:[D.jsx("span",{className:mo.customChannelHeaderOnlineLabel,children:"Online:"}),i.length===0&&D.jsx("span",{className:mo.customChannelHeaderNone,children:"No one online"}),i.map(c=>D.jsx("span",{className:mo.customChannelHeaderAvatar,title:c,children:u3e(c)},c))]})]})}const f3e="_customMessageUi_1vhuu_1",h3e="_myMessage_1vhuu_25",p3e="_avatarWrapper_1vhuu_33",m3e="_onlineDot_1vhuu_55",g3e="_online_1vhuu_55",y3e="_offline_1vhuu_85",v3e="_customMessageBubble_1vhuu_93",b3e="_myMessageBubble_1vhuu_133",_3e="_messageHeader_1vhuu_147",w3e="_senderName_1vhuu_159",x3e="_timestamp_1vhuu_173",C3e="_messageText_1vhuu_185",D3e="_reactionsBar_1vhuu_197",S3e="_reaction_1vhuu_197",E3e="_reactionCount_1vhuu_269",M3e="_reactionTooltip_1vhuu_281",T3e="_adminBadge_1vhuu_313",k3e="_adminDeleteMessageBtn_1vhuu_335",R3e="_adminEditMessageBtn_1vhuu_387",A3e="_adminPinMessageBtn_1vhuu_389",O3e="_adminMuteBtn_1vhuu_391",L3e="_adminBanBtn_1vhuu_393",N3e="_adminControls_1vhuu_431",P3e="_adminUserInfo_1vhuu_439",I3e="_adminEditInput_1vhuu_467",F3e="_adminAnnouncementForm_1vhuu_483",j3e="_adminAnnouncementInput_1vhuu_499",U3e="_adminAnnouncementBtn_1vhuu_515",nr={customMessageUi:f3e,myMessage:h3e,avatarWrapper:p3e,onlineDot:m3e,online:g3e,offline:y3e,customMessageBubble:v3e,myMessageBubble:b3e,messageHeader:_3e,senderName:w3e,timestamp:x3e,messageText:C3e,reactionsBar:D3e,reaction:S3e,reactionCount:E3e,reactionTooltip:M3e,adminBadge:T3e,adminDeleteMessageBtn:k3e,adminEditMessageBtn:R3e,adminPinMessageBtn:A3e,adminMuteBtn:O3e,adminBanBtn:L3e,adminControls:N3e,adminUserInfo:P3e,adminEditInput:I3e,adminAnnouncementForm:F3e,adminAnnouncementInput:j3e,adminAnnouncementBtn:U3e},jx="frbcaplgmailcom";function B3e(){const{message:e,isMyMessage:t,handleReaction:n,handleDelete:r,handleEdit:a}=jr(),{client:i}=Yt(),{channel:s}=Zn(),o=t(),c=e.user||{},d=c.online,f=e.created_at?lv(new Date(e.created_at),"p"):"",m=((i==null?void 0:i.userID)||"")===jx,[g,b]=E.useState(!1),[_,w]=E.useState(e.text||""),[x,k]=E.useState(!1),R=["like","love","haha","wow","sad","angry"],I={like:"👍",love:"❤️",haha:"😂",wow:"😮",sad:"😢",angry:"😠"},O={};(e.latest_reactions||[]).forEach(U=>{O[U.type]||(O[U.type]=[]),O[U.type].push(U.user)});const[A,L]=E.useState(null),C=!!e.pinned,T=async()=>{try{await s.muteUser(c.id),alert(`${c.name||c.id} has been muted.`)}catch{alert("Failed to mute user.")}},S=async()=>{try{await s.banUser(c.id),alert(`${c.name||c.id} has been banned.`)}catch{alert("Failed to ban user.")}},j=async()=>{try{C?(await s.unpinMessage(e),alert("Message unpinned!")):(await s.pinMessage(e),alert("Message pinned!"))}catch{alert("Failed to pin/unpin message.")}},B=async U=>{U.preventDefault();try{await a({...e,text:_}),b(!1)}catch{alert("Failed to edit message.")}},H=m&&c.id!==jx;return D.jsxs("div",{className:`${nr.customMessageUi} ${o?nr.myMessage:""}`,children:[D.jsxs("div",{className:nr.avatarWrapper,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),style:{position:"relative"},children:[D.jsx(zi,{image:c.image,name:c.name||c.id,size:40,shape:"rounded"}),D.jsx("span",{className:`${nr.onlineDot} ${d?nr.online:nr.offline}`,title:d?"Online":"Offline"}),m&&x&&D.jsxs("div",{className:nr.adminUserInfo,children:[D.jsx("strong",{children:"User ID:"})," ",c.id," ",D.jsx("br",{}),D.jsx("strong",{children:"Name:"})," ",c.name||"(none)"," ",D.jsx("br",{}),D.jsx("strong",{children:"Status:"})," ",d?"Online":"Offline"]})]}),D.jsxs("div",{className:`${nr.customMessageBubble} ${o?nr.myMessageBubble:""}`,children:[D.jsxs("div",{className:nr.messageHeader,children:[D.jsxs("span",{className:nr.senderName,children:[c.name||c.id,c.id===jx&&D.jsx("span",{className:nr.adminBadge,children:"ADMIN"})]}),D.jsx("span",{className:nr.timestamp,children:f})]}),D.jsx("div",{className:nr.messageText,children:g?D.jsxs("form",{onSubmit:B,style:{display:"flex",alignItems:"center"},children:[D.jsx("input",{value:_,onChange:U=>w(U.target.value),className:nr.adminEditInput,autoFocus:!0}),D.jsx("button",{type:"submit",className:nr.adminEditMessageBtn,children:"Save"}),D.jsx("button",{type:"button",className:nr.adminEditMessageBtn,onClick:()=>b(!1),children:"Cancel"})]}):e.text}),D.jsx("div",{className:nr.reactionsBar,children:R.map(U=>{var F;const z=O[U]||[];return D.jsxs("span",{role:"img","aria-label":U,className:nr.reaction,onClick:()=>n(U),onMouseEnter:()=>L(U),onMouseLeave:()=>L(null),style:{opacity:(F=e.own_reactions)!=null&&F.some(V=>V.type===U)?1:.6},children:[I[U],z.length>0&&D.jsxs("span",{className:nr.reactionCount,children:[" ",z.length]}),A===U&&z.length>0&&D.jsx("span",{className:nr.reactionTooltip,children:z.map(V=>V.name||V.id).join(", ")})]},U)})}),m&&D.jsxs("div",{className:nr.adminControls,children:[D.jsx("button",{className:nr.adminDeleteMessageBtn,onClick:()=>r(e),title:"Delete this message",children:"Delete"}),D.jsx("button",{className:nr.adminEditMessageBtn,onClick:()=>{w(e.text||""),b(!0)},title:"Edit this message",children:"Edit"}),D.jsx("button",{className:nr.adminPinMessageBtn,onClick:j,title:C?"Unpin this message":"Pin this message",children:C?"Unpin":"Pin"}),H&&D.jsxs(D.Fragment,{children:[D.jsx("button",{className:nr.adminMuteBtn,onClick:T,title:"Mute this user",children:"Mute"}),D.jsx("button",{className:nr.adminBanBtn,onClick:S,title:"Ban this user",children:"Ban"})]})]})]})]})}const $3e="frbcaplgmailcom";function z3e(){const{client:e}=Yt(),{channel:t}=Zn(),[n,r]=E.useState("");return(e==null?void 0:e.userID)===$3e?D.jsxs("form",{onSubmit:async i=>{i.preventDefault(),n.trim()&&(await t.sendMessage({text:n,customType:"announcement"}),r(""))},className:nr.adminAnnouncementForm,children:[D.jsx("input",{value:n,onChange:i=>r(i.target.value),placeholder:"Send announcement to this channel...",className:nr.adminAnnouncementInput}),D.jsx("button",{type:"submit",className:nr.adminAnnouncementBtn,children:"Send"})]}):null}const H3e="_outerChatBg_1jjzw_21",V3e="_chatContainer_1jjzw_49",q3e="_topNavBar_1jjzw_81",Y3e="_chatGreeting_1jjzw_97",W3e="_buttonRow_1jjzw_113",G3e="_topChatButton_1jjzw_127",K3e="_logoutWithTimer_1jjzw_169",Q3e="_timerBox_1jjzw_181",Z3e="_mainChatArea_1jjzw_205",X3e="_mainChatWindow_1jjzw_221",J3e="_sidebar_1jjzw_331",eMe="_hamburgerButton_1jjzw_363",tMe="_hamburgerIcon_1jjzw_383",nMe="_sidebarBackdrop_1jjzw_393",rMe="_closeSidebarButton_1jjzw_403",aMe="_generalChannelRow_1jjzw_413",iMe="_channelListRow_1jjzw_415",sMe="_active_1jjzw_431",oMe="_channelListName_1jjzw_437",lMe="_pinIcon_1jjzw_445",cMe="_pinned_1jjzw_457",uMe="_noPinnedChannels_1jjzw_463",dMe="_noChannelsFound_1jjzw_465",fMe="_sectionHeader_1jjzw_479",hMe="_sidebarSearch_1jjzw_491",pMe="_channelListWrapper_1jjzw_513",mMe="_loadingContainer_1jjzw_601",gMe="_spinner_1jjzw_613",yMe="_open_1jjzw_703",vMe="_messageListBackground_1jjzw_809",Vn={outerChatBg:H3e,chatContainer:V3e,topNavBar:q3e,chatGreeting:Y3e,buttonRow:W3e,topChatButton:G3e,logoutWithTimer:K3e,timerBox:Q3e,mainChatArea:Z3e,mainChatWindow:X3e,sidebar:J3e,hamburgerButton:eMe,hamburgerIcon:tMe,sidebarBackdrop:nMe,closeSidebarButton:rMe,generalChannelRow:aMe,channelListRow:iMe,active:sMe,channelListName:oMe,pinIcon:lMe,pinned:cMe,noPinnedChannels:uMe,noChannelsFound:dMe,sectionHeader:fMe,sidebarSearch:hMe,channelListWrapper:pMe,loadingContainer:mMe,spinner:gMe,open:yMe,messageListBackground:vMe},bMe="nbvut8j4y6se",_Me="https://newapp-xyen.onrender.com",Ux="general";function wMe(e){return e.toLowerCase().replace(/[^a-z0-9_-]/g,"")}const xMe=({channel:e})=>{var t;return D.jsx("div",{className:Vn.channelNamePreview,children:((t=e.data)==null?void 0:t.name)||e.id})};function CMe(){return JSON.parse(localStorage.getItem("pinnedChannels")||"[]")}function DMe(e){localStorage.setItem("pinnedChannels",JSON.stringify(e))}const SMe=({pinned:e,onClick:t})=>D.jsx("span",{onClick:t,className:`${Vn.pinIcon}${e?" "+Vn.pinned:""}`,title:e?"Unpin channel":"Pin channel",children:e?"📌":"📍"}),gL=({children:e})=>D.jsx("div",{className:Vn.sectionHeader,children:e});function EMe({userName:e,userEmail:t,userPin:n,channelId:r,onClose:a}){const i=gf(),[s,o]=E.useState(!1),[c,d]=E.useState(null),[f,h]=E.useState(null),[m,g]=E.useState(null),[b,_]=E.useState(CMe()),[w,x]=E.useState(!1),[k,R]=E.useState(1800),[I,O]=E.useState("");E.useEffect(()=>{if(k<=0){A();return}const j=setInterval(()=>{R(B=>B-1)},1e3);return()=>clearInterval(j)},[k]),E.useEffect(()=>{let j=dS.getInstance(bMe),B=!1,H=!0;async function U(){if(!j.userID){const F=wMe(t),V=await fetch(`${_Me}/token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:F})}),{token:Y}=await V.json();await j.connectUser({id:F,name:e,email:t},Y),B=!0}if(!H)return;d(j);const z=j.channel("messaging",Ux,{name:"General"});await z.watch({limit:30}),H&&(h(z),g(z))}return U(),()=>{H=!1,j&&B&&j.disconnectUser()}},[t,e]),E.useEffect(()=>{DMe(b)},[b]);function A(){c&&c.disconnectUser(),localStorage.clear(),a?a():(i("/"),window.location.reload())}if(!c||!f)return D.jsxs("div",{className:Vn.loadingContainer,style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[D.jsx("div",{className:Vn.spinner}),D.jsx("div",{children:"Loading chat...Please wait"})]});const L=c.user.id,C=Math.floor(k/60),T=k%60,S={type:"messaging",members:{$in:[L]}};return D.jsx("div",{className:Vn.outerChatBg,style:{height:"100%",width:"100%"},children:D.jsxs("div",{className:Vn.chatContainer,style:{height:"100%",width:"100%",maxWidth:"none",maxHeight:"none"},children:[D.jsx("button",{className:Vn.hamburgerButton,onClick:()=>o(!0),"aria-label":"Open channel list",children:D.jsx("span",{className:Vn.hamburgerIcon,children:"☰"})}),s&&D.jsx("div",{className:Vn.sidebarBackdrop,onClick:()=>o(!1)}),D.jsxs(QEe,{client:c,theme:"str-chat__theme-dark",children:[D.jsxs("div",{className:Vn.topNavBar,children:[D.jsxs("span",{className:Vn.chatGreeting,children:["Hello, ",e,"!"]}),D.jsxs("div",{className:Vn.buttonRow,children:[D.jsx("button",{className:Vn.topChatButton,onClick:()=>{a?a():(i("/"),window.location.reload())},children:"Dashboard"}),D.jsx("button",{className:Vn.topChatButton,onClick:()=>x(!0),children:"Schedule a Match"}),D.jsxs("div",{className:Vn.logoutWithTimer,children:[D.jsx("button",{className:Vn.topChatButton,onClick:A,children:"Logout"}),D.jsxs("span",{className:Vn.timerBox,children:["Auto Logout: ",C,":",T.toString().padStart(2,"0")]})]})]})]}),D.jsxs("div",{className:Vn.mainChatArea,children:[D.jsxs("div",{className:`${Vn.sidebar} ${s?Vn.open:""}`,children:[D.jsx("button",{className:Vn.closeSidebarButton,onClick:()=>o(!1),"aria-label":"Close channel list",children:"×"}),D.jsxs("div",{className:`${Vn.generalChannelRow}${(m==null?void 0:m.id)===Ux?" "+Vn.active:""}`,onClick:()=>{g(f),o(!1)},children:[D.jsx("span",{style:{marginRight:8},children:"#"})," General"]}),D.jsx("div",{className:Vn.sidebarSearch,children:D.jsx("input",{type:"text",placeholder:"Search channels...",value:I,onChange:j=>O(j.target.value)})}),D.jsx("div",{className:Vn.channelListWrapper,children:D.jsx(yre,{filters:S,sort:{last_message_at:-1},options:{state:!0,watch:!0,presence:!0},renderChannels:j=>{j=Array.isArray(j)?j:[];const B=j.filter(V=>V&&V.id!==Ux),H=B.filter(V=>b.includes(V.id)),z=[...B.filter(V=>!b.includes(V.id))].sort((V,Y)=>{const q=V.last_message_at?new Date(V.last_message_at).getTime():0;return(Y.last_message_at?new Date(Y.last_message_at).getTime():0)-q}),F=V=>!V||!V.cid?null:D.jsxs("div",{className:Vn.channelListRow,onClick:()=>{g(V),o(!1)},children:[D.jsx("div",{className:Vn.channelListName,children:D.jsx(xMe,{channel:V})}),D.jsx(SMe,{pinned:b.includes(V.id),onClick:Y=>{Y.stopPropagation();let q;b.includes(V.id)?q=b.filter(N=>N!==V.id):q=[...b,V.id],_(q)}})]},V.cid);return D.jsxs(D.Fragment,{children:[D.jsx(gL,{children:"Pinned"}),H.length>0?H.map(F):D.jsx("div",{className:Vn.noPinnedChannels,children:"No pinned channels."}),D.jsx(gL,{children:"Your Match Channels"}),z.length>0?z.map(F):D.jsx("div",{className:Vn.noChannelsFound,children:"No channels found."})]})}})})]}),D.jsx("div",{className:Vn.mainChatWindow,children:D.jsxs(YEe,{channel:m,Message:B3e,children:[D.jsxs(XEe,{children:[D.jsx("div",{className:Vn.messageListBackground,"aria-hidden":"true",children:D.jsx(OD,{})}),D.jsx(d3e,{}),D.jsx(z3e,{}),D.jsx(VI,{}),D.jsx($I,{}),D.jsx(B2,{additionalTextareaProps:{placeholder:"Type a message... :smile: (Markdown & emoji supported!)"}})]}),D.jsx(nDe,{})]})})]})]}),w&&D.jsx(TC,{onSelect:async j=>{x(!1)},onClose:()=>x(!1),excludeName:e,senderName:e,senderEmail:t,onProposalComplete:()=>{x(!1),a?a():i("/")}})]})})}const MMe="_adminDashboardRoot_ve38e_21",TMe="_adminDashboardNav_ve38e_53",kMe="_adminDashboardMainColumn_ve38e_131",RMe="_adminActionButton_ve38e_341",AMe="_adminChatWrapper_ve38e_361",OMe="_adminChannelList_ve38e_385",LMe="_adminChannelMessages_ve38e_385",NMe="_adminChannelListItem_ve38e_431",PMe="_selected_ve38e_449",IMe="_adminDeleteChannelBtn_ve38e_457",FMe="_adminChannelName_ve38e_487",jMe="_adminMessageItem_ve38e_519",UMe="_adminDeleteMessageBtn_ve38e_543",BMe="_adminCard_ve38e_573",$Me="_adminCardTitle_ve38e_603",zMe="_scrollableCardContent_ve38e_623",Sr={adminDashboardRoot:MMe,adminDashboardNav:TMe,adminDashboardMainColumn:kMe,adminActionButton:RMe,adminChatWrapper:AMe,adminChannelList:OMe,adminChannelMessages:LMe,adminChannelListItem:NMe,selected:PMe,adminDeleteChannelBtn:IMe,adminChannelName:FMe,adminMessageItem:jMe,adminDeleteMessageBtn:UMe,adminCard:BMe,adminCardTitle:$Me,scrollableCardContent:zMe},HMe="_searchContainer_1xrci_1",VMe="_searchTitle_1xrci_23",qMe="_searchForm_1xrci_33",YMe="_searchInput_1xrci_49",WMe="_searchButton_1xrci_73",GMe="_resultsTable_1xrci_95",KMe="_resultsHeader_1xrci_127",QMe="_resultsCell_1xrci_137",ZMe="_divisionBadge_1xrci_149",XMe="_removeBtn_1xrci_179",JMe="_addBtn_1xrci_209",Pi={searchContainer:HMe,searchTitle:VMe,searchForm:qMe,searchInput:YMe,searchButton:WMe,resultsTable:GMe,resultsHeader:KMe,resultsCell:QMe,divisionBadge:ZMe,removeBtn:XMe,addBtn:JMe};function eTe(e){if(!e)return"N/A";if(e.includes("-")&&e.length===10){const[i,s,o]=e.split("-"),c=new Date(parseInt(i),parseInt(s)-1,parseInt(o)),d=String(c.getMonth()+1).padStart(2,"0"),f=String(c.getDate()).padStart(2,"0"),h=c.getFullYear();return`${d}-${f}-${h}`}let t;if(e.includes("-"))t=new Date(e);else if(e.includes("/")){const i=e.split("/");if(i.length===3){const[s,o,c]=i;t=new Date(c,s-1,o)}else return e}else return e;if(isNaN(t.getTime()))return e;const n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),a=t.getFullYear();return`${n}-${r}-${a}`}const yL="https://atlasbackend-bnng.onrender.com";function tTe({open:e,onClose:t}){const[n,r]=E.useState([]),[a,i]=E.useState(!0);E.useEffect(()=>{e&&(i(!0),fetch(`${yL}/admin/unentered-matches`).then(o=>o.json()).then(o=>{r(o),i(!1)}))},[e]);const s=o=>{fetch(`${yL}/admin/mark-lms-entered/${o}`,{method:"PATCH"}).then(c=>c.json()).then(()=>r(n.filter(c=>c._id!==o)))};return e?D.jsx(os,{open:e,onClose:t,title:"Confirmed Challenge Matches Needing LMS Entry",maxWidth:"520px",children:a?D.jsx("div",{style:{color:"#fff",textAlign:"center",padding:"2rem"},children:"Loading unentered matches..."}):n.length===0?D.jsx("div",{style:{color:"#fff",textAlign:"center",padding:"2rem"},children:"All matches are entered!"}):D.jsx("ul",{style:{padding:0,listStyle:"none"},children:n.map(o=>D.jsxs("li",{style:{marginBottom:12,background:"#222",borderRadius:8,padding:"12px 14px",display:"flex",alignItems:"center",justifyContent:"space-between",borderLeft:"4px solid #c00"},children:[D.jsx("span",{children:D.jsxs("span",{style:{color:"#fff"},children:[D.jsx("b",{children:eTe(o.date)})," — ",D.jsx("span",{style:{color:"#c00"},children:o.senderName})," vs ",D.jsx("span",{style:{color:"#c00"},children:o.receiverName}),o.location&&D.jsxs("span",{style:{color:"#fff"},children:[" @ ",o.location]})]})}),D.jsx("button",{style:{marginLeft:16,background:"#c00",color:"#fff",border:"none",borderRadius:5,padding:"7px 14px",fontWeight:"bold",cursor:"pointer",fontSize:"1em",transition:"background 0.2s"},onClick:()=>s(o._id),children:"Mark as Entered"})]},o._id))})}):null}var wF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vL=v.createContext&&v.createContext(wF),nTe=["attr","size","title"];function rTe(e,t){if(e==null)return{};var n=aTe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H0.apply(this,arguments)}function bL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function V0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(n),!0).forEach(function(r){iTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iTe(e,t,n){return t=sTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sTe(e){var t=oTe(e,"string");return typeof t=="symbol"?t:t+""}function oTe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xF(e){return e&&e.map((t,n)=>v.createElement(t.tag,V0({key:n},t.attr),xF(t.child)))}function $u(e){return t=>v.createElement(lTe,H0({attr:V0({},e.attr)},t),xF(e.child))}function lTe(e){var t=n=>{var{attr:r,size:a,title:i}=e,s=rTe(e,nTe),o=a||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),v.createElement("svg",H0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:c,style:V0(V0({color:e.color||n.color},n.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&v.createElement("title",null,i),e.children)};return vL!==void 0?v.createElement(vL.Consumer,null,n=>t(n)):t(wF)}function cTe(e){return $u({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function uTe(e){return $u({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function dTe(e){return $u({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function fTe(e){return $u({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function hTe(e){return $u({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(e)}function CF(e){return $u({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(e)}function pTe(e){return $u({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}const ll="https://newapp-xyen.onrender.com",mTe="nbvut8j4y6se",Bx="frbcaplgmailcom";function gTe({backendUrl:e}){const[t,n]=E.useState([]),[r,a]=E.useState(""),[i,s]=E.useState(!1),[o,c]=E.useState("");return E.useEffect(()=>{fetch(`${e}/admin/divisions`).then(d=>d.json()).then(d=>{const f=d.map(h=>h.name);n(f),a(f[0]||"")}).catch(()=>n([]))},[e]),D.jsxs("div",{style:{margin:"12px 0"},children:[D.jsx("h3",{children:"Update Schedule for Division"}),D.jsx("select",{value:r,onChange:d=>a(d.target.value),style:{marginRight:8,padding:4,borderRadius:4},children:t.map(d=>D.jsx("option",{value:d,children:d},d))}),D.jsx("button",{onClick:async()=>{s(!0),c("");try{const f=await(await fetch(`${e}/admin/update-schedule`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:r})})).text();c("✅ "+f)}catch(d){c("❌ "+d.message)}s(!1)},disabled:i||!r,style:{background:"#673ab7",color:"#fff",border:"none",borderRadius:5,padding:"8px 16px",fontWeight:"bold",cursor:i?"not-allowed":"pointer"},children:i?"Updating...":"Update Schedule"}),o&&D.jsx("div",{style:{marginTop:8},children:o})]})}function yTe({backendUrl:e}){const[t,n]=E.useState(!1),[r,a]=E.useState(""),i=async()=>{n(!0),a("");try{(await fetch(`${e}/admin/sync-users`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok?a("✅ Users synced successfully!"):a("❌ Sync failed.")}catch{a("❌ Sync failed.")}n(!1)};return D.jsxs("div",{style:{margin:"12px 0"},children:[D.jsx("button",{onClick:i,disabled:t,style:{background:"#007bff",color:"#fff",border:"none",borderRadius:5,padding:"8px 16px",cursor:t?"not-allowed":"pointer",fontWeight:"bold"},children:t?"Adding...":"Add Players to Database"}),r&&D.jsx("div",{style:{marginTop:8},children:r})]})}function vTe({backendUrl:e}){const[t,n]=E.useState(!1),[r,a]=E.useState(""),[i,s]=E.useState(""),o=async()=>{n(!0),a(""),s("");try{const c=await fetch(`${e}/admin/update-standings`,{method:"POST",headers:{"Content-Type":"application/json"}}),d=await c.json();c.ok?(a("✅ All standings updated successfully!"),d.message&&d.message.includes("Scraping Summary")&&s(d.message)):(a("❌ Update failed: "+(d.error||"Unknown error")),d.error&&s(d.error))}catch(c){a("❌ Update failed: Network error"),s(c.message)}n(!1)};return D.jsxs("div",{style:{margin:"12px 0"},children:[D.jsx("button",{onClick:o,disabled:t,style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:5,padding:"8px 16px",cursor:t?"not-allowed":"pointer",fontWeight:"bold"},children:t?"🔄 Updating All Standings...":"📊 Update All Standings"}),r&&D.jsx("div",{style:{marginTop:8,fontWeight:"bold"},children:r}),i&&D.jsx("div",{style:{marginTop:8,padding:8,backgroundColor:"#f5f5f5",borderRadius:4,fontSize:"0.9em",whiteSpace:"pre-wrap",fontFamily:"monospace"},children:i})]})}function bTe({backendUrl:e,onDivisionCreated:t}){const[n,r]=E.useState(""),[a,i]=E.useState(""),[s,o]=E.useState(""),[c,d]=E.useState(""),[f,h]=E.useState(""),[m,g]=E.useState(""),b=async _=>{_.preventDefault(),g("");try{const w=await fetch(`${e}/api/seasons`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,division:n,description:a,scheduleUrl:s,standingsUrl:c,seasonStart:f})}),x=await w.json();w.ok?(g("✅ Division/Season created!"),r(""),i(""),o(""),d(""),h(""),t&&t()):g("❌ "+(x.error||"Failed to create division/season."))}catch{g("❌ Failed to create division/season.")}};return D.jsxs("form",{onSubmit:b,style:{marginBottom:16},children:[D.jsx("h3",{children:"Create New Division/Season"}),D.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[D.jsx("input",{type:"text",placeholder:"Division Name",value:n,onChange:_=>r(_.target.value),required:!0}),D.jsx("input",{type:"text",placeholder:"Description (optional)",value:a,onChange:_=>i(_.target.value)}),D.jsx("input",{type:"url",placeholder:"Schedule URL",value:s,onChange:_=>o(_.target.value),required:!0}),D.jsx("input",{type:"url",placeholder:"Standings URL",value:c,onChange:_=>d(_.target.value),required:!0}),D.jsx("input",{type:"date",placeholder:"Season Start",value:f,onChange:_=>h(_.target.value),required:!0}),D.jsx("div",{style:{fontSize:"0.95em",color:"#aaa",marginTop:4},children:"Phase 1: 6 weeks • Phase 2: 4 weeks • Season: 10 weeks total (auto-calculated)"}),D.jsx("button",{type:"submit",children:"Create"})]}),m&&D.jsx("div",{style:{marginTop:8},children:m})]})}function _Te({backendUrl:e}){const[t,n]=E.useState(""),[r,a]=E.useState([]),[i,s]=E.useState([]),[o,c]=E.useState("");E.useEffect(()=>{fetch(`${e}/admin/divisions`).then(m=>m.json()).then(m=>s(m.map(g=>g.name))).catch(()=>s([]))},[e]);const d=async m=>{if(m.preventDefault(),!!t.trim())try{const b=await(await fetch(`${e}/admin/search-users?query=${encodeURIComponent(t)}`)).json();a(b)}catch{a([]),alert("Search failed")}},f=async(m,g)=>{try{await fetch(`${e}/admin/user/${m}/add-division`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:g})}),d({preventDefault:()=>{}})}catch{alert("Failed to add user to division")}},h=async(m,g)=>{try{await fetch(`${e}/admin/user/${m}/remove-division`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:g})}),d({preventDefault:()=>{}})}catch{alert("Failed to remove user from division")}};return D.jsxs("div",{className:Pi.searchContainer,children:[D.jsx("h3",{className:Pi.searchTitle,children:"Player Search & Quick Division Management"}),D.jsxs("form",{onSubmit:d,className:Pi.searchForm,children:[D.jsx("input",{type:"text",placeholder:"Search by name or email",value:t,onChange:m=>n(m.target.value),className:Pi.searchInput}),D.jsx("button",{type:"submit",className:Pi.searchButton,children:"Search"})]}),r.length>0&&D.jsxs("table",{className:Pi.resultsTable,children:[D.jsx("thead",{children:D.jsxs("tr",{className:Pi.resultsHeader,children:[D.jsx("th",{children:"Name"}),D.jsx("th",{children:"Email"}),D.jsx("th",{children:"Divisions"}),D.jsx("th",{children:"Add to Division"})]})}),D.jsx("tbody",{children:r.map(m=>D.jsxs("tr",{children:[D.jsx("td",{className:Pi.resultsCell,children:m.name||m.id}),D.jsx("td",{className:Pi.resultsCell,children:m.email}),D.jsx("td",{className:Pi.resultsCell,children:(m.divisions||[]).length>0?m.divisions.map(g=>D.jsxs("span",{className:Pi.divisionBadge,children:[g,D.jsx("button",{className:Pi.removeBtn,onClick:()=>h(m.id,g),title:`Remove from ${g}`,children:"×"})]},g)):D.jsx("span",{style:{color:"#888"},children:"None"})}),D.jsxs("td",{className:Pi.resultsCell,children:[D.jsxs("select",{value:o,onChange:g=>c(g.target.value),children:[D.jsx("option",{value:"",children:"Select Division"}),i.map(g=>D.jsx("option",{value:g,children:g},g))]}),D.jsx("button",{disabled:!o,onClick:()=>f(m.email,o),className:Pi.addBtn,children:"Add"})]})]},m.id))})]})]})}function wTe({backendUrl:e}){const[t,n]=E.useState([]),[r,a]=E.useState(!1),[i,s]=E.useState(""),[o,c]=E.useState([]),[d,f]=E.useState(""),h=async()=>{const k=await(await fetch(`${e}/admin/divisions`)).json();c(k.map(R=>R.name).sort())},m=()=>{a(!0),fetch(`${e}/api/users`).then(x=>x.json()).then(x=>{n(x),a(!1)}).catch(()=>a(!1))};E.useEffect(()=>{m(),h()},[e]);const g=async(x,k)=>{s("");try{const I=await(await fetch(`${e}/admin/user/${x}/add-division`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:k})})).json();I.success?(n(t.map(O=>O.id===x?I.user:O)),s(`✅ Added to ${k}!`)):s("❌ "+(I.error||"Failed to add division"))}catch{s("❌ Network error")}},b=async(x,k)=>{s("");const I=await(await fetch(`${e}/admin/user/${x}/remove-division`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:k})})).json();I.success?(n(t.map(O=>O.id===x?I.user:O)),s(`✅ Removed from ${k}!`)):s("❌ "+(I.error||"Failed to remove division"))},_=d?t.filter(x=>(x.divisions||[]).includes(d)):[],w=d?t.filter(x=>!(x.divisions||[]).includes(d)):[];return r?D.jsx("div",{children:"Loading users..."}):D.jsxs("div",{style:{margin:"24px 0",padding:16,border:"1px solid #ccc",borderRadius:8},children:[D.jsx("h3",{children:"Division Manager"}),D.jsx("div",{style:{marginBottom:12},children:D.jsxs("label",{children:[D.jsx("b",{children:"Select Division: "}),D.jsxs("select",{value:d,onChange:x=>f(x.target.value),style:{marginLeft:8,padding:4,borderRadius:4},children:[D.jsx("option",{value:"",children:"-- Select --"}),o.map(x=>D.jsx("option",{value:x,children:x},x))]})]})}),i&&D.jsx("div",{style:{marginBottom:8},children:i}),d&&D.jsxs(D.Fragment,{children:[D.jsxs("h4",{children:["Users in ",d]}),_.length===0?D.jsx("div",{children:"No users found in this division."}):D.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[D.jsx("thead",{children:D.jsxs("tr",{children:[D.jsx("th",{children:"User"}),D.jsx("th",{children:"Email"}),D.jsx("th",{children:"Divisions"}),D.jsx("th",{children:"Remove"})]})}),D.jsx("tbody",{children:_.map(x=>D.jsxs("tr",{children:[D.jsx("td",{children:x.name||x.id}),D.jsx("td",{children:x.email}),D.jsx("td",{children:(x.divisions||[]).join(", ")}),D.jsx("td",{children:D.jsx("button",{onClick:()=>b(x.email,d),style:{color:"red",border:"none",background:"none",cursor:"pointer"},children:"Remove"})})]},x.id))})]}),D.jsxs("h4",{style:{marginTop:24},children:["Add Users to ",d]}),w.length===0?D.jsx("div",{children:"All users are already in this division."}):D.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[D.jsx("thead",{children:D.jsxs("tr",{children:[D.jsx("th",{children:"User"}),D.jsx("th",{children:"Email"}),D.jsx("th",{children:"Add"})]})}),D.jsx("tbody",{children:w.map(x=>D.jsxs("tr",{children:[D.jsx("td",{children:x.name||x.id}),D.jsx("td",{children:x.email}),D.jsx("td",{children:D.jsx("button",{onClick:()=>g(x.email,d),style:{color:"green",border:"none",background:"none",cursor:"pointer"},children:"Add"})})]},x.id))})]})]})]})}function xTe({backendUrl:e}){const[t,n]=E.useState(""),[r,a]=E.useState(""),[i,s]=E.useState([]),[o,c]=E.useState(!1),[d,f]=E.useState([]),[h,m]=E.useState(!1),[g,b]=E.useState(!1),[_,w]=E.useState(null),[x,k]=E.useState({player1:"",player2:""}),[R,I]=E.useState(!1),O=T=>{if(!T)return"N/A";if(T.includes("-")&&T.length===10){const[S,j,B]=T.split("-"),H=new Date(parseInt(S),parseInt(j)-1,parseInt(B)),U=String(H.getMonth()+1).padStart(2,"0"),z=String(H.getDate()).padStart(2,"0"),F=H.getFullYear();return`${U}-${z}-${F}`}return T},A=async T=>{if(T.preventDefault(),!!t.trim()){c(!0);try{const j=await(await fetch(`${e}/admin/search-users?query=${encodeURIComponent(t.trim())}`)).json();f(j),m(!0)}catch(S){console.error("Search failed:",S),f([])}c(!1)}},L=async T=>{a(T),m(!1),c(!0);try{const j=await(await fetch(`${e}/api/matches/all-matches?player=${encodeURIComponent(T)}`)).json();s(j)}catch(S){console.error("Failed to fetch matches:",S),s([])}c(!1)},C=async T=>{if(_){I(!0);try{(await fetch(`${e}/api/proposals/${_._id}/complete`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({winner:T,markedByName:"Admin",markedByEmail:"admin@frbcapl.com"})})).ok?(s(j=>j.map(B=>B._id===_._id?{...B,winner:T,winnerChangedByName:"Admin",winnerChangedByEmail:"admin@frbcapl.com",winnerChangedAt:new Date().toISOString()}:B)),b(!1)):alert("Failed to update winner.")}catch{alert("Failed to update winner.")}I(!1)}};return D.jsxs("div",{style:{margin:"12px 0"},children:[D.jsxs("h3",{children:[D.jsx(CF,{})," Admin Match Manager"]}),D.jsxs("form",{onSubmit:A,style:{marginBottom:16},children:[D.jsx("input",{type:"text",value:t,onChange:T=>n(T.target.value),placeholder:"Search for player by name or email...",style:{width:"100%",padding:"8px 12px",borderRadius:4,border:"1px solid #ccc",marginBottom:8}}),D.jsx("button",{type:"submit",disabled:o||!t.trim(),style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:5,padding:"8px 16px",cursor:o?"not-allowed":"pointer",fontWeight:"bold"},children:o?"Searching...":"Search Players"})]}),h&&D.jsxs("div",{style:{marginBottom:16},children:[D.jsx("h4",{children:"Search Results:"}),d.length===0?D.jsx("p",{children:"No players found."}):D.jsx("div",{style:{maxHeight:200,overflowY:"auto"},children:d.map((T,S)=>D.jsx("button",{onClick:()=>L(T.name||T.email),style:{display:"block",width:"100%",textAlign:"left",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:4,padding:"8px 12px",marginBottom:4,cursor:"pointer"},children:T.name||T.email},S))})]}),r&&D.jsxs("div",{children:[D.jsxs("h4",{children:["Matches for: ",r]}),o?D.jsx("p",{children:"Loading matches..."}):i.length===0?D.jsx("p",{children:"No matches found for this player."}):D.jsx("div",{style:{maxHeight:400,overflowY:"auto"},children:i.map(T=>D.jsxs("div",{style:{background:"#222",border:"1px solid #444",borderRadius:8,padding:12,marginBottom:8},children:[D.jsxs("div",{style:{marginBottom:8},children:[D.jsx("strong",{children:"Date:"})," ",O(T.date)," | ",D.jsx("strong",{children:"Time:"})," ",T.time]}),D.jsxs("div",{style:{marginBottom:8},children:[D.jsx("strong",{children:"Players:"})," ",T.senderName," vs ",T.receiverName]}),D.jsxs("div",{style:{marginBottom:8},children:[D.jsx("strong",{children:"Location:"})," ",T.location," | ",D.jsx("strong",{children:"Game:"})," ",T.gameType]}),T.divisions&&T.divisions.length>0&&D.jsxs("div",{style:{marginBottom:8},children:[D.jsx("strong",{children:"Division:"})," ",T.divisions.join(", ")," | ",D.jsx("strong",{children:"Phase:"})," ",T.phase==="challenge"?"2":T.phase==="scheduled"?"1":T.phase]}),T.winner?D.jsxs("div",{style:{marginBottom:8},children:[D.jsxs("strong",{style:{color:"#ffd700"},children:["🏆 Winner: ",T.winner]}),T.winnerChangedByName&&D.jsxs("span",{style:{color:"#aaa",fontSize:"0.9em",marginLeft:8},children:["(marked by ",T.winnerChangedByName,T.winnerChangedAt?` on ${new Date(T.winnerChangedAt).toLocaleString()}`:"",")"]})]}):D.jsx("div",{style:{marginBottom:8,color:"#ff6b6b"},children:D.jsx("strong",{children:"No winner set"})}),D.jsx("button",{onClick:()=>{w(T),k({player1:T.senderName,player2:T.receiverName}),b(!0)},disabled:R,style:{background:T.winner?"#ff9800":"#28a745",color:"#fff",border:"none",borderRadius:4,padding:"6px 12px",cursor:"pointer",fontSize:"0.9em"},children:R?"Saving...":T.winner?"Edit Winner":"Set Winner"})]},T._id))})]}),g&&D.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:D.jsxs("div",{style:{background:"#333",padding:24,borderRadius:8,maxWidth:400,width:"90%"},children:[D.jsx("h3",{style:{marginTop:0,color:"#fff"},children:"Select Winner"}),D.jsxs("div",{style:{marginBottom:16},children:[D.jsx("button",{onClick:()=>C(x.player1),disabled:R,style:{display:"block",width:"100%",background:"#e53e3e",color:"#fff",border:"none",borderRadius:4,padding:"12px",marginBottom:8,cursor:"pointer",fontSize:"1.1em"},children:x.player1}),D.jsx("button",{onClick:()=>C(x.player2),disabled:R,style:{display:"block",width:"100%",background:"#e53e3e",color:"#fff",border:"none",borderRadius:4,padding:"12px",marginBottom:8,cursor:"pointer",fontSize:"1.1em"},children:x.player2})]}),D.jsx("button",{onClick:()=>b(!1),disabled:R,style:{background:"#666",color:"#fff",border:"none",borderRadius:4,padding:"8px 16px",cursor:"pointer"},children:"Cancel"})]})})]})}function CTe(){const[e,t]=E.useState(null),[n,r]=E.useState([]),[a,i]=E.useState(null),[s,o]=E.useState([]),[c,d]=E.useState(!1),[f,h]=E.useState(!1),[m,g]=E.useState("chat"),[b,_]=E.useState(null),w=gf();E.useEffect(()=>{const I=dS.getInstance(mTe);async function O(){try{await fetch(`${ll}/create-user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:Bx,name:"Admin"})});const L=await(await fetch(`${ll}/token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:Bx})})).json();if(!L.token){alert("Failed to get admin token");return}await I.connectUser({id:Bx,name:"Admin"},L.token),t(I);const C={type:"messaging"},T=[{last_message_at:-1}],S=await I.queryChannels(C,T,{watch:!1,state:!0});r(S)}catch(A){console.error("Admin setup error:",A),alert("Admin setup error: "+A.message)}}return O(),()=>{I&&I.disconnectUser()}},[]),E.useEffect(()=>{if(!a)return;async function I(){d(!0),await a.watch(),o(a.state.messages),d(!1)}I()},[a]);async function x(I){if(window.confirm("Delete this message?"))try{await e.deleteMessage(I),o(O=>O.filter(A=>A.id!==I))}catch(O){alert("Failed to delete message: "+O.message)}}async function k(I){if(window.confirm(`Delete channel "${I.data.name||I.id}"? This cannot be undone.`))try{await I.delete(),r(O=>O.filter(A=>A.id!==I.id)),a&&a.id===I.id&&(i(null),o([]))}catch(O){alert("Failed to delete channel: "+O.message)}}const R=(I,O)=>{_({type:I,message:O}),setTimeout(()=>_(null),5e3)};return e?D.jsxs("div",{className:Sr.adminDashboardRoot,children:[D.jsxs("div",{className:Sr.adminDashboardNav,children:[D.jsx("button",{onClick:()=>{w("/"),window.location.reload()},children:"🏠 User Dashboard"}),D.jsx("button",{onClick:()=>w("/chat"),children:"💬 Back to Chat"}),D.jsx("button",{onClick:()=>{localStorage.clear(),w("/"),window.location.reload()},children:"🚪 Logout"})]}),D.jsxs("div",{className:Sr.adminDashboardMainColumn,children:[b&&D.jsxs("div",{style:{background:b.type==="success"?"#d4edda":"#f8d7da",color:b.type==="success"?"#155724":"#721c24",border:`1px solid ${b.type==="success"?"#c3e6cb":"#f5c6cb"}`,borderRadius:6,padding:"10px 18px",marginBottom:18,fontWeight:600,display:"flex",alignItems:"center",gap:10},children:[b.type==="success"?D.jsx(dTe,{}):D.jsx(fTe,{})," ",b.message]}),D.jsxs("div",{className:Sr.adminCard,children:[D.jsxs("div",{className:Sr.adminCardTitle,children:[D.jsx(hTe,{})," Data Sync"]}),D.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",alignItems:"center"},children:[D.jsx(gTe,{backendUrl:ll}),D.jsx(vTe,{backendUrl:ll}),D.jsx(yTe,{backendUrl:ll})]})]}),D.jsxs("div",{className:Sr.adminCard,children:[D.jsxs("div",{className:Sr.adminCardTitle,children:[D.jsx(pTe,{})," Division Management"]}),D.jsxs("div",{className:Sr.scrollableCardContent,style:{display:"flex",gap:12,flexWrap:"wrap",alignItems:"flex-start"},children:[D.jsx(bTe,{backendUrl:ll,onDivisionCreated:()=>R("success","Division/Season created!")}),D.jsx(_Te,{backendUrl:ll}),D.jsx(wTe,{backendUrl:ll})]})]}),D.jsxs("div",{className:Sr.adminCard,children:[D.jsxs("div",{className:Sr.adminCardTitle,children:[D.jsx(uTe,{})," Reports & Monitoring"]}),D.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",alignItems:"center"},children:[D.jsx("button",{className:Sr.adminActionButton,onClick:()=>h(!0),children:"View Unentered LMS Matches"}),D.jsx(tTe,{open:f,onClose:()=>h(!1)})]})]}),D.jsxs("div",{className:Sr.adminCard,children:[D.jsxs("div",{className:Sr.adminCardTitle,children:[D.jsx(cTe,{})," Chat Admin"]}),D.jsxs("div",{className:Sr.scrollableCardContent+" "+Sr.adminChatWrapper,children:[D.jsxs("div",{className:Sr.adminChannelList,children:[D.jsx("h3",{children:"Channels"}),D.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:n.map(I=>D.jsxs("li",{className:Sr.adminChannelListItem+((a==null?void 0:a.id)===I.id?` ${Sr.selected}`:""),children:[D.jsx("button",{className:Sr.adminDeleteChannelBtn,onClick:async O=>{O.stopPropagation(),await k(I)},title:"Delete Channel",children:"🗑"}),D.jsx("span",{className:Sr.adminChannelName,onClick:()=>i(I),tabIndex:0,style:{outline:"none"},onKeyDown:O=>{O.key==="Enter"&&i(I)},children:I.data.name||I.id})]},I.id))})]}),D.jsxs("div",{className:Sr.adminChannelMessages,children:[D.jsx("h3",{children:a?`Messages in "${a.data.name||a.id}"`:"Select a channel"}),c&&D.jsx("div",{children:"Loading messages..."}),!c&&a&&D.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:s.map(I=>{var O,A;return D.jsxs("li",{className:Sr.adminMessageItem,children:[D.jsxs("b",{children:[((O=I.user)==null?void 0:O.name)||((A=I.user)==null?void 0:A.id),":"]})," ",I.text,D.jsx("button",{className:Sr.adminDeleteMessageBtn,onClick:()=>x(I.id),title:"Delete Message",children:"🗑"})]},I.id)})})]})]})]}),D.jsxs("div",{className:Sr.adminCard,children:[D.jsxs("div",{className:Sr.adminCardTitle,children:[D.jsx(CF,{})," Admin Match Manager"]}),D.jsx("div",{className:Sr.scrollableCardContent,children:D.jsx(xTe,{backendUrl:ll})})]})]})]}):D.jsx("div",{children:"Loading admin chat client..."})}const DTe="1tvMgMHsRwQxsR6lMNlSnztmwpK7fhZeNEyqjTqmRFRc",STe="BCAPL SIGNUP";function ETe({onSuccess:e}){const[t,n]=E.useState(""),[r,a]=E.useState(""),[i,s]=E.useState(!1),o=async()=>{if(!t){a("Please enter your email or PIN.");return}a(""),s(!0);try{const h=(await mS(DTe,`${STe}!A1:L1000`)).slice(1).find(m=>(m[2]||"").trim().toLowerCase()===t.trim().toLowerCase()||(m[11]||"").trim()===t.trim());s(!1),h?(a(""),e(`${h[0]||""} ${h[1]||""}`.trim(),h[2]||"",h[11]||"")):a("No user found with that email or PIN. Please try again or contact frbcapl@gmail.com for help.")}catch(d){s(!1),a("Error verifying login. Please try again later."),console.error("Login verification error:",d)}},c=d=>{d.key==="Enter"&&o()};return D.jsx("div",{className:bs.pinLoginBg,children:D.jsxs("div",{className:bs.pinLoginFrame,children:[D.jsx("a",{href:"https://frusapl.com/frbcapl-singles#3a534cc1-c4ac-4c04-8d7a-a0fe9ddfaca4",target:"_blank",rel:"noopener noreferrer",className:bs.signupBtn,style:{marginBottom:"1.5rem"},children:"Sign Up for Beta Test"}),D.jsx("div",{className:bs.simulationContainer,children:D.jsx(iN,{aspectWidth:600,aspectHeight:300,children:D.jsx(OD,{})})}),D.jsxs("div",{className:bs.pinLoginCard,children:[D.jsxs("h3",{className:bs.pinLoginSubtitle,children:[D.jsx("span",{className:bs.pinLoginLock,"aria-hidden":"true",children:"🔒"}),D.jsx("span",{className:bs.pinOutlineText,children:" Enter Email"})]}),D.jsx("input",{type:"text",value:t,onChange:d=>n(d.target.value),onKeyDown:c,placeholder:"Email",autoFocus:!0,className:bs.pinInput,"aria-label":"Email",disabled:i}),D.jsx("button",{onClick:o,disabled:i,className:bs.pinLoginBtn,type:"button",children:i?"Verifying...":"Submit"}),r&&D.jsx("p",{className:bs.pinLoginError,role:"alert",children:r})]})]})})}function MTe(){return D.jsx("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem 0",position:"fixed",top:0,left:0,zIndex:1e3,background:"rgba(20,20,20,0.95)",backdropFilter:"blur(4px)",borderBottom:"2px solid #e53e3e",boxShadow:"0 2px 20px rgba(0,0,0,0.8)"},children:D.jsx("span",{className:"app-header-title",children:"Front Range Pool League"})})}function TTe({isAuthenticated:e,userFirstName:t,userLastName:n,userEmail:r,userPin:a,handleLoginSuccess:i,handleLogout:s}){const o=gf();return D.jsx("main",{className:"main-app-content",children:e?D.jsx(s5,{playerName:t,playerLastName:n,senderEmail:r,onScheduleMatch:()=>{},onOpenChat:()=>window.location.hash="#/chat",onLogout:s,userPin:a,onGoToAdmin:()=>o("/admin")}):D.jsx(ETe,{onSuccess:i})})}function kTe(){const[e,t]=E.useState(!1),[n,r]=E.useState(""),[a,i]=E.useState(""),[s,o]=E.useState(""),[c,d]=E.useState("");E.useEffect(()=>{localStorage.getItem("isAuthenticated")==="true"&&(r(localStorage.getItem("userFirstName")||""),i(localStorage.getItem("userLastName")||""),o(localStorage.getItem("userEmail")||""),d(localStorage.getItem("userPin")||""),t(!0))},[]);const f=(m,g,b)=>{let _="",w="";if(m){const x=m.trim().split(" ");_=x[0],w=x.slice(1).join(" ")}r(_),i(w),o(g),d(b),t(!0),localStorage.setItem("userFirstName",_),localStorage.setItem("userLastName",w),localStorage.setItem("userEmail",g),localStorage.setItem("userPin",b),localStorage.setItem("isAuthenticated","true")},h=()=>{r(""),i(""),o(""),d(""),t(!1),localStorage.removeItem("userFirstName"),localStorage.removeItem("userLastName"),localStorage.removeItem("userEmail"),localStorage.removeItem("userPin"),localStorage.removeItem("isAuthenticated")};return D.jsx(Aj,{children:D.jsxs("div",{style:{position:"relative",minHeight:"100vh",width:"100%",overflowX:"hidden",background:"#000"},children:[D.jsx(PX,{}),D.jsxs("div",{style:{position:"relative",zIndex:3,maxWidth:900,margin:"0 auto",width:"100%",background:"none"},children:[D.jsx(MTe,{}),D.jsxs(wT,{children:[D.jsx(lc,{path:"/admin",element:e&&c==="777777"?D.jsx("div",{className:"admin-app-content",children:D.jsx(CTe,{})}):D.jsx(Cg,{to:"/"})}),D.jsx(lc,{path:"*",element:D.jsx("main",{className:"main-app-content",children:D.jsxs(wT,{children:[D.jsx(lc,{path:"/confirm-match",element:D.jsx(A$,{})}),D.jsx(lc,{path:"/chat",element:e?D.jsx(EMe,{userName:`${n} ${a}`,userEmail:s,userPin:c}):D.jsx(Cg,{to:"/"})}),D.jsx(lc,{path:"/dashboard",element:e?D.jsx(s5,{playerName:n,playerLastName:a,senderEmail:s,onScheduleMatch:()=>{},onOpenChat:()=>window.location.hash="#/chat",onLogout:h,userPin:c,onGoToAdmin:()=>{}}):D.jsx(Cg,{to:"/"})}),D.jsx(lc,{path:"/",element:D.jsx(TTe,{isAuthenticated:e,userFirstName:n,userLastName:a,userEmail:s,userPin:c,handleLoginSuccess:f,handleLogout:h})}),D.jsx(lc,{path:"*",element:D.jsx(Cg,{to:"/"})})]})})})]})]})]})})}var DF=function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(a,i){return a[0]===n?(r=i,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),a=this.__entries__[r];return a&&a[1]},t.prototype.set=function(n,r){var a=e(this.__entries__,n);~a?this.__entries__[a][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,a=e(r,n);~a&&r.splice(a,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var a=0,i=this.__entries__;a<i.length;a++){var s=i[a];n.call(r,s[1],s[0])}},t}()}(),bD=typeof window<"u"&&typeof document<"u"&&window.document===document,q0=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),RTe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(q0):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),ATe=2;function OTe(e,t){var n=!1,r=!1,a=0;function i(){n&&(n=!1,e()),r&&o()}function s(){RTe(i)}function o(){var c=Date.now();if(n){if(c-a<ATe)return;r=!0}else n=!0,r=!1,setTimeout(s,t);a=c}return o}var LTe=20,NTe=["top","right","bottom","left","width","height","size","weight"],PTe=typeof MutationObserver<"u",ITe=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=OTe(this.refresh.bind(this),LTe)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!bD||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),PTe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!bD||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,a=NTe.some(function(i){return!!~r.indexOf(i)});a&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),SF=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},hf=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||q0},EF=Y1(0,0,0,0);function Y0(e){return parseFloat(e)||0}function _L(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,a){var i=e["border-"+a+"-width"];return r+Y0(i)},0)}function FTe(e){for(var t=["top","right","bottom","left"],n={},r=0,a=t;r<a.length;r++){var i=a[r],s=e["padding-"+i];n[i]=Y0(s)}return n}function jTe(e){var t=e.getBBox();return Y1(0,0,t.width,t.height)}function UTe(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return EF;var r=hf(e).getComputedStyle(e),a=FTe(r),i=a.left+a.right,s=a.top+a.bottom,o=Y0(r.width),c=Y0(r.height);if(r.boxSizing==="border-box"&&(Math.round(o+i)!==t&&(o-=_L(r,"left","right")+i),Math.round(c+s)!==n&&(c-=_L(r,"top","bottom")+s)),!$Te(e)){var d=Math.round(o+i)-t,f=Math.round(c+s)-n;Math.abs(d)!==1&&(o-=d),Math.abs(f)!==1&&(c-=f)}return Y1(a.left,a.top,o,c)}var BTe=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof hf(e).SVGGraphicsElement}:function(e){return e instanceof hf(e).SVGElement&&typeof e.getBBox=="function"}}();function $Te(e){return e===hf(e).document.documentElement}function zTe(e){return bD?BTe(e)?jTe(e):UTe(e):EF}function HTe(e){var t=e.x,n=e.y,r=e.width,a=e.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(i.prototype);return SF(s,{x:t,y:n,width:r,height:a,top:n,right:t+r,bottom:a+n,left:t}),s}function Y1(e,t,n,r){return{x:e,y:t,width:n,height:r}}var VTe=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Y1(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=zTe(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),qTe=function(){function e(t,n){var r=HTe(n);SF(this,{target:t,contentRect:r})}return e}(),YTe=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new DF,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof hf(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new VTe(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof hf(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new qTe(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),MF=typeof WeakMap<"u"?new WeakMap:new DF,TF=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ITe.getInstance(),r=new YTe(t,n,this);MF.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){TF.prototype[e]=function(){var t;return(t=MF.get(this))[e].apply(t,arguments)}});var WTe=function(){return typeof q0.ResizeObserver<"u"?q0.ResizeObserver:TF}();window.ResizeObserver=window.ResizeObserver||WTe;g9.createRoot(document.getElementById("root")).render(D.jsx(v.StrictMode,{children:D.jsx(kTe,{})}));export{v as R,ma as a,l5 as b,E as c,TS as d,ha as e,Or as g,kne as l,hoe as r};
