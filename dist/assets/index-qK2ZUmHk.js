var JS=Object.defineProperty;var KS=(t,a,e)=>a in t?JS(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e;var ze=(t,a,e)=>KS(t,typeof a!="symbol"?a+"":a,e);function eC(t,a){for(var e=0;e<a.length;e++){const n=a[e];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(n,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=e(i);fetch(i.href,l)}})();const tC="modulepreload",nC=function(t,a){return new URL(t,a).href},E2={},aC=function(a,e,n){let i=Promise.resolve();if(e&&e.length>0){let c=function(f){return Promise.all(f.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const u=document.getElementsByTagName("link"),m=document.querySelector("meta[property=csp-nonce]"),h=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));i=c(e.map(f=>{if(f=nC(f,n),f in E2)return;E2[f]=!0;const y=f.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(!!n)for(let _=u.length-1;_>=0;_--){const S=u[_];if(S.href===f&&(!y||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${b}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":tC,y||(E.as="script"),E.crossOrigin="",E.href=f,h&&E.setAttribute("nonce",h),document.head.appendChild(E),y)return new Promise((_,S)=>{E.addEventListener("load",_),E.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return a().catch(l)})};function gp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zh={exports:{}},gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function rC(){if(w2)return gt;w2=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),y=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=y&&P[y]||P["@@iterator"],typeof P=="function"?P:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,_={};function S(P,j,J){this.props=P,this.context=j,this.refs=_,this.updater=J||w}S.prototype.isReactComponent={},S.prototype.setState=function(P,j){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,j,"setState")},S.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function C(){}C.prototype=S.prototype;function I(P,j,J){this.props=P,this.context=j,this.refs=_,this.updater=J||w}var N=I.prototype=new C;N.constructor=I,E(N,S.prototype),N.isPureReactComponent=!0;var k=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function q(P,j,J,W,re,X){return J=X.ref,{$$typeof:t,type:P,key:j,ref:J!==void 0?J:null,props:X}}function z(P,j){return q(P.type,j,void 0,void 0,void 0,P.props)}function G(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function K(P){var j={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(J){return j[J]})}var ie=/\/+/g;function H(P,j){return typeof P=="object"&&P!==null&&P.key!=null?K(""+P.key):j.toString(36)}function Z(){}function O(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Z,Z):(P.status="pending",P.then(function(j){P.status==="pending"&&(P.status="fulfilled",P.value=j)},function(j){P.status==="pending"&&(P.status="rejected",P.reason=j)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function R(P,j,J,W,re){var X=typeof P;(X==="undefined"||X==="boolean")&&(P=null);var me=!1;if(P===null)me=!0;else switch(X){case"bigint":case"string":case"number":me=!0;break;case"object":switch(P.$$typeof){case t:case a:me=!0;break;case f:return me=P._init,R(me(P._payload),j,J,W,re)}}if(me)return re=re(P),me=W===""?"."+H(P,0):W,k(re)?(J="",me!=null&&(J=me.replace(ie,"$&/")+"/"),R(re,j,J,"",function(st){return st})):re!=null&&(G(re)&&(re=z(re,J+(re.key==null||P&&P.key===re.key?"":(""+re.key).replace(ie,"$&/")+"/")+me)),j.push(re)),1;me=0;var Ce=W===""?".":W+":";if(k(P))for(var Se=0;Se<P.length;Se++)W=P[Se],X=Ce+H(W,Se),me+=R(W,j,J,X,re);else if(Se=b(P),typeof Se=="function")for(P=Se.call(P),Se=0;!(W=P.next()).done;)W=W.value,X=Ce+H(W,Se++),me+=R(W,j,J,X,re);else if(X==="object"){if(typeof P.then=="function")return R(O(P),j,J,W,re);throw j=String(P),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return me}function A(P,j,J){if(P==null)return P;var W=[],re=0;return R(P,W,"","",function(X){return j.call(J,X,re++)}),W}function F(P){if(P._status===-1){var j=P._result;j=j(),j.then(function(J){(P._status===0||P._status===-1)&&(P._status=1,P._result=J)},function(J){(P._status===0||P._status===-1)&&(P._status=2,P._result=J)}),P._status===-1&&(P._status=0,P._result=j)}if(P._status===1)return P._result.default;throw P._result}var Q=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function V(){}return gt.Children={map:A,forEach:function(P,j,J){A(P,function(){j.apply(this,arguments)},J)},count:function(P){var j=0;return A(P,function(){j++}),j},toArray:function(P){return A(P,function(j){return j})||[]},only:function(P){if(!G(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},gt.Component=S,gt.Fragment=e,gt.Profiler=i,gt.PureComponent=I,gt.StrictMode=n,gt.Suspense=m,gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,gt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return M.H.useMemoCache(P)}},gt.cache=function(P){return function(){return P.apply(null,arguments)}},gt.cloneElement=function(P,j,J){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var W=E({},P.props),re=P.key,X=void 0;if(j!=null)for(me in j.ref!==void 0&&(X=void 0),j.key!==void 0&&(re=""+j.key),j)!T.call(j,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&j.ref===void 0||(W[me]=j[me]);var me=arguments.length-2;if(me===1)W.children=J;else if(1<me){for(var Ce=Array(me),Se=0;Se<me;Se++)Ce[Se]=arguments[Se+2];W.children=Ce}return q(P.type,re,void 0,void 0,X,W)},gt.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},gt.createElement=function(P,j,J){var W,re={},X=null;if(j!=null)for(W in j.key!==void 0&&(X=""+j.key),j)T.call(j,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(re[W]=j[W]);var me=arguments.length-2;if(me===1)re.children=J;else if(1<me){for(var Ce=Array(me),Se=0;Se<me;Se++)Ce[Se]=arguments[Se+2];re.children=Ce}if(P&&P.defaultProps)for(W in me=P.defaultProps,me)re[W]===void 0&&(re[W]=me[W]);return q(P,X,void 0,void 0,null,re)},gt.createRef=function(){return{current:null}},gt.forwardRef=function(P){return{$$typeof:u,render:P}},gt.isValidElement=G,gt.lazy=function(P){return{$$typeof:f,_payload:{_status:-1,_result:P},_init:F}},gt.memo=function(P,j){return{$$typeof:h,type:P,compare:j===void 0?null:j}},gt.startTransition=function(P){var j=M.T,J={};M.T=J;try{var W=P(),re=M.S;re!==null&&re(J,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(V,Q)}catch(X){Q(X)}finally{M.T=j}},gt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},gt.use=function(P){return M.H.use(P)},gt.useActionState=function(P,j,J){return M.H.useActionState(P,j,J)},gt.useCallback=function(P,j){return M.H.useCallback(P,j)},gt.useContext=function(P){return M.H.useContext(P)},gt.useDebugValue=function(){},gt.useDeferredValue=function(P,j){return M.H.useDeferredValue(P,j)},gt.useEffect=function(P,j,J){var W=M.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(P,j)},gt.useId=function(){return M.H.useId()},gt.useImperativeHandle=function(P,j,J){return M.H.useImperativeHandle(P,j,J)},gt.useInsertionEffect=function(P,j){return M.H.useInsertionEffect(P,j)},gt.useLayoutEffect=function(P,j){return M.H.useLayoutEffect(P,j)},gt.useMemo=function(P,j){return M.H.useMemo(P,j)},gt.useOptimistic=function(P,j){return M.H.useOptimistic(P,j)},gt.useReducer=function(P,j,J){return M.H.useReducer(P,j,J)},gt.useRef=function(P){return M.H.useRef(P)},gt.useState=function(P){return M.H.useState(P)},gt.useSyncExternalStore=function(P,j,J){return M.H.useSyncExternalStore(P,j,J)},gt.useTransition=function(){return M.H.useTransition()},gt.version="19.1.0",gt}var S2;function h0(){return S2||(S2=1,zh.exports=rC()),zh.exports}var v=h0();const r=gp(v),Wx=eC({__proto__:null,default:r},[v]);var Uh={exports:{}},Nc={},Fh={exports:{}},Wh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2;function sC(){return C2||(C2=1,function(t){function a(A,F){var Q=A.length;A.push(F);e:for(;0<Q;){var V=Q-1>>>1,P=A[V];if(0<i(P,F))A[V]=F,A[Q]=P,Q=V;else break e}}function e(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var F=A[0],Q=A.pop();if(Q!==F){A[0]=Q;e:for(var V=0,P=A.length,j=P>>>1;V<j;){var J=2*(V+1)-1,W=A[J],re=J+1,X=A[re];if(0>i(W,Q))re<P&&0>i(X,W)?(A[V]=X,A[re]=Q,V=re):(A[V]=W,A[J]=Q,V=J);else if(re<P&&0>i(X,Q))A[V]=X,A[re]=Q,V=re;else break e}}return F}function i(A,F){var Q=A.sortIndex-F.sortIndex;return Q!==0?Q:A.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var m=[],h=[],f=1,y=null,b=3,w=!1,E=!1,_=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function k(A){for(var F=e(h);F!==null;){if(F.callback===null)n(h);else if(F.startTime<=A)n(h),F.sortIndex=F.expirationTime,a(m,F);else break;F=e(h)}}function M(A){if(_=!1,k(A),!E)if(e(m)!==null)E=!0,T||(T=!0,H());else{var F=e(h);F!==null&&R(M,F.startTime-A)}}var T=!1,q=-1,z=5,G=-1;function K(){return S?!0:!(t.unstable_now()-G<z)}function ie(){if(S=!1,T){var A=t.unstable_now();G=A;var F=!0;try{e:{E=!1,_&&(_=!1,I(q),q=-1),w=!0;var Q=b;try{t:{for(k(A),y=e(m);y!==null&&!(y.expirationTime>A&&K());){var V=y.callback;if(typeof V=="function"){y.callback=null,b=y.priorityLevel;var P=V(y.expirationTime<=A);if(A=t.unstable_now(),typeof P=="function"){y.callback=P,k(A),F=!0;break t}y===e(m)&&n(m),k(A)}else n(m);y=e(m)}if(y!==null)F=!0;else{var j=e(h);j!==null&&R(M,j.startTime-A),F=!1}}break e}finally{y=null,b=Q,w=!1}F=void 0}}finally{F?H():T=!1}}}var H;if(typeof N=="function")H=function(){N(ie)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,O=Z.port2;Z.port1.onmessage=ie,H=function(){O.postMessage(null)}}else H=function(){C(ie,0)};function R(A,F){q=C(function(){A(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(A){switch(b){case 1:case 2:case 3:var F=3;break;default:F=b}var Q=b;b=F;try{return A()}finally{b=Q}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(A,F){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var Q=b;b=A;try{return F()}finally{b=Q}},t.unstable_scheduleCallback=function(A,F,Q){var V=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?V+Q:V):Q=V,A){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Q+P,A={id:f++,callback:F,priorityLevel:A,startTime:Q,expirationTime:P,sortIndex:-1},Q>V?(A.sortIndex=Q,a(h,A),e(m)===null&&A===e(h)&&(_?(I(q),q=-1):_=!0,R(M,Q-V))):(A.sortIndex=P,a(m,A),E||w||(E=!0,T||(T=!0,H()))),A},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(A){var F=b;return function(){var Q=b;b=F;try{return A.apply(this,arguments)}finally{b=Q}}}}(Wh)),Wh}var _2;function iC(){return _2||(_2=1,Fh.exports=sC()),Fh.exports}var Hh={exports:{}},ma={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I2;function oC(){if(I2)return ma;I2=1;var t=h0();function a(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(a(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(m,h,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:m,containerInfo:h,implementation:f}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ma.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ma.createPortal=function(m,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(a(299));return l(m,h,null,f)},ma.flushSync=function(m){var h=c.T,f=n.p;try{if(c.T=null,n.p=2,m)return m()}finally{c.T=h,n.p=f,n.d.f()}},ma.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(m,h))},ma.prefetchDNS=function(m){typeof m=="string"&&n.d.D(m)},ma.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var f=h.as,y=u(f,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?n.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:w}):f==="script"&&n.d.X(m,{crossOrigin:y,integrity:b,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ma.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=u(h.as,h.crossOrigin);n.d.M(m,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(m)},ma.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,y=u(f,h.crossOrigin);n.d.L(m,f,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ma.preloadModule=function(m,h){if(typeof m=="string")if(h){var f=u(h.as,h.crossOrigin);n.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(m)},ma.requestFormReset=function(m){n.d.r(m)},ma.unstable_batchedUpdates=function(m,h){return m(h)},ma.useFormState=function(m,h,f){return c.H.useFormState(m,h,f)},ma.useFormStatus=function(){return c.H.useHostTransitionStatus()},ma.version="19.1.0",ma}var k2;function Hx(){if(k2)return Hh.exports;k2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Hh.exports=oC(),Hh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2;function lC(){if(N2)return Nc;N2=1;var t=iC(),a=h0(),e=Hx();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var o=s,d=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(d=o.return),s=o.return;while(s)}return o.tag===3?d:null}function c(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(l(s)!==s)throw Error(n(188))}function m(s){var o=s.alternate;if(!o){if(o=l(s),o===null)throw Error(n(188));return o!==s?null:s}for(var d=s,p=o;;){var g=d.return;if(g===null)break;var x=g.alternate;if(x===null){if(p=g.return,p!==null){d=p;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===d)return u(g),s;if(x===p)return u(g),o;x=x.sibling}throw Error(n(188))}if(d.return!==p.return)d=g,p=x;else{for(var D=!1,B=g.child;B;){if(B===d){D=!0,d=g,p=x;break}if(B===p){D=!0,p=g,d=x;break}B=B.sibling}if(!D){for(B=x.child;B;){if(B===d){D=!0,d=x,p=g;break}if(B===p){D=!0,p=x,d=g;break}B=B.sibling}if(!D)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:o}function h(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=h(s),o!==null)return o;s=s.sibling}return null}var f=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Symbol.for("react.client.reference");function O(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Z?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case S:return"Profiler";case _:return"StrictMode";case M:return"Suspense";case T:return"SuspenseList";case G:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case N:return(s.displayName||"Context")+".Provider";case I:return(s._context.displayName||"Context")+".Consumer";case k:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case q:return o=s.displayName||null,o!==null?o:O(s.type)||"Memo";case z:o=s._payload,s=s._init;try{return O(s(o))}catch{}}return null}var R=Array.isArray,A=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},V=[],P=-1;function j(s){return{current:s}}function J(s){0>P||(s.current=V[P],V[P]=null,P--)}function W(s,o){P++,V[P]=s.current,s.current=o}var re=j(null),X=j(null),me=j(null),Ce=j(null);function Se(s,o){switch(W(me,o),W(X,s),W(re,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?Vb(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=Vb(o),s=Qb(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}J(re),W(re,s)}function st(){J(re),J(X),J(me)}function ye(s){s.memoizedState!==null&&W(Ce,s);var o=re.current,d=Qb(o,s.type);o!==d&&(W(X,s),W(re,d))}function Ze(s){X.current===s&&(J(re),J(X)),Ce.current===s&&(J(Ce),Sc._currentValue=Q)}var qe=Object.prototype.hasOwnProperty,ct=t.unstable_scheduleCallback,Qe=t.unstable_cancelCallback,Rt=t.unstable_shouldYield,pn=t.unstable_requestPaint,Pt=t.unstable_now,rn=t.unstable_getCurrentPriorityLevel,Gn=t.unstable_ImmediatePriority,tn=t.unstable_UserBlockingPriority,ue=t.unstable_NormalPriority,Ke=t.unstable_LowPriority,Ye=t.unstable_IdlePriority,wt=t.log,te=t.unstable_setDisableYieldValue,Pe=null,He=null;function Ae(s){if(typeof wt=="function"&&te(s),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Pe,s)}catch{}}var et=Math.clz32?Math.clz32:Zn,dt=Math.log,Jt=Math.LN2;function Zn(s){return s>>>=0,s===0?32:31-(dt(s)/Jt|0)|0}var Hn=256,An=4194304;function jn(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ka(s,o,d){var p=s.pendingLanes;if(p===0)return 0;var g=0,x=s.suspendedLanes,D=s.pingedLanes;s=s.warmLanes;var B=p&134217727;return B!==0?(p=B&~x,p!==0?g=jn(p):(D&=B,D!==0?g=jn(D):d||(d=B&~s,d!==0&&(g=jn(d))))):(B=p&~x,B!==0?g=jn(B):D!==0?g=jn(D):d||(d=p&~s,d!==0&&(g=jn(d)))),g===0?0:o!==0&&o!==g&&(o&x)===0&&(x=g&-g,d=o&-o,x>=d||x===32&&(d&4194048)!==0)?o:g}function Xe(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function ut(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nn(){var s=Hn;return Hn<<=1,(Hn&4194048)===0&&(Hn=256),s}function Na(){var s=An;return An<<=1,(An&62914560)===0&&(An=4194304),s}function En(s){for(var o=[],d=0;31>d;d++)o.push(s);return o}function La(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Vn(s,o,d,p,g,x){var D=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var B=s.entanglements,$=s.expirationTimes,le=s.hiddenUpdates;for(d=D&~d;0<d;){var ge=31-et(d),Ee=1<<ge;B[ge]=0,$[ge]=-1;var ce=le[ge];if(ce!==null)for(le[ge]=null,ge=0;ge<ce.length;ge++){var de=ce[ge];de!==null&&(de.lane&=-536870913)}d&=~Ee}p!==0&&ca(s,p,0),x!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=x&~(D&~o))}function ca(s,o,d){s.pendingLanes|=o,s.suspendedLanes&=~o;var p=31-et(o);s.entangledLanes|=o,s.entanglements[p]=s.entanglements[p]|1073741824|d&4194090}function Aa(s,o){var d=s.entangledLanes|=o;for(s=s.entanglements;d;){var p=31-et(d),g=1<<p;g&o|s[p]&o&&(s[p]|=o),d&=~g}}function Ba(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function zn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function $s(){var s=F.p;return s!==0?s:(s=window.event,s===void 0?32:h2(s.type))}function Co(s,o){var d=F.p;try{return F.p=s,o()}finally{F.p=d}}var ya=Math.random().toString(36).slice(2),Kt="__reactFiber$"+ya,wn="__reactProps$"+ya,Ka="__reactContainer$"+ya,Gs="__reactEvents$"+ya,Zs="__reactListeners$"+ya,cs="__reactHandles$"+ya,Vs="__reactResources$"+ya,Pr="__reactMarker$"+ya;function ds(s){delete s[Kt],delete s[wn],delete s[Gs],delete s[Zs],delete s[cs]}function Da(s){var o=s[Kt];if(o)return o;for(var d=s.parentNode;d;){if(o=d[Ka]||d[Kt]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(s=e2(s);s!==null;){if(d=s[Kt])return d;s=e2(s)}return o}s=d,d=s.parentNode}return null}function Lr(s){if(s=s[Kt]||s[Ka]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function us(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function xr(s){var o=s[Vs];return o||(o=s[Vs]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function fn(s){s[Pr]=!0}var Bi=new Set,Oi={};function da(s,o){Er(s,o),Er(s+"Capture",o)}function Er(s,o){for(Oi[s]=o,s=0;s<o.length;s++)Bi.add(o[s])}var ms=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wr={},Qs={};function ps(s){return qe.call(Qs,s)?!0:qe.call(wr,s)?!1:ms.test(s)?Qs[s]=!0:(wr[s]=!0,!1)}function fs(s,o,d){if(ps(o))if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+d)}}function hs(s,o,d){if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+d)}}function Ma(s,o,d,p){if(p===null)s.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(o,d,""+p)}}var gs,Oa;function Sr(s){if(gs===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);gs=o&&o[1]||"",Oa=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+s+Oa}var zi=!1;function Ui(s,o){if(!s||zi)return"";zi=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(de){var ce=de}Reflect.construct(s,[],Ee)}else{try{Ee.call()}catch(de){ce=de}s.call(Ee.prototype)}}else{try{throw Error()}catch(de){ce=de}(Ee=s())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(de){if(de&&ce&&typeof de.stack=="string")return[de.stack,ce.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=p.DetermineComponentFrameRoot(),D=x[0],B=x[1];if(D&&B){var $=D.split(`
`),le=B.split(`
`);for(g=p=0;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;for(;g<le.length&&!le[g].includes("DetermineComponentFrameRoot");)g++;if(p===$.length||g===le.length)for(p=$.length-1,g=le.length-1;1<=p&&0<=g&&$[p]!==le[g];)g--;for(;1<=p&&0<=g;p--,g--)if($[p]!==le[g]){if(p!==1||g!==1)do if(p--,g--,0>g||$[p]!==le[g]){var ge=`
`+$[p].replace(" at new "," at ");return s.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",s.displayName)),ge}while(1<=p&&0<=g);break}}}finally{zi=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Sr(d):""}function Pl(s){switch(s.tag){case 26:case 27:case 5:return Sr(s.type);case 16:return Sr("Lazy");case 13:return Sr("Suspense");case 19:return Sr("SuspenseList");case 0:case 15:return Ui(s.type,!1);case 11:return Ui(s.type.render,!1);case 1:return Ui(s.type,!0);case 31:return Sr("Activity");default:return""}}function _o(s){try{var o="";do o+=Pl(s),s=s.return;while(s);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Qn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Io(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ne(s){var o=Io(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,x=d.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(D){p=""+D,x.call(this,D)}}),Object.defineProperty(s,o,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(D){p=""+D},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function L(s){s._valueTracker||(s._valueTracker=ne(s))}function fe(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return s&&(p=Io(s)?s.checked?"true":"false":s.value),s=p,s!==d?(o.setValue(s),!0):!1}function be(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var we=/[\n"\\]/g;function Me(s){return s.replace(we,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function De(s,o,d,p,g,x,D,B){s.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.type=D:s.removeAttribute("type"),o!=null?D==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Qn(o)):s.value!==""+Qn(o)&&(s.value=""+Qn(o)):D!=="submit"&&D!=="reset"||s.removeAttribute("value"),o!=null?mt(s,D,Qn(o)):d!=null?mt(s,D,Qn(d)):p!=null&&s.removeAttribute("value"),g==null&&x!=null&&(s.defaultChecked=!!x),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?s.name=""+Qn(B):s.removeAttribute("name")}function Be(s,o,d,p,g,x,D,B){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),o!=null||d!=null){if(!(x!=="submit"&&x!=="reset"||o!=null))return;d=d!=null?""+Qn(d):"",o=o!=null?""+Qn(o):d,B||o===s.value||(s.value=o),s.defaultValue=o}p=p??g,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=B?s.checked:!!p,s.defaultChecked=!!p,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(s.name=D)}function mt(s,o,d){o==="number"&&be(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function $e(s,o,d,p){if(s=s.options,o){o={};for(var g=0;g<d.length;g++)o["$"+d[g]]=!0;for(d=0;d<s.length;d++)g=o.hasOwnProperty("$"+s[d].value),s[d].selected!==g&&(s[d].selected=g),g&&p&&(s[d].defaultSelected=!0)}else{for(d=""+Qn(d),o=null,g=0;g<s.length;g++){if(s[g].value===d){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function pt(s,o,d){if(o!=null&&(o=""+Qn(o),o!==s.value&&(s.value=o),d==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=d!=null?""+Qn(d):""}function Je(s,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(n(92));if(R(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=Qn(o),s.defaultValue=d,p=s.textContent,p===d&&p!==""&&p!==null&&(s.value=p)}function Te(s,o){if(o){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=o;return}}s.textContent=o}var pe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ne(s,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":p?s.setProperty(o,d):typeof d!="number"||d===0||pe.has(o)?o==="float"?s.cssFloat=d:s[o]=(""+d).trim():s[o]=d+"px"}function Le(s,o,d){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var g in o)p=o[g],o.hasOwnProperty(g)&&d[g]!==p&&Ne(s,g,p)}else for(var x in o)o.hasOwnProperty(x)&&Ne(s,x,o[x])}function Ue(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(s){return Lt.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Br=null;function Nt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var We=null,Ut=null;function Qt(s){var o=Lr(s);if(o&&(s=o.stateNode)){var d=s[wn]||null;e:switch(s=o.stateNode,o.type){case"input":if(De(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Me(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==s&&p.form===s.form){var g=p[wn]||null;if(!g)throw Error(n(90));De(p,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===s.form&&fe(p)}break e;case"textarea":pt(s,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&$e(s,!!d.multiple,o,!1)}}}var Dn=!1;function va(s,o,d){if(Dn)return s(o,d);Dn=!0;try{var p=s(o);return p}finally{if(Dn=!1,(We!==null||Ut!==null)&&(hu(),We&&(o=We,s=Ut,Ut=We=null,Qt(o),s)))for(o=0;o<s.length;o++)Qt(s[o])}}function hn(s,o){var d=s.stateNode;if(d===null)return null;var p=d[wn]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xn=!1;if(sn)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{Xn=!1}var Jn=null,er=null,Mn=null;function Sn(){if(Mn)return Mn;var s,o=er,d=o.length,p,g="value"in Jn?Jn.value:Jn.textContent,x=g.length;for(s=0;s<d&&o[s]===g[s];s++);var D=d-s;for(p=1;p<=D&&o[d-p]===g[x-p];p++);return Mn=g.slice(s,1<p?1-p:void 0)}function xa(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function za(){return!0}function Cr(){return!1}function Tn(s){function o(d,p,g,x,D){this._reactName=d,this._targetInst=g,this.type=p,this.nativeEvent=x,this.target=D,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(d=s[B],this[B]=d?d(x):x[B]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?za:Cr,this.isPropagationStopped=Cr,this}return f(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),o}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=Tn(_r),ys=f({},_r,{view:0,detail:0}),ko=Tn(ys),Ll,Bl,No,Fi=f({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==No&&(No&&s.type==="mousemove"?(Ll=s.screenX-No.screenX,Bl=s.screenY-No.screenY):Bl=Ll=0,No=s),Ll)},movementY:function(s){return"movementY"in s?s.movementY:Bl}}),Dd=Tn(Fi),Md=f({},Fi,{dataTransfer:0}),Fp=Tn(Md),sy=f({},ys,{relatedTarget:0}),Ir=Tn(sy),Ol=f({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),Wp=Tn(Ol),Td=f({},_r,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),iy=Tn(Td),Hp=f({},_r,{data:0}),zl=Tn(Hp),jp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ao={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ul(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Ao[s])?!!o[s]:!1}function Ua(){return Ul}var Pd=f({},ys,{key:function(s){if(s.key){var o=jp[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=xa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Rd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(s){return s.type==="keypress"?xa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?xa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Yp=Tn(Pd),qp=f({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fl=Tn(qp),Js=f({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),$p=Tn(Js),Y=f({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),_e=Tn(Y),Oe=f({},Fi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),yt=Tn(Oe),It=f({},_r,{newState:0,oldState:0}),ft=Tn(It),gn=[9,13,27,32],Or=sn&&"CompositionEvent"in window,Ve=null;sn&&"documentMode"in document&&(Ve=document.documentMode);var Ea=sn&&"TextEvent"in window&&!Ve,zr=sn&&(!Or||Ve&&8<Ve&&11>=Ve),Wi=" ",Ld=!1;function oy(s,o){switch(s){case"keyup":return gn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ly(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Do=!1;function C5(s,o){switch(s){case"compositionend":return ly(o);case"keypress":return o.which!==32?null:(Ld=!0,Wi);case"textInput":return s=o.data,s===Wi&&Ld?null:s;default:return null}}function _5(s,o){if(Do)return s==="compositionend"||!Or&&oy(s,o)?(s=Sn(),Mn=er=Jn=null,Do=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return zr&&o.locale!=="ko"?null:o.data;default:return null}}var I5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!I5[s.type]:o==="textarea"}function dy(s,o,d,p){We?Ut?Ut.push(p):Ut=[p]:We=p,o=Eu(o,"onChange"),0<o.length&&(d=new Xs("onChange","change",null,d,p),s.push({event:d,listeners:o}))}var Wl=null,Hl=null;function k5(s){Yb(s,0)}function Bd(s){var o=us(s);if(fe(o))return s}function uy(s,o){if(s==="change")return o}var my=!1;if(sn){var Gp;if(sn){var Zp="oninput"in document;if(!Zp){var py=document.createElement("div");py.setAttribute("oninput","return;"),Zp=typeof py.oninput=="function"}Gp=Zp}else Gp=!1;my=Gp&&(!document.documentMode||9<document.documentMode)}function fy(){Wl&&(Wl.detachEvent("onpropertychange",hy),Hl=Wl=null)}function hy(s){if(s.propertyName==="value"&&Bd(Hl)){var o=[];dy(o,Hl,s,Nt(s)),va(k5,o)}}function N5(s,o,d){s==="focusin"?(fy(),Wl=o,Hl=d,Wl.attachEvent("onpropertychange",hy)):s==="focusout"&&fy()}function A5(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Bd(Hl)}function D5(s,o){if(s==="click")return Bd(o)}function M5(s,o){if(s==="input"||s==="change")return Bd(o)}function T5(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Fa=typeof Object.is=="function"?Object.is:T5;function jl(s,o){if(Fa(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var d=Object.keys(s),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var g=d[p];if(!qe.call(o,g)||!Fa(s[g],o[g]))return!1}return!0}function gy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function yy(s,o){var d=gy(s);s=0;for(var p;d;){if(d.nodeType===3){if(p=s+d.textContent.length,s<=o&&p>=o)return{node:d,offset:o-s};s=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=gy(d)}}function by(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?by(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function vy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=be(s.document);o instanceof s.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)s=o.contentWindow;else break;o=be(s.document)}return o}function Vp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var R5=sn&&"documentMode"in document&&11>=document.documentMode,Mo=null,Qp=null,Yl=null,Xp=!1;function xy(s,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Xp||Mo==null||Mo!==be(p)||(p=Mo,"selectionStart"in p&&Vp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Yl&&jl(Yl,p)||(Yl=p,p=Eu(Qp,"onSelect"),0<p.length&&(o=new Xs("onSelect","select",null,o,d),s.push({event:o,listeners:p}),o.target=Mo)))}function Hi(s,o){var d={};return d[s.toLowerCase()]=o.toLowerCase(),d["Webkit"+s]="webkit"+o,d["Moz"+s]="moz"+o,d}var To={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionrun:Hi("Transition","TransitionRun"),transitionstart:Hi("Transition","TransitionStart"),transitioncancel:Hi("Transition","TransitionCancel"),transitionend:Hi("Transition","TransitionEnd")},Jp={},Ey={};sn&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function ji(s){if(Jp[s])return Jp[s];if(!To[s])return s;var o=To[s],d;for(d in o)if(o.hasOwnProperty(d)&&d in Ey)return Jp[s]=o[d];return s}var wy=ji("animationend"),Sy=ji("animationiteration"),Cy=ji("animationstart"),P5=ji("transitionrun"),L5=ji("transitionstart"),B5=ji("transitioncancel"),_y=ji("transitionend"),Iy=new Map,Kp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kp.push("scrollEnd");function kr(s,o){Iy.set(s,o),da(o,[s])}var ky=new WeakMap;function tr(s,o){if(typeof s=="object"&&s!==null){var d=ky.get(s);return d!==void 0?d:(o={value:s,source:o,stack:_o(o)},ky.set(s,o),o)}return{value:s,source:o,stack:_o(o)}}var nr=[],Ro=0,ef=0;function Od(){for(var s=Ro,o=ef=Ro=0;o<s;){var d=nr[o];nr[o++]=null;var p=nr[o];nr[o++]=null;var g=nr[o];nr[o++]=null;var x=nr[o];if(nr[o++]=null,p!==null&&g!==null){var D=p.pending;D===null?g.next=g:(g.next=D.next,D.next=g),p.pending=g}x!==0&&Ny(d,g,x)}}function zd(s,o,d,p){nr[Ro++]=s,nr[Ro++]=o,nr[Ro++]=d,nr[Ro++]=p,ef|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function tf(s,o,d,p){return zd(s,o,d,p),Ud(s)}function Po(s,o){return zd(s,null,null,o),Ud(s)}function Ny(s,o,d){s.lanes|=d;var p=s.alternate;p!==null&&(p.lanes|=d);for(var g=!1,x=s.return;x!==null;)x.childLanes|=d,p=x.alternate,p!==null&&(p.childLanes|=d),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(g=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,g&&o!==null&&(g=31-et(d),s=x.hiddenUpdates,p=s[g],p===null?s[g]=[o]:p.push(o),o.lane=d|536870912),x):null}function Ud(s){if(50<hc)throw hc=0,lh=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Lo={};function O5(s,o,d,p){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wa(s,o,d,p){return new O5(s,o,d,p)}function nf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function bs(s,o){var d=s.alternate;return d===null?(d=Wa(s.tag,o,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=o,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,o=s.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function Ay(s,o){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,o=d.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Fd(s,o,d,p,g,x){var D=0;if(p=s,typeof s=="function")nf(s)&&(D=1);else if(typeof s=="string")D=US(s,d,re.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case G:return s=Wa(31,d,o,g),s.elementType=G,s.lanes=x,s;case E:return Yi(d.children,g,x,o);case _:D=8,g|=24;break;case S:return s=Wa(12,d,o,g|2),s.elementType=S,s.lanes=x,s;case M:return s=Wa(13,d,o,g),s.elementType=M,s.lanes=x,s;case T:return s=Wa(19,d,o,g),s.elementType=T,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case C:case N:D=10;break e;case I:D=9;break e;case k:D=11;break e;case q:D=14;break e;case z:D=16,p=null;break e}D=29,d=Error(n(130,s===null?"null":typeof s,"")),p=null}return o=Wa(D,d,o,g),o.elementType=s,o.type=p,o.lanes=x,o}function Yi(s,o,d,p){return s=Wa(7,s,p,o),s.lanes=d,s}function af(s,o,d){return s=Wa(6,s,null,o),s.lanes=d,s}function rf(s,o,d){return o=Wa(4,s.children!==null?s.children:[],s.key,o),o.lanes=d,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Bo=[],Oo=0,Wd=null,Hd=0,ar=[],rr=0,qi=null,vs=1,xs="";function $i(s,o){Bo[Oo++]=Hd,Bo[Oo++]=Wd,Wd=s,Hd=o}function Dy(s,o,d){ar[rr++]=vs,ar[rr++]=xs,ar[rr++]=qi,qi=s;var p=vs;s=xs;var g=32-et(p)-1;p&=~(1<<g),d+=1;var x=32-et(o)+g;if(30<x){var D=g-g%5;x=(p&(1<<D)-1).toString(32),p>>=D,g-=D,vs=1<<32-et(o)+g|d<<g|p,xs=x+s}else vs=1<<x|d<<g|p,xs=s}function sf(s){s.return!==null&&($i(s,1),Dy(s,1,0))}function of(s){for(;s===Wd;)Wd=Bo[--Oo],Bo[Oo]=null,Hd=Bo[--Oo],Bo[Oo]=null;for(;s===qi;)qi=ar[--rr],ar[rr]=null,xs=ar[--rr],ar[rr]=null,vs=ar[--rr],ar[rr]=null}var wa=null,Cn=null,Bt=!1,Gi=null,Ur=!1,lf=Error(n(519));function Zi(s){var o=Error(n(418,""));throw Gl(tr(o,s)),lf}function My(s){var o=s.stateNode,d=s.type,p=s.memoizedProps;switch(o[Kt]=s,o[wn]=p,d){case"dialog":_t("cancel",o),_t("close",o);break;case"iframe":case"object":case"embed":_t("load",o);break;case"video":case"audio":for(d=0;d<yc.length;d++)_t(yc[d],o);break;case"source":_t("error",o);break;case"img":case"image":case"link":_t("error",o),_t("load",o);break;case"details":_t("toggle",o);break;case"input":_t("invalid",o),Be(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),L(o);break;case"select":_t("invalid",o);break;case"textarea":_t("invalid",o),Je(o,p.value,p.defaultValue,p.children),L(o)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||Zb(o.textContent,d)?(p.popover!=null&&(_t("beforetoggle",o),_t("toggle",o)),p.onScroll!=null&&_t("scroll",o),p.onScrollEnd!=null&&_t("scrollend",o),p.onClick!=null&&(o.onclick=wu),o=!0):o=!1,o||Zi(s)}function Ty(s){for(wa=s.return;wa;)switch(wa.tag){case 5:case 13:Ur=!1;return;case 27:case 3:Ur=!0;return;default:wa=wa.return}}function ql(s){if(s!==wa)return!1;if(!Bt)return Ty(s),Bt=!0,!1;var o=s.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||Ch(s.type,s.memoizedProps)),d=!d),d&&Cn&&Zi(s),Ty(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(d=s.data,d==="/$"){if(o===0){Cn=Ar(s.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++;s=s.nextSibling}Cn=null}}else o===27?(o=Cn,fi(s.type)?(s=Nh,Nh=null,Cn=s):Cn=o):Cn=wa?Ar(s.stateNode.nextSibling):null;return!0}function $l(){Cn=wa=null,Bt=!1}function Ry(){var s=Gi;return s!==null&&(Pa===null?Pa=s:Pa.push.apply(Pa,s),Gi=null),s}function Gl(s){Gi===null?Gi=[s]:Gi.push(s)}var cf=j(null),Vi=null,Es=null;function Ks(s,o,d){W(cf,o._currentValue),o._currentValue=d}function ws(s){s._currentValue=cf.current,J(cf)}function df(s,o,d){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===d)break;s=s.return}}function uf(s,o,d,p){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var x=g.dependencies;if(x!==null){var D=g.child;x=x.firstContext;e:for(;x!==null;){var B=x;x=g;for(var $=0;$<o.length;$++)if(B.context===o[$]){x.lanes|=d,B=x.alternate,B!==null&&(B.lanes|=d),df(x.return,d,s),p||(D=null);break e}x=B.next}}else if(g.tag===18){if(D=g.return,D===null)throw Error(n(341));D.lanes|=d,x=D.alternate,x!==null&&(x.lanes|=d),df(D,d,s),D=null}else D=g.child;if(D!==null)D.return=g;else for(D=g;D!==null;){if(D===s){D=null;break}if(g=D.sibling,g!==null){g.return=D.return,D=g;break}D=D.return}g=D}}function Zl(s,o,d,p){s=null;for(var g=o,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var D=g.alternate;if(D===null)throw Error(n(387));if(D=D.memoizedProps,D!==null){var B=g.type;Fa(g.pendingProps.value,D.value)||(s!==null?s.push(B):s=[B])}}else if(g===Ce.current){if(D=g.alternate,D===null)throw Error(n(387));D.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Sc):s=[Sc])}g=g.return}s!==null&&uf(o,s,d,p),o.flags|=262144}function jd(s){for(s=s.firstContext;s!==null;){if(!Fa(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Qi(s){Vi=s,Es=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ua(s){return Py(Vi,s)}function Yd(s,o){return Vi===null&&Qi(s),Py(s,o)}function Py(s,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},Es===null){if(s===null)throw Error(n(308));Es=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Es=Es.next=o;return d}var z5=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(d,p){s.push(p)}};this.abort=function(){o.aborted=!0,s.forEach(function(d){return d()})}},U5=t.unstable_scheduleCallback,F5=t.unstable_NormalPriority,Yn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new z5,data:new Map,refCount:0}}function Vl(s){s.refCount--,s.refCount===0&&U5(F5,function(){s.controller.abort()})}var Ql=null,pf=0,zo=0,Uo=null;function W5(s,o){if(Ql===null){var d=Ql=[];pf=0,zo=hh(),Uo={status:"pending",value:void 0,then:function(p){d.push(p)}}}return pf++,o.then(Ly,Ly),o}function Ly(){if(--pf===0&&Ql!==null){Uo!==null&&(Uo.status="fulfilled");var s=Ql;Ql=null,zo=0,Uo=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function H5(s,o){var d=[],p={status:"pending",value:null,reason:null,then:function(g){d.push(g)}};return s.then(function(){p.status="fulfilled",p.value=o;for(var g=0;g<d.length;g++)(0,d[g])(o)},function(g){for(p.status="rejected",p.reason=g,g=0;g<d.length;g++)(0,d[g])(void 0)}),p}var By=A.S;A.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&W5(s,o),By!==null&&By(s,o)};var Xi=j(null);function ff(){var s=Xi.current;return s!==null?s:en.pooledCache}function qd(s,o){o===null?W(Xi,Xi.current):W(Xi,o.pool)}function Oy(){var s=ff();return s===null?null:{parent:Yn._currentValue,pool:s}}var Xl=Error(n(460)),zy=Error(n(474)),$d=Error(n(542)),hf={then:function(){}};function Uy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Gd(){}function Fy(s,o,d){switch(d=s[d],d===void 0?s.push(o):d!==o&&(o.then(Gd,Gd),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Hy(s),s;default:if(typeof o.status=="string")o.then(Gd,Gd);else{if(s=en,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(p){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=p}},function(p){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Hy(s),s}throw Jl=o,Xl}}var Jl=null;function Wy(){if(Jl===null)throw Error(n(459));var s=Jl;return Jl=null,s}function Hy(s){if(s===Xl||s===$d)throw Error(n(483))}var ei=!1;function gf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ti(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ni(s,o,d){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Ft&2)!==0){var g=p.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),p.pending=o,o=Ud(s),Ny(s,null,d),o}return zd(s,p,o,d),Ud(s)}function Kl(s,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=s.pendingLanes,d|=p,o.lanes=d,Aa(s,d)}}function bf(s,o){var d=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var g=null,x=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};x===null?g=x=D:x=x.next=D,d=d.next}while(d!==null);x===null?g=x=o:x=x.next=o}else g=x=o;d={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:p.shared,callbacks:p.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=o:s.next=o,d.lastBaseUpdate=o}var vf=!1;function ec(){if(vf){var s=Uo;if(s!==null)throw s}}function tc(s,o,d,p){vf=!1;var g=s.updateQueue;ei=!1;var x=g.firstBaseUpdate,D=g.lastBaseUpdate,B=g.shared.pending;if(B!==null){g.shared.pending=null;var $=B,le=$.next;$.next=null,D===null?x=le:D.next=le,D=$;var ge=s.alternate;ge!==null&&(ge=ge.updateQueue,B=ge.lastBaseUpdate,B!==D&&(B===null?ge.firstBaseUpdate=le:B.next=le,ge.lastBaseUpdate=$))}if(x!==null){var Ee=g.baseState;D=0,ge=le=$=null,B=x;do{var ce=B.lane&-536870913,de=ce!==B.lane;if(de?(At&ce)===ce:(p&ce)===ce){ce!==0&&ce===zo&&(vf=!0),ge!==null&&(ge=ge.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var it=s,tt=B;ce=o;var Gt=d;switch(tt.tag){case 1:if(it=tt.payload,typeof it=="function"){Ee=it.call(Gt,Ee,ce);break e}Ee=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=tt.payload,ce=typeof it=="function"?it.call(Gt,Ee,ce):it,ce==null)break e;Ee=f({},Ee,ce);break e;case 2:ei=!0}}ce=B.callback,ce!==null&&(s.flags|=64,de&&(s.flags|=8192),de=g.callbacks,de===null?g.callbacks=[ce]:de.push(ce))}else de={lane:ce,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ge===null?(le=ge=de,$=Ee):ge=ge.next=de,D|=ce;if(B=B.next,B===null){if(B=g.shared.pending,B===null)break;de=B,B=de.next,de.next=null,g.lastBaseUpdate=de,g.shared.pending=null}}while(!0);ge===null&&($=Ee),g.baseState=$,g.firstBaseUpdate=le,g.lastBaseUpdate=ge,x===null&&(g.shared.lanes=0),di|=D,s.lanes=D,s.memoizedState=Ee}}function jy(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function Yy(s,o){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)jy(d[s],o)}var Fo=j(null),Zd=j(0);function qy(s,o){s=As,W(Zd,s),W(Fo,o),As=s|o.baseLanes}function xf(){W(Zd,As),W(Fo,Fo.current)}function Ef(){As=Zd.current,J(Fo),J(Zd)}var ai=0,xt=null,qt=null,Un=null,Vd=!1,Wo=!1,Ji=!1,Qd=0,nc=0,Ho=null,j5=0;function Rn(){throw Error(n(321))}function wf(s,o){if(o===null)return!1;for(var d=0;d<o.length&&d<s.length;d++)if(!Fa(s[d],o[d]))return!1;return!0}function Sf(s,o,d,p,g,x){return ai=x,xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,A.H=s===null||s.memoizedState===null?N1:A1,Ji=!1,x=d(p,g),Ji=!1,Wo&&(x=Gy(o,d,p,g)),$y(s),x}function $y(s){A.H=nu;var o=qt!==null&&qt.next!==null;if(ai=0,Un=qt=xt=null,Vd=!1,nc=0,Ho=null,o)throw Error(n(300));s===null||Kn||(s=s.dependencies,s!==null&&jd(s)&&(Kn=!0))}function Gy(s,o,d,p){xt=s;var g=0;do{if(Wo&&(Ho=null),nc=0,Wo=!1,25<=g)throw Error(n(301));if(g+=1,Un=qt=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}A.H=Q5,x=o(d,p)}while(Wo);return x}function Y5(){var s=A.H,o=s.useState()[0];return o=typeof o.then=="function"?ac(o):o,s=s.useState()[0],(qt!==null?qt.memoizedState:null)!==s&&(xt.flags|=1024),o}function Cf(){var s=Qd!==0;return Qd=0,s}function _f(s,o,d){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~d}function If(s){if(Vd){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Vd=!1}ai=0,Un=qt=xt=null,Wo=!1,nc=Qd=0,Ho=null}function Ta(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?xt.memoizedState=Un=s:Un=Un.next=s,Un}function Fn(){if(qt===null){var s=xt.alternate;s=s!==null?s.memoizedState:null}else s=qt.next;var o=Un===null?xt.memoizedState:Un.next;if(o!==null)Un=o,qt=s;else{if(s===null)throw xt.alternate===null?Error(n(467)):Error(n(310));qt=s,s={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Un===null?xt.memoizedState=Un=s:Un=Un.next=s}return Un}function kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ac(s){var o=nc;return nc+=1,Ho===null&&(Ho=[]),s=Fy(Ho,s,o),o=xt,(Un===null?o.memoizedState:Un.next)===null&&(o=o.alternate,A.H=o===null||o.memoizedState===null?N1:A1),s}function Xd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ac(s);if(s.$$typeof===N)return ua(s)}throw Error(n(438,String(s)))}function Nf(s){var o=null,d=xt.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=xt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=kf(),xt.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(s),p=0;p<s;p++)d[p]=K;return o.index++,d}function Ss(s,o){return typeof o=="function"?o(s):o}function Jd(s){var o=Fn();return Af(o,qt,s)}function Af(s,o,d){var p=s.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var g=s.baseQueue,x=p.pending;if(x!==null){if(g!==null){var D=g.next;g.next=x.next,x.next=D}o.baseQueue=g=x,p.pending=null}if(x=s.baseState,g===null)s.memoizedState=x;else{o=g.next;var B=D=null,$=null,le=o,ge=!1;do{var Ee=le.lane&-536870913;if(Ee!==le.lane?(At&Ee)===Ee:(ai&Ee)===Ee){var ce=le.revertLane;if(ce===0)$!==null&&($=$.next={lane:0,revertLane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Ee===zo&&(ge=!0);else if((ai&ce)===ce){le=le.next,ce===zo&&(ge=!0);continue}else Ee={lane:0,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},$===null?(B=$=Ee,D=x):$=$.next=Ee,xt.lanes|=ce,di|=ce;Ee=le.action,Ji&&d(x,Ee),x=le.hasEagerState?le.eagerState:d(x,Ee)}else ce={lane:Ee,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},$===null?(B=$=ce,D=x):$=$.next=ce,xt.lanes|=Ee,di|=Ee;le=le.next}while(le!==null&&le!==o);if($===null?D=x:$.next=B,!Fa(x,s.memoizedState)&&(Kn=!0,ge&&(d=Uo,d!==null)))throw d;s.memoizedState=x,s.baseState=D,s.baseQueue=$,p.lastRenderedState=x}return g===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function Df(s){var o=Fn(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var p=d.dispatch,g=d.pending,x=o.memoizedState;if(g!==null){d.pending=null;var D=g=g.next;do x=s(x,D.action),D=D.next;while(D!==g);Fa(x,o.memoizedState)||(Kn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),d.lastRenderedState=x}return[x,p]}function Zy(s,o,d){var p=xt,g=Fn(),x=Bt;if(x){if(d===void 0)throw Error(n(407));d=d()}else d=o();var D=!Fa((qt||g).memoizedState,d);D&&(g.memoizedState=d,Kn=!0),g=g.queue;var B=Xy.bind(null,p,g,s);if(rc(2048,8,B,[s]),g.getSnapshot!==o||D||Un!==null&&Un.memoizedState.tag&1){if(p.flags|=2048,jo(9,Kd(),Qy.bind(null,p,g,d,o),null),en===null)throw Error(n(349));x||(ai&124)!==0||Vy(p,o,d)}return d}function Vy(s,o,d){s.flags|=16384,s={getSnapshot:o,value:d},o=xt.updateQueue,o===null?(o=kf(),xt.updateQueue=o,o.stores=[s]):(d=o.stores,d===null?o.stores=[s]:d.push(s))}function Qy(s,o,d,p){o.value=d,o.getSnapshot=p,Jy(o)&&Ky(s)}function Xy(s,o,d){return d(function(){Jy(o)&&Ky(s)})}function Jy(s){var o=s.getSnapshot;s=s.value;try{var d=o();return!Fa(s,d)}catch{return!0}}function Ky(s){var o=Po(s,2);o!==null&&$a(o,s,2)}function Mf(s){var o=Ta();if(typeof s=="function"){var d=s;if(s=d(),Ji){Ae(!0);try{d()}finally{Ae(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:s},o}function e1(s,o,d,p){return s.baseState=d,Af(s,qt,typeof p=="function"?p:Ss)}function q5(s,o,d,p,g){if(tu(s))throw Error(n(485));if(s=o.action,s!==null){var x={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){x.listeners.push(D)}};A.T!==null?d(!0):x.isTransition=!1,p(x),d=o.pending,d===null?(x.next=o.pending=x,t1(o,x)):(x.next=d.next,o.pending=d.next=x)}}function t1(s,o){var d=o.action,p=o.payload,g=s.state;if(o.isTransition){var x=A.T,D={};A.T=D;try{var B=d(g,p),$=A.S;$!==null&&$(D,B),n1(s,o,B)}catch(le){Tf(s,o,le)}finally{A.T=x}}else try{x=d(g,p),n1(s,o,x)}catch(le){Tf(s,o,le)}}function n1(s,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){a1(s,o,p)},function(p){return Tf(s,o,p)}):a1(s,o,d)}function a1(s,o,d){o.status="fulfilled",o.value=d,r1(o),s.state=d,o=s.pending,o!==null&&(d=o.next,d===o?s.pending=null:(d=d.next,o.next=d,t1(s,d)))}function Tf(s,o,d){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,r1(o),o=o.next;while(o!==p)}s.action=null}function r1(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function s1(s,o){return o}function i1(s,o){if(Bt){var d=en.formState;if(d!==null){e:{var p=xt;if(Bt){if(Cn){t:{for(var g=Cn,x=Ur;g.nodeType!==8;){if(!x){g=null;break t}if(g=Ar(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){Cn=Ar(g.nextSibling),p=g.data==="F!";break e}}Zi(p)}p=!1}p&&(o=d[0])}}return d=Ta(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s1,lastRenderedState:o},d.queue=p,d=_1.bind(null,xt,p),p.dispatch=d,p=Mf(!1),x=Of.bind(null,xt,!1,p.queue),p=Ta(),g={state:o,dispatch:null,action:s,pending:null},p.queue=g,d=q5.bind(null,xt,g,x,d),g.dispatch=d,p.memoizedState=s,[o,d,!1]}function o1(s){var o=Fn();return l1(o,qt,s)}function l1(s,o,d){if(o=Af(s,o,s1)[0],s=Jd(Ss)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=ac(o)}catch(D){throw D===Xl?$d:D}else p=o;o=Fn();var g=o.queue,x=g.dispatch;return d!==o.memoizedState&&(xt.flags|=2048,jo(9,Kd(),$5.bind(null,g,d),null)),[p,x,s]}function $5(s,o){s.action=o}function c1(s){var o=Fn(),d=qt;if(d!==null)return l1(o,d,s);Fn(),o=o.memoizedState,d=Fn();var p=d.queue.dispatch;return d.memoizedState=s,[o,p,!1]}function jo(s,o,d,p){return s={tag:s,create:d,deps:p,inst:o,next:null},o=xt.updateQueue,o===null&&(o=kf(),xt.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=s.next=s:(p=d.next,d.next=s,s.next=p,o.lastEffect=s),s}function Kd(){return{destroy:void 0,resource:void 0}}function d1(){return Fn().memoizedState}function eu(s,o,d,p){var g=Ta();p=p===void 0?null:p,xt.flags|=s,g.memoizedState=jo(1|o,Kd(),d,p)}function rc(s,o,d,p){var g=Fn();p=p===void 0?null:p;var x=g.memoizedState.inst;qt!==null&&p!==null&&wf(p,qt.memoizedState.deps)?g.memoizedState=jo(o,x,d,p):(xt.flags|=s,g.memoizedState=jo(1|o,x,d,p))}function u1(s,o){eu(8390656,8,s,o)}function m1(s,o){rc(2048,8,s,o)}function p1(s,o){return rc(4,2,s,o)}function f1(s,o){return rc(4,4,s,o)}function h1(s,o){if(typeof o=="function"){s=s();var d=o(s);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function g1(s,o,d){d=d!=null?d.concat([s]):null,rc(4,4,h1.bind(null,o,s),d)}function Rf(){}function y1(s,o){var d=Fn();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&wf(o,p[1])?p[0]:(d.memoizedState=[s,o],s)}function b1(s,o){var d=Fn();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&wf(o,p[1]))return p[0];if(p=s(),Ji){Ae(!0);try{s()}finally{Ae(!1)}}return d.memoizedState=[p,o],p}function Pf(s,o,d){return d===void 0||(ai&1073741824)!==0?s.memoizedState=o:(s.memoizedState=d,s=Eb(),xt.lanes|=s,di|=s,d)}function v1(s,o,d,p){return Fa(d,o)?d:Fo.current!==null?(s=Pf(s,d,p),Fa(s,o)||(Kn=!0),s):(ai&42)===0?(Kn=!0,s.memoizedState=d):(s=Eb(),xt.lanes|=s,di|=s,o)}function x1(s,o,d,p,g){var x=F.p;F.p=x!==0&&8>x?x:8;var D=A.T,B={};A.T=B,Of(s,!1,o,d);try{var $=g(),le=A.S;if(le!==null&&le(B,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ge=H5($,p);sc(s,o,ge,qa(s))}else sc(s,o,p,qa(s))}catch(Ee){sc(s,o,{then:function(){},status:"rejected",reason:Ee},qa())}finally{F.p=x,A.T=D}}function G5(){}function Lf(s,o,d,p){if(s.tag!==5)throw Error(n(476));var g=E1(s).queue;x1(s,g,o,Q,d===null?G5:function(){return w1(s),d(p)})}function E1(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:Q},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:d},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function w1(s){var o=E1(s).next.queue;sc(s,o,{},qa())}function Bf(){return ua(Sc)}function S1(){return Fn().memoizedState}function C1(){return Fn().memoizedState}function Z5(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var d=qa();s=ti(d);var p=ni(o,s,d);p!==null&&($a(p,o,d),Kl(p,o,d)),o={cache:mf()},s.payload=o;return}o=o.return}}function V5(s,o,d){var p=qa();d={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},tu(s)?I1(o,d):(d=tf(s,o,d,p),d!==null&&($a(d,s,p),k1(d,o,p)))}function _1(s,o,d){var p=qa();sc(s,o,d,p)}function sc(s,o,d,p){var g={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(tu(s))I1(o,g);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var D=o.lastRenderedState,B=x(D,d);if(g.hasEagerState=!0,g.eagerState=B,Fa(B,D))return zd(s,o,g,0),en===null&&Od(),!1}catch{}finally{}if(d=tf(s,o,g,p),d!==null)return $a(d,s,p),k1(d,o,p),!0}return!1}function Of(s,o,d,p){if(p={lane:2,revertLane:hh(),action:p,hasEagerState:!1,eagerState:null,next:null},tu(s)){if(o)throw Error(n(479))}else o=tf(s,d,p,2),o!==null&&$a(o,s,2)}function tu(s){var o=s.alternate;return s===xt||o!==null&&o===xt}function I1(s,o){Wo=Vd=!0;var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}function k1(s,o,d){if((d&4194048)!==0){var p=o.lanes;p&=s.pendingLanes,d|=p,o.lanes=d,Aa(s,d)}}var nu={readContext:ua,use:Xd,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useLayoutEffect:Rn,useInsertionEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useSyncExternalStore:Rn,useId:Rn,useHostTransitionStatus:Rn,useFormState:Rn,useActionState:Rn,useOptimistic:Rn,useMemoCache:Rn,useCacheRefresh:Rn},N1={readContext:ua,use:Xd,useCallback:function(s,o){return Ta().memoizedState=[s,o===void 0?null:o],s},useContext:ua,useEffect:u1,useImperativeHandle:function(s,o,d){d=d!=null?d.concat([s]):null,eu(4194308,4,h1.bind(null,o,s),d)},useLayoutEffect:function(s,o){return eu(4194308,4,s,o)},useInsertionEffect:function(s,o){eu(4,2,s,o)},useMemo:function(s,o){var d=Ta();o=o===void 0?null:o;var p=s();if(Ji){Ae(!0);try{s()}finally{Ae(!1)}}return d.memoizedState=[p,o],p},useReducer:function(s,o,d){var p=Ta();if(d!==void 0){var g=d(o);if(Ji){Ae(!0);try{d(o)}finally{Ae(!1)}}}else g=o;return p.memoizedState=p.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},p.queue=s,s=s.dispatch=V5.bind(null,xt,s),[p.memoizedState,s]},useRef:function(s){var o=Ta();return s={current:s},o.memoizedState=s},useState:function(s){s=Mf(s);var o=s.queue,d=_1.bind(null,xt,o);return o.dispatch=d,[s.memoizedState,d]},useDebugValue:Rf,useDeferredValue:function(s,o){var d=Ta();return Pf(d,s,o)},useTransition:function(){var s=Mf(!1);return s=x1.bind(null,xt,s.queue,!0,!1),Ta().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,d){var p=xt,g=Ta();if(Bt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),en===null)throw Error(n(349));(At&124)!==0||Vy(p,o,d)}g.memoizedState=d;var x={value:d,getSnapshot:o};return g.queue=x,u1(Xy.bind(null,p,x,s),[s]),p.flags|=2048,jo(9,Kd(),Qy.bind(null,p,x,d,o),null),d},useId:function(){var s=Ta(),o=en.identifierPrefix;if(Bt){var d=xs,p=vs;d=(p&~(1<<32-et(p)-1)).toString(32)+d,o=""+o+"R"+d,d=Qd++,0<d&&(o+="H"+d.toString(32)),o+=""}else d=j5++,o=""+o+"r"+d.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:Bf,useFormState:i1,useActionState:i1,useOptimistic:function(s){var o=Ta();o.memoizedState=o.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Of.bind(null,xt,!0,d),d.dispatch=o,[s,o]},useMemoCache:Nf,useCacheRefresh:function(){return Ta().memoizedState=Z5.bind(null,xt)}},A1={readContext:ua,use:Xd,useCallback:y1,useContext:ua,useEffect:m1,useImperativeHandle:g1,useInsertionEffect:p1,useLayoutEffect:f1,useMemo:b1,useReducer:Jd,useRef:d1,useState:function(){return Jd(Ss)},useDebugValue:Rf,useDeferredValue:function(s,o){var d=Fn();return v1(d,qt.memoizedState,s,o)},useTransition:function(){var s=Jd(Ss)[0],o=Fn().memoizedState;return[typeof s=="boolean"?s:ac(s),o]},useSyncExternalStore:Zy,useId:S1,useHostTransitionStatus:Bf,useFormState:o1,useActionState:o1,useOptimistic:function(s,o){var d=Fn();return e1(d,qt,s,o)},useMemoCache:Nf,useCacheRefresh:C1},Q5={readContext:ua,use:Xd,useCallback:y1,useContext:ua,useEffect:m1,useImperativeHandle:g1,useInsertionEffect:p1,useLayoutEffect:f1,useMemo:b1,useReducer:Df,useRef:d1,useState:function(){return Df(Ss)},useDebugValue:Rf,useDeferredValue:function(s,o){var d=Fn();return qt===null?Pf(d,s,o):v1(d,qt.memoizedState,s,o)},useTransition:function(){var s=Df(Ss)[0],o=Fn().memoizedState;return[typeof s=="boolean"?s:ac(s),o]},useSyncExternalStore:Zy,useId:S1,useHostTransitionStatus:Bf,useFormState:c1,useActionState:c1,useOptimistic:function(s,o){var d=Fn();return qt!==null?e1(d,qt,s,o):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:C1},Yo=null,ic=0;function au(s){var o=ic;return ic+=1,Yo===null&&(Yo=[]),Fy(Yo,s,o)}function oc(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function ru(s,o){throw o.$$typeof===y?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function D1(s){var o=s._init;return o(s._payload)}function M1(s){function o(ae,ee){if(s){var se=ae.deletions;se===null?(ae.deletions=[ee],ae.flags|=16):se.push(ee)}}function d(ae,ee){if(!s)return null;for(;ee!==null;)o(ae,ee),ee=ee.sibling;return null}function p(ae){for(var ee=new Map;ae!==null;)ae.key!==null?ee.set(ae.key,ae):ee.set(ae.index,ae),ae=ae.sibling;return ee}function g(ae,ee){return ae=bs(ae,ee),ae.index=0,ae.sibling=null,ae}function x(ae,ee,se){return ae.index=se,s?(se=ae.alternate,se!==null?(se=se.index,se<ee?(ae.flags|=67108866,ee):se):(ae.flags|=67108866,ee)):(ae.flags|=1048576,ee)}function D(ae){return s&&ae.alternate===null&&(ae.flags|=67108866),ae}function B(ae,ee,se,ve){return ee===null||ee.tag!==6?(ee=af(se,ae.mode,ve),ee.return=ae,ee):(ee=g(ee,se),ee.return=ae,ee)}function $(ae,ee,se,ve){var Fe=se.type;return Fe===E?ge(ae,ee,se.props.children,ve,se.key):ee!==null&&(ee.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===z&&D1(Fe)===ee.type)?(ee=g(ee,se.props),oc(ee,se),ee.return=ae,ee):(ee=Fd(se.type,se.key,se.props,null,ae.mode,ve),oc(ee,se),ee.return=ae,ee)}function le(ae,ee,se,ve){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==se.containerInfo||ee.stateNode.implementation!==se.implementation?(ee=rf(se,ae.mode,ve),ee.return=ae,ee):(ee=g(ee,se.children||[]),ee.return=ae,ee)}function ge(ae,ee,se,ve,Fe){return ee===null||ee.tag!==7?(ee=Yi(se,ae.mode,ve,Fe),ee.return=ae,ee):(ee=g(ee,se),ee.return=ae,ee)}function Ee(ae,ee,se){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=af(""+ee,ae.mode,se),ee.return=ae,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return se=Fd(ee.type,ee.key,ee.props,null,ae.mode,se),oc(se,ee),se.return=ae,se;case w:return ee=rf(ee,ae.mode,se),ee.return=ae,ee;case z:var ve=ee._init;return ee=ve(ee._payload),Ee(ae,ee,se)}if(R(ee)||H(ee))return ee=Yi(ee,ae.mode,se,null),ee.return=ae,ee;if(typeof ee.then=="function")return Ee(ae,au(ee),se);if(ee.$$typeof===N)return Ee(ae,Yd(ae,ee),se);ru(ae,ee)}return null}function ce(ae,ee,se,ve){var Fe=ee!==null?ee.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Fe!==null?null:B(ae,ee,""+se,ve);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case b:return se.key===Fe?$(ae,ee,se,ve):null;case w:return se.key===Fe?le(ae,ee,se,ve):null;case z:return Fe=se._init,se=Fe(se._payload),ce(ae,ee,se,ve)}if(R(se)||H(se))return Fe!==null?null:ge(ae,ee,se,ve,null);if(typeof se.then=="function")return ce(ae,ee,au(se),ve);if(se.$$typeof===N)return ce(ae,ee,Yd(ae,se),ve);ru(ae,se)}return null}function de(ae,ee,se,ve,Fe){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ae=ae.get(se)||null,B(ee,ae,""+ve,Fe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case b:return ae=ae.get(ve.key===null?se:ve.key)||null,$(ee,ae,ve,Fe);case w:return ae=ae.get(ve.key===null?se:ve.key)||null,le(ee,ae,ve,Fe);case z:var St=ve._init;return ve=St(ve._payload),de(ae,ee,se,ve,Fe)}if(R(ve)||H(ve))return ae=ae.get(se)||null,ge(ee,ae,ve,Fe,null);if(typeof ve.then=="function")return de(ae,ee,se,au(ve),Fe);if(ve.$$typeof===N)return de(ae,ee,se,Yd(ee,ve),Fe);ru(ee,ve)}return null}function it(ae,ee,se,ve){for(var Fe=null,St=null,Ge=ee,at=ee=0,ta=null;Ge!==null&&at<se.length;at++){Ge.index>at?(ta=Ge,Ge=null):ta=Ge.sibling;var Tt=ce(ae,Ge,se[at],ve);if(Tt===null){Ge===null&&(Ge=ta);break}s&&Ge&&Tt.alternate===null&&o(ae,Ge),ee=x(Tt,ee,at),St===null?Fe=Tt:St.sibling=Tt,St=Tt,Ge=ta}if(at===se.length)return d(ae,Ge),Bt&&$i(ae,at),Fe;if(Ge===null){for(;at<se.length;at++)Ge=Ee(ae,se[at],ve),Ge!==null&&(ee=x(Ge,ee,at),St===null?Fe=Ge:St.sibling=Ge,St=Ge);return Bt&&$i(ae,at),Fe}for(Ge=p(Ge);at<se.length;at++)ta=de(Ge,ae,at,se[at],ve),ta!==null&&(s&&ta.alternate!==null&&Ge.delete(ta.key===null?at:ta.key),ee=x(ta,ee,at),St===null?Fe=ta:St.sibling=ta,St=ta);return s&&Ge.forEach(function(vi){return o(ae,vi)}),Bt&&$i(ae,at),Fe}function tt(ae,ee,se,ve){if(se==null)throw Error(n(151));for(var Fe=null,St=null,Ge=ee,at=ee=0,ta=null,Tt=se.next();Ge!==null&&!Tt.done;at++,Tt=se.next()){Ge.index>at?(ta=Ge,Ge=null):ta=Ge.sibling;var vi=ce(ae,Ge,Tt.value,ve);if(vi===null){Ge===null&&(Ge=ta);break}s&&Ge&&vi.alternate===null&&o(ae,Ge),ee=x(vi,ee,at),St===null?Fe=vi:St.sibling=vi,St=vi,Ge=ta}if(Tt.done)return d(ae,Ge),Bt&&$i(ae,at),Fe;if(Ge===null){for(;!Tt.done;at++,Tt=se.next())Tt=Ee(ae,Tt.value,ve),Tt!==null&&(ee=x(Tt,ee,at),St===null?Fe=Tt:St.sibling=Tt,St=Tt);return Bt&&$i(ae,at),Fe}for(Ge=p(Ge);!Tt.done;at++,Tt=se.next())Tt=de(Ge,ae,at,Tt.value,ve),Tt!==null&&(s&&Tt.alternate!==null&&Ge.delete(Tt.key===null?at:Tt.key),ee=x(Tt,ee,at),St===null?Fe=Tt:St.sibling=Tt,St=Tt);return s&&Ge.forEach(function(XS){return o(ae,XS)}),Bt&&$i(ae,at),Fe}function Gt(ae,ee,se,ve){if(typeof se=="object"&&se!==null&&se.type===E&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case b:e:{for(var Fe=se.key;ee!==null;){if(ee.key===Fe){if(Fe=se.type,Fe===E){if(ee.tag===7){d(ae,ee.sibling),ve=g(ee,se.props.children),ve.return=ae,ae=ve;break e}}else if(ee.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===z&&D1(Fe)===ee.type){d(ae,ee.sibling),ve=g(ee,se.props),oc(ve,se),ve.return=ae,ae=ve;break e}d(ae,ee);break}else o(ae,ee);ee=ee.sibling}se.type===E?(ve=Yi(se.props.children,ae.mode,ve,se.key),ve.return=ae,ae=ve):(ve=Fd(se.type,se.key,se.props,null,ae.mode,ve),oc(ve,se),ve.return=ae,ae=ve)}return D(ae);case w:e:{for(Fe=se.key;ee!==null;){if(ee.key===Fe)if(ee.tag===4&&ee.stateNode.containerInfo===se.containerInfo&&ee.stateNode.implementation===se.implementation){d(ae,ee.sibling),ve=g(ee,se.children||[]),ve.return=ae,ae=ve;break e}else{d(ae,ee);break}else o(ae,ee);ee=ee.sibling}ve=rf(se,ae.mode,ve),ve.return=ae,ae=ve}return D(ae);case z:return Fe=se._init,se=Fe(se._payload),Gt(ae,ee,se,ve)}if(R(se))return it(ae,ee,se,ve);if(H(se)){if(Fe=H(se),typeof Fe!="function")throw Error(n(150));return se=Fe.call(se),tt(ae,ee,se,ve)}if(typeof se.then=="function")return Gt(ae,ee,au(se),ve);if(se.$$typeof===N)return Gt(ae,ee,Yd(ae,se),ve);ru(ae,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,ee!==null&&ee.tag===6?(d(ae,ee.sibling),ve=g(ee,se),ve.return=ae,ae=ve):(d(ae,ee),ve=af(se,ae.mode,ve),ve.return=ae,ae=ve),D(ae)):d(ae,ee)}return function(ae,ee,se,ve){try{ic=0;var Fe=Gt(ae,ee,se,ve);return Yo=null,Fe}catch(Ge){if(Ge===Xl||Ge===$d)throw Ge;var St=Wa(29,Ge,null,ae.mode);return St.lanes=ve,St.return=ae,St}finally{}}}var qo=M1(!0),T1=M1(!1),sr=j(null),Fr=null;function ri(s){var o=s.alternate;W(qn,qn.current&1),W(sr,s),Fr===null&&(o===null||Fo.current!==null||o.memoizedState!==null)&&(Fr=s)}function R1(s){if(s.tag===22){if(W(qn,qn.current),W(sr,s),Fr===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(Fr=s)}}else si()}function si(){W(qn,qn.current),W(sr,sr.current)}function Cs(s){J(sr),Fr===s&&(Fr=null),J(qn)}var qn=j(0);function su(s){for(var o=s;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||kh(d)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function zf(s,o,d,p){o=s.memoizedState,d=d(p,o),d=d==null?o:f({},o,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Uf={enqueueSetState:function(s,o,d){s=s._reactInternals;var p=qa(),g=ti(p);g.payload=o,d!=null&&(g.callback=d),o=ni(s,g,p),o!==null&&($a(o,s,p),Kl(o,s,p))},enqueueReplaceState:function(s,o,d){s=s._reactInternals;var p=qa(),g=ti(p);g.tag=1,g.payload=o,d!=null&&(g.callback=d),o=ni(s,g,p),o!==null&&($a(o,s,p),Kl(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var d=qa(),p=ti(d);p.tag=2,o!=null&&(p.callback=o),o=ni(s,p,d),o!==null&&($a(o,s,d),Kl(o,s,d))}};function P1(s,o,d,p,g,x,D){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,x,D):o.prototype&&o.prototype.isPureReactComponent?!jl(d,p)||!jl(g,x):!0}function L1(s,o,d,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==s&&Uf.enqueueReplaceState(o,o.state,null)}function Ki(s,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(s=s.defaultProps){d===o&&(d=f({},d));for(var g in s)d[g]===void 0&&(d[g]=s[g])}return d}var iu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function B1(s){iu(s)}function O1(s){console.error(s)}function z1(s){iu(s)}function ou(s,o){try{var d=s.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function U1(s,o,d){try{var p=s.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ff(s,o,d){return d=ti(d),d.tag=3,d.payload={element:null},d.callback=function(){ou(s,o)},d}function F1(s){return s=ti(s),s.tag=3,s}function W1(s,o,d,p){var g=d.type.getDerivedStateFromError;if(typeof g=="function"){var x=p.value;s.payload=function(){return g(x)},s.callback=function(){U1(o,d,p)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(s.callback=function(){U1(o,d,p),typeof g!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var B=p.stack;this.componentDidCatch(p.value,{componentStack:B!==null?B:""})})}function X5(s,o,d,p,g){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&Zl(o,d,g,!0),d=sr.current,d!==null){switch(d.tag){case 13:return Fr===null?dh():d.alternate===null&&_n===0&&(_n=3),d.flags&=-257,d.flags|=65536,d.lanes=g,p===hf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),mh(s,p,g)),!1;case 22:return d.flags|=65536,p===hf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),mh(s,p,g)),!1}throw Error(n(435,d.tag))}return mh(s,p,g),dh(),!1}if(Bt)return o=sr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,p!==lf&&(s=Error(n(422),{cause:p}),Gl(tr(s,d)))):(p!==lf&&(o=Error(n(423),{cause:p}),Gl(tr(o,d))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,p=tr(p,d),g=Ff(s.stateNode,p,g),bf(s,g),_n!==4&&(_n=2)),!1;var x=Error(n(520),{cause:p});if(x=tr(x,d),fc===null?fc=[x]:fc.push(x),_n!==4&&(_n=2),o===null)return!0;p=tr(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,s=g&-g,d.lanes|=s,s=Ff(d.stateNode,p,s),bf(d,s),!1;case 1:if(o=d.type,x=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ui===null||!ui.has(x))))return d.flags|=65536,g&=-g,d.lanes|=g,g=F1(g),W1(g,s,d,p),bf(d,g),!1}d=d.return}while(d!==null);return!1}var H1=Error(n(461)),Kn=!1;function ra(s,o,d,p){o.child=s===null?T1(o,null,d,p):qo(o,s.child,d,p)}function j1(s,o,d,p,g){d=d.render;var x=o.ref;if("ref"in p){var D={};for(var B in p)B!=="ref"&&(D[B]=p[B])}else D=p;return Qi(o),p=Sf(s,o,d,D,x,g),B=Cf(),s!==null&&!Kn?(_f(s,o,g),_s(s,o,g)):(Bt&&B&&sf(o),o.flags|=1,ra(s,o,p,g),o.child)}function Y1(s,o,d,p,g){if(s===null){var x=d.type;return typeof x=="function"&&!nf(x)&&x.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=x,q1(s,o,x,p,g)):(s=Fd(d.type,null,p,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,!Zf(s,g)){var D=x.memoizedProps;if(d=d.compare,d=d!==null?d:jl,d(D,p)&&s.ref===o.ref)return _s(s,o,g)}return o.flags|=1,s=bs(x,p),s.ref=o.ref,s.return=o,o.child=s}function q1(s,o,d,p,g){if(s!==null){var x=s.memoizedProps;if(jl(x,p)&&s.ref===o.ref)if(Kn=!1,o.pendingProps=p=x,Zf(s,g))(s.flags&131072)!==0&&(Kn=!0);else return o.lanes=s.lanes,_s(s,o,g)}return Wf(s,o,d,p,g)}function $1(s,o,d){var p=o.pendingProps,g=p.children,x=s!==null?s.memoizedState:null;if(p.mode==="hidden"){if((o.flags&128)!==0){if(p=x!==null?x.baseLanes|d:d,s!==null){for(g=o.child=s.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;o.childLanes=x&~p}else o.childLanes=0,o.child=null;return G1(s,o,p,d)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&qd(o,x!==null?x.cachePool:null),x!==null?qy(o,x):xf(),R1(o);else return o.lanes=o.childLanes=536870912,G1(s,o,x!==null?x.baseLanes|d:d,d)}else x!==null?(qd(o,x.cachePool),qy(o,x),si(),o.memoizedState=null):(s!==null&&qd(o,null),xf(),si());return ra(s,o,g,d),o.child}function G1(s,o,d,p){var g=ff();return g=g===null?null:{parent:Yn._currentValue,pool:g},o.memoizedState={baseLanes:d,cachePool:g},s!==null&&qd(o,null),xf(),R1(o),s!==null&&Zl(s,o,p,!0),null}function lu(s,o){var d=o.ref;if(d===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(s===null||s.ref!==d)&&(o.flags|=4194816)}}function Wf(s,o,d,p,g){return Qi(o),d=Sf(s,o,d,p,void 0,g),p=Cf(),s!==null&&!Kn?(_f(s,o,g),_s(s,o,g)):(Bt&&p&&sf(o),o.flags|=1,ra(s,o,d,g),o.child)}function Z1(s,o,d,p,g,x){return Qi(o),o.updateQueue=null,d=Gy(o,p,d,g),$y(s),p=Cf(),s!==null&&!Kn?(_f(s,o,x),_s(s,o,x)):(Bt&&p&&sf(o),o.flags|=1,ra(s,o,d,x),o.child)}function V1(s,o,d,p,g){if(Qi(o),o.stateNode===null){var x=Lo,D=d.contextType;typeof D=="object"&&D!==null&&(x=ua(D)),x=new d(p,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Uf,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=p,x.state=o.memoizedState,x.refs={},gf(o),D=d.contextType,x.context=typeof D=="object"&&D!==null?ua(D):Lo,x.state=o.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(zf(o,d,D,p),x.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(D=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),D!==x.state&&Uf.enqueueReplaceState(x,x.state,null),tc(o,p,x,g),ec(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(s===null){x=o.stateNode;var B=o.memoizedProps,$=Ki(d,B);x.props=$;var le=x.context,ge=d.contextType;D=Lo,typeof ge=="object"&&ge!==null&&(D=ua(ge));var Ee=d.getDerivedStateFromProps;ge=typeof Ee=="function"||typeof x.getSnapshotBeforeUpdate=="function",B=o.pendingProps!==B,ge||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(B||le!==D)&&L1(o,x,p,D),ei=!1;var ce=o.memoizedState;x.state=ce,tc(o,p,x,g),ec(),le=o.memoizedState,B||ce!==le||ei?(typeof Ee=="function"&&(zf(o,d,Ee,p),le=o.memoizedState),($=ei||P1(o,d,$,p,ce,le,D))?(ge||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=le),x.props=p,x.state=le,x.context=D,p=$):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{x=o.stateNode,yf(s,o),D=o.memoizedProps,ge=Ki(d,D),x.props=ge,Ee=o.pendingProps,ce=x.context,le=d.contextType,$=Lo,typeof le=="object"&&le!==null&&($=ua(le)),B=d.getDerivedStateFromProps,(le=typeof B=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D!==Ee||ce!==$)&&L1(o,x,p,$),ei=!1,ce=o.memoizedState,x.state=ce,tc(o,p,x,g),ec();var de=o.memoizedState;D!==Ee||ce!==de||ei||s!==null&&s.dependencies!==null&&jd(s.dependencies)?(typeof B=="function"&&(zf(o,d,B,p),de=o.memoizedState),(ge=ei||P1(o,d,ge,p,ce,de,$)||s!==null&&s.dependencies!==null&&jd(s.dependencies))?(le||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(p,de,$),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(p,de,$)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||D===s.memoizedProps&&ce===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ce===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=de),x.props=p,x.state=de,x.context=$,p=ge):(typeof x.componentDidUpdate!="function"||D===s.memoizedProps&&ce===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ce===s.memoizedState||(o.flags|=1024),p=!1)}return x=p,lu(s,o),p=(o.flags&128)!==0,x||p?(x=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,s!==null&&p?(o.child=qo(o,s.child,null,g),o.child=qo(o,null,d,g)):ra(s,o,d,g),o.memoizedState=x.state,s=o.child):s=_s(s,o,g),s}function Q1(s,o,d,p){return $l(),o.flags|=256,ra(s,o,d,p),o.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(s){return{baseLanes:s,cachePool:Oy()}}function Yf(s,o,d){return s=s!==null?s.childLanes&~d:0,o&&(s|=ir),s}function X1(s,o,d){var p=o.pendingProps,g=!1,x=(o.flags&128)!==0,D;if((D=x)||(D=s!==null&&s.memoizedState===null?!1:(qn.current&2)!==0),D&&(g=!0,o.flags&=-129),D=(o.flags&32)!==0,o.flags&=-33,s===null){if(Bt){if(g?ri(o):si(),Bt){var B=Cn,$;if($=B){e:{for($=B,B=Ur;$.nodeType!==8;){if(!B){B=null;break e}if($=Ar($.nextSibling),$===null){B=null;break e}}B=$}B!==null?(o.memoizedState={dehydrated:B,treeContext:qi!==null?{id:vs,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},$=Wa(18,null,null,0),$.stateNode=B,$.return=o,o.child=$,wa=o,Cn=null,$=!0):$=!1}$||Zi(o)}if(B=o.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return kh(B)?o.lanes=32:o.lanes=536870912,null;Cs(o)}return B=p.children,p=p.fallback,g?(si(),g=o.mode,B=cu({mode:"hidden",children:B},g),p=Yi(p,g,d,null),B.return=o,p.return=o,B.sibling=p,o.child=B,g=o.child,g.memoizedState=jf(d),g.childLanes=Yf(s,D,d),o.memoizedState=Hf,p):(ri(o),qf(o,B))}if($=s.memoizedState,$!==null&&(B=$.dehydrated,B!==null)){if(x)o.flags&256?(ri(o),o.flags&=-257,o=$f(s,o,d)):o.memoizedState!==null?(si(),o.child=s.child,o.flags|=128,o=null):(si(),g=p.fallback,B=o.mode,p=cu({mode:"visible",children:p.children},B),g=Yi(g,B,d,null),g.flags|=2,p.return=o,g.return=o,p.sibling=g,o.child=p,qo(o,s.child,null,d),p=o.child,p.memoizedState=jf(d),p.childLanes=Yf(s,D,d),o.memoizedState=Hf,o=g);else if(ri(o),kh(B)){if(D=B.nextSibling&&B.nextSibling.dataset,D)var le=D.dgst;D=le,p=Error(n(419)),p.stack="",p.digest=D,Gl({value:p,source:null,stack:null}),o=$f(s,o,d)}else if(Kn||Zl(s,o,d,!1),D=(d&s.childLanes)!==0,Kn||D){if(D=en,D!==null&&(p=d&-d,p=(p&42)!==0?1:Ba(p),p=(p&(D.suspendedLanes|d))!==0?0:p,p!==0&&p!==$.retryLane))throw $.retryLane=p,Po(s,p),$a(D,s,p),H1;B.data==="$?"||dh(),o=$f(s,o,d)}else B.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=$.treeContext,Cn=Ar(B.nextSibling),wa=o,Bt=!0,Gi=null,Ur=!1,s!==null&&(ar[rr++]=vs,ar[rr++]=xs,ar[rr++]=qi,vs=s.id,xs=s.overflow,qi=o),o=qf(o,p.children),o.flags|=4096);return o}return g?(si(),g=p.fallback,B=o.mode,$=s.child,le=$.sibling,p=bs($,{mode:"hidden",children:p.children}),p.subtreeFlags=$.subtreeFlags&65011712,le!==null?g=bs(le,g):(g=Yi(g,B,d,null),g.flags|=2),g.return=o,p.return=o,p.sibling=g,o.child=p,p=g,g=o.child,B=s.child.memoizedState,B===null?B=jf(d):($=B.cachePool,$!==null?(le=Yn._currentValue,$=$.parent!==le?{parent:le,pool:le}:$):$=Oy(),B={baseLanes:B.baseLanes|d,cachePool:$}),g.memoizedState=B,g.childLanes=Yf(s,D,d),o.memoizedState=Hf,p):(ri(o),d=s.child,s=d.sibling,d=bs(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,s!==null&&(D=o.deletions,D===null?(o.deletions=[s],o.flags|=16):D.push(s)),o.child=d,o.memoizedState=null,d)}function qf(s,o){return o=cu({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function cu(s,o){return s=Wa(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function $f(s,o,d){return qo(o,s.child,null,d),s=qf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function J1(s,o,d){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),df(s.return,o,d)}function Gf(s,o,d,p,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:g}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=d,x.tailMode=g)}function K1(s,o,d){var p=o.pendingProps,g=p.revealOrder,x=p.tail;if(ra(s,o,p.children,d),p=qn.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&J1(s,d,o);else if(s.tag===19)J1(s,d,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}switch(W(qn,p),g){case"forwards":for(d=o.child,g=null;d!==null;)s=d.alternate,s!==null&&su(s)===null&&(g=d),d=d.sibling;d=g,d===null?(g=o.child,o.child=null):(g=d.sibling,d.sibling=null),Gf(o,!1,g,d,x);break;case"backwards":for(d=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&su(s)===null){o.child=g;break}s=g.sibling,g.sibling=d,d=g,g=s}Gf(o,!0,d,null,x);break;case"together":Gf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function _s(s,o,d){if(s!==null&&(o.dependencies=s.dependencies),di|=o.lanes,(d&o.childLanes)===0)if(s!==null){if(Zl(s,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,d=bs(s,s.pendingProps),o.child=d,d.return=o;s.sibling!==null;)s=s.sibling,d=d.sibling=bs(s,s.pendingProps),d.return=o;d.sibling=null}return o.child}function Zf(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&jd(s)))}function J5(s,o,d){switch(o.tag){case 3:Se(o,o.stateNode.containerInfo),Ks(o,Yn,s.memoizedState.cache),$l();break;case 27:case 5:ye(o);break;case 4:Se(o,o.stateNode.containerInfo);break;case 10:Ks(o,o.type,o.memoizedProps.value);break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(ri(o),o.flags|=128,null):(d&o.child.childLanes)!==0?X1(s,o,d):(ri(o),s=_s(s,o,d),s!==null?s.sibling:null);ri(o);break;case 19:var g=(s.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(Zl(s,o,d,!1),p=(d&o.childLanes)!==0),g){if(p)return K1(s,o,d);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),W(qn,qn.current),p)break;return null;case 22:case 23:return o.lanes=0,$1(s,o,d);case 24:Ks(o,Yn,s.memoizedState.cache)}return _s(s,o,d)}function eb(s,o,d){if(s!==null)if(s.memoizedProps!==o.pendingProps)Kn=!0;else{if(!Zf(s,d)&&(o.flags&128)===0)return Kn=!1,J5(s,o,d);Kn=(s.flags&131072)!==0}else Kn=!1,Bt&&(o.flags&1048576)!==0&&Dy(o,Hd,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var p=o.elementType,g=p._init;if(p=g(p._payload),o.type=p,typeof p=="function")nf(p)?(s=Ki(p,s),o.tag=1,o=V1(null,o,p,s,d)):(o.tag=0,o=Wf(null,o,p,s,d));else{if(p!=null){if(g=p.$$typeof,g===k){o.tag=11,o=j1(null,o,p,s,d);break e}else if(g===q){o.tag=14,o=Y1(null,o,p,s,d);break e}}throw o=O(p)||p,Error(n(306,o,""))}}return o;case 0:return Wf(s,o,o.type,o.pendingProps,d);case 1:return p=o.type,g=Ki(p,o.pendingProps),V1(s,o,p,g,d);case 3:e:{if(Se(o,o.stateNode.containerInfo),s===null)throw Error(n(387));p=o.pendingProps;var x=o.memoizedState;g=x.element,yf(s,o),tc(o,p,null,d);var D=o.memoizedState;if(p=D.cache,Ks(o,Yn,p),p!==x.cache&&uf(o,[Yn],d,!0),ec(),p=D.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:D.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=Q1(s,o,p,d);break e}else if(p!==g){g=tr(Error(n(424)),o),Gl(g),o=Q1(s,o,p,d);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Cn=Ar(s.firstChild),wa=o,Bt=!0,Gi=null,Ur=!0,d=T1(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if($l(),p===g){o=_s(s,o,d);break e}ra(s,o,p,d)}o=o.child}return o;case 26:return lu(s,o),s===null?(d=r2(o.type,null,o.pendingProps,null))?o.memoizedState=d:Bt||(d=o.type,s=o.pendingProps,p=Su(me.current).createElement(d),p[Kt]=o,p[wn]=s,ia(p,d,s),fn(p),o.stateNode=p):o.memoizedState=r2(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return ye(o),s===null&&Bt&&(p=o.stateNode=t2(o.type,o.pendingProps,me.current),wa=o,Ur=!0,g=Cn,fi(o.type)?(Nh=g,Cn=Ar(p.firstChild)):Cn=g),ra(s,o,o.pendingProps.children,d),lu(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Bt&&((g=p=Cn)&&(p=IS(p,o.type,o.pendingProps,Ur),p!==null?(o.stateNode=p,wa=o,Cn=Ar(p.firstChild),Ur=!1,g=!0):g=!1),g||Zi(o)),ye(o),g=o.type,x=o.pendingProps,D=s!==null?s.memoizedProps:null,p=x.children,Ch(g,x)?p=null:D!==null&&Ch(g,D)&&(o.flags|=32),o.memoizedState!==null&&(g=Sf(s,o,Y5,null,null,d),Sc._currentValue=g),lu(s,o),ra(s,o,p,d),o.child;case 6:return s===null&&Bt&&((s=d=Cn)&&(d=kS(d,o.pendingProps,Ur),d!==null?(o.stateNode=d,wa=o,Cn=null,s=!0):s=!1),s||Zi(o)),null;case 13:return X1(s,o,d);case 4:return Se(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=qo(o,null,p,d):ra(s,o,p,d),o.child;case 11:return j1(s,o,o.type,o.pendingProps,d);case 7:return ra(s,o,o.pendingProps,d),o.child;case 8:return ra(s,o,o.pendingProps.children,d),o.child;case 12:return ra(s,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,Ks(o,o.type,p.value),ra(s,o,p.children,d),o.child;case 9:return g=o.type._context,p=o.pendingProps.children,Qi(o),g=ua(g),p=p(g),o.flags|=1,ra(s,o,p,d),o.child;case 14:return Y1(s,o,o.type,o.pendingProps,d);case 15:return q1(s,o,o.type,o.pendingProps,d);case 19:return K1(s,o,d);case 31:return p=o.pendingProps,d=o.mode,p={mode:p.mode,children:p.children},s===null?(d=cu(p,d),d.ref=o.ref,o.child=d,d.return=o,o=d):(d=bs(s.child,p),d.ref=o.ref,o.child=d,d.return=o,o=d),o;case 22:return $1(s,o,d);case 24:return Qi(o),p=ua(Yn),s===null?(g=ff(),g===null&&(g=en,x=mf(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=d),g=x),o.memoizedState={parent:p,cache:g},gf(o),Ks(o,Yn,g)):((s.lanes&d)!==0&&(yf(s,o),tc(o,null,null,d),ec()),g=s.memoizedState,x=o.memoizedState,g.parent!==p?(g={parent:p,cache:p},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),Ks(o,Yn,p)):(p=x.cache,Ks(o,Yn,p),p!==g.cache&&uf(o,[Yn],d,!0))),ra(s,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Is(s){s.flags|=4}function tb(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!c2(o)){if(o=sr.current,o!==null&&((At&4194048)===At?Fr!==null:(At&62914560)!==At&&(At&536870912)===0||o!==Fr))throw Jl=hf,zy;s.flags|=8192}}function du(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Na():536870912,s.lanes|=o,Vo|=o)}function lc(s,o){if(!Bt)switch(s.tailMode){case"hidden":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function yn(s){var o=s.alternate!==null&&s.alternate.child===s.child,d=0,p=0;if(o)for(var g=s.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags&65011712,p|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=d,o}function K5(s,o,d){var p=o.pendingProps;switch(of(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(o),null;case 1:return yn(o),null;case 3:return d=o.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),ws(Yn),st(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(ql(o)?Is(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ry())),yn(o),null;case 26:return d=o.memoizedState,s===null?(Is(o),d!==null?(yn(o),tb(o,d)):(yn(o),o.flags&=-16777217)):d?d!==s.memoizedState?(Is(o),yn(o),tb(o,d)):(yn(o),o.flags&=-16777217):(s.memoizedProps!==p&&Is(o),yn(o),o.flags&=-16777217),null;case 27:Ze(o),d=me.current;var g=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==p&&Is(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return yn(o),null}s=re.current,ql(o)?My(o):(s=t2(g,p,d),o.stateNode=s,Is(o))}return yn(o),null;case 5:if(Ze(o),d=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&Is(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return yn(o),null}if(s=re.current,ql(o))My(o);else{switch(g=Su(me.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof p.is=="string"?g.createElement("select",{is:p.is}):g.createElement("select"),p.multiple?s.multiple=!0:p.size&&(s.size=p.size);break;default:s=typeof p.is=="string"?g.createElement(d,{is:p.is}):g.createElement(d)}}s[Kt]=o,s[wn]=p;e:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=s;e:switch(ia(s,d,p),d){case"button":case"input":case"select":case"textarea":s=!!p.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Is(o)}}return yn(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==p&&Is(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(s=me.current,ql(o)){if(s=o.stateNode,d=o.memoizedProps,p=null,g=wa,g!==null)switch(g.tag){case 27:case 5:p=g.memoizedProps}s[Kt]=o,s=!!(s.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||Zb(s.nodeValue,d)),s||Zi(o)}else s=Su(s).createTextNode(p),s[Kt]=o,o.stateNode=s}return yn(o),null;case 13:if(p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=ql(o),p!==null&&p.dehydrated!==null){if(s===null){if(!g)throw Error(n(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Kt]=o}else $l(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;yn(o),g=!1}else g=Ry(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(Cs(o),o):(Cs(o),null)}if(Cs(o),(o.flags&128)!==0)return o.lanes=d,o;if(d=p!==null,s=s!==null&&s.memoizedState!==null,d){p=o.child,g=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(g=p.alternate.memoizedState.cachePool.pool);var x=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(x=p.memoizedState.cachePool.pool),x!==g&&(p.flags|=2048)}return d!==s&&d&&(o.child.flags|=8192),du(o,o.updateQueue),yn(o),null;case 4:return st(),s===null&&vh(o.stateNode.containerInfo),yn(o),null;case 10:return ws(o.type),yn(o),null;case 19:if(J(qn),g=o.memoizedState,g===null)return yn(o),null;if(p=(o.flags&128)!==0,x=g.rendering,x===null)if(p)lc(g,!1);else{if(_n!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(x=su(s),x!==null){for(o.flags|=128,lc(g,!1),s=x.updateQueue,o.updateQueue=s,du(o,s),o.subtreeFlags=0,s=d,d=o.child;d!==null;)Ay(d,s),d=d.sibling;return W(qn,qn.current&1|2),o.child}s=s.sibling}g.tail!==null&&Pt()>pu&&(o.flags|=128,p=!0,lc(g,!1),o.lanes=4194304)}else{if(!p)if(s=su(x),s!==null){if(o.flags|=128,p=!0,s=s.updateQueue,o.updateQueue=s,du(o,s),lc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!Bt)return yn(o),null}else 2*Pt()-g.renderingStartTime>pu&&d!==536870912&&(o.flags|=128,p=!0,lc(g,!1),o.lanes=4194304);g.isBackwards?(x.sibling=o.child,o.child=x):(s=g.last,s!==null?s.sibling=x:o.child=x,g.last=x)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Pt(),o.sibling=null,s=qn.current,W(qn,p?s&1|2:s&1),o):(yn(o),null);case 22:case 23:return Cs(o),Ef(),p=o.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&(yn(o),o.subtreeFlags&6&&(o.flags|=8192)):yn(o),d=o.updateQueue,d!==null&&du(o,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),s!==null&&J(Xi),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),ws(Yn),yn(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function eS(s,o){switch(of(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ws(Yn),st(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Ze(o),null;case 13:if(Cs(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));$l()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return J(qn),null;case 4:return st(),null;case 10:return ws(o.type),null;case 22:case 23:return Cs(o),Ef(),s!==null&&J(Xi),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return ws(Yn),null;case 25:return null;default:return null}}function nb(s,o){switch(of(o),o.tag){case 3:ws(Yn),st();break;case 26:case 27:case 5:Ze(o);break;case 4:st();break;case 13:Cs(o);break;case 19:J(qn);break;case 10:ws(o.type);break;case 22:case 23:Cs(o),Ef(),s!==null&&J(Xi);break;case 24:ws(Yn)}}function cc(s,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var g=p.next;d=g;do{if((d.tag&s)===s){p=void 0;var x=d.create,D=d.inst;p=x(),D.destroy=p}d=d.next}while(d!==g)}}catch(B){Xt(o,o.return,B)}}function ii(s,o,d){try{var p=o.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var x=g.next;p=x;do{if((p.tag&s)===s){var D=p.inst,B=D.destroy;if(B!==void 0){D.destroy=void 0,g=o;var $=d,le=B;try{le()}catch(ge){Xt(g,$,ge)}}}p=p.next}while(p!==x)}}catch(ge){Xt(o,o.return,ge)}}function ab(s){var o=s.updateQueue;if(o!==null){var d=s.stateNode;try{Yy(o,d)}catch(p){Xt(s,s.return,p)}}}function rb(s,o,d){d.props=Ki(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(p){Xt(s,o,p)}}function dc(s,o){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof d=="function"?s.refCleanup=d(p):d.current=p}}catch(g){Xt(s,o,g)}}function Wr(s,o){var d=s.ref,p=s.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(g){Xt(s,o,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(g){Xt(s,o,g)}else d.current=null}function sb(s){var o=s.type,d=s.memoizedProps,p=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(g){Xt(s,s.return,g)}}function Vf(s,o,d){try{var p=s.stateNode;ES(p,s.type,d,o),p[wn]=o}catch(g){Xt(s,s.return,g)}}function ib(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&fi(s.type)||s.tag===4}function Qf(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ib(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&fi(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xf(s,o,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(s),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=wu));else if(p!==4&&(p===27&&fi(s.type)&&(d=s.stateNode,o=null),s=s.child,s!==null))for(Xf(s,o,d),s=s.sibling;s!==null;)Xf(s,o,d),s=s.sibling}function uu(s,o,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?d.insertBefore(s,o):d.appendChild(s);else if(p!==4&&(p===27&&fi(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(uu(s,o,d),s=s.sibling;s!==null;)uu(s,o,d),s=s.sibling}function ob(s){var o=s.stateNode,d=s.memoizedProps;try{for(var p=s.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);ia(o,p,d),o[Kt]=s,o[wn]=d}catch(x){Xt(s,s.return,x)}}var ks=!1,Pn=!1,Jf=!1,lb=typeof WeakSet=="function"?WeakSet:Set,ea=null;function tS(s,o){if(s=s.containerInfo,wh=Au,s=vy(s),Vp(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var g=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{d.nodeType,x.nodeType}catch{d=null;break e}var D=0,B=-1,$=-1,le=0,ge=0,Ee=s,ce=null;t:for(;;){for(var de;Ee!==d||g!==0&&Ee.nodeType!==3||(B=D+g),Ee!==x||p!==0&&Ee.nodeType!==3||($=D+p),Ee.nodeType===3&&(D+=Ee.nodeValue.length),(de=Ee.firstChild)!==null;)ce=Ee,Ee=de;for(;;){if(Ee===s)break t;if(ce===d&&++le===g&&(B=D),ce===x&&++ge===p&&($=D),(de=Ee.nextSibling)!==null)break;Ee=ce,ce=Ee.parentNode}Ee=de}d=B===-1||$===-1?null:{start:B,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(Sh={focusedElem:s,selectionRange:d},Au=!1,ea=o;ea!==null;)if(o=ea,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,ea=s;else for(;ea!==null;){switch(o=ea,x=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,d=o,g=x.memoizedProps,x=x.memoizedState,p=d.stateNode;try{var it=Ki(d.type,g,d.elementType===d.type);s=p.getSnapshotBeforeUpdate(it,x),p.__reactInternalSnapshotBeforeUpdate=s}catch(tt){Xt(d,d.return,tt)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,d=s.nodeType,d===9)Ih(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ih(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,ea=s;break}ea=o.return}}function cb(s,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:oi(s,d),p&4&&cc(5,d);break;case 1:if(oi(s,d),p&4)if(s=d.stateNode,o===null)try{s.componentDidMount()}catch(D){Xt(d,d.return,D)}else{var g=Ki(d.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(g,o,s.__reactInternalSnapshotBeforeUpdate)}catch(D){Xt(d,d.return,D)}}p&64&&ab(d),p&512&&dc(d,d.return);break;case 3:if(oi(s,d),p&64&&(s=d.updateQueue,s!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{Yy(s,o)}catch(D){Xt(d,d.return,D)}}break;case 27:o===null&&p&4&&ob(d);case 26:case 5:oi(s,d),o===null&&p&4&&sb(d),p&512&&dc(d,d.return);break;case 12:oi(s,d);break;case 13:oi(s,d),p&4&&mb(s,d),p&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=dS.bind(null,d),NS(s,d))));break;case 22:if(p=d.memoizedState!==null||ks,!p){o=o!==null&&o.memoizedState!==null||Pn,g=ks;var x=Pn;ks=p,(Pn=o)&&!x?li(s,d,(d.subtreeFlags&8772)!==0):oi(s,d),ks=g,Pn=x}break;case 30:break;default:oi(s,d)}}function db(s){var o=s.alternate;o!==null&&(s.alternate=null,db(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&ds(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var on=null,Ra=!1;function Ns(s,o,d){for(d=d.child;d!==null;)ub(s,o,d),d=d.sibling}function ub(s,o,d){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Pe,d)}catch{}switch(d.tag){case 26:Pn||Wr(d,o),Ns(s,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Pn||Wr(d,o);var p=on,g=Ra;fi(d.type)&&(on=d.stateNode,Ra=!1),Ns(s,o,d),vc(d.stateNode),on=p,Ra=g;break;case 5:Pn||Wr(d,o);case 6:if(p=on,g=Ra,on=null,Ns(s,o,d),on=p,Ra=g,on!==null)if(Ra)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(d.stateNode)}catch(x){Xt(d,o,x)}else try{on.removeChild(d.stateNode)}catch(x){Xt(d,o,x)}break;case 18:on!==null&&(Ra?(s=on,Kb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),kc(s)):Kb(on,d.stateNode));break;case 4:p=on,g=Ra,on=d.stateNode.containerInfo,Ra=!0,Ns(s,o,d),on=p,Ra=g;break;case 0:case 11:case 14:case 15:Pn||ii(2,d,o),Pn||ii(4,d,o),Ns(s,o,d);break;case 1:Pn||(Wr(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&rb(d,o,p)),Ns(s,o,d);break;case 21:Ns(s,o,d);break;case 22:Pn=(p=Pn)||d.memoizedState!==null,Ns(s,o,d),Pn=p;break;default:Ns(s,o,d)}}function mb(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{kc(s)}catch(d){Xt(o,o.return,d)}}function nS(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new lb),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new lb),o;default:throw Error(n(435,s.tag))}}function Kf(s,o){var d=nS(s);o.forEach(function(p){var g=uS.bind(null,s,p);d.has(p)||(d.add(p),p.then(g,g))})}function Ha(s,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var g=d[p],x=s,D=o,B=D;e:for(;B!==null;){switch(B.tag){case 27:if(fi(B.type)){on=B.stateNode,Ra=!1;break e}break;case 5:on=B.stateNode,Ra=!1;break e;case 3:case 4:on=B.stateNode.containerInfo,Ra=!0;break e}B=B.return}if(on===null)throw Error(n(160));ub(x,D,g),on=null,Ra=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)pb(o,s),o=o.sibling}var Nr=null;function pb(s,o){var d=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ha(o,s),ja(s),p&4&&(ii(3,s,s.return),cc(3,s),ii(5,s,s.return));break;case 1:Ha(o,s),ja(s),p&512&&(Pn||d===null||Wr(d,d.return)),p&64&&ks&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var g=Nr;if(Ha(o,s),ja(s),p&512&&(Pn||d===null||Wr(d,d.return)),p&4){var x=d!==null?d.memoizedState:null;if(p=s.memoizedState,d===null)if(p===null)if(s.stateNode===null){e:{p=s.type,d=s.memoizedProps,g=g.ownerDocument||g;t:switch(p){case"title":x=g.getElementsByTagName("title")[0],(!x||x[Pr]||x[Kt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(p),g.head.insertBefore(x,g.querySelector("head > title"))),ia(x,p,d),x[Kt]=s,fn(x),p=x;break e;case"link":var D=o2("link","href",g).get(p+(d.href||""));if(D){for(var B=0;B<D.length;B++)if(x=D[B],x.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&x.getAttribute("rel")===(d.rel==null?null:d.rel)&&x.getAttribute("title")===(d.title==null?null:d.title)&&x.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(B,1);break t}}x=g.createElement(p),ia(x,p,d),g.head.appendChild(x);break;case"meta":if(D=o2("meta","content",g).get(p+(d.content||""))){for(B=0;B<D.length;B++)if(x=D[B],x.getAttribute("content")===(d.content==null?null:""+d.content)&&x.getAttribute("name")===(d.name==null?null:d.name)&&x.getAttribute("property")===(d.property==null?null:d.property)&&x.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&x.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(B,1);break t}}x=g.createElement(p),ia(x,p,d),g.head.appendChild(x);break;default:throw Error(n(468,p))}x[Kt]=s,fn(x),p=x}s.stateNode=p}else l2(g,s.type,s.stateNode);else s.stateNode=i2(g,p,s.memoizedProps);else x!==p?(x===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):x.count--,p===null?l2(g,s.type,s.stateNode):i2(g,p,s.memoizedProps)):p===null&&s.stateNode!==null&&Vf(s,s.memoizedProps,d.memoizedProps)}break;case 27:Ha(o,s),ja(s),p&512&&(Pn||d===null||Wr(d,d.return)),d!==null&&p&4&&Vf(s,s.memoizedProps,d.memoizedProps);break;case 5:if(Ha(o,s),ja(s),p&512&&(Pn||d===null||Wr(d,d.return)),s.flags&32){g=s.stateNode;try{Te(g,"")}catch(de){Xt(s,s.return,de)}}p&4&&s.stateNode!=null&&(g=s.memoizedProps,Vf(s,g,d!==null?d.memoizedProps:g)),p&1024&&(Jf=!0);break;case 6:if(Ha(o,s),ja(s),p&4){if(s.stateNode===null)throw Error(n(162));p=s.memoizedProps,d=s.stateNode;try{d.nodeValue=p}catch(de){Xt(s,s.return,de)}}break;case 3:if(Iu=null,g=Nr,Nr=Cu(o.containerInfo),Ha(o,s),Nr=g,ja(s),p&4&&d!==null&&d.memoizedState.isDehydrated)try{kc(o.containerInfo)}catch(de){Xt(s,s.return,de)}Jf&&(Jf=!1,fb(s));break;case 4:p=Nr,Nr=Cu(s.stateNode.containerInfo),Ha(o,s),ja(s),Nr=p;break;case 12:Ha(o,s),ja(s);break;case 13:Ha(o,s),ja(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(sh=Pt()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Kf(s,p)));break;case 22:g=s.memoizedState!==null;var $=d!==null&&d.memoizedState!==null,le=ks,ge=Pn;if(ks=le||g,Pn=ge||$,Ha(o,s),Pn=ge,ks=le,ja(s),p&8192)e:for(o=s.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(d===null||$||ks||Pn||eo(s)),d=null,o=s;;){if(o.tag===5||o.tag===26){if(d===null){$=d=o;try{if(x=$.stateNode,g)D=x.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{B=$.stateNode;var Ee=$.memoizedProps.style,ce=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;B.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(de){Xt($,$.return,de)}}}else if(o.tag===6){if(d===null){$=o;try{$.stateNode.nodeValue=g?"":$.memoizedProps}catch(de){Xt($,$.return,de)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=s.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Kf(s,d))));break;case 19:Ha(o,s),ja(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Kf(s,p)));break;case 30:break;case 21:break;default:Ha(o,s),ja(s)}}function ja(s){var o=s.flags;if(o&2){try{for(var d,p=s.return;p!==null;){if(ib(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var g=d.stateNode,x=Qf(s);uu(s,x,g);break;case 5:var D=d.stateNode;d.flags&32&&(Te(D,""),d.flags&=-33);var B=Qf(s);uu(s,B,D);break;case 3:case 4:var $=d.stateNode.containerInfo,le=Qf(s);Xf(s,le,$);break;default:throw Error(n(161))}}catch(ge){Xt(s,s.return,ge)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function fb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;fb(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function oi(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)cb(s,o.alternate,o),o=o.sibling}function eo(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:ii(4,o,o.return),eo(o);break;case 1:Wr(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&rb(o,o.return,d),eo(o);break;case 27:vc(o.stateNode);case 26:case 5:Wr(o,o.return),eo(o);break;case 22:o.memoizedState===null&&eo(o);break;case 30:eo(o);break;default:eo(o)}s=s.sibling}}function li(s,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,g=s,x=o,D=x.flags;switch(x.tag){case 0:case 11:case 15:li(g,x,d),cc(4,x);break;case 1:if(li(g,x,d),p=x,g=p.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(le){Xt(p,p.return,le)}if(p=x,g=p.updateQueue,g!==null){var B=p.stateNode;try{var $=g.shared.hiddenCallbacks;if($!==null)for(g.shared.hiddenCallbacks=null,g=0;g<$.length;g++)jy($[g],B)}catch(le){Xt(p,p.return,le)}}d&&D&64&&ab(x),dc(x,x.return);break;case 27:ob(x);case 26:case 5:li(g,x,d),d&&p===null&&D&4&&sb(x),dc(x,x.return);break;case 12:li(g,x,d);break;case 13:li(g,x,d),d&&D&4&&mb(g,x);break;case 22:x.memoizedState===null&&li(g,x,d),dc(x,x.return);break;case 30:break;default:li(g,x,d)}o=o.sibling}}function eh(s,o){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&Vl(d))}function th(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Vl(s))}function Hr(s,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)hb(s,o,d,p),o=o.sibling}function hb(s,o,d,p){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Hr(s,o,d,p),g&2048&&cc(9,o);break;case 1:Hr(s,o,d,p);break;case 3:Hr(s,o,d,p),g&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Vl(s)));break;case 12:if(g&2048){Hr(s,o,d,p),s=o.stateNode;try{var x=o.memoizedProps,D=x.id,B=x.onPostCommit;typeof B=="function"&&B(D,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch($){Xt(o,o.return,$)}}else Hr(s,o,d,p);break;case 13:Hr(s,o,d,p);break;case 23:break;case 22:x=o.stateNode,D=o.alternate,o.memoizedState!==null?x._visibility&2?Hr(s,o,d,p):uc(s,o):x._visibility&2?Hr(s,o,d,p):(x._visibility|=2,$o(s,o,d,p,(o.subtreeFlags&10256)!==0)),g&2048&&eh(D,o);break;case 24:Hr(s,o,d,p),g&2048&&th(o.alternate,o);break;default:Hr(s,o,d,p)}}function $o(s,o,d,p,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var x=s,D=o,B=d,$=p,le=D.flags;switch(D.tag){case 0:case 11:case 15:$o(x,D,B,$,g),cc(8,D);break;case 23:break;case 22:var ge=D.stateNode;D.memoizedState!==null?ge._visibility&2?$o(x,D,B,$,g):uc(x,D):(ge._visibility|=2,$o(x,D,B,$,g)),g&&le&2048&&eh(D.alternate,D);break;case 24:$o(x,D,B,$,g),g&&le&2048&&th(D.alternate,D);break;default:$o(x,D,B,$,g)}o=o.sibling}}function uc(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=s,p=o,g=p.flags;switch(p.tag){case 22:uc(d,p),g&2048&&eh(p.alternate,p);break;case 24:uc(d,p),g&2048&&th(p.alternate,p);break;default:uc(d,p)}o=o.sibling}}var mc=8192;function Go(s){if(s.subtreeFlags&mc)for(s=s.child;s!==null;)gb(s),s=s.sibling}function gb(s){switch(s.tag){case 26:Go(s),s.flags&mc&&s.memoizedState!==null&&WS(Nr,s.memoizedState,s.memoizedProps);break;case 5:Go(s);break;case 3:case 4:var o=Nr;Nr=Cu(s.stateNode.containerInfo),Go(s),Nr=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=mc,mc=16777216,Go(s),mc=o):Go(s));break;default:Go(s)}}function yb(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function pc(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];ea=p,vb(p,s)}yb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)bb(s),s=s.sibling}function bb(s){switch(s.tag){case 0:case 11:case 15:pc(s),s.flags&2048&&ii(9,s,s.return);break;case 3:pc(s);break;case 12:pc(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,mu(s)):pc(s);break;default:pc(s)}}function mu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];ea=p,vb(p,s)}yb(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:ii(8,o,o.return),mu(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,mu(o));break;default:mu(o)}s=s.sibling}}function vb(s,o){for(;ea!==null;){var d=ea;switch(d.tag){case 0:case 11:case 15:ii(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Vl(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,ea=p;else e:for(d=s;ea!==null;){p=ea;var g=p.sibling,x=p.return;if(db(p),p===d){ea=null;break e}if(g!==null){g.return=x,ea=g;break e}ea=x}}}var aS={getCacheForType:function(s){var o=ua(Yn),d=o.data.get(s);return d===void 0&&(d=s(),o.data.set(s,d)),d}},rS=typeof WeakMap=="function"?WeakMap:Map,Ft=0,en=null,Ct=null,At=0,Wt=0,Ya=null,ci=!1,Zo=!1,nh=!1,As=0,_n=0,di=0,to=0,ah=0,ir=0,Vo=0,fc=null,Pa=null,rh=!1,sh=0,pu=1/0,fu=null,ui=null,sa=0,mi=null,Qo=null,Xo=0,ih=0,oh=null,xb=null,hc=0,lh=null;function qa(){if((Ft&2)!==0&&At!==0)return At&-At;if(A.T!==null){var s=zo;return s!==0?s:hh()}return $s()}function Eb(){ir===0&&(ir=(At&536870912)===0||Bt?nn():536870912);var s=sr.current;return s!==null&&(s.flags|=32),ir}function $a(s,o,d){(s===en&&(Wt===2||Wt===9)||s.cancelPendingCommit!==null)&&(Jo(s,0),pi(s,At,ir,!1)),La(s,d),((Ft&2)===0||s!==en)&&(s===en&&((Ft&2)===0&&(to|=d),_n===4&&pi(s,At,ir,!1)),jr(s))}function wb(s,o,d){if((Ft&6)!==0)throw Error(n(327));var p=!d&&(o&124)===0&&(o&s.expiredLanes)===0||Xe(s,o),g=p?oS(s,o):uh(s,o,!0),x=p;do{if(g===0){Zo&&!p&&pi(s,o,0,!1);break}else{if(d=s.current.alternate,x&&!sS(d)){g=uh(s,o,!1),x=!1;continue}if(g===2){if(x=o,s.errorRecoveryDisabledLanes&x)var D=0;else D=s.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){o=D;e:{var B=s;g=fc;var $=B.current.memoizedState.isDehydrated;if($&&(Jo(B,D).flags|=256),D=uh(B,D,!1),D!==2){if(nh&&!$){B.errorRecoveryDisabledLanes|=x,to|=x,g=4;break e}x=Pa,Pa=g,x!==null&&(Pa===null?Pa=x:Pa.push.apply(Pa,x))}g=D}if(x=!1,g!==2)continue}}if(g===1){Jo(s,0),pi(s,o,0,!0);break}e:{switch(p=s,x=g,x){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:pi(p,o,ir,!ci);break e;case 2:Pa=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(g=sh+300-Pt(),10<g)){if(pi(p,o,ir,!ci),ka(p,0,!0)!==0)break e;p.timeoutHandle=Xb(Sb.bind(null,p,d,Pa,fu,rh,o,ir,to,Vo,ci,x,2,-0,0),g);break e}Sb(p,d,Pa,fu,rh,o,ir,to,Vo,ci,x,0,-0,0)}}break}while(!0);jr(s)}function Sb(s,o,d,p,g,x,D,B,$,le,ge,Ee,ce,de){if(s.timeoutHandle=-1,Ee=o.subtreeFlags,(Ee&8192||(Ee&16785408)===16785408)&&(wc={stylesheets:null,count:0,unsuspend:FS},gb(o),Ee=HS(),Ee!==null)){s.cancelPendingCommit=Ee(Db.bind(null,s,o,x,d,p,g,D,B,$,ge,1,ce,de)),pi(s,x,D,!le);return}Db(s,o,x,d,p,g,D,B,$)}function sS(s){for(var o=s;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var g=d[p],x=g.getSnapshot;g=g.value;try{if(!Fa(x(),g))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function pi(s,o,d,p){o&=~ah,o&=~to,s.suspendedLanes|=o,s.pingedLanes&=~o,p&&(s.warmLanes|=o),p=s.expirationTimes;for(var g=o;0<g;){var x=31-et(g),D=1<<x;p[x]=-1,g&=~D}d!==0&&ca(s,d,o)}function hu(){return(Ft&6)===0?(gc(0),!1):!0}function ch(){if(Ct!==null){if(Wt===0)var s=Ct.return;else s=Ct,Es=Vi=null,If(s),Yo=null,ic=0,s=Ct;for(;s!==null;)nb(s.alternate,s),s=s.return;Ct=null}}function Jo(s,o){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,SS(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),ch(),en=s,Ct=d=bs(s.current,null),At=o,Wt=0,Ya=null,ci=!1,Zo=Xe(s,o),nh=!1,Vo=ir=ah=to=di=_n=0,Pa=fc=null,rh=!1,(o&8)!==0&&(o|=o&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=o;0<p;){var g=31-et(p),x=1<<g;o|=s[g],p&=~x}return As=o,Od(),d}function Cb(s,o){xt=null,A.H=nu,o===Xl||o===$d?(o=Wy(),Wt=3):o===zy?(o=Wy(),Wt=4):Wt=o===H1?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ya=o,Ct===null&&(_n=1,ou(s,tr(o,s.current)))}function _b(){var s=A.H;return A.H=nu,s===null?nu:s}function Ib(){var s=A.A;return A.A=aS,s}function dh(){_n=4,ci||(At&4194048)!==At&&sr.current!==null||(Zo=!0),(di&134217727)===0&&(to&134217727)===0||en===null||pi(en,At,ir,!1)}function uh(s,o,d){var p=Ft;Ft|=2;var g=_b(),x=Ib();(en!==s||At!==o)&&(fu=null,Jo(s,o)),o=!1;var D=_n;e:do try{if(Wt!==0&&Ct!==null){var B=Ct,$=Ya;switch(Wt){case 8:ch(),D=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(o=!0);var le=Wt;if(Wt=0,Ya=null,Ko(s,B,$,le),d&&Zo){D=0;break e}break;default:le=Wt,Wt=0,Ya=null,Ko(s,B,$,le)}}iS(),D=_n;break}catch(ge){Cb(s,ge)}while(!0);return o&&s.shellSuspendCounter++,Es=Vi=null,Ft=p,A.H=g,A.A=x,Ct===null&&(en=null,At=0,Od()),D}function iS(){for(;Ct!==null;)kb(Ct)}function oS(s,o){var d=Ft;Ft|=2;var p=_b(),g=Ib();en!==s||At!==o?(fu=null,pu=Pt()+500,Jo(s,o)):Zo=Xe(s,o);e:do try{if(Wt!==0&&Ct!==null){o=Ct;var x=Ya;t:switch(Wt){case 1:Wt=0,Ya=null,Ko(s,o,x,1);break;case 2:case 9:if(Uy(x)){Wt=0,Ya=null,Nb(o);break}o=function(){Wt!==2&&Wt!==9||en!==s||(Wt=7),jr(s)},x.then(o,o);break e;case 3:Wt=7;break e;case 4:Wt=5;break e;case 7:Uy(x)?(Wt=0,Ya=null,Nb(o)):(Wt=0,Ya=null,Ko(s,o,x,7));break;case 5:var D=null;switch(Ct.tag){case 26:D=Ct.memoizedState;case 5:case 27:var B=Ct;if(!D||c2(D)){Wt=0,Ya=null;var $=B.sibling;if($!==null)Ct=$;else{var le=B.return;le!==null?(Ct=le,gu(le)):Ct=null}break t}}Wt=0,Ya=null,Ko(s,o,x,5);break;case 6:Wt=0,Ya=null,Ko(s,o,x,6);break;case 8:ch(),_n=6;break e;default:throw Error(n(462))}}lS();break}catch(ge){Cb(s,ge)}while(!0);return Es=Vi=null,A.H=p,A.A=g,Ft=d,Ct!==null?0:(en=null,At=0,Od(),_n)}function lS(){for(;Ct!==null&&!Rt();)kb(Ct)}function kb(s){var o=eb(s.alternate,s,As);s.memoizedProps=s.pendingProps,o===null?gu(s):Ct=o}function Nb(s){var o=s,d=o.alternate;switch(o.tag){case 15:case 0:o=Z1(d,o,o.pendingProps,o.type,void 0,At);break;case 11:o=Z1(d,o,o.pendingProps,o.type.render,o.ref,At);break;case 5:If(o);default:nb(d,o),o=Ct=Ay(o,As),o=eb(d,o,As)}s.memoizedProps=s.pendingProps,o===null?gu(s):Ct=o}function Ko(s,o,d,p){Es=Vi=null,If(o),Yo=null,ic=0;var g=o.return;try{if(X5(s,g,o,d,At)){_n=1,ou(s,tr(d,s.current)),Ct=null;return}}catch(x){if(g!==null)throw Ct=g,x;_n=1,ou(s,tr(d,s.current)),Ct=null;return}o.flags&32768?(Bt||p===1?s=!0:Zo||(At&536870912)!==0?s=!1:(ci=s=!0,(p===2||p===9||p===3||p===6)&&(p=sr.current,p!==null&&p.tag===13&&(p.flags|=16384))),Ab(o,s)):gu(o)}function gu(s){var o=s;do{if((o.flags&32768)!==0){Ab(o,ci);return}s=o.return;var d=K5(o.alternate,o,As);if(d!==null){Ct=d;return}if(o=o.sibling,o!==null){Ct=o;return}Ct=o=s}while(o!==null);_n===0&&(_n=5)}function Ab(s,o){do{var d=eS(s.alternate,s);if(d!==null){d.flags&=32767,Ct=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(s=s.sibling,s!==null)){Ct=s;return}Ct=s=d}while(s!==null);_n=6,Ct=null}function Db(s,o,d,p,g,x,D,B,$){s.cancelPendingCommit=null;do yu();while(sa!==0);if((Ft&6)!==0)throw Error(n(327));if(o!==null){if(o===s.current)throw Error(n(177));if(x=o.lanes|o.childLanes,x|=ef,Vn(s,d,x,D,B,$),s===en&&(Ct=en=null,At=0),Qo=o,mi=s,Xo=d,ih=x,oh=g,xb=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,mS(ue,function(){return Lb(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=A.T,A.T=null,g=F.p,F.p=2,D=Ft,Ft|=4;try{tS(s,o,d)}finally{Ft=D,F.p=g,A.T=p}}sa=1,Mb(),Tb(),Rb()}}function Mb(){if(sa===1){sa=0;var s=mi,o=Qo,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=A.T,A.T=null;var p=F.p;F.p=2;var g=Ft;Ft|=4;try{pb(o,s);var x=Sh,D=vy(s.containerInfo),B=x.focusedElem,$=x.selectionRange;if(D!==B&&B&&B.ownerDocument&&by(B.ownerDocument.documentElement,B)){if($!==null&&Vp(B)){var le=$.start,ge=$.end;if(ge===void 0&&(ge=le),"selectionStart"in B)B.selectionStart=le,B.selectionEnd=Math.min(ge,B.value.length);else{var Ee=B.ownerDocument||document,ce=Ee&&Ee.defaultView||window;if(ce.getSelection){var de=ce.getSelection(),it=B.textContent.length,tt=Math.min($.start,it),Gt=$.end===void 0?tt:Math.min($.end,it);!de.extend&&tt>Gt&&(D=Gt,Gt=tt,tt=D);var ae=yy(B,tt),ee=yy(B,Gt);if(ae&&ee&&(de.rangeCount!==1||de.anchorNode!==ae.node||de.anchorOffset!==ae.offset||de.focusNode!==ee.node||de.focusOffset!==ee.offset)){var se=Ee.createRange();se.setStart(ae.node,ae.offset),de.removeAllRanges(),tt>Gt?(de.addRange(se),de.extend(ee.node,ee.offset)):(se.setEnd(ee.node,ee.offset),de.addRange(se))}}}}for(Ee=[],de=B;de=de.parentNode;)de.nodeType===1&&Ee.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<Ee.length;B++){var ve=Ee[B];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}Au=!!wh,Sh=wh=null}finally{Ft=g,F.p=p,A.T=d}}s.current=o,sa=2}}function Tb(){if(sa===2){sa=0;var s=mi,o=Qo,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=A.T,A.T=null;var p=F.p;F.p=2;var g=Ft;Ft|=4;try{cb(s,o.alternate,o)}finally{Ft=g,F.p=p,A.T=d}}sa=3}}function Rb(){if(sa===4||sa===3){sa=0,pn();var s=mi,o=Qo,d=Xo,p=xb;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?sa=5:(sa=0,Qo=mi=null,Pb(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(ui=null),zn(d),o=o.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Pe,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=A.T,g=F.p,F.p=2,A.T=null;try{for(var x=s.onRecoverableError,D=0;D<p.length;D++){var B=p[D];x(B.value,{componentStack:B.stack})}}finally{A.T=o,F.p=g}}(Xo&3)!==0&&yu(),jr(s),g=s.pendingLanes,(d&4194090)!==0&&(g&42)!==0?s===lh?hc++:(hc=0,lh=s):hc=0,gc(0)}}function Pb(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Vl(o)))}function yu(s){return Mb(),Tb(),Rb(),Lb()}function Lb(){if(sa!==5)return!1;var s=mi,o=ih;ih=0;var d=zn(Xo),p=A.T,g=F.p;try{F.p=32>d?32:d,A.T=null,d=oh,oh=null;var x=mi,D=Xo;if(sa=0,Qo=mi=null,Xo=0,(Ft&6)!==0)throw Error(n(331));var B=Ft;if(Ft|=4,bb(x.current),hb(x,x.current,D,d),Ft=B,gc(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Pe,x)}catch{}return!0}finally{F.p=g,A.T=p,Pb(s,o)}}function Bb(s,o,d){o=tr(d,o),o=Ff(s.stateNode,o,2),s=ni(s,o,2),s!==null&&(La(s,2),jr(s))}function Xt(s,o,d){if(s.tag===3)Bb(s,s,d);else for(;o!==null;){if(o.tag===3){Bb(o,s,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ui===null||!ui.has(p))){s=tr(d,s),d=F1(2),p=ni(o,d,2),p!==null&&(W1(d,p,o,s),La(p,2),jr(p));break}}o=o.return}}function mh(s,o,d){var p=s.pingCache;if(p===null){p=s.pingCache=new rS;var g=new Set;p.set(o,g)}else g=p.get(o),g===void 0&&(g=new Set,p.set(o,g));g.has(d)||(nh=!0,g.add(d),s=cS.bind(null,s,o,d),o.then(s,s))}function cS(s,o,d){var p=s.pingCache;p!==null&&p.delete(o),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,en===s&&(At&d)===d&&(_n===4||_n===3&&(At&62914560)===At&&300>Pt()-sh?(Ft&2)===0&&Jo(s,0):ah|=d,Vo===At&&(Vo=0)),jr(s)}function Ob(s,o){o===0&&(o=Na()),s=Po(s,o),s!==null&&(La(s,o),jr(s))}function dS(s){var o=s.memoizedState,d=0;o!==null&&(d=o.retryLane),Ob(s,d)}function uS(s,o){var d=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(d=g.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),Ob(s,d)}function mS(s,o){return ct(s,o)}var bu=null,el=null,ph=!1,vu=!1,fh=!1,no=0;function jr(s){s!==el&&s.next===null&&(el===null?bu=el=s:el=el.next=s),vu=!0,ph||(ph=!0,fS())}function gc(s,o){if(!fh&&vu){fh=!0;do for(var d=!1,p=bu;p!==null;){if(s!==0){var g=p.pendingLanes;if(g===0)var x=0;else{var D=p.suspendedLanes,B=p.pingedLanes;x=(1<<31-et(42|s)+1)-1,x&=g&~(D&~B),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(d=!0,Wb(p,x))}else x=At,x=ka(p,p===en?x:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(x&3)===0||Xe(p,x)||(d=!0,Wb(p,x));p=p.next}while(d);fh=!1}}function pS(){zb()}function zb(){vu=ph=!1;var s=0;no!==0&&(wS()&&(s=no),no=0);for(var o=Pt(),d=null,p=bu;p!==null;){var g=p.next,x=Ub(p,o);x===0?(p.next=null,d===null?bu=g:d.next=g,g===null&&(el=d)):(d=p,(s!==0||(x&3)!==0)&&(vu=!0)),p=g}gc(s)}function Ub(s,o){for(var d=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var D=31-et(x),B=1<<D,$=g[D];$===-1?((B&d)===0||(B&p)!==0)&&(g[D]=ut(B,o)):$<=o&&(s.expiredLanes|=B),x&=~B}if(o=en,d=At,d=ka(s,s===o?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,d===0||s===o&&(Wt===2||Wt===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&Qe(p),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Xe(s,d)){if(o=d&-d,o===s.callbackPriority)return o;switch(p!==null&&Qe(p),zn(d)){case 2:case 8:d=tn;break;case 32:d=ue;break;case 268435456:d=Ye;break;default:d=ue}return p=Fb.bind(null,s),d=ct(d,p),s.callbackPriority=o,s.callbackNode=d,o}return p!==null&&p!==null&&Qe(p),s.callbackPriority=2,s.callbackNode=null,2}function Fb(s,o){if(sa!==0&&sa!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(yu()&&s.callbackNode!==d)return null;var p=At;return p=ka(s,s===en?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(wb(s,p,o),Ub(s,Pt()),s.callbackNode!=null&&s.callbackNode===d?Fb.bind(null,s):null)}function Wb(s,o){if(yu())return null;wb(s,o,!0)}function fS(){CS(function(){(Ft&6)!==0?ct(Gn,pS):zb()})}function hh(){return no===0&&(no=nn()),no}function Hb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ba(""+s)}function jb(s,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,s.id&&d.setAttribute("form",s.id),o.parentNode.insertBefore(d,o),s=new FormData(s),d.parentNode.removeChild(d),s}function hS(s,o,d,p,g){if(o==="submit"&&d&&d.stateNode===g){var x=Hb((g[wn]||null).action),D=p.submitter;D&&(o=(o=D[wn]||null)?Hb(o.formAction):D.getAttribute("formAction"),o!==null&&(x=o,D=null));var B=new Xs("action","action",null,p,g);s.push({event:B,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(no!==0){var $=D?jb(g,D):new FormData(g);Lf(d,{pending:!0,data:$,method:g.method,action:x},null,$)}}else typeof x=="function"&&(B.preventDefault(),$=D?jb(g,D):new FormData(g),Lf(d,{pending:!0,data:$,method:g.method,action:x},x,$))},currentTarget:g}]})}}for(var gh=0;gh<Kp.length;gh++){var yh=Kp[gh],gS=yh.toLowerCase(),yS=yh[0].toUpperCase()+yh.slice(1);kr(gS,"on"+yS)}kr(wy,"onAnimationEnd"),kr(Sy,"onAnimationIteration"),kr(Cy,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(P5,"onTransitionRun"),kr(L5,"onTransitionStart"),kr(B5,"onTransitionCancel"),kr(_y,"onTransitionEnd"),Er("onMouseEnter",["mouseout","mouseover"]),Er("onMouseLeave",["mouseout","mouseover"]),Er("onPointerEnter",["pointerout","pointerover"]),Er("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yc));function Yb(s,o){o=(o&4)!==0;for(var d=0;d<s.length;d++){var p=s[d],g=p.event;p=p.listeners;e:{var x=void 0;if(o)for(var D=p.length-1;0<=D;D--){var B=p[D],$=B.instance,le=B.currentTarget;if(B=B.listener,$!==x&&g.isPropagationStopped())break e;x=B,g.currentTarget=le;try{x(g)}catch(ge){iu(ge)}g.currentTarget=null,x=$}else for(D=0;D<p.length;D++){if(B=p[D],$=B.instance,le=B.currentTarget,B=B.listener,$!==x&&g.isPropagationStopped())break e;x=B,g.currentTarget=le;try{x(g)}catch(ge){iu(ge)}g.currentTarget=null,x=$}}}}function _t(s,o){var d=o[Gs];d===void 0&&(d=o[Gs]=new Set);var p=s+"__bubble";d.has(p)||(qb(o,s,2,!1),d.add(p))}function bh(s,o,d){var p=0;o&&(p|=4),qb(d,s,p,o)}var xu="_reactListening"+Math.random().toString(36).slice(2);function vh(s){if(!s[xu]){s[xu]=!0,Bi.forEach(function(d){d!=="selectionchange"&&(bS.has(d)||bh(d,!1,s),bh(d,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[xu]||(o[xu]=!0,bh("selectionchange",!1,o))}}function qb(s,o,d,p){switch(h2(o)){case 2:var g=qS;break;case 8:g=$S;break;default:g=Rh}d=g.bind(null,o,d,s),g=void 0,!Xn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(o,d,{capture:!0,passive:g}):s.addEventListener(o,d,!0):g!==void 0?s.addEventListener(o,d,{passive:g}):s.addEventListener(o,d,!1)}function xh(s,o,d,p,g){var x=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var D=p.tag;if(D===3||D===4){var B=p.stateNode.containerInfo;if(B===g)break;if(D===4)for(D=p.return;D!==null;){var $=D.tag;if(($===3||$===4)&&D.stateNode.containerInfo===g)return;D=D.return}for(;B!==null;){if(D=Da(B),D===null)return;if($=D.tag,$===5||$===6||$===26||$===27){p=x=D;continue e}B=B.parentNode}}p=p.return}va(function(){var le=x,ge=Nt(d),Ee=[];e:{var ce=Iy.get(s);if(ce!==void 0){var de=Xs,it=s;switch(s){case"keypress":if(xa(d)===0)break e;case"keydown":case"keyup":de=Yp;break;case"focusin":it="focus",de=Ir;break;case"focusout":it="blur",de=Ir;break;case"beforeblur":case"afterblur":de=Ir;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=$p;break;case wy:case Sy:case Cy:de=Wp;break;case _y:de=_e;break;case"scroll":case"scrollend":de=ko;break;case"wheel":de=yt;break;case"copy":case"cut":case"paste":de=iy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Fl;break;case"toggle":case"beforetoggle":de=ft}var tt=(o&4)!==0,Gt=!tt&&(s==="scroll"||s==="scrollend"),ae=tt?ce!==null?ce+"Capture":null:ce;tt=[];for(var ee=le,se;ee!==null;){var ve=ee;if(se=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||se===null||ae===null||(ve=hn(ee,ae),ve!=null&&tt.push(bc(ee,ve,se))),Gt)break;ee=ee.return}0<tt.length&&(ce=new de(ce,it,null,d,ge),Ee.push({event:ce,listeners:tt}))}}if((o&7)===0){e:{if(ce=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",ce&&d!==Br&&(it=d.relatedTarget||d.fromElement)&&(Da(it)||it[Ka]))break e;if((de||ce)&&(ce=ge.window===ge?ge:(ce=ge.ownerDocument)?ce.defaultView||ce.parentWindow:window,de?(it=d.relatedTarget||d.toElement,de=le,it=it?Da(it):null,it!==null&&(Gt=l(it),tt=it.tag,it!==Gt||tt!==5&&tt!==27&&tt!==6)&&(it=null)):(de=null,it=le),de!==it)){if(tt=Dd,ve="onMouseLeave",ae="onMouseEnter",ee="mouse",(s==="pointerout"||s==="pointerover")&&(tt=Fl,ve="onPointerLeave",ae="onPointerEnter",ee="pointer"),Gt=de==null?ce:us(de),se=it==null?ce:us(it),ce=new tt(ve,ee+"leave",de,d,ge),ce.target=Gt,ce.relatedTarget=se,ve=null,Da(ge)===le&&(tt=new tt(ae,ee+"enter",it,d,ge),tt.target=se,tt.relatedTarget=Gt,ve=tt),Gt=ve,de&&it)t:{for(tt=de,ae=it,ee=0,se=tt;se;se=tl(se))ee++;for(se=0,ve=ae;ve;ve=tl(ve))se++;for(;0<ee-se;)tt=tl(tt),ee--;for(;0<se-ee;)ae=tl(ae),se--;for(;ee--;){if(tt===ae||ae!==null&&tt===ae.alternate)break t;tt=tl(tt),ae=tl(ae)}tt=null}else tt=null;de!==null&&$b(Ee,ce,de,tt,!1),it!==null&&Gt!==null&&$b(Ee,Gt,it,tt,!0)}}e:{if(ce=le?us(le):window,de=ce.nodeName&&ce.nodeName.toLowerCase(),de==="select"||de==="input"&&ce.type==="file")var Fe=uy;else if(cy(ce))if(my)Fe=M5;else{Fe=A5;var St=N5}else de=ce.nodeName,!de||de.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?le&&Ue(le.elementType)&&(Fe=uy):Fe=D5;if(Fe&&(Fe=Fe(s,le))){dy(Ee,Fe,d,ge);break e}St&&St(s,ce,le),s==="focusout"&&le&&ce.type==="number"&&le.memoizedProps.value!=null&&mt(ce,"number",ce.value)}switch(St=le?us(le):window,s){case"focusin":(cy(St)||St.contentEditable==="true")&&(Mo=St,Qp=le,Yl=null);break;case"focusout":Yl=Qp=Mo=null;break;case"mousedown":Xp=!0;break;case"contextmenu":case"mouseup":case"dragend":Xp=!1,xy(Ee,d,ge);break;case"selectionchange":if(R5)break;case"keydown":case"keyup":xy(Ee,d,ge)}var Ge;if(Or)e:{switch(s){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Do?oy(s,d)&&(at="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(at="onCompositionStart");at&&(zr&&d.locale!=="ko"&&(Do||at!=="onCompositionStart"?at==="onCompositionEnd"&&Do&&(Ge=Sn()):(Jn=ge,er="value"in Jn?Jn.value:Jn.textContent,Do=!0)),St=Eu(le,at),0<St.length&&(at=new zl(at,s,null,d,ge),Ee.push({event:at,listeners:St}),Ge?at.data=Ge:(Ge=ly(d),Ge!==null&&(at.data=Ge)))),(Ge=Ea?C5(s,d):_5(s,d))&&(at=Eu(le,"onBeforeInput"),0<at.length&&(St=new zl("onBeforeInput","beforeinput",null,d,ge),Ee.push({event:St,listeners:at}),St.data=Ge)),hS(Ee,s,le,d,ge)}Yb(Ee,o)})}function bc(s,o,d){return{instance:s,listener:o,currentTarget:d}}function Eu(s,o){for(var d=o+"Capture",p=[];s!==null;){var g=s,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=hn(s,d),g!=null&&p.unshift(bc(s,g,x)),g=hn(s,o),g!=null&&p.push(bc(s,g,x))),s.tag===3)return p;s=s.return}return[]}function tl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function $b(s,o,d,p,g){for(var x=o._reactName,D=[];d!==null&&d!==p;){var B=d,$=B.alternate,le=B.stateNode;if(B=B.tag,$!==null&&$===p)break;B!==5&&B!==26&&B!==27||le===null||($=le,g?(le=hn(d,x),le!=null&&D.unshift(bc(d,le,$))):g||(le=hn(d,x),le!=null&&D.push(bc(d,le,$)))),d=d.return}D.length!==0&&s.push({event:o,listeners:D})}var vS=/\r\n?/g,xS=/\u0000|\uFFFD/g;function Gb(s){return(typeof s=="string"?s:""+s).replace(vS,`
`).replace(xS,"")}function Zb(s,o){return o=Gb(o),Gb(s)===o}function wu(){}function $t(s,o,d,p,g,x){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Te(s,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Te(s,""+p);break;case"className":hs(s,"class",p);break;case"tabIndex":hs(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":hs(s,d,p);break;case"style":Le(s,p,x);break;case"data":if(o!=="object"){hs(s,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){s.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(d);break}p=ba(""+p),s.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(d==="formAction"?(o!=="input"&&$t(s,o,"name",g.name,g,null),$t(s,o,"formEncType",g.formEncType,g,null),$t(s,o,"formMethod",g.formMethod,g,null),$t(s,o,"formTarget",g.formTarget,g,null)):($t(s,o,"encType",g.encType,g,null),$t(s,o,"method",g.method,g,null),$t(s,o,"target",g.target,g,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(d);break}p=ba(""+p),s.setAttribute(d,p);break;case"onClick":p!=null&&(s.onclick=wu);break;case"onScroll":p!=null&&_t("scroll",s);break;case"onScrollEnd":p!=null&&_t("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}d=ba(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,""+p):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":p===!0?s.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,p):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(d,p):s.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(d):s.setAttribute(d,p);break;case"popover":_t("beforetoggle",s),_t("toggle",s),fs(s,"popover",p);break;case"xlinkActuate":Ma(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ma(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ma(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ma(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ma(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ma(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ma(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ma(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ma(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":fs(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=kt.get(d)||d,fs(s,d,p))}}function Eh(s,o,d,p,g,x){switch(d){case"style":Le(s,p,x);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"children":typeof p=="string"?Te(s,p):(typeof p=="number"||typeof p=="bigint")&&Te(s,""+p);break;case"onScroll":p!=null&&_t("scroll",s);break;case"onScrollEnd":p!=null&&_t("scrollend",s);break;case"onClick":p!=null&&(s.onclick=wu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oi.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(g=d.endsWith("Capture"),o=d.slice(2,g?d.length-7:void 0),x=s[wn]||null,x=x!=null?x[d]:null,typeof x=="function"&&s.removeEventListener(o,x,g),typeof p=="function")){typeof x!="function"&&x!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(o,p,g);break e}d in s?s[d]=p:p===!0?s.setAttribute(d,""):fs(s,d,p)}}}function ia(s,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",s),_t("load",s);var p=!1,g=!1,x;for(x in d)if(d.hasOwnProperty(x)){var D=d[x];if(D!=null)switch(x){case"src":p=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:$t(s,o,x,D,d,null)}}g&&$t(s,o,"srcSet",d.srcSet,d,null),p&&$t(s,o,"src",d.src,d,null);return;case"input":_t("invalid",s);var B=x=D=g=null,$=null,le=null;for(p in d)if(d.hasOwnProperty(p)){var ge=d[p];if(ge!=null)switch(p){case"name":g=ge;break;case"type":D=ge;break;case"checked":$=ge;break;case"defaultChecked":le=ge;break;case"value":x=ge;break;case"defaultValue":B=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(n(137,o));break;default:$t(s,o,p,ge,d,null)}}Be(s,x,B,$,le,D,g,!1),L(s);return;case"select":_t("invalid",s),p=D=x=null;for(g in d)if(d.hasOwnProperty(g)&&(B=d[g],B!=null))switch(g){case"value":x=B;break;case"defaultValue":D=B;break;case"multiple":p=B;default:$t(s,o,g,B,d,null)}o=x,d=D,s.multiple=!!p,o!=null?$e(s,!!p,o,!1):d!=null&&$e(s,!!p,d,!0);return;case"textarea":_t("invalid",s),x=g=p=null;for(D in d)if(d.hasOwnProperty(D)&&(B=d[D],B!=null))switch(D){case"value":p=B;break;case"defaultValue":g=B;break;case"children":x=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(n(91));break;default:$t(s,o,D,B,d,null)}Je(s,p,g,x),L(s);return;case"option":for($ in d)if(d.hasOwnProperty($)&&(p=d[$],p!=null))switch($){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:$t(s,o,$,p,d,null)}return;case"dialog":_t("beforetoggle",s),_t("toggle",s),_t("cancel",s),_t("close",s);break;case"iframe":case"object":_t("load",s);break;case"video":case"audio":for(p=0;p<yc.length;p++)_t(yc[p],s);break;case"image":_t("error",s),_t("load",s);break;case"details":_t("toggle",s);break;case"embed":case"source":case"link":_t("error",s),_t("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in d)if(d.hasOwnProperty(le)&&(p=d[le],p!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:$t(s,o,le,p,d,null)}return;default:if(Ue(o)){for(ge in d)d.hasOwnProperty(ge)&&(p=d[ge],p!==void 0&&Eh(s,o,ge,p,d,void 0));return}}for(B in d)d.hasOwnProperty(B)&&(p=d[B],p!=null&&$t(s,o,B,p,d,null))}function ES(s,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,D=null,B=null,$=null,le=null,ge=null;for(de in d){var Ee=d[de];if(d.hasOwnProperty(de)&&Ee!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":$=Ee;default:p.hasOwnProperty(de)||$t(s,o,de,null,p,Ee)}}for(var ce in p){var de=p[ce];if(Ee=d[ce],p.hasOwnProperty(ce)&&(de!=null||Ee!=null))switch(ce){case"type":x=de;break;case"name":g=de;break;case"checked":le=de;break;case"defaultChecked":ge=de;break;case"value":D=de;break;case"defaultValue":B=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,o));break;default:de!==Ee&&$t(s,o,ce,de,p,Ee)}}De(s,D,B,$,le,ge,x,g);return;case"select":de=D=B=ce=null;for(x in d)if($=d[x],d.hasOwnProperty(x)&&$!=null)switch(x){case"value":break;case"multiple":de=$;default:p.hasOwnProperty(x)||$t(s,o,x,null,p,$)}for(g in p)if(x=p[g],$=d[g],p.hasOwnProperty(g)&&(x!=null||$!=null))switch(g){case"value":ce=x;break;case"defaultValue":B=x;break;case"multiple":D=x;default:x!==$&&$t(s,o,g,x,p,$)}o=B,d=D,p=de,ce!=null?$e(s,!!d,ce,!1):!!p!=!!d&&(o!=null?$e(s,!!d,o,!0):$e(s,!!d,d?[]:"",!1));return;case"textarea":de=ce=null;for(B in d)if(g=d[B],d.hasOwnProperty(B)&&g!=null&&!p.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:$t(s,o,B,null,p,g)}for(D in p)if(g=p[D],x=d[D],p.hasOwnProperty(D)&&(g!=null||x!=null))switch(D){case"value":ce=g;break;case"defaultValue":de=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==x&&$t(s,o,D,g,p,x)}pt(s,ce,de);return;case"option":for(var it in d)if(ce=d[it],d.hasOwnProperty(it)&&ce!=null&&!p.hasOwnProperty(it))switch(it){case"selected":s.selected=!1;break;default:$t(s,o,it,null,p,ce)}for($ in p)if(ce=p[$],de=d[$],p.hasOwnProperty($)&&ce!==de&&(ce!=null||de!=null))switch($){case"selected":s.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:$t(s,o,$,ce,p,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in d)ce=d[tt],d.hasOwnProperty(tt)&&ce!=null&&!p.hasOwnProperty(tt)&&$t(s,o,tt,null,p,ce);for(le in p)if(ce=p[le],de=d[le],p.hasOwnProperty(le)&&ce!==de&&(ce!=null||de!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(137,o));break;default:$t(s,o,le,ce,p,de)}return;default:if(Ue(o)){for(var Gt in d)ce=d[Gt],d.hasOwnProperty(Gt)&&ce!==void 0&&!p.hasOwnProperty(Gt)&&Eh(s,o,Gt,void 0,p,ce);for(ge in p)ce=p[ge],de=d[ge],!p.hasOwnProperty(ge)||ce===de||ce===void 0&&de===void 0||Eh(s,o,ge,ce,p,de);return}}for(var ae in d)ce=d[ae],d.hasOwnProperty(ae)&&ce!=null&&!p.hasOwnProperty(ae)&&$t(s,o,ae,null,p,ce);for(Ee in p)ce=p[Ee],de=d[Ee],!p.hasOwnProperty(Ee)||ce===de||ce==null&&de==null||$t(s,o,Ee,ce,p,de)}var wh=null,Sh=null;function Su(s){return s.nodeType===9?s:s.ownerDocument}function Vb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qb(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Ch(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var _h=null;function wS(){var s=window.event;return s&&s.type==="popstate"?s===_h?!1:(_h=s,!0):(_h=null,!1)}var Xb=typeof setTimeout=="function"?setTimeout:void 0,SS=typeof clearTimeout=="function"?clearTimeout:void 0,Jb=typeof Promise=="function"?Promise:void 0,CS=typeof queueMicrotask=="function"?queueMicrotask:typeof Jb<"u"?function(s){return Jb.resolve(null).then(s).catch(_S)}:Xb;function _S(s){setTimeout(function(){throw s})}function fi(s){return s==="head"}function Kb(s,o){var d=o,p=0,g=0;do{var x=d.nextSibling;if(s.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(0<p&&8>p){d=p;var D=s.ownerDocument;if(d&1&&vc(D.documentElement),d&2&&vc(D.body),d&4)for(d=D.head,vc(d),D=d.firstChild;D;){var B=D.nextSibling,$=D.nodeName;D[Pr]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=B}}if(g===0){s.removeChild(x),kc(o);return}g--}else d==="$"||d==="$?"||d==="$!"?g++:p=d.charCodeAt(0)-48;else p=0;d=x}while(d);kc(o)}function Ih(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Ih(d),ds(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function IS(s,o,d,p){for(;s.nodeType===1;){var g=d;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[Pr])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=Ar(s.nextSibling),s===null)break}return null}function kS(s,o,d){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Ar(s.nextSibling),s===null))return null;return s}function kh(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function NS(s,o){var d=s.ownerDocument;if(s.data!=="$?"||d.readyState==="complete")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function Ar(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var Nh=null;function e2(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return s;o--}else d==="/$"&&o++}s=s.previousSibling}return null}function t2(s,o,d){switch(o=Su(d),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function vc(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);ds(s)}var or=new Map,n2=new Set;function Cu(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ds=F.d;F.d={f:AS,r:DS,D:MS,C:TS,L:RS,m:PS,X:BS,S:LS,M:OS};function AS(){var s=Ds.f(),o=hu();return s||o}function DS(s){var o=Lr(s);o!==null&&o.tag===5&&o.type==="form"?w1(o):Ds.r(s)}var nl=typeof document>"u"?null:document;function a2(s,o,d){var p=nl;if(p&&typeof o=="string"&&o){var g=Me(o);g='link[rel="'+s+'"][href="'+g+'"]',typeof d=="string"&&(g+='[crossorigin="'+d+'"]'),n2.has(g)||(n2.add(g),s={rel:s,crossOrigin:d,href:o},p.querySelector(g)===null&&(o=p.createElement("link"),ia(o,"link",s),fn(o),p.head.appendChild(o)))}}function MS(s){Ds.D(s),a2("dns-prefetch",s,null)}function TS(s,o){Ds.C(s,o),a2("preconnect",s,o)}function RS(s,o,d){Ds.L(s,o,d);var p=nl;if(p&&s&&o){var g='link[rel="preload"][as="'+Me(o)+'"]';o==="image"&&d&&d.imageSrcSet?(g+='[imagesrcset="'+Me(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(g+='[imagesizes="'+Me(d.imageSizes)+'"]')):g+='[href="'+Me(s)+'"]';var x=g;switch(o){case"style":x=al(s);break;case"script":x=rl(s)}or.has(x)||(s=f({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:s,as:o},d),or.set(x,s),p.querySelector(g)!==null||o==="style"&&p.querySelector(xc(x))||o==="script"&&p.querySelector(Ec(x))||(o=p.createElement("link"),ia(o,"link",s),fn(o),p.head.appendChild(o)))}}function PS(s,o){Ds.m(s,o);var d=nl;if(d&&s){var p=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+Me(p)+'"][href="'+Me(s)+'"]',x=g;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=rl(s)}if(!or.has(x)&&(s=f({rel:"modulepreload",href:s},o),or.set(x,s),d.querySelector(g)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Ec(x)))return}p=d.createElement("link"),ia(p,"link",s),fn(p),d.head.appendChild(p)}}}function LS(s,o,d){Ds.S(s,o,d);var p=nl;if(p&&s){var g=xr(p).hoistableStyles,x=al(s);o=o||"default";var D=g.get(x);if(!D){var B={loading:0,preload:null};if(D=p.querySelector(xc(x)))B.loading=5;else{s=f({rel:"stylesheet",href:s,"data-precedence":o},d),(d=or.get(x))&&Ah(s,d);var $=D=p.createElement("link");fn($),ia($,"link",s),$._p=new Promise(function(le,ge){$.onload=le,$.onerror=ge}),$.addEventListener("load",function(){B.loading|=1}),$.addEventListener("error",function(){B.loading|=2}),B.loading|=4,_u(D,o,p)}D={type:"stylesheet",instance:D,count:1,state:B},g.set(x,D)}}}function BS(s,o){Ds.X(s,o);var d=nl;if(d&&s){var p=xr(d).hoistableScripts,g=rl(s),x=p.get(g);x||(x=d.querySelector(Ec(g)),x||(s=f({src:s,async:!0},o),(o=or.get(g))&&Dh(s,o),x=d.createElement("script"),fn(x),ia(x,"link",s),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},p.set(g,x))}}function OS(s,o){Ds.M(s,o);var d=nl;if(d&&s){var p=xr(d).hoistableScripts,g=rl(s),x=p.get(g);x||(x=d.querySelector(Ec(g)),x||(s=f({src:s,async:!0,type:"module"},o),(o=or.get(g))&&Dh(s,o),x=d.createElement("script"),fn(x),ia(x,"link",s),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},p.set(g,x))}}function r2(s,o,d,p){var g=(g=me.current)?Cu(g):null;if(!g)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=al(d.href),d=xr(g).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=al(d.href);var x=xr(g).hoistableStyles,D=x.get(s);if(D||(g=g.ownerDocument||g,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,D),(x=g.querySelector(xc(s)))&&!x._p&&(D.instance=x,D.state.loading=5),or.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},or.set(s,d),x||zS(g,s,d,D.state))),o&&p===null)throw Error(n(528,""));return D}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=rl(d),d=xr(g).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function al(s){return'href="'+Me(s)+'"'}function xc(s){return'link[rel="stylesheet"]['+s+"]"}function s2(s){return f({},s,{"data-precedence":s.precedence,precedence:null})}function zS(s,o,d,p){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=s.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),ia(o,"link",d),fn(o),s.head.appendChild(o))}function rl(s){return'[src="'+Me(s)+'"]'}function Ec(s){return"script[async]"+s}function i2(s,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=s.querySelector('style[data-href~="'+Me(d.href)+'"]');if(p)return o.instance=p,fn(p),p;var g=f({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),fn(p),ia(p,"style",g),_u(p,d.precedence,s),o.instance=p;case"stylesheet":g=al(d.href);var x=s.querySelector(xc(g));if(x)return o.state.loading|=4,o.instance=x,fn(x),x;p=s2(d),(g=or.get(g))&&Ah(p,g),x=(s.ownerDocument||s).createElement("link"),fn(x);var D=x;return D._p=new Promise(function(B,$){D.onload=B,D.onerror=$}),ia(x,"link",p),o.state.loading|=4,_u(x,d.precedence,s),o.instance=x;case"script":return x=rl(d.src),(g=s.querySelector(Ec(x)))?(o.instance=g,fn(g),g):(p=d,(g=or.get(x))&&(p=f({},d),Dh(p,g)),s=s.ownerDocument||s,g=s.createElement("script"),fn(g),ia(g,"link",p),s.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,_u(p,d.precedence,s));return o.instance}function _u(s,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=p.length?p[p.length-1]:null,x=g,D=0;D<p.length;D++){var B=p[D];if(B.dataset.precedence===o)x=B;else if(x!==g)break}x?x.parentNode.insertBefore(s,x.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(s,o.firstChild))}function Ah(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Dh(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Iu=null;function o2(s,o,d){if(Iu===null){var p=new Map,g=Iu=new Map;g.set(d,p)}else g=Iu,p=g.get(d),p||(p=new Map,g.set(d,p));if(p.has(s))return p;for(p.set(s,null),d=d.getElementsByTagName(s),g=0;g<d.length;g++){var x=d[g];if(!(x[Pr]||x[Kt]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var D=x.getAttribute(o)||"";D=s+D;var B=p.get(D);B?B.push(x):p.set(D,[x])}}return p}function l2(s,o,d){s=s.ownerDocument||s,s.head.insertBefore(d,o==="title"?s.querySelector("head > title"):null)}function US(s,o,d){if(d===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function c2(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var wc=null;function FS(){}function WS(s,o,d){if(wc===null)throw Error(n(475));var p=wc;if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=al(d.href),x=s.querySelector(xc(g));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(p.count++,p=ku.bind(p),s.then(p,p)),o.state.loading|=4,o.instance=x,fn(x);return}x=s.ownerDocument||s,d=s2(d),(g=or.get(g))&&Ah(d,g),x=x.createElement("link"),fn(x);var D=x;D._p=new Promise(function(B,$){D.onload=B,D.onerror=$}),ia(x,"link",d),o.instance=x}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(p.count++,o=ku.bind(p),s.addEventListener("load",o),s.addEventListener("error",o))}}function HS(){if(wc===null)throw Error(n(475));var s=wc;return s.stylesheets&&s.count===0&&Mh(s,s.stylesheets),0<s.count?function(o){var d=setTimeout(function(){if(s.stylesheets&&Mh(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(d)}}:null}function ku(){if(this.count--,this.count===0){if(this.stylesheets)Mh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Nu=null;function Mh(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Nu=new Map,o.forEach(jS,s),Nu=null,ku.call(s))}function jS(s,o){if(!(o.state.loading&4)){var d=Nu.get(s);if(d)var p=d.get(null);else{d=new Map,Nu.set(s,d);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var D=g[x];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),p=D)}p&&d.set(null,p)}g=o.instance,D=g.getAttribute("data-precedence"),x=d.get(D)||p,x===p&&d.set(null,g),d.set(D,g),this.count++,p=ku.bind(this),g.addEventListener("load",p),g.addEventListener("error",p),x?x.parentNode.insertBefore(g,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),o.state.loading|=4}}var Sc={$$typeof:N,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function YS(s,o,d,p,g,x,D,B){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=En(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=En(0),this.hiddenUpdates=En(null),this.identifierPrefix=p,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function d2(s,o,d,p,g,x,D,B,$,le,ge,Ee){return s=new YS(s,o,d,D,B,$,le,Ee),o=1,x===!0&&(o|=24),x=Wa(3,null,null,o),s.current=x,x.stateNode=s,o=mf(),o.refCount++,s.pooledCache=o,o.refCount++,x.memoizedState={element:p,isDehydrated:d,cache:o},gf(x),s}function u2(s){return s?(s=Lo,s):Lo}function m2(s,o,d,p,g,x){g=u2(g),p.context===null?p.context=g:p.pendingContext=g,p=ti(o),p.payload={element:d},x=x===void 0?null:x,x!==null&&(p.callback=x),d=ni(s,p,o),d!==null&&($a(d,s,o),Kl(d,s,o))}function p2(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<o?d:o}}function Th(s,o){p2(s,o),(s=s.alternate)&&p2(s,o)}function f2(s){if(s.tag===13){var o=Po(s,67108864);o!==null&&$a(o,s,67108864),Th(s,67108864)}}var Au=!0;function qS(s,o,d,p){var g=A.T;A.T=null;var x=F.p;try{F.p=2,Rh(s,o,d,p)}finally{F.p=x,A.T=g}}function $S(s,o,d,p){var g=A.T;A.T=null;var x=F.p;try{F.p=8,Rh(s,o,d,p)}finally{F.p=x,A.T=g}}function Rh(s,o,d,p){if(Au){var g=Ph(p);if(g===null)xh(s,o,p,Du,d),g2(s,p);else if(ZS(g,s,o,d,p))p.stopPropagation();else if(g2(s,p),o&4&&-1<GS.indexOf(s)){for(;g!==null;){var x=Lr(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var D=jn(x.pendingLanes);if(D!==0){var B=x;for(B.pendingLanes|=2,B.entangledLanes|=2;D;){var $=1<<31-et(D);B.entanglements[1]|=$,D&=~$}jr(x),(Ft&6)===0&&(pu=Pt()+500,gc(0))}}break;case 13:B=Po(x,2),B!==null&&$a(B,x,2),hu(),Th(x,2)}if(x=Ph(p),x===null&&xh(s,o,p,Du,d),x===g)break;g=x}g!==null&&p.stopPropagation()}else xh(s,o,p,null,d)}}function Ph(s){return s=Nt(s),Lh(s)}var Du=null;function Lh(s){if(Du=null,s=Da(s),s!==null){var o=l(s);if(o===null)s=null;else{var d=o.tag;if(d===13){if(s=c(o),s!==null)return s;s=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Du=s,null}function h2(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rn()){case Gn:return 2;case tn:return 8;case ue:case Ke:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var Bh=!1,hi=null,gi=null,yi=null,Cc=new Map,_c=new Map,bi=[],GS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g2(s,o){switch(s){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":Cc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(o.pointerId)}}function Ic(s,o,d,p,g,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:x,targetContainers:[g]},o!==null&&(o=Lr(o),o!==null&&f2(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function ZS(s,o,d,p,g){switch(o){case"focusin":return hi=Ic(hi,s,o,d,p,g),!0;case"dragenter":return gi=Ic(gi,s,o,d,p,g),!0;case"mouseover":return yi=Ic(yi,s,o,d,p,g),!0;case"pointerover":var x=g.pointerId;return Cc.set(x,Ic(Cc.get(x)||null,s,o,d,p,g)),!0;case"gotpointercapture":return x=g.pointerId,_c.set(x,Ic(_c.get(x)||null,s,o,d,p,g)),!0}return!1}function y2(s){var o=Da(s.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){s.blockedOn=o,Co(s.priority,function(){if(d.tag===13){var p=qa();p=Ba(p);var g=Po(d,p);g!==null&&$a(g,d,p),Th(d,p)}});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Mu(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var d=Ph(s.nativeEvent);if(d===null){d=s.nativeEvent;var p=new d.constructor(d.type,d);Br=p,d.target.dispatchEvent(p),Br=null}else return o=Lr(d),o!==null&&f2(o),s.blockedOn=d,!1;o.shift()}return!0}function b2(s,o,d){Mu(s)&&d.delete(o)}function VS(){Bh=!1,hi!==null&&Mu(hi)&&(hi=null),gi!==null&&Mu(gi)&&(gi=null),yi!==null&&Mu(yi)&&(yi=null),Cc.forEach(b2),_c.forEach(b2)}function Tu(s,o){s.blockedOn===o&&(s.blockedOn=null,Bh||(Bh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,VS)))}var Ru=null;function v2(s){Ru!==s&&(Ru=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ru===s&&(Ru=null);for(var o=0;o<s.length;o+=3){var d=s[o],p=s[o+1],g=s[o+2];if(typeof p!="function"){if(Lh(p||d)===null)continue;break}var x=Lr(d);x!==null&&(s.splice(o,3),o-=3,Lf(x,{pending:!0,data:g,method:d.method,action:p},p,g))}}))}function kc(s){function o($){return Tu($,s)}hi!==null&&Tu(hi,s),gi!==null&&Tu(gi,s),yi!==null&&Tu(yi,s),Cc.forEach(o),_c.forEach(o);for(var d=0;d<bi.length;d++){var p=bi[d];p.blockedOn===s&&(p.blockedOn=null)}for(;0<bi.length&&(d=bi[0],d.blockedOn===null);)y2(d),d.blockedOn===null&&bi.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var g=d[p],x=d[p+1],D=g[wn]||null;if(typeof x=="function")D||v2(d);else if(D){var B=null;if(x&&x.hasAttribute("formAction")){if(g=x,D=x[wn]||null)B=D.formAction;else if(Lh(g)!==null)continue}else B=D.action;typeof B=="function"?d[p+1]=B:(d.splice(p,3),p-=3),v2(d)}}}function Oh(s){this._internalRoot=s}Pu.prototype.render=Oh.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var d=o.current,p=qa();m2(d,p,s,o,null,null)},Pu.prototype.unmount=Oh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;m2(s.current,2,null,s,null,null),hu(),o[Ka]=null}};function Pu(s){this._internalRoot=s}Pu.prototype.unstable_scheduleHydration=function(s){if(s){var o=$s();s={blockedOn:null,target:s,priority:o};for(var d=0;d<bi.length&&o!==0&&o<bi[d].priority;d++);bi.splice(d,0,s),d===0&&y2(s)}};var x2=a.version;if(x2!=="19.1.0")throw Error(n(527,x2,"19.1.0"));F.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=m(o),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var QS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{Pe=Lu.inject(QS),He=Lu}catch{}}return Nc.createRoot=function(s,o){if(!i(s))throw Error(n(299));var d=!1,p="",g=B1,x=O1,D=z1,B=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(B=o.unstable_transitionCallbacks)),o=d2(s,1,!1,null,null,d,p,g,x,D,B,null),s[Ka]=o.current,vh(s),new Oh(o)},Nc.hydrateRoot=function(s,o,d){if(!i(s))throw Error(n(299));var p=!1,g="",x=B1,D=O1,B=z1,$=null,le=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(x=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(B=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&($=d.unstable_transitionCallbacks),d.formState!==void 0&&(le=d.formState)),o=d2(s,1,!0,o,d??null,p,g,x,D,B,$,le),o.context=u2(null),d=o.current,p=qa(),p=Ba(p),g=ti(p),g.callback=null,ni(d,g,p),d=p,o.current.lanes=d,La(o,d),jr(o),s[Ka]=o.current,vh(s),new Pu(o)},Nc.version="19.1.0",Nc}var A2;function cC(){if(A2)return Uh.exports;A2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Uh.exports=lC(),Uh.exports}var dC=cC();const uC=gp(dC);var Ac={},D2;function mC(){if(D2)return Ac;D2=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.parse=c,Ac.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,a=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,w){const E=new l,_=b.length;if(_<2)return E;const S=(w==null?void 0:w.decode)||f;let C=0;do{const I=b.indexOf("=",C);if(I===-1)break;const N=b.indexOf(";",C),k=N===-1?_:N;if(I>k){C=b.lastIndexOf(";",I-1)+1;continue}const M=u(b,C,I),T=m(b,I,M),q=b.slice(M,T);if(E[q]===void 0){let z=u(b,I+1,k),G=m(b,k,z);const K=S(b.slice(z,G));E[q]=K}C=k+1}while(C<_);return E}function u(b,w,E){do{const _=b.charCodeAt(w);if(_!==32&&_!==9)return w}while(++w<E);return E}function m(b,w,E){for(;w>E;){const _=b.charCodeAt(--w);if(_!==32&&_!==9)return w+1}return E}function h(b,w,E){const _=(E==null?void 0:E.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const S=_(w);if(!a.test(S))throw new TypeError(`argument val is invalid: ${w}`);let C=b+"="+S;if(!E)return C;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);C+="; Max-Age="+E.maxAge}if(E.domain){if(!e.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);C+="; Domain="+E.domain}if(E.path){if(!n.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);C+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);C+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(C+="; HttpOnly"),E.secure&&(C+="; Secure"),E.partitioned&&(C+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return C}function f(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return i.call(b)==="[object Date]"}return Ac}mC();var M2="popstate";function pC(t={}){function a(i,l){let{pathname:c="/",search:u="",hash:m=""}=Eo(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Tg("",{pathname:c,search:u,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function e(i,l){let c=i.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let m=i.location.href,h=m.indexOf("#");u=h===-1?m:m.slice(0,h)}return u+"#"+(typeof l=="string"?l:od(l))}function n(i,l){Ja(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return hC(a,e,n,t)}function mn(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Ja(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function fC(){return Math.random().toString(36).substring(2,10)}function T2(t,a){return{usr:t.state,key:t.key,idx:a}}function Tg(t,a,e=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?Eo(a):a,state:e,key:a&&a.key||n||fC()}}function od({pathname:t="/",search:a="",hash:e=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),e&&e!=="#"&&(t+=e.charAt(0)==="#"?e:"#"+e),t}function Eo(t){let a={};if(t){let e=t.indexOf("#");e>=0&&(a.hash=t.substring(e),t=t.substring(0,e));let n=t.indexOf("?");n>=0&&(a.search=t.substring(n),t=t.substring(0,n)),t&&(a.pathname=t)}return a}function hC(t,a,e,n={}){let{window:i=document.defaultView,v5Compat:l=!1}=n,c=i.history,u="POP",m=null,h=f();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function f(){return(c.state||{idx:null}).idx}function y(){u="POP";let S=f(),C=S==null?null:S-h;h=S,m&&m({action:u,location:_.location,delta:C})}function b(S,C){u="PUSH";let I=Tg(_.location,S,C);e&&e(I,S),h=f()+1;let N=T2(I,h),k=_.createHref(I);try{c.pushState(N,"",k)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(k)}l&&m&&m({action:u,location:_.location,delta:1})}function w(S,C){u="REPLACE";let I=Tg(_.location,S,C);e&&e(I,S),h=f();let N=T2(I,h),k=_.createHref(I);c.replaceState(N,"",k),l&&m&&m({action:u,location:_.location,delta:0})}function E(S){return gC(S)}let _={get action(){return u},get location(){return t(i,c)},listen(S){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(M2,y),m=S,()=>{i.removeEventListener(M2,y),m=null}},createHref(S){return a(i,S)},createURL:E,encodeLocation(S){let C=E(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:w,go(S){return c.go(S)}};return _}function gC(t,a=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),mn(e,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:od(t);return n=n.replace(/ $/,"%20"),!a&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function jx(t,a,e="/"){return yC(t,a,e,!1)}function yC(t,a,e,n){let i=typeof a=="string"?Eo(a):a,l=js(i.pathname||"/",e);if(l==null)return null;let c=Yx(t);bC(c);let u=null;for(let m=0;u==null&&m<c.length;++m){let h=AC(l);u=kC(c[m],h,n)}return u}function Yx(t,a=[],e=[],n=""){let i=(l,c,u)=>{let m={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(mn(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length));let h=Bs([n,m.relativePath]),f=e.concat(m);l.children&&l.children.length>0&&(mn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Yx(l.children,a,f,h)),!(l.path==null&&!l.index)&&a.push({path:h,score:_C(h,l.index),routesMeta:f})};return t.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))i(l,c);else for(let m of qx(l.path))i(l,c,m)}),a}function qx(t){let a=t.split("/");if(a.length===0)return[];let[e,...n]=a,i=e.endsWith("?"),l=e.replace(/\?$/,"");if(n.length===0)return i?[l,""]:[l];let c=qx(n.join("/")),u=[];return u.push(...c.map(m=>m===""?l:[l,m].join("/"))),i&&u.push(...c),u.map(m=>t.startsWith("/")&&m===""?"/":m)}function bC(t){t.sort((a,e)=>a.score!==e.score?e.score-a.score:IC(a.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var vC=/^:[\w-]+$/,xC=3,EC=2,wC=1,SC=10,CC=-2,R2=t=>t==="*";function _C(t,a){let e=t.split("/"),n=e.length;return e.some(R2)&&(n+=CC),a&&(n+=EC),e.filter(i=>!R2(i)).reduce((i,l)=>i+(vC.test(l)?xC:l===""?wC:SC),n)}function IC(t,a){return t.length===a.length&&t.slice(0,-1).every((n,i)=>n===a[i])?t[t.length-1]-a[a.length-1]:0}function kC(t,a,e=!1){let{routesMeta:n}=t,i={},l="/",c=[];for(let u=0;u<n.length;++u){let m=n[u],h=u===n.length-1,f=l==="/"?a:a.slice(l.length)||"/",y=ym({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},f),b=m.route;if(!y&&h&&e&&!n[n.length-1].route.index&&(y=ym({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},f)),!y)return null;Object.assign(i,y.params),c.push({params:i,pathname:Bs([l,y.pathname]),pathnameBase:RC(Bs([l,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(l=Bs([l,y.pathnameBase]))}return c}function ym(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[e,n]=NC(t.path,t.caseSensitive,t.end),i=a.match(e);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((h,{paramName:f,isOptional:y},b)=>{if(f==="*"){let E=u[b]||"";c=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}const w=u[b];return y&&!w?h[f]=void 0:h[f]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:t}}function NC(t,a=!1,e=!0){Ja(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,m)=>(n.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,a?void 0:"i"),n]}function AC(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ja(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function js(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let e=a.endsWith("/")?a.length-1:a.length,n=t.charAt(e);return n&&n!=="/"?null:t.slice(e)||"/"}function DC(t,a="/"){let{pathname:e,search:n="",hash:i=""}=typeof t=="string"?Eo(t):t;return{pathname:e?e.startsWith("/")?e:MC(e,a):a,search:PC(n),hash:LC(i)}}function MC(t,a){let e=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?e.length>1&&e.pop():i!=="."&&e.push(i)}),e.length>1?e.join("/"):"/"}function jh(t,a,e,n){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TC(t){return t.filter((a,e)=>e===0||a.route.path&&a.route.path.length>0)}function g0(t){let a=TC(t);return a.map((e,n)=>n===a.length-1?e.pathname:e.pathnameBase)}function y0(t,a,e,n=!1){let i;typeof t=="string"?i=Eo(t):(i={...t},mn(!i.pathname||!i.pathname.includes("?"),jh("?","pathname","search",i)),mn(!i.pathname||!i.pathname.includes("#"),jh("#","pathname","hash",i)),mn(!i.search||!i.search.includes("#"),jh("#","search","hash",i)));let l=t===""||i.pathname==="",c=l?"/":i.pathname,u;if(c==null)u=e;else{let y=a.length-1;if(!n&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;i.pathname=b.join("/")}u=y>=0?a[y]:"/"}let m=DC(i,u),h=c&&c!=="/"&&c.endsWith("/"),f=(l||c===".")&&e.endsWith("/");return!m.pathname.endsWith("/")&&(h||f)&&(m.pathname+="/"),m}var Bs=t=>t.join("/").replace(/\/\/+/g,"/"),RC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var $x=["POST","PUT","PATCH","DELETE"];new Set($x);var OC=["GET",...$x];new Set(OC);var Dl=v.createContext(null);Dl.displayName="DataRouter";var yp=v.createContext(null);yp.displayName="DataRouterState";var Gx=v.createContext({isTransitioning:!1});Gx.displayName="ViewTransition";var zC=v.createContext(new Map);zC.displayName="Fetchers";var UC=v.createContext(null);UC.displayName="Await";var Rr=v.createContext(null);Rr.displayName="Navigation";var yd=v.createContext(null);yd.displayName="Location";var as=v.createContext({outlet:null,matches:[],isDataRoute:!1});as.displayName="Route";var b0=v.createContext(null);b0.displayName="RouteError";function FC(t,{relative:a}={}){mn(Ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=v.useContext(Rr),{hash:i,pathname:l,search:c}=bd(t,{relative:a}),u=l;return e!=="/"&&(u=l==="/"?e:Bs([e,l])),n.createHref({pathname:u,search:c,hash:i})}function Ml(){return v.useContext(yd)!=null}function rs(){return mn(Ml(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(yd).location}var Zx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vx(t){v.useContext(Rr).static||v.useLayoutEffect(t)}function ss(){let{isDataRoute:t}=v.useContext(as);return t?KC():WC()}function WC(){mn(Ml(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(Dl),{basename:a,navigator:e}=v.useContext(Rr),{matches:n}=v.useContext(as),{pathname:i}=rs(),l=JSON.stringify(g0(n)),c=v.useRef(!1);return Vx(()=>{c.current=!0}),v.useCallback((m,h={})=>{if(Ja(c.current,Zx),!c.current)return;if(typeof m=="number"){e.go(m);return}let f=y0(m,JSON.parse(l),i,h.relative==="path");t==null&&a!=="/"&&(f.pathname=f.pathname==="/"?a:Bs([a,f.pathname])),(h.replace?e.replace:e.push)(f,h.state,h)},[a,e,l,i,t])}v.createContext(null);function bd(t,{relative:a}={}){let{matches:e}=v.useContext(as),{pathname:n}=rs(),i=JSON.stringify(g0(e));return v.useMemo(()=>y0(t,JSON.parse(i),n,a==="path"),[t,i,n,a])}function HC(t,a){return Qx(t,a)}function Qx(t,a,e,n){var C;mn(Ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=v.useContext(Rr),{matches:l}=v.useContext(as),c=l[l.length-1],u=c?c.params:{},m=c?c.pathname:"/",h=c?c.pathnameBase:"/",f=c&&c.route;{let I=f&&f.path||"";Xx(m,!f||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=rs(),b;if(a){let I=typeof a=="string"?Eo(a):a;mn(h==="/"||((C=I.pathname)==null?void 0:C.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${I.pathname}" was given in the \`location\` prop.`),b=I}else b=y;let w=b.pathname||"/",E=w;if(h!=="/"){let I=h.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(I.length).join("/")}let _=jx(t,{pathname:E});Ja(f||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ja(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=GC(_&&_.map(I=>Object.assign({},I,{params:Object.assign({},u,I.params),pathname:Bs([h,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?h:Bs([h,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),l,e,n);return a&&S?v.createElement(yd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},S):S}function jC(){let t=JC(),a=BC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),e=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:l},"ErrorBoundary")," or"," ",v.createElement("code",{style:l},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},a),e?v.createElement("pre",{style:i},e):null,c)}var YC=v.createElement(jC,null),qC=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){console.error("React Router caught the following error during render",t,a)}render(){return this.state.error!==void 0?v.createElement(as.Provider,{value:this.props.routeContext},v.createElement(b0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $C({routeContext:t,match:a,children:e}){let n=v.useContext(Dl);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),v.createElement(as.Provider,{value:t},e)}function GC(t,a=[],e=null,n=null){if(t==null){if(!e)return null;if(e.errors)t=e.matches;else if(a.length===0&&!e.initialized&&e.matches.length>0)t=e.matches;else return null}let i=t,l=e==null?void 0:e.errors;if(l!=null){let m=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);mn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let c=!1,u=-1;if(e)for(let m=0;m<i.length;m++){let h=i[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=m),h.route.id){let{loaderData:f,errors:y}=e,b=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((m,h,f)=>{let y,b=!1,w=null,E=null;e&&(y=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||YC,c&&(u<0&&f===0?(Xx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):u===f&&(b=!0,E=h.route.hydrateFallbackElement||null)));let _=a.concat(i.slice(0,f+1)),S=()=>{let C;return y?C=w:b?C=E:h.route.Component?C=v.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=m,v.createElement($C,{match:h,routeContext:{outlet:m,matches:_,isDataRoute:e!=null},children:C})};return e&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(qC,{location:e.location,revalidation:e.revalidation,component:w,error:y,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}function v0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZC(t){let a=v.useContext(Dl);return mn(a,v0(t)),a}function VC(t){let a=v.useContext(yp);return mn(a,v0(t)),a}function QC(t){let a=v.useContext(as);return mn(a,v0(t)),a}function x0(t){let a=QC(t),e=a.matches[a.matches.length-1];return mn(e.route.id,`${t} can only be used on routes that contain a unique "id"`),e.route.id}function XC(){return x0("useRouteId")}function JC(){var n;let t=v.useContext(b0),a=VC("useRouteError"),e=x0("useRouteError");return t!==void 0?t:(n=a.errors)==null?void 0:n[e]}function KC(){let{router:t}=ZC("useNavigate"),a=x0("useNavigate"),e=v.useRef(!1);return Vx(()=>{e.current=!0}),v.useCallback(async(i,l={})=>{Ja(e.current,Zx),e.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:a,...l}))},[t,a])}var P2={};function Xx(t,a,e){!a&&!P2[t]&&(P2[t]=!0,Ja(!1,e))}v.memo(e3);function e3({routes:t,future:a,state:e}){return Qx(t,void 0,e,a)}function Yr({to:t,replace:a,state:e,relative:n}){mn(Ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=v.useContext(Rr);Ja(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=v.useContext(as),{pathname:c}=rs(),u=ss(),m=y0(t,g0(l),c,n==="path"),h=JSON.stringify(m);return v.useEffect(()=>{u(JSON.parse(h),{replace:a,state:e,relative:n})},[u,h,n,a,e]),null}function pa(t){mn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t3({basename:t="/",children:a=null,location:e,navigationType:n="POP",navigator:i,static:l=!1}){mn(!Ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:l,future:{}}),[c,i,l]);typeof e=="string"&&(e=Eo(e));let{pathname:m="/",search:h="",hash:f="",state:y=null,key:b="default"}=e,w=v.useMemo(()=>{let E=js(m,c);return E==null?null:{location:{pathname:E,search:h,hash:f,state:y,key:b},navigationType:n}},[c,m,h,f,y,b,n]);return Ja(w!=null,`<Router basename="${c}"> is not able to match the URL "${m}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:v.createElement(Rr.Provider,{value:u},v.createElement(yd.Provider,{children:a,value:w}))}function n3({children:t,location:a}){return HC(Rg(t),a)}function Rg(t,a=[]){let e=[];return v.Children.forEach(t,(n,i)=>{if(!v.isValidElement(n))return;let l=[...a,i];if(n.type===v.Fragment){e.push.apply(e,Rg(n.props.children,l));return}mn(n.type===pa,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Rg(n.props.children,l)),e.push(c)}),e}var tm="get",nm="application/x-www-form-urlencoded";function bp(t){return t!=null&&typeof t.tagName=="string"}function a3(t){return bp(t)&&t.tagName.toLowerCase()==="button"}function r3(t){return bp(t)&&t.tagName.toLowerCase()==="form"}function s3(t){return bp(t)&&t.tagName.toLowerCase()==="input"}function i3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function o3(t,a){return t.button===0&&(!a||a==="_self")&&!i3(t)}function Pg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,e)=>{let n=t[e];return a.concat(Array.isArray(n)?n.map(i=>[e,i]):[[e,n]])},[]))}function l3(t,a){let e=Pg(t);return a&&a.forEach((n,i)=>{e.has(i)||a.getAll(i).forEach(l=>{e.append(i,l)})}),e}var Bu=null;function c3(){if(Bu===null)try{new FormData(document.createElement("form"),0),Bu=!1}catch{Bu=!0}return Bu}var d3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yh(t){return t!=null&&!d3.has(t)?(Ja(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nm}"`),null):t}function u3(t,a){let e,n,i,l,c;if(r3(t)){let u=t.getAttribute("action");n=u?js(u,a):null,e=t.getAttribute("method")||tm,i=Yh(t.getAttribute("enctype"))||nm,l=new FormData(t)}else if(a3(t)||s3(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||u.getAttribute("action");if(n=m?js(m,a):null,e=t.getAttribute("formmethod")||u.getAttribute("method")||tm,i=Yh(t.getAttribute("formenctype"))||Yh(u.getAttribute("enctype"))||nm,l=new FormData(u,t),!c3()){let{name:h,type:f,value:y}=t;if(f==="image"){let b=h?`${h}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else h&&l.append(h,y)}}else{if(bp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=tm,n=null,i=nm,c=t}return l&&i==="text/plain"&&(c=l,l=void 0),{action:n,method:e.toLowerCase(),encType:i,formData:l,body:c}}function E0(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}async function m3(t,a){if(t.id in a)return a[t.id];try{let e=await import(t.module);return a[t.id]=e,e}catch(e){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function f3(t,a,e){let n=await Promise.all(t.map(async i=>{let l=a.routes[i.route.id];if(l){let c=await m3(l,e);return c.links?c.links():[]}return[]}));return b3(n.flat(1).filter(p3).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function L2(t,a,e,n,i,l){let c=(m,h)=>e[h]?m.route.id!==e[h].route.id:!0,u=(m,h)=>{var f;return e[h].pathname!==m.pathname||((f=e[h].route.path)==null?void 0:f.endsWith("*"))&&e[h].params["*"]!==m.params["*"]};return l==="assets"?a.filter((m,h)=>c(m,h)||u(m,h)):l==="data"?a.filter((m,h)=>{var y;let f=n.routes[m.route.id];if(!f||!f.hasLoader)return!1;if(c(m,h)||u(m,h))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=e[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function h3(t,a,{includeHydrateFallback:e}={}){return g3(t.map(n=>{let i=a.routes[n.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),e&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function g3(t){return[...new Set(t)]}function y3(t){let a={},e=Object.keys(t).sort();for(let n of e)a[n]=t[n];return a}function b3(t,a){let e=new Set;return new Set(a),t.reduce((n,i)=>{let l=JSON.stringify(y3(i));return e.has(l)||(e.add(l),n.push({key:l,link:i})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var v3=new Set([100,101,204,205]);function x3(t,a){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":a&&js(e.pathname,a)==="/"?e.pathname=`${a.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Jx(){let t=v.useContext(Dl);return E0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function E3(){let t=v.useContext(yp);return E0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var w0=v.createContext(void 0);w0.displayName="FrameworkContext";function Kx(){let t=v.useContext(w0);return E0(t,"You must render this element inside a <HydratedRouter> element"),t}function w3(t,a){let e=v.useContext(w0),[n,i]=v.useState(!1),[l,c]=v.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:h,onMouseLeave:f,onTouchStart:y}=a,b=v.useRef(null);v.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let _=C=>{C.forEach(I=>{c(I.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[t]),v.useEffect(()=>{if(n){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[n]);let w=()=>{i(!0)},E=()=>{i(!1),c(!1)};return e?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Dc(u,w),onBlur:Dc(m,E),onMouseEnter:Dc(h,w),onMouseLeave:Dc(f,E),onTouchStart:Dc(y,w)}]:[!1,b,{}]}function Dc(t,a){return e=>{t&&t(e),e.defaultPrevented||a(e)}}function S3({page:t,...a}){let{router:e}=Jx(),n=v.useMemo(()=>jx(e.routes,t,e.basename),[e.routes,t,e.basename]);return n?v.createElement(_3,{page:t,matches:n,...a}):null}function C3(t){let{manifest:a,routeModules:e}=Kx(),[n,i]=v.useState([]);return v.useEffect(()=>{let l=!1;return f3(t,a,e).then(c=>{l||i(c)}),()=>{l=!0}},[t,a,e]),n}function _3({page:t,matches:a,...e}){let n=rs(),{manifest:i,routeModules:l}=Kx(),{basename:c}=Jx(),{loaderData:u,matches:m}=E3(),h=v.useMemo(()=>L2(t,a,m,i,n,"data"),[t,a,m,i,n]),f=v.useMemo(()=>L2(t,a,m,i,n,"assets"),[t,a,m,i,n]),y=v.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let E=new Set,_=!1;if(a.forEach(C=>{var N;let I=i.routes[C.route.id];!I||!I.hasLoader||(!h.some(k=>k.route.id===C.route.id)&&C.route.id in u&&((N=l[C.route.id])!=null&&N.shouldRevalidate)||I.hasClientLoader?_=!0:E.add(C.route.id))}),E.size===0)return[];let S=x3(t,c);return _&&E.size>0&&S.searchParams.set("_routes",a.filter(C=>E.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[c,u,n,i,h,a,t,l]),b=v.useMemo(()=>h3(f,i),[f,i]),w=C3(f);return v.createElement(v.Fragment,null,y.map(E=>v.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...e})),b.map(E=>v.createElement("link",{key:E,rel:"modulepreload",href:E,...e})),w.map(({key:E,link:_})=>v.createElement("link",{key:E,..._})))}function I3(...t){return a=>{t.forEach(e=>{typeof e=="function"?e(a):e!=null&&(e.current=a)})}}var eE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eE&&(window.__reactRouterVersion="7.6.1")}catch{}function k3({basename:t,children:a,window:e}){let n=v.useRef();n.current==null&&(n.current=pC({window:e,v5Compat:!0}));let i=n.current,[l,c]=v.useState({action:i.action,location:i.location}),u=v.useCallback(m=>{v.startTransition(()=>c(m))},[c]);return v.useLayoutEffect(()=>i.listen(u),[i,u]),v.createElement(t3,{basename:t,children:a,location:l.location,navigationType:l.action,navigator:i})}var tE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nE=v.forwardRef(function({onClick:a,discover:e="render",prefetch:n="none",relative:i,reloadDocument:l,replace:c,state:u,target:m,to:h,preventScrollReset:f,viewTransition:y,...b},w){let{basename:E}=v.useContext(Rr),_=typeof h=="string"&&tE.test(h),S,C=!1;if(typeof h=="string"&&_&&(S=h,eE))try{let G=new URL(window.location.href),K=h.startsWith("//")?new URL(G.protocol+h):new URL(h),ie=js(K.pathname,E);K.origin===G.origin&&ie!=null?h=ie+K.search+K.hash:C=!0}catch{Ja(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=FC(h,{relative:i}),[N,k,M]=w3(n,b),T=M3(h,{replace:c,state:u,target:m,preventScrollReset:f,relative:i,viewTransition:y});function q(G){a&&a(G),G.defaultPrevented||T(G)}let z=v.createElement("a",{...b,...M,href:S||I,onClick:C||l?a:q,ref:I3(w,k),target:m,"data-discover":!_&&e==="render"?"true":void 0});return N&&!_?v.createElement(v.Fragment,null,z,v.createElement(S3,{page:I})):z});nE.displayName="Link";var N3=v.forwardRef(function({"aria-current":a="page",caseSensitive:e=!1,className:n="",end:i=!1,style:l,to:c,viewTransition:u,children:m,...h},f){let y=bd(c,{relative:h.relative}),b=rs(),w=v.useContext(yp),{navigator:E,basename:_}=v.useContext(Rr),S=w!=null&&O3(y)&&u===!0,C=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,I=b.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;e||(I=I.toLowerCase(),N=N?N.toLowerCase():null,C=C.toLowerCase()),N&&_&&(N=js(N,_)||N);const k=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let M=I===C||!i&&I.startsWith(C)&&I.charAt(k)==="/",T=N!=null&&(N===C||!i&&N.startsWith(C)&&N.charAt(C.length)==="/"),q={isActive:M,isPending:T,isTransitioning:S},z=M?a:void 0,G;typeof n=="function"?G=n(q):G=[n,M?"active":null,T?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let K=typeof l=="function"?l(q):l;return v.createElement(nE,{...h,"aria-current":z,className:G,ref:f,style:K,to:c,viewTransition:u},typeof m=="function"?m(q):m)});N3.displayName="NavLink";var A3=v.forwardRef(({discover:t="render",fetcherKey:a,navigate:e,reloadDocument:n,replace:i,state:l,method:c=tm,action:u,onSubmit:m,relative:h,preventScrollReset:f,viewTransition:y,...b},w)=>{let E=L3(),_=B3(u,{relative:h}),S=c.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&tE.test(u),I=N=>{if(m&&m(N),N.defaultPrevented)return;N.preventDefault();let k=N.nativeEvent.submitter,M=(k==null?void 0:k.getAttribute("formmethod"))||c;E(k||N.currentTarget,{fetcherKey:a,method:M,navigate:e,replace:i,state:l,relative:h,preventScrollReset:f,viewTransition:y})};return v.createElement("form",{ref:w,method:S,action:_,onSubmit:n?m:I,...b,"data-discover":!C&&t==="render"?"true":void 0})});A3.displayName="Form";function D3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aE(t){let a=v.useContext(Dl);return mn(a,D3(t)),a}function M3(t,{target:a,replace:e,state:n,preventScrollReset:i,relative:l,viewTransition:c}={}){let u=ss(),m=rs(),h=bd(t,{relative:l});return v.useCallback(f=>{if(o3(f,a)){f.preventDefault();let y=e!==void 0?e:od(m)===od(h);u(t,{replace:y,state:n,preventScrollReset:i,relative:l,viewTransition:c})}},[m,u,h,e,n,a,t,i,l,c])}function T3(t){Ja(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=v.useRef(Pg(t)),e=v.useRef(!1),n=rs(),i=v.useMemo(()=>l3(n.search,e.current?null:a.current),[n.search]),l=ss(),c=v.useCallback((u,m)=>{const h=Pg(typeof u=="function"?u(i):u);e.current=!0,l("?"+h,m)},[l,i]);return[i,c]}var R3=0,P3=()=>`__${String(++R3)}__`;function L3(){let{router:t}=aE("useSubmit"),{basename:a}=v.useContext(Rr),e=XC();return v.useCallback(async(n,i={})=>{let{action:l,method:c,encType:u,formData:m,body:h}=u3(n,a);if(i.navigate===!1){let f=i.fetcherKey||P3();await t.fetch(f,e,i.action||l,{preventScrollReset:i.preventScrollReset,formData:m,body:h,formMethod:i.method||c,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:m,body:h,formMethod:i.method||c,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:e,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,a,e])}function B3(t,{relative:a}={}){let{basename:e}=v.useContext(Rr),n=v.useContext(as);mn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),l={...bd(t||".",{relative:a})},c=rs();if(t==null){l.search=c.search;let u=new URLSearchParams(l.search),m=u.getAll("index");if(m.some(f=>f==="")){u.delete("index"),m.filter(y=>y).forEach(y=>u.append("index",y));let f=u.toString();l.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:Bs([e,l.pathname])),od(l)}function O3(t,a={}){let e=v.useContext(Gx);mn(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=aE("useViewTransitionState"),i=bd(t,{relative:a.relative});if(!e.isTransitioning)return!1;let l=js(e.currentLocation.pathname,n)||e.currentLocation.pathname,c=js(e.nextLocation.pathname,n)||e.nextLocation.pathname;return ym(i.pathname,c)!=null||ym(i.pathname,l)!=null}[...v3];var rE=Hx();const vd=gp(rE);function vp({gameType:t,size:a=22}){const e={"8 Ball":{emoji:""},"9 Ball":{color:"#FFD700",number:9},"10 Ball":{color:"#2196F3",number:10}};if(t==="8 Ball")return r.createElement("span",{role:"img","aria-label":"8-ball",style:{fontSize:a,verticalAlign:"middle",marginRight:4}},e["8 Ball"].emoji);const{color:n,number:i}=e[t]||{};return!n||!i?null:r.createElement("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:a,height:a,borderRadius:"50%",background:n,color:"#222",fontWeight:"bold",fontSize:a*.65,border:"2px solid #fff",boxShadow:"0 1px 2px #0003",marginRight:4,verticalAlign:"middle"},"aria-label":`${i}-ball`},i)}function xn({open:t,onClose:a,children:e,title:n="Modal",maxWidth:i="500px",className:l=""}){const[c,u]=v.useState({x:0,y:0}),[m,h]=v.useState(!1),f=v.useRef({x:0,y:0});v.useEffect(()=>{t&&u({x:0,y:0})},[t]);const y=E=>{h(!0),f.current={x:E.clientX-c.x,y:E.clientY-c.y},document.body.style.userSelect="none"},b=E=>{m&&u({x:E.clientX-f.current.x,y:E.clientY-f.current.y})},w=()=>{h(!1),document.body.style.userSelect=""};return v.useEffect(()=>(m?(window.addEventListener("mousemove",b),window.addEventListener("mouseup",w)):(window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",w)),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",w)}),[m]),t?r.createElement("div",{className:"modal-overlay",onClick:a,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(3px)",WebkitBackdropFilter:"blur(3px)"}},r.createElement("div",{className:`draggable-modal ${l}`,style:{transform:`translate(${c.x}px, ${c.y}px)`,cursor:m?"grabbing":"default",background:"linear-gradient(120deg, #232323 80%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:window.innerWidth<=400?"0":"1.2rem",boxShadow:"0 0 32px #e53e3e, 0 0 40px rgba(0,0,0,0.85)",width:window.innerWidth<=400?"100vw":i,maxWidth:window.innerWidth<=400?"100vw":i,minWidth:0,margin:window.innerWidth<=400?"0":"0 auto",left:0,right:0,animation:"modalBounceIn 0.5s cubic-bezier(.21,1.02,.73,1.01)",padding:0,position:"relative",fontFamily:"inherit",boxSizing:"border-box",height:window.innerWidth<=500?"95vh":"auto",maxHeight:window.innerWidth<=500?"95vh":"85vh",display:"flex",flexDirection:"column"},onClick:E=>E.stopPropagation(),role:"dialog","aria-modal":"true","aria-label":n,tabIndex:-1},r.createElement("div",{className:"modal-header",onMouseDown:y,style:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"#e53e3e",padding:"1.1rem 1.5rem 0.7rem 1.5rem",borderTopLeftRadius:"1.2rem",borderTopRightRadius:"1.2rem",position:"relative",cursor:"grab",userSelect:"none",gap:"1rem"}},r.createElement("span",{className:"modal-accent-bar",style:{position:"absolute",left:0,top:0,width:"100%",height:"5px",background:"linear-gradient(90deg, #fff0 0%, #e53e3e 60%, #fff0 100%)",borderTopLeftRadius:"1.2rem",borderTopRightRadius:"1.2rem",pointerEvents:"none"}}),r.createElement("h2",{className:"modal-title",style:{margin:0,fontSize:window.innerWidth<=500?"1.1rem":"1.3rem",fontWeight:"bold",textAlign:"center",letterSpacing:"0.02em",color:"#fff",textShadow:"0 1px 12px #000a",zIndex:2,flex:1,wordBreak:"break-word",minWidth:0}},n),r.createElement("button",{className:"modal-close-btn",onClick:a,"aria-label":"Close",style:{background:"none",border:"none",color:"#fff",fontSize:"2em",fontWeight:"bold",cursor:"pointer",zIndex:10,lineHeight:1,transition:"color 0.2s, transform 0.2s",padding:0,marginLeft:"1rem"},onMouseEnter:E=>{E.target.style.color="#ffd6d6",E.target.style.transform="scale(1.2) rotate(10deg)"},onMouseLeave:E=>{E.target.style.color="#fff",E.target.style.transform="scale(1) rotate(0deg)"}},"")),r.createElement("div",{className:"modal-content",style:{...window.innerWidth<=500?{flex:"1 1 auto",minHeight:0,overflowY:"auto"}:{overflowY:"auto"},padding:window.innerWidth<=500?"1rem 1rem 0.8rem 1rem":"1.4rem 1.5rem 1.2rem 1.5rem",background:"none"}},e)),r.createElement("style",{jsx:!0},`
        @keyframes modalBounceIn {
          0% { opacity: 0; transform: scale(0.95) translateY(-40px);}
          70% { opacity: 1; transform: scale(1.02) translateY(8px);}
          100% { opacity: 1; transform: scale(1) translateY(0);}
        }
        
        @media (max-width: 500px) {
          .draggable-modal {
            max-width: 99vw !important;
            border-radius: 0.7rem !important;
          }
          .modal-header {
            padding: 0.7rem 0.7rem 0.5rem 0.7rem !important;
          }
          .modal-content {
            padding: 1rem 0.6rem 0.8rem 0.6rem !important;
          }
        }
        /* Custom scrollbar for modal-content */
        .modal-content::-webkit-scrollbar {
          width: 10px;
        }
        .modal-content::-webkit-scrollbar-thumb {
          background: #e53e3e;
          border-radius: 6px;
        }
        .modal-content::-webkit-scrollbar-track {
          background: #232323;
          border-radius: 6px;
        }
        .modal-content {
          scrollbar-width: thin;
          scrollbar-color: #e53e3e #232323;
        }
      `)):null}function z3(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-"),m=new Date(parseInt(l),parseInt(c)-1,parseInt(u)),h=String(m.getMonth()+1).padStart(2,"0"),f=String(m.getDate()).padStart(2,"0"),y=m.getFullYear();return`${h}-${f}-${y}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),i=a.getFullYear();return`${e}-${n}-${i}`}function sE({open:t,message:a,gameType:e,raceLength:n,day:i,date:l,time:c,location:u,proposalNote:m,confirmationNote:h,phase:f,onClose:y}){if(!t)return null;const b=typeof window<"u"&&window.innerWidth<=500,w=b?"100%":"240px",E=b?"90vw":"240px",_=b?"100%":"220px";return r.createElement(xn,{open:t,onClose:y,title:"Proposal Sent!",maxWidth:E,width:w},r.createElement("div",{style:{textAlign:"center"}},r.createElement("div",{style:{background:"#222",color:"#fff",borderRadius:6,padding:"0.6rem 0.7rem 0.6rem 0.7rem",margin:"0 auto 0.7rem auto",fontWeight:600,fontSize:"0.97rem",textAlign:"center",maxWidth:"220px",width:"100%",wordBreak:"break-word",whiteSpace:"pre-line"}},a),r.createElement("div",{style:{background:"#f8f8f8",color:"#222",borderRadius:8,padding:b?"0.4rem 0.2rem":"0.5rem 0.5rem",margin:"0.7rem auto 0.7rem auto",textAlign:"center",fontSize:b?"0.92rem":"0.95rem",border:"1px solid #ff0000",maxWidth:_,width:"100%"}},r.createElement("div",{style:{marginBottom:6}},r.createElement("strong",null,"Phase:")," ",f==="scheduled"?"Phase 1 (Scheduled)":f==="challenge"?"Phase 2 (challenge)":f),r.createElement("div",{style:{marginBottom:6}},r.createElement("strong",null,"Game Type:")," ",r.createElement(vp,{gameType:e,size:16})," ",e),r.createElement("div",{style:{marginBottom:6}},r.createElement("strong",null,"Race to:")," ",n),r.createElement("div",{style:{marginBottom:6}},r.createElement("strong",null,"Day:")," ",i),r.createElement("div",{style:{marginBottom:6}},r.createElement("strong",null,"Date:")," ",z3(l)),r.createElement("div",{style:{marginBottom:6}},r.createElement("strong",null,"Time:")," ",c),r.createElement("div",{style:{marginBottom:6}},r.createElement("strong",null,"Location:")," ",u),m&&r.createElement("div",{style:{marginTop:12,padding:"0.5rem 0.7rem",background:"#fffbe6",borderLeft:"3px solid #ffb300",borderRadius:4,color:"#a36c00",fontSize:"0.97rem"}},r.createElement("strong",null,"Opponent's note:")," ",m),h&&r.createElement("div",{style:{marginTop:10,padding:"0.5rem 0.7rem",background:"#e6fff0",borderLeft:"3px solid #00b36b",borderRadius:4,color:"#006b3c",fontSize:"0.97rem"}},r.createElement("strong",null,"Your note:")," ",h)),r.createElement("button",{style:{marginTop:"1.8rem",background:"#ff0000",color:"#fff",border:"none",borderRadius:"8px",padding:"0.7rem 1.5rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer"},onClick:y},"Close")))}function iE(t){var a,e,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(a=0;a<i;a++)t[a]&&(e=iE(t[a]))&&(n&&(n+=" "),n+=e)}else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function la(){for(var t,a,e=0,n="",i=arguments.length;e<i;e++)(t=arguments[e])&&(a=iE(t))&&(n&&(n+=" "),n+=a);return n}const oE=6048e5,U3=864e5,xp=6e4,xd=36e5,F3=1e3,B2=Symbol.for("constructDateFrom");function Yt(t,a){return typeof t=="function"?t(a):t&&typeof t=="object"&&B2 in t?t[B2](a):t instanceof Date?new t.constructor(a):new Date(a)}function je(t,a){return Yt(a||t,t)}function Mr(t,a,e){const n=je(t,e==null?void 0:e.in);return isNaN(a)?Yt((e==null?void 0:e.in)||t,NaN):(a&&n.setDate(n.getDate()+a),n)}function Tr(t,a,e){const n=je(t,e==null?void 0:e.in);if(isNaN(a))return Yt(t,NaN);if(!a)return n;const i=n.getDate(),l=Yt(t,n.getTime());l.setMonth(n.getMonth()+a+1,0);const c=l.getDate();return i>=c?l:(n.setFullYear(l.getFullYear(),l.getMonth(),i),n)}function lE(t,a,e){return Yt(t,+je(t)+a)}function W3(t,a,e){return lE(t,a*xd)}let H3={};function wo(){return H3}function Ys(t,a){var u,m,h,f;const e=wo(),n=(a==null?void 0:a.weekStartsOn)??((m=(u=a==null?void 0:a.locale)==null?void 0:u.options)==null?void 0:m.weekStartsOn)??e.weekStartsOn??((f=(h=e.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,i=je(t,a==null?void 0:a.in),l=i.getDay(),c=(l<n?7:0)+l-n;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function yl(t,a){return Ys(t,{...a,weekStartsOn:1})}function cE(t,a){const e=je(t,a==null?void 0:a.in),n=e.getFullYear(),i=Yt(e,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const l=yl(i),c=Yt(e,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const u=yl(c);return e.getTime()>=l.getTime()?n+1:e.getTime()>=u.getTime()?n:n-1}function bm(t){const a=je(t),e=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return e.setUTCFullYear(a.getFullYear()),+t-+e}function is(t,...a){const e=Yt.bind(null,a.find(n=>typeof n=="object"));return a.map(e)}function yo(t,a){const e=je(t,a==null?void 0:a.in);return e.setHours(0,0,0,0),e}function bl(t,a,e){const[n,i]=is(e==null?void 0:e.in,t,a),l=yo(n),c=yo(i),u=+l-bm(l),m=+c-bm(c);return Math.round((u-m)/U3)}function j3(t,a){const e=cE(t,a),n=Yt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),yl(n)}function Lg(t,a,e){const n=je(t,e==null?void 0:e.in);return n.setTime(n.getTime()+a*xp),n}function S0(t,a,e){return Tr(t,a*3,e)}function Y3(t,a,e){return lE(t,a*1e3)}function vm(t,a,e){return Mr(t,a*7,e)}function Os(t,a,e){return Tr(t,a*12,e)}function O2(t,a){let e,n=a==null?void 0:a.in;return t.forEach(i=>{!n&&typeof i=="object"&&(n=Yt.bind(null,i));const l=je(i,n);(!e||e<l||isNaN(+l))&&(e=l)}),Yt(n,e||NaN)}function z2(t,a){let e,n=a==null?void 0:a.in;return t.forEach(i=>{!n&&typeof i=="object"&&(n=Yt.bind(null,i));const l=je(i,n);(!e||e>l||isNaN(+l))&&(e=l)}),Yt(n,e||NaN)}function q3(t,a,e){const[n,i]=is(e==null?void 0:e.in,t,a);return+yo(n)==+yo(i)}function zs(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function xm(t){return!(!zs(t)&&typeof t!="number"||isNaN(+je(t)))}function Em(t,a,e){const[n,i]=is(e==null?void 0:e.in,t,a),l=n.getFullYear()-i.getFullYear(),c=n.getMonth()-i.getMonth();return l*12+c}function po(t,a){const e=je(t,a==null?void 0:a.in);return Math.trunc(e.getMonth()/3)+1}function wm(t,a,e){const[n,i]=is(e==null?void 0:e.in,t,a),l=n.getFullYear()-i.getFullYear(),c=po(n)-po(i);return l*4+c}function Sm(t,a,e){const[n,i]=is(e==null?void 0:e.in,t,a);return n.getFullYear()-i.getFullYear()}function dE(t,a,e){const[n,i]=is(e==null?void 0:e.in,t,a),l=U2(n,i),c=Math.abs(bl(n,i));n.setDate(n.getDate()-l*c);const u=+(U2(n,i)===-l),m=l*(c-u);return m===0?0:m}function U2(t,a){const e=t.getFullYear()-a.getFullYear()||t.getMonth()-a.getMonth()||t.getDate()-a.getDate()||t.getHours()-a.getHours()||t.getMinutes()-a.getMinutes()||t.getSeconds()-a.getSeconds()||t.getMilliseconds()-a.getMilliseconds();return e<0?-1:e>0?1:e}function $3(t){return a=>{const e=Math.trunc,n=e(a);return n===0?0:n}}function G3(t,a,e){const[n,i]=is(e==null?void 0:e.in,t,a),l=(+n-+i)/xd;return $3()(l)}function uE(t,a){const e=je(t,a==null?void 0:a.in);return e.setHours(23,59,59,999),e}function mE(t,a){const e=je(t,a==null?void 0:a.in),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Bg(t,a){const e=je(t,a==null?void 0:a.in),n=e.getMonth(),i=n-n%3;return e.setMonth(i,1),e.setHours(0,0,0,0),e}function pE(t,a){const e=je(t,a==null?void 0:a.in);return e.setDate(1),e.setHours(0,0,0,0),e}function fE(t,a){const e=je(t,a==null?void 0:a.in),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Ep(t,a){const e=je(t,a==null?void 0:a.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}function Z3(t,a){var u,m;const e=wo(),n=e.weekStartsOn??((m=(u=e.locale)==null?void 0:u.options)==null?void 0:m.weekStartsOn)??0,i=je(t,a==null?void 0:a.in),l=i.getDay(),c=(l<n?-7:0)+6-(l-n);return i.setDate(i.getDate()+c),i.setHours(23,59,59,999),i}const V3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Q3=(t,a,e)=>{let n;const i=V3[t];return typeof i=="string"?n=i:a===1?n=i.one:n=i.other.replace("{{count}}",a.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+n:n+" ago":n};function qh(t){return(a={})=>{const e=a.width?String(a.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}const X3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},J3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},K3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},e_={date:qh({formats:X3,defaultWidth:"full"}),time:qh({formats:J3,defaultWidth:"full"}),dateTime:qh({formats:K3,defaultWidth:"full"})},t_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},n_=(t,a,e,n)=>t_[t];function Mc(t){return(a,e)=>{const n=e!=null&&e.context?String(e.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,u=e!=null&&e.width?String(e.width):c;i=t.formattingValues[u]||t.formattingValues[c]}else{const c=t.defaultWidth,u=e!=null&&e.width?String(e.width):t.defaultWidth;i=t.values[u]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(a):a;return i[l]}}const a_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},r_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},s_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},i_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},o_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},l_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},c_=(t,a)=>{const e=Number(t),n=e%100;if(n>20||n<10)switch(n%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},d_={ordinalNumber:c_,era:Mc({values:a_,defaultWidth:"wide"}),quarter:Mc({values:r_,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mc({values:s_,defaultWidth:"wide"}),day:Mc({values:i_,defaultWidth:"wide"}),dayPeriod:Mc({values:o_,defaultWidth:"wide",formattingValues:l_,defaultFormattingWidth:"wide"})};function Tc(t){return(a,e={})=>{const n=e.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],l=a.match(i);if(!l)return null;const c=l[0],u=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(u)?m_(u,y=>y.test(c)):u_(u,y=>y.test(c));let h;h=t.valueCallback?t.valueCallback(m):m,h=e.valueCallback?e.valueCallback(h):h;const f=a.slice(c.length);return{value:h,rest:f}}}function u_(t,a){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&a(t[e]))return e}function m_(t,a){for(let e=0;e<t.length;e++)if(a(t[e]))return e}function p_(t){return(a,e={})=>{const n=a.match(t.matchPattern);if(!n)return null;const i=n[0],l=a.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=e.valueCallback?e.valueCallback(c):c;const u=a.slice(i.length);return{value:c,rest:u}}}const f_=/^(\d+)(th|st|nd|rd)?/i,h_=/\d+/i,g_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},y_={any:[/^b/i,/^(a|c)/i]},b_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},v_={any:[/1/i,/2/i,/3/i,/4/i]},x_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},E_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},w_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},S_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},C_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},__={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},I_={ordinalNumber:p_({matchPattern:f_,parsePattern:h_,valueCallback:t=>parseInt(t,10)}),era:Tc({matchPatterns:g_,defaultMatchWidth:"wide",parsePatterns:y_,defaultParseWidth:"any"}),quarter:Tc({matchPatterns:b_,defaultMatchWidth:"wide",parsePatterns:v_,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Tc({matchPatterns:x_,defaultMatchWidth:"wide",parsePatterns:E_,defaultParseWidth:"any"}),day:Tc({matchPatterns:w_,defaultMatchWidth:"wide",parsePatterns:S_,defaultParseWidth:"any"}),dayPeriod:Tc({matchPatterns:C_,defaultMatchWidth:"any",parsePatterns:__,defaultParseWidth:"any"})},hE={code:"en-US",formatDistance:Q3,formatLong:e_,formatRelative:n_,localize:d_,match:I_,options:{weekStartsOn:0,firstWeekContainsDate:1}};function k_(t,a){const e=je(t,a==null?void 0:a.in);return bl(e,Ep(e))+1}function C0(t,a){const e=je(t,a==null?void 0:a.in),n=+yl(e)-+j3(e);return Math.round(n/oE)+1}function _0(t,a){var f,y,b,w;const e=je(t,a==null?void 0:a.in),n=e.getFullYear(),i=wo(),l=(a==null?void 0:a.firstWeekContainsDate)??((y=(f=a==null?void 0:a.locale)==null?void 0:f.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(b=i.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??1,c=Yt((a==null?void 0:a.in)||t,0);c.setFullYear(n+1,0,l),c.setHours(0,0,0,0);const u=Ys(c,a),m=Yt((a==null?void 0:a.in)||t,0);m.setFullYear(n,0,l),m.setHours(0,0,0,0);const h=Ys(m,a);return+e>=+u?n+1:+e>=+h?n:n-1}function N_(t,a){var u,m,h,f;const e=wo(),n=(a==null?void 0:a.firstWeekContainsDate)??((m=(u=a==null?void 0:a.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??e.firstWeekContainsDate??((f=(h=e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,i=_0(t,a),l=Yt((a==null?void 0:a.in)||t,0);return l.setFullYear(i,0,n),l.setHours(0,0,0,0),Ys(l,a)}function gE(t,a){const e=je(t,a==null?void 0:a.in),n=+Ys(e,a)-+N_(e,a);return Math.round(n/oE)+1}function Ht(t,a){const e=t<0?"-":"",n=Math.abs(t).toString().padStart(a,"0");return e+n}const xi={y(t,a){const e=t.getFullYear(),n=e>0?e:1-e;return Ht(a==="yy"?n%100:n,a.length)},M(t,a){const e=t.getMonth();return a==="M"?String(e+1):Ht(e+1,2)},d(t,a){return Ht(t.getDate(),a.length)},a(t,a){const e=t.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(t,a){return Ht(t.getHours()%12||12,a.length)},H(t,a){return Ht(t.getHours(),a.length)},m(t,a){return Ht(t.getMinutes(),a.length)},s(t,a){return Ht(t.getSeconds(),a.length)},S(t,a){const e=a.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,e-3));return Ht(i,a.length)}},sl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},F2={G:function(t,a,e){const n=t.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return e.era(n,{width:"abbreviated"});case"GGGGG":return e.era(n,{width:"narrow"});case"GGGG":default:return e.era(n,{width:"wide"})}},y:function(t,a,e){if(a==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return e.ordinalNumber(i,{unit:"year"})}return xi.y(t,a)},Y:function(t,a,e,n){const i=_0(t,n),l=i>0?i:1-i;if(a==="YY"){const c=l%100;return Ht(c,2)}return a==="Yo"?e.ordinalNumber(l,{unit:"year"}):Ht(l,a.length)},R:function(t,a){const e=cE(t);return Ht(e,a.length)},u:function(t,a){const e=t.getFullYear();return Ht(e,a.length)},Q:function(t,a,e){const n=Math.ceil((t.getMonth()+1)/3);switch(a){case"Q":return String(n);case"QQ":return Ht(n,2);case"Qo":return e.ordinalNumber(n,{unit:"quarter"});case"QQQ":return e.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,a,e){const n=Math.ceil((t.getMonth()+1)/3);switch(a){case"q":return String(n);case"qq":return Ht(n,2);case"qo":return e.ordinalNumber(n,{unit:"quarter"});case"qqq":return e.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,a,e){const n=t.getMonth();switch(a){case"M":case"MM":return xi.M(t,a);case"Mo":return e.ordinalNumber(n+1,{unit:"month"});case"MMM":return e.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(n,{width:"wide",context:"formatting"})}},L:function(t,a,e){const n=t.getMonth();switch(a){case"L":return String(n+1);case"LL":return Ht(n+1,2);case"Lo":return e.ordinalNumber(n+1,{unit:"month"});case"LLL":return e.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(n,{width:"wide",context:"standalone"})}},w:function(t,a,e,n){const i=gE(t,n);return a==="wo"?e.ordinalNumber(i,{unit:"week"}):Ht(i,a.length)},I:function(t,a,e){const n=C0(t);return a==="Io"?e.ordinalNumber(n,{unit:"week"}):Ht(n,a.length)},d:function(t,a,e){return a==="do"?e.ordinalNumber(t.getDate(),{unit:"date"}):xi.d(t,a)},D:function(t,a,e){const n=k_(t);return a==="Do"?e.ordinalNumber(n,{unit:"dayOfYear"}):Ht(n,a.length)},E:function(t,a,e){const n=t.getDay();switch(a){case"E":case"EE":case"EEE":return e.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(n,{width:"short",context:"formatting"});case"EEEE":default:return e.day(n,{width:"wide",context:"formatting"})}},e:function(t,a,e,n){const i=t.getDay(),l=(i-n.weekStartsOn+8)%7||7;switch(a){case"e":return String(l);case"ee":return Ht(l,2);case"eo":return e.ordinalNumber(l,{unit:"day"});case"eee":return e.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(i,{width:"short",context:"formatting"});case"eeee":default:return e.day(i,{width:"wide",context:"formatting"})}},c:function(t,a,e,n){const i=t.getDay(),l=(i-n.weekStartsOn+8)%7||7;switch(a){case"c":return String(l);case"cc":return Ht(l,a.length);case"co":return e.ordinalNumber(l,{unit:"day"});case"ccc":return e.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(i,{width:"narrow",context:"standalone"});case"cccccc":return e.day(i,{width:"short",context:"standalone"});case"cccc":default:return e.day(i,{width:"wide",context:"standalone"})}},i:function(t,a,e){const n=t.getDay(),i=n===0?7:n;switch(a){case"i":return String(i);case"ii":return Ht(i,a.length);case"io":return e.ordinalNumber(i,{unit:"day"});case"iii":return e.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(n,{width:"short",context:"formatting"});case"iiii":default:return e.day(n,{width:"wide",context:"formatting"})}},a:function(t,a,e){const i=t.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,a,e){const n=t.getHours();let i;switch(n===12?i=sl.noon:n===0?i=sl.midnight:i=n/12>=1?"pm":"am",a){case"b":case"bb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,a,e){const n=t.getHours();let i;switch(n>=17?i=sl.evening:n>=12?i=sl.afternoon:n>=4?i=sl.morning:i=sl.night,a){case"B":case"BB":case"BBB":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,a,e){if(a==="ho"){let n=t.getHours()%12;return n===0&&(n=12),e.ordinalNumber(n,{unit:"hour"})}return xi.h(t,a)},H:function(t,a,e){return a==="Ho"?e.ordinalNumber(t.getHours(),{unit:"hour"}):xi.H(t,a)},K:function(t,a,e){const n=t.getHours()%12;return a==="Ko"?e.ordinalNumber(n,{unit:"hour"}):Ht(n,a.length)},k:function(t,a,e){let n=t.getHours();return n===0&&(n=24),a==="ko"?e.ordinalNumber(n,{unit:"hour"}):Ht(n,a.length)},m:function(t,a,e){return a==="mo"?e.ordinalNumber(t.getMinutes(),{unit:"minute"}):xi.m(t,a)},s:function(t,a,e){return a==="so"?e.ordinalNumber(t.getSeconds(),{unit:"second"}):xi.s(t,a)},S:function(t,a){return xi.S(t,a)},X:function(t,a,e){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(a){case"X":return H2(n);case"XXXX":case"XX":return ro(n);case"XXXXX":case"XXX":default:return ro(n,":")}},x:function(t,a,e){const n=t.getTimezoneOffset();switch(a){case"x":return H2(n);case"xxxx":case"xx":return ro(n);case"xxxxx":case"xxx":default:return ro(n,":")}},O:function(t,a,e){const n=t.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+W2(n,":");case"OOOO":default:return"GMT"+ro(n,":")}},z:function(t,a,e){const n=t.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+W2(n,":");case"zzzz":default:return"GMT"+ro(n,":")}},t:function(t,a,e){const n=Math.trunc(+t/1e3);return Ht(n,a.length)},T:function(t,a,e){return Ht(+t,a.length)}};function W2(t,a=""){const e=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),l=n%60;return l===0?e+String(i):e+String(i)+a+Ht(l,2)}function H2(t,a){return t%60===0?(t>0?"-":"+")+Ht(Math.abs(t)/60,2):ro(t,a)}function ro(t,a=""){const e=t>0?"-":"+",n=Math.abs(t),i=Ht(Math.trunc(n/60),2),l=Ht(n%60,2);return e+i+a+l}const j2=(t,a)=>{switch(t){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},yE=(t,a)=>{switch(t){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},A_=(t,a)=>{const e=t.match(/(P+)(p+)?/)||[],n=e[1],i=e[2];if(!i)return j2(t,a);let l;switch(n){case"P":l=a.dateTime({width:"short"});break;case"PP":l=a.dateTime({width:"medium"});break;case"PPP":l=a.dateTime({width:"long"});break;case"PPPP":default:l=a.dateTime({width:"full"});break}return l.replace("{{date}}",j2(n,a)).replace("{{time}}",yE(i,a))},Og={p:yE,P:A_},D_=/^D+$/,M_=/^Y+$/,T_=["D","DD","YY","YYYY"];function R_(t){return D_.test(t)}function P_(t){return M_.test(t)}function L_(t,a,e){const n=B_(t,a,e);if(console.warn(n),T_.includes(t))throw new RangeError(n)}function B_(t,a,e){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${a}\`) for formatting ${n} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const O_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,z_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,U_=/^'([^]*?)'?$/,F_=/''/g,W_=/[a-zA-Z]/;function Ca(t,a,e){var f,y,b,w,E,_,S,C;const n=wo(),i=(e==null?void 0:e.locale)??n.locale??hE,l=(e==null?void 0:e.firstWeekContainsDate)??((y=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:y.firstWeekContainsDate)??n.firstWeekContainsDate??((w=(b=n.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??1,c=(e==null?void 0:e.weekStartsOn)??((_=(E=e==null?void 0:e.locale)==null?void 0:E.options)==null?void 0:_.weekStartsOn)??n.weekStartsOn??((C=(S=n.locale)==null?void 0:S.options)==null?void 0:C.weekStartsOn)??0,u=je(t,e==null?void 0:e.in);if(!xm(u))throw new RangeError("Invalid time value");let m=a.match(z_).map(I=>{const N=I[0];if(N==="p"||N==="P"){const k=Og[N];return k(I,i.formatLong)}return I}).join("").match(O_).map(I=>{if(I==="''")return{isToken:!1,value:"'"};const N=I[0];if(N==="'")return{isToken:!1,value:H_(I)};if(F2[N])return{isToken:!0,value:I};if(N.match(W_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:I}});i.localize.preprocessor&&(m=i.localize.preprocessor(u,m));const h={firstWeekContainsDate:l,weekStartsOn:c,locale:i};return m.map(I=>{if(!I.isToken)return I.value;const N=I.value;(!(e!=null&&e.useAdditionalWeekYearTokens)&&P_(N)||!(e!=null&&e.useAdditionalDayOfYearTokens)&&R_(N))&&L_(N,a,String(t));const k=F2[N[0]];return k(u,N,i.localize,h)}).join("")}function H_(t){const a=t.match(U_);return a?a[1].replace(F_,"'"):t}function Y2(t,a){return je(t,a==null?void 0:a.in).getDate()}function j_(t,a){return je(t,a==null?void 0:a.in).getDay()}function Y_(t,a){const e=je(t,a==null?void 0:a.in),n=e.getFullYear(),i=e.getMonth(),l=Yt(e,0);return l.setFullYear(n,i+1,0),l.setHours(0,0,0,0),l.getDate()}function q_(){return Object.assign({},wo())}function Us(t,a){return je(t,a==null?void 0:a.in).getHours()}function $_(t,a){const e=je(t,a==null?void 0:a.in).getDay();return e===0?7:e}function Fs(t,a){return je(t,a==null?void 0:a.in).getMinutes()}function ga(t,a){return je(t,a==null?void 0:a.in).getMonth()}function Mi(t){return je(t).getSeconds()}function zg(t){return+je(t)}function Et(t,a){return je(t,a==null?void 0:a.in).getFullYear()}function qs(t,a){return+je(t)>+je(a)}function bo(t,a){return+je(t)<+je(a)}function G_(t,a){return+je(t)==+je(a)}function Z_(t,a){const e=V_(a)?new a(0):Yt(a,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e}function V_(t){var a;return typeof t=="function"&&((a=t.prototype)==null?void 0:a.constructor)===t}const Q_=10;class bE{constructor(){ze(this,"subPriority",0)}validate(a,e){return!0}}class X_ extends bE{constructor(a,e,n,i,l){super(),this.value=a,this.validateValue=e,this.setValue=n,this.priority=i,l&&(this.subPriority=l)}validate(a,e){return this.validateValue(a,this.value,e)}set(a,e,n){return this.setValue(a,e,this.value,n)}}class J_ extends bE{constructor(e,n){super();ze(this,"priority",Q_);ze(this,"subPriority",-1);this.context=e||(i=>Yt(n,i))}set(e,n){return n.timestampIsSet?e:Yt(e,Z_(e,this.context))}}class Ot{run(a,e,n,i){const l=this.parse(a,e,n,i);return l?{setter:new X_(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(a,e,n){return!0}}class K_ extends Ot{constructor(){super(...arguments);ze(this,"priority",140);ze(this,"incompatibleTokens",["R","u","t","T"])}parse(e,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(e,{width:"abbreviated"})||i.era(e,{width:"narrow"});case"GGGGG":return i.era(e,{width:"narrow"});case"GGGG":default:return i.era(e,{width:"wide"})||i.era(e,{width:"abbreviated"})||i.era(e,{width:"narrow"})}}set(e,n,i){return n.era=i,e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}}const Bn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Xr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function On(t,a){return t&&{value:a(t.value),rest:t.rest}}function vn(t,a){const e=a.match(t);return e?{value:parseInt(e[0],10),rest:a.slice(e[0].length)}:null}function Jr(t,a){const e=a.match(t);if(!e)return null;if(e[0]==="Z")return{value:0,rest:a.slice(1)};const n=e[1]==="+"?1:-1,i=e[2]?parseInt(e[2],10):0,l=e[3]?parseInt(e[3],10):0,c=e[5]?parseInt(e[5],10):0;return{value:n*(i*xd+l*xp+c*F3),rest:a.slice(e[0].length)}}function vE(t){return vn(Bn.anyDigitsSigned,t)}function Nn(t,a){switch(t){case 1:return vn(Bn.singleDigit,a);case 2:return vn(Bn.twoDigits,a);case 3:return vn(Bn.threeDigits,a);case 4:return vn(Bn.fourDigits,a);default:return vn(new RegExp("^\\d{1,"+t+"}"),a)}}function Cm(t,a){switch(t){case 1:return vn(Bn.singleDigitSigned,a);case 2:return vn(Bn.twoDigitsSigned,a);case 3:return vn(Bn.threeDigitsSigned,a);case 4:return vn(Bn.fourDigitsSigned,a);default:return vn(new RegExp("^-?\\d{1,"+t+"}"),a)}}function I0(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function xE(t,a){const e=a>0,n=e?a:1-a;let i;if(n<=50)i=t||100;else{const l=n+50,c=Math.trunc(l/100)*100,u=t>=l%100;i=t+c-(u?100:0)}return e?i:1-i}function EE(t){return t%400===0||t%4===0&&t%100!==0}class e4 extends Ot{constructor(){super(...arguments);ze(this,"priority",130);ze(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,n,i){const l=c=>({year:c,isTwoDigitYear:n==="yy"});switch(n){case"y":return On(Nn(4,e),l);case"yo":return On(i.ordinalNumber(e,{unit:"year"}),l);default:return On(Nn(n.length,e),l)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,i){const l=e.getFullYear();if(i.isTwoDigitYear){const u=xE(i.year,l);return e.setFullYear(u,0,1),e.setHours(0,0,0,0),e}const c=!("era"in n)||n.era===1?i.year:1-i.year;return e.setFullYear(c,0,1),e.setHours(0,0,0,0),e}}class t4 extends Ot{constructor(){super(...arguments);ze(this,"priority",130);ze(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,n,i){const l=c=>({year:c,isTwoDigitYear:n==="YY"});switch(n){case"Y":return On(Nn(4,e),l);case"Yo":return On(i.ordinalNumber(e,{unit:"year"}),l);default:return On(Nn(n.length,e),l)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,i,l){const c=_0(e,l);if(i.isTwoDigitYear){const m=xE(i.year,c);return e.setFullYear(m,0,l.firstWeekContainsDate),e.setHours(0,0,0,0),Ys(e,l)}const u=!("era"in n)||n.era===1?i.year:1-i.year;return e.setFullYear(u,0,l.firstWeekContainsDate),e.setHours(0,0,0,0),Ys(e,l)}}class n4 extends Ot{constructor(){super(...arguments);ze(this,"priority",130);ze(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,n){return Cm(n==="R"?4:n.length,e)}set(e,n,i){const l=Yt(e,0);return l.setFullYear(i,0,4),l.setHours(0,0,0,0),yl(l)}}class a4 extends Ot{constructor(){super(...arguments);ze(this,"priority",130);ze(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,n){return Cm(n==="u"?4:n.length,e)}set(e,n,i){return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}}class r4 extends Ot{constructor(){super(...arguments);ze(this,"priority",120);ze(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,n,i){switch(n){case"Q":case"QQ":return Nn(n.length,e);case"Qo":return i.ordinalNumber(e,{unit:"quarter"});case"QQQ":return i.quarter(e,{width:"abbreviated",context:"formatting"})||i.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(e,{width:"wide",context:"formatting"})||i.quarter(e,{width:"abbreviated",context:"formatting"})||i.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=1&&n<=4}set(e,n,i){return e.setMonth((i-1)*3,1),e.setHours(0,0,0,0),e}}class s4 extends Ot{constructor(){super(...arguments);ze(this,"priority",120);ze(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,n,i){switch(n){case"q":case"qq":return Nn(n.length,e);case"qo":return i.ordinalNumber(e,{unit:"quarter"});case"qqq":return i.quarter(e,{width:"abbreviated",context:"standalone"})||i.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(e,{width:"wide",context:"standalone"})||i.quarter(e,{width:"abbreviated",context:"standalone"})||i.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=1&&n<=4}set(e,n,i){return e.setMonth((i-1)*3,1),e.setHours(0,0,0,0),e}}class i4 extends Ot{constructor(){super(...arguments);ze(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ze(this,"priority",110)}parse(e,n,i){const l=c=>c-1;switch(n){case"M":return On(vn(Bn.month,e),l);case"MM":return On(Nn(2,e),l);case"Mo":return On(i.ordinalNumber(e,{unit:"month"}),l);case"MMM":return i.month(e,{width:"abbreviated",context:"formatting"})||i.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(e,{width:"wide",context:"formatting"})||i.month(e,{width:"abbreviated",context:"formatting"})||i.month(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=11}set(e,n,i){return e.setMonth(i,1),e.setHours(0,0,0,0),e}}class o4 extends Ot{constructor(){super(...arguments);ze(this,"priority",110);ze(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,n,i){const l=c=>c-1;switch(n){case"L":return On(vn(Bn.month,e),l);case"LL":return On(Nn(2,e),l);case"Lo":return On(i.ordinalNumber(e,{unit:"month"}),l);case"LLL":return i.month(e,{width:"abbreviated",context:"standalone"})||i.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(e,{width:"wide",context:"standalone"})||i.month(e,{width:"abbreviated",context:"standalone"})||i.month(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=11}set(e,n,i){return e.setMonth(i,1),e.setHours(0,0,0,0),e}}function l4(t,a,e){const n=je(t,e==null?void 0:e.in),i=gE(n,e)-a;return n.setDate(n.getDate()-i*7),je(n,e==null?void 0:e.in)}class c4 extends Ot{constructor(){super(...arguments);ze(this,"priority",100);ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,n,i){switch(n){case"w":return vn(Bn.week,e);case"wo":return i.ordinalNumber(e,{unit:"week"});default:return Nn(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,i,l){return Ys(l4(e,i,l),l)}}function d4(t,a,e){const n=je(t,e==null?void 0:e.in),i=C0(n,e)-a;return n.setDate(n.getDate()-i*7),n}class u4 extends Ot{constructor(){super(...arguments);ze(this,"priority",100);ze(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,n,i){switch(n){case"I":return vn(Bn.week,e);case"Io":return i.ordinalNumber(e,{unit:"week"});default:return Nn(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,i){return yl(d4(e,i))}}const m4=[31,28,31,30,31,30,31,31,30,31,30,31],p4=[31,29,31,30,31,30,31,31,30,31,30,31];class f4 extends Ot{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"subPriority",1);ze(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,n,i){switch(n){case"d":return vn(Bn.date,e);case"do":return i.ordinalNumber(e,{unit:"date"});default:return Nn(n.length,e)}}validate(e,n){const i=e.getFullYear(),l=EE(i),c=e.getMonth();return l?n>=1&&n<=p4[c]:n>=1&&n<=m4[c]}set(e,n,i){return e.setDate(i),e.setHours(0,0,0,0),e}}class h4 extends Ot{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"subpriority",1);ze(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,n,i){switch(n){case"D":case"DD":return vn(Bn.dayOfYear,e);case"Do":return i.ordinalNumber(e,{unit:"date"});default:return Nn(n.length,e)}}validate(e,n){const i=e.getFullYear();return EE(i)?n>=1&&n<=366:n>=1&&n<=365}set(e,n,i){return e.setMonth(0,i),e.setHours(0,0,0,0),e}}function k0(t,a,e){var y,b,w,E;const n=wo(),i=(e==null?void 0:e.weekStartsOn)??((b=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??n.weekStartsOn??((E=(w=n.locale)==null?void 0:w.options)==null?void 0:E.weekStartsOn)??0,l=je(t,e==null?void 0:e.in),c=l.getDay(),m=(a%7+7)%7,h=7-i,f=a<0||a>6?a-(c+h)%7:(m+h)%7-(c+h)%7;return Mr(l,f,e)}class g4 extends Ot{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,i,l){return e=k0(e,i,l),e.setHours(0,0,0,0),e}}class y4 extends Ot{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,n,i,l){const c=u=>{const m=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+m};switch(n){case"e":case"ee":return On(Nn(n.length,e),c);case"eo":return On(i.ordinalNumber(e,{unit:"day"}),c);case"eee":return i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"eeeee":return i.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,i,l){return e=k0(e,i,l),e.setHours(0,0,0,0),e}}class b4 extends Ot{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,n,i,l){const c=u=>{const m=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+m};switch(n){case"c":case"cc":return On(Nn(n.length,e),c);case"co":return On(i.ordinalNumber(e,{unit:"day"}),c);case"ccc":return i.day(e,{width:"abbreviated",context:"standalone"})||i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"});case"ccccc":return i.day(e,{width:"narrow",context:"standalone"});case"cccccc":return i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(e,{width:"wide",context:"standalone"})||i.day(e,{width:"abbreviated",context:"standalone"})||i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=6}set(e,n,i,l){return e=k0(e,i,l),e.setHours(0,0,0,0),e}}function v4(t,a,e){const n=je(t,e==null?void 0:e.in),i=$_(n,e),l=a-i;return Mr(n,l,e)}class x4 extends Ot{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,n,i){const l=c=>c===0?7:c;switch(n){case"i":case"ii":return Nn(n.length,e);case"io":return i.ordinalNumber(e,{unit:"day"});case"iii":return On(i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),l);case"iiiii":return On(i.day(e,{width:"narrow",context:"formatting"}),l);case"iiiiii":return On(i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),l);case"iiii":default:return On(i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),l)}}validate(e,n){return n>=1&&n<=7}set(e,n,i){return e=v4(e,i),e.setHours(0,0,0,0),e}}class E4 extends Ot{constructor(){super(...arguments);ze(this,"priority",80);ze(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,i){return e.setHours(I0(i),0,0,0),e}}class w4 extends Ot{constructor(){super(...arguments);ze(this,"priority",80);ze(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,i){return e.setHours(I0(i),0,0,0),e}}class S4 extends Ot{constructor(){super(...arguments);ze(this,"priority",80);ze(this,"incompatibleTokens",["a","b","t","T"])}parse(e,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,i){return e.setHours(I0(i),0,0,0),e}}class C4 extends Ot{constructor(){super(...arguments);ze(this,"priority",70);ze(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,n,i){switch(n){case"h":return vn(Bn.hour12h,e);case"ho":return i.ordinalNumber(e,{unit:"hour"});default:return Nn(n.length,e)}}validate(e,n){return n>=1&&n<=12}set(e,n,i){const l=e.getHours()>=12;return l&&i<12?e.setHours(i+12,0,0,0):!l&&i===12?e.setHours(0,0,0,0):e.setHours(i,0,0,0),e}}class _4 extends Ot{constructor(){super(...arguments);ze(this,"priority",70);ze(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,n,i){switch(n){case"H":return vn(Bn.hour23h,e);case"Ho":return i.ordinalNumber(e,{unit:"hour"});default:return Nn(n.length,e)}}validate(e,n){return n>=0&&n<=23}set(e,n,i){return e.setHours(i,0,0,0),e}}class I4 extends Ot{constructor(){super(...arguments);ze(this,"priority",70);ze(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,n,i){switch(n){case"K":return vn(Bn.hour11h,e);case"Ko":return i.ordinalNumber(e,{unit:"hour"});default:return Nn(n.length,e)}}validate(e,n){return n>=0&&n<=11}set(e,n,i){return e.getHours()>=12&&i<12?e.setHours(i+12,0,0,0):e.setHours(i,0,0,0),e}}class k4 extends Ot{constructor(){super(...arguments);ze(this,"priority",70);ze(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,n,i){switch(n){case"k":return vn(Bn.hour24h,e);case"ko":return i.ordinalNumber(e,{unit:"hour"});default:return Nn(n.length,e)}}validate(e,n){return n>=1&&n<=24}set(e,n,i){const l=i<=24?i%24:i;return e.setHours(l,0,0,0),e}}class N4 extends Ot{constructor(){super(...arguments);ze(this,"priority",60);ze(this,"incompatibleTokens",["t","T"])}parse(e,n,i){switch(n){case"m":return vn(Bn.minute,e);case"mo":return i.ordinalNumber(e,{unit:"minute"});default:return Nn(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,i){return e.setMinutes(i,0,0),e}}class A4 extends Ot{constructor(){super(...arguments);ze(this,"priority",50);ze(this,"incompatibleTokens",["t","T"])}parse(e,n,i){switch(n){case"s":return vn(Bn.second,e);case"so":return i.ordinalNumber(e,{unit:"second"});default:return Nn(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,i){return e.setSeconds(i,0),e}}class D4 extends Ot{constructor(){super(...arguments);ze(this,"priority",30);ze(this,"incompatibleTokens",["t","T"])}parse(e,n){const i=l=>Math.trunc(l*Math.pow(10,-n.length+3));return On(Nn(n.length,e),i)}set(e,n,i){return e.setMilliseconds(i),e}}class M4 extends Ot{constructor(){super(...arguments);ze(this,"priority",10);ze(this,"incompatibleTokens",["t","T","x"])}parse(e,n){switch(n){case"X":return Jr(Xr.basicOptionalMinutes,e);case"XX":return Jr(Xr.basic,e);case"XXXX":return Jr(Xr.basicOptionalSeconds,e);case"XXXXX":return Jr(Xr.extendedOptionalSeconds,e);case"XXX":default:return Jr(Xr.extended,e)}}set(e,n,i){return n.timestampIsSet?e:Yt(e,e.getTime()-bm(e)-i)}}class T4 extends Ot{constructor(){super(...arguments);ze(this,"priority",10);ze(this,"incompatibleTokens",["t","T","X"])}parse(e,n){switch(n){case"x":return Jr(Xr.basicOptionalMinutes,e);case"xx":return Jr(Xr.basic,e);case"xxxx":return Jr(Xr.basicOptionalSeconds,e);case"xxxxx":return Jr(Xr.extendedOptionalSeconds,e);case"xxx":default:return Jr(Xr.extended,e)}}set(e,n,i){return n.timestampIsSet?e:Yt(e,e.getTime()-bm(e)-i)}}class R4 extends Ot{constructor(){super(...arguments);ze(this,"priority",40);ze(this,"incompatibleTokens","*")}parse(e){return vE(e)}set(e,n,i){return[Yt(e,i*1e3),{timestampIsSet:!0}]}}class P4 extends Ot{constructor(){super(...arguments);ze(this,"priority",20);ze(this,"incompatibleTokens","*")}parse(e){return vE(e)}set(e,n,i){return[Yt(e,i),{timestampIsSet:!0}]}}const L4={G:new K_,y:new e4,Y:new t4,R:new n4,u:new a4,Q:new r4,q:new s4,M:new i4,L:new o4,w:new c4,I:new u4,d:new f4,D:new h4,E:new g4,e:new y4,c:new b4,i:new x4,a:new E4,b:new w4,B:new S4,h:new C4,H:new _4,K:new I4,k:new k4,m:new N4,s:new A4,S:new D4,X:new M4,x:new T4,t:new R4,T:new P4},B4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,O4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,z4=/^'([^]*?)'?$/,U4=/''/g,F4=/\S/,W4=/[a-zA-Z]/;function H4(t,a,e,n){var S,C,I,N,k,M,T,q;const i=()=>Yt((n==null?void 0:n.in)||e,NaN),l=q_(),c=(n==null?void 0:n.locale)??l.locale??hE,u=(n==null?void 0:n.firstWeekContainsDate)??((C=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:C.firstWeekContainsDate)??l.firstWeekContainsDate??((N=(I=l.locale)==null?void 0:I.options)==null?void 0:N.firstWeekContainsDate)??1,m=(n==null?void 0:n.weekStartsOn)??((M=(k=n==null?void 0:n.locale)==null?void 0:k.options)==null?void 0:M.weekStartsOn)??l.weekStartsOn??((q=(T=l.locale)==null?void 0:T.options)==null?void 0:q.weekStartsOn)??0;if(!a)return t?i():je(e,n==null?void 0:n.in);const h={firstWeekContainsDate:u,weekStartsOn:m,locale:c},f=[new J_(n==null?void 0:n.in,e)],y=a.match(O4).map(z=>{const G=z[0];if(G in Og){const K=Og[G];return K(z,c.formatLong)}return z}).join("").match(B4),b=[];for(let z of y){const G=z[0],K=L4[G];if(K){const{incompatibleTokens:ie}=K;if(Array.isArray(ie)){const Z=b.find(O=>ie.includes(O.token)||O.token===G);if(Z)throw new RangeError(`The format string mustn't contain \`${Z.fullToken}\` and \`${z}\` at the same time`)}else if(K.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${z}\` and any other token at the same time`);b.push({token:G,fullToken:z});const H=K.run(t,z,c.match,h);if(!H)return i();f.push(H.setter),t=H.rest}else{if(G.match(W4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+G+"`");if(z==="''"?z="'":G==="'"&&(z=j4(z)),t.indexOf(z)===0)t=t.slice(z.length);else return i()}}if(t.length>0&&F4.test(t))return i();const w=f.map(z=>z.priority).sort((z,G)=>G-z).filter((z,G,K)=>K.indexOf(z)===G).map(z=>f.filter(G=>G.priority===z).sort((G,K)=>K.subPriority-G.subPriority)).map(z=>z[0]);let E=je(e,n==null?void 0:n.in);if(isNaN(+E))return i();const _={};for(const z of w){if(!z.validate(E,h))return i();const G=z.set(E,_,h);Array.isArray(G)?(E=G[0],Object.assign(_,G[1])):E=G}return E}function j4(t){return t.match(z4)[1].replace(U4,"'")}function Y4(t,a,e){const[n,i]=is(e==null?void 0:e.in,t,a);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function q4(t,a,e){const[n,i]=is(e==null?void 0:e.in,t,a);return+Bg(n)==+Bg(i)}function $4(t,a,e){const[n,i]=is(e==null?void 0:e.in,t,a);return n.getFullYear()===i.getFullYear()}function ld(t,a,e){const n=+je(t,e==null?void 0:e.in),[i,l]=[+je(a.start,e==null?void 0:e.in),+je(a.end,e==null?void 0:e.in)].sort((c,u)=>c-u);return n>=i&&n<=l}function G4(t,a,e){return Mr(t,-1,e)}function wE(t,a){const e=()=>Yt(a==null?void 0:a.in,NaN),i=X4(t);let l;if(i.date){const h=J4(i.date,2);l=K4(h.restDateString,h.year)}if(!l||isNaN(+l))return e();const c=+l;let u=0,m;if(i.time&&(u=eI(i.time),isNaN(u)))return e();if(i.timezone){if(m=tI(i.timezone),isNaN(m))return e()}else{const h=new Date(c+u),f=je(0,a==null?void 0:a.in);return f.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),f.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),f}return je(c+u+m,a==null?void 0:a.in)}const Ou={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Z4=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,V4=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Q4=/^([+-])(\d{2})(?::?(\d{2}))?$/;function X4(t){const a={},e=t.split(Ou.dateTimeDelimiter);let n;if(e.length>2)return a;if(/:/.test(e[0])?n=e[0]:(a.date=e[0],n=e[1],Ou.timeZoneDelimiter.test(a.date)&&(a.date=t.split(Ou.timeZoneDelimiter)[0],n=t.substr(a.date.length,t.length))),n){const i=Ou.timezone.exec(n);i?(a.time=n.replace(i[1],""),a.timezone=i[1]):a.time=n}return a}function J4(t,a){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),n=t.match(e);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,l=n[2]?parseInt(n[2]):null;return{year:l===null?i:l*100,restDateString:t.slice((n[1]||n[2]).length)}}function K4(t,a){if(a===null)return new Date(NaN);const e=t.match(Z4);if(!e)return new Date(NaN);const n=!!e[4],i=Rc(e[1]),l=Rc(e[2])-1,c=Rc(e[3]),u=Rc(e[4]),m=Rc(e[5])-1;if(n)return iI(a,u,m)?nI(a,u,m):new Date(NaN);{const h=new Date(0);return!rI(a,l,c)||!sI(a,i)?new Date(NaN):(h.setUTCFullYear(a,l,Math.max(i,c)),h)}}function Rc(t){return t?parseInt(t):1}function eI(t){const a=t.match(V4);if(!a)return NaN;const e=$h(a[1]),n=$h(a[2]),i=$h(a[3]);return oI(e,n,i)?e*xd+n*xp+i*1e3:NaN}function $h(t){return t&&parseFloat(t.replace(",","."))||0}function tI(t){if(t==="Z")return 0;const a=t.match(Q4);if(!a)return 0;const e=a[1]==="+"?-1:1,n=parseInt(a[2]),i=a[3]&&parseInt(a[3])||0;return lI(n,i)?e*(n*xd+i*xp):NaN}function nI(t,a,e){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,l=(a-1)*7+e+1-i;return n.setUTCDate(n.getUTCDate()+l),n}const aI=[31,null,31,30,31,30,31,31,30,31,30,31];function SE(t){return t%400===0||t%4===0&&t%100!==0}function rI(t,a,e){return a>=0&&a<=11&&e>=1&&e<=(aI[a]||(SE(t)?29:28))}function sI(t,a){return a>=1&&a<=(SE(t)?366:365)}function iI(t,a,e){return a>=1&&a<=53&&e>=0&&e<=6}function oI(t,a,e){return t===24?a===0&&e===0:e>=0&&e<60&&a>=0&&a<60&&t>=0&&t<25}function lI(t,a){return a>=0&&a<=59}function pr(t,a,e){const n=je(t,e==null?void 0:e.in),i=n.getFullYear(),l=n.getDate(),c=Yt(t,0);c.setFullYear(i,a,15),c.setHours(0,0,0,0);const u=Y_(c);return n.setMonth(a,Math.min(l,u)),n}function am(t,a,e){const n=je(t,e==null?void 0:e.in);return n.setHours(a),n}function rm(t,a,e){const n=je(t,e==null?void 0:e.in);return n.setMinutes(a),n}function ll(t,a,e){const n=je(t,e==null?void 0:e.in),i=Math.trunc(n.getMonth()/3)+1,l=a-i;return pr(n,n.getMonth()+l*3)}function sm(t,a,e){const n=je(t,e==null?void 0:e.in);return n.setSeconds(a),n}function Vr(t,a,e){const n=je(t,e==null?void 0:e.in);return isNaN(+n)?Yt(t,NaN):(n.setFullYear(a),n)}function fo(t,a,e){return Tr(t,-a,e)}function CE(t,a,e){return S0(t,-1,e)}function q2(t,a,e){return vm(t,-1,e)}function vl(t,a,e){return Os(t,-a,e)}function wp(){return typeof window<"u"}function Tl(t){return _E(t)?(t.nodeName||"").toLowerCase():"#document"}function Xa(t){var a;return(t==null||(a=t.ownerDocument)==null?void 0:a.defaultView)||window}function os(t){var a;return(a=(_E(t)?t.ownerDocument:t.document)||window.document)==null?void 0:a.documentElement}function _E(t){return wp()?t instanceof Node||t instanceof Xa(t).Node:!1}function _a(t){return wp()?t instanceof Element||t instanceof Xa(t).Element:!1}function ns(t){return wp()?t instanceof HTMLElement||t instanceof Xa(t).HTMLElement:!1}function $2(t){return!wp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xa(t).ShadowRoot}function Ed(t){const{overflow:a,overflowX:e,overflowY:n,display:i}=br(t);return/auto|scroll|overlay|hidden|clip/.test(a+n+e)&&!["inline","contents"].includes(i)}function cI(t){return["table","td","th"].includes(Tl(t))}function Sp(t){return[":popover-open",":modal"].some(a=>{try{return t.matches(a)}catch{return!1}})}function N0(t){const a=A0(),e=_a(t)?br(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!a&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!a&&(e.filter?e.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(e.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(e.contain||"").includes(n))}function dI(t){let a=Pi(t);for(;ns(a)&&!xl(a);){if(N0(a))return a;if(Sp(a))return null;a=Pi(a)}return null}function A0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xl(t){return["html","body","#document"].includes(Tl(t))}function br(t){return Xa(t).getComputedStyle(t)}function Cp(t){return _a(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Pi(t){if(Tl(t)==="html")return t;const a=t.assignedSlot||t.parentNode||$2(t)&&t.host||os(t);return $2(a)?a.host:a}function IE(t){const a=Pi(t);return xl(a)?t.ownerDocument?t.ownerDocument.body:t.body:ns(a)&&Ed(a)?a:IE(a)}function cd(t,a,e){var n;a===void 0&&(a=[]),e===void 0&&(e=!0);const i=IE(t),l=i===((n=t.ownerDocument)==null?void 0:n.body),c=Xa(i);if(l){const u=Ug(c);return a.concat(c,c.visualViewport||[],Ed(i)?i:[],u&&e?cd(u):[])}return a.concat(i,cd(i,[],e))}function Ug(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const El=Math.min,ho=Math.max,_m=Math.round,zu=Math.floor,ts=t=>({x:t,y:t}),uI={left:"right",right:"left",bottom:"top",top:"bottom"},mI={start:"end",end:"start"};function pI(t,a,e){return ho(t,El(a,e))}function _p(t,a){return typeof t=="function"?t(a):t}function wl(t){return t.split("-")[0]}function wd(t){return t.split("-")[1]}function fI(t){return t==="x"?"y":"x"}function D0(t){return t==="y"?"height":"width"}function ml(t){return["top","bottom"].includes(wl(t))?"y":"x"}function M0(t){return fI(ml(t))}function hI(t,a,e){e===void 0&&(e=!1);const n=wd(t),i=M0(t),l=D0(i);let c=i==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return a.reference[l]>a.floating[l]&&(c=Im(c)),[c,Im(c)]}function gI(t){const a=Im(t);return[Fg(t),a,Fg(a)]}function Fg(t){return t.replace(/start|end/g,a=>mI[a])}function yI(t,a,e){const n=["left","right"],i=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return e?a?i:n:a?n:i;case"left":case"right":return a?l:c;default:return[]}}function bI(t,a,e,n){const i=wd(t);let l=yI(wl(t),e==="start",n);return i&&(l=l.map(c=>c+"-"+i),a&&(l=l.concat(l.map(Fg)))),l}function Im(t){return t.replace(/left|right|bottom|top/g,a=>uI[a])}function vI(t){return{top:0,right:0,bottom:0,left:0,...t}}function kE(t){return typeof t!="number"?vI(t):{top:t,right:t,bottom:t,left:t}}function km(t){const{x:a,y:e,width:n,height:i}=t;return{width:n,height:i,top:e,left:a,right:a+n,bottom:e+i,x:a,y:e}}var Nm=typeof document<"u"?v.useLayoutEffect:v.useEffect;const xI={...Wx},EI=xI.useInsertionEffect,wI=EI||(t=>t());function SI(t){const a=v.useRef(()=>{});return wI(()=>{a.current=t}),v.useCallback(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return a.current==null?void 0:a.current(...n)},[])}var Gh={exports:{}},Pc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G2;function CI(){if(G2)return Pc;G2=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function e(n,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var u in i)u!=="key"&&(l[u]=i[u])}else l=i;return i=l.ref,{$$typeof:t,type:n,key:c,ref:i!==void 0?i:null,props:l}}return Pc.Fragment=a,Pc.jsx=e,Pc.jsxs=e,Pc}var Z2;function _I(){return Z2||(Z2=1,Gh.exports=CI()),Gh.exports}var Lc=_I();function V2(t,a,e){let{reference:n,floating:i}=t;const l=ml(a),c=M0(a),u=D0(c),m=wl(a),h=l==="y",f=n.x+n.width/2-i.width/2,y=n.y+n.height/2-i.height/2,b=n[u]/2-i[u]/2;let w;switch(m){case"top":w={x:f,y:n.y-i.height};break;case"bottom":w={x:f,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y};break;case"left":w={x:n.x-i.width,y};break;default:w={x:n.x,y:n.y}}switch(wd(a)){case"start":w[c]-=b*(e&&h?-1:1);break;case"end":w[c]+=b*(e&&h?-1:1);break}return w}const II=async(t,a,e)=>{const{placement:n="bottom",strategy:i="absolute",middleware:l=[],platform:c}=e,u=l.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(a));let h=await c.getElementRects({reference:t,floating:a,strategy:i}),{x:f,y}=V2(h,n,m),b=n,w={},E=0;for(let _=0;_<u.length;_++){const{name:S,fn:C}=u[_],{x:I,y:N,data:k,reset:M}=await C({x:f,y,initialPlacement:n,placement:b,strategy:i,middlewareData:w,rects:h,platform:c,elements:{reference:t,floating:a}});f=I??f,y=N??y,w={...w,[S]:{...w[S],...k}},M&&E<=50&&(E++,typeof M=="object"&&(M.placement&&(b=M.placement),M.rects&&(h=M.rects===!0?await c.getElementRects({reference:t,floating:a,strategy:i}):M.rects),{x:f,y}=V2(h,b,m)),_=-1)}return{x:f,y,placement:b,strategy:i,middlewareData:w}};async function kI(t,a){var e;a===void 0&&(a={});const{x:n,y:i,platform:l,rects:c,elements:u,strategy:m}=t,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:y="floating",altBoundary:b=!1,padding:w=0}=_p(a,t),E=kE(w),S=u[b?y==="floating"?"reference":"floating":y],C=km(await l.getClippingRect({element:(e=await(l.isElement==null?void 0:l.isElement(S)))==null||e?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:h,rootBoundary:f,strategy:m})),I=y==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,N=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),k=await(l.isElement==null?void 0:l.isElement(N))?await(l.getScale==null?void 0:l.getScale(N))||{x:1,y:1}:{x:1,y:1},M=km(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:I,offsetParent:N,strategy:m}):I);return{top:(C.top-M.top+E.top)/k.y,bottom:(M.bottom-C.bottom+E.bottom)/k.y,left:(C.left-M.left+E.left)/k.x,right:(M.right-C.right+E.right)/k.x}}const NI=t=>({name:"arrow",options:t,async fn(a){const{x:e,y:n,placement:i,rects:l,platform:c,elements:u,middlewareData:m}=a,{element:h,padding:f=0}=_p(t,a)||{};if(h==null)return{};const y=kE(f),b={x:e,y:n},w=M0(i),E=D0(w),_=await c.getDimensions(h),S=w==="y",C=S?"top":"left",I=S?"bottom":"right",N=S?"clientHeight":"clientWidth",k=l.reference[E]+l.reference[w]-b[w]-l.floating[E],M=b[w]-l.reference[w],T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let q=T?T[N]:0;(!q||!await(c.isElement==null?void 0:c.isElement(T)))&&(q=u.floating[N]||l.floating[E]);const z=k/2-M/2,G=q/2-_[E]/2-1,K=El(y[C],G),ie=El(y[I],G),H=K,Z=q-_[E]-ie,O=q/2-_[E]/2+z,R=pI(H,O,Z),A=!m.arrow&&wd(i)!=null&&O!==R&&l.reference[E]/2-(O<H?K:ie)-_[E]/2<0,F=A?O<H?O-H:O-Z:0;return{[w]:b[w]+F,data:{[w]:R,centerOffset:O-R-F,...A&&{alignmentOffset:F}},reset:A}}}),AI=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(a){var e,n;const{placement:i,middlewareData:l,rects:c,initialPlacement:u,platform:m,elements:h}=a,{mainAxis:f=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:_=!0,...S}=_p(t,a);if((e=l.arrow)!=null&&e.alignmentOffset)return{};const C=wl(i),I=ml(u),N=wl(u)===u,k=await(m.isRTL==null?void 0:m.isRTL(h.floating)),M=b||(N||!_?[Im(u)]:gI(u)),T=E!=="none";!b&&T&&M.push(...bI(u,_,E,k));const q=[u,...M],z=await kI(a,S),G=[];let K=((n=l.flip)==null?void 0:n.overflows)||[];if(f&&G.push(z[C]),y){const R=hI(i,c,k);G.push(z[R[0]],z[R[1]])}if(K=[...K,{placement:i,overflows:G}],!G.every(R=>R<=0)){var ie,H;const R=(((ie=l.flip)==null?void 0:ie.index)||0)+1,A=q[R];if(A){var Z;const Q=y==="alignment"?I!==ml(A):!1,V=((Z=K[0])==null?void 0:Z.overflows[0])>0;if(!Q||V)return{data:{index:R,overflows:K},reset:{placement:A}}}let F=(H=K.filter(Q=>Q.overflows[0]<=0).sort((Q,V)=>Q.overflows[1]-V.overflows[1])[0])==null?void 0:H.placement;if(!F)switch(w){case"bestFit":{var O;const Q=(O=K.filter(V=>{if(T){const P=ml(V.placement);return P===I||P==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(P=>P>0).reduce((P,j)=>P+j,0)]).sort((V,P)=>V[1]-P[1])[0])==null?void 0:O[0];Q&&(F=Q);break}case"initialPlacement":F=u;break}if(i!==F)return{reset:{placement:F}}}return{}}}};async function DI(t,a){const{placement:e,platform:n,elements:i}=t,l=await(n.isRTL==null?void 0:n.isRTL(i.floating)),c=wl(e),u=wd(e),m=ml(e)==="y",h=["left","top"].includes(c)?-1:1,f=l&&m?-1:1,y=_p(a,t);let{mainAxis:b,crossAxis:w,alignmentAxis:E}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof E=="number"&&(w=u==="end"?E*-1:E),m?{x:w*f,y:b*h}:{x:b*h,y:w*f}}const MI=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(a){var e,n;const{x:i,y:l,placement:c,middlewareData:u}=a,m=await DI(a,t);return c===((e=u.offset)==null?void 0:e.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+m.x,y:l+m.y,data:{...m,placement:c}}}}};function NE(t){const a=br(t);let e=parseFloat(a.width)||0,n=parseFloat(a.height)||0;const i=ns(t),l=i?t.offsetWidth:e,c=i?t.offsetHeight:n,u=_m(e)!==l||_m(n)!==c;return u&&(e=l,n=c),{width:e,height:n,$:u}}function T0(t){return _a(t)?t:t.contextElement}function pl(t){const a=T0(t);if(!ns(a))return ts(1);const e=a.getBoundingClientRect(),{width:n,height:i,$:l}=NE(a);let c=(l?_m(e.width):e.width)/n,u=(l?_m(e.height):e.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const TI=ts(0);function AE(t){const a=Xa(t);return!A0()||!a.visualViewport?TI:{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}}function RI(t,a,e){return a===void 0&&(a=!1),!e||a&&e!==Xa(t)?!1:a}function vo(t,a,e,n){a===void 0&&(a=!1),e===void 0&&(e=!1);const i=t.getBoundingClientRect(),l=T0(t);let c=ts(1);a&&(n?_a(n)&&(c=pl(n)):c=pl(t));const u=RI(l,e,n)?AE(l):ts(0);let m=(i.left+u.x)/c.x,h=(i.top+u.y)/c.y,f=i.width/c.x,y=i.height/c.y;if(l){const b=Xa(l),w=n&&_a(n)?Xa(n):n;let E=b,_=Ug(E);for(;_&&n&&w!==E;){const S=pl(_),C=_.getBoundingClientRect(),I=br(_),N=C.left+(_.clientLeft+parseFloat(I.paddingLeft))*S.x,k=C.top+(_.clientTop+parseFloat(I.paddingTop))*S.y;m*=S.x,h*=S.y,f*=S.x,y*=S.y,m+=N,h+=k,E=Xa(_),_=Ug(E)}}return km({width:f,height:y,x:m,y:h})}function R0(t,a){const e=Cp(t).scrollLeft;return a?a.left+e:vo(os(t)).left+e}function DE(t,a,e){e===void 0&&(e=!1);const n=t.getBoundingClientRect(),i=n.left+a.scrollLeft-(e?0:R0(t,n)),l=n.top+a.scrollTop;return{x:i,y:l}}function PI(t){let{elements:a,rect:e,offsetParent:n,strategy:i}=t;const l=i==="fixed",c=os(n),u=a?Sp(a.floating):!1;if(n===c||u&&l)return e;let m={scrollLeft:0,scrollTop:0},h=ts(1);const f=ts(0),y=ns(n);if((y||!y&&!l)&&((Tl(n)!=="body"||Ed(c))&&(m=Cp(n)),ns(n))){const w=vo(n);h=pl(n),f.x=w.x+n.clientLeft,f.y=w.y+n.clientTop}const b=c&&!y&&!l?DE(c,m,!0):ts(0);return{width:e.width*h.x,height:e.height*h.y,x:e.x*h.x-m.scrollLeft*h.x+f.x+b.x,y:e.y*h.y-m.scrollTop*h.y+f.y+b.y}}function LI(t){return Array.from(t.getClientRects())}function BI(t){const a=os(t),e=Cp(t),n=t.ownerDocument.body,i=ho(a.scrollWidth,a.clientWidth,n.scrollWidth,n.clientWidth),l=ho(a.scrollHeight,a.clientHeight,n.scrollHeight,n.clientHeight);let c=-e.scrollLeft+R0(t);const u=-e.scrollTop;return br(n).direction==="rtl"&&(c+=ho(a.clientWidth,n.clientWidth)-i),{width:i,height:l,x:c,y:u}}function OI(t,a){const e=Xa(t),n=os(t),i=e.visualViewport;let l=n.clientWidth,c=n.clientHeight,u=0,m=0;if(i){l=i.width,c=i.height;const h=A0();(!h||h&&a==="fixed")&&(u=i.offsetLeft,m=i.offsetTop)}return{width:l,height:c,x:u,y:m}}function zI(t,a){const e=vo(t,!0,a==="fixed"),n=e.top+t.clientTop,i=e.left+t.clientLeft,l=ns(t)?pl(t):ts(1),c=t.clientWidth*l.x,u=t.clientHeight*l.y,m=i*l.x,h=n*l.y;return{width:c,height:u,x:m,y:h}}function Q2(t,a,e){let n;if(a==="viewport")n=OI(t,e);else if(a==="document")n=BI(os(t));else if(_a(a))n=zI(a,e);else{const i=AE(t);n={x:a.x-i.x,y:a.y-i.y,width:a.width,height:a.height}}return km(n)}function ME(t,a){const e=Pi(t);return e===a||!_a(e)||xl(e)?!1:br(e).position==="fixed"||ME(e,a)}function UI(t,a){const e=a.get(t);if(e)return e;let n=cd(t,[],!1).filter(u=>_a(u)&&Tl(u)!=="body"),i=null;const l=br(t).position==="fixed";let c=l?Pi(t):t;for(;_a(c)&&!xl(c);){const u=br(c),m=N0(c);!m&&u.position==="fixed"&&(i=null),(l?!m&&!i:!m&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ed(c)&&!m&&ME(t,c))?n=n.filter(f=>f!==c):i=u,c=Pi(c)}return a.set(t,n),n}function FI(t){let{element:a,boundary:e,rootBoundary:n,strategy:i}=t;const c=[...e==="clippingAncestors"?Sp(a)?[]:UI(a,this._c):[].concat(e),n],u=c[0],m=c.reduce((h,f)=>{const y=Q2(a,f,i);return h.top=ho(y.top,h.top),h.right=El(y.right,h.right),h.bottom=El(y.bottom,h.bottom),h.left=ho(y.left,h.left),h},Q2(a,u,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function WI(t){const{width:a,height:e}=NE(t);return{width:a,height:e}}function HI(t,a,e){const n=ns(a),i=os(a),l=e==="fixed",c=vo(t,!0,l,a);let u={scrollLeft:0,scrollTop:0};const m=ts(0);function h(){m.x=R0(i)}if(n||!n&&!l)if((Tl(a)!=="body"||Ed(i))&&(u=Cp(a)),n){const w=vo(a,!0,l,a);m.x=w.x+a.clientLeft,m.y=w.y+a.clientTop}else i&&h();l&&!n&&i&&h();const f=i&&!n&&!l?DE(i,u):ts(0),y=c.left+u.scrollLeft-m.x-f.x,b=c.top+u.scrollTop-m.y-f.y;return{x:y,y:b,width:c.width,height:c.height}}function Zh(t){return br(t).position==="static"}function X2(t,a){if(!ns(t)||br(t).position==="fixed")return null;if(a)return a(t);let e=t.offsetParent;return os(t)===e&&(e=e.ownerDocument.body),e}function TE(t,a){const e=Xa(t);if(Sp(t))return e;if(!ns(t)){let i=Pi(t);for(;i&&!xl(i);){if(_a(i)&&!Zh(i))return i;i=Pi(i)}return e}let n=X2(t,a);for(;n&&cI(n)&&Zh(n);)n=X2(n,a);return n&&xl(n)&&Zh(n)&&!N0(n)?e:n||dI(t)||e}const jI=async function(t){const a=this.getOffsetParent||TE,e=this.getDimensions,n=await e(t.floating);return{reference:HI(t.reference,await a(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function YI(t){return br(t).direction==="rtl"}const qI={convertOffsetParentRelativeRectToViewportRelativeRect:PI,getDocumentElement:os,getClippingRect:FI,getOffsetParent:TE,getElementRects:jI,getClientRects:LI,getDimensions:WI,getScale:pl,isElement:_a,isRTL:YI};function RE(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height}function $I(t,a){let e=null,n;const i=os(t);function l(){var u;clearTimeout(n),(u=e)==null||u.disconnect(),e=null}function c(u,m){u===void 0&&(u=!1),m===void 0&&(m=1),l();const h=t.getBoundingClientRect(),{left:f,top:y,width:b,height:w}=h;if(u||a(),!b||!w)return;const E=zu(y),_=zu(i.clientWidth-(f+b)),S=zu(i.clientHeight-(y+w)),C=zu(f),N={rootMargin:-E+"px "+-_+"px "+-S+"px "+-C+"px",threshold:ho(0,El(1,m))||1};let k=!0;function M(T){const q=T[0].intersectionRatio;if(q!==m){if(!k)return c();q?c(!1,q):n=setTimeout(()=>{c(!1,1e-7)},1e3)}q===1&&!RE(h,t.getBoundingClientRect())&&c(),k=!1}try{e=new IntersectionObserver(M,{...N,root:i.ownerDocument})}catch{e=new IntersectionObserver(M,N)}e.observe(t)}return c(!0),l}function GI(t,a,e,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:m=!1}=n,h=T0(t),f=i||l?[...h?cd(h):[],...cd(a)]:[];f.forEach(C=>{i&&C.addEventListener("scroll",e,{passive:!0}),l&&C.addEventListener("resize",e)});const y=h&&u?$I(h,e):null;let b=-1,w=null;c&&(w=new ResizeObserver(C=>{let[I]=C;I&&I.target===h&&w&&(w.unobserve(a),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var N;(N=w)==null||N.observe(a)})),e()}),h&&!m&&w.observe(h),w.observe(a));let E,_=m?vo(t):null;m&&S();function S(){const C=vo(t);_&&!RE(_,C)&&e(),_=C,E=requestAnimationFrame(S)}return e(),()=>{var C;f.forEach(I=>{i&&I.removeEventListener("scroll",e),l&&I.removeEventListener("resize",e)}),y==null||y(),(C=w)==null||C.disconnect(),w=null,m&&cancelAnimationFrame(E)}}const ZI=MI,VI=AI,J2=NI,QI=(t,a,e)=>{const n=new Map,i={platform:qI,...e},l={...i.platform,_c:n};return II(t,a,{...i,platform:l})};var im=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Am(t,a){if(t===a)return!0;if(typeof t!=typeof a)return!1;if(typeof t=="function"&&t.toString()===a.toString())return!0;let e,n,i;if(t&&a&&typeof t=="object"){if(Array.isArray(t)){if(e=t.length,e!==a.length)return!1;for(n=e;n--!==0;)if(!Am(t[n],a[n]))return!1;return!0}if(i=Object.keys(t),e=i.length,e!==Object.keys(a).length)return!1;for(n=e;n--!==0;)if(!{}.hasOwnProperty.call(a,i[n]))return!1;for(n=e;n--!==0;){const l=i[n];if(!(l==="_owner"&&t.$$typeof)&&!Am(t[l],a[l]))return!1}return!0}return t!==t&&a!==a}function PE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function K2(t,a){const e=PE(t);return Math.round(a*e)/e}function Vh(t){const a=v.useRef(t);return im(()=>{a.current=t}),a}function XI(t){t===void 0&&(t={});const{placement:a="bottom",strategy:e="absolute",middleware:n=[],platform:i,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:m,open:h}=t,[f,y]=v.useState({x:0,y:0,strategy:e,placement:a,middlewareData:{},isPositioned:!1}),[b,w]=v.useState(n);Am(b,n)||w(n);const[E,_]=v.useState(null),[S,C]=v.useState(null),I=v.useCallback(Q=>{Q!==T.current&&(T.current=Q,_(Q))},[]),N=v.useCallback(Q=>{Q!==q.current&&(q.current=Q,C(Q))},[]),k=l||E,M=c||S,T=v.useRef(null),q=v.useRef(null),z=v.useRef(f),G=m!=null,K=Vh(m),ie=Vh(i),H=Vh(h),Z=v.useCallback(()=>{if(!T.current||!q.current)return;const Q={placement:a,strategy:e,middleware:b};ie.current&&(Q.platform=ie.current),QI(T.current,q.current,Q).then(V=>{const P={...V,isPositioned:H.current!==!1};O.current&&!Am(z.current,P)&&(z.current=P,rE.flushSync(()=>{y(P)}))})},[b,a,e,ie,H]);im(()=>{h===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,y(Q=>({...Q,isPositioned:!1})))},[h]);const O=v.useRef(!1);im(()=>(O.current=!0,()=>{O.current=!1}),[]),im(()=>{if(k&&(T.current=k),M&&(q.current=M),k&&M){if(K.current)return K.current(k,M,Z);Z()}},[k,M,Z,K,G]);const R=v.useMemo(()=>({reference:T,floating:q,setReference:I,setFloating:N}),[I,N]),A=v.useMemo(()=>({reference:k,floating:M}),[k,M]),F=v.useMemo(()=>{const Q={position:e,left:0,top:0};if(!A.floating)return Q;const V=K2(A.floating,f.x),P=K2(A.floating,f.y);return u?{...Q,transform:"translate("+V+"px, "+P+"px)",...PE(A.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:V,top:P}},[e,u,A.floating,f.x,f.y]);return v.useMemo(()=>({...f,update:Z,refs:R,elements:A,floatingStyles:F}),[f,Z,R,A,F])}const JI=t=>{function a(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:t,fn(e){const{element:n,padding:i}=typeof t=="function"?t(e):t;return n&&a(n)?n.current!=null?J2({element:n.current,padding:i}).fn(e):{}:n?J2({element:n,padding:i}).fn(e):{}}}},KI=(t,a)=>({...ZI(t),options:[t,a]}),ek=(t,a)=>({...VI(t),options:[t,a]}),tk=(t,a)=>({...JI(t),options:[t,a]}),nk={...Wx};let ev=!1,ak=0;const tv=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ak++;function rk(){const[t,a]=v.useState(()=>ev?tv():void 0);return Nm(()=>{t==null&&a(tv())},[]),v.useEffect(()=>{ev=!0},[]),t}const sk=nk.useId,LE=sk||rk,ik=v.forwardRef(function(a,e){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:l,shift:c}},width:u=14,height:m=7,tipRadius:h=0,strokeWidth:f=0,staticOffset:y,stroke:b,d:w,style:{transform:E,..._}={},...S}=a,C=LE(),[I,N]=v.useState(!1);if(Nm(()=>{if(!i)return;br(i).direction==="rtl"&&N(!0)},[i]),!i)return null;const[k,M]=n.split("-"),T=k==="top"||k==="bottom";let q=y;(T&&c!=null&&c.x||!T&&c!=null&&c.y)&&(q=null);const z=f*2,G=z/2,K=u/2*(h/-8+1),ie=m/2*h/4,H=!!w,Z=q&&M==="end"?"bottom":"top";let O=q&&M==="end"?"right":"left";q&&I&&(O=M==="end"?"left":"right");const R=(l==null?void 0:l.x)!=null?q||l.x:"",A=(l==null?void 0:l.y)!=null?q||l.y:"",F=w||"M0,0"+(" H"+u)+(" L"+(u-K)+","+(m-ie))+(" Q"+u/2+","+m+" "+K+","+(m-ie))+" Z",Q={top:H?"rotate(180deg)":"",left:H?"rotate(90deg)":"rotate(-90deg)",bottom:H?"":"rotate(180deg)",right:H?"rotate(-90deg)":"rotate(90deg)"}[k];return Lc.jsxs("svg",{...S,"aria-hidden":!0,ref:e,width:H?u:u+z,height:u,viewBox:"0 0 "+u+" "+(m>u?m:u),style:{position:"absolute",pointerEvents:"none",[O]:R,[Z]:A,[k]:T||H?"100%":"calc(100% - "+z/2+"px)",transform:[Q,E].filter(V=>!!V).join(" "),..._},children:[z>0&&Lc.jsx("path",{clipPath:"url(#"+C+")",fill:"none",stroke:b,strokeWidth:z+(w?0:1),d:F}),Lc.jsx("path",{stroke:z&&!w?S.fill:"none",d:F}),Lc.jsx("clipPath",{id:C,children:Lc.jsx("rect",{x:-G,y:G*(H?-1:1),width:u+z,height:u})})]})});function ok(){const t=new Map;return{emit(a,e){var n;(n=t.get(a))==null||n.forEach(i=>i(e))},on(a,e){t.has(a)||t.set(a,new Set),t.get(a).add(e)},off(a,e){var n;(n=t.get(a))==null||n.delete(e)}}}const lk=v.createContext(null),ck=v.createContext(null),dk=()=>{var t;return((t=v.useContext(lk))==null?void 0:t.id)||null},uk=()=>v.useContext(ck);function mk(t){const{open:a=!1,onOpenChange:e,elements:n}=t,i=LE(),l=v.useRef({}),[c]=v.useState(()=>ok()),u=dk()!=null,[m,h]=v.useState(n.reference),f=SI((w,E,_)=>{l.current.openEvent=w?E:void 0,c.emit("openchange",{open:w,event:E,reason:_,nested:u}),e==null||e(w,E,_)}),y=v.useMemo(()=>({setPositionReference:h}),[]),b=v.useMemo(()=>({reference:m||n.reference||null,floating:n.floating||null,domReference:n.reference}),[m,n.reference,n.floating]);return v.useMemo(()=>({dataRef:l,open:a,onOpenChange:f,elements:b,events:c,floatingId:i,refs:y}),[a,f,b,c,i,y])}function pk(t){t===void 0&&(t={});const{nodeId:a}=t,e=mk({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||e,i=n.elements,[l,c]=v.useState(null),[u,m]=v.useState(null),f=(i==null?void 0:i.domReference)||l,y=v.useRef(null),b=uk();Nm(()=>{f&&(y.current=f)},[f]);const w=XI({...t,elements:{...i,...u&&{reference:u}}}),E=v.useCallback(N=>{const k=_a(N)?{getBoundingClientRect:()=>N.getBoundingClientRect(),getClientRects:()=>N.getClientRects(),contextElement:N}:N;m(k),w.refs.setReference(k)},[w.refs]),_=v.useCallback(N=>{(_a(N)||N===null)&&(y.current=N,c(N)),(_a(w.refs.reference.current)||w.refs.reference.current===null||N!==null&&!_a(N))&&w.refs.setReference(N)},[w.refs]),S=v.useMemo(()=>({...w.refs,setReference:_,setPositionReference:E,domReference:y}),[w.refs,_,E]),C=v.useMemo(()=>({...w.elements,domReference:f}),[w.elements,f]),I=v.useMemo(()=>({...w,...n,refs:S,elements:C,nodeId:a}),[w,S,C,a,n]);return Nm(()=>{n.dataRef.current.floatingContext=I;const N=b==null?void 0:b.nodesRef.current.find(k=>k.id===a);N&&(N.context=I)}),v.useMemo(()=>({...w,context:I,refs:S,elements:C}),[w,S,C,I])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Wg=function(a,e){return Wg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])},Wg(a,e)};function na(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");Wg(t,a);function e(){this.constructor=t}t.prototype=a===null?Object.create(a):(e.prototype=a.prototype,new e)}var Mt=function(){return Mt=Object.assign||function(e){for(var n,i=1,l=arguments.length;i<l;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},Mt.apply(this,arguments)};function Kr(t,a,e){if(e||arguments.length===2)for(var n=0,i=a.length,l;n<i;n++)(l||!(n in a))&&(l||(l=Array.prototype.slice.call(a,0,n)),l[n]=a[n]);return t.concat(l||Array.prototype.slice.call(a))}var fk=function(t){var a=t.showTimeSelectOnly,e=a===void 0?!1:a,n=t.showTime,i=n===void 0?!1:n,l=t.className,c=t.children,u=e?"Choose Time":"Choose Date".concat(i?" and Time":"");return r.createElement("div",{className:l,role:"dialog","aria-label":u,"aria-modal":"true"},c)},hk=function(t,a){var e=v.useRef(null),n=v.useRef(t);n.current=t;var i=v.useCallback(function(l){var c,u=l.composed&&l.composedPath&&l.composedPath().find(function(m){return m instanceof Node})||l.target;e.current&&!e.current.contains(u)&&(a&&u instanceof HTMLElement&&u.classList.contains(a)||(c=n.current)===null||c===void 0||c.call(n,l))},[a]);return v.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),e},Ip=function(t){var a=t.children,e=t.onClickOutside,n=t.className,i=t.containerRef,l=t.style,c=t.ignoreClass,u=hk(e,c);return r.createElement("div",{className:n,style:l,ref:function(m){u.current=m,i&&(i.current=m)}},a)},Re;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Re||(Re={}));function BE(){var t=typeof window<"u"?window:globalThis;return t}var Sd=12;function zt(t){if(t==null)return new Date;var a=typeof t=="string"?wE(t):je(t);return kp(a)?a:new Date}function Qh(t,a,e,n,i){i===void 0&&(i=zt());for(var l=Sl(e)||Sl(P0()),c=Array.isArray(a)?a:[a],u=0,m=c;u<m.length;u++){var h=m[u],f=H4(t,h,i,{locale:l});if(kp(f)&&(!n||t===un(f,h,e)))return f}return null}function kp(t,a){return xm(t)&&!bo(t,new Date("1/1/1800"))}function un(t,a,e){if(e==="en")return Ca(t,a,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=e?Sl(e):void 0;return e&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(e,'"].')),n=n||Sl(P0()),Ca(t,a,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function mr(t,a){var e=a.dateFormat,n=a.locale,i=Array.isArray(e)&&e.length>0?e[0]:e;return t&&un(t,i,n)||""}var OE=" - ";function gk(t,a,e){if(!t)return"";var n=mr(t,e),i=a?mr(a,e):"";return"".concat(n).concat(OE).concat(i)}function yk(t,a){if(!(t!=null&&t.length))return"";var e=t[0]?mr(t[0],a):"";if(t.length===1)return e;if(t.length===2&&t[1]){var n=mr(t[1],a);return"".concat(e,", ").concat(n)}var i=t.length-1;return"".concat(e," (+").concat(i,")")}function Xh(t,a){var e=a.hour,n=e===void 0?0:e,i=a.minute,l=i===void 0?0:i,c=a.second,u=c===void 0?0:c;return am(rm(sm(t,u),l),n)}function bk(t){return C0(t)}function vk(t,a){return un(t,"ddd",a)}function om(t){return yo(t)}function Ti(t,a,e){var n=Sl(a||P0());return Ys(t,{locale:n,weekStartsOn:e})}function Ws(t){return pE(t)}function $c(t){return Ep(t)}function nv(t){return Bg(t)}function av(){return yo(zt())}function rv(t){return uE(t)}function xk(t){return Z3(t)}function Ek(t){return mE(t)}function Qr(t,a){return t&&a?$4(t,a):!t&&!a}function Sa(t,a){return t&&a?Y4(t,a):!t&&!a}function Dm(t,a){return t&&a?q4(t,a):!t&&!a}function Dt(t,a){return t&&a?q3(t,a):!t&&!a}function co(t,a){return t&&a?G_(t,a):!t&&!a}function Gc(t,a,e){var n,i=yo(a),l=uE(e);try{n=ld(t,{start:i,end:l})}catch{n=!1}return n}function P0(){var t=BE();return t.__localeId__}function Sl(t){if(typeof t=="string"){var a=BE();return a.__localeData__?a.__localeData__[t]:void 0}else return t}function wk(t,a,e){return a(un(t,"EEEE",e))}function Sk(t,a){return un(t,"EEEEEE",a)}function Ck(t,a){return un(t,"EEE",a)}function L0(t,a){return un(pr(zt(),t),"LLLL",a)}function zE(t,a){return un(pr(zt(),t),"LLL",a)}function _k(t,a){return un(ll(zt(),t),"QQQ",a)}function hr(t,a){var e=a===void 0?{}:a,n=e.minDate,i=e.maxDate,l=e.excludeDates,c=e.excludeDateIntervals,u=e.includeDates,m=e.includeDateIntervals,h=e.filterDate;return Cd(t,{minDate:n,maxDate:i})||l&&l.some(function(f){return f instanceof Date?Dt(t,f):Dt(t,f.date)})||c&&c.some(function(f){var y=f.start,b=f.end;return ld(t,{start:y,end:b})})||u&&!u.some(function(f){return Dt(t,f)})||m&&!m.some(function(f){var y=f.start,b=f.end;return ld(t,{start:y,end:b})})||h&&!h(zt(t))||!1}function B0(t,a){var e=a===void 0?{}:a,n=e.excludeDates,i=e.excludeDateIntervals;return i&&i.length>0?i.some(function(l){var c=l.start,u=l.end;return ld(t,{start:c,end:u})}):n&&n.some(function(l){var c;return l instanceof Date?Dt(t,l):Dt(t,(c=l.date)!==null&&c!==void 0?c:new Date)})||!1}function UE(t,a){var e=a===void 0?{}:a,n=e.minDate,i=e.maxDate,l=e.excludeDates,c=e.includeDates,u=e.filterDate;return Cd(t,{minDate:n?pE(n):void 0,maxDate:i?mE(i):void 0})||(l==null?void 0:l.some(function(m){return Sa(t,m instanceof Date?m:m.date)}))||c&&!c.some(function(m){return Sa(t,m)})||u&&!u(zt(t))||!1}function Uu(t,a,e,n){var i=Et(t),l=ga(t),c=Et(a),u=ga(a),m=Et(n);return i===c&&i===m?l<=e&&e<=u:i<c?m===i&&l<=e||m===c&&u>=e||m<c&&m>i:!1}function Ik(t,a){var e=a===void 0?{}:a,n=e.minDate,i=e.maxDate,l=e.excludeDates,c=e.includeDates;return Cd(t,{minDate:n,maxDate:i})||l&&l.some(function(u){return Sa(u instanceof Date?u:u.date,t)})||c&&!c.some(function(u){return Sa(u,t)})||!1}function Fu(t,a){var e=a===void 0?{}:a,n=e.minDate,i=e.maxDate,l=e.excludeDates,c=e.includeDates,u=e.filterDate;return Cd(t,{minDate:n,maxDate:i})||(l==null?void 0:l.some(function(m){return Dm(t,m instanceof Date?m:m.date)}))||c&&!c.some(function(m){return Dm(t,m)})||u&&!u(zt(t))||!1}function Wu(t,a,e){if(!a||!e||!xm(a)||!xm(e))return!1;var n=Et(a),i=Et(e);return n<=t&&i>=t}function lm(t,a){var e=a===void 0?{}:a,n=e.minDate,i=e.maxDate,l=e.excludeDates,c=e.includeDates,u=e.filterDate,m=new Date(t,0,1);return Cd(m,{minDate:n?Ep(n):void 0,maxDate:i?fE(i):void 0})||(l==null?void 0:l.some(function(h){return Qr(m,h instanceof Date?h:h.date)}))||c&&!c.some(function(h){return Qr(m,h)})||u&&!u(zt(m))||!1}function Hu(t,a,e,n){var i=Et(t),l=po(t),c=Et(a),u=po(a),m=Et(n);return i===c&&i===m?l<=e&&e<=u:i<c?m===i&&l<=e||m===c&&u>=e||m<c&&m>i:!1}function Cd(t,a){var e,n=a===void 0?{}:a,i=n.minDate,l=n.maxDate;return(e=i&&bl(t,i)<0||l&&bl(t,l)>0)!==null&&e!==void 0?e:!1}function sv(t,a){return a.some(function(e){return Us(e)===Us(t)&&Fs(e)===Fs(t)&&Mi(e)===Mi(t)})}function iv(t,a){var e=a===void 0?{}:a,n=e.excludeTimes,i=e.includeTimes,l=e.filterTime;return n&&sv(t,n)||i&&!sv(t,i)||l&&!l(t)||!1}function ov(t,a){var e=a.minTime,n=a.maxTime;if(!e||!n)throw new Error("Both minTime and maxTime props required");var i=zt();i=am(i,Us(t)),i=rm(i,Fs(t)),i=sm(i,Mi(t));var l=zt();l=am(l,Us(e)),l=rm(l,Fs(e)),l=sm(l,Mi(e));var c=zt();c=am(c,Us(n)),c=rm(c,Fs(n)),c=sm(c,Mi(n));var u;try{u=!ld(i,{start:l,end:c})}catch{u=!1}return u}function lv(t,a){var e=a===void 0?{}:a,n=e.minDate,i=e.includeDates,l=fo(t,1);return n&&Em(n,l)>0||i&&i.every(function(c){return Em(c,l)>0})||!1}function cv(t,a){var e=a===void 0?{}:a,n=e.maxDate,i=e.includeDates,l=Tr(t,1);return n&&Em(l,n)>0||i&&i.every(function(c){return Em(l,c)>0})||!1}function kk(t,a){var e=a===void 0?{}:a,n=e.minDate,i=e.includeDates,l=Ep(t),c=CE(l);return n&&wm(n,c)>0||i&&i.every(function(u){return wm(u,c)>0})||!1}function Nk(t,a){var e=a===void 0?{}:a,n=e.maxDate,i=e.includeDates,l=fE(t),c=S0(l,1);return n&&wm(c,n)>0||i&&i.every(function(u){return wm(c,u)>0})||!1}function dv(t,a){var e=a===void 0?{}:a,n=e.minDate,i=e.includeDates,l=vl(t,1);return n&&Sm(n,l)>0||i&&i.every(function(c){return Sm(c,l)>0})||!1}function Ak(t,a){var e=a===void 0?{}:a,n=e.minDate,i=e.yearItemNumber,l=i===void 0?Sd:i,c=$c(vl(t,l)),u=Di(c,l).endPeriod,m=n&&Et(n);return m&&m>u||!1}function uv(t,a){var e=a===void 0?{}:a,n=e.maxDate,i=e.includeDates,l=Os(t,1);return n&&Sm(l,n)>0||i&&i.every(function(c){return Sm(l,c)>0})||!1}function Dk(t,a){var e=a===void 0?{}:a,n=e.maxDate,i=e.yearItemNumber,l=i===void 0?Sd:i,c=Os(t,l),u=Di(c,l).startPeriod,m=n&&Et(n);return m&&m<u||!1}function FE(t){var a=t.minDate,e=t.includeDates;if(e&&a){var n=e.filter(function(i){return bl(i,a)>=0});return z2(n)}else return e?z2(e):a}function WE(t){var a=t.maxDate,e=t.includeDates;if(e&&a){var n=e.filter(function(i){return bl(i,a)<=0});return O2(n)}else return e?O2(e):a}function mv(t,a){var e;t===void 0&&(t=[]),a===void 0&&(a="react-datepicker__day--highlighted");for(var n=new Map,i=0,l=t.length;i<l;i++){var c=t[i];if(zs(c)){var u=un(c,"MM.dd.yyyy"),m=n.get(u)||[];m.includes(a)||(m.push(a),n.set(u,m))}else if(typeof c=="object"){var h=Object.keys(c),f=(e=h[0])!==null&&e!==void 0?e:"",y=c[f];if(typeof f=="string"&&Array.isArray(y))for(var b=0,w=y.length;b<w;b++){var E=y[b];if(E){var u=un(E,"MM.dd.yyyy"),m=n.get(u)||[];m.includes(f)||(m.push(f),n.set(u,m))}}}}return n}function Mk(t,a){return t.length!==a.length?!1:t.every(function(e,n){return e===a[n]})}function Tk(t,a){t===void 0&&(t=[]),a===void 0&&(a="react-datepicker__day--holidays");var e=new Map;return t.forEach(function(n){var i=n.date,l=n.holidayName;if(zs(i)){var c=un(i,"MM.dd.yyyy"),u=e.get(c)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===a&&Mk(u.holidayNames,[l]))){u.className=a;var m=u.holidayNames;u.holidayNames=m?Kr(Kr([],m,!0),[l],!1):[l],e.set(c,u)}}}),e}function Rk(t,a,e,n,i){for(var l=i.length,c=[],u=0;u<l;u++){var m=t,h=i[u];h&&(m=W3(m,Us(h)),m=Lg(m,Fs(h)),m=Y3(m,Mi(h)));var f=Lg(t,(e+1)*n);qs(m,a)&&bo(m,f)&&h!=null&&c.push(h)}return c}function pv(t){return t<10?"0".concat(t):"".concat(t)}function Di(t,a){a===void 0&&(a=Sd);var e=Math.ceil(Et(t)/a)*a,n=e-(a-1);return{startPeriod:n,endPeriod:e}}function Pk(t){var a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),e=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+e-+a)/36e5)}function fv(t){var a=t.getSeconds(),e=t.getMilliseconds();return je(t.getTime()-a*1e3-e)}function Lk(t,a){return fv(t).getTime()===fv(a).getTime()}function hv(t){if(!zs(t))throw new Error("Invalid date");var a=new Date(t);return a.setHours(0,0,0,0),a}function gv(t,a){if(!zs(t)||!zs(a))throw new Error("Invalid date received");var e=hv(t),n=hv(a);return bo(e,n)}function HE(t){return t.key===Re.Space}var Bk=function(t){na(a,t);function a(e){var n=t.call(this,e)||this;return n.inputRef=r.createRef(),n.onTimeChange=function(i){var l,c;n.setState({time:i});var u=n.props.date,m=u instanceof Date&&!isNaN(+u),h=m?u:new Date;if(i!=null&&i.includes(":")){var f=i.split(":"),y=f[0],b=f[1];h.setHours(Number(y)),h.setMinutes(Number(b))}(c=(l=n.props).onChange)===null||c===void 0||c.call(l,h)},n.renderTimeInput=function(){var i=n.state.time,l=n.props,c=l.date,u=l.timeString,m=l.customTimeInput;return m?v.cloneElement(m,{date:c,value:i,onChange:n.onTimeChange}):r.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var h;(h=n.inputRef.current)===null||h===void 0||h.focus()},required:!0,value:i,onChange:function(h){n.onTimeChange(h.target.value||u)}})},n.state={time:n.props.timeString},n}return a.getDerivedStateFromProps=function(e,n){return e.timeString!==n.time?{time:e.timeString}:null},a.prototype.render=function(){return r.createElement("div",{className:"react-datepicker__input-time-container"},r.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),r.createElement("div",{className:"react-datepicker-time__input-container"},r.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},a}(v.Component),Ok=function(t){na(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.dayEl=v.createRef(),e.handleClick=function(n){!e.isDisabled()&&e.props.onClick&&e.props.onClick(n)},e.handleMouseEnter=function(n){!e.isDisabled()&&e.props.onMouseEnter&&e.props.onMouseEnter(n)},e.handleOnKeyDown=function(n){var i,l,c=n.key;c===Re.Space&&(n.preventDefault(),n.key=Re.Enter),(l=(i=e.props).handleOnKeyDown)===null||l===void 0||l.call(i,n)},e.isSameDay=function(n){return Dt(e.props.day,n)},e.isKeyboardSelected=function(){var n;if(e.props.disabledKeyboardNavigation)return!1;var i=e.props.selectsMultiple?(n=e.props.selectedDates)===null||n===void 0?void 0:n.some(function(c){return e.isSameDayOrWeek(c)}):e.isSameDayOrWeek(e.props.selected),l=e.props.preSelection&&e.isDisabled(e.props.preSelection);return!i&&e.isSameDayOrWeek(e.props.preSelection)&&!l},e.isDisabled=function(n){return n===void 0&&(n=e.props.day),hr(n,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.isExcluded=function(){return B0(e.props.day,{excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals})},e.isStartOfWeek=function(){return Dt(e.props.day,Ti(e.props.day,e.props.locale,e.props.calendarStartDay))},e.isSameWeek=function(n){return e.props.showWeekPicker&&Dt(n,Ti(e.props.day,e.props.locale,e.props.calendarStartDay))},e.isSameDayOrWeek=function(n){return e.isSameDay(n)||e.isSameWeek(n)},e.getHighLightedClass=function(){var n=e.props,i=n.day,l=n.highlightDates;if(!l)return!1;var c=un(i,"MM.dd.yyyy");return l.get(c)},e.getHolidaysClass=function(){var n,i=e.props,l=i.day,c=i.holidays;if(!c)return[void 0];var u=un(l,"MM.dd.yyyy");return c.has(u)?[(n=c.get(u))===null||n===void 0?void 0:n.className]:[void 0]},e.isInRange=function(){var n=e.props,i=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:Gc(i,l,c)},e.isInSelectingRange=function(){var n,i=e.props,l=i.day,c=i.selectsStart,u=i.selectsEnd,m=i.selectsRange,h=i.selectsDisabledDaysInRange,f=i.startDate,y=i.endDate,b=(n=e.props.selectingDate)!==null&&n!==void 0?n:e.props.preSelection;return!(c||u||m)||!b||!h&&e.isDisabled()?!1:c&&y&&(bo(b,y)||co(b,y))?Gc(l,b,y):u&&f&&(qs(b,f)||co(b,f))||m&&f&&!y&&(qs(b,f)||co(b,f))?Gc(l,f,b):!1},e.isSelectingRangeStart=function(){var n;if(!e.isInSelectingRange())return!1;var i=e.props,l=i.day,c=i.startDate,u=i.selectsStart,m=(n=e.props.selectingDate)!==null&&n!==void 0?n:e.props.preSelection;return u?Dt(l,m):Dt(l,c)},e.isSelectingRangeEnd=function(){var n;if(!e.isInSelectingRange())return!1;var i=e.props,l=i.day,c=i.endDate,u=i.selectsEnd,m=i.selectsRange,h=(n=e.props.selectingDate)!==null&&n!==void 0?n:e.props.preSelection;return u||m?Dt(l,h):Dt(l,c)},e.isRangeStart=function(){var n=e.props,i=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:Dt(l,i)},e.isRangeEnd=function(){var n=e.props,i=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:Dt(c,i)},e.isWeekend=function(){var n=j_(e.props.day);return n===0||n===6},e.isAfterMonth=function(){return e.props.month!==void 0&&(e.props.month+1)%12===ga(e.props.day)},e.isBeforeMonth=function(){return e.props.month!==void 0&&(ga(e.props.day)+1)%12===e.props.month},e.isCurrentDay=function(){return e.isSameDay(zt())},e.isSelected=function(){var n;return e.props.selectsMultiple?(n=e.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return e.isSameDayOrWeek(i)}):e.isSameDayOrWeek(e.props.selected)},e.getClassNames=function(n){var i=e.props.dayClassName?e.props.dayClassName(n):void 0;return la("react-datepicker__day",i,"react-datepicker__day--"+vk(e.props.day),{"react-datepicker__day--disabled":e.isDisabled(),"react-datepicker__day--excluded":e.isExcluded(),"react-datepicker__day--selected":e.isSelected(),"react-datepicker__day--keyboard-selected":e.isKeyboardSelected(),"react-datepicker__day--range-start":e.isRangeStart(),"react-datepicker__day--range-end":e.isRangeEnd(),"react-datepicker__day--in-range":e.isInRange(),"react-datepicker__day--in-selecting-range":e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":e.isSelectingRangeEnd(),"react-datepicker__day--today":e.isCurrentDay(),"react-datepicker__day--weekend":e.isWeekend(),"react-datepicker__day--outside-month":e.isAfterMonth()||e.isBeforeMonth()},e.getHighLightedClass(),e.getHolidaysClass())},e.getAriaLabel=function(){var n=e.props,i=n.day,l=n.ariaLabelPrefixWhenEnabled,c=l===void 0?"Choose":l,u=n.ariaLabelPrefixWhenDisabled,m=u===void 0?"Not available":u,h=e.isDisabled()||e.isExcluded()?m:c;return"".concat(h," ").concat(un(i,"PPPP",e.props.locale))},e.getTitle=function(){var n=e.props,i=n.day,l=n.holidays,c=l===void 0?new Map:l,u=n.excludeDates,m=un(i,"MM.dd.yyyy"),h=[];return c.has(m)&&h.push.apply(h,c.get(m).holidayNames),e.isExcluded()&&h.push(u==null?void 0:u.filter(function(f){return f instanceof Date?Dt(f,i):Dt(f==null?void 0:f.date,i)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),h.join(", ")},e.getTabIndex=function(){var n=e.props.selected,i=e.props.preSelection,l=!(e.props.showWeekPicker&&(e.props.showWeekNumber||!e.isStartOfWeek()))&&(e.isKeyboardSelected()||e.isSameDay(n)&&Dt(i,n))?0:-1;return l},e.handleFocusDay=function(){var n;e.shouldFocusDay()&&((n=e.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},e.renderDayContents=function(){return e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()||e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()?null:e.props.renderDayContents?e.props.renderDayContents(Y2(e.props.day),e.props.day):Y2(e.props.day)},e.render=function(){return r.createElement("div",{ref:e.dayEl,className:e.getClassNames(e.props.day),onKeyDown:e.handleOnKeyDown,onClick:e.handleClick,onMouseEnter:e.props.usePointerEvent?void 0:e.handleMouseEnter,onPointerEnter:e.props.usePointerEvent?e.handleMouseEnter:void 0,tabIndex:e.getTabIndex(),"aria-label":e.getAriaLabel(),role:"option",title:e.getTitle(),"aria-disabled":e.isDisabled(),"aria-current":e.isCurrentDay()?"date":void 0,"aria-selected":e.isSelected()||e.isInRange()},e.renderDayContents(),e.getTitle()!==""&&r.createElement("span",{className:"overlay"},e.getTitle()))},e}return a.prototype.componentDidMount=function(){this.handleFocusDay()},a.prototype.componentDidUpdate=function(){this.handleFocusDay()},a.prototype.shouldFocusDay=function(){var e=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},a.prototype.isDayActiveElement=function(){var e,n,i;return((n=(e=this.props.containerRef)===null||e===void 0?void 0:e.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},a.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},a}(v.Component),zk=function(t){na(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.weekNumberEl=v.createRef(),e.handleClick=function(n){e.props.onClick&&e.props.onClick(n)},e.handleOnKeyDown=function(n){var i,l,c=n.key;c===Re.Space&&(n.preventDefault(),n.key=Re.Enter),(l=(i=e.props).handleOnKeyDown)===null||l===void 0||l.call(i,n)},e.isKeyboardSelected=function(){return!e.props.disabledKeyboardNavigation&&!Dt(e.props.date,e.props.selected)&&Dt(e.props.date,e.props.preSelection)},e.getTabIndex=function(){return e.props.showWeekPicker&&e.props.showWeekNumber&&(e.isKeyboardSelected()||Dt(e.props.date,e.props.selected)&&Dt(e.props.preSelection,e.props.selected))?0:-1},e.handleFocusWeekNumber=function(n){var i=!1;e.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Dt(e.props.date,e.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(i=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&e.weekNumberEl.current&&e.weekNumberEl.current.focus({preventScroll:!0})},e}return Object.defineProperty(a,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),a.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},a.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},a.prototype.render=function(){var e=this.props,n=e.weekNumber,i=e.isWeekDisabled,l=e.ariaLabelPrefix,c=l===void 0?a.defaultProps.ariaLabelPrefix:l,u=e.onClick,m={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!i,"react-datepicker__week-number--selected":!!u&&Dt(this.props.date,this.props.selected)};return r.createElement("div",{ref:this.weekNumberEl,className:la(m),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},a}(v.Component),Uk=function(t){na(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.isDisabled=function(n){return hr(n,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.handleDayClick=function(n,i){e.props.onDayClick&&e.props.onDayClick(n,i)},e.handleDayMouseEnter=function(n){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(n)},e.handleWeekClick=function(n,i,l){for(var c,u,m,h=new Date(n),f=0;f<7;f++){var y=new Date(n);y.setDate(y.getDate()+f);var b=!e.isDisabled(y);if(b){h=y;break}}typeof e.props.onWeekSelect=="function"&&e.props.onWeekSelect(h,i,l),e.props.showWeekPicker&&e.handleDayClick(h,l),((c=e.props.shouldCloseOnSelect)!==null&&c!==void 0?c:a.defaultProps.shouldCloseOnSelect)&&((m=(u=e.props).setOpen)===null||m===void 0||m.call(u,!1))},e.formatWeekNumber=function(n){return e.props.formatWeekNumber?e.props.formatWeekNumber(n):bk(n)},e.isWeekDisabled=function(){for(var n=e.startOfWeek(),i=Mr(n,6),l=new Date(n);l<=i;){if(!e.isDisabled(l))return!1;l=Mr(l,1)}return!0},e.renderDays=function(){var n=e.startOfWeek(),i=[],l=e.formatWeekNumber(n);if(e.props.showWeekNumber){var c=e.props.onWeekSelect||e.props.showWeekPicker?e.handleWeekClick.bind(e,n,l):void 0;i.push(r.createElement(zk,Mt({key:"W"},a.defaultProps,e.props,{weekNumber:l,isWeekDisabled:e.isWeekDisabled(),date:n,onClick:c})))}return i.concat([0,1,2,3,4,5,6].map(function(u){var m=Mr(n,u);return r.createElement(Ok,Mt({},a.defaultProps,e.props,{ariaLabelPrefixWhenEnabled:e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:e.props.disabledDayAriaLabelPrefix,key:m.valueOf(),day:m,onClick:e.handleDayClick.bind(e,m),onMouseEnter:e.handleDayMouseEnter.bind(e,m)}))}))},e.startOfWeek=function(){return Ti(e.props.day,e.props.locale,e.props.calendarStartDay)},e.isKeyboardSelected=function(){return!e.props.disabledKeyboardNavigation&&!Dt(e.startOfWeek(),e.props.selected)&&Dt(e.startOfWeek(),e.props.preSelection)},e}return Object.defineProperty(a,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),a.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":Dt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return r.createElement("div",{className:la(e)},this.renderDays())},a}(v.Component),Bc,Fk=6,fl={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Jh=(Bc={},Bc[fl.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Bc[fl.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Bc[fl.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Bc),ju=1;function yv(t,a){return t?fl.FOUR_COLUMNS:a?fl.TWO_COLUMNS:fl.THREE_COLUMNS}var Wk=function(t){na(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.MONTH_REFS=Kr([],Array(12),!0).map(function(){return v.createRef()}),e.QUARTER_REFS=Kr([],Array(4),!0).map(function(){return v.createRef()}),e.isDisabled=function(n){return hr(n,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.isExcluded=function(n){return B0(n,{excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals})},e.handleDayClick=function(n,i){var l,c;(c=(l=e.props).onDayClick)===null||c===void 0||c.call(l,n,i,e.props.orderInDisplay)},e.handleDayMouseEnter=function(n){var i,l;(l=(i=e.props).onDayMouseEnter)===null||l===void 0||l.call(i,n)},e.handleMouseLeave=function(){var n,i;(i=(n=e.props).onMouseLeave)===null||i===void 0||i.call(n)},e.isRangeStartMonth=function(n){var i=e.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:Sa(pr(l,n),c)},e.isRangeStartQuarter=function(n){var i=e.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:Dm(ll(l,n),c)},e.isRangeEndMonth=function(n){var i=e.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:Sa(pr(l,n),u)},e.isRangeEndQuarter=function(n){var i=e.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:Dm(ll(l,n),u)},e.isInSelectingRangeMonth=function(n){var i,l=e.props,c=l.day,u=l.selectsStart,m=l.selectsEnd,h=l.selectsRange,f=l.startDate,y=l.endDate,b=(i=e.props.selectingDate)!==null&&i!==void 0?i:e.props.preSelection;return!(u||m||h)||!b?!1:u&&y?Uu(b,y,n,c):m&&f||h&&f&&!y?Uu(f,b,n,c):!1},e.isSelectingMonthRangeStart=function(n){var i;if(!e.isInSelectingRangeMonth(n))return!1;var l=e.props,c=l.day,u=l.startDate,m=l.selectsStart,h=pr(c,n),f=(i=e.props.selectingDate)!==null&&i!==void 0?i:e.props.preSelection;return m?Sa(h,f):Sa(h,u)},e.isSelectingMonthRangeEnd=function(n){var i;if(!e.isInSelectingRangeMonth(n))return!1;var l=e.props,c=l.day,u=l.endDate,m=l.selectsEnd,h=l.selectsRange,f=pr(c,n),y=(i=e.props.selectingDate)!==null&&i!==void 0?i:e.props.preSelection;return m||h?Sa(f,y):Sa(f,u)},e.isInSelectingRangeQuarter=function(n){var i,l=e.props,c=l.day,u=l.selectsStart,m=l.selectsEnd,h=l.selectsRange,f=l.startDate,y=l.endDate,b=(i=e.props.selectingDate)!==null&&i!==void 0?i:e.props.preSelection;return!(u||m||h)||!b?!1:u&&y?Hu(b,y,n,c):m&&f||h&&f&&!y?Hu(f,b,n,c):!1},e.isWeekInMonth=function(n){var i=e.props.day,l=Mr(n,6);return Sa(n,i)||Sa(l,i)},e.isCurrentMonth=function(n,i){return Et(n)===Et(zt())&&i===ga(zt())},e.isCurrentQuarter=function(n,i){return Et(n)===Et(zt())&&i===po(zt())},e.isSelectedMonth=function(n,i,l){return ga(l)===i&&Et(n)===Et(l)},e.isSelectMonthInList=function(n,i,l){return l.some(function(c){return e.isSelectedMonth(n,i,c)})},e.isSelectedQuarter=function(n,i,l){return po(n)===i&&Et(n)===Et(l)},e.isMonthSelected=function(){var n=e.props,i=n.day,l=n.selected,c=n.selectedDates,u=n.selectsMultiple,m=ga(i);return u?c==null?void 0:c.some(function(h){return e.isSelectedMonth(i,m,h)}):!!l&&e.isSelectedMonth(i,m,l)},e.renderWeeks=function(){for(var n=[],i=e.props.fixedHeight,l=0,c=!1,u=Ti(Ws(e.props.day),e.props.locale,e.props.calendarStartDay),m=function(E){return e.props.showWeekPicker?Ti(E,e.props.locale,e.props.calendarStartDay):e.props.preSelection},h=function(E){return e.props.showWeekPicker?Ti(E,e.props.locale,e.props.calendarStartDay):e.props.selected},f=e.props.selected?h(e.props.selected):void 0,y=e.props.preSelection?m(e.props.preSelection):void 0;n.push(r.createElement(Uk,Mt({},e.props,{ariaLabelPrefix:e.props.weekAriaLabelPrefix,key:l,day:u,month:ga(e.props.day),onDayClick:e.handleDayClick,onDayMouseEnter:e.handleDayMouseEnter,selected:f,preSelection:y,showWeekNumber:e.props.showWeekNumbers}))),!c;){l++,u=vm(u,1);var b=i&&l>=Fk,w=!i&&!e.isWeekInMonth(u);if(b||w)if(e.props.peekNextMonth)c=!0;else break}return n},e.onMonthClick=function(n,i){var l=e.isMonthDisabledForLabelDate(i),c=l.isDisabled,u=l.labelDate;c||e.handleDayClick(Ws(u),n)},e.onMonthMouseEnter=function(n){var i=e.isMonthDisabledForLabelDate(n),l=i.isDisabled,c=i.labelDate;l||e.handleDayMouseEnter(Ws(c))},e.handleMonthNavigation=function(n,i){var l,c,u,m;(c=(l=e.props).setPreSelection)===null||c===void 0||c.call(l,i),(m=(u=e.MONTH_REFS[n])===null||u===void 0?void 0:u.current)===null||m===void 0||m.focus()},e.handleKeyboardNavigation=function(n,i,l){var c,u=e.props,m=u.selected,h=u.preSelection,f=u.setPreSelection,y=u.minDate,b=u.maxDate,w=u.showFourColumnMonthYearPicker,E=u.showTwoColumnMonthYearPicker;if(h){var _=yv(w,E),S=e.getVerticalOffset(_),C=(c=Jh[_])===null||c===void 0?void 0:c.grid,I=function(q,z,G){var K,ie,H=z,Z=G;switch(q){case Re.ArrowRight:H=Tr(z,ju),Z=G===11?0:G+ju;break;case Re.ArrowLeft:H=fo(z,ju),Z=G===0?11:G-ju;break;case Re.ArrowUp:H=fo(z,S),Z=!((K=C==null?void 0:C[0])===null||K===void 0)&&K.includes(G)?G+12-S:G-S;break;case Re.ArrowDown:H=Tr(z,S),Z=!((ie=C==null?void 0:C[C.length-1])===null||ie===void 0)&&ie.includes(G)?G-12+S:G+S;break}return{newCalculatedDate:H,newCalculatedMonth:Z}},N=function(q,z,G){for(var K=40,ie=q,H=!1,Z=0,O=I(ie,z,G),R=O.newCalculatedDate,A=O.newCalculatedMonth;!H;){if(Z>=K){R=z,A=G;break}if(y&&R<y){ie=Re.ArrowRight;var F=I(ie,R,A);R=F.newCalculatedDate,A=F.newCalculatedMonth}if(b&&R>b){ie=Re.ArrowLeft;var F=I(ie,R,A);R=F.newCalculatedDate,A=F.newCalculatedMonth}if(Ik(R,e.props)){var F=I(ie,R,A);R=F.newCalculatedDate,A=F.newCalculatedMonth}else H=!0;Z++}return{newCalculatedDate:R,newCalculatedMonth:A}};if(i===Re.Enter){e.isMonthDisabled(l)||(e.onMonthClick(n,l),f==null||f(m));return}var k=N(i,h,l),M=k.newCalculatedDate,T=k.newCalculatedMonth;switch(i){case Re.ArrowRight:case Re.ArrowLeft:case Re.ArrowUp:case Re.ArrowDown:e.handleMonthNavigation(T,M);break}}},e.getVerticalOffset=function(n){var i,l;return(l=(i=Jh[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&l!==void 0?l:0},e.onMonthKeyDown=function(n,i){var l=e.props,c=l.disabledKeyboardNavigation,u=l.handleOnMonthKeyDown,m=n.key;m!==Re.Tab&&n.preventDefault(),c||e.handleKeyboardNavigation(n,m,i),u&&u(n)},e.onQuarterClick=function(n,i){var l=ll(e.props.day,i);Fu(l,e.props)||e.handleDayClick(nv(l),n)},e.onQuarterMouseEnter=function(n){var i=ll(e.props.day,n);Fu(i,e.props)||e.handleDayMouseEnter(nv(i))},e.handleQuarterNavigation=function(n,i){var l,c,u,m;e.isDisabled(i)||e.isExcluded(i)||((c=(l=e.props).setPreSelection)===null||c===void 0||c.call(l,i),(m=(u=e.QUARTER_REFS[n-1])===null||u===void 0?void 0:u.current)===null||m===void 0||m.focus())},e.onQuarterKeyDown=function(n,i){var l,c,u=n.key;if(!e.props.disabledKeyboardNavigation)switch(u){case Re.Enter:e.onQuarterClick(n,i),(c=(l=e.props).setPreSelection)===null||c===void 0||c.call(l,e.props.selected);break;case Re.ArrowRight:if(!e.props.preSelection)break;e.handleQuarterNavigation(i===4?1:i+1,S0(e.props.preSelection,1));break;case Re.ArrowLeft:if(!e.props.preSelection)break;e.handleQuarterNavigation(i===1?4:i-1,CE(e.props.preSelection));break}},e.isMonthDisabledForLabelDate=function(n){var i,l=e.props,c=l.day,u=l.minDate,m=l.maxDate,h=l.excludeDates,f=l.includeDates,y=pr(c,n);return{isDisabled:(i=(u||m||h||f)&&UE(y,e.props))!==null&&i!==void 0?i:!1,labelDate:y}},e.isMonthDisabled=function(n){var i=e.isMonthDisabledForLabelDate(n).isDisabled;return i},e.getMonthClassNames=function(n){var i=e.props,l=i.day,c=i.startDate,u=i.endDate,m=i.preSelection,h=i.monthClassName,f=h?h(pr(l,n)):void 0,y=e.getSelection();return la("react-datepicker__month-text","react-datepicker__month-".concat(n),f,{"react-datepicker__month-text--disabled":e.isMonthDisabled(n),"react-datepicker__month-text--selected":y?e.isSelectMonthInList(l,n,y):void 0,"react-datepicker__month-text--keyboard-selected":!e.props.disabledKeyboardNavigation&&m&&e.isSelectedMonth(l,n,m)&&!e.isMonthSelected()&&!e.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":e.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":c&&u?Uu(c,u,n,l):void 0,"react-datepicker__month-text--range-start":e.isRangeStartMonth(n),"react-datepicker__month-text--range-end":e.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":e.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":e.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":e.isCurrentMonth(l,n)})},e.getTabIndex=function(n){if(e.props.preSelection==null)return"-1";var i=ga(e.props.preSelection),l=e.isMonthDisabledForLabelDate(i).isDisabled,c=n===i&&!(l||e.props.disabledKeyboardNavigation)?"0":"-1";return c},e.getQuarterTabIndex=function(n){if(e.props.preSelection==null)return"-1";var i=po(e.props.preSelection),l=Fu(e.props.day,e.props),c=n===i&&!(l||e.props.disabledKeyboardNavigation)?"0":"-1";return c},e.getAriaLabel=function(n){var i=e.props,l=i.chooseDayAriaLabelPrefix,c=l===void 0?"Choose":l,u=i.disabledDayAriaLabelPrefix,m=u===void 0?"Not available":u,h=i.day,f=i.locale,y=pr(h,n),b=e.isDisabled(y)||e.isExcluded(y)?m:c;return"".concat(b," ").concat(un(y,"MMMM yyyy",f))},e.getQuarterClassNames=function(n){var i=e.props,l=i.day,c=i.startDate,u=i.endDate,m=i.selected,h=i.minDate,f=i.maxDate,y=i.excludeDates,b=i.includeDates,w=i.filterDate,E=i.preSelection,_=i.disabledKeyboardNavigation,S=(h||f||y||b||w)&&Fu(ll(l,n),e.props);return la("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":S,"react-datepicker__quarter-text--selected":m?e.isSelectedQuarter(l,n,m):void 0,"react-datepicker__quarter-text--keyboard-selected":!_&&E&&e.isSelectedQuarter(l,n,E)&&!S,"react-datepicker__quarter-text--in-selecting-range":e.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":c&&u?Hu(c,u,n,l):void 0,"react-datepicker__quarter-text--range-start":e.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":e.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":e.isCurrentQuarter(l,n)})},e.getMonthContent=function(n){var i=e.props,l=i.showFullMonthYearPicker,c=i.renderMonthContent,u=i.locale,m=i.day,h=zE(n,u),f=L0(n,u);return c?c(n,h,f,m):l?f:h},e.getQuarterContent=function(n){var i,l=e.props,c=l.renderQuarterContent,u=l.locale,m=_k(n,u);return(i=c==null?void 0:c(n,m))!==null&&i!==void 0?i:m},e.renderMonths=function(){var n,i=e.props,l=i.showTwoColumnMonthYearPicker,c=i.showFourColumnMonthYearPicker,u=i.day,m=i.selected,h=(n=Jh[yv(c,l)])===null||n===void 0?void 0:n.grid;return h==null?void 0:h.map(function(f,y){return r.createElement("div",{className:"react-datepicker__month-wrapper",key:y},f.map(function(b,w){return r.createElement("div",{ref:e.MONTH_REFS[b],key:w,onClick:function(E){e.onMonthClick(E,b)},onKeyDown:function(E){HE(E)&&(E.preventDefault(),E.key=Re.Enter),e.onMonthKeyDown(E,b)},onMouseEnter:e.props.usePointerEvent?void 0:function(){return e.onMonthMouseEnter(b)},onPointerEnter:e.props.usePointerEvent?function(){return e.onMonthMouseEnter(b)}:void 0,tabIndex:Number(e.getTabIndex(b)),className:e.getMonthClassNames(b),"aria-disabled":e.isMonthDisabled(b),role:"option","aria-label":e.getAriaLabel(b),"aria-current":e.isCurrentMonth(u,b)?"date":void 0,"aria-selected":m?e.isSelectedMonth(u,b,m):void 0},e.getMonthContent(b))}))})},e.renderQuarters=function(){var n=e.props,i=n.day,l=n.selected,c=[1,2,3,4];return r.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(u,m){return r.createElement("div",{key:m,ref:e.QUARTER_REFS[m],role:"option",onClick:function(h){e.onQuarterClick(h,u)},onKeyDown:function(h){e.onQuarterKeyDown(h,u)},onMouseEnter:e.props.usePointerEvent?void 0:function(){return e.onQuarterMouseEnter(u)},onPointerEnter:e.props.usePointerEvent?function(){return e.onQuarterMouseEnter(u)}:void 0,className:e.getQuarterClassNames(u),"aria-selected":l?e.isSelectedQuarter(i,u,l):void 0,tabIndex:Number(e.getQuarterTabIndex(u)),"aria-current":e.isCurrentQuarter(i,u)?"date":void 0},e.getQuarterContent(u))}))},e.getClassNames=function(){var n=e.props,i=n.selectingDate,l=n.selectsStart,c=n.selectsEnd,u=n.showMonthYearPicker,m=n.showQuarterYearPicker,h=n.showWeekPicker;return la("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(l||c)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":m},{"react-datepicker__weekPicker":h})},e}return a.prototype.getSelection=function(){var e=this.props,n=e.selected,i=e.selectedDates,l=e.selectsMultiple;if(l)return i;if(n)return[n]},a.prototype.render=function(){var e=this.props,n=e.showMonthYearPicker,i=e.showQuarterYearPicker,l=e.day,c=e.ariaLabelPrefix,u=c===void 0?"Month ":c,m=u?u.trim()+" ":"";return r.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(m).concat(un(l,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},a}(v.Component),Hk=function(t){na(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.isSelectedMonth=function(n){return e.props.month===n},e.renderOptions=function(){return e.props.monthNames.map(function(n,i){return r.createElement("div",{className:e.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:e.onChange.bind(e,i),"aria-selected":e.isSelectedMonth(i)?"true":void 0},e.isSelectedMonth(i)?r.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},e.onChange=function(n){return e.props.onChange(n)},e.handleClickOutside=function(){return e.props.onCancel()},e}return a.prototype.render=function(){return r.createElement(Ip,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},a}(v.Component),jk=function(t){na(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(n){return n.map(function(i,l){return r.createElement("option",{key:i,value:l},i)})},e.renderSelectMode=function(n){return r.createElement("select",{value:e.props.month,className:"react-datepicker__month-select",onChange:function(i){return e.onChange(parseInt(i.target.value))}},e.renderSelectOptions(n))},e.renderReadView=function(n,i){return r.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:e.toggleDropdown},r.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),r.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[e.props.month]))},e.renderDropdown=function(n){return r.createElement(Hk,Mt({key:"dropdown"},e.props,{monthNames:n,onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(n){var i=e.state.dropdownVisible,l=[e.renderReadView(!i,n)];return i&&l.unshift(e.renderDropdown(n)),l},e.onChange=function(n){e.toggleDropdown(),n!==e.props.month&&e.props.onChange(n)},e.toggleDropdown=function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})},e}return a.prototype.render=function(){var e=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(l){return zE(l,e.props.locale)}:function(l){return L0(l,e.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return r.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},a}(v.Component);function Yk(t,a){for(var e=[],n=Ws(t),i=Ws(a);!qs(n,i);)e.push(zt(n)),n=Tr(n,1);return e}var qk=function(t){na(a,t);function a(e){var n=t.call(this,e)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var l=zg(i),c=Qr(n.props.date,i)&&Sa(n.props.date,i);return r.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:l,onClick:n.onChange.bind(n,l),"aria-selected":c?"true":void 0},c?r.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",un(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Yk(n.props.minDate,n.props.maxDate)},n}return a.prototype.render=function(){var e=la({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return r.createElement(Ip,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},a}(v.Component),$k=function(t){na(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(){for(var n=Ws(e.props.minDate),i=Ws(e.props.maxDate),l=[];!qs(n,i);){var c=zg(n);l.push(r.createElement("option",{key:c,value:c},un(n,e.props.dateFormat,e.props.locale))),n=Tr(n,1)}return l},e.onSelectChange=function(n){e.onChange(parseInt(n.target.value))},e.renderSelectMode=function(){return r.createElement("select",{value:zg(Ws(e.props.date)),className:"react-datepicker__month-year-select",onChange:e.onSelectChange},e.renderSelectOptions())},e.renderReadView=function(n){var i=un(e.props.date,e.props.dateFormat,e.props.locale);return r.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:e.toggleDropdown},r.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),r.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},e.renderDropdown=function(){return r.createElement(qk,Mt({key:"dropdown"},e.props,{onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(){var n=e.state.dropdownVisible,i=[e.renderReadView(!n)];return n&&i.unshift(e.renderDropdown()),i},e.onChange=function(n){e.toggleDropdown();var i=zt(n);Qr(e.props.date,i)&&Sa(e.props.date,i)||e.props.onChange(i)},e.toggleDropdown=function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})},e}return a.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode();break}return r.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},a}(v.Component),Gk=function(t){na(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.state={height:null},e.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,l;e.list&&(e.list.scrollTop=(l=e.centerLi&&a.calcCenterPosition(e.props.monthRef?e.props.monthRef.clientHeight-((i=(n=e.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):e.list.clientHeight,e.centerLi))!==null&&l!==void 0?l:0)})},e.handleClick=function(n){var i,l;(e.props.minTime||e.props.maxTime)&&ov(n,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&iv(n,e.props)||(l=(i=e.props).onChange)===null||l===void 0||l.call(i,n)},e.isSelectedTime=function(n){return e.props.selected&&Lk(e.props.selected,n)},e.isDisabledTime=function(n){return(e.props.minTime||e.props.maxTime)&&ov(n,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&iv(n,e.props)},e.liClasses=function(n){var i,l=["react-datepicker__time-list-item",e.props.timeClassName?e.props.timeClassName(n):void 0];return e.isSelectedTime(n)&&l.push("react-datepicker__time-list-item--selected"),e.isDisabledTime(n)&&l.push("react-datepicker__time-list-item--disabled"),e.props.injectTimes&&(Us(n)*3600+Fs(n)*60+Mi(n))%(((i=e.props.intervals)!==null&&i!==void 0?i:a.defaultProps.intervals)*60)!==0&&l.push("react-datepicker__time-list-item--injected"),l.join(" ")},e.handleOnKeyDown=function(n,i){var l,c;n.key===Re.Space&&(n.preventDefault(),n.key=Re.Enter),(n.key===Re.ArrowUp||n.key===Re.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Re.ArrowDown||n.key===Re.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Re.Enter&&e.handleClick(i),(c=(l=e.props).handleOnKeyDown)===null||c===void 0||c.call(l,n)},e.renderTimes=function(){for(var n,i=[],l=typeof e.props.format=="string"?e.props.format:"p",c=(n=e.props.intervals)!==null&&n!==void 0?n:a.defaultProps.intervals,u=e.props.selected||e.props.openToDate||zt(),m=om(u),h=e.props.injectTimes&&e.props.injectTimes.sort(function(S,C){return S.getTime()-C.getTime()}),f=60*Pk(u),y=f/c,b=0;b<y;b++){var w=Lg(m,b*c);if(i.push(w),h){var E=Rk(m,w,b,c,h);i=i.concat(E)}}var _=i.reduce(function(S,C){return C.getTime()<=u.getTime()?C:S},i[0]);return i.map(function(S){return r.createElement("li",{key:S.valueOf(),onClick:e.handleClick.bind(e,S),className:e.liClasses(S),ref:function(C){S===_&&(e.centerLi=C)},onKeyDown:function(C){e.handleOnKeyDown(C,S)},tabIndex:S===_?0:-1,role:"option","aria-selected":e.isSelectedTime(S)?"true":void 0,"aria-disabled":e.isDisabledTime(S)?"true":void 0},un(S,l,e.props.locale))})},e.renderTimeCaption=function(){return e.props.showTimeCaption===!1?r.createElement(r.Fragment,null):r.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(e.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){e.header=n}},r.createElement("div",{className:"react-datepicker-time__header"},e.props.timeCaption))},e}return Object.defineProperty(a,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),a.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},a.prototype.componentWillUnmount=function(){var e;(e=this.resizeObserver)===null||e===void 0||e.disconnect()},a.prototype.observeDatePickerHeightChanges=function(){var e=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){e.updateContainerHeight()}),this.resizeObserver.observe(n))},a.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},a.prototype.render=function(){var e=this,n,i=this.state.height;return r.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:a.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),r.createElement("div",{className:"react-datepicker__time"},r.createElement("div",{className:"react-datepicker__time-box"},r.createElement("ul",{className:"react-datepicker__time-list",ref:function(l){e.list=l},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},a.calcCenterPosition=function(e,n){return n.offsetTop-(e/2-n.clientHeight/2)},a}(v.Component),bv=3,Zk=function(t){na(a,t);function a(e){var n=t.call(this,e)||this;return n.YEAR_REFS=Kr([],Array(n.props.yearItemNumber),!0).map(function(){return v.createRef()}),n.isDisabled=function(i){return hr(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return B0(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var l=function(){var c,u;(u=(c=n.YEAR_REFS[i])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(l)},n.handleYearClick=function(i,l){n.props.onDayClick&&n.props.onDayClick(i,l)},n.handleYearNavigation=function(i,l){var c,u,m,h,f=n.props,y=f.date,b=f.yearItemNumber;if(!(y===void 0||b===void 0)){var w=Di(y,b).startPeriod;n.isDisabled(l)||n.isExcluded(l)||((u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,l),i-w<0?n.updateFocusOnPaginate(b-(w-i)):i-w>=b?n.updateFocusOnPaginate(Math.abs(b-(i-w))):(h=(m=n.YEAR_REFS[i-w])===null||m===void 0?void 0:m.current)===null||h===void 0||h.focus())}},n.isSameDay=function(i,l){return Dt(i,l)},n.isCurrentYear=function(i){return i===Et(zt())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&Qr(Vr(zt(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&Qr(Vr(zt(),i),n.props.endDate)},n.isInRange=function(i){return Wu(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var l=n.props,c=l.selectsStart,u=l.selectsEnd,m=l.selectsRange,h=l.startDate,f=l.endDate;return!(c||u||m)||!n.selectingDate()?!1:c&&f?Wu(i,n.selectingDate(),f):u&&h||m&&h&&!f?Wu(i,h,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var l;if(!n.isInSelectingRange(i))return!1;var c=n.props,u=c.startDate,m=c.selectsStart,h=Vr(zt(),i);return m?Qr(h,(l=n.selectingDate())!==null&&l!==void 0?l:null):Qr(h,u??null)},n.isSelectingRangeEnd=function(i){var l;if(!n.isInSelectingRange(i))return!1;var c=n.props,u=c.endDate,m=c.selectsEnd,h=c.selectsRange,f=Vr(zt(),i);return m||h?Qr(f,(l=n.selectingDate())!==null&&l!==void 0?l:null):Qr(f,u??null)},n.isKeyboardSelected=function(i){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var l=n.props,c=l.minDate,u=l.maxDate,m=l.excludeDates,h=l.includeDates,f=l.filterDate,y=$c(Vr(n.props.date,i)),b=(c||u||m||h||f)&&lm(i,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Dt(y,$c(n.props.selected))&&Dt(y,$c(n.props.preSelection))&&!b}},n.isSelectedYear=function(i){var l=n.props,c=l.selectsMultiple,u=l.selected,m=l.selectedDates;return c?m==null?void 0:m.some(function(h){return i===Et(h)}):!!u&&i===Et(u)},n.onYearClick=function(i,l){var c=n.props.date;c!==void 0&&n.handleYearClick($c(Vr(c,l)),i)},n.onYearKeyDown=function(i,l){var c,u,m=i.key,h=n.props,f=h.date,y=h.yearItemNumber,b=h.handleOnKeyDown;if(m!==Re.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(m){case Re.Enter:if(n.props.selected==null)break;n.onYearClick(i,l),(u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,n.props.selected);break;case Re.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(l+1,Os(n.props.preSelection,1));break;case Re.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(l-1,vl(n.props.preSelection,1));break;case Re.ArrowUp:{if(f===void 0||y===void 0||n.props.preSelection==null)break;var w=Di(f,y).startPeriod,E=bv,_=l-E;if(_<w){var S=y%E;l>=w&&l<w+S?E=S:E+=S,_=l-E}n.handleYearNavigation(_,vl(n.props.preSelection,E));break}case Re.ArrowDown:{if(f===void 0||y===void 0||n.props.preSelection==null)break;var C=Di(f,y).endPeriod,E=bv,_=l+E;if(_>C){var S=y%E;l<=C&&l>C-S?E=S:E+=S,_=l+E}n.handleYearNavigation(_,Os(n.props.preSelection,E));break}}b&&b(i)},n.getYearClassNames=function(i){var l=n.props,c=l.date,u=l.minDate,m=l.maxDate,h=l.excludeDates,f=l.includeDates,y=l.filterDate,b=l.yearClassName;return la("react-datepicker__year-text","react-datepicker__year-".concat(i),c?b==null?void 0:b(Vr(c,i)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(i),"react-datepicker__year-text--disabled":(u||m||h||f||y)&&lm(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var l=Et(n.props.preSelection),c=lm(i,n.props);return i===l&&!c?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return a.prototype.render=function(){var e=this,n=[],i=this.props,l=i.date,c=i.yearItemNumber,u=i.onYearMouseEnter,m=i.onYearMouseLeave;if(l===void 0)return null;for(var h=Di(l,c),f=h.startPeriod,y=h.endPeriod,b=function(_){n.push(r.createElement("div",{ref:w.YEAR_REFS[_-f],onClick:function(S){e.onYearClick(S,_)},onKeyDown:function(S){HE(S)&&(S.preventDefault(),S.key=Re.Enter),e.onYearKeyDown(S,_)},tabIndex:Number(w.getYearTabIndex(_)),className:w.getYearClassNames(_),onMouseEnter:w.props.usePointerEvent?void 0:function(S){return u(S,_)},onPointerEnter:w.props.usePointerEvent?function(S){return u(S,_)}:void 0,onMouseLeave:w.props.usePointerEvent?void 0:function(S){return m(S,_)},onPointerLeave:w.props.usePointerEvent?function(S){return m(S,_)}:void 0,key:_,"aria-current":w.isCurrentYear(_)?"date":void 0},w.getYearContent(_)))},w=this,E=f;E<=y;E++)b(E);return r.createElement("div",{className:"react-datepicker__year"},r.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},a}(v.Component);function Vk(t,a,e,n){for(var i=[],l=0;l<2*a+1;l++){var c=t+a-l,u=!0;e&&(u=Et(e)<=c),n&&u&&(u=Et(n)>=c),u&&i.push(c)}return i}var Qk=function(t){na(a,t);function a(e){var n=t.call(this,e)||this;n.renderOptions=function(){var u=n.props.year,m=n.state.yearsList.map(function(y){return r.createElement("div",{className:u===y?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:y,onClick:n.onChange.bind(n,y),"aria-selected":u===y?"true":void 0},u===y?r.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",y)}),h=n.props.minDate?Et(n.props.minDate):null,f=n.props.maxDate?Et(n.props.maxDate):null;return(!f||!n.state.yearsList.find(function(y){return y===f}))&&m.unshift(r.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},r.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!h||!n.state.yearsList.find(function(y){return y===h}))&&m.push(r.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},r.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),m},n.onChange=function(u){n.props.onChange(u)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(u){var m=n.state.yearsList.map(function(h){return h+u});n.setState({yearsList:m})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=e.yearDropdownItemNumber,l=e.scrollableYearDropdown,c=i||(l?10:5);return n.state={yearsList:Vk(n.props.year,c,n.props.minDate,n.props.maxDate)},n.dropdownRef=v.createRef(),n}return a.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var n=e.children?Array.from(e.children):null,i=n?n.find(function(l){return l.ariaSelected}):null;e.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},a.prototype.render=function(){var e=la({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return r.createElement(Ip,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},a}(v.Component),Xk=function(t){na(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(){for(var n=e.props.minDate?Et(e.props.minDate):1900,i=e.props.maxDate?Et(e.props.maxDate):2100,l=[],c=n;c<=i;c++)l.push(r.createElement("option",{key:c,value:c},c));return l},e.onSelectChange=function(n){e.onChange(parseInt(n.target.value))},e.renderSelectMode=function(){return r.createElement("select",{value:e.props.year,className:"react-datepicker__year-select",onChange:e.onSelectChange},e.renderSelectOptions())},e.renderReadView=function(n){return r.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return e.toggleDropdown(i)}},r.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),r.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},e.props.year))},e.renderDropdown=function(){return r.createElement(Qk,Mt({key:"dropdown"},e.props,{onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(){var n=e.state.dropdownVisible,i=[e.renderReadView(!n)];return n&&i.unshift(e.renderDropdown()),i},e.onChange=function(n){e.toggleDropdown(),n!==e.props.year&&e.props.onChange(n)},e.toggleDropdown=function(n){e.setState({dropdownVisible:!e.state.dropdownVisible},function(){e.props.adjustDateOnChange&&e.handleYearChange(e.props.date,n)})},e.handleYearChange=function(n,i){var l;(l=e.onSelect)===null||l===void 0||l.call(e,n,i),e.setOpen()},e.onSelect=function(n,i){var l,c;(c=(l=e.props).onSelect)===null||c===void 0||c.call(l,n,i)},e.setOpen=function(){var n,i;(i=(n=e.props).setOpen)===null||i===void 0||i.call(n,!0)},e}return a.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode();break}return r.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},a}(v.Component),Jk=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Kk=function(t){var a=(t.className||"").split(/\s+/);return Jk.some(function(e){return a.indexOf(e)>=0})},eN=function(t){na(a,t);function a(e){var n=t.call(this,e)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var l,c;Kk(i.target)&&((c=(l=n.props).onDropdownFocus)===null||c===void 0||c.call(l,i))},n.getDateInView=function(){var i=n.props,l=i.preSelection,c=i.selected,u=i.openToDate,m=FE(n.props),h=WE(n.props),f=zt(),y=u||c||l;return y||(m&&bo(f,m)?m:h&&qs(f,h)?h:f)},n.increaseMonth=function(){n.setState(function(i){var l=i.date;return{date:Tr(l,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var l=i.date;return{date:fo(l,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,l,c){n.props.onSelect(i,l,c),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,l){n.setState({selectingDate:Vr(zt(),l)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,l)},n.handleYearMouseLeave=function(i,l){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,l)},n.handleYearChange=function(i){var l,c,u,m;(c=(l=n.props).onYearChange)===null||c===void 0||c.call(l,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(m=(u=n.props).setOpen)===null||m===void 0||m.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!hr(i,n.props))return i;for(var l=Ws(i),c=Ek(i),u=dE(c,l),m=null,h=0;h<=u;h++){var f=Mr(l,h);if(!hr(f,n.props)){m=f;break}}return m},n.handleMonthChange=function(i){var l,c,u,m=(l=n.getEnabledPreSelectionDateForMonth(i))!==null&&l!==void 0?l:i;n.handleCustomMonthChange(m),n.props.adjustDateOnChange&&(n.props.onSelect(m),(u=(c=n.props).setOpen)===null||u===void 0||u.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(m)},n.handleCustomMonthChange=function(i){var l,c;(c=(l=n.props).onMonthChange)===null||c===void 0||c.call(l,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(l){var c=l.date;return{date:Vr(c,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(l){var c=l.date;return{date:pr(c,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(l){var c=l.date;return{date:Vr(pr(c,ga(i)),Et(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){i===void 0&&(i=n.state.date);var l=Ti(i,n.props.locale,n.props.calendarStartDay),c=[];return n.props.showWeekNumbers&&c.push(r.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),c.concat([0,1,2,3,4,5,6].map(function(u){var m=Mr(l,u),h=n.formatWeekday(m,n.props.locale),f=n.props.weekDayClassName?n.props.weekDayClassName(m):void 0;return r.createElement("div",{key:u,"aria-label":un(m,"EEEE",n.props.locale),className:la("react-datepicker__day-name",f)},h)}))},n.formatWeekday=function(i,l){return n.props.formatWeekDay?wk(i,n.props.formatWeekDay,l):n.props.useWeekdaysShort?Ck(i,l):Sk(i,l)},n.decreaseYear=function(){n.setState(function(i){var l,c=i.date;return{date:vl(c,n.props.showYearPicker?(l=n.props.yearItemNumber)!==null&&l!==void 0?l:a.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,l,c;if(!n.props.renderCustomHeader){var u=(i=n.props.monthsShown)!==null&&i!==void 0?i:a.defaultProps.monthsShown,m=n.props.showPreviousMonths?u-1:0,h=(l=n.props.monthSelectedIn)!==null&&l!==void 0?l:m,f=fo(n.state.date,h),y;switch(!0){case n.props.showMonthYearPicker:y=dv(n.state.date,n.props);break;case n.props.showYearPicker:y=Ak(n.state.date,n.props);break;case n.props.showQuarterYearPicker:y=kk(n.state.date,n.props);break;default:y=lv(f,n.props);break}if(!(!((c=n.props.forceShowMonthNavigation)!==null&&c!==void 0?c:a.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&y||n.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],w=["react-datepicker__navigation","react-datepicker__navigation--previous"],E=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(E=n.decreaseYear),y&&n.props.showDisabledMonthNavigation&&(w.push("react-datepicker__navigation--previous--disabled"),E=void 0);var _=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,S=n.props,C=S.previousMonthButtonLabel,I=C===void 0?a.defaultProps.previousMonthButtonLabel:C,N=S.previousYearButtonLabel,k=N===void 0?a.defaultProps.previousYearButtonLabel:N,M=n.props,T=M.previousMonthAriaLabel,q=T===void 0?typeof I=="string"?I:"Previous Month":T,z=M.previousYearAriaLabel,G=z===void 0?typeof k=="string"?k:"Previous Year":z;return r.createElement("button",{type:"button",className:w.join(" "),onClick:E,onKeyDown:n.props.handleOnKeyDown,"aria-label":_?G:q},r.createElement("span",{className:b.join(" ")},_?k:I))}}},n.increaseYear=function(){n.setState(function(i){var l,c=i.date;return{date:Os(c,n.props.showYearPicker?(l=n.props.yearItemNumber)!==null&&l!==void 0?l:a.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var l;switch(!0){case n.props.showMonthYearPicker:l=uv(n.state.date,n.props);break;case n.props.showYearPicker:l=Dk(n.state.date,n.props);break;case n.props.showQuarterYearPicker:l=Nk(n.state.date,n.props);break;default:l=cv(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:a.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&l||n.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var m=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(m=n.increaseYear),l&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),m=void 0);var h=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,f=n.props,y=f.nextMonthButtonLabel,b=y===void 0?a.defaultProps.nextMonthButtonLabel:y,w=f.nextYearButtonLabel,E=w===void 0?a.defaultProps.nextYearButtonLabel:w,_=n.props,S=_.nextMonthAriaLabel,C=S===void 0?typeof b=="string"?b:"Next Month":S,I=_.nextYearAriaLabel,N=I===void 0?typeof E=="string"?E:"Next Year":I;return r.createElement("button",{type:"button",className:c.join(" "),onClick:m,onKeyDown:n.props.handleOnKeyDown,"aria-label":h?N:C},r.createElement("span",{className:u.join(" ")},h?E:b))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var l=["react-datepicker__current-month"];return n.props.showYearDropdown&&l.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&l.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&l.push("react-datepicker__current-month--hasMonthYearDropdown"),r.createElement("h2",{className:l.join(" ")},un(i,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return r.createElement(Xk,Mt({},a.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Et(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return r.createElement(jk,Mt({},a.defaultProps,n.props,{month:ga(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return r.createElement($k,Mt({},a.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(av(),i),n.props.setPreSelection&&n.props.setPreSelection(av())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return r.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(i){var l=i.monthDate,c=i.i;return r.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(l),r.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(c!==0),n.renderMonthYearDropdown(c!==0),n.renderYearDropdown(c!==0)),r.createElement("div",{className:"react-datepicker__day-names"},n.header(l)))},n.renderCustomHeader=function(i){var l,c,u=i.monthDate,m=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var h=lv(n.state.date,n.props),f=cv(n.state.date,n.props),y=dv(n.state.date,n.props),b=uv(n.state.date,n.props),w=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return r.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(c=(l=n.props).renderCustomHeader)===null||c===void 0?void 0:c.call(l,Mt(Mt({},n.state),{customHeaderCount:m,monthDate:u,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:h,nextMonthButtonDisabled:f,prevYearButtonDisabled:y,nextYearButtonDisabled:b})),w&&r.createElement("div",{className:"react-datepicker__day-names"},n.header(u)))},n.renderYearHeader=function(i){var l=i.monthDate,c=n.props,u=c.showYearPicker,m=c.yearItemNumber,h=m===void 0?a.defaultProps.yearItemNumber:m,f=Di(l,h),y=f.startPeriod,b=f.endPeriod;return r.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(y," - ").concat(b):Et(l))},n.renderHeader=function(i){var l=i.monthDate,c=i.i,u=c===void 0?0:c,m={monthDate:l,i:u};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(m);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(m);default:return n.renderDefaultHeader(m)}},n.renderMonths=function(){var i,l;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var c=[],u=(i=n.props.monthsShown)!==null&&i!==void 0?i:a.defaultProps.monthsShown,m=n.props.showPreviousMonths?u-1:0,h=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Os(n.state.date,m):fo(n.state.date,m),f=(l=n.props.monthSelectedIn)!==null&&l!==void 0?l:m,y=0;y<u;++y){var b=y-f+m,w=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Os(h,b):Tr(h,b),E="month-".concat(y),_=y<u-1,S=y>0;c.push(r.createElement("div",{key:E,ref:function(C){n.monthContainer=C??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:w,i:y}),r.createElement(Wk,Mt({},a.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:w,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:y,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:_,monthShowsDuplicateDaysStart:S}))))}return c}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return r.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),r.createElement(Zk,Mt({},a.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return r.createElement(Gk,Mt({},a.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,l=i&&kp(i)&&!!n.props.selected,c=l?"".concat(pv(i.getHours()),":").concat(pv(i.getMinutes())):"";if(n.props.showTimeInput)return r.createElement(Bk,Mt({},a.defaultProps,n.props,{date:i,timeString:c,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i,l=Di(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:a.defaultProps.yearItemNumber),c=l.startPeriod,u=l.endPeriod,m;return n.props.showYearPicker?m="".concat(c," - ").concat(u):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?m=Et(n.state.date):m="".concat(L0(ga(n.state.date),n.props.locale)," ").concat(Et(n.state.date)),r.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&m)},n.renderChildren=function(){if(n.props.children)return r.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=v.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(a,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Sd}},enumerable:!1,configurable:!0}),a.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){e.setState({monthContainer:e.monthContainer})}())},a.prototype.componentDidUpdate=function(e){var n=this;if(this.props.preSelection&&(!Dt(this.props.preSelection,e.preSelection)||this.props.monthSelectedIn!==e.monthSelectedIn)){var i=!Sa(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Dt(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate})},a.prototype.render=function(){var e=this.props.container||fk;return r.createElement(Ip,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},r.createElement("div",{style:{display:"contents"},ref:this.containerRef},r.createElement(e,{className:la("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},a}(v.Component),tN=function(t){var a=t.icon,e=t.className,n=e===void 0?"":e,i=t.onClick,l="react-datepicker__calendar-icon";if(typeof a=="string")return r.createElement("i",{className:"".concat(l," ").concat(a," ").concat(n),"aria-hidden":"true",onClick:i});if(r.isValidElement(a)){var c=a;return r.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(l," ").concat(n),onClick:function(u){typeof c.props.onClick=="function"&&c.props.onClick(u),typeof i=="function"&&i(u)}})}return r.createElement("svg",{className:"".concat(l," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},r.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},jE=function(t){na(a,t);function a(e){var n=t.call(this,e)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return a.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},a.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},a.prototype.render=function(){return vd.createPortal(this.props.children,this.el)},a}(v.Component),nN="[tabindex], a, button, input, select, textarea",aN=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},YE=function(t){na(a,t);function a(e){var n=t.call(this,e)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(nN),1,-1).filter(aN)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=v.createRef(),n}return a.prototype.render=function(){var e;return((e=this.props.enableTabLoop)!==null&&e!==void 0?e:a.defaultProps.enableTabLoop)?r.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},r.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,r.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},a.defaultProps={enableTabLoop:!0},a}(v.Component);function rN(t){var a=function(e){var n,i=typeof e.hidePopper=="boolean"?e.hidePopper:!0,l=v.useRef(null),c=pk(Mt({open:!i,whileElementsMounted:GI,placement:e.popperPlacement,middleware:Kr([ek({padding:15}),KI(10),tk({element:l})],(n=e.popperModifiers)!==null&&n!==void 0?n:[],!0)},e.popperProps)),u=Mt(Mt({},e),{hidePopper:i,popperProps:Mt(Mt({},c),{arrowRef:l})});return r.createElement(t,Mt({},u))};return a}var sN=function(t){na(a,t);function a(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(a,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),a.prototype.render=function(){var e=this.props,n=e.className,i=e.wrapperClassName,l=e.hidePopper,c=l===void 0?a.defaultProps.hidePopper:l,u=e.popperComponent,m=e.targetComponent,h=e.enableTabLoop,f=e.popperOnKeyDown,y=e.portalId,b=e.portalHost,w=e.popperProps,E=e.showArrow,_=void 0;if(!c){var S=la("react-datepicker-popper",n);_=r.createElement(YE,{enableTabLoop:h},r.createElement("div",{ref:w.refs.setFloating,style:w.floatingStyles,className:S,"data-placement":w.placement,onKeyDown:f},u,E&&r.createElement(ik,{ref:w.arrowRef,context:w.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(_=v.createElement(this.props.popperContainer,{},_)),y&&!c&&(_=r.createElement(jE,{portalId:y,portalHost:b},_));var C=la("react-datepicker-wrapper",i);return r.createElement(r.Fragment,null,r.createElement("div",{ref:w.refs.setReference,className:C},m),_)},a}(v.Component),iN=rN(sN),vv="react-datepicker-ignore-onclickoutside";function oN(t,a){return t&&a?ga(t)!==ga(a)||Et(t)!==Et(a):t!==a}var Kh="Date input not valid.",qE=function(t){na(a,t);function a(e){var n=t.call(this,e)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:zt()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(l,c){var u=new Date(c.date);return kp(u)?Kr(Kr([],l,!0),[Mt(Mt({},c),{date:u})],!1):l},[])},n.calcInitialState=function(){var i,l=n.getPreSelection(),c=FE(n.props),u=WE(n.props),m=c&&bo(l,om(c))?c:u&&qs(l,rv(u))?u:l;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:m,highlightDates:mv(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Mt(Mt({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Mt(Mt({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var i,l;(l=(i=n.input)===null||i===void 0?void 0:i.focus)===null||l===void 0||l.call(i,{preventScroll:!0})},n.setBlur=function(){var i,l;(l=(i=n.input)===null||i===void 0?void 0:i.blur)===null||l===void 0||l.call(i),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(i,l){l===void 0&&(l=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:eg},function(){i||n.setState(function(c){return{focused:l?c.focused:!1}},function(){!l&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return zs(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var l,c,u=n.state.wasHidden,m=u?n.state.open:!0;u&&n.resetHiddenStatus(),n.state.preventFocus||((c=(l=n.props).onFocus)===null||c===void 0||c.call(l,i),m&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(i){var l,c;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((c=(l=n.props).onBlur)===null||c===void 0||c.call(l,i)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var l,c;n.props.inline||n.setOpen(!1),(c=(l=n.props).onClickOutside)===null||c===void 0||c.call(l,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,l,c,u,m,h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];var y=h[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,h),!y||typeof y.isDefaultPrevented!="function"||y.isDefaultPrevented()))){n.setState({inputValue:(y==null?void 0:y.target)instanceof HTMLInputElement?y.target.value:null,lastPreSelectChange:lN});var b=n.props,w=b.selectsRange,E=b.startDate,_=b.endDate,S=(i=n.props.dateFormat)!==null&&i!==void 0?i:a.defaultProps.dateFormat,C=(l=n.props.strictParsing)!==null&&l!==void 0?l:a.defaultProps.strictParsing,I=(y==null?void 0:y.target)instanceof HTMLInputElement?y.target.value:"";if(w){var N=I.split(S.includes("-")?OE:"-",2).map(function(ie){return ie.trim()}),k=N[0],M=N[1],T=Qh(k??"",S,n.props.locale,C),q=Qh(M??"",S,n.props.locale,C),z=(E==null?void 0:E.getTime())!==(T==null?void 0:T.getTime()),G=(_==null?void 0:_.getTime())!==(q==null?void 0:q.getTime());if(!z&&!G||T&&hr(T,n.props)||q&&hr(q,n.props))return;(u=(c=n.props).onChange)===null||u===void 0||u.call(c,[T,q],y)}else{var K=Qh(I,S,n.props.locale,C,(m=n.props.selected)!==null&&m!==void 0?m:void 0);(K||!I)&&n.setSelected(K,y,!0)}}},n.handleSelect=function(i,l,c){if(!n.props.readOnly){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(l),n.setSelected(i,l,!1,c),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(i);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var u=n.props,m=u.startDate,h=u.endDate;m&&!h&&(n.props.swapRange||!gv(i,m))&&n.setOpen(!1)}}},n.setSelected=function(i,l,c,u){var m,h,f=i;if(n.props.showYearPicker){if(f!==null&&lm(Et(f),n.props))return}else if(n.props.showMonthYearPicker){if(f!==null&&UE(f,n.props))return}else if(f!==null&&hr(f,n.props))return;var y=n.props,b=y.onChange,w=y.selectsRange,E=y.startDate,_=y.endDate,S=y.selectsMultiple,C=y.selectedDates,I=y.minTime,N=y.swapRange;if(!co(n.props.selected,f)||n.props.allowSameDay||w||S)if(f!==null&&(n.props.selected&&(!c||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(f=Xh(f,{hour:Us(n.props.selected),minute:Fs(n.props.selected),second:Mi(n.props.selected)})),!c&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&I&&(f=Xh(f,{hour:I.getHours(),minute:I.getMinutes(),second:I.getSeconds()})),n.props.inline||n.setState({preSelection:f}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:u})),w){var k=!E&&!_,M=E&&!_,T=E&&_;k?b==null||b([f,null],l):M&&(f===null?b==null||b([null,null],l):gv(f,E)?N?b==null||b([f,E],l):b==null||b([f,null],l):b==null||b([E,f],l)),T&&(b==null||b([f,null],l))}else if(S){if(f!==null)if(!(C!=null&&C.length))b==null||b([f],l);else{var q=C.some(function(G){return Dt(G,f)});if(q){var z=C.filter(function(G){return!Dt(G,f)});b==null||b(z,l)}else b==null||b(Kr(Kr([],C,!0),[f],!1),l)}}else b==null||b(f,l);c||((h=(m=n.props).onSelect)===null||h===void 0||h.call(m,f,l),n.setState({inputValue:null}))},n.setPreSelection=function(i){if(!n.props.readOnly){var l=zs(n.props.minDate),c=zs(n.props.maxDate),u=!0;if(i){var m=om(i);if(l&&c)u=Gc(i,n.props.minDate,n.props.maxDate);else if(l){var h=om(n.props.minDate);u=qs(i,h)||co(m,h)}else if(c){var f=rv(n.props.maxDate);u=bo(i,f)||co(m,f)}}u&&n.setState({preSelection:i})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var l,c;if(!(n.props.selectsRange||n.props.selectsMultiple)){var u=n.props.selected?n.props.selected:n.getPreSelection(),m=n.props.selected?i:Xh(u,{hour:Us(i),minute:Fs(i)});n.setState({preSelection:m}),(c=(l=n.props).onChange)===null||c===void 0||c.call(l,m),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,l;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(l=(i=n.props).onInputClick)===null||l===void 0||l.call(i)},n.onInputKeyDown=function(i){var l,c,u,m,h,f;(c=(l=n.props).onKeyDown)===null||c===void 0||c.call(l,i);var y=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(y===Re.ArrowDown||y===Re.ArrowUp||y===Re.Enter)&&((u=n.onInputClick)===null||u===void 0||u.call(n));return}if(n.state.open){if(y===Re.ArrowDown||y===Re.ArrowUp){i.preventDefault();var b=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',w=((m=n.calendar)===null||m===void 0?void 0:m.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(b);w instanceof HTMLElement&&w.focus({preventScroll:!0});return}var E=zt(n.state.preSelection);y===Re.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===eg?(n.handleSelect(E,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(E)):n.setOpen(!1)):y===Re.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):y===Re.Tab&&n.setOpen(!1),n.inputOk()||(f=(h=n.props).onInputError)===null||f===void 0||f.call(h,{code:1,msg:Kh})}},n.onPortalKeyDown=function(i){var l=i.key;l===Re.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var l,c,u,m,h,f,y=n.props,b=y.minDate,w=y.maxDate,E=y.disabledKeyboardNavigation,_=y.showWeekPicker,S=y.shouldCloseOnSelect,C=y.locale,I=y.calendarStartDay,N=y.adjustDateOnChange,k=y.inline;if((c=(l=n.props).onKeyDown)===null||c===void 0||c.call(l,i),!E){var M=i.key,T=i.shiftKey,q=zt(n.state.preSelection),z=function(R,A){var F=A;switch(R){case Re.ArrowRight:F=_?vm(A,1):Mr(A,1);break;case Re.ArrowLeft:F=_?q2(A):G4(A);break;case Re.ArrowUp:F=q2(A);break;case Re.ArrowDown:F=vm(A,1);break;case Re.PageUp:F=T?vl(A,1):fo(A,1);break;case Re.PageDown:F=T?Os(A,1):Tr(A,1);break;case Re.Home:F=Ti(A,C,I);break;case Re.End:F=xk(A);break}return F},G=function(R,A){for(var F=40,Q=R,V=!1,P=0,j=z(R,A);!V;){if(P>=F){j=A;break}b&&j<b&&(Q=Re.ArrowRight,j=hr(b,n.props)?z(Q,j):b),w&&j>w&&(Q=Re.ArrowLeft,j=hr(w,n.props)?z(Q,j):w),hr(j,n.props)?((Q===Re.PageUp||Q===Re.Home)&&(Q=Re.ArrowRight),(Q===Re.PageDown||Q===Re.End)&&(Q=Re.ArrowLeft),j=z(Q,j)):V=!0,P++}return j};if(M===Re.Enter){i.preventDefault(),n.handleSelect(q,i),!S&&n.setPreSelection(q);return}else if(M===Re.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(m=(u=n.props).onInputError)===null||m===void 0||m.call(u,{code:1,msg:Kh});return}var K=null;switch(M){case Re.ArrowLeft:case Re.ArrowRight:case Re.ArrowUp:case Re.ArrowDown:case Re.PageUp:case Re.PageDown:case Re.Home:case Re.End:K=G(M,q);break}if(!K){(f=(h=n.props).onInputError)===null||f===void 0||f.call(h,{code:1,msg:Kh});return}if(i.preventDefault(),n.setState({lastPreSelectChange:eg}),N&&n.setSelected(K),n.setPreSelection(K),k){var ie=ga(q),H=ga(K),Z=Et(q),O=Et(K);ie!==H||Z!==O?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var l=i.key;l===Re.Escape&&(i.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var l=n.props,c=l.selectsRange,u=l.onChange;c?u==null||u([null,null],i):u==null||u(null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,l;return!n.props.inline&&!n.isCalendarOpen()?null:r.createElement(eN,Mt({showMonthYearDropdown:void 0,ref:function(c){n.calendar=c}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:a.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:Tk(n.modifyHolidays()),outsideClickIgnoreClass:vv,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(l=n.props.dropdownMode)!==null&&l!==void 0?l:a.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i=n.props,l=i.dateFormat,c=l===void 0?a.defaultProps.dateFormat:l,u=i.locale,m=n.props.showTimeInput||n.props.showTimeSelect,h=m?"PPPPp":"PPPP",f;return n.props.selectsRange?f="Selected start date: ".concat(mr(n.props.startDate,{dateFormat:h,locale:u}),". ").concat(n.props.endDate?"End date: "+mr(n.props.endDate,{dateFormat:h,locale:u}):""):n.props.showTimeSelectOnly?f="Selected time: ".concat(mr(n.props.selected,{dateFormat:c,locale:u})):n.props.showYearPicker?f="Selected year: ".concat(mr(n.props.selected,{dateFormat:"yyyy",locale:u})):n.props.showMonthYearPicker?f="Selected month: ".concat(mr(n.props.selected,{dateFormat:"MMMM yyyy",locale:u})):n.props.showQuarterYearPicker?f="Selected quarter: ".concat(mr(n.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):f="Selected date: ".concat(mr(n.props.selected,{dateFormat:h,locale:u})),r.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},f)},n.renderDateInput=function(){var i,l,c,u=la(n.props.className,(i={},i[vv]=n.state.open,i)),m=n.props.customInput||r.createElement("input",{type:"text"}),h=n.props.customInputRef||"ref",f=n.props,y=f.dateFormat,b=y===void 0?a.defaultProps.dateFormat:y,w=f.locale,E=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?gk(n.props.startDate,n.props.endDate,{dateFormat:b,locale:w}):n.props.selectsMultiple?yk((c=n.props.selectedDates)!==null&&c!==void 0?c:[],{dateFormat:b,locale:w}):mr(n.props.selected,{dateFormat:b,locale:w});return v.cloneElement(m,(l={},l[h]=function(_){n.input=_},l.value=E,l.onBlur=n.handleBlur,l.onChange=n.handleChange,l.onClick=n.onInputClick,l.onFocus=n.handleFocus,l.onKeyDown=n.onInputKeyDown,l.id=n.props.id,l.name=n.props.name,l.form=n.props.form,l.autoFocus=n.props.autoFocus,l.placeholder=n.props.placeholderText,l.disabled=n.props.disabled,l.autoComplete=n.props.autoComplete,l.className=la(m.props.className,u),l.title=n.props.title,l.readOnly=n.props.readOnly,l.required=n.props.required,l.tabIndex=n.props.tabIndex,l["aria-describedby"]=n.props.ariaDescribedBy,l["aria-invalid"]=n.props.ariaInvalid,l["aria-labelledby"]=n.props.ariaLabelledBy,l["aria-required"]=n.props.ariaRequired,l))},n.renderClearButton=function(){var i=n.props,l=i.isClearable,c=i.disabled,u=i.selected,m=i.startDate,h=i.endDate,f=i.clearButtonTitle,y=i.clearButtonClassName,b=y===void 0?"":y,w=i.ariaLabelClose,E=w===void 0?"Close":w,_=i.selectedDates,S=i.readOnly;return l&&!S&&(u!=null||m!=null||h!=null||_!=null&&_.length)?r.createElement("button",{type:"button",className:la("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":E,onClick:n.onClearClick,title:f,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(a,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Sd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),a.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},a.prototype.componentDidUpdate=function(e,n){var i,l,c,u;e.inline&&oN(e.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:mv(this.props.highlightDates)}),!n.focused&&!co(e.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((l=(i=this.props).onCalendarOpen)===null||l===void 0||l.call(i)),n.open===!0&&this.state.open===!1&&((u=(c=this.props).onCalendarClose)===null||u===void 0||u.call(c)))},a.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},a.prototype.renderInputContainer=function(){var e=this.props,n=e.showIcon,i=e.icon,l=e.calendarIconClassname,c=e.calendarIconClassName,u=e.toggleCalendarOnIconClick,m=this.state.open;return l&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),r.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&r.createElement(tN,Mt({icon:i,className:la(c,!c&&l,m&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},a.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var n=this.state.open?r.createElement(YE,{enableTabLoop:this.props.enableTabLoop},r.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(n=r.createElement(jE,Mt({portalId:this.props.portalId},this.props),n)),r.createElement("div",null,this.renderInputContainer(),n)}return r.createElement(iN,Mt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},a}(v.Component),lN="input",eg="navigate";function xv(t){if(!t||typeof t!="string"||!t.match(/\d/))return{h:0,m:0};const[a,e]=t.trim().split(/\s+/);let[n,i]=a.split(":").map(Number);return e&&e.toLowerCase()==="pm"&&n!==12&&(n+=12),e&&e.toLowerCase()==="am"&&n===12&&(n=0),{h:n,m:i}}function O0(t,a,e=30){const n=xv(t),i=xv(a),l=[];let c=new Date(0,0,0,n.h,n.m);const u=new Date(0,0,0,i.h,i.m);for(;c<=u;){const m=c.getHours(),h=c.getMinutes();let f=(m%12||12)+":"+(h<10?"0":"")+h+(m<12?" AM":" PM");l.push(f),c=new Date(c.getTime()+e*6e4)}return l}function cN(t){const a={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6},e=new Date,n=e.getDay();let l=(a[t]-n+7)%7;l===0&&(l=7);const c=new Date(e);return c.setDate(e.getDate()+l),c}function $E({proposal:t,open:a,onClose:e,onSubmit:n,senderPlayer:i,phase:l,selectedDivision:c}){var Q;const[u,m]=v.useState(new Date),[h,f]=v.useState(""),[y,b]=v.useState(""),[w,E]=v.useState(""),[_,S]=v.useState(""),[C,I]=v.useState(""),[N,k]=v.useState(""),[M,T]=v.useState("");v.useEffect(()=>{if(t&&a){if(t.date){const[V,P,j]=t.date.split("-");m(new Date(parseInt(V),parseInt(P)-1,parseInt(j)))}f(""),b(""),E(t.location||""),S(t.gameType||"8 Ball"),I(t.raceLength||(l==="scheduled"||l==="challenge"?5:7)),k("")}},[t,a,l]),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][u.getDay()];const G=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][u.getDay()],K=((Q=i==null?void 0:i.availability)==null?void 0:Q[G])||[],ie=["6:00 PM - 8:00 PM","8:00 PM - 10:00 PM","10:00 PM - 12:00 AM"],H=K.length>0?K:ie,Z=i!=null&&i.locations?i.locations.split(/\r?\n/).map(V=>V.trim()).filter(Boolean):[],O=v.useMemo(()=>{if(!h)return[];const V=h.replace(/[]/g,"-").replace(/\s*-\s*/g," - ").trim();if(!V.includes(" - "))return[];let[P,j]=V.split(" - ").map(J=>R(J.trim()));return!P||!j?[]:O0(P,j,30)},[h]);function R(V){let P=V.trim();P=P.replace(/(\d{1,2}):(\d{2})\s*(am|pm)/i,(J,W,re,X)=>`${parseInt(W,10)}:${re} ${X.toUpperCase()}`),P=P.replace(/^(\d{1,2})(\d{2})(am|pm)$/i,(J,W,re,X)=>`${parseInt(W,10)}:${re} ${X.toUpperCase()}`),P=P.replace(/^(\d{1,2})(am|pm)$/i,(J,W,re)=>`${parseInt(W,10)}:00 ${re.toUpperCase()}`),P=P.replace(/(am|pm)$/i," $1"),P=P.replace(/(am|pm)$/i,J=>J.toUpperCase());const j=P.match(/^(\d{1,2}):(\d{2}) (AM|PM)$/i);if(j){const J=j[1],W=j[2],re=j[3].toUpperCase();return`${J}:${W} ${re}`}return P}function A(V){if(!V)return"";const P=new Date(V),j=String(P.getMonth()+1).padStart(2,"0"),J=String(P.getDate()).padStart(2,"0"),W=P.getFullYear();return`${j}-${J}-${W}`}const F=V=>{if(V.preventDefault(),!u||!y||!w){T("Please fill in all required fields.");return}T(""),n({date:A(u),time:y,location:w,gameType:_,raceLength:C,note:N})};return!a||!t?null:r.createElement(xn,{open:a,onClose:e,title:" Counter Proposal",maxWidth:"500px"},r.createElement("form",{onSubmit:F,style:{textAlign:"left"}},r.createElement("div",{style:{fontWeight:"bold",fontSize:"1.15rem",margin:"0 0 1rem 0",color:"#fff",textAlign:"center"}},"To: ",t.senderName||"Opponent"),r.createElement("div",{style:{marginBottom:"1rem"}},r.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Date:"),r.createElement(qE,{selected:u,onChange:V=>m(V),dateFormat:"MM-dd-yyyy",className:"counter-proposal-date-input",required:!0})),r.createElement("div",{style:{marginBottom:"1rem"}},r.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Time Block:"),r.createElement("select",{value:h,onChange:V=>{f(V.target.value),b("")},required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"}},r.createElement("option",{value:""},"Select time block"),H.map((V,P)=>r.createElement("option",{key:P,value:V},V)))),r.createElement("div",{style:{marginBottom:"1rem"}},r.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Start Time:"),r.createElement("select",{value:y,onChange:V=>b(V.target.value),required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"}},r.createElement("option",{value:""},"Select..."),O.map((V,P)=>r.createElement("option",{key:P,value:V},V)))),r.createElement("div",{style:{marginBottom:"1rem"}},r.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Location:"),r.createElement("select",{value:w,onChange:V=>E(V.target.value),required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"}},r.createElement("option",{value:""},"Select location"),Z.map((V,P)=>r.createElement("option",{key:P,value:V},V)))),r.createElement("div",{style:{marginBottom:"1rem"}},r.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Game Type:"),r.createElement("select",{value:_,onChange:V=>S(V.target.value),required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"}},r.createElement("option",{value:"8 Ball"},"8 Ball"),r.createElement("option",{value:"9 Ball"},"9 Ball"),r.createElement("option",{value:"10 Ball"},"10 Ball"),r.createElement("option",{value:"Mixed"},"Mixed"))),r.createElement("div",{style:{marginBottom:"1rem"}},r.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Race Length:"),r.createElement("select",{value:C,onChange:V=>I(Number(V.target.value)),required:!0,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"}},l==="scheduled"||l==="challenge"?r.createElement("option",{value:5},"5"):[...Array(13)].map((V,P)=>{const j=P+3;return r.createElement("option",{key:j,value:j},j)}))),r.createElement("div",{style:{marginBottom:"1.5rem"}},r.createElement("label",{style:{display:"block",marginBottom:"0.5rem",color:"#e53e3e",fontWeight:"bold"}},"Note (optional):"),r.createElement("textarea",{value:N,onChange:V=>k(V.target.value),placeholder:"Add a note explaining your counter proposal...",rows:3,style:{width:"100%",padding:"0.5rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px",resize:"vertical"}})),M&&r.createElement("div",{style:{color:"#e53e3e",marginBottom:"1rem"}},M),r.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"center"}},r.createElement("button",{type:"submit",style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:"6px",padding:"0.7rem 1.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",minWidth:"120px"}},"Submit Counter"),r.createElement("button",{type:"button",onClick:e,style:{background:"#6c757d",color:"#fff",border:"none",borderRadius:"6px",padding:"0.7rem 1.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",minWidth:"120px"}},"Cancel"))))}const dd={_origin:"https://api.emailjs.com"},dN=(t,a="https://api.emailjs.com")=>{dd._userID=t,dd._origin=a},GE=(t,a,e)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!a)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Ev{constructor(a){this.status=a.status,this.text=a.responseText}}const ZE=(t,a,e={})=>new Promise((n,i)=>{const l=new XMLHttpRequest;l.addEventListener("load",({target:c})=>{const u=new Ev(c);u.status===200||u.text==="OK"?n(u):i(u)}),l.addEventListener("error",({target:c})=>{i(new Ev(c))}),l.open("POST",dd._origin+t,!0),Object.keys(e).forEach(c=>{l.setRequestHeader(c,e[c])}),l.send(a)}),uN=(t,a,e,n)=>{const i=n||dd._userID;return GE(i,t,a),ZE("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:t,template_id:a,template_params:e}),{"Content-type":"application/json"})},mN=t=>{let a;if(typeof t=="string"?a=document.querySelector(t):a=t,!a||a.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return a},pN=(t,a,e,n)=>{const i=n||dd._userID,l=mN(e);GE(i,t,a);const c=new FormData(l);return c.append("lib_version","3.2.0"),c.append("service_id",t),c.append("template_id",a),c.append("user_id",i),ZE("/api/v1.0/email/send-form",c)},Np={init:dN,send:uN,sendForm:pN};function fN({to_email:t,to_name:a,from_name:e,from_email:n,day:i,date:l,time:c,location:u,note:m,gameType:h,raceLength:f,proposalId:y}){if(!t||t==="undefined")return alert("Recipient email is missing. Cannot send proposal."),Promise.reject(new Error("Recipient email is missing."));if(!n||n==="undefined")return alert("Your email is missing. Cannot send proposal."),Promise.reject(new Error("Sender email is missing."));const b=Ca(wE(l),"MM-dd-yyyy"),E=Object.entries({from:e,to:a,day:i,date:b,time:c,location:u,note:m,proposerEmail:n,gameType:h,raceLength:f,proposalId:y}).map(([I,N])=>`${I}=${encodeURIComponent(N)}`).join("&"),_="https://newapp-1-ic1v.onrender.com",S=`${_}/#/confirm-match?${E}`,C=`${_}/#/confirm-match?${E}`;return Np.send("service_l5q2047","template_xu0tl3i",{to_email:t,to_name:a,from_name:e,day:i,date:b,time:c,location:u,note:m,gameType:h,raceLength:f,confirm_link:S,counter_propose_link:C},"g6vqrOs_Jb6LL1VCZ")}function hN({to_email:t,to_name:a,day:e,date:n,time:i,location:l,proposal_note:c,confirmation_note:u,confirmed_by:m,gameType:h,raceLength:f}){return Np.send("service_l5q2047","template_dtc43h8",{to_email:t,to_name:a,day:e,date:n,time:i,location:l,proposal_note:c,confirmation_note:u,confirmed_by:m,gameType:h,raceLength:f},"g6vqrOs_Jb6LL1VCZ")}function gN({to_email:t,to_name:a,division:e,daysUntilDeadline:n,completedMatches:i,totalRequiredMatches:l,deadlineDate:c,remainingMatches:u}){if(!t||t==="undefined")return console.error("Recipient email is missing. Cannot send deadline reminder."),Promise.reject(new Error("Recipient email is missing."));const m=Math.round(i/l*100),h=n<=1?"CRITICAL":n<=3?"URGENT":n<=7?"WARNING":"REMINDER";return Np.send("service_l5q2047","template_xbpnbge",{to_email:t,to_name:a,division:e,days_until_deadline:n,completed_matches:i,total_required_matches:l,progress_percentage:m,deadline_date:c,remaining_matches:u,urgency_level:h,app_url:"https://newapp-1-ic1v.onrender.com"},"g6vqrOs_Jb6LL1VCZ")}function yN({to_email:t,to_name:a,registrationId:e,registrationDate:n,registrationFee:i,paymentMethods:l=[],additionalInstructions:c="",contactInfo:u={}}){if(!t||t==="undefined")return console.error("Recipient email is missing. Cannot send payment instructions."),Promise.reject(new Error("Recipient email is missing."));const m=l.length>0?l.map((f,y)=>{let b=f.instructions;return f.key==="venmo"&&f.username?b=`Send payment to @${f.username}`:f.key==="cashapp"&&f.username?b=`Send payment to $${f.username}`:f.key==="paypal"&&f.email?b=`Send payment to ${f.email}`:f.key==="creditCard"&&f.paymentLink?b=`Pay securely online: ${f.paymentLink}`:f.key==="applePay"&&f.paymentLink?b=`Pay with Apple Pay: ${f.paymentLink}`:f.key==="googlePay"&&f.paymentLink?b=`Pay with Google Pay: ${f.paymentLink}`:f.key==="check"&&f.payeeName&&(b=`Make check payable to ${f.payeeName}`),`${y+1}. **${f.displayName}:** ${b}`}).join(`
`):"1. **Cash:** Pay in person to league administrator",h=u&&(u.email||u.phone||u.name)?`

**For payment questions, contact:**
${u.name?`Name: ${u.name}
`:""}${u.email?`Email: ${u.email}
`:""}${u.phone?`Phone: ${u.phone}`:""}`:"";return Np.send("service_l5q2047","template_payment_instructions",{to_email:t,to_name:a,registration_id:e,registration_date:n,registration_fee:i,payment_instructions:`
        **League Registration Payment Instructions**
        
        Registration Fee: $${i}
        Registration ID: ${e}
        
        **Payment Methods:**
${m}
        
        ${c?`
**Additional Instructions:**
${c}
`:""}
        
        **Important Notes:**
         Include your Registration ID (${e}) in payment notes
         Payment must be completed within 7 days
         Your PIN will be sent once payment is confirmed
         Contact league admin if you have payment issues${h}
        
        **Next Steps:**
        1. Complete payment using one of the methods above
        2. Wait for payment confirmation email
        3. You'll receive your unique PIN and full access
      `,app_url:"https://newapp-1-ic1v.onrender.com"},"g6vqrOs_Jb6LL1VCZ")}const bN="_confirmMatchCard_7heot_7",vN="_confirmMatchTitle_7heot_31",xN="_redTitle_7heot_45",EN="_confirmMatchDetails_7heot_55",wN="_detailRow_7heot_65",SN="_confirmBtn_7heot_173",ln={confirmMatchCard:bN,confirmMatchTitle:vN,redTitle:xN,confirmMatchDetails:EN,detailRow:wN,confirmBtn:SN};function CN({text:t,query:a}){return a?t.split(new RegExp(`(${a})`,"gi")).map((n,i)=>n.toLowerCase()===a.toLowerCase()?r.createElement("mark",{key:i},n):n):r.createElement(r.Fragment,null,t)}const ke="https://atlasbackend-bnng.onrender.com";function _N(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-"),m=new Date(parseInt(l),parseInt(c)-1,parseInt(u)),h=String(m.getMonth()+1).padStart(2,"0"),f=String(m.getDate()).padStart(2,"0"),y=m.getFullYear();return`${h}-${f}-${y}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),i=a.getFullYear();return`${e}-${n}-${i}`}function IN(){const[t]=T3(),[a,e]=v.useState(!1),[n,i]=v.useState(""),[l,c]=v.useState(!1),m=t.get("action")==="counter",h=t.get("from"),f=t.get("to"),y=t.get("day"),b=t.get("date"),w=t.get("time"),E=t.get("location"),_=t.get("proposerEmail"),S=t.get("note"),C=t.get("gameType"),I=t.get("raceLength"),N=t.get("proposalId");v.useEffect(()=>{m&&c(!0)},[m]);const k=()=>{console.log("CONFIRM BUTTON CLICKED"),hN({to_email:_,to_name:h,day:y,date:b,time:w,location:E,confirmed_by:f,proposal_note:S||"",confirmation_note:n||"",gameType:C||"",raceLength:I||""}),N?fetch(`${ke}/api/proposals/${N}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"confirmed",note:n})}).then(T=>{if(!T.ok)throw new Error("Failed to confirm proposal");console.log("Proposal confirmed successfully"),e(!0)}).catch(T=>{console.error("Error confirming proposal:",T),alert("Failed to confirm proposal: "+T.message)}):(console.log("No proposalId provided - showing confirmation modal"),e(!0))};return r.createElement("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(3px)",WebkitBackdropFilter:"blur(3px)"}},r.createElement("div",{className:"draggable-modal",style:{background:"linear-gradient(120deg, #232323 80%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:window.innerWidth<=400?"0":"1.2rem",boxShadow:"0 0 32px #e53e3e, 0 0 40px rgba(0,0,0,0.85)",width:window.innerWidth<=400?"100vw":"auto",maxWidth:window.innerWidth<=400?"100vw":"480px",minWidth:0,margin:window.innerWidth<=400?"0":"0 auto",left:0,right:0,animation:"modalBounceIn 0.5s cubic-bezier(.21,1.02,.73,1.01)",padding:"1.5rem 2rem 1rem 2rem",position:"relative",fontFamily:"inherit",boxSizing:"border-box",textAlign:"center",marginTop:"100px",maxHeight:"85vh",overflowY:"auto"}},r.createElement("div",{style:{position:"relative"}},r.createElement("button",{onClick:()=>window.location.href="/#/dashboard",style:{position:"absolute",top:"-0.5rem",right:"-0.5rem",background:"#333",color:"#fff",border:"1px solid #666",borderRadius:"50%",width:"2rem",height:"2rem",fontSize:"1.2rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s, border-color 0.2s",zIndex:10},onMouseEnter:M=>{M.target.style.background="#e53e3e",M.target.style.borderColor="#fff"},onMouseLeave:M=>{M.target.style.background="#333",M.target.style.borderColor="#666"}},""),r.createElement("h1",{style:{marginBottom:"1rem",fontSize:"1.4rem",fontWeight:"bold",letterSpacing:"0.01em",color:"#ff0000"}}," Front Range Pool League",r.createElement("br",null),"Confirm Match")),r.createElement("p",{style:{marginBottom:"1rem",fontSize:"0.95rem",color:"#faf6f6",textAlign:"center"}},"You are about to confirm this match. Your opponent will be notified by email and the match will be added to your app calendar!"),r.createElement("div",{style:{textAlign:"center",marginBottom:"0.8rem",background:"#1a1a1a",color:"#faf6f6",borderRadius:8,padding:"0.4rem 0.5rem",border:"1px solid #ff0000"}},r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.7em",marginBottom:"0.7em",fontSize:"1rem"}},r.createElement("span",{role:"img","aria-label":"you"},"")," ",r.createElement("strong",null,"You:")," ",f||"N/A"),r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.7em",marginBottom:"0.7em",fontSize:"1rem"}},r.createElement("span",{role:"img","aria-label":"opponent"},"")," ",r.createElement("strong",null,"Opponent:")," ",h||"N/A"),r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.7em",marginBottom:"0.7em",fontSize:"1rem"}},r.createElement("span",{role:"img","aria-label":"calendar"},"")," ",r.createElement("strong",null,"Day:")," ",y||"N/A"),r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.7em",marginBottom:"0.7em",fontSize:"1rem"}},r.createElement("span",{role:"img","aria-label":"date"},"")," ",r.createElement("strong",null,"Date:")," ",_N(b)),r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.7em",marginBottom:"0.7em",fontSize:"1rem"}},r.createElement("span",{role:"img","aria-label":"clock"},"")," ",r.createElement("strong",null,"Time:")," ",w||"N/A"),C&&r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.7em",marginBottom:"0.7em",fontSize:"1rem"}},r.createElement(vp,{gameType:C,size:16})," ",r.createElement("strong",null,"Game Type:")," ",C),I&&r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.7em",marginBottom:"0.7em",fontSize:"1rem"}},r.createElement("span",{role:"img","aria-label":"race"},"")," ",r.createElement("strong",null,"Race to:")," ",I),r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.7em",marginBottom:"0.7em",fontSize:"1rem"}},r.createElement("span",{role:"img","aria-label":"location"},"")," ",r.createElement("strong",null,"Location:")," ",E||"N/A")),S&&r.createElement("div",{style:{margin:"12px 0 0 0",padding:"0.6rem 0.8rem",background:"#2a2a2a",borderLeft:"3px solid #ffb300",borderRadius:4,color:"#ffb300",fontSize:"0.98rem",textAlign:"left"}},r.createElement("span",{role:"img","aria-label":"note"},"")," ",r.createElement("strong",null,"Note from opponent:"),r.createElement("br",null),S),r.createElement("div",{style:{margin:"1rem 0 0.2rem 0",textAlign:"left"}},r.createElement("label",{htmlFor:"note",style:{fontWeight:500,color:"#faf6f6",marginBottom:"0.2rem",display:"block"}}," Add a note (optional):"),r.createElement("textarea",{id:"note",value:n,onChange:M=>i(M.target.value),rows:2,placeholder:"Write a message to your opponent",style:{width:"100%",minHeight:"54px",borderRadius:7,border:"1px solid #666",padding:"0.6em 0.8em",fontSize:"1rem",marginTop:"0.2rem",resize:"vertical",background:"#1a1a1a",color:"#faf6f6",boxSizing:"border-box",transition:"border 0.2s"},onFocus:M=>M.target.style.border="1.5px solid #ff0000",onBlur:M=>M.target.style.border="1px solid #666"})),r.createElement("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"1rem",flexWrap:"wrap"}},r.createElement("button",{style:{background:"#ff0000",color:"#fff",border:"none",borderRadius:8,padding:"0.7rem 1.5rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",minWidth:"120px",transition:"background 0.18s, color 0.18s, border 0.18s, box-shadow 0.18s",boxShadow:"0 2px 6px #0001"},onMouseEnter:M=>M.target.style.background="#c90000",onMouseLeave:M=>M.target.style.background="#ff0000",onClick:k}," Confirm Match"),r.createElement("button",{style:{background:"#fff",color:"#ff0000",border:"2px solid #ff0000",borderRadius:8,padding:"0.7rem 1.5rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",minWidth:"120px",transition:"background 0.18s, color 0.18s, border 0.18s, box-shadow 0.18s",boxShadow:"0 2px 6px #0001"},onMouseEnter:M=>{M.target.style.background="#ff0000",M.target.style.color="#fff"},onMouseLeave:M=>{M.target.style.background="#fff",M.target.style.color="#ff0000"},onClick:()=>c(!0)}," Counter Propose")),r.createElement("div",{style:{textAlign:"center",marginTop:"1rem"}},r.createElement("button",{onClick:()=>window.location.href="/#/dashboard",style:{background:"#333",color:"#fff",border:"1px solid #666",borderRadius:6,padding:"0.5rem 1rem",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"background 0.2s, border-color 0.2s"},onMouseEnter:M=>{M.target.style.background="#444",M.target.style.borderColor="#888"},onMouseLeave:M=>{M.target.style.background="#333",M.target.style.borderColor="#666"}}," Go to Dashboard")),r.createElement(sE,{open:a,message:"Match confirmed! The opponent has been notified and the match has been added to your app calendar.",proposalNote:S,confirmationNote:n,gameType:C,raceLength:I,day:y,date:b,time:w,location:E,onClose:()=>e(!1)}),r.createElement($E,{open:l,onClose:()=>c(!1),proposal:{senderName:h,receiverName:f,senderEmail:_,receiverEmail:"",date:b,time:w,location:E,message:S,gameType:C,raceLength:I,_id:N},onSubmit:M=>{console.log("Counter proposal submitted:",M),c(!1)},senderPlayer:{firstName:(f==null?void 0:f.split(" ")[0])||"",lastName:(f==null?void 0:f.split(" ").slice(1).join(" "))||"",email:""},phase:"scheduled",selectedDivision:""})))}const kN="_dashboardBg_6q3a4_18",NN="_floatingLogo_6q3a4_28",AN="_dashboardFrame_6q3a4_36",DN="_dashboardCard_6q3a4_52",MN="_fadeInUp_6q3a4_1",TN="_dashboardTitle_6q3a4_82",RN="_dashboardUserName_6q3a4_90",PN="_dashboardSection_6q3a4_100",LN="_newsUpdatesSection_6q3a4_112",BN="_dashboardSectionBox_6q3a4_116",ON="_dashboardSectionTitle_6q3a4_128",zN="_dashboardHelperText_6q3a4_137",UN="_matchesSection_6q3a4_145",FN="_dashboardList_6q3a4_157",WN="_matchCard_6q3a4_168",HN="_matchCardButton_6q3a4_191",jN="_matchCardOpponentLabel_6q3a4_217",YN="_matchCardOpponentName_6q3a4_218",qN="_matchCardDetail_6q3a4_219",$N="_dashboardActions_6q3a4_260",GN="_dashboardBtn_6q3a4_271",ZN="_dashboardBtnPrimary_6q3a4_332",VN="_dashboardBtnSecondary_6q3a4_336",QN="_dashboardBtnSuccess_6q3a4_346",XN="_dashboardBtnWarning_6q3a4_356",JN="_dashboardBtnDanger_6q3a4_366",KN="_dashboardBtnSmall_6q3a4_377",eA="_dashboardBtnLarge_6q3a4_384",tA="_buttonRow_6q3a4_402",nA="_errorBox_6q3a4_408",aA="_dashboardAdminBtn_6q3a4_418",rA="_dashboardLogoutBtn_6q3a4_436",sA="_dashboardNoteItem_6q3a4_455",iA="_simulationOuterWrapper_6q3a4_466",oA="_simulationContainer_6q3a4_474",lA="_modalOverlay_6q3a4_495",cA="_dashboardModalContent_6q3a4_521",dA="_modalBounceIn_6q3a4_1",uA="_modalHeader_6q3a4_549",mA="_modalTitle_6q3a4_562",pA="_closeBtn_6q3a4_571",fA="_modalFooter_6q3a4_589",hA="_footerCloseBtn_6q3a4_610",gA="_dashboardHighlight_6q3a4_645",yA="_pulseGlow_6q3a4_1",bA="_dashboardSimulationBox_6q3a4_691",vA="_proposalAlertButton_6q3a4_733",xA="_proposalAlertRow_6q3a4_740",EA="_newsUpdatesHeader_6q3a4_853",wA="_poolTableContainer_6q3a4_914",SA="_modalDetailsSnazzy_6q3a4_975",CA="_modalDetailRowSnazzy_6q3a4_979",_A="_gameTypeIcon_6q3a4_984",IA="_iframeWrapper_6q3a4_993",kA="_modalIframe_6q3a4_1004",NA="_proposalModalContent_6q3a4_1016",AA="_proposalModalTitle_6q3a4_1035",DA="_proposalModalCloseBtn_6q3a4_1046",MA="_proposalCardButton_6q3a4_1067",TA="_proposalCardLabel_6q3a4_1086",RA="_proposalCardMessage_6q3a4_1092",PA="_smallShowMoreBtn_6q3a4_1097",LA="_counterProposalOverlay_6q3a4_1115",BA="_proposalList_6q3a4_1140",OA="_proposalCard_6q3a4_1067",zA="_proposalCardBtn_6q3a4_1147",UA="_proposalCardName_6q3a4_1165",FA="_emptyMsg_6q3a4_1169",WA="_matchCardContentWrapper_6q3a4_1215",HA="_matchCardDoneBtn_6q3a4_1222",jA="_standingsModalContent_6q3a4_1248",YA="_standingsTableWrapper_6q3a4_1286",qA="_standingsTable_6q3a4_1286",$A="_inputField_6q3a4_1324",GA="_proposalModalHeaderBar_6q3a4_1348",ZA="_phasePill_6q3a4_1357",VA="_divisionPill_6q3a4_1367",QA="_proposalModalToRow_6q3a4_1375",XA="_toOpponentLabel_6q3a4_1382",JA="_toOpponentName_6q3a4_1388",KA="_proposalModalDayRow_6q3a4_1393",eD="_dayLabel_6q3a4_1400",tD="_dayValue_6q3a4_1406",nD="_proposalModalFieldRow_6q3a4_1411",aD="_fieldLabel_6q3a4_1416",rD="_datePill_6q3a4_1425",sD="_proposalModalButtonRow_6q3a4_1438",iD="_root_6q3a4_1",oD="_challengeStatsContainer_6q3a4_1604",lD="_challengeStatsHeader_6q3a4_1612",cD="_challengeStatsGrid_6q3a4_1616",dD="_challengeStatCard_6q3a4_1623",uD="_challengeStatHeader_6q3a4_1635",mD="_challengeProgressBar_6q3a4_1644",pD="_challengeProgressFill_6q3a4_1653",fD="_challengeStatDetails_6q3a4_1658",hD="_challengeStatusSummary_6q3a4_1668",gD="_mobileMatchesOverlay_6q3a4_1790",yD="_countersRow_6q3a4_1794",bD="_counterBox_6q3a4_1800",vD="_scheduleMatchBtn_6q3a4_1804",xD="_noMatchesText_6q3a4_1877",ED="_dashboardButton_6q3a4_1978",wD="_dashboardButtonSmall_6q3a4_1985",SD="_dashboardButtonLarge_6q3a4_1991",CD="_dashboardGrid_6q3a4_1997",_D="_dashboardFlexRow_6q3a4_2002",ID="_dashboardStats_6q3a4_2013",kD="_dashboardStat_6q3a4_2013",ND="_dashboardStatValue_6q3a4_2023",AD="_dashboardStatLabel_6q3a4_2027",DD="_dashboardText_6q3a4_2113",MD="_dashboardTextSmall_6q3a4_2118",TD="_dashboardSpacing_6q3a4_2124",RD="_dashboardSpacingLarge_6q3a4_2128",PD="_matchManager_6q3a4_2287",LD="_matchStats_6q3a4_2294",BD="_statsGrid_6q3a4_2309",OD="_statItem_6q3a4_2315",zD="_statNumber_6q3a4_2323",UD="_statLabel_6q3a4_2331",FD="_matchSection_6q3a4_2338",WD="_noMatches_6q3a4_1877",HD="_matchList_6q3a4_2360",jD="_completedMatch_6q3a4_2380",YD="_matchHeader_6q3a4_2389",qD="_matchStatus_6q3a4_2396",$D="_matchDate_6q3a4_2405",GD="_matchPlayers_6q3a4_2410",ZD="_player1_6q3a4_2419",VD="_player2_6q3a4_2419",QD="_winner_6q3a4_2426",XD="_vs_6q3a4_2432",JD="_matchDetails_6q3a4_2437",KD="_location_6q3a4_2446",e6="_type_6q3a4_2446",t6="_matchResult_6q3a4_2452",n6="_score_6q3a4_2461",a6="_matchNotes_6q3a4_2466",r6="_notesLabel_6q3a4_2472",s6="_notesText_6q3a4_2479",i6="_matchActions_6q3a4_2485",o6="_actionButton_6q3a4_2493",l6="_cancelButton_6q3a4_2511",c6="_modal_6q3a4_495",d6="_formGroup_6q3a4_2553",u6="_modalActions_6q3a4_2589",m6="_loading_6q3a4_2629",p6="_mobileCard_6q3a4_2687",f6="_mobileCardElevated_6q3a4_2702",h6="_mobileCardOutlined_6q3a4_2707",g6="_mobileButton_6q3a4_2713",y6="_mobileButtonSecondary_6q3a4_2752",b6="_mobileButtonSuccess_6q3a4_2762",v6="_mobileButtonWarning_6q3a4_2772",x6="_mobileButtonDanger_6q3a4_2782",E6="_mobileButtonSmall_6q3a4_2792",w6="_mobileButtonLarge_6q3a4_2798",S6="_mobileButtonFullWidth_6q3a4_2804",C6="_mobileList_6q3a4_2809",_6="_mobileListItem_6q3a4_2815",I6="_mobileNavigation_6q3a4_2836",k6="_mobileActionSheetOverlay_6q3a4_2847",N6="_fadeIn_6q3a4_1",A6="_mobileActionSheet_6q3a4_2847",D6="_slideUp_6q3a4_1",M6="_mobileSwipeableCard_6q3a4_2874",T6="_mobilePullToRefresh_6q3a4_2902",R6="_mobileDashboard_6q3a4_2908",P6="_mobileLoadingOverlay_6q3a4_3020",L6="_mobileErrorContainer_6q3a4_3035",B6="_mobileErrorIcon_6q3a4_3046",O6="_mobileErrorMessage_6q3a4_3052",z6="_mobileSuccessContainer_6q3a4_3060",U6="_mobileSuccessIcon_6q3a4_3071",F6="_mobileSuccessMessage_6q3a4_3077",W6="_mobileInfoContainer_6q3a4_3085",H6="_mobileInfoIcon_6q3a4_3096",j6="_mobileInfoMessage_6q3a4_3102",Y6="_loadingOverlay_6q3a4_3175",q6="_loadingSpinner_6q3a4_3189",$6="_spin_6q3a4_1",G6="_loadingText_6q3a4_3203",Z6="_skeletonLoader_6q3a4_3212",V6="_skeletonLine_6q3a4_3219",Q6="_shimmer_6q3a4_1",X6="_errorContainer_6q3a4_3239",J6="_errorIcon_6q3a4_3250",K6="_errorMessage_6q3a4_3256",e8="_errorAction_6q3a4_3263",t8="_successContainer_6q3a4_3281",n8="_successIcon_6q3a4_3292",a8="_successMessage_6q3a4_3298",r8="_infoContainer_6q3a4_3308",s8="_infoIcon_6q3a4_3319",i8="_infoMessage_6q3a4_3325",o8="_srOnly_6q3a4_3353",l8="_slideInLeft_6q3a4_1",c8="_slideInRight_6q3a4_1",he={dashboardBg:kN,floatingLogo:NN,dashboardFrame:AN,dashboardCard:DN,fadeInUp:MN,dashboardTitle:TN,dashboardUserName:RN,dashboardSection:PN,newsUpdatesSection:LN,dashboardSectionBox:BN,dashboardSectionTitle:ON,dashboardHelperText:zN,matchesSection:UN,dashboardList:FN,matchCard:WN,matchCardButton:HN,matchCardOpponentLabel:jN,matchCardOpponentName:YN,matchCardDetail:qN,dashboardActions:$N,dashboardBtn:GN,dashboardBtnPrimary:ZN,dashboardBtnSecondary:VN,dashboardBtnSuccess:QN,dashboardBtnWarning:XN,dashboardBtnDanger:JN,dashboardBtnSmall:KN,dashboardBtnLarge:eA,buttonRow:tA,errorBox:nA,dashboardAdminBtn:aA,dashboardLogoutBtn:rA,dashboardNoteItem:sA,simulationOuterWrapper:iA,simulationContainer:oA,modalOverlay:lA,dashboardModalContent:cA,modalBounceIn:dA,modalHeader:uA,modalTitle:mA,closeBtn:pA,modalFooter:fA,footerCloseBtn:hA,dashboardHighlight:gA,pulseGlow:yA,dashboardSimulationBox:bA,proposalAlertButton:vA,proposalAlertRow:xA,newsUpdatesHeader:EA,poolTableContainer:wA,modalDetailsSnazzy:SA,modalDetailRowSnazzy:CA,gameTypeIcon:_A,iframeWrapper:IA,modalIframe:kA,proposalModalContent:NA,proposalModalTitle:AA,proposalModalCloseBtn:DA,proposalCardButton:MA,proposalCardLabel:TA,proposalCardMessage:RA,smallShowMoreBtn:PA,counterProposalOverlay:LA,proposalList:BA,proposalCard:OA,proposalCardBtn:zA,proposalCardName:UA,emptyMsg:FA,matchCardContentWrapper:WA,matchCardDoneBtn:HA,standingsModalContent:jA,standingsTableWrapper:YA,standingsTable:qA,inputField:$A,proposalModalHeaderBar:GA,phasePill:ZA,divisionPill:VA,proposalModalToRow:QA,toOpponentLabel:XA,toOpponentName:JA,proposalModalDayRow:KA,dayLabel:eD,dayValue:tD,proposalModalFieldRow:nD,fieldLabel:aD,datePill:rD,proposalModalButtonRow:sD,root:iD,challengeStatsContainer:oD,challengeStatsHeader:lD,challengeStatsGrid:cD,challengeStatCard:dD,challengeStatHeader:uD,challengeProgressBar:mD,challengeProgressFill:pD,challengeStatDetails:fD,challengeStatusSummary:hD,mobileMatchesOverlay:gD,countersRow:yD,counterBox:bD,scheduleMatchBtn:vD,noMatchesText:xD,dashboardButton:ED,dashboardButtonSmall:wD,dashboardButtonLarge:SD,dashboardGrid:CD,dashboardFlexRow:_D,dashboardStats:ID,dashboardStat:kD,dashboardStatValue:ND,dashboardStatLabel:AD,dashboardText:DD,dashboardTextSmall:MD,dashboardSpacing:TD,dashboardSpacingLarge:RD,matchManager:PD,matchStats:LD,statsGrid:BD,statItem:OD,statNumber:zD,statLabel:UD,matchSection:FD,noMatches:WD,matchList:HD,completedMatch:jD,matchHeader:YD,matchStatus:qD,matchDate:$D,matchPlayers:GD,player1:ZD,player2:VD,winner:QD,vs:XD,matchDetails:JD,location:KD,type:e6,matchResult:t6,score:n6,matchNotes:a6,notesLabel:r6,notesText:s6,matchActions:i6,actionButton:o6,cancelButton:l6,modal:c6,formGroup:d6,modalActions:u6,loading:m6,mobileCard:p6,mobileCardElevated:f6,mobileCardOutlined:h6,mobileButton:g6,mobileButtonSecondary:y6,mobileButtonSuccess:b6,mobileButtonWarning:v6,mobileButtonDanger:x6,mobileButtonSmall:E6,mobileButtonLarge:w6,mobileButtonFullWidth:S6,mobileList:C6,mobileListItem:_6,mobileNavigation:I6,mobileActionSheetOverlay:k6,fadeIn:N6,mobileActionSheet:A6,slideUp:D6,mobileSwipeableCard:M6,mobilePullToRefresh:T6,mobileDashboard:R6,mobileLoadingOverlay:P6,mobileErrorContainer:L6,mobileErrorIcon:B6,mobileErrorMessage:O6,mobileSuccessContainer:z6,mobileSuccessIcon:U6,mobileSuccessMessage:F6,mobileInfoContainer:W6,mobileInfoIcon:H6,mobileInfoMessage:j6,loadingOverlay:Y6,loadingSpinner:q6,spin:$6,loadingText:G6,skeletonLoader:Z6,skeletonLine:V6,shimmer:Q6,errorContainer:X6,errorIcon:J6,errorMessage:K6,errorAction:e8,successContainer:t8,successIcon:n8,successMessage:a8,infoContainer:r8,infoIcon:s8,infoMessage:i8,srOnly:o8,slideInLeft:l8,slideInRight:c8},Ap=""+new URL("tenball-I4UPjCSs.svg",import.meta.url).href,VE=""+new URL("PredatorTable-CE1I7Bce.png",import.meta.url).href,QE=""+new URL("nineball-5ZBjRXm5.svg",import.meta.url).href,Mm=""+new URL("8ball-COe24mO4.svg",import.meta.url).href,XE="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3c!--%20Main%20ball%20gradient%20with%20realistic%20lighting%20--%3e%3cradialGradient%20id='cueMain'%20cx='25%25'%20cy='25%25'%20r='75%25'%3e%3cstop%20offset='0%25'%20stop-color='%23ffffff'/%3e%3cstop%20offset='30%25'%20stop-color='%23f5f5f5'/%3e%3cstop%20offset='60%25'%20stop-color='%23e8e8e8'/%3e%3cstop%20offset='100%25'%20stop-color='%23d0d0d0'/%3e%3c/radialGradient%3e%3c!--%20Secondary%20highlight%20for%20depth%20--%3e%3cradialGradient%20id='cueHighlight'%20cx='20%25'%20cy='20%25'%20r='40%25'%3e%3cstop%20offset='0%25'%20stop-color='%23ffffff'%20stop-opacity='0.9'/%3e%3cstop%20offset='60%25'%20stop-color='%23ffffff'%20stop-opacity='0.3'/%3e%3cstop%20offset='100%25'%20stop-color='%23ffffff'%20stop-opacity='0'/%3e%3c/radialGradient%3e%3c!--%20Specular%20highlight%20--%3e%3cradialGradient%20id='cueSpecular'%20cx='35%25'%20cy='35%25'%20r='15%25'%3e%3cstop%20offset='0%25'%20stop-color='%23ffffff'/%3e%3cstop%20offset='100%25'%20stop-color='%23ffffff'%20stop-opacity='0'/%3e%3c/radialGradient%3e%3c!--%20Shadow%20gradient%20--%3e%3cradialGradient%20id='cueShadow'%20cx='75%25'%20cy='75%25'%20r='25%25'%3e%3cstop%20offset='0%25'%20stop-color='%23000000'%20stop-opacity='0.2'/%3e%3cstop%20offset='100%25'%20stop-color='%23000000'%20stop-opacity='0'/%3e%3c/radialGradient%3e%3c/defs%3e%3c!--%20Main%20ball%20--%3e%3ccircle%20cx='8'%20cy='8'%20r='7.5'%20fill='url(%23cueMain)'%20stroke='%23c0c0c0'%20stroke-width='0.3'/%3e%3c!--%20Primary%20highlight%20--%3e%3ccircle%20cx='6'%20cy='6'%20r='2.5'%20fill='url(%23cueHighlight)'/%3e%3c!--%20Specular%20highlight%20--%3e%3ccircle%20cx='7'%20cy='7'%20r='1.2'%20fill='url(%23cueSpecular)'/%3e%3c!--%20Subtle%20shadow%20for%20depth%20--%3e%3ccircle%20cx='9'%20cy='9'%20r='7.5'%20fill='url(%23cueShadow)'/%3e%3c/svg%3e",d8="_pinBallImg_1hrzk_212",u8={pinBallImg:d8},z0=""+new URL("logo-CyezyYO7.png",import.meta.url).href,m8=[{key:"cue",src:XE,alt:"Cue Ball"},{key:"8",src:Mm,alt:"8 Ball"},{key:"9",src:QE,alt:"9 Ball"},{key:"10",src:Ap,alt:"10 Ball"}],p8=600,f8=300,$r=15,wv=$r/2;function Tm({isRotated:t=!1}){const a=v.useRef(null),e=v.useRef(null),n=v.useRef({cue:r.createRef(),8:r.createRef(),9:r.createRef(),10:r.createRef()}),[i,l]=v.useState(!1),[c,u]=v.useState(1);return v.useEffect(()=>{if(a.current&&!i){const m=a.current,h=m.offsetWidth,f=m.offsetHeight,y=h/p8,b=f/f8,w=Math.min(y,b);u(w);const E=h/w,_=f/w,S={cue:{x:E*.85,y:_/2},8:{x:E*.25,y:_/2},9:{x:E*.25-$r*.87,y:_/2-$r*.5},10:{x:E*.25-$r*.87,y:_/2+$r*.5}};Object.entries(S).forEach(([C,I])=>{var N;if((N=n.current[C])!=null&&N.current){const k=I.x*w-wv*w,M=I.y*w-wv*w,T=$r*w;n.current[C].current.style.left=Math.max(0,Math.min(k,h-T))+"px",n.current[C].current.style.top=Math.max(0,Math.min(M,f-T))+"px",n.current[C].current.style.width=T+"px",n.current[C].current.style.height=T+"px",n.current[C].current.style.opacity=1}}),l(!0)}},[i]),r.createElement("div",{ref:a,"data-pool-container":!0,style:{width:"100%",height:"100%",position:"relative",background:"linear-gradient(180deg, #1a1a1a 0%, #000000 100%)",zIndex:0,boxShadow:"inset 0 0 50px rgba(0,0,0,0.8)"}},r.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(ellipse 1200px 800px at center 60px, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.04) 20%, rgba(255,255,255,0.02) 40%, rgba(255,255,255,0.01) 60%, transparent 80%)",zIndex:3,pointerEvents:"none"}}),r.createElement("img",{ref:e,src:VE,alt:"Pool Table",style:{width:"100%",height:"100%",display:"block",objectFit:"fill",position:"absolute",top:1,left:0,zIndex:1,pointerEvents:"none",opacity:1,filter:"opacity(1) contrast(1.3) brightness(1.25) saturate(1.1)",boxShadow:"inset 0 0 30px rgba(0,0,0,0.3)",transform:t?"rotate(90deg)":"none",transformOrigin:"center center"}}),r.createElement("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",userSelect:"none",zIndex:2}},r.createElement("img",{src:z0,alt:"League Logo",style:{position:"absolute",left:"50%",top:"50%",width:"30.5%",height:"auto",transform:t?"translate(-50%, -50%) rotate(-90deg)":"translate(-50%, -50%)",objectFit:"contain",zIndex:2,opacity:.25,filter:"drop-shadow(0 1px 4px rgba(0,0,0,0.3))",pointerEvents:"none",userSelect:"none"}})),m8.map(m=>r.createElement(r.Fragment,{key:m.key},r.createElement("img",{src:m.src,alt:m.alt,ref:n.current[m.key],className:u8.pinBallImg,style:{position:"absolute",left:0,top:0,width:$r,height:$r,zIndex:10,opacity:1,transition:"none",pointerEvents:"none",filter:"opacity(1) contrast(1.3) brightness(1.2) saturate(1.1) drop-shadow(0 2px 4px rgba(0,0,0,0.3))",borderRadius:"50%",transform:t?"rotate(-90deg)":"none",transformOrigin:"center center"}}),r.createElement("div",{style:{position:"absolute",left:3,top:3,width:$r-6,height:$r-6,borderRadius:"50%",background:"radial-gradient(ellipse 8px 4px at 30% 30%, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0.1) 50%, transparent 100%)",zIndex:11,opacity:.8,pointerEvents:"none"}}))))}function JE({aspectWidth:t,aspectHeight:a,children:e}){const n=v.useRef(null),[i,l]=v.useState(1);return v.useEffect(()=>{function c(){if(!n.current)return;const{width:m,height:h}=n.current.getBoundingClientRect(),f=Math.min(m/t,h/a);l(f)}c();const u=()=>{c()};return window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}},[t,a]),r.createElement("div",{ref:n,style:{width:"100%",height:"100%",position:"relative",overflow:"visible"}},r.createElement("div",{style:{width:t,height:a,transform:`scale(${i})`,transformOrigin:"top left",position:"absolute",top:0,left:0}},e))}function h8({open:t,onClose:a,standingsUrl:e}){const[n,i]=v.useState(!0);return t?r.createElement(xn,{open:t,onClose:a,title:" League Standings",maxWidth:"90vw",className:"standings-modal"},r.createElement("div",{style:{height:"70vh",width:"100%",position:"relative"}},n&&r.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:10,color:"#e53e3e",fontSize:"1.2rem",fontWeight:"bold"}},"Loading standings..."),r.createElement("iframe",{src:e,style:{width:"100%",height:"100%",border:"none",borderRadius:"8px",background:"#fff"},title:"League Standings",onLoad:()=>i(!1)})),r.createElement("div",{style:{marginTop:"1rem",textAlign:"center",color:"#888",fontSize:"0.9rem"}},"Front Range Pool League")):null}function g8({open:t,onClose:a,playerName:e,playerLastName:n,selectedDivision:i}){const[l,c]=v.useState([]),[u,m]=v.useState(!0),[h,f]=v.useState(null),[y,b]=v.useState(null),[w,E]=v.useState([]),_=`${e} ${n}`;return v.useEffect(()=>{if(!t||!i)return;async function S(){try{m(!0),f(null);const C=i.replace(/[^A-Za-z0-9]/g,"_"),I=`${ke}/static/standings_${C}.json`,N=await fetch(I);if(!N.ok)throw new Error(`Failed to fetch standings: ${N.status}`);const k=await N.json(),M=k.findIndex(T=>T.name&&T.name.toLowerCase().includes(_.toLowerCase()));if(M!==-1){b(M+1);const T=k.slice(M+1,M+5);E(T)}else f("Could not find user in standings")}catch(C){console.error("Error fetching standings:",C),f("Failed to load standings data")}finally{m(!1)}}S()},[t,i,_]),t?r.createElement("div",{className:he.modalOverlay,onClick:a},r.createElement("div",{className:he.dashboardModalContent,onClick:S=>S.stopPropagation()},r.createElement("div",{className:he.modalHeader},r.createElement("h2",{className:he.modalTitle}," Potential Challengers"),r.createElement("button",{className:he.closeBtn,onClick:a},"")),r.createElement("div",{style:{padding:"20px",flex:1,overflowY:"auto",display:"flex",flexDirection:"column"}},r.createElement("p",{style:{margin:"0 0 20px 0",color:"#e0e0e0",fontSize:"0.9rem",fontStyle:"italic",textAlign:"center"}},"Players ranked below you who could challenge you in Phase 2"),u&&r.createElement("div",{style:{textAlign:"center",padding:"40px 20px",color:"#888",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.createElement("div",{style:{fontSize:"1.2rem",marginBottom:"10px"}},""),"Loading potential challengers..."),h&&r.createElement("div",{style:{textAlign:"center",padding:"40px 20px",color:"#e53e3e",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.createElement("div",{style:{fontSize:"1.2rem",marginBottom:"10px"}},""),h),!u&&!h&&r.createElement(r.Fragment,null,r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"8px",padding:"15px",marginBottom:"20px",border:"1px solid rgba(255,255,255,0.1)",textAlign:"center"}},r.createElement("div",{style:{color:"#ffffff",fontSize:"1.1rem",fontWeight:"bold",marginBottom:"5px"}},"Your Position: #",y),r.createElement("div",{style:{color:"#e0e0e0",fontSize:"0.9rem"}},_)),r.createElement("div",{style:{marginBottom:"20px",flex:1}},r.createElement("h3",{style:{color:"#ffffff",fontSize:"1.2rem",marginBottom:"15px",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},"Potential Challengers (",w.length,")"),w.length===0?r.createElement("div",{style:{textAlign:"center",padding:"20px",color:"#888",fontStyle:"italic"}},"No players ranked below you found in standings"):r.createElement("div",{style:{display:"grid",gap:"10px"}},w.map((S,C)=>r.createElement("div",{key:C,style:{background:"rgba(255,255,255,0.05)",borderRadius:"8px",padding:"15px",border:"1px solid rgba(255,255,255,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"background-color 0.2s ease"},onMouseEnter:I=>I.target.style.backgroundColor="rgba(255,255,255,0.1)",onMouseLeave:I=>I.target.style.backgroundColor="rgba(255,255,255,0.05)"},r.createElement("div",{style:{flex:1}},r.createElement("div",{style:{color:"#ffffff",fontSize:"1rem",fontWeight:"bold",marginBottom:"5px"}},"#",y+C+1," - ",S.name||"Unknown Player"),S.record&&r.createElement("div",{style:{color:"#e0e0e0",fontSize:"0.85rem"}},"Record: ",S.record),S.points&&r.createElement("div",{style:{color:"#e0e0e0",fontSize:"0.85rem"}},"Points: ",S.points)),r.createElement("div",{style:{color:"#ff4444",fontSize:"1.5rem",marginLeft:"15px"}},""))))),r.createElement("div",{style:{background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"15px",border:"1px solid rgba(255,255,255,0.1)",marginBottom:"20px"}},r.createElement("div",{style:{color:"#ffffff",fontSize:"0.9rem",textAlign:"center",lineHeight:"1.4"}},r.createElement("strong",null,"Phase 2 Defense Rules:"),r.createElement("br",null)," Players ranked below you can challenge you",r.createElement("br",null)," You must accept at least 2 defense challenges",r.createElement("br",null)," These are the players who could challenge you")))))):null}const y8="_modalOverlay_8evb8_7",b8="_modalContentSnazzy_8evb8_33",v8="_modalHeaderSnazzy_8evb8_69",x8="_modalAccentBar_8evb8_89",E8="_modalTitleSnazzy_8evb8_107",w8="_modalCloseBtnSnazzy_8evb8_131",S8="_modalDetailsSnazzy_8evb8_173",C8="_modalDetailRowSnazzy_8evb8_189",_8="_modalDetailIcon_8evb8_217",I8="_modalDetailLabelSnazzy_8evb8_229",k8="_modalDetailValueSnazzy_8evb8_243",N8="_modalOpponentName_8evb8_263",A8="_modalVs_8evb8_277",D8="_gameTypeIcon_8evb8_293",M8="_modalActionBtn_8evb8_397",ht={modalOverlay:y8,modalContentSnazzy:b8,modalHeaderSnazzy:v8,modalAccentBar:x8,modalTitleSnazzy:E8,modalCloseBtnSnazzy:w8,modalDetailsSnazzy:S8,modalDetailRowSnazzy:C8,modalDetailIcon:_8,modalDetailLabelSnazzy:I8,modalDetailValueSnazzy:k8,modalOpponentName:N8,modalVs:A8,gameTypeIcon:D8,modalActionBtn:M8};class T8{constructor(){this.backendUrl=ke,this.currentAdmin=null,this.isAuthenticated=!1}async authenticateAdmin(a,e){try{console.log(" Authenticating admin:",a);const n=await fetch(`${this.backendUrl}/api/platform/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,pin:e})});if(!n.ok){const l=await n.json();throw new Error(l.message||"Authentication failed")}const i=await n.json();if(i.success&&i.admin)return this.currentAdmin=i.admin,this.isAuthenticated=!0,localStorage.setItem("adminData",JSON.stringify(i.admin)),localStorage.setItem("isAdminAuthenticated","true"),console.log(" Admin authenticated:",i.admin.email,"Role:",i.admin.role),i.admin;throw new Error("Invalid response from server")}catch(n){throw console.error(" Admin authentication failed:",n),this.currentAdmin=null,this.isAuthenticated=!1,n}}async isSuperAdmin(a,e){try{const n=await this.authenticateAdmin(a,e);return n&&n.role==="super_admin"}catch(n){return console.log(" User is not a super admin:",n.message),!1}}async isAdmin(a,e){try{const n=await this.authenticateAdmin(a,e);return n&&(n.role==="admin"||n.role==="super_admin"||n.role==="support")}catch(n){return console.log(" User is not an admin:",n.message),!1}}getCurrentAdmin(){if(this.currentAdmin)return this.currentAdmin;const a=localStorage.getItem("adminData"),e=localStorage.getItem("isAdminAuthenticated")==="true";if(a&&e)try{return this.currentAdmin=JSON.parse(a),this.isAuthenticated=!0,this.currentAdmin}catch(n){console.error("Error parsing stored admin data:",n),this.logout()}return null}hasPermission(a){const e=this.getCurrentAdmin();return!e||!e.permissions?!1:e.permissions[a]===!0}isSuperAdminRole(){const a=this.getCurrentAdmin();return a&&a.role==="super_admin"}logout(){this.currentAdmin=null,this.isAuthenticated=!1,localStorage.removeItem("adminData"),localStorage.removeItem("isAdminAuthenticated"),console.log(" Admin logged out")}isAuthenticated(){return this.isAuthenticated&&this.getCurrentAdmin()!==null}}const Li=new T8,Sv=""+new URL("ball9-U9rUK9VA.jpg",import.meta.url).href,Cv=""+new URL("ball10-pPX9kWaM.jpg",import.meta.url).href;function U0({open:t,onClose:a,player1:e,player2:n,onSelect:i}){return t?r.createElement(xn,{open:t,onClose:a,title:"Who won?",maxWidth:"340px"},r.createElement("div",{style:{textAlign:"center",marginBottom:18,color:"#fff",fontSize:"1.1em"}},"Please select the winner:"),r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:16,alignItems:"center"}},r.createElement("button",{style:{background:"#23232a",color:"#28a745",border:"2px solid #28a745",borderRadius:8,padding:"0.7rem 1.5rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",minWidth:"160px"},onClick:()=>i(e)},e),r.createElement("button",{style:{background:"#23232a",color:"#e53e3e",border:"2px solid #e53e3e",borderRadius:8,padding:"0.7rem 1.5rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",minWidth:"160px"},onClick:()=>i(n)},n)),r.createElement("button",{style:{marginTop:24,background:"#6c757d",color:"#fff",border:"none",borderRadius:"6px",padding:"0.7rem 1.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",minWidth:"120px",display:"block",marginLeft:"auto",marginRight:"auto"},onClick:a},"Cancel")):null}const R8=ke;class Ln{static async request(a,e={}){const n=`${R8}${a}`,i={headers:{"Content-Type":"application/json",Accept:"application/json",...e.headers},signal:AbortSignal.timeout(3e4),credentials:"include",mode:"cors",...e},l=3;let c;for(let u=1;u<=l;u++)try{console.log(`API Request (attempt ${u}): ${n}`);const m=await fetch(n,i);if(!m.ok)throw new Error(`API Error: ${m.status} - ${m.statusText}`);const h=await m.json();return console.log(`API Success: ${n}`),h}catch(m){if(c=m,console.warn(`API Request failed (attempt ${u}/${l}): ${n}`,m),m.message.includes("400")||m.message.includes("401")||m.message.includes("403")||m.message.includes("404"))break;if(u<l){const h=Math.min(1e3*Math.pow(2,u-1),5e3);await new Promise(f=>setTimeout(f,h))}}throw console.error(`API Request failed after ${l} attempts: ${n}`,c),c}static get(a){return this.request(a)}static post(a,e){return this.request(a,{method:"POST",body:JSON.stringify(e)})}static patch(a,e){return this.request(a,{method:"PATCH",body:JSON.stringify(e)})}static delete(a){return this.request(a,{method:"DELETE"})}static async testConnection(){try{const a=await this.get("/health");return console.log("Backend connection test successful:",a),!0}catch(a){return console.error("Backend connection test failed:",a),!1}}}const Ga={async getPendingProposals(t,a){return Ln.get(`/api/proposals/by-name?receiverName=${encodeURIComponent(t)}&division=${encodeURIComponent(a)}`)},async getSentProposals(t,a){return Ln.get(`/api/proposals/by-sender?senderName=${encodeURIComponent(t)}&division=${encodeURIComponent(a)}`)},async updateProposalStatus(t,a,e){return Ln.patch(`/api/proposals/${t}/status`,{status:a,note:e})},async createProposal(t){return Ln.post("/api/proposals",t)},async counterProposal(t,a){return Ln.patch(`/api/proposals/${t}/counter`,a)},async markCompleted(t,a,e,n){return Ln.patch(`/api/matches/completed/${t}`,{winner:a,markedByName:e,markedByEmail:n})},async cancelProposal(t){return Ln.post(`/api/proposals/${t}/cancel`)},async getAllProposals(t){const a=t?`?division=${encodeURIComponent(t)}`:"";return Ln.get(`/api/proposals/debug-list${a}`)}};function P8(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-"),m=new Date(parseInt(l),parseInt(c)-1,parseInt(u)),h=String(m.getMonth()+1).padStart(2,"0"),f=String(m.getDate()).padStart(2,"0"),y=m.getFullYear();return`${h}-${f}-${y}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),i=a.getFullYear();return`${e}-${n}-${i}`}function L8({open:t,onClose:a,match:e,onCompleted:n,userPin:i,onMatchUpdated:l,senderName:c,senderEmail:u}){const[m,h]=v.useState({x:0,y:0}),[f,y]=v.useState(!1),b=v.useRef({x:0,y:0}),w=Z=>{y(!0),b.current={x:Z.clientX-m.x,y:Z.clientY-m.y},document.body.style.userSelect="none"},E=Z=>{f&&h({x:Z.clientX-b.current.x,y:Z.clientY-b.current.y})},_=()=>{y(!1),document.body.style.userSelect=""};v.useEffect(()=>(f?(window.addEventListener("mousemove",E),window.addEventListener("mouseup",_)):(window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",_)),()=>{window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",_)}),[f]);const[S,C]=v.useState(!1),[I,N]=v.useState(!1),[k,M]=v.useState({player1:"",player2:""}),[T,q]=v.useState(e);v.useEffect(()=>{q(e)},[e]);const z=()=>{let Z=e.player||e.senderName,O=e.opponent||e.receiverName;M({player1:Z,player2:O}),N(!0)},G=async Z=>{N(!1),C(!0);const O=c&&c.trim()?c:T.player||T.senderName||"Unknown",R=u&&u.trim()?u:T.senderEmail||"unknown@example.com";console.log("Marking winner with:",{winner:Z,markedByName:O,markedByEmail:R});try{const A=await Ga.markCompleted(T._id,Z,O,R);A&&A.proposal?(q(A.proposal),l&&l(A.proposal)):(q({...T,winner:Z}),l&&l({...T,winner:Z})),n&&n(T._id)}catch{alert("Failed to mark as completed.")}C(!1)};if(!t||!T)return null;let K=new Date,ie="",H="";if(T.date&&T.time){const[Z,O,R]=T.date.split("-"),A=`${Z}-${O.padStart(2,"0")}-${R.padStart(2,"0")}`;let F=T.time.trim().toUpperCase(),[Q,V]=F.split(" "),[P,j]=Q.split(":").map(Number);V==="PM"&&P<12&&(P+=12),V==="AM"&&P===12&&(P=0);const J=P.toString().padStart(2,"0"),W=(j||0).toString().padStart(2,"0"),re=`${J}:${W}`;K=new Date(`${A}T${re}:00`),ie=P8(T.date),H=K.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"})}return r.createElement("div",{className:ht.modalOverlay,onClick:a},r.createElement("div",{className:ht.modalContentSnazzy,style:{transform:`translate(${m.x}px, ${m.y}px)`,cursor:f?"grabbing":"default"},onClick:Z=>Z.stopPropagation(),role:"dialog","aria-modal":"true","aria-label":"Match Details",tabIndex:-1},r.createElement("button",{className:ht.modalCloseBtnSnazzy,onClick:a,"aria-label":"Close"},""),r.createElement("div",{className:ht.modalHeaderSnazzy,onMouseDown:w,style:{cursor:"grab",userSelect:"none"}},r.createElement("span",{className:ht.modalAccentBar}),r.createElement("h2",{className:ht.modalTitleSnazzy}," Match Details")),r.createElement("div",{className:ht.modalDetailsSnazzy},r.createElement("div",{className:ht.modalDetailRowSnazzy},r.createElement("span",{className:ht.modalDetailIcon},""),r.createElement("span",{className:ht.modalDetailLabelSnazzy},"Players:"),r.createElement("span",{className:ht.modalDetailValueSnazzy},r.createElement("span",{className:ht.modalOpponentName},T.player||T.senderName),r.createElement("span",{className:ht.modalVs},"vs"),r.createElement("span",{className:ht.modalOpponentName},T.opponent||T.receiverName))),r.createElement("div",{className:ht.modalDetailRowSnazzy},r.createElement("span",{className:ht.modalDetailIcon},""),r.createElement("span",{className:ht.modalDetailLabelSnazzy},"Date:"),r.createElement("span",{className:ht.modalDetailValueSnazzy},ie)),r.createElement("div",{className:ht.modalDetailRowSnazzy},r.createElement("span",{className:ht.modalDetailIcon},""),r.createElement("span",{className:ht.modalDetailLabelSnazzy},"Time:"),r.createElement("span",{className:ht.modalDetailValueSnazzy},H)),r.createElement("div",{className:ht.modalDetailRowSnazzy},r.createElement("span",{className:ht.modalDetailIcon},""),r.createElement("span",{className:ht.modalDetailLabelSnazzy},"Location:"),r.createElement("span",{className:ht.modalDetailValueSnazzy},T.location)),T.gameType&&r.createElement("div",{className:ht.modalDetailRowSnazzy},B8(T.gameType),r.createElement("span",{className:ht.modalDetailLabelSnazzy},"Game Type:"),r.createElement("span",{className:ht.modalDetailValueSnazzy},T.gameType)),T.raceLength&&r.createElement("div",{className:ht.modalDetailRowSnazzy},r.createElement("span",{className:ht.modalDetailIcon},""),r.createElement("span",{className:ht.modalDetailLabelSnazzy},"Race to:"),r.createElement("span",{className:ht.modalDetailValueSnazzy},T.raceLength)),T.winner&&r.createElement("div",{style:{color:"#ffd700",fontWeight:700,marginTop:6,fontSize:"1em"}}," Winner: ",T.winner,Li.getCurrentAdmin()&&T.winnerChangedByName&&r.createElement("span",{style:{color:"#aaa",fontWeight:400,fontSize:"0.95em",marginLeft:8}},"(marked by ",T.winnerChangedByName,T.winnerChangedAt?` on ${new Date(T.winnerChangedAt).toLocaleString()}`:"",")"))),!T.completed&&r.createElement(r.Fragment,null,r.createElement("button",{className:ht.modalActionBtn,onClick:z,disabled:S,style:{marginTop:16,minWidth:180},type:"button"},S?"Marking...":"Mark as Completed"),r.createElement(U0,{open:I,onClose:()=>N(!1),player1:k.player1,player2:k.player2,onSelect:G}))))}function B8(t){if(!t)return r.createElement("span",{className:ht.modalDetailIcon},"");const a=t.trim().toLowerCase();return a==="8 ball"||a==="8-ball"||a==="8ball"?r.createElement("img",{src:Mm,alt:"8 Ball",className:ht.gameTypeIcon}):a==="9 ball"||a==="9-ball"||a==="9ball"?r.createElement("img",{src:Sv,alt:"9 Ball",className:ht.gameTypeIcon}):a==="10 ball"||a==="10-ball"||a==="10ball"?r.createElement("img",{src:Cv,alt:"10 Ball",className:ht.gameTypeIcon}):a==="mixed"||a==="mixed games"?r.createElement(r.Fragment,null,r.createElement("img",{src:Mm,alt:"8 Ball",className:ht.gameTypeIcon}),r.createElement("img",{src:Sv,alt:"9 Ball",className:ht.gameTypeIcon}),r.createElement("img",{src:Cv,alt:"10 Ball",className:ht.gameTypeIcon})):r.createElement("span",{className:ht.modalDetailIcon},"")}const O8="_proposalList_1gl2k_39",z8="_proposalCardButton_1gl2k_169",U8="_proposalCardLabel_1gl2k_211",F8="_proposalCardMessage_1gl2k_223",W8="_modalContent_1gl2k_277",H8="_confirmDialogBox_1gl2k_345",oa={proposalList:O8,proposalCardButton:z8,proposalCardLabel:U8,proposalCardMessage:F8,modalContent:W8,confirmDialogBox:H8};function _v(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-"),m=new Date(parseInt(l),parseInt(c)-1,parseInt(u)),h=String(m.getMonth()+1).padStart(2,"0"),f=String(m.getDate()).padStart(2,"0"),y=m.getFullYear();return`${h}-${f}-${y}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),i=a.getFullYear();return`${e}-${n}-${i}`}function j8(t){if(!t)return"N/A";if(t.includes(":")&&t.length===5){const[a,e]=t.split(":"),n=parseInt(a),i=n>=12?"PM":"AM";return`${n===0?12:n>12?n-12:n}:${e} ${i}`}return t}function Iv({proposals:t,onSelect:a,onClose:e,type:n="received",isAdmin:i=!1,senderEmail:l,senderName:c,onProposalUpdated:u}){console.log("Proposals:",t);const[m,h]=v.useState(null),[f,y]=v.useState(!1),[b,w]=v.useState(""),[E,_]=v.useState(t),[S,C]=v.useState("all"),I=t.filter(R=>R.isCounter),N=t.filter(R=>!R.isCounter),k=S==="counter"?I:N,[M,T]=v.useState(!1),[q,z]=v.useState(null),[G,K]=v.useState({player1:"",player2:""}),[ie,H]=v.useState(!1),Z=async R=>{y(!0),w("");try{await Ga.cancelProposal(R),_(A=>A.filter(F=>F._id!==R)),h(null)}catch{w("Failed to cancel proposal. Please try again.")}finally{y(!1)}},O=n==="completed"?E:t;return r.createElement(xn,{open:!0,onClose:e,title:n==="completed"?"Completed Matches":n==="sent"?"Matches You Proposed":"Pending Match Proposals",maxWidth:"600px"},r.createElement("div",{className:oa.modalContent,style:{position:"relative",maxHeight:"none",overflowY:"visible"}},n!=="completed"&&r.createElement("div",{style:{display:"flex",gap:8,marginBottom:16}},r.createElement("button",{onClick:()=>C("all"),style:{background:S==="all"?"#e53e3e":"#333",color:"#fff",border:"none",borderRadius:"6px",padding:"0.5rem 1.2rem",fontWeight:"bold",cursor:"pointer",boxShadow:S==="all"?"0 2px 8px #e53e3e44":"none",position:"relative"}},"All Proposals (",N.length,")",N.length>0&&r.createElement("span",{style:{background:"#fff",color:"#e53e3e",borderRadius:"50%",padding:"2px 8px",fontSize:"0.85em",fontWeight:"bold",marginLeft:8,position:"absolute",top:"-8px",right:"-12px",minWidth:24,textAlign:"center",boxShadow:"0 1px 4px #0002"}},N.length)),r.createElement("button",{onClick:()=>C("counter"),style:{background:S==="counter"?"#ff9800":"#333",color:"#fff",border:"none",borderRadius:"6px",padding:"0.5rem 1.2rem",fontWeight:"bold",cursor:"pointer",boxShadow:S==="counter"?"0 2px 8px #ff980044":"none",position:"relative"}},"Counter Proposals (",I.length,")",I.length>0&&r.createElement("span",{style:{background:"#fff",color:"#ff9800",borderRadius:"50%",padding:"2px 8px",fontSize:"0.85em",fontWeight:"bold",marginLeft:8,position:"absolute",top:"-8px",right:"-12px",minWidth:24,textAlign:"center",boxShadow:"0 1px 4px #0002"}},I.length))),r.createElement("ul",{className:oa.proposalList,style:{listStyle:"none",padding:0,margin:0}},n==="completed"?O.map(R=>r.createElement("li",{key:R._id,style:{position:"relative",marginBottom:12}},r.createElement("div",{className:oa.proposalCardButton,style:{cursor:"default",background:"#23232a",color:"#28a745",border:"2px solid #28a745",borderRadius:8,padding:"1rem",fontWeight:600}},r.createElement("div",null,r.createElement("span",{className:oa.proposalCardLabel},"Opponent:")," ",R.opponent||R.receiverName||R.senderName),r.createElement("div",null,r.createElement("span",{className:oa.proposalCardLabel},"Date:")," ",_v(R.date),"  ",r.createElement("span",{className:oa.proposalCardLabel},"Time:")," ",R.time),r.createElement("div",null,r.createElement("span",{className:oa.proposalCardLabel},"Location:")," ",R.location),r.createElement("div",null,r.createElement("span",{className:oa.proposalCardLabel},"Game Type:")," ",R.gameType),R.winner&&r.createElement("div",{style:{color:"#ffd700",fontWeight:700,marginTop:6,fontSize:"1em"}}," Winner: ",R.winner,i&&R.winnerChangedByName&&r.createElement("span",{style:{color:"#aaa",fontWeight:400,fontSize:"0.95em",marginLeft:8}},"(marked by ",R.winnerChangedByName,R.winnerChangedAt?` on ${new Date(R.winnerChangedAt).toLocaleString()}`:"",")")),i&&r.createElement("button",{style:{marginTop:10,background:"#444",color:"#fff",border:"1px solid #ffd700",borderRadius:6,padding:"4px 12px",fontWeight:600,cursor:"pointer",fontSize:"0.95em",display:"inline-block"},disabled:ie,onClick:()=>{const A=R.player||R.senderName,F=R.opponent||R.receiverName;z(R),K({player1:A,player2:F}),T(!0)},type:"button"},ie?"Saving...":R.winner?"Edit Winner":"Set Winner")))):k.map(R=>r.createElement("li",{key:R._id,style:{position:"relative"}},r.createElement("button",{onClick:()=>a(R),className:oa.proposalCardButton},r.createElement("div",null,r.createElement("span",{className:oa.proposalCardLabel},n==="sent"?"To:":"From:"),n==="sent"?R.receiverName:R.senderName,R.isCounter&&r.createElement("span",{style:{background:"#ff9800",color:"#fff",borderRadius:"6px",padding:"2px 8px",fontSize:"0.85em",marginLeft:"8px",fontWeight:"bold",display:"inline-block"}},"Counter Proposal")),r.createElement("div",null,r.createElement("span",{className:oa.proposalCardLabel},"Date:")," ",_v(R.date),"  ",r.createElement("span",{className:oa.proposalCardLabel},"Time:")," ",j8(R.time)),r.createElement("div",null,r.createElement("span",{className:oa.proposalCardLabel},"Location:")," ",R.location),r.createElement("div",{className:oa.proposalCardMessage},R.message),r.createElement("div",null,r.createElement("span",{className:oa.proposalCardLabel},"Status:"),r.createElement("span",{style:{color:R.status==="pending"?"#d32f2f":R.status==="countered"?"#fbc02d":"#388e3c"}},R.status))),n==="sent"&&R.status==="pending"&&r.createElement("button",{className:oa.cancelProposalBtn,style:{position:"absolute",top:10,right:10},onClick:A=>{A.stopPropagation(),h(R._id)},disabled:f},"Cancel")))),k.length===0&&r.createElement("div",{style:{color:"#ffecb3",textAlign:"center",marginTop:16}},"Nothing to see here."),m&&r.createElement("div",{className:oa.confirmDialogBox,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1001,background:"#222",color:"#fff",borderRadius:"10px",padding:"2rem 2.5rem",boxShadow:"0 4px 32px #000a",maxWidth:"90vw",minWidth:"260px",textAlign:"center",border:"2px solid #e53e3e"}},r.createElement("p",null,"Are you sure you want to cancel this proposal?"),r.createElement("button",{onClick:()=>Z(m),disabled:f,style:{marginRight:12}},f?"Cancelling...":"Yes, Cancel"),r.createElement("button",{onClick:()=>h(null),disabled:f},"No, Go Back"),b&&r.createElement("div",{style:{color:"red",marginTop:8}},b))),r.createElement(U0,{open:M,onClose:()=>T(!1),player1:G.player1,player2:G.player2,onSelect:async R=>{if(q){H(!0);try{const A=await Ga.markCompleted(q._id,R,c,l),F=A&&A.proposal?A.proposal:{...q,winner:R,winnerChangedByName:c,winnerChangedByEmail:l,winnerChangedAt:new Date().toISOString()};_(Q=>Q.map(V=>V._id===q._id?F:V)),u&&u(F),T(!1)}catch{alert("Failed to update winner.")}H(!1)}}}))}function Y8(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-"),m=new Date(parseInt(l),parseInt(c)-1,parseInt(u)),h=String(m.getMonth()+1).padStart(2,"0"),f=String(m.getDate()).padStart(2,"0"),y=m.getFullYear();return`${h}-${f}-${y}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),i=a.getFullYear();return`${e}-${n}-${i}`}function q8({proposal:t,phase:a,userNote:e,setUserNote:n,onConfirm:i,onClose:l,onCounterPropose:c,showNote:u=!0,confirmLabel:m=" Confirm Match",currentUserName:h,currentUserEmail:f}){if(!t)return null;const{senderName:y,receiverName:b,senderEmail:w,receiverEmail:E,day:_,date:S,time:C,location:I,gameType:N,raceLength:k,message:M,proposalNote:T}=t,q=f&&w&&f.toLowerCase()===w.toLowerCase()||h&&y&&h.toLowerCase()===y.toLowerCase();return r.createElement("div",{className:ln.confirmMatchCard},r.createElement("h1",{className:ln.confirmMatchTitle},r.createElement("span",{className:ln.redTitle}," Confirm Match")),r.createElement("div",{className:ln.confirmMatchDetails},r.createElement("div",{className:ln.detailRow},r.createElement("strong",{className:ln.redTitle},"You:")," ",b||t.to||"N/A"),r.createElement("div",{className:ln.detailRow},r.createElement("strong",{className:ln.redTitle},"Opponent:")," ",y||t.from||"N/A"),_&&r.createElement("div",{className:ln.detailRow},r.createElement("strong",{className:ln.redTitle},"Day:")," ",_),r.createElement("div",{className:ln.detailRow},r.createElement("strong",{className:ln.redTitle},"Date:")," ",Y8(S)),r.createElement("div",{className:ln.detailRow},r.createElement("strong",{className:ln.redTitle},"Time:")," ",C||"N/A"),r.createElement("div",{className:ln.detailRow},r.createElement("strong",{className:ln.redTitle},"Location:")," ",I||"N/A"),N&&r.createElement("div",{className:ln.detailRow},r.createElement(vp,{gameType:N,size:16}),r.createElement("strong",{className:ln.redTitle},"Game Type:")," ",N),k&&r.createElement("div",{className:ln.detailRow},r.createElement("strong",{className:ln.redTitle},"Race to:")," ",k),r.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:12,marginTop:18,justifyContent:"center",paddingBottom:8,width:"100%",boxSizing:"border-box"}},q?r.createElement(r.Fragment,null,r.createElement("span",{style:{color:"#888",fontWeight:500,fontSize:"1.1em"}},"You proposed this match. You can edit or message, but only your opponent can confirm/counter/cancel."),r.createElement("button",{className:ln.confirmBtn,style:{background:"#aaa",minWidth:120,marginLeft:16},onClick:l},"OK")):r.createElement(r.Fragment,null,r.createElement("button",{className:ln.confirmBtn,style:{minWidth:120},onClick:i},m),c&&r.createElement("button",{className:ln.confirmBtn,style:{background:"#fff",color:"#d32f2f",border:"1.5px solid #d32f2f",minWidth:120},onClick:c,type:"button"},"Counter-Propose"),r.createElement("button",{className:ln.confirmBtn,style:{background:"#aaa",minWidth:120},onClick:l},"Close")))))}function Hg(t){const a={Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat",Sunday:"Sun"},e={Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[],Sun:[]};return t&&t.split(/\r?\n/).forEach(n=>{const i=n.match(/Day:\s*(\w+),\s*Available From:\s*([\w:]+),\s*Available Until:\s*([\w: ]+)/i);if(i){const[l,c,u,m]=i,h=a[c];h&&e[h].push(`${u} - ${m}`)}}),e}function KE({open:t,onClose:a,opponents:e,onOpponentClick:n,phase:i,selectedCalendarDate:l,smartMatchMode:c=!1,allPlayers:u=[]}){if(!t)return null;const m=l?e.filter(h=>{if(!h.player||!h.player.availability)return!1;const y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][l.getDay()],b=h.player.availability;return b[y]&&b[y].length>0}):e;return r.createElement(xn,{open:t,onClose:a,title:c?` Smart Match - Select Opponent${l?` (${l.toLocaleDateString()})`:""}`:` Select Opponent - ${i==="scheduled"||i==="offseason"?"Phase 1":"Phase 2"}${l?` (${l.toLocaleDateString()})`:""}`,maxWidth:"500px"},r.createElement("div",{style:{maxHeight:"60vh",overflowY:"auto"}},m.length===0?r.createElement("p",{style:{color:"#888",textAlign:"center",fontStyle:"italic"}},l?`No opponents available for ${l.toLocaleDateString()} (${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][l.getDay()]}).`:"No opponents available for scheduling at this time."):r.createElement("div",{style:{display:"grid",gap:"8px"}},m.map((h,f)=>r.createElement("button",{key:h.player&&h.player.email||`${h.opponentName}-${f}`||`opponent-${f}`,onClick:()=>n(h.player&&h.player.name?h.player.name:h.opponentName),style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"1rem",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseEnter:y=>{y.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",y.target.style.transform="translateY(-2px)",y.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:y=>{y.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",y.target.style.transform="translateY(0)",y.target.style.boxShadow="none"}},h.player&&h.player.name?h.player.name:h.opponentName)))))}function Dp({player:t,onClose:a,senderEmail:e,onProposeMatch:n,selectedDivision:i,phase:l}){if(!t)return null;const[c,u]=v.useState(!1),[m,h]=v.useState(10);return v.useEffect(()=>{let f;return c&&(h(10),f=setInterval(()=>{h(y=>y<=1?(clearInterval(f),u(!1),10):y-1)},1e3)),()=>clearInterval(f)},[c]),r.createElement(xn,{open:!0,onClose:a,title:` ${t.name||`${t.firstName} ${t.lastName}`}`,maxWidth:"600px"},r.createElement("div",{style:{textAlign:"left"}},r.createElement("div",{style:{fontSize:"0.9rem",color:"#888",marginBottom:"1.5rem",textAlign:"center"}},l==="scheduled"?"Phase 1 (Scheduled)":l==="challenge"?"Phase 2 (Challenge)":l),r.createElement("div",{style:{marginBottom:"1.5rem"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"0.5rem",fontSize:"1.1rem",textAlign:"center"}},"Preferred Locations:"),r.createElement("div",{style:{color:"#fff",textAlign:"center",maxWidth:"100%",overflow:"hidden"}},t.locations?(()=>{const f=t.locations.split(/\r?\n/).filter(Boolean);return r.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"8px",padding:"8px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)",maxWidth:"100%"}},f.map((y,b)=>r.createElement("span",{key:y+b,style:{background:"rgba(229, 62, 62, 0.2)",color:"#fff",padding:"4px 8px",borderRadius:"12px",fontSize:"0.85rem",border:"1px solid rgba(229, 62, 62, 0.3)",whiteSpace:"nowrap",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block"},title:y}," ",y)))})():"No locations specified")),r.createElement("div",{style:{marginBottom:"1.5rem"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"0.5rem",fontSize:"1.1rem",textAlign:"center"}},"Availability:"),r.createElement("div",{style:{color:"#fff",fontSize:"0.9rem",marginBottom:"1rem",textAlign:"center",fontStyle:"italic"}},"Pick a timeblock within a day to schedule a match with this opponent."),r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px"}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"}},["Mon","Tue","Wed"].map(f=>r.createElement("div",{key:f,style:{textAlign:"center"}},r.createElement("div",{style:{color:"#e53e3e",fontWeight:"bold",marginBottom:"0.5rem",fontSize:"0.9rem"}},f),!t.availability||!t.availability[f]||t.availability[f].length===0?r.createElement("div",{style:{color:"#666",fontSize:"0.8rem",padding:"0.5rem",background:"#222",borderRadius:"4px"}},""):(t.availability[f]||[]).map((y,b)=>r.createElement("div",{key:b,onClick:()=>{n&&n(f,y,l,i)},style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"1px solid #e53e3e",borderRadius:"6px",padding:"0.5rem",fontSize:"0.8rem",cursor:"pointer",transition:"all 0.2s ease",marginBottom:"0.5rem"},onMouseEnter:w=>{w.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",w.target.style.transform="translateY(-1px)",w.target.style.boxShadow="0 2px 8px rgba(229, 62, 62, 0.3)"},onMouseLeave:w=>{w.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",w.target.style.transform="translateY(0)",w.target.style.boxShadow="none"},tabIndex:0,role:"button","aria-label":`Propose match on ${f} at ${y}`,onKeyPress:w=>{(w.key==="Enter"||w.key===" ")&&n&&n(f,y,l,i)}},y))))),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"}},["Thu","Fri","Sat"].map(f=>r.createElement("div",{key:f,style:{textAlign:"center"}},r.createElement("div",{style:{color:"#e53e3e",fontWeight:"bold",marginBottom:"0.5rem",fontSize:"0.9rem"}},f),!t.availability||!t.availability[f]||t.availability[f].length===0?r.createElement("div",{style:{color:"#666",fontSize:"0.8rem",padding:"0.5rem",background:"#222",borderRadius:"4px"}},""):(t.availability[f]||[]).map((y,b)=>r.createElement("div",{key:b,onClick:()=>{n&&n(f,y,l,i)},style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"1px solid #e53e3e",borderRadius:"6px",padding:"0.5rem",fontSize:"0.8rem",cursor:"pointer",transition:"all 0.2s ease",marginBottom:"0.5rem"},onMouseEnter:w=>{w.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",w.target.style.transform="translateY(-1px)",w.target.style.boxShadow="0 2px 8px rgba(229, 62, 62, 0.3)"},onMouseLeave:w=>{w.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",w.target.style.transform="translateY(0)",w.target.style.boxShadow="none"},tabIndex:0,role:"button","aria-label":`Propose match on ${f} at ${y}`,onKeyPress:w=>{(w.key==="Enter"||w.key===" ")&&n&&n(f,y,l,i)}},y))))))),r.createElement("div",{style:{marginBottom:"1.5rem",textAlign:"center"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"0.5rem",fontSize:"1.1rem",textAlign:"center"}},"Contact Information:"),r.createElement("div",{style:{color:"#fff",textAlign:"center"}},c?r.createElement("div",{style:{background:"rgba(229, 62, 62, 0.1)",border:"1px solid #e53e3e",borderRadius:"6px",padding:"1rem"}},r.createElement("div",{style:{marginBottom:"0.5rem"}},r.createElement("strong",null,"Email:")," ",t.email||"Not provided"),t.phone&&r.createElement("div",{style:{marginBottom:"0.5rem"}},r.createElement("strong",null,"Phone:")," ",t.phone),t.text&&r.createElement("div",{style:{marginBottom:"0.5rem"}},r.createElement("strong",null,"Text:")," ",t.text),t.preferredContacts&&t.preferredContacts.length>0&&r.createElement("div",null,r.createElement("strong",null,"Preferred Contact:")," ",t.preferredContacts.join(", ")),r.createElement("div",{style:{color:"#ffc107",fontSize:"0.9rem",marginTop:"0.5rem"}},"Auto-hiding in ",m," seconds...")):r.createElement("button",{onClick:()=>u(!0),style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:"6px",padding:"0.7rem 1.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"}},"Show Contact Info")))))}const $8="_opponentName_1wgqu_479",cn={"match-proposal-content":"_match-proposal-content_1wgqu_49","match-proposal-title":"_match-proposal-title_1wgqu_135","match-proposal-row":"_match-proposal-row_1wgqu_155","match-proposal-select":"_match-proposal-select_1wgqu_177","match-proposal-location-select":"_match-proposal-location-select_1wgqu_179","match-proposal-textarea":"_match-proposal-textarea_1wgqu_225","match-proposal-date-input":"_match-proposal-date-input_1wgqu_339","match-proposal-send-btn":"_match-proposal-send-btn_1wgqu_365","match-proposal-day-value":"_match-proposal-day-value_1wgqu_449",opponentName:$8,"match-proposal-division":"_match-proposal-division_1wgqu_493","match-proposal-phase":"_match-proposal-phase_1wgqu_493","match-proposal-label-red":"_match-proposal-label-red_1wgqu_501"};var tg={},G8=Object.create,ew=Object.defineProperty,Z8=Object.getOwnPropertyDescriptor,tw=Object.getOwnPropertyNames,V8=Object.getPrototypeOf,Q8=Object.prototype.hasOwnProperty,_d=(t,a)=>function(){return a||(0,t[tw(t)[0]])((a={exports:{}}).exports,a),a.exports},X8=(t,a,e,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let i of tw(a))!Q8.call(t,i)&&i!==e&&ew(t,i,{get:()=>a[i],enumerable:!(n=Z8(a,i))||n.enumerable});return t},Id=(t,a,e)=>(e=t!=null?G8(V8(t)):{},X8(!t||!t.__esModule?ew(e,"default",{value:t,enumerable:!0}):e,t)),J8=_d({"node_modules/base64-js/index.js"(t){t.byteLength=m,t.toByteArray=f,t.fromByteArray=w;var a=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(l=0,c=i.length;l<c;++l)a[l]=i[l],e[i.charCodeAt(l)]=l;var l,c;e[45]=62,e[95]=63;function u(E){var _=E.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=E.indexOf("=");S===-1&&(S=_);var C=S===_?0:4-S%4;return[S,C]}function m(E){var _=u(E),S=_[0],C=_[1];return(S+C)*3/4-C}function h(E,_,S){return(_+S)*3/4-S}function f(E){var _,S=u(E),C=S[0],I=S[1],N=new n(h(E,C,I)),k=0,M=I>0?C-4:C,T;for(T=0;T<M;T+=4)_=e[E.charCodeAt(T)]<<18|e[E.charCodeAt(T+1)]<<12|e[E.charCodeAt(T+2)]<<6|e[E.charCodeAt(T+3)],N[k++]=_>>16&255,N[k++]=_>>8&255,N[k++]=_&255;return I===2&&(_=e[E.charCodeAt(T)]<<2|e[E.charCodeAt(T+1)]>>4,N[k++]=_&255),I===1&&(_=e[E.charCodeAt(T)]<<10|e[E.charCodeAt(T+1)]<<4|e[E.charCodeAt(T+2)]>>2,N[k++]=_>>8&255,N[k++]=_&255),N}function y(E){return a[E>>18&63]+a[E>>12&63]+a[E>>6&63]+a[E&63]}function b(E,_,S){for(var C,I=[],N=_;N<S;N+=3)C=(E[N]<<16&16711680)+(E[N+1]<<8&65280)+(E[N+2]&255),I.push(y(C));return I.join("")}function w(E){for(var _,S=E.length,C=S%3,I=[],N=16383,k=0,M=S-C;k<M;k+=N)I.push(b(E,k,k+N>M?M:k+N));return C===1?(_=E[S-1],I.push(a[_>>2]+a[_<<4&63]+"==")):C===2&&(_=(E[S-2]<<8)+E[S-1],I.push(a[_>>10]+a[_>>4&63]+a[_<<2&63]+"=")),I.join("")}}}),K8=_d({"(disabled):https"(){}}),eM=_d({"node_modules/form-data/lib/browser.js"(t,a){a.exports=typeof self=="object"?self.FormData:window.FormData}}),tM=_d({"(disabled):node_modules/jsonwebtoken/index.js"(){}}),nM=_d({"(disabled):crypto"(){}}),aM=Id(J8());function jg(t){return typeof t=="string"}function kv(t,a){return!!a&&jg(t)}function rM(t,a){const e=[];if(jg(t)&&kv(t,a)){for(let n=0,i=t.length;n<i;n++)if(t.charAt(n)){const l=t.charAt(n),c=a(l,n,t);e[n]=c}}else if(!jg(t)&&!kv(t,a)){for(let n=0,i=t.length;n<i;n++)if(n in t){const l=t[n],c=a(l,n,t);e[n]=c}}return e}var sM=t=>(0,aM.fromByteArray)(new Uint8Array(rM(t,a=>a.charCodeAt(0)))),iM=t=>{const a={},e=String.fromCharCode,n=t.length;let i,l=0,c,u,m=0,h,f="";const y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=0;i<64;i++)a[y.charAt(i)]=i;for(u=0;u<n;u++)for(c=a[t.charAt(u)],l=(l<<6)+c,m+=6;m>=8;)((h=l>>>(m-=8)&255)||u<n-2)&&(f+=e(h));return f},Nv=class{constructor(t,a,e){this.client=t,this.id=a,this.data=e}async create(){var e,n,i,l,c,u,m,h,f,y,b,w;const t={id:this.id,message_template:(e=this.data)==null?void 0:e.message_template,segment_ids:(n=this.data)==null?void 0:n.segment_ids,sender_id:(i=this.data)==null?void 0:i.sender_id,sender_mode:(l=this.data)==null?void 0:l.sender_mode,channel_template:(c=this.data)==null?void 0:c.channel_template,create_channels:(u=this.data)==null?void 0:u.create_channels,show_channels:(m=this.data)==null?void 0:m.show_channels,description:(h=this.data)==null?void 0:h.description,name:(f=this.data)==null?void 0:f.name,skip_push:(y=this.data)==null?void 0:y.skip_push,skip_webhook:(b=this.data)==null?void 0:b.skip_webhook,user_ids:(w=this.data)==null?void 0:w.user_ids},a=await this.client.createCampaign(t);return this.id=a.campaign.id,this.data=a.campaign,a}verifyCampaignId(){if(!this.id)throw new Error("Campaign id is missing. Either create the campaign using campaign.create() or set the id during instantiation - const campaign = client.campaign(id)")}async start(t){return this.verifyCampaignId(),await this.client.startCampaign(this.id,t)}update(t){return this.verifyCampaignId(),this.client.updateCampaign(this.id,t)}async delete(){return this.verifyCampaignId(),await this.client.deleteCampaign(this.id)}stop(){return this.verifyCampaignId(),this.client.stopCampaign(this.id)}get(t){return this.verifyCampaignId(),this.client.getCampaign(this.id,t)}};function nw(t,a){return function(){return t.apply(a,arguments)}}var{toString:oM}=Object.prototype,{getPrototypeOf:F0}=Object,Mp=(t=>a=>{const e=oM.call(a);return t[e]||(t[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),ls=t=>(t=t.toLowerCase(),a=>Mp(a)===t),Tp=t=>a=>typeof a===t,{isArray:Rl}=Array,ud=Tp("undefined");function lM(t){return t!==null&&!ud(t)&&t.constructor!==null&&!ud(t.constructor)&&yr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var aw=ls("ArrayBuffer");function cM(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&aw(t.buffer),a}var dM=Tp("string"),yr=Tp("function"),rw=Tp("number"),Rp=t=>t!==null&&typeof t=="object",uM=t=>t===!0||t===!1,cm=t=>{if(Mp(t)!=="object")return!1;const a=F0(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},mM=ls("Date"),pM=ls("File"),fM=ls("Blob"),hM=ls("FileList"),gM=t=>Rp(t)&&yr(t.pipe),yM=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||yr(t.append)&&((a=Mp(t))==="formdata"||a==="object"&&yr(t.toString)&&t.toString()==="[object FormData]"))},bM=ls("URLSearchParams"),vM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kd(t,a,{allOwnKeys:e=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Rl(t))for(n=0,i=t.length;n<i;n++)a.call(null,t[n],n,t);else{const l=e?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let u;for(n=0;n<c;n++)u=l[n],a.call(null,t[u],u,t)}}function sw(t,a){a=a.toLowerCase();const e=Object.keys(t);let n=e.length,i;for(;n-- >0;)if(i=e[n],a===i.toLowerCase())return i;return null}var iw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ow=t=>!ud(t)&&t!==iw;function Yg(){const{caseless:t}=ow(this)&&this||{},a={},e=(n,i)=>{const l=t&&sw(a,i)||i;cm(a[l])&&cm(n)?a[l]=Yg(a[l],n):cm(n)?a[l]=Yg({},n):Rl(n)?a[l]=n.slice():a[l]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&kd(arguments[n],e);return a}var xM=(t,a,e,{allOwnKeys:n}={})=>(kd(a,(i,l)=>{e&&yr(i)?t[l]=nw(i,e):t[l]=i},{allOwnKeys:n}),t),EM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),wM=(t,a,e,n)=>{t.prototype=Object.create(a.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:a.prototype}),e&&Object.assign(t.prototype,e)},SM=(t,a,e,n)=>{let i,l,c;const u={};if(a=a||{},t==null)return a;do{for(i=Object.getOwnPropertyNames(t),l=i.length;l-- >0;)c=i[l],(!n||n(c,t,a))&&!u[c]&&(a[c]=t[c],u[c]=!0);t=e!==!1&&F0(t)}while(t&&(!e||e(t,a))&&t!==Object.prototype);return a},CM=(t,a,e)=>{t=String(t),(e===void 0||e>t.length)&&(e=t.length),e-=a.length;const n=t.indexOf(a,e);return n!==-1&&n===e},_M=t=>{if(!t)return null;if(Rl(t))return t;let a=t.length;if(!rw(a))return null;const e=new Array(a);for(;a-- >0;)e[a]=t[a];return e},IM=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&F0(Uint8Array)),kM=(t,a)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const l=i.value;a.call(t,l[0],l[1])}},NM=(t,a)=>{let e;const n=[];for(;(e=t.exec(a))!==null;)n.push(e);return n},AM=ls("HTMLFormElement"),DM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,i){return n.toUpperCase()+i}),Av=(({hasOwnProperty:t})=>(a,e)=>t.call(a,e))(Object.prototype),MM=ls("RegExp"),lw=(t,a)=>{const e=Object.getOwnPropertyDescriptors(t),n={};kd(e,(i,l)=>{let c;(c=a(i,l,t))!==!1&&(n[l]=c||i)}),Object.defineProperties(t,n)},TM=t=>{lw(t,(a,e)=>{if(yr(t)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const n=t[e];if(yr(n)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},RM=(t,a)=>{const e={},n=i=>{i.forEach(l=>{e[l]=!0})};return Rl(t)?n(t):n(String(t).split(a)),e},PM=()=>{},LM=(t,a)=>(t=+t,Number.isFinite(t)?t:a),ng="abcdefghijklmnopqrstuvwxyz",Dv="0123456789",cw={DIGIT:Dv,ALPHA:ng,ALPHA_DIGIT:ng+ng.toUpperCase()+Dv},BM=(t=16,a=cw.ALPHA_DIGIT)=>{let e="";const{length:n}=a;for(;t--;)e+=a[Math.random()*n|0];return e};function OM(t){return!!(t&&yr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var zM=t=>{const a=new Array(10),e=(n,i)=>{if(Rp(n)){if(a.indexOf(n)>=0)return;if(!("toJSON"in n)){a[i]=n;const l=Rl(n)?[]:{};return kd(n,(c,u)=>{const m=e(c,i+1);!ud(m)&&(l[u]=m)}),a[i]=void 0,l}}return n};return e(t,0)},UM=ls("AsyncFunction"),FM=t=>t&&(Rp(t)||yr(t))&&yr(t.then)&&yr(t.catch),xe={isArray:Rl,isArrayBuffer:aw,isBuffer:lM,isFormData:yM,isArrayBufferView:cM,isString:dM,isNumber:rw,isBoolean:uM,isObject:Rp,isPlainObject:cm,isUndefined:ud,isDate:mM,isFile:pM,isBlob:fM,isRegExp:MM,isFunction:yr,isStream:gM,isURLSearchParams:bM,isTypedArray:IM,isFileList:hM,forEach:kd,merge:Yg,extend:xM,trim:vM,stripBOM:EM,inherits:wM,toFlatObject:SM,kindOf:Mp,kindOfTest:ls,endsWith:CM,toArray:_M,forEachEntry:kM,matchAll:NM,isHTMLForm:AM,hasOwnProperty:Av,hasOwnProp:Av,reduceDescriptors:lw,freezeMethods:TM,toObjectSet:RM,toCamelCase:DM,noop:PM,toFiniteNumber:LM,findKey:sw,global:iw,isContextDefined:ow,ALPHABET:cw,generateString:BM,isSpecCompliantForm:OM,toJSONObject:zM,isAsyncFn:UM,isThenable:FM};function Cl(t,a,e,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",a&&(this.code=a),e&&(this.config=e),n&&(this.request=n),i&&(this.response=i)}xe.inherits(Cl,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var dw=Cl.prototype,uw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{uw[t]={value:t}});Object.defineProperties(Cl,uw);Object.defineProperty(dw,"isAxiosError",{value:!0});Cl.from=(t,a,e,n,i,l)=>{const c=Object.create(dw);return xe.toFlatObject(t,c,function(m){return m!==Error.prototype},u=>u!=="isAxiosError"),Cl.call(c,t.message,a,e,n,i),c.cause=t,c.name=t.name,l&&Object.assign(c,l),c};var jt=Cl,WM=null;function qg(t){return xe.isPlainObject(t)||xe.isArray(t)}function mw(t){return xe.endsWith(t,"[]")?t.slice(0,-2):t}function Mv(t,a,e){return t?t.concat(a).map(function(i,l){return i=mw(i),!e&&l?"["+i+"]":i}).join(e?".":""):a}function HM(t){return xe.isArray(t)&&!t.some(qg)}var jM=xe.toFlatObject(xe,{},null,function(a){return/^is[A-Z]/.test(a)});function YM(t,a,e){if(!xe.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,e=xe.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,S){return!xe.isUndefined(S[_])});const n=e.metaTokens,i=e.visitor||f,l=e.dots,c=e.indexes,m=(e.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(a);if(!xe.isFunction(i))throw new TypeError("visitor must be a function");function h(E){if(E===null)return"";if(xe.isDate(E))return E.toISOString();if(!m&&xe.isBlob(E))throw new jt("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(E)||xe.isTypedArray(E)?m&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function f(E,_,S){let C=E;if(E&&!S&&typeof E=="object"){if(xe.endsWith(_,"{}"))_=n?_:_.slice(0,-2),E=JSON.stringify(E);else if(xe.isArray(E)&&HM(E)||(xe.isFileList(E)||xe.endsWith(_,"[]"))&&(C=xe.toArray(E)))return _=mw(_),C.forEach(function(N,k){!(xe.isUndefined(N)||N===null)&&a.append(c===!0?Mv([_],k,l):c===null?_:_+"[]",h(N))}),!1}return qg(E)?!0:(a.append(Mv(S,_,l),h(E)),!1)}const y=[],b=Object.assign(jM,{defaultVisitor:f,convertValue:h,isVisitable:qg});function w(E,_){if(!xe.isUndefined(E)){if(y.indexOf(E)!==-1)throw Error("Circular reference detected in "+_.join("."));y.push(E),xe.forEach(E,function(C,I){(!(xe.isUndefined(C)||C===null)&&i.call(a,C,xe.isString(I)?I.trim():I,_,b))===!0&&w(C,_?_.concat(I):[I])}),y.pop()}}if(!xe.isObject(t))throw new TypeError("data must be an object");return w(t),a}var Pp=YM;function Tv(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return a[n]})}function pw(t,a){this._pairs=[],t&&Pp(t,this,a)}var fw=pw.prototype;fw.append=function(a,e){this._pairs.push([a,e])};fw.toString=function(a){const e=a?function(n){return a.call(this,n,Tv)}:Tv;return this._pairs.map(function(i){return e(i[0])+"="+e(i[1])},"").join("&")};var hw=pw;function qM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gw(t,a,e){if(!a)return t;const n=e&&e.encode||qM,i=e&&e.serialize;let l;if(i?l=i(a,e):l=xe.isURLSearchParams(a)?a.toString():new hw(a,e).toString(n),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}var $M=class{constructor(){this.handlers=[]}use(t,a,e){return this.handlers.push({fulfilled:t,rejected:a,synchronous:e?e.synchronous:!1,runWhen:e?e.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){xe.forEach(this.handlers,function(e){e!==null&&t(e)})}},Rv=$M,yw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GM=typeof URLSearchParams<"u"?URLSearchParams:hw,ZM=typeof FormData<"u"?FormData:null,VM=typeof Blob<"u"?Blob:null,QM=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),XM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",es={classes:{URLSearchParams:GM,FormData:ZM,Blob:VM},isStandardBrowserEnv:QM,isStandardBrowserWebWorkerEnv:XM,protocols:["http","https","file","blob","url","data"]};function JM(t,a){return Pp(t,new es.classes.URLSearchParams,Object.assign({visitor:function(e,n,i,l){return es.isNode&&xe.isBuffer(e)?(this.append(n,e.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},a))}function KM(t){return xe.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function eT(t){const a={},e=Object.keys(t);let n;const i=e.length;let l;for(n=0;n<i;n++)l=e[n],a[l]=t[l];return a}function tT(t){function a(e,n,i,l){let c=e[l++];const u=Number.isFinite(+c),m=l>=e.length;return c=!c&&xe.isArray(i)?i.length:c,m?(xe.hasOwnProp(i,c)?i[c]=[i[c],n]:i[c]=n,!u):((!i[c]||!xe.isObject(i[c]))&&(i[c]=[]),a(e,n,i[c],l)&&xe.isArray(i[c])&&(i[c]=eT(i[c])),!u)}if(xe.isFormData(t)&&xe.isFunction(t.entries)){const e={};return xe.forEachEntry(t,(n,i)=>{a(KM(n),i,e,0)}),e}return null}var bw=tT;function nT(t,a,e){if(xe.isString(t))try{return(a||JSON.parse)(t),xe.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(t)}var W0={transitional:yw,adapter:["xhr","http"],transformRequest:[function(a,e){const n=e.getContentType()||"",i=n.indexOf("application/json")>-1,l=xe.isObject(a);if(l&&xe.isHTMLForm(a)&&(a=new FormData(a)),xe.isFormData(a))return i&&i?JSON.stringify(bw(a)):a;if(xe.isArrayBuffer(a)||xe.isBuffer(a)||xe.isStream(a)||xe.isFile(a)||xe.isBlob(a))return a;if(xe.isArrayBufferView(a))return a.buffer;if(xe.isURLSearchParams(a))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let u;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return JM(a,this.formSerializer).toString();if((u=xe.isFileList(a))||n.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Pp(u?{"files[]":a}:a,m&&new m,this.formSerializer)}}return l||i?(e.setContentType("application/json",!1),nT(a)):a}],transformResponse:[function(a){const e=this.transitional||W0.transitional,n=e&&e.forcedJSONParsing,i=this.responseType==="json";if(a&&xe.isString(a)&&(n&&!this.responseType||i)){const c=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(a)}catch(u){if(c)throw u.name==="SyntaxError"?jt.from(u,jt.ERR_BAD_RESPONSE,this,null,this.response):u}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:es.classes.FormData,Blob:es.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],t=>{W0.headers[t]={}});var H0=W0,aT=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rT=t=>{const a={};let e,n,i;return t&&t.split(`
`).forEach(function(c){i=c.indexOf(":"),e=c.substring(0,i).trim().toLowerCase(),n=c.substring(i+1).trim(),!(!e||a[e]&&aT[e])&&(e==="set-cookie"?a[e]?a[e].push(n):a[e]=[n]:a[e]=a[e]?a[e]+", "+n:n)}),a},Pv=Symbol("internals");function Oc(t){return t&&String(t).trim().toLowerCase()}function dm(t){return t===!1||t==null?t:xe.isArray(t)?t.map(dm):String(t)}function sT(t){const a=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=e.exec(t);)a[n[1]]=n[2];return a}var iT=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ag(t,a,e,n,i){if(xe.isFunction(n))return n.call(this,a,e);if(i&&(a=e),!!xe.isString(a)){if(xe.isString(n))return a.indexOf(n)!==-1;if(xe.isRegExp(n))return n.test(a)}}function oT(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,e,n)=>e.toUpperCase()+n)}function lT(t,a){const e=xe.toCamelCase(" "+a);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+e,{value:function(i,l,c){return this[n].call(this,a,i,l,c)},configurable:!0})})}var Lp=class{constructor(t){t&&this.set(t)}set(t,a,e){const n=this;function i(c,u,m){const h=Oc(u);if(!h)throw new Error("header name must be a non-empty string");const f=xe.findKey(n,h);(!f||n[f]===void 0||m===!0||m===void 0&&n[f]!==!1)&&(n[f||u]=dm(c))}const l=(c,u)=>xe.forEach(c,(m,h)=>i(m,h,u));return xe.isPlainObject(t)||t instanceof this.constructor?l(t,a):xe.isString(t)&&(t=t.trim())&&!iT(t)?l(rT(t),a):t!=null&&i(a,t,e),this}get(t,a){if(t=Oc(t),t){const e=xe.findKey(this,t);if(e){const n=this[e];if(!a)return n;if(a===!0)return sT(n);if(xe.isFunction(a))return a.call(this,n,e);if(xe.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=Oc(t),t){const e=xe.findKey(this,t);return!!(e&&this[e]!==void 0&&(!a||ag(this,this[e],e,a)))}return!1}delete(t,a){const e=this;let n=!1;function i(l){if(l=Oc(l),l){const c=xe.findKey(e,l);c&&(!a||ag(e,e[c],c,a))&&(delete e[c],n=!0)}}return xe.isArray(t)?t.forEach(i):i(t),n}clear(t){const a=Object.keys(this);let e=a.length,n=!1;for(;e--;){const i=a[e];(!t||ag(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const a=this,e={};return xe.forEach(this,(n,i)=>{const l=xe.findKey(e,i);if(l){a[l]=dm(n),delete a[i];return}const c=t?oT(i):String(i).trim();c!==i&&delete a[i],a[c]=dm(n),e[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return xe.forEach(this,(e,n)=>{e!=null&&e!==!1&&(a[n]=t&&xe.isArray(e)?e.join(", "):e)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const e=new this(t);return a.forEach(n=>e.set(n)),e}static accessor(t){const e=(this[Pv]=this[Pv]={accessors:{}}).accessors,n=this.prototype;function i(l){const c=Oc(l);e[c]||(lT(n,l),e[c]=!0)}return xe.isArray(t)?t.forEach(i):i(t),this}};Lp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.reduceDescriptors(Lp.prototype,({value:t},a)=>{let e=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(n){this[e]=n}}});xe.freezeMethods(Lp);var Hs=Lp;function rg(t,a){const e=this||H0,n=a||e,i=Hs.from(n.headers);let l=n.data;return xe.forEach(t,function(u){l=u.call(e,l,i.normalize(),a?a.status:void 0)}),i.normalize(),l}function vw(t){return!!(t&&t.__CANCEL__)}function xw(t,a,e){jt.call(this,t??"canceled",jt.ERR_CANCELED,a,e),this.name="CanceledError"}xe.inherits(xw,jt,{__CANCEL__:!0});var Bp=xw;function cT(t,a,e){const n=e.config.validateStatus;!e.status||!n||n(e.status)?t(e):a(new jt("Request failed with status code "+e.status,[jt.ERR_BAD_REQUEST,jt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}var dT=es.isStandardBrowserEnv?function(){return{write:function(e,n,i,l,c,u){const m=[];m.push(e+"="+encodeURIComponent(n)),xe.isNumber(i)&&m.push("expires="+new Date(i).toGMTString()),xe.isString(l)&&m.push("path="+l),xe.isString(c)&&m.push("domain="+c),u===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function uT(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function mT(t,a){return a?t.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,""):t}function Ew(t,a){return t&&!uT(a)?mT(t,a):a}var pT=es.isStandardBrowserEnv?function(){const a=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function i(l){let c=l;return a&&(e.setAttribute("href",c),c=e.href),e.setAttribute("href",c),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return n=i(window.location.href),function(c){const u=xe.isString(c)?i(c):c;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}();function fT(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function hT(t,a){t=t||10;const e=new Array(t),n=new Array(t);let i=0,l=0,c;return a=a!==void 0?a:1e3,function(m){const h=Date.now(),f=n[l];c||(c=h),e[i]=m,n[i]=h;let y=l,b=0;for(;y!==i;)b+=e[y++],y=y%t;if(i=(i+1)%t,i===l&&(l=(l+1)%t),h-c<a)return;const w=f&&h-f;return w?Math.round(b*1e3/w):void 0}}var gT=hT;function Lv(t,a){let e=0;const n=gT(50,250);return i=>{const l=i.loaded,c=i.lengthComputable?i.total:void 0,u=l-e,m=n(u),h=l<=c;e=l;const f={loaded:l,total:c,progress:c?l/c:void 0,bytes:u,rate:m||void 0,estimated:m&&c&&h?(c-l)/m:void 0,event:i};f[a?"download":"upload"]=!0,t(f)}}var yT=typeof XMLHttpRequest<"u",bT=yT&&function(t){return new Promise(function(e,n){let i=t.data;const l=Hs.from(t.headers).normalize(),c=t.responseType;let u;function m(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}let h;xe.isFormData(i)&&(es.isStandardBrowserEnv||es.isStandardBrowserWebWorkerEnv?l.setContentType(!1):l.getContentType(/^\s*multipart\/form-data/)?xe.isString(h=l.getContentType())&&l.setContentType(h.replace(/^\s*(multipart\/form-data);+/,"$1")):l.setContentType("multipart/form-data"));let f=new XMLHttpRequest;if(t.auth){const E=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";l.set("Authorization","Basic "+btoa(E+":"+_))}const y=Ew(t.baseURL,t.url);f.open(t.method.toUpperCase(),gw(y,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function b(){if(!f)return;const E=Hs.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),S={data:!c||c==="text"||c==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:E,config:t,request:f};cT(function(I){e(I),m()},function(I){n(I),m()},S),f=null}if("onloadend"in f?f.onloadend=b:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(b)},f.onabort=function(){f&&(n(new jt("Request aborted",jt.ECONNABORTED,t,f)),f=null)},f.onerror=function(){n(new jt("Network Error",jt.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let _=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const S=t.transitional||yw;t.timeoutErrorMessage&&(_=t.timeoutErrorMessage),n(new jt(_,S.clarifyTimeoutError?jt.ETIMEDOUT:jt.ECONNABORTED,t,f)),f=null},es.isStandardBrowserEnv){const E=pT(y)&&t.xsrfCookieName&&dT.read(t.xsrfCookieName);E&&l.set(t.xsrfHeaderName,E)}i===void 0&&l.setContentType(null),"setRequestHeader"in f&&xe.forEach(l.toJSON(),function(_,S){f.setRequestHeader(S,_)}),xe.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),c&&c!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",Lv(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",Lv(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=E=>{f&&(n(!E||E.type?new Bp(null,t,f):E),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const w=fT(y);if(w&&es.protocols.indexOf(w)===-1){n(new jt("Unsupported protocol "+w+":",jt.ERR_BAD_REQUEST,t));return}f.send(i||null)})},$g={http:WM,xhr:bT};xe.forEach($g,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});var Bv=t=>`- ${t}`,vT=t=>xe.isFunction(t)||t===null||t===!1,ww={getAdapter:t=>{t=xe.isArray(t)?t:[t];const{length:a}=t;let e,n;const i={};for(let l=0;l<a;l++){e=t[l];let c;if(n=e,!vT(e)&&(n=$g[(c=String(e)).toLowerCase()],n===void 0))throw new jt(`Unknown adapter '${c}'`);if(n)break;i[c||"#"+l]=n}if(!n){const l=Object.entries(i).map(([u,m])=>`adapter ${u} `+(m===!1?"is not supported by the environment":"is not available in the build"));let c=a?l.length>1?`since :
`+l.map(Bv).join(`
`):" "+Bv(l[0]):"as no adapter specified";throw new jt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return n},adapters:$g};function sg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Bp(null,t)}function Ov(t){return sg(t),t.headers=Hs.from(t.headers),t.data=rg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ww.getAdapter(t.adapter||H0.adapter)(t).then(function(n){return sg(t),n.data=rg.call(t,t.transformResponse,n),n.headers=Hs.from(n.headers),n},function(n){return vw(n)||(sg(t),n&&n.response&&(n.response.data=rg.call(t,t.transformResponse,n.response),n.response.headers=Hs.from(n.response.headers))),Promise.reject(n)})}var zv=t=>t instanceof Hs?t.toJSON():t;function _l(t,a){a=a||{};const e={};function n(h,f,y){return xe.isPlainObject(h)&&xe.isPlainObject(f)?xe.merge.call({caseless:y},h,f):xe.isPlainObject(f)?xe.merge({},f):xe.isArray(f)?f.slice():f}function i(h,f,y){if(xe.isUndefined(f)){if(!xe.isUndefined(h))return n(void 0,h,y)}else return n(h,f,y)}function l(h,f){if(!xe.isUndefined(f))return n(void 0,f)}function c(h,f){if(xe.isUndefined(f)){if(!xe.isUndefined(h))return n(void 0,h)}else return n(void 0,f)}function u(h,f,y){if(y in a)return n(h,f);if(y in t)return n(void 0,h)}const m={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(h,f)=>i(zv(h),zv(f),!0)};return xe.forEach(Object.keys(Object.assign({},t,a)),function(f){const y=m[f]||i,b=y(t[f],a[f],f);xe.isUndefined(b)&&y!==u||(e[f]=b)}),e}var Sw="1.6.0",j0={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{j0[t]=function(n){return typeof n===t||"a"+(a<1?"n ":" ")+t}});var Uv={};j0.transitional=function(a,e,n){function i(l,c){return"[Axios v"+Sw+"] Transitional option '"+l+"'"+c+(n?". "+n:"")}return(l,c,u)=>{if(a===!1)throw new jt(i(c," has been removed"+(e?" in "+e:"")),jt.ERR_DEPRECATED);return e&&!Uv[c]&&(Uv[c]=!0,console.warn(i(c," has been deprecated since v"+e+" and will be removed in the near future"))),a?a(l,c,u):!0}};function xT(t,a,e){if(typeof t!="object")throw new jt("options must be an object",jt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const l=n[i],c=a[l];if(c){const u=t[l],m=u===void 0||c(u,l,t);if(m!==!0)throw new jt("option "+l+" must be "+m,jt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new jt("Unknown option "+l,jt.ERR_BAD_OPTION)}}var Gg={assertOptions:xT,validators:j0},Ei=Gg.validators,Rm=class{constructor(t){this.defaults=t,this.interceptors={request:new Rv,response:new Rv}}request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=_l(this.defaults,a);const{transitional:e,paramsSerializer:n,headers:i}=a;e!==void 0&&Gg.assertOptions(e,{silentJSONParsing:Ei.transitional(Ei.boolean),forcedJSONParsing:Ei.transitional(Ei.boolean),clarifyTimeoutError:Ei.transitional(Ei.boolean)},!1),n!=null&&(xe.isFunction(n)?a.paramsSerializer={serialize:n}:Gg.assertOptions(n,{encode:Ei.function,serialize:Ei.function},!0)),a.method=(a.method||this.defaults.method||"get").toLowerCase();let l=i&&xe.merge(i.common,i[a.method]);i&&xe.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),a.headers=Hs.concat(l,i);const c=[];let u=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(a)===!1||(u=u&&E.synchronous,c.unshift(E.fulfilled,E.rejected))});const m=[];this.interceptors.response.forEach(function(E){m.push(E.fulfilled,E.rejected)});let h,f=0,y;if(!u){const w=[Ov.bind(this),void 0];for(w.unshift.apply(w,c),w.push.apply(w,m),y=w.length,h=Promise.resolve(a);f<y;)h=h.then(w[f++],w[f++]);return h}y=c.length;let b=a;for(f=0;f<y;){const w=c[f++],E=c[f++];try{b=w(b)}catch(_){E.call(this,_);break}}try{h=Ov.call(this,b)}catch(w){return Promise.reject(w)}for(f=0,y=m.length;f<y;)h=h.then(m[f++],m[f++]);return h}getUri(t){t=_l(this.defaults,t);const a=Ew(t.baseURL,t.url);return gw(a,t.params,t.paramsSerializer)}};xe.forEach(["delete","get","head","options"],function(a){Rm.prototype[a]=function(e,n){return this.request(_l(n||{},{method:a,url:e,data:(n||{}).data}))}});xe.forEach(["post","put","patch"],function(a){function e(n){return function(l,c,u){return this.request(_l(u||{},{method:a,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Rm.prototype[a]=e(),Rm.prototype[a+"Form"]=e(!0)});var um=Rm,ET=class Cw{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(l){e=l});const n=this;this.promise.then(i=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](i);n._listeners=null}),this.promise.then=i=>{let l;const c=new Promise(u=>{n.subscribe(u),l=u}).then(i);return c.cancel=function(){n.unsubscribe(l)},c},a(function(l,c,u){n.reason||(n.reason=new Bp(l,c,u),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const e=this._listeners.indexOf(a);e!==-1&&this._listeners.splice(e,1)}static source(){let a;return{token:new Cw(function(i){a=i}),cancel:a}}},wT=ET;function ST(t){return function(e){return t.apply(null,e)}}function CT(t){return xe.isObject(t)&&t.isAxiosError===!0}var Zg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zg).forEach(([t,a])=>{Zg[a]=t});var _T=Zg;function _w(t){const a=new um(t),e=nw(um.prototype.request,a);return xe.extend(e,um.prototype,a,{allOwnKeys:!0}),xe.extend(e,a,null,{allOwnKeys:!0}),e.create=function(i){return _w(_l(t,i))},e}var Wn=_w(H0);Wn.Axios=um;Wn.CanceledError=Bp;Wn.CancelToken=wT;Wn.isCancel=vw;Wn.VERSION=Sw;Wn.toFormData=Pp;Wn.AxiosError=jt;Wn.Cancel=Wn.CanceledError;Wn.all=function(a){return Promise.all(a)};Wn.spread=ST;Wn.isAxiosError=CT;Wn.mergeConfig=_l;Wn.AxiosHeaders=Hs;Wn.formToJSON=t=>bw(xe.isHTMLForm(t)?new FormData(t):t);Wn.getAdapter=ww.getAdapter;Wn.HttpStatusCode=_T;Wn.default=Wn;var md=Wn,{Axios:TW,AxiosError:RW,CanceledError:PW,isCancel:LW,CancelToken:BW,VERSION:OW,all:zW,Cancel:UW,isAxiosError:FW,spread:WW,toFormData:HW,AxiosHeaders:jW,HttpStatusCode:YW,formToJSON:qW,getAdapter:$W,mergeConfig:GW}=md,IT=Id(K8()),kT=Id(eM()),NT=25,AT=100,ig={hasNext:!1,hasPrev:!1},DT=100*1024*1024,MT=10,TT=100,RT={created_at:!0,deleted_at:!0,pinned_at:!0,updated_at:!0,command:!0,mentioned_users:!0,quoted_message:!0,latest_reactions:!0,own_reactions:!0,reaction_counts:!0,reply_count:!0,i18n:!0,type:!0,html:!0,__html:!0,user:!0},PT={error:!0},LT=3,BT=1e3;function Iw(t,a){t.then().catch(e=>{console.warn(`failed to do ${a}, ran into error: `,e)})}var Ri=t=>new Promise(a=>setTimeout(a,t));function Vg(t){return typeof t=="function"||t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}var Zc={TOKEN_EXPIRED:40,WS_CLOSED_SUCCESS:1e3};function OT(t){return t!==null&&typeof t=="object"&&(t.readable||typeof t._read=="function")}function zT(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function UT(t){return typeof window<"u"&&"File"in window&&t instanceof File}function FT(t){return typeof window<"u"&&"Blob"in window&&t instanceof Blob}function WT(t){return{channel_mutes:!0,devices:!0,mutes:!0,total_unread_count:!0,unread_channels:!0,unread_count:!0,unread_threads:!0,invisible:!0,privacy_settings:!0,roles:!0,push_preferences:!0}[t]}function HT(t,a,e){const n=new kT.default;return OT(t)||zT(t)||UT(t)||FT(t)?a?n.append("file",t,a):n.append("file",t):n.append("file",{uri:t,name:a||t.split("/").reverse()[0],contentType:e,type:e}),n}function ha(t){const a=[],e=Array.isArray(t)?t:[t];for(const n of e){const i=Object.entries(n);i.length>1&&console.warn("client._buildSort() - multiple fields in a single sort object detected. Object's field order is not guaranteed");for(const[l,c]of i)a.push({field:l,direction:c})}return a}function Pm(t){const a=Math.min(500+t*2e3,25e3),e=Math.min(Math.max(250,(t-1)*2e3),25e3);return Math.floor(Math.random()*(a-e)+e)}function ul(){return vr()}function zc(t){let a="";for(let e=0;e<t.length;e++)a+=t[e].toString(16).padStart(2,"0");return a}function vr(){const t=qT(16);return t[6]=t[6]&15|64,t[8]=t[8]&191|128,zc(t.subarray(0,4))+"-"+zc(t.subarray(4,6))+"-"+zc(t.subarray(6,8))+"-"+zc(t.subarray(8,10))+"-"+zc(t.subarray(10,16))}function jT(t){const a=Math.pow(2,8*t.byteLength/t.length);for(let e=0;e<t.length;e++)t[e]=Math.random()*a}var YT=typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)<"u"?crypto.getRandomValues.bind(crypto):typeof msCrypto<"u"?msCrypto.getRandomValues.bind(msCrypto):jT;function qT(t){const a=new Uint8Array(t);return YT(a),a}function $T(t){const a={};if(!t)return a;try{Object.getOwnPropertyNames(t).forEach(e=>{a[e]=Object.getOwnPropertyDescriptor(t,e)})}catch{return{error:"failed to serialize the error"}}return a}function GT(){const t=typeof navigator<"u"?navigator:typeof window<"u"&&window.navigator?window.navigator:void 0;return t?typeof t.onLine!="boolean"?!0:t.onLine:(console.warn("isOnline failed to access window.navigator and assume browser is online"),!0)}function kw(t){typeof window<"u"&&window.addEventListener&&(window.addEventListener("offline",t),window.addEventListener("online",t))}function Nw(t){typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("offline",t),window.removeEventListener("online",t))}var ZT=t=>{const a=[];for(const e in t)t[e]!==void 0&&(Array.isArray(t[e])||typeof t[e]=="object"?a.push(`${e}=${encodeURIComponent(JSON.stringify(t[e]))}`):a.push(`${e}=${encodeURIComponent(t[e])}`));return a.join("&")};function Za(t){const a=e=>e?{...e,created_at:t.created_at?new Date(t.created_at):new Date,deleted_at:t.deleted_at?new Date(t.deleted_at):null,pinned_at:t.pinned_at?new Date(t.pinned_at):null,reaction_groups:VT(t.reaction_groups,t.reaction_counts,t.reaction_scores),status:t.status||"received",updated_at:t.updated_at?new Date(t.updated_at):new Date}:null;return{...a(t),error:t.error??null,quoted_message:a(t.quoted_message)}}var Aw=t=>{var n;const a={...RT,...PT};return{...Object.fromEntries(Object.entries(t).filter(([i])=>!a[i])),pinned:!!t.pinned_at,mentioned_users:(n=t.mentioned_users)==null?void 0:n.map(i=>typeof i=="string"?i:i.id)}},Dw=({needle:t,sortedArray:a,selectKey:e,selectValueToCompare:n=l=>l,sortDirection:i="ascending"})=>{if(!a.length)return 0;let l=0,c=a.length-1,u=0;const m=()=>{u=Math.round((l+c)/2)},h=n(t);for(;l<=c;){m();const f=n(a[u]);i==="ascending"&&h<f||i==="descending"&&h>=f?c=u-1:l=u+1}if(e){const f=e(t),y=i==="ascending"?-1:1;for(let b=l+y;0<=b&&b<a.length&&n(a[b])===h;b+=y)if(e(a[b])===f)return b}return l};function Mw(t,a,e=!1,n="created_at",i=!0){const l=i||e;let c=[...t];if(e&&(c=c.filter(f=>!(f.id&&a.id===f.id))),c.length===0&&l)return c.concat(a);if(c.length===0)return c;const u=a[n].getTime(),m=c.at(-1)[n].getTime()<u;if(m&&l)return c.concat(a);if(m)return c;const h=Dw({needle:a,sortedArray:c,sortDirection:"ascending",selectValueToCompare:f=>f[n].getTime(),selectKey:f=>f.id});return!e&&a.id&&c[h]&&a.id===c[h].id?(c[h]=a,c):(l&&c.splice(h,0,a),c)}function VT(t,a,e){if(t)return t;if(a&&e){const n={};for(const i of Object.keys(a))n[i]={count:a[i],sum_scores:e[i]};return n}return null}var Qg=(t,a=0,{leading:e=!1,trailing:n=!0}={})=>{let i=null,l=null,c;const u=(...m)=>(i?clearTimeout(i):e&&(c=t(...m)),n&&(l=m),i=setTimeout(()=>{l&&(c=t(...l),l=null),i=null},a),c);return u.cancel=()=>{i&&clearTimeout(i)},u.flush=()=>(i&&(clearTimeout(i),i=null,l&&(c=t(...l))),c),u},Tw=(t,a=200,{leading:e=!0,trailing:n=!1}={})=>{let i=null,l=null;return(...c)=>{if(i){n&&(l=c);return}e&&t(...c);const u=()=>{if(l){t(...l),l=null,i=setTimeout(u,a);return}i=null};i=setTimeout(u,a)}},QT=(t,a)=>a.split(".").reduce((e,n)=>{if(e&&typeof e=="object"&&n in e)return e[n]},t),XT=(t,a)=>{if(!Array.isArray(t))return[];const e=new Set;return t.filter(n=>{const i=QT(n,a);return e.has(i)?!1:(e.add(i),!0)})};function JT(t,a){let e=0,n=t.length-1;for(;e<=n;){const i=Math.floor((e+n)/2),l=t[i].created_at;if(!l){e+=1;continue}const c=new Date(l);if(c.getTime()===a.getTime())return i;c.getTime()<a.getTime()?e=i+1:n=i-1}return e}var KT=({parentSet:t,requestedPageSize:a,returnedPage:e,messagePaginationOptions:n})=>{var S,C;const i={...t.pagination};if(!(n!=null&&n.created_at_around))return i;let l,c,u,m;const h=new Date(n.created_at_around),[f,y]=[e[0],e.slice(-1)[0]],b=!!(f!=null&&f.created_at)&&new Date(f.created_at)>h,w=!!(y!=null&&y.created_at)&&new Date(y.created_at)<h,E=a>t.messages.length&&a>e.length,_=(a>t.messages.length||t.messages.length>=e.length)&&a>e.length;if(b)l=!1,u=!0,E&&(c=!1,m=!0);else if(w)c=!1,m=!0,E&&(l=!1,u=!0);else if(_)c=l=!1,u=m=!0;else{const[I,N]=[(f==null?void 0:f.id)&&f.id===((S=t.messages[0])==null?void 0:S.id),(y==null?void 0:y.id)&&y.id===((C=t.messages.slice(-1)[0])==null?void 0:C.id)];u=I,m=N;const k=Math.floor(e.length/2),M=JT(e,h);M!==-1&&(l=k<=M,c=k>=M)}return u&&typeof l<"u"&&(i.hasPrev=l),m&&typeof c<"u"&&(i.hasNext=c),i},eR=({parentSet:t,requestedPageSize:a,returnedPage:e,messagePaginationOptions:n})=>{var S,C;const i={...t.pagination},{id_around:l}=n||{};if(!l)return i;let c,u;const[m,h]=[e[0],e.slice(-1)[0]],[f,y]=[(m==null?void 0:m.id)===((S=t.messages[0])==null?void 0:S.id),(h==null?void 0:h.id)===((C=t.messages.slice(-1)[0])==null?void 0:C.id)];let b=f,w=y;const E=Math.floor(e.length/2);if((a>t.messages.length||t.messages.length>=e.length)&&a>e.length)u=c=!1,b=w=!0;else if(e[E])if(e[E].id===l)c=u=!0;else{let I;const N=[e.slice(0,E),e.slice(E)];c=u=!0;for(let k=0;k<N.length;k++)I=N[k].find(M=>M.id===l),I&&k===0&&(c=!1),I&&k===1&&(u=!1)}else return i;return b&&typeof c<"u"&&(i.hasPrev=c),w&&typeof u<"u"&&(i.hasNext=u),i},tR=({parentSet:t,requestedPageSize:a,returnedPage:e,messagePaginationOptions:n})=>{var S,C;const i={...t.pagination};let l,c;const[u,m]=[e[0],e.slice(-1)[0]],[h,f]=[(u==null?void 0:u.id)&&u.id===((S=t.messages[0])==null?void 0:S.id),(m==null?void 0:m.id)&&m.id===((C=t.messages.slice(-1)[0])==null?void 0:C.id)],y=n&&(n.created_at_after_or_equal||n.created_at_after||n.id_gt||n.id_gte),b=typeof n>"u"?!0:n.created_at_before_or_equal||n.created_at_before||n.id_lt||n.id_lte||n.offset,w=!y&&!b&&!(n!=null&&n.id_around)&&!(n!=null&&n.created_at_around),E=e.length>=a;(typeof b<"u"||w)&&(l=E),typeof y<"u"&&(c=E);const _=e.length===0;return(h||_)&&typeof l<"u"&&(i.hasPrev=l),(f||_)&&typeof c<"u"&&(i.hasNext=c),i},Rw=t=>{var a,e,n;return t.parentSet.messages.length<t.returnedPage.length?((a=t.logger)==null||a.call(t,"error","Corrupted message set state: parent set size < returned page size"),t.parentSet.pagination):(e=t.messagePaginationOptions)!=null&&e.created_at_around?KT(t):(n=t.messagePaginationOptions)!=null&&n.id_around?eR(t):tR(t)},Yu={},og=async({channel:t,client:a,id:e,members:n,options:i,type:l})=>{if(!t&&!l)throw new Error("Channel or channel type have to be provided to query a channel.");const c=t||a.channel(l,e,{members:n}),u=c.id?c.cid:n&&n.length?Y0(c.type,n):void 0;if(!u)throw new Error("Channel ID or channel members array have to be provided to query a channel.");const m=Yu[u];if(m)await m;else try{Yu[u]=c.watch(i),await Yu[u]}finally{delete Yu[u]}return c},Y0=(t,a)=>{if(!a)return;const e=[...a].sort().join(",");if(e)return`${t}:!members-${e}`},Lm=t=>{if(!t)return!1;const a=t.state.membership;return!!(a!=null&&a.pinned_at)},qu=t=>{if(!t)return!1;const a=t.state.membership;return!!(a!=null&&a.archived_at)},$u=t=>t?typeof t.archived=="boolean":!1,Pw=({atIndex:t,sort:a,targetKey:e})=>{if(!a)return null;let n=null;if(Array.isArray(a))n=a[t]??null;else for(const i in a){if(i!==e)return null;n=a;break}return(n==null?void 0:n[e])??null},Xg=t=>{const a=nR({sort:t});return typeof a!="number"?!1:Math.abs(a)===1},nR=({sort:t})=>Pw({atIndex:0,sort:t,targetKey:"pinned_at"}),Lw=({channels:t})=>{let a=null;for(const e of t){if(!Lm(e))break;typeof a=="number"?a++:a=0}return a},Gu=({channels:t,channelToMove:a,channelToMoveIndexWithinChannels:e,sort:n})=>{const i=e??t.findIndex(y=>y.cid===a.cid),l=i>=0,c=i===0,u=Xg(n),m=Lm(a);if(c||u&&m)return t;const h=[...t];l&&h.splice(i,1);let f=null;return u&&(f=Lw({channels:h})),h.splice(typeof f=="number"?f+1:0,0,a),h},aR=t=>!!t.getTime,Bw=t=>aR(t.created_at),rR=class{constructor(t){var a;this.messageSets=[],this.formatMessage=e=>Za(e),this.setIsUpToDate=e=>{this.isUpToDate=e},this.removeMessageFromArray=(e,n)=>{const i=e.filter(l=>!(l.id&&n.id&&l.id===n.id));return{removed:i.length<e.length,result:i}},this.updateUserMessages=e=>{const n=(i,l)=>{var c;for(let u=0;u<i.length;u++){const m=i[u];((c=m.user)==null?void 0:c.id)===l.id&&(i[u]={...m,user:l})}};this.messageSets.forEach(i=>n(i.messages,e));for(const i in this.threads)n(this.threads[i],e);n(this.pinnedMessages,e)},this.deleteUserMessages=(e,n=!1)=>{const i=(l,c,u=!1)=>{var m;for(let h=0;h<l.length;h++){const f=l[h];((m=f.user)==null?void 0:m.id)===c.id&&(u?l[h]={cid:f.cid,created_at:f.created_at,deleted_at:c.deleted_at,id:f.id,latest_reactions:[],mentioned_users:[],own_reactions:[],parent_id:f.parent_id,reply_count:f.reply_count,status:f.status,thread_participants:f.thread_participants,type:"deleted",updated_at:f.updated_at,user:f.user}:l[h]={...f,type:"deleted",deleted_at:c.deleted_at?new Date(c.deleted_at):null})}};this.messageSets.forEach(l=>i(l.messages,e,n));for(const l in this.threads)i(this.threads[l],e,n);i(this.pinnedMessages,e,n)},this._channel=t,this.watcher_count=0,this.typing={},this.read={},this.initMessages(),this.pinnedMessages=[],this.pending_messages=[],this.threads={},this.mutedUsers=[],this.watchers={},this.members={},this.membership={},this.unreadCount=0,this.isUpToDate=!0,this.last_message_at=((a=t==null?void 0:t.state)==null?void 0:a.last_message_at)!=null?new Date(t.state.last_message_at):null}get messages(){var t;return((t=this.messageSets.find(a=>a.isCurrent))==null?void 0:t.messages)||[]}set messages(t){const a=this.messageSets.findIndex(e=>e.isCurrent);this.messageSets[a].messages=t}get latestMessages(){var t;return((t=this.messageSets.find(a=>a.isLatest))==null?void 0:t.messages)||[]}set latestMessages(t){const a=this.messageSets.findIndex(e=>e.isLatest);this.messageSets[a].messages=t}get messagePagination(){var t;return((t=this.messageSets.find(a=>a.isCurrent))==null?void 0:t.pagination)||ig}addMessageSorted(t,a=!1,e=!0,n="latest"){return this.addMessagesSorted([t],a,!1,e,n)}addMessagesSorted(t,a=!1,e=!1,n=!0,i="current"){var u;const{messagesToAdd:l,targetMessageSetIndex:c}=this.findTargetMessageSet(t,n,i);for(let m=0;m<l.length;m+=1){if(l[m].shadowed)continue;const f=l[m].created_at instanceof Date;let y;f?y=l[m]:(y=this.formatMessage(l[m]),y.user&&((u=this._channel)!=null&&u.cid)&&this._channel.getClient().state.updateUserReference(y.user,this._channel.cid),e&&y.id&&this.threads[y.id]&&delete this.threads[y.id],this.last_message_at||(this.last_message_at=new Date(y.created_at.getTime())),y.created_at.getTime()>this.last_message_at.getTime()&&(this.last_message_at=new Date(y.created_at.getTime())));const b=y.parent_id;if((!b||y.show_in_channel)&&c!==-1&&(this.messageSets[c].messages=this._addToMessageList(this.messageSets[c].messages,y,a,"created_at",n)),b&&!e){const w=this.threads[b]||[];this.threads[b]=this._addToMessageList(w,y,a,"created_at",n)}}return{messageSet:this.messageSets[c]}}addPinnedMessages(t){for(let a=0;a<t.length;a+=1)this.addPinnedMessage(t[a])}addPinnedMessage(t){this.pinnedMessages=this._addToMessageList(this.pinnedMessages,this.formatMessage(t),!1,"pinned_at")}removePinnedMessage(t){const{result:a}=this.removeMessageFromArray(this.pinnedMessages,t);this.pinnedMessages=a}addReaction(t,a,e){const n=a;let i;if(n||(i=this.findMessage(t.message_id)),!n&&!i)return;const l=n??i,c={id:l==null?void 0:l.id,parent_id:l==null?void 0:l.parent_id,pinned:l==null?void 0:l.pinned,show_in_channel:l==null?void 0:l.show_in_channel};return this._updateMessage(c,u=>{if(n){const m={...n};return n.own_reactions=this._addOwnReactionToMessage(u.own_reactions,t,e),m.own_reactions=this._channel.getClient().userID===t.user_id?n.own_reactions:u.own_reactions,this.formatMessage(m)}return i?this._addReactionToState(i,t,e):u}),n??i}_addReactionToState(t,a,e){if(t.reaction_groups||(t.reaction_groups={}),e)for(const u of t.own_reactions??[]){const m=t.reaction_groups[u.type];t.reaction_groups[u.type]={...m,count:m.count-1,sum_scores:m.sum_scores-(u.score??1)},t.reaction_groups[u.type].count<1&&delete t.reaction_groups[u.type]}const i=t.reaction_groups[a.type],l=a.score??1;t.reaction_groups[a.type]=i?{...i,count:i.count+1,sum_scores:i.sum_scores+l,last_reaction_at:a.created_at}:{count:1,first_reaction_at:a.created_at,last_reaction_at:a.created_at,sum_scores:l},t.own_reactions=this._addOwnReactionToMessage(t.own_reactions,a,e);const c=this._channel.getClient().userID;return t.latest_reactions=e?[...(t.latest_reactions||[]).filter(u=>u.user_id!==c),a]:[...t.latest_reactions||[],a],t}_addOwnReactionToMessage(t,a,e){return e?t=[]:t=this._removeOwnReactionFromMessage(t,a),t=t||[],this._channel.getClient().userID===a.user_id&&t.push(a),t}_removeOwnReactionFromMessage(t,a){return t&&t.filter(e=>e.user_id!==a.user_id||e.type!==a.type)}removeReaction(t,a){const e=a;let n;if(e||(n=this.findMessage(t.message_id)),!e&&!n)return;const i=e??n,l={id:i==null?void 0:i.id,parent_id:i==null?void 0:i.parent_id,pinned:i==null?void 0:i.pinned,show_in_channel:i==null?void 0:i.show_in_channel};return this._updateMessage(l,c=>e?(e.own_reactions=this._removeOwnReactionFromMessage(c.own_reactions,t),this.formatMessage(e)):n?this._removeReactionFromState(n,t):c),e}_removeReactionFromState(t,a){var i,l,c,u;const e=(i=t.own_reactions)==null?void 0:i.find(m=>m.type===a.type);if(e&&((l=t.reaction_groups)!=null&&l[e.type])){const m=t.reaction_groups[e.type];t.reaction_groups[e.type]={...m,count:m.count-1,sum_scores:m.sum_scores-(e.score??1)},t.reaction_groups[e.type].count<1&&delete t.reaction_groups[e.type]}t.own_reactions=(c=t.own_reactions)==null?void 0:c.filter(m=>m.type!==a.type);const n=this._channel.getClient().userID;return t.latest_reactions=(u=t.latest_reactions)==null?void 0:u.filter(m=>!(m.user_id===n&&m.type===a.type)),t}_updateQuotedMessageReferences({message:t,remove:a}){const e=i=>{var l,c;return{...i,created_at:i.created_at.toISOString(),pinned_at:(l=i.pinned_at)==null?void 0:l.toISOString(),updated_at:(c=i.updated_at)==null?void 0:c.toISOString()}},n=i=>{const l=i.reduce((c,u)=>(u.quoted_message_id===t.id&&c.push({...e(u),quoted_message:a?{...t,attachments:[]}:t}),c),[]);this.addMessagesSorted(l,!0)};t.parent_id?t.parent_id&&this.threads[t.parent_id]&&n(this.threads[t.parent_id]):this.messageSets.forEach(i=>n(i.messages))}removeQuotedMessageReferences(t){this._updateQuotedMessageReferences({message:t,remove:!0})}_updateMessage(t,a){const{parent_id:e,show_in_channel:n,pinned:i}=t;if(e&&this.threads[e]){const l=this.threads[e],c=l.findIndex(u=>u.id===t.id);c!==-1&&(l[c]=a(l[c]),this.threads[e]=l)}if(!n&&!e||n){const l=this.findMessageSetIndex(t);if(l!==-1){const c=this.messageSets[l].messages.findIndex(u=>u.id===t.id);if(c!==-1){const u=a(this.messageSets[l].messages[c]);this.messageSets[l].messages[c]=u}}}if(i){const l=this.pinnedMessages.findIndex(c=>c.id===t.id);l!==-1&&(this.pinnedMessages[l]=a(this.pinnedMessages[l]))}}_addToMessageList(t,a,e=!1,n="created_at",i=!0){return Mw(t,a,e,n,i)}removeMessage(t){let a=!1;if(t.parent_id&&this.threads[t.parent_id]){const{removed:e,result:n}=this.removeMessageFromArray(this.threads[t.parent_id],t);this.threads[t.parent_id]=n,a=e}else{const e=t.messageSetIndex??this.findMessageSetIndex(t);if(e!==-1){const{removed:n,result:i}=this.removeMessageFromArray(this.messageSets[e].messages,t);this.messageSets[e].messages=i,a=n}}return a}filterErrorMessages(){const t=this.latestMessages.filter(a=>a.type!=="error");this.latestMessages=t}clean(){const t=new Date;for(const[a,e]of Object.entries(this.typing)){const n=typeof e.received_at=="string"?new Date(e.received_at):e.received_at||new Date;t.getTime()-n.getTime()>7e3&&(delete this.typing[a],this._channel.getClient().dispatchEvent({cid:this._channel.cid,type:"typing.stop",user:{id:a}}))}}clearMessages(){this.initMessages(),this.pinnedMessages=[]}initMessages(){this.messageSets=[{messages:[],isLatest:!0,isCurrent:!0,pagination:ig}]}async loadMessageIntoState(t,a,e=25){var u;let n,i=!1,l=!1;const c=a||t;if(t==="latest"){if(this.messages===this.latestMessages)return;n=this.messageSets.findIndex(m=>m.isLatest)}else n=this.findMessageSetIndex({id:c});n!==-1&&(this.switchToMessageSet(n),i=!0),l=!a||!!((u=this.threads[a])!=null&&u.find(m=>m.id===t)),!(i&&l)&&(i||await this._channel.query({messages:{id_around:c,limit:e}},"new"),!l&&a&&await this._channel.getReplies(a,{id_around:t,limit:e}),n=this.findMessageSetIndex({id:c}),n!==-1&&this.switchToMessageSet(n))}findMessage(t,a){if(a){const n=this.threads[a];return n?n.find(i=>i.id===t):void 0}const e=this.findMessageSetIndex({id:t});if(e!==-1)return this.messageSets[e].messages.find(n=>n.id===t)}switchToMessageSet(t){const a=this.messageSets.find(e=>e.isCurrent);a&&(a.isCurrent=!1,this.messageSets[t].isCurrent=!0)}areMessageSetsOverlap(t,a){return t.some(e=>a.find(n=>e.id===n.id))}findMessageSetIndex(t){return this.messageSets.findIndex(a=>!!a.messages.find(e=>e.id===t.id))}findTargetMessageSet(t,a=!0,e="current"){let n=t,i;if(a){const l=this.messageSets.map((m,h)=>h).filter(m=>this.areMessageSetsOverlap(this.messageSets[m].messages,t));switch(e){case"new":l.length>0?i=l[0]:t.some(m=>!m.parent_id)&&(this.messageSets.push({messages:[],isCurrent:!1,isLatest:!1,pagination:ig}),i=this.messageSets.length-1);break;case"current":i=this.messageSets.findIndex(m=>m.isCurrent);break;case"latest":i=this.messageSets.findIndex(m=>m.isLatest);break;default:i=-1}const c=l.splice(0,1)[0],u=[...l];if(c!==void 0&&c!==i&&u.push(i),u.length>0){const m=this.messageSets[c],h=this.messageSets.filter((y,b)=>u.indexOf(b)!==-1);h.forEach(y=>{m.isLatest=m.isLatest||y.isLatest,m.isCurrent=m.isCurrent||y.isCurrent,m.pagination.hasPrev=y.messages[0].created_at<m.messages[0].created_at?y.pagination.hasPrev:m.pagination.hasPrev,m.pagination.hasNext=m.messages.slice(-1)[0].created_at<y.messages.slice(-1)[0].created_at?y.pagination.hasNext:m.pagination.hasNext,n=[...n,...y.messages]}),h.forEach(y=>this.messageSets.splice(this.messageSets.indexOf(y),1)),i=this.messageSets.findIndex(y=>this.areMessageSetsOverlap(y.messages,t))}}else i=this.findMessageSetIndex(t[0]);return{targetMessageSetIndex:i,messagesToAdd:n}}},sR=t=>!!(t!=null&&t.og_scrape_url)||!!(t!=null&&t.title_link),Ow=t=>{var a;return!!((a=t==null?void 0:t.localMetadata)!=null&&a.id)},iR=(t,a=[])=>t.type==="file"||!!(t.mime_type&&a.indexOf(t.mime_type)===-1&&t.type!=="video"),zw=t=>t.type==="image"&&!sR(t),oR=t=>zw(t)&&Ow(t),lR=t=>t.type==="audio",cR=t=>t.type==="voiceRecording",dR=(t,a=[])=>t.type==="video"||!!(t.mime_type&&a.indexOf(t.mime_type)!==-1),uR=t=>lR(t)||iR(t)||zw(t)||dR(t)||cR(t),mm=t=>!!t.lastModified&&!("uri"in t),mR=t=>t==null||typeof t!="object"?!1:typeof FileList<"u"&&t instanceof FileList||"item"in t&&"length"in t&&!Array.isArray(t),pR=t=>t instanceof Blob&&!(t instanceof File),il=t=>t!==null&&typeof t=="object"&&!mm(t)&&!pR(t)&&typeof t.name=="string"&&typeof t.uri=="string"&&typeof t.size=="number"&&typeof t.type=="string",Fv=({blobsArray:t,fileName:a,mimeType:e})=>{const n=new Blob(t,{type:e});return new File([n],a,{type:n.type})},fR=t=>{const a=t.match(/\/([^/;]+)/);return a==null?void 0:a[1]},Wv=t=>{const a=fR(t);return`file_${new Date().toISOString()}${a?"."+a:""}`},Uc=t=>{const a=t.type;return a.startsWith("image/")&&!a.endsWith(".photoshop")},hR=t=>t.startsWith("image/")&&!t.endsWith(".photoshop")?"image":t.includes("video/")?"video":t.includes("audio/")?"audio":"file",Hv=t=>{if(!t)return null;if(Ow(t))return t;const{localMetadata:a,...e}=t;return{localMetadata:{...a??{},id:(a==null?void 0:a.id)||vr()},...e}},Uw=t=>typeof t=="function",Ia=class{constructor(t){this.value=t,this.handlerSet=new Set,this.next=a=>{const e=Uw(a)?a(this.value):a;if(e===this.value)return;const n=this.value;this.value=e,this.handlerSet.forEach(i=>i(this.value,n))},this.partialNext=a=>this.next(e=>({...e,...a})),this.getLatestValue=()=>this.value,this.subscribe=a=>(a(this.value,void 0),this.handlerSet.add(a),()=>{this.handlerSet.delete(a)}),this.subscribeWithSelector=(a,e)=>{let n;const i=l=>{const c=a(l);let u=typeof n>"u";for(const h in n)if(n[h]!==c[h]){u=!0;break}if(!u)return;const m=n;n=c,e(c,m)};return this.subscribe(i)}}},go=t=>{if(!t||typeof t!="object"||Array.isArray(t))return!1;const a=Object.getPrototypeOf(t);return a===null||a===Object.prototype?!1:t.constructor&&t.constructor!==Object},Jg=(t,a,e=new Set,n=new WeakSet,i=new WeakSet)=>{if(t===a)return!0;if(t==null||a==null)return!1;const l=typeof t;if(l!==typeof a)return!1;if(l!=="object")return t!==t&&a!==a?!0:t===a;const u=t,m=a;if(n.has(u)||i.has(m))return n.has(u)&&i.has(m);if(n.add(u),i.add(m),t instanceof Date&&a instanceof Date)return n.delete(u),i.delete(m),t.getTime()===a.getTime();if(t instanceof RegExp&&a instanceof RegExp)return n.delete(u),i.delete(m),t.toString()===a.toString();if(go(t)||go(a))return n.delete(u),i.delete(m),!1;const h=Array.isArray(t),f=Array.isArray(a);if(h!==f)return n.delete(u),i.delete(m),!1;if(h&&f){const S=t,C=a;if(S.length!==C.length)return n.delete(u),i.delete(m),!1;const I=[t,a];if(e.has(I))return n.delete(u),i.delete(m),!0;e.add(I);for(let N=0;N<S.length;N++)if(!Jg(S[N],C[N],e,n,i))return e.delete(I),n.delete(u),i.delete(m),!1;return e.delete(I),n.delete(u),i.delete(m),!0}const y=t,b=a,w=Object.keys(y),E=Object.keys(b);if(w.length!==E.length)return n.delete(u),i.delete(m),!1;for(const S of E)if(!Object.prototype.hasOwnProperty.call(y,S))return n.delete(u),i.delete(m),!1;const _=[t,a];if(e.has(_))return n.delete(u),i.delete(m),!0;e.add(_);for(const S of w)if(!Jg(y[S],b[S],e,n,i))return e.delete(_),n.delete(u),i.delete(m),!1;return e.delete(_),n.delete(u),i.delete(m),!0};function gR(t,a){const e={children:{}};return Fw(t,a,e),q0(e)}function Fw(t,a,e,n,i=new Set,l=new Set){if(Jg(t,a,new Set(i)))return;if(t==null){n!==void 0&&(e.children[String(n)]={type:"added",value:a,children:{}});return}if(typeof t=="object"&&t!==null){if(l.has(t)){n!==void 0&&(e.children[String(n)]={type:"circular",value:a,oldValue:t,children:{}});return}l.add(t)}if(typeof t!="object"||typeof a!="object"||t===null||a===null||Array.isArray(t)!==Array.isArray(a)||go(t)||go(a)){n!==void 0&&(e.children[String(n)]={type:"updated",value:a,oldValue:t,children:{}}),typeof t=="object"&&t!==null&&l.delete(t);return}const u=t,m=a,h=n!==void 0?{type:"updated",children:{},oldValue:t,value:a}:e;n!==void 0&&(e.children[String(n)]=h);const f=[t,a];if(i.has(f)){typeof t=="object"&&t!==null&&l.delete(t);return}i.add(f);const y=new Set([...Object.keys(u),...Object.getOwnPropertySymbols(u),...Object.keys(m),...Object.getOwnPropertySymbols(m)]);for(const b of y){const w=u[b],E=m[b];if(b in m){if(!(b in u)){h.children[String(b)]={type:"added",value:E,children:{}};continue}Fw(w,E,h,b,i,l)}}i.delete(f),typeof t=="object"&&t!==null&&l.delete(t)}function Ww(t={}){const{trackDiff:a=!1}=t;return function({target:n,source:i,customizer:l}){const c=Array.isArray(i)?i:[i],u=a?structuredClone(n):void 0;function m(S,C,I,N,k,M){const T=l==null?void 0:l(S,C,I,N,k,M);return T!==void 0?(Object.defineProperty(N,I,{value:T,enumerable:!0,writable:!0,configurable:!0}),!0):!1}function h(S,C){if(S&&typeof S=="object"){const I=go(S),N=go(C);return I||N?N?C:S:Array.isArray(S)?[...S]:{...S}}return Array.isArray(C)?[]:{}}function f(S,C,I,N,k){const M=C[I],T=S[I];if(!m(T,M,I,S,C,N))if(M&&typeof M=="object"){if(!N.has(M)){const q=h(T,M);if(Object.defineProperty(S,I,{value:q,enumerable:!0,writable:!0,configurable:!0}),go(q))return;k.push({target:q,source:M,sourceKey:I,parentTarget:S})}}else M!==void 0&&(S[I]=M)}function y(S,C,I,N){const k=[...Object.keys(C),...Object.getOwnPropertySymbols(C)];for(const M of k)f(S,C,M,I,N)}function b({target:S,source:C,sourceKey:I,parentTarget:N},k,M){if(k.has(C)){a&&I&&N&&Object.defineProperty(N,I,{value:S,enumerable:!0,writable:!0,configurable:!0});return}!k.has(S)&&!k.has(C)&&(k.add(S),k.add(C),y(S,C,k,M),k.delete(C),k.delete(S))}function w(S,C,I=new Set){if(I.has(S)||I.has(C))return{...S};const N={...S},k=[];for(I.add(N),I.add(C),y(N,C,I,k);k.length;)b(k.pop(),I,k);return I.delete(C),I.delete(N),N}const E=c.reduce((S,C)=>w(S,C),{...n}),_=a&&u?gR(u,E):null;return{result:E,diff:_}}}function q0(t){const a={};let e=!1;for(const n in t.children){const i=q0(t.children[n]);i&&(a[n]=i,e=!0)}return t.type||e?{...t,children:a}:null}function Bm(t,a,e){return Ww()({target:t,source:a,customizer:e}).result}function Hw(t,a,e){const n=Ww({trackDiff:!0}),{result:i,diff:l}=n({target:t,source:a,customizer:e});return{result:i,diff:q0(l??{children:{}})||{children:{}}}}var jv=({message:t})=>{var a;return{attachments:(a=(t==null?void 0:t.attachments)??[])==null?void 0:a.filter(({og_scrape_url:e})=>!e).map(e=>{const n=uR(e)?{id:vr(),uploadState:"finished"}:{id:vr()};return{...e,localMetadata:n}})}},yR=class{constructor({composer:t,message:a}){this.setCustomUploadFn=e=>{this.composer.updateConfig({attachments:{doUploadRequest:e}})},this.initState=({message:e}={})=>{this.state.next(jv({message:e}))},this.getAttachmentIndex=e=>{const n=this.attachmentsById;return this.attachments.indexOf(n[e])},this.prepareAttachmentUpdate=e=>{const n=this.attachments,i=[...this.attachments],l=this.getAttachmentIndex(e.localMetadata.id);if(l===-1)return null;const c=Hw(n[l],e);if(c.diff&&Object.keys(c.diff.children).length){const m=Hv(c.result);if(m)return i.splice(l,1,m),i}return null},this.updateAttachment=e=>{const n=this.prepareAttachmentUpdate(e);n&&this.state.partialNext({attachments:n})},this.upsertAttachments=e=>{if(!e.length)return;let n=[...this.attachments],i=!1;e.forEach(l=>{const c=this.prepareAttachmentUpdate(l);if(c)n=c,i=!0;else{const u=Hv(l);u&&(n.push(u),i=!0)}}),i&&this.state.partialNext({attachments:n})},this.removeAttachments=e=>{this.state.partialNext({attachments:this.attachments.filter(n=>{var i;return!e.includes((i=n.localMetadata)==null?void 0:i.id)})})},this.getUploadConfigCheck=async e=>{var w,E;const n=this.channel.getClient();let i;n.appSettingsPromise?i=await n.appSettingsPromise:i=await n.getAppSettings();const l=Uc(e)?(w=i==null?void 0:i.app)==null?void 0:w.image_upload_config:(E=i==null?void 0:i.app)==null?void 0:E.file_upload_config;if(!l)return{uploadBlocked:!1};const{allowed_file_extensions:c,allowed_mime_types:u,blocked_file_extensions:m,blocked_mime_types:h,size_limit:f}=l,y=f||DT,b=e.type;if(mm(e)||il(e)){if(c!=null&&c.length&&!c.some(_=>e.name.toLowerCase().endsWith(_.toLowerCase())))return{uploadBlocked:!0,reason:"allowed_file_extensions"};if(m!=null&&m.length&&m.some(_=>e.name.toLowerCase().endsWith(_.toLowerCase())))return{uploadBlocked:!0,reason:"blocked_file_extensions"}}return u!=null&&u.length&&!u.some(_=>_.toLowerCase()===(b==null?void 0:b.toLowerCase()))?{uploadBlocked:!0,reason:"allowed_mime_types"}:h!=null&&h.length&&h.some(_=>_.toLowerCase()===(b==null?void 0:b.toLowerCase()))?{uploadBlocked:!0,reason:"blocked_mime_types"}:e.size&&e.size>y?{uploadBlocked:!0,reason:"size_limit"}:{uploadBlocked:!1}},this.fileToLocalUploadAttachment=async e=>{var c;const n=il(e)||mm(e)?e:Fv({blobsArray:[e],fileName:Wv(e.type),mimeType:e.type}),i=await this.getUploadConfigCheck(n),l={file_size:n.size,mime_type:n.type,localMetadata:{file:n,id:vr(),uploadPermissionCheck:i,uploadState:i.uploadBlocked?"blocked":"pending"},type:hR(n.type)};return l[Uc(n)?"fallback":"title"]=n.name,Uc(n)&&(l.localMetadata.previewUri=il(e)?e.uri:(c=URL.createObjectURL)==null?void 0:c.call(URL,e),il(e)&&e.height&&e.width&&(l.original_height=e.height,l.original_width=e.width)),il(e)&&e.thumb_url&&(l.thumb_url=e.thumb_url),l},this.ensureLocalUploadAttachment=async e=>{var i;if(!((i=e.localMetadata)!=null&&i.file)||!e.localMetadata.id){this.client.notifications.addError({message:"File is required for upload attachment",origin:{emitter:"AttachmentManager",context:{attachment:e}}});return}if(!this.fileUploadFilter(e))return;const n=await this.fileToLocalUploadAttachment(e.localMetadata.file);return e.localMetadata.id&&(n.localMetadata.id=e.localMetadata.id),n},this.doDefaultUploadRequest=async e=>{if(il(e))return this.channel[Uc(e)?"sendImage":"sendFile"](e.uri,e.name,e.type);const n=mm(e)?e:Fv({blobsArray:[e],fileName:Wv(e.type),mimeType:e.type}),{duration:i,...l}=await this.channel[Uc(e)?"sendImage":"sendFile"](n);return l},this.doUploadRequest=async e=>{const n=this.config.doUploadRequest;return n?await n(e):this.doDefaultUploadRequest(e)},this.uploadAttachment=async e=>{if(!this.isUploadEnabled)return;const n=await this.ensureLocalUploadAttachment(e);if(typeof n>"u")return;if(n.localMetadata.uploadState==="blocked")return this.upsertAttachments([n]),this.client.notifications.addError({message:"Error uploading attachment",origin:{emitter:"AttachmentManager",context:{attachment:e}}}),n;this.upsertAttachments([{...e,localMetadata:{...e.localMetadata,uploadState:"uploading"}}]);let i;try{i=await this.doUploadRequest(n.localMetadata.file)}catch(c){let u={message:"Error uploading attachment",name:"Error"};typeof c.message=="string"?u=c:typeof c=="object"&&(u=Object.assign(u,c)),this.client.notifications.addError({message:u.message,origin:{emitter:"AttachmentManager",context:{attachment:e}}});const m={...e,localMetadata:{...e.localMetadata,uploadState:"failed"}};return this.updateAttachment(m),m}if(!i){this.removeAttachments([e.localMetadata.id]);return}const l={...e,localMetadata:{...e.localMetadata,uploadState:"finished"}};return oR(l)?(l.localMetadata.previewUri&&(URL.revokeObjectURL(l.localMetadata.previewUri),delete l.localMetadata.previewUri),l.image_url=i.file):l.asset_url=i.file,i.thumb_url&&(l.thumb_url=i.thumb_url),this.updateAttachment(l),l},this.uploadFiles=async e=>{if(!this.isUploadEnabled)return;const n=mR(e)?Array.from(e):e,i=await Promise.all(n.map(this.fileToLocalUploadAttachment));return Promise.all(i.filter(this.fileUploadFilter).slice(0,this.availableUploadSlots).map(this.uploadAttachment))},this.composer=t,this.state=new Ia(jv({message:a})),this.attachmentsByIdGetterCache={attachmentsById:{},attachments:[]}}get attachmentsById(){const{attachments:t}=this.state.getLatestValue();return t!==this.attachmentsByIdGetterCache.attachments&&(this.attachmentsByIdGetterCache.attachments=t,this.attachmentsByIdGetterCache.attachmentsById=t.reduce((a,e)=>{var n;return e.localMetadata.id&&(a[n=e.localMetadata.id]??(a[n]=e)),a},{})),this.attachmentsByIdGetterCache.attachmentsById}get client(){return this.composer.client}get channel(){return this.composer.channel}get config(){return this.composer.config.attachments}get acceptedFiles(){return this.config.acceptedFiles}set acceptedFiles(t){this.composer.updateConfig({attachments:{acceptedFiles:t}})}get fileUploadFilter(){return this.config.fileUploadFilter}set fileUploadFilter(t){this.composer.updateConfig({attachments:{fileUploadFilter:t}})}get maxNumberOfFilesPerMessage(){return this.config.maxNumberOfFilesPerMessage}set maxNumberOfFilesPerMessage(t){t!==this.maxNumberOfFilesPerMessage&&this.composer.updateConfig({attachments:{maxNumberOfFilesPerMessage:t}})}get attachments(){return this.state.getLatestValue().attachments}get hasUploadPermission(){var t,a;return!!((a=(t=this.channel.data)==null?void 0:t.own_capabilities)!=null&&a.includes("upload-file"))}get isUploadEnabled(){return this.hasUploadPermission&&this.availableUploadSlots>0}get successfulUploads(){return this.getUploadsByState("finished")}get successfulUploadsCount(){return this.successfulUploads.length}get uploadsInProgressCount(){return this.getUploadsByState("uploading").length}get failedUploadsCount(){return this.getUploadsByState("failed").length}get blockedUploadsCount(){return this.getUploadsByState("blocked").length}get pendingUploadsCount(){return this.getUploadsByState("pending").length}get availableUploadSlots(){return this.config.maxNumberOfFilesPerMessage-this.successfulUploadsCount-this.uploadsInProgressCount}getUploadsByState(t){return Object.values(this.attachments).filter(({localMetadata:a})=>a.uploadState===t)}},bR="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",vR="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Il=(t,a)=>{for(const e in a)t[e]=a[e];return t},Kg="numeric",e0="ascii",t0="alpha",Xc="asciinumeric",Vc="alphanumeric",n0="domain",jw="emoji",xR="scheme",ER="slashscheme",lg="whitespace";function wR(t,a){return t in a||(a[t]=[]),a[t]}function uo(t,a,e){a[Kg]&&(a[Xc]=!0,a[Vc]=!0),a[e0]&&(a[Xc]=!0,a[t0]=!0),a[Xc]&&(a[Vc]=!0),a[t0]&&(a[Vc]=!0),a[Vc]&&(a[n0]=!0),a[jw]&&(a[n0]=!0);for(const n in a){const i=wR(n,e);i.indexOf(t)<0&&i.push(t)}}function SR(t,a){const e={};for(const n in a)a[n].indexOf(t)>=0&&(e[n]=!0);return e}function Va(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Va.groups={};Va.prototype={accepts(){return!!this.t},go(t){const a=this,e=a.j[t];if(e)return e;for(let n=0;n<a.jr.length;n++){const i=a.jr[n][0],l=a.jr[n][1];if(l&&i.test(t))return l}return a.jd},has(t,a=!1){return a?t in this.j:!!this.go(t)},ta(t,a,e,n){for(let i=0;i<t.length;i++)this.tt(t[i],a,e,n)},tr(t,a,e,n){n=n||Va.groups;let i;return a&&a.j?i=a:(i=new Va(a),e&&n&&uo(a,e,n)),this.jr.push([t,i]),i},ts(t,a,e,n){let i=this;const l=t.length;if(!l)return i;for(let c=0;c<l-1;c++)i=i.tt(t[c]);return i.tt(t[l-1],a,e,n)},tt(t,a,e,n){n=n||Va.groups;const i=this;if(a&&a.j)return i.j[t]=a,a;const l=a;let c,u=i.go(t);if(u?(c=new Va,Il(c.j,u.j),c.jr.push.apply(c.jr,u.jr),c.jd=u.jd,c.t=u.t):c=new Va,l){if(n)if(c.t&&typeof c.t=="string"){const m=Il(SR(c.t,n),e);uo(l,m,n)}else e&&uo(l,e,n);c.t=l}return i.j[t]=c,c}};var bt=(t,a,e,n,i)=>t.ta(a,e,n,i),In=(t,a,e,n,i)=>t.tr(a,e,n,i),Yv=(t,a,e,n,i)=>t.ts(a,e,n,i),Ie=(t,a,e,n,i)=>t.tt(a,e,n,i),Ps="WORD",a0="UWORD",Yw="ASCIINUMERICAL",qw="ALPHANUMERICAL",pd="LOCALHOST",r0="TLD",s0="UTLD",pm="SCHEME",cl="SLASH_SCHEME",$0="NUM",i0="WS",G0="NL",Jc="OPENBRACE",Kc="CLOSEBRACE",Om="OPENBRACKET",zm="CLOSEBRACKET",Um="OPENPAREN",Fm="CLOSEPAREN",Wm="OPENANGLEBRACKET",Hm="CLOSEANGLEBRACKET",jm="FULLWIDTHLEFTPAREN",Ym="FULLWIDTHRIGHTPAREN",qm="LEFTCORNERBRACKET",$m="RIGHTCORNERBRACKET",Gm="LEFTWHITECORNERBRACKET",Zm="RIGHTWHITECORNERBRACKET",Vm="FULLWIDTHLESSTHAN",Qm="FULLWIDTHGREATERTHAN",Xm="AMPERSAND",Z0="APOSTROPHE",Jm="ASTERISK",Ni="AT",Km="BACKSLASH",ep="BACKTICK",tp="CARET",Ai="COLON",V0="COMMA",np="DOLLAR",Gr="DOT",ap="EQUALS",Q0="EXCLAMATION",ur="HYPHEN",ed="PERCENT",rp="PIPE",sp="PLUS",ip="POUND",td="QUERY",X0="QUOTE",$w="FULLWIDTHMIDDLEDOT",J0="SEMI",Zr="SLASH",nd="TILDE",op="UNDERSCORE",Gw="EMOJI",lp="SYM",Zw=Object.freeze({__proto__:null,WORD:Ps,UWORD:a0,ASCIINUMERICAL:Yw,ALPHANUMERICAL:qw,LOCALHOST:pd,TLD:r0,UTLD:s0,SCHEME:pm,SLASH_SCHEME:cl,NUM:$0,WS:i0,NL:G0,OPENBRACE:Jc,CLOSEBRACE:Kc,OPENBRACKET:Om,CLOSEBRACKET:zm,OPENPAREN:Um,CLOSEPAREN:Fm,OPENANGLEBRACKET:Wm,CLOSEANGLEBRACKET:Hm,FULLWIDTHLEFTPAREN:jm,FULLWIDTHRIGHTPAREN:Ym,LEFTCORNERBRACKET:qm,RIGHTCORNERBRACKET:$m,LEFTWHITECORNERBRACKET:Gm,RIGHTWHITECORNERBRACKET:Zm,FULLWIDTHLESSTHAN:Vm,FULLWIDTHGREATERTHAN:Qm,AMPERSAND:Xm,APOSTROPHE:Z0,ASTERISK:Jm,AT:Ni,BACKSLASH:Km,BACKTICK:ep,CARET:tp,COLON:Ai,COMMA:V0,DOLLAR:np,DOT:Gr,EQUALS:ap,EXCLAMATION:Q0,HYPHEN:ur,PERCENT:ed,PIPE:rp,PLUS:sp,POUND:ip,QUERY:td,QUOTE:X0,FULLWIDTHMIDDLEDOT:$w,SEMI:J0,SLASH:Zr,TILDE:nd,UNDERSCORE:op,EMOJI:Gw,SYM:lp}),Ms=/[a-z]/,Fc=new RegExp("\\p{L}","u"),cg=new RegExp("\\p{Emoji}","u"),Ts=/\d/,dg=/\s/,qv="\r",ug=`
`,CR="",_R="",mg="",Zu=null,Vu=null;function IR(t=[]){const a={};Va.groups=a;const e=new Va;Zu==null&&(Zu=$v(bR)),Vu==null&&(Vu=$v(vR)),Ie(e,"'",Z0),Ie(e,"{",Jc),Ie(e,"}",Kc),Ie(e,"[",Om),Ie(e,"]",zm),Ie(e,"(",Um),Ie(e,")",Fm),Ie(e,"<",Wm),Ie(e,">",Hm),Ie(e,"",jm),Ie(e,"",Ym),Ie(e,"",qm),Ie(e,"",$m),Ie(e,"",Gm),Ie(e,"",Zm),Ie(e,"",Vm),Ie(e,"",Qm),Ie(e,"&",Xm),Ie(e,"*",Jm),Ie(e,"@",Ni),Ie(e,"`",ep),Ie(e,"^",tp),Ie(e,":",Ai),Ie(e,",",V0),Ie(e,"$",np),Ie(e,".",Gr),Ie(e,"=",ap),Ie(e,"!",Q0),Ie(e,"-",ur),Ie(e,"%",ed),Ie(e,"|",rp),Ie(e,"+",sp),Ie(e,"#",ip),Ie(e,"?",td),Ie(e,'"',X0),Ie(e,"/",Zr),Ie(e,";",J0),Ie(e,"~",nd),Ie(e,"_",op),Ie(e,"\\",Km),Ie(e,"",$w);const n=In(e,Ts,$0,{[Kg]:!0});In(n,Ts,n);const i=In(n,Ms,Yw,{[Xc]:!0}),l=In(n,Fc,qw,{[Vc]:!0}),c=In(e,Ms,Ps,{[e0]:!0});In(c,Ts,i),In(c,Ms,c),In(i,Ts,i),In(i,Ms,i);const u=In(e,Fc,a0,{[t0]:!0});In(u,Ms),In(u,Ts,l),In(u,Fc,u),In(l,Ts,l),In(l,Ms),In(l,Fc,l);const m=Ie(e,ug,G0,{[lg]:!0}),h=Ie(e,qv,i0,{[lg]:!0}),f=In(e,dg,i0,{[lg]:!0});Ie(e,mg,f),Ie(h,ug,m),Ie(h,mg,f),In(h,dg,f),Ie(f,qv),Ie(f,ug),In(f,dg,f),Ie(f,mg,f);const y=In(e,cg,Gw,{[jw]:!0});Ie(y,"#"),In(y,cg,y),Ie(y,CR,y);const b=Ie(y,_R);Ie(b,"#"),In(b,cg,y);const w=[[Ms,c],[Ts,i]],E=[[Ms,null],[Fc,u],[Ts,l]];for(let _=0;_<Zu.length;_++)wi(e,Zu[_],r0,Ps,w);for(let _=0;_<Vu.length;_++)wi(e,Vu[_],s0,a0,E);uo(r0,{tld:!0,ascii:!0},a),uo(s0,{utld:!0,alpha:!0},a),wi(e,"file",pm,Ps,w),wi(e,"mailto",pm,Ps,w),wi(e,"http",cl,Ps,w),wi(e,"https",cl,Ps,w),wi(e,"ftp",cl,Ps,w),wi(e,"ftps",cl,Ps,w),uo(pm,{scheme:!0,ascii:!0},a),uo(cl,{slashscheme:!0,ascii:!0},a),t=t.sort((_,S)=>_[0]>S[0]?1:-1);for(let _=0;_<t.length;_++){const S=t[_][0],I=t[_][1]?{[xR]:!0}:{[ER]:!0};S.indexOf("-")>=0?I[n0]=!0:Ms.test(S)?Ts.test(S)?I[Xc]=!0:I[e0]=!0:I[Kg]=!0,Yv(e,S,S,I)}return Yv(e,"localhost",pd,{ascii:!0}),e.jd=new Va(lp),{start:e,tokens:Il({groups:a},Zw)}}function Vw(t,a){const e=kR(a.replace(/[A-Z]/g,u=>u.toLowerCase())),n=e.length,i=[];let l=0,c=0;for(;c<n;){let u=t,m=null,h=0,f=null,y=-1,b=-1;for(;c<n&&(m=u.go(e[c]));)u=m,u.accepts()?(y=0,b=0,f=u):y>=0&&(y+=e[c].length,b++),h+=e[c].length,l+=e[c].length,c++;l-=y,c-=b,h-=y,i.push({t:f.t,v:a.slice(l-h,l),s:l-h,e:l})}return i}function kR(t){const a=[],e=t.length;let n=0;for(;n<e;){let i=t.charCodeAt(n),l,c=i<55296||i>56319||n+1===e||(l=t.charCodeAt(n+1))<56320||l>57343?t[n]:t.slice(n,n+2);a.push(c),n+=c.length}return a}function wi(t,a,e,n,i){let l;const c=a.length;for(let u=0;u<c-1;u++){const m=a[u];t.j[m]?l=t.j[m]:(l=new Va(n),l.jr=i.slice(),t.j[m]=l),t=l}return l=new Va(e),l.jr=i.slice(),t.j[a[c-1]]=l,l}function $v(t){const a=[],e=[];let n=0,i="0123456789";for(;n<t.length;){let l=0;for(;i.indexOf(t[n+l])>=0;)l++;if(l>0){a.push(e.join(""));for(let c=parseInt(t.substring(n,n+l),10);c>0;c--)e.pop();n+=l}else e.push(t[n]),n++}return a}var fd={defaultProtocol:"http",events:null,format:Gv,formatHref:Gv,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function K0(t,a=null){let e=Il({},fd);t&&(e=Il(e,t instanceof K0?t.o:t));const n=e.ignoreTags,i=[];for(let l=0;l<n.length;l++)i.push(n[l].toUpperCase());this.o=e,a&&(this.defaultRender=a),this.ignoreTags=i}K0.prototype={o:fd,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,a,e){const n=a!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=e.t in i?i[e.t]:fd[t],typeof i=="function"&&n&&(i=i(a,e))):typeof i=="function"&&n&&(i=i(a,e.t,e)),i)},getObj(t,a,e){let n=this.o[t];return typeof n=="function"&&a!=null&&(n=n(a,e.t,e)),n},render(t){const a=t.render(this);return(this.get("render",null,t)||this.defaultRender)(a,t.t,t)}};function Gv(t){return t}function Qw(t,a){this.t="token",this.v=t,this.tk=a}Qw.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const a=this.toString(),e=t.get("truncate",a,this),n=t.get("format",a,this);return e&&n.length>e?n.substring(0,e)+"":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=fd.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const a=this,e=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",e,this),i=t.get("tagName",e,a),l=this.toFormattedString(t),c={},u=t.get("className",e,a),m=t.get("target",e,a),h=t.get("rel",e,a),f=t.getObj("attributes",e,a),y=t.getObj("events",e,a);return c.href=n,u&&(c.class=u),m&&(c.target=m),h&&(c.rel=h),f&&Il(c,f),{tagName:i,attributes:c,content:l,eventListeners:y}}};function Op(t,a){class e extends Qw{constructor(i,l){super(i,l),this.t=t}}for(const n in a)e.prototype[n]=a[n];return e.t=t,e}var Zv=Op("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Vv=Op("text"),NR=Op("nl"),Qu=Op("url",{isLink:!0,toHref(t=fd.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==pd&&t[1].t===Ai}}),lr=t=>new Va(t);function AR({groups:t}){const a=t.domain.concat([Xm,Jm,Ni,Km,ep,tp,np,ap,ur,$0,ed,rp,sp,ip,Zr,lp,nd,op]),e=[Ai,V0,Gr,Q0,ed,td,X0,J0,Wm,Hm,Jc,Kc,zm,Om,Um,Fm,jm,Ym,qm,$m,Gm,Zm,Vm,Qm],n=[Xm,Z0,Jm,Km,ep,tp,np,ap,ur,Jc,Kc,ed,rp,sp,ip,td,Zr,lp,nd,op],i=lr(),l=Ie(i,nd);bt(l,n,l),bt(l,t.domain,l);const c=lr(),u=lr(),m=lr();bt(i,t.domain,c),bt(i,t.scheme,u),bt(i,t.slashscheme,m),bt(c,n,l),bt(c,t.domain,c);const h=Ie(c,Ni);Ie(l,Ni,h),Ie(u,Ni,h),Ie(m,Ni,h);const f=Ie(l,Gr);bt(f,n,l),bt(f,t.domain,l);const y=lr();bt(h,t.domain,y),bt(y,t.domain,y);const b=Ie(y,Gr);bt(b,t.domain,y);const w=lr(Zv);bt(b,t.tld,w),bt(b,t.utld,w),Ie(h,pd,w);const E=Ie(y,ur);Ie(E,ur,E),bt(E,t.domain,y),bt(w,t.domain,y),Ie(w,Gr,b),Ie(w,ur,E);const _=Ie(w,Ai);bt(_,t.numeric,Zv);const S=Ie(c,ur),C=Ie(c,Gr);Ie(S,ur,S),bt(S,t.domain,c),bt(C,n,l),bt(C,t.domain,c);const I=lr(Qu);bt(C,t.tld,I),bt(C,t.utld,I),bt(I,t.domain,c),bt(I,n,l),Ie(I,Gr,C),Ie(I,ur,S),Ie(I,Ni,h);const N=Ie(I,Ai),k=lr(Qu);bt(N,t.numeric,k);const M=lr(Qu),T=lr();bt(M,a,M),bt(M,e,T),bt(T,a,M),bt(T,e,T),Ie(I,Zr,M),Ie(k,Zr,M);const q=Ie(u,Ai),z=Ie(m,Ai),G=Ie(z,Zr),K=Ie(G,Zr);bt(u,t.domain,c),Ie(u,Gr,C),Ie(u,ur,S),bt(m,t.domain,c),Ie(m,Gr,C),Ie(m,ur,S),bt(q,t.domain,M),Ie(q,Zr,M),Ie(q,td,M),bt(K,t.domain,M),bt(K,a,M),Ie(K,Zr,M);const ie=[[Jc,Kc],[Om,zm],[Um,Fm],[Wm,Hm],[jm,Ym],[qm,$m],[Gm,Zm],[Vm,Qm]];for(let H=0;H<ie.length;H++){const[Z,O]=ie[H],R=Ie(M,Z);Ie(T,Z,R),Ie(R,O,M);const A=lr(Qu);bt(R,a,A);const F=lr();bt(R,e),bt(A,a,A),bt(A,e,F),bt(F,a,A),bt(F,e,F),Ie(A,O,M),Ie(F,O,M)}return Ie(i,pd,I),Ie(i,G0,NR),{start:i,tokens:Zw}}function DR(t,a,e){let n=e.length,i=0,l=[],c=[];for(;i<n;){let u=t,m=null,h=null,f=0,y=null,b=-1;for(;i<n&&!(m=u.go(e[i].t));)c.push(e[i++]);for(;i<n&&(h=m||u.go(e[i].t));)m=null,u=h,u.accepts()?(b=0,y=u):b>=0&&b++,i++,f++;if(b<0)i-=f,i<n&&(c.push(e[i]),i++);else{c.length>0&&(l.push(pg(Vv,a,c)),c=[]),i-=b,f-=b;const w=y.t,E=e.slice(i-f,i);l.push(pg(w,a,E))}}return c.length>0&&l.push(pg(Vv,a,c)),l}function pg(t,a,e){const n=e[0].s,i=e[e.length-1].e,l=a.slice(n,i);return new t(l,e)}var fa={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function MR(){fa.scanner=IR(fa.customSchemes);for(let t=0;t<fa.tokenQueue.length;t++)fa.tokenQueue[t][1]({scanner:fa.scanner});fa.parser=AR(fa.scanner.tokens);for(let t=0;t<fa.pluginQueue.length;t++)fa.pluginQueue[t][1]({scanner:fa.scanner,parser:fa.parser});return fa.initialized=!0,fa}function Xw(t){return fa.initialized||MR(),DR(fa.parser.start,t,Vw(fa.scanner.start,t))}Xw.scan=Vw;function TR(t,a=null,e=null){if(a&&typeof a=="object"){if(e)throw Error(`linkifyjs: Invalid link type ${a}; must be a string`);e=a,a=null}const n=new K0(e),i=Xw(t),l=[];for(let c=0;c<i.length;c++){const u=i[c];u.isLink&&(!a||u.t===a)&&n.check(u)&&l.push(u.toFormattedObject(n))}return l}var RR={debounceURLEnrichmentMs:1500,enabled:!1,findURLFn:t=>TR(t,"url",{defaultProtocol:"https"}).reduce((a,e)=>{try{const n=new URL(e.href);e.isLink&&/^[a-zA-Z0-9-.]+\.[a-zA-Z]{2,}$/.test(n.hostname)&&a.push(e.href)}catch{}return a},[])},PR={acceptedFiles:[],fileUploadFilter:()=>!0,maxNumberOfFilesPerMessage:MT},LR={enabled:!0,publishTypingEvents:!0},BR={attachments:PR,drafts:{enabled:!1},linkPreviews:RR,text:LR},Qv=t=>t?{message:{},custom:{}}:{message:{},custom:{}},OR=class{constructor({composer:t,message:a}){this.isMessageDataEqual=(e,n)=>JSON.stringify(e.message)===JSON.stringify(n==null?void 0:n.message),this.initState=({message:e}={})=>{this.state.next(Qv({composer:this.composer}))},this.composer=t,this.state=new Ia(Qv({}))}get customMessageData(){return this.state.getLatestValue().message}get customComposerData(){return this.state.getLatestValue().custom}setMessageData(t){this.state.partialNext({message:{...this.state.getLatestValue().message,...t}})}setCustomData(t){this.state.partialNext({custom:{...this.state.getLatestValue().custom,...t}})}},zR=t=>new Map(t.map(a=>[a.og_scrape_url,a])),Xv=({message:t})=>{var a;return t?{previews:((a=t.attachments)==null?void 0:a.reduce((e,n)=>(n.og_scrape_url&&e.set(n.og_scrape_url,{...n,status:"loaded"}),e),new Map))??new Map}:{previews:new Map}},So=class so{constructor({composer:a,message:e}){this.shouldDiscardEnrichQueries=!1,this.initState=({message:n}={})=>{this.state.next(Xv({message:this.enabled?n:void 0}))},this._findAndEnrichUrls=async n=>{if(!this.enabled)return;const i=this.config.findURLFn(n);if(this.shouldDiscardEnrichQueries=!i.length,this.shouldDiscardEnrichQueries){this.state.next({previews:new Map});return}const l=new Map(Array.from(this.previews).filter(([u])=>i.includes(u)||i.includes(u+"/"))),c=i.filter(u=>{const m=this.previews;return!(m.get(u)||m.get(u+"/"))}).map(u=>({og_scrape_url:u.trim(),status:"loading"}));c.length&&(this.state.partialNext({previews:new Map([...l,...zR(c)])}),await Promise.all(c.map(async u=>{try{const{duration:m,...h}=await this.client.enrichURL(u.og_scrape_url);if(this.shouldDiscardEnrichQueries)return;this.previews.has(u.og_scrape_url)&&this.updatePreview(u.og_scrape_url,{status:"loaded",...h})}catch{this.previews.has(u.og_scrape_url)&&this.updatePreview(u.og_scrape_url,{status:"failed"})}return u})))},this.cancelURLEnrichment=()=>{this.findAndEnrichUrls.cancel(),this.findAndEnrichUrls.flush()},this.clearPreviews=()=>{const n=this.previews,i=new Map;n.forEach((l,c)=>{so.previewIsDismissed(l)&&i.set(c,l)}),this.state.partialNext({previews:i})},this.updatePreview=(n,i)=>{var m;if(!n)return;const l=this.previews.get(n),c=i.status??((m=this.previews.get(n))==null?void 0:m.status)??"pending";let u=i;if(l){const h=Hw(l,i);if(!h.diff||Object.keys(h.diff).length===0)return;u=h.result}this.state.partialNext({previews:new Map(this.previews).set(n,{...u,og_scrape_url:n,status:c})})},this.dismissPreview=n=>{var l;const i=this.previews.get(n);i&&((l=this.onLinkPreviewDismissed)==null||l.call(this,i),this.updatePreview(n,{status:"dismissed"}))},this.composer=a,this.state=new Ia(Xv({message:this.enabled?e:void 0})),this.findAndEnrichUrls=Qg(this._findAndEnrichUrls.bind(this),this.config.debounceURLEnrichmentMs)}get client(){return this.composer.client}get channel(){return this.composer.channel}get previews(){return this.state.getLatestValue().previews}get loadingPreviews(){return Array.from(this.previews.values()).filter(a=>so.previewIsLoading(a))}get loadedPreviews(){return Array.from(this.previews.values()).filter(a=>so.previewIsLoaded(a))}get dismissedPreviews(){return Array.from(this.previews.values()).filter(a=>so.previewIsDismissed(a))}get failedPreviews(){return Array.from(this.previews.values()).filter(a=>so.previewIsFailed(a))}get pendingPreviews(){return Array.from(this.previews.values()).filter(a=>so.previewIsPending(a))}get config(){return this.composer.config.linkPreviews}get debounceURLEnrichmentMs(){return this.config.debounceURLEnrichmentMs}set debounceURLEnrichmentMs(a){this.cancelURLEnrichment(),this.findAndEnrichUrls=Qg(this._findAndEnrichUrls.bind(this),this.config.debounceURLEnrichmentMs),this.composer.updateConfig({linkPreviews:{debounceURLEnrichmentMs:a}})}get enabled(){var a;return!!((a=this.channel.getConfig())!=null&&a.url_enrichment)&&this.composer.config.linkPreviews.enabled}set enabled(a){a!==this.enabled&&this.composer.updateConfig({linkPreviews:{enabled:a}})}get findURLFn(){return this.config.findURLFn}set findURLFn(a){this.composer.updateConfig({linkPreviews:{findURLFn:a}})}get onLinkPreviewDismissed(){return this.config.onLinkPreviewDismissed}set onLinkPreviewDismissed(a){this.composer.updateConfig({linkPreviews:{onLinkPreviewDismissed:a}})}};So.previewIsLoading=t=>t.status==="loading";So.previewIsLoaded=t=>t.status==="loaded";So.previewIsDismissed=t=>t.status==="dismissed";So.previewIsFailed=t=>t.status==="failed";So.previewIsPending=t=>t.status==="pending";So.getPreviewData=t=>{const{status:a,...e}=t;return e};var ey=So,UR=FR(WR),o0=new Map;function FR(t){return function(e,n){const{cb:i,onContinued:l}=t(e,n),c=o0.get(e);c==null||c.onContinued();const u=c?c.promise.then(i,i):i();return o0.set(e,{promise:u,onContinued:l}),u}}function WR(t,a){const e=new AbortController;return{cb:()=>e.signal.aborted?Promise.resolve("canceled"):a(e.signal).finally(()=>{e.signal.aborted||o0.delete(t)}),onContinued:()=>e.abort()}}var Nd=class{constructor(){this.middleware=[],this.id=vr()}use(t){return this.middleware=this.middleware.concat(t),this}replace(t){const a=[...this.middleware];return t.forEach(e=>{const n=this.middleware.findIndex(i=>i.id===e.id);n>=0?a.splice(n,1,e):a.push(e)}),this.middleware=a,this}insert({middleware:t,position:a,unique:e}){e&&t.forEach(c=>{const u=this.middleware.findIndex(m=>m.id===c.id);u>=0&&this.middleware.splice(u,1)});const n=a.after||a.before,i=this.middleware.findIndex(c=>c.id===n),l=a.after?i+1:i;return this.middleware.splice(l,0,...t),this}setOrder(t){this.middleware=t.map(a=>this.middleware.find(e=>e.id===a)).filter(Boolean)}async executeMiddlewareChain({eventName:t,initialValue:a}){let e=-1;const n=async(l,c,u)=>{if(l<=e)throw new Error("next() called multiple times");if(e=l,l===this.middleware.length||u&&["complete","discard"].includes(u))return{state:c,status:u};const f=this.middleware[l].handlers[t];return f?await f({state:c,next:_=>n(l+1,_),complete:_=>n(l+1,_,"complete"),discard:()=>n(l+1,c,"discard"),forward:()=>n(l+1,c)}):n(l+1,c,u)},i=await UR(`middleware-execution-${this.id}-${t}`,async l=>{const c=await n(0,a);return l.aborted?"canceled":c});return i==="canceled"?{state:a,status:"discard"}:i}async execute({eventName:t,initialValue:a}){return await this.executeMiddlewareChain({eventName:t,initialValue:a})}},ty=/^([2-9]|10)$/,HR=100,Jv=t=>!t.trim(),ad={enforce_unique_vote:()=>({max_votes_allowed:void 0}),max_votes_allowed:({data:t,value:a})=>t.enforce_unique_vote&&a?{max_votes_allowed:"Enforce unique vote is enabled"}:!a.match(/^[0-9]+$/)&&a?{max_votes_allowed:"Only numbers are allowed"}:(a==null?void 0:a.length)>1&&!a.match(ty)?{max_votes_allowed:"Type a number from 2 to 10"}:{max_votes_allowed:void 0},options:({value:t})=>{const a={},e=new Set;return t.forEach(n=>{const i=n.text.trim();e.has(i)?a[n.id]="Option already exists":e.add(i)}),Object.keys(a).length>0?{options:a}:{options:void 0}}},jR={name:({currentError:t,value:a})=>a&&t?{name:void 0}:{name:typeof t=="string"?t:void 0}},YR={max_votes_allowed:({value:t})=>t&&!t.match(ty)?{max_votes_allowed:"Type a number from 2 to 10"}:{max_votes_allowed:void 0},name:({value:t})=>Jv(t)?{name:"Question is required"}:{name:void 0},options:t=>{var n;const a=(n=ad.options)==null?void 0:n.call(ad,t),e=(a==null?void 0:a.options)??{};return t.value.forEach((i,l)=>{const c=l===t.value.length-1;Jv(i.text)&&!c&&(e[i.id]="Option is empty")}),Object.keys(e).length>0?{options:e}:{options:void 0}}},qR=t=>!Array.isArray(t)&&typeof(t==null?void 0:t.index)=="number"&&typeof(t==null?void 0:t.text)=="string",$R={enforce_unique_vote:({value:t})=>({enforce_unique_vote:t,max_votes_allowed:""}),options:({value:t,data:a})=>{if(Array.isArray(t))return{options:t.map(f=>({id:f.id,text:f.text.trim()}))};const{index:e,text:n}=t,i=a.options||[],l=i&&i.slice(e+1).length>0&&!n,c=i.slice(0,e),u=i.slice(e+1),m=[...c,...l?[]:[{...i[e],text:n}],...u];return i.length<HR&&!m.some(f=>!f.text.trim())&&m.push({id:vr(),text:""}),{options:m}}},GR=({processors:t,validators:a}={})=>{const e=({state:n,validators:i,processors:l})=>{const{previousState:c,targetFields:u}=n;let m;if(!l&&qR(u.options)){const f=[...c.data.options],y=c.data.options[u.options.index];y&&(y.text=u.options.text,f.splice(u.options.index,1,y)),m={...u,options:f}}else l?m=Object.entries(u).reduce((f,[y,b])=>{const w=l[y];return f={...f,...w?w({data:c.data,value:b}):{[y]:b}},f},{}):m=u;const h=Object.keys(u).reduce((f,y)=>{const b=i[y];if(b){const w=b({currentError:c.errors[y],data:c.data,value:m[y]});f={...f,...w}}return f},{});return{newData:m,newErrors:h}};return{id:"stream-io/poll-composer-state-processing",handlers:{handleFieldChange:({state:n,next:i,forward:l})=>{if(!n.targetFields)return l();const{previousState:c,injectedFieldErrors:u}=n,{newData:m,newErrors:h}=e({processors:{...$R,...t==null?void 0:t.handleFieldChange},state:n,validators:{...ad,...jR,...a==null?void 0:a.handleFieldChange}});return i({...n,nextState:{...c,data:{...c.data,...m},errors:{...c.errors,...h,...u}}})},handleFieldBlur:({state:n,next:i,forward:l})=>{if(!n.targetFields)return l();const{previousState:c}=n,{newData:u,newErrors:m}=e({processors:t==null?void 0:t.handleFieldBlur,state:n,validators:{...ad,...YR,...a==null?void 0:a.handleFieldBlur}});return i({...n,nextState:{...c,data:{...c.data,...u},errors:{...c.errors,...m,...n.injectedFieldErrors}}})}}}},ZR=t=>({id:"stream-io/poll-composer-composition",handlers:{compose:({discard:a,forward:e})=>t.pollComposer.canCreatePoll?e():a()}}),VR=class extends Nd{constructor({composer:t}){super(),this.use([ZR(t)])}},QR=class extends Nd{constructor(){super(),this.use([GR()])}},XR=class extends Error{constructor(t,{code:a,status:e,response:n}){super(t),this.name="ErrorFromResponse",this.code=a,this.response=n,this.status=e}toJSON(){const t=[["status",this.status],["code",this.code]],a=[];for(const[e,n]of t)typeof n<"u"&&n!==null&&a.push(`${e}: ${n}`);return{message:`(${a.join(", ")}) - ${this.message}`,stack:this.stack,name:this.name}}},JR=class{constructor({composer:t}){this.initState=()=>{this.state.next(this.initialState)},this.updateFields=async(a,e)=>{const{state:n,status:i}=await this.stateMiddlewareExecutor.execute({eventName:"handleFieldChange",initialValue:{nextState:{...this.state.getLatestValue()},previousState:{...this.state.getLatestValue()},targetFields:a,injectedFieldErrors:e}});i!=="discard"&&this.state.next(n.nextState)},this.handleFieldBlur=async a=>{const e=await this.stateMiddlewareExecutor.execute({eventName:"handleFieldBlur",initialValue:{nextState:{...this.state.getLatestValue()},previousState:{...this.state.getLatestValue()},targetFields:{[a]:this.state.getLatestValue().data[a]}}});e.status!=="discard"&&this.state.next(e.state.nextState)},this.compose=async()=>{var i;const{data:a,errors:e}=this.state.getLatestValue(),n=await this.compositionMiddlewareExecutor.execute({eventName:"compose",initialValue:{data:{...a,max_votes_allowed:a.max_votes_allowed?parseInt(a.max_votes_allowed):void 0,options:(i=a.options)==null?void 0:i.filter(l=>l.text.trim()).map(l=>({text:l.text}))},errors:e}});if(n.status!=="discard")return n.state},this.composer=t,this.state=new Ia(this.initialState),this.compositionMiddlewareExecutor=new VR({composer:t}),this.stateMiddlewareExecutor=new QR}get initialState(){var t;return{data:{allow_answers:!1,allow_user_suggested_options:!1,description:"",enforce_unique_vote:!0,id:vr(),max_votes_allowed:"",name:"",options:[{id:vr(),text:""}],user_id:(t=this.composer.client.user)==null?void 0:t.id,voting_visibility:"public"},errors:{}}}get allow_answers(){return this.state.getLatestValue().data.allow_answers}get allow_user_suggested_options(){return this.state.getLatestValue().data.allow_user_suggested_options}get description(){return this.state.getLatestValue().data.description}get enforce_unique_vote(){return this.state.getLatestValue().data.enforce_unique_vote}get id(){return this.state.getLatestValue().data.id}get max_votes_allowed(){return this.state.getLatestValue().data.max_votes_allowed}get name(){return this.state.getLatestValue().data.name}get options(){return this.state.getLatestValue().data.options}get user_id(){return this.state.getLatestValue().data.user_id}get voting_visibility(){return this.state.getLatestValue().data.voting_visibility}get canCreatePoll(){var c,u;const{data:t,errors:a}=this.state.getLatestValue(),e=t.options.filter(m=>!!m.text).length>0,n=!!t.name,i=parseInt(((u=(c=t.max_votes_allowed)==null?void 0:c.match(ty))==null?void 0:u[0])||""),l=t.max_votes_allowed===""||!!i&&(2<=i||i<=10);return e&&n&&l&&Object.values(a).filter(m=>!!m).length===0}},Jw=t=>{const{localMetadata:a,...e}=t;return e},KR=t=>({id:"stream-io/message-composer-middleware/attachments",handlers:{compose:({state:a,next:e,discard:n,forward:i})=>{const{attachmentManager:l}=t;if(!l)return i();if(l.uploadsInProgressCount>0)return t.client.notifications.addWarning({message:"Wait until all attachments have uploaded",origin:{emitter:"MessageComposer",context:{composer:t}}}),n();const c=(a.message.attachments??[]).concat(l.successfulUploads.map(Jw));return c.length?e({...a,localMessage:{...a.localMessage,attachments:c},message:{...a.message,attachments:c}}):i()}}}),eP=t=>({id:"stream-io/message-composer-middleware/draft-attachments",handlers:{compose:({state:a,next:e,forward:n})=>{const{attachmentManager:i}=t;if(!i)return n();const l=i.successfulUploads,c=l.length?(a.draft.attachments??[]).concat(l.map(Jw)):void 0;return e({...a,draft:{...a.draft,attachments:c}})}}}),tP=t=>({id:"stream-io/message-composer-middleware/data-cleanup",handlers:{compose:({state:a,next:e})=>{var l,c,u;const n={type:((l=t.editedMessage)==null?void 0:l.type)??"regular"},i=t.editedMessage?Aw(t.editedMessage):void 0;return e({...a,localMessage:Za({...t.editedMessage,...a.localMessage,...n,user:t.client.user}),message:{...i,...a.message,...n},sendOptions:t.editedMessage&&((c=a.sendOptions)!=null&&c.skip_enrich_url)?{skip_enrich_url:(u=a.sendOptions)==null?void 0:u.skip_enrich_url}:a.sendOptions})}}}),nP=t=>({id:"stream-io/message-composer-middleware/custom-data",handlers:{compose:({state:a,next:e,forward:n})=>{const i=t.customDataManager.customMessageData;return i?e({...a,localMessage:{...a.localMessage,...i},message:{...a.message,...i}}):n()}}}),aP=t=>({id:"stream-io/message-composer-middleware/draft-custom-data",handlers:{compose:({state:a,next:e,forward:n})=>{const i=t.customDataManager.customMessageData;return i?e({...a,draft:{...a.draft,...i}}):n()}}}),rP=t=>({id:"stream-io/message-composer-middleware/data-validation",handlers:{compose:async({state:a,discard:e,forward:n})=>{var h;const{maxLengthOnSend:i}=t.config.text??{},l=a.message.text??"",c=ny(l)&&!((h=a.message.attachments)!=null&&h.length)&&!a.message.poll_id,u=typeof i=="number"&&l.length>i,m=t.editedMessage&&!t.lastChangeOriginIsLocal;return c||m||u?await e():await n()}}}),sP=t=>({id:"stream-io/message-composer-middleware/draft-data-validation",handlers:{compose:async({state:a,discard:e,forward:n})=>{var c;const i=!ny(a.draft.text??"")||((c=a.draft.attachments)==null?void 0:c.length)||a.draft.poll_id||a.draft.quoted_message_id;return t.lastChangeOriginIsLocal&&i?await n():await e()}}}),iP=t=>({id:"stream-io/message-composer-middleware/link-previews",handlers:{compose:({state:a,next:e,forward:n})=>{const{linkPreviewsManager:i}=t;if(!i)return n();i.cancelURLEnrichment();const l=i.loadingPreviews.length>0,c=i.dismissedPreviews.length>0,u=i.loadingPreviews.length>0?[]:i.loadedPreviews.map(y=>ey.getPreviewData(y)),m=(a.message.attachments??[]).concat(u);if(!m.length)return n();const h={...a.sendOptions};return(!l&&u.length>0||c)&&(h.skip_enrich_url=!0),e({...a,message:{...a.message,attachments:m},localMessage:{...a.localMessage,attachments:m},sendOptions:h})}}}),oP=t=>({id:"stream-io/message-composer-middleware/draft-link-previews",handlers:{compose:({state:a,next:e,forward:n})=>{const{linkPreviewsManager:i}=t;if(!i)return n();i.cancelURLEnrichment();const l=i.loadedPreviews.map(c=>ey.getPreviewData(c));return l.length?e({...a,draft:{...a.draft,attachments:(a.draft.attachments??[]).concat(l)}}):n()}}}),lP=t=>({id:"stream-io/message-composer-middleware/text-composition",handlers:{compose:({state:a,next:e,forward:n})=>{if(!t.textComposer)return n();const{mentionedUsers:i,text:l}=t.textComposer,c=Array.from(new Set(i.filter(({id:u,name:m})=>l.includes(`@${u}`)||l.includes(`@${m}`))));return!l&&c.length===0?n():e({...a,localMessage:{...a.localMessage,mentioned_users:c,text:l},message:{...a.message,mentioned_users:c.map(u=>u.id),text:l}})}}}),cP=t=>({id:"stream-io/message-composer-middleware/draft-text-composition",handlers:{compose:({state:a,next:e,forward:n})=>{if(!t.textComposer)return n();const{maxLengthOnSend:i}=t.config.text??{},{mentionedUsers:l,text:c}=t.textComposer,u=l.length?Array.from(new Set(l.filter(({id:h,name:f})=>c.includes(`@${h}`)||c.includes(`@${f}`)))):void 0,m=typeof i=="number"&&c.length>i?c.slice(0,i):c;return e({...a,draft:{...a.draft,mentioned_users:u==null?void 0:u.map(h=>h.id),text:m}})}}}),dP=t=>({id:"stream-io/message-composer-middleware/own-state",handlers:{compose:({state:a,next:e})=>{const n={};return t.quotedMessage&&(n.quoted_message_id=t.quotedMessage.id),t.pollId&&(n.poll_id=t.pollId),e({...a,localMessage:{...a.localMessage,...n,quoted_message:t.quotedMessage??void 0},message:{...a.message,...n}})}}}),uP=t=>({id:"stream-io/message-composer-middleware/draft-own-state",handlers:{compose:({state:a,next:e})=>{const n={};return t.quotedMessage&&(n.quoted_message_id=t.quotedMessage.id),t.pollId&&(n.poll_id=t.pollId),e({...a,draft:{...a.draft,...n}})}}}),mP={attachments:[],mentioned_users:[],parent_id:void 0,quoted_message:void 0,text:""},pP=t=>({id:"stream-io/message-composer-middleware/poll-only",handlers:{compose:({state:a,complete:e,forward:n})=>{const i=t.pollId,l=!!t.editedMessage,c=!!t.threadId;return!i||c||l?n():e({...a,localMessage:{...a.localMessage,...mP,poll_id:i},message:{id:a.localMessage.id,poll_id:i}})}}}),fP=class extends Nd{constructor({composer:t}){super(),this.use([pP(t),lP(t),KR(t),iP(t),dP(t),nP(t),rP(t),tP(t)])}},hP=class extends Nd{constructor({composer:t}){super(),this.use([cP(t),eP(t),oP(t),uP(t),aP(t),sP(t)])}},gP={debounceMs:300,pageSize:10},Kw=class{constructor(t){this.setDebounceOptions=({debounceMs:n})=>{this.searchDebounced=Qg(this.executeQuery.bind(this),n)},this.activate=()=>{this.isActive||this.state.partialNext({isActive:!0})},this.deactivate=()=>{this.isActive&&this.state.partialNext({isActive:!1})},this.canExecuteQuery=n=>{const i=typeof n<"u",l=n??this.searchQuery;return!!(this.isActive&&!this.isLoading&&(this.hasNext||i)&&l)},this.search=n=>this.searchDebounced(n);const{debounceMs:a,pageSize:e}={...gP,...t};this.pageSize=e,this.state=new Ia(this.initialState),this.setDebounceOptions({debounceMs:a})}get lastQueryError(){return this.state.getLatestValue().lastQueryError}get hasNext(){return this.state.getLatestValue().hasNext}get hasResults(){return Array.isArray(this.state.getLatestValue().items)}get isActive(){return this.state.getLatestValue().isActive}get isLoading(){return this.state.getLatestValue().isLoading}get initialState(){return{hasNext:!0,isActive:!1,isLoading:!1,items:void 0,lastQueryError:void 0,next:void 0,offset:0,searchQuery:""}}get items(){return this.state.getLatestValue().items}get next(){return this.state.getLatestValue().next}get offset(){return this.state.getLatestValue().offset}get searchQuery(){return this.state.getLatestValue().searchQuery}getStateBeforeFirstQuery(t){return{...this.initialState,isActive:this.isActive,isLoading:!0,searchQuery:t}}getStateAfterQuery(t,a){return{...this.state.getLatestValue(),lastQueryError:void 0,...t,isLoading:!1,items:a?t.items:[...this.items??[],...t.items||[]]}}async executeQuery(t){if(!this.canExecuteQuery(t))return;const a=typeof t<"u",e=t??this.searchQuery;a?this.state.next(this.getStateBeforeFirstQuery(t??"")):this.state.partialNext({isLoading:!0});const n={};try{const i=await this.query(e);if(!i)return;const{items:l,next:c}=i;c||c===null?(n.next=c,n.hasNext=!!c):(n.offset=(this.offset??0)+l.length,n.hasNext=l.length===this.pageSize),n.items=await this.filterQueryResults(l)}catch(i){n.lastQueryError=i}finally{this.state.next(this.getStateAfterQuery(n,a))}}cancelScheduledQuery(){this.searchDebounced.cancel()}resetState(){this.state.next(this.initialState)}resetStateAndActivate(){this.resetState(),this.activate()}},e5=({trigger:t,text:a,isCommand:e=!1,acceptTrailingSpaces:n=!0})=>{const i=`[^\\s${t}]*`,l=a.match(new RegExp(e?`^[${t}]${i}$`:n?`(?!^|\\W)?[${t}]${i}\\s?${i}$`:`(?!^|\\W)?[${t}]${i}$`,"g"));return l&&l[l.length-1].trim()},t5=({insertText:t,selection:a,text:e,trigger:n})=>{const i=e.slice(0,a.end),l=e.slice(a.end),c=i.lastIndexOf(n);return{text:i.slice(0,c)+t+l,selection:{start:c+t.length,end:c+t.length}}};function yP(t){return t.replace(/[-[\]{}()*+?.,/\\^$|#]/g,"\\$&")}var bP=({displayName:t,searchToken:a})=>({tokenizedDisplayName:{token:a,parts:a?t.split(new RegExp(`(${yP(a)})`,"gi")).filter(Boolean):[t]}}),vP=class extends Kw{constructor(t,a){super(a),this.type="commands",this.canExecuteQuery=e=>{const n=typeof e<"u";return this.isActive&&!this.isLoading&&(this.hasNext||n)},this.channel=t}getStateBeforeFirstQuery(t){const a=super.getStateBeforeFirstQuery(t),{items:e}=this.state.getLatestValue();return{...a,items:e}}query(t){const a=this.channel.getConfig(),n=((a==null?void 0:a.commands)||[]).filter(i=>!!(i.name&&i.name.toLowerCase().indexOf(t.toLowerCase())!==-1));return n.sort((i,l)=>{var m,h;let c=(m=i.name)==null?void 0:m.toLowerCase(),u=(h=l.name)==null?void 0:h.toLowerCase();if((c==null?void 0:c.indexOf(t))===0&&(c=`0${c}`),(u==null?void 0:u.indexOf(t))===0&&(u=`0${u}`),c!=null&&u!=null){if(c<u)return-1;if(c>u)return 1}return 0}),Promise.resolve({items:n.map(i=>({...i,id:i.name})),next:null})}filterQueryResults(t){return t}},xP={minChars:1,trigger:"/"},EP=(t,a)=>{const e=Bm(xP,{});let n=new vP(t);return n.activate(),{id:"stream-io/text-composer/commands-middleware",handlers:{onChange:({state:i,next:l,complete:c,forward:u})=>{var y;if(!i.selection)return u();const m=e5({trigger:e.trigger,text:i.text.slice(0,i.selection.end),acceptTrailingSpaces:!1,isCommand:!0});if(m&&m.length===e.minChars&&n.resetStateAndActivate(),!m||m.length<e.minChars){const b=((y=i.suggestions)==null?void 0:y.trigger)===e.trigger,w={...i};return b&&delete w.suggestions,l(w)}return c({...i,suggestions:{query:m.slice(1),searchSource:n,trigger:e.trigger}})},onSuggestionItemSelect:({state:i,complete:l,forward:c})=>{var m;const{selectedSuggestion:u}=i.change??{};return!u||((m=i.suggestions)==null?void 0:m.trigger)!==e.trigger?c():(n.resetStateAndActivate(),l({...i,...t5({insertText:`/${u.name} `,selection:i.selection,text:i.text,trigger:e.trigger}),suggestions:void 0}))}}}},Kv={a:"|||||||",c:"|",e:"|||||",i:"|||||",n:"|",o:"||||||||",u:"|||||||"},fg=t=>t?Object.keys(Kv).reduce((a,e)=>a.replace(new RegExp(Kv[e],"g"),e),t):"",ex=(t,a)=>{if(t.length===0)return a.length;if(a.length===0)return t.length;const e=[];let n;for(n=0;n<=a.length;n++)e[n]=[n];let i;for(i=0;i<=t.length;i++)e[0][i]=i;for(n=1;n<=a.length;n++)for(i=1;i<=t.length;i++)a.charAt(n-1)===t.charAt(i-1)?e[n][i]=e[n-1][i-1]:e[n][i]=Math.min(e[n-1][i-1]+1,Math.min(e[n][i-1]+1,e[n-1][i]+1));return e[a.length][t.length]},wP=class extends Kw{constructor(t,a){const{mentionAllAppUsers:e,textComposerText:n,transliterate:i,...l}=a||{};super(l),this.type="mentions",this.canExecuteQuery=c=>{const u=typeof c<"u";return this.isActive&&!this.isLoading&&(u||this.hasNext)},this.transliterate=c=>c,this.getMembersAndWatchers=()=>{const c=Object.values(this.channel.state.members??{}).map(({user:f})=>f),u=Object.values(this.channel.state.watchers??{}),m=[...c,...u],h={};return m.forEach(f=>{f&&!h[f.id]&&(h[f.id]=f)}),Object.values(h)},this.searchMembersLocally=c=>{const{textComposerText:u}=this.config;return u?this.getMembersAndWatchers().filter(m=>{if(m.id===this.client.userID)return!1;if(!c)return!0;const h=this.transliterate(fg(m.id)).toLowerCase(),f=this.transliterate(fg(m.name)).toLowerCase(),y=this.transliterate(fg(c)).toLowerCase(),b=3,w=u.slice(-4).includes("@");if(f){const _=ex(y,f);if(f.includes(y)||_<=b&&w)return!0}const E=ex(y,h);return h.includes(y)||E<=b&&w}).sort((m,h)=>{if(!this.memberSort)return(m.name||"").localeCompare(h.name||"");for(const[f,y]of Object.entries(this.memberSort)){const b=m[f],w=h[f];if(b!==w)return y===1?String(b||"").localeCompare(String(w||"")):String(w||"").localeCompare(String(b||""))}return 0}):[]},this.prepareQueryUsersParams=c=>({filters:{$or:[{id:{$autocomplete:c}},{name:{$autocomplete:c}}],...this.userFilters},sort:this.userSort??[{name:1},{id:1}],options:{...this.searchOptions,limit:this.pageSize,offset:this.offset}}),this.prepareQueryMembersParams=c=>{let m=[{user_id:1}];return this.memberSort?Array.isArray(this.memberSort)?m=this.memberSort[0]:Object.keys(this.memberSort).length===1&&(m=this.memberSort):m=[{user_id:1}],{filters:this.memberFilters??{name:{$autocomplete:c}},sort:m,options:{...this.searchOptions,limit:this.pageSize,offset:this.offset}}},this.queryUsers=async c=>{const{filters:u,sort:m,options:h}=this.prepareQueryUsersParams(c),{users:f}=await this.client.queryUsers(u,m,h);return f},this.queryMembers=async c=>{const{filters:u,sort:m,options:h}=this.prepareQueryMembersParams(c);return(await this.channel.queryMembers(u,m,h)).members.map(y=>y.user)},this.filterMutes=c=>{const{textComposerText:u}=this.config;if(!u)return[];const{mutedUsers:m}=this.client;return u.includes("/unmute")&&!m.length?[]:m.length?u.includes("/unmute")?c.filter(h=>m.some(f=>f.target.id===h.id)):c.filter(h=>m.every(f=>f.target.id!==h.id)):c},this.client=t.getClient(),this.channel=t,this.config={mentionAllAppUsers:e,textComposerText:n},i&&(this.transliterate=i)}get allMembersLoadedWithInitialChannelQuery(){return Object.keys(this.channel.state.members||{}).length<TT}getStateBeforeFirstQuery(t){const a=super.getStateBeforeFirstQuery(t),{items:e}=this.state.getLatestValue();return{...a,items:e}}async query(t){let a;const e=this.allMembersLoadedWithInitialChannelQuery||!t;return this.config.mentionAllAppUsers?a=await this.queryUsers(t):e?a=this.searchMembersLocally(t):a=await this.queryMembers(t),{items:a.map(n=>({...n,...bP({displayName:n.name||n.id,searchToken:this.searchQuery})}))}}filterQueryResults(t){return this.filterMutes(t)}},SP={minChars:1,trigger:"@"},CP=t=>{const{tokenizedDisplayName:a,...e}=t;return e},_P=(t,a)=>{const e=Bm(SP,{});let n;return n=new wP(t),n.activate(),{id:"stream-io/text-composer/mentions-middleware",handlers:{onChange:({state:i,next:l,complete:c,forward:u})=>{var y;if(!i.selection)return u();const m=e5({trigger:e.trigger,text:i.text.slice(0,i.selection.end)});if(m&&m.length===e.minChars&&n.resetStateAndActivate(),!m||m.length<e.minChars){const b=((y=i.suggestions)==null?void 0:y.trigger)===e.trigger,w={...i};return b&&delete w.suggestions,l(w)}return n.config.textComposerText=i.text,c({...i,suggestions:{query:m.slice(1),searchSource:n,trigger:e.trigger}})},onSuggestionItemSelect:({state:i,complete:l,forward:c})=>{var m;const{selectedSuggestion:u}=i.change??{};return!u||((m=i.suggestions)==null?void 0:m.trigger)!==e.trigger?c():(n.resetStateAndActivate(),l({...i,...t5({insertText:`@${u.name||u.id} `,selection:i.selection,text:i.text,trigger:e.trigger}),mentionedUsers:i.mentionedUsers.concat(CP(u)),suggestions:void 0}))}}}},IP=t=>({id:"stream-io/text-composer/pre-validation-middleware",handlers:{onChange:({state:a,next:e,forward:n})=>{const{maxLengthOnEdit:i}=t.config.text??{};return typeof i=="number"&&a.text.length>i?(a.text=a.text.slice(0,i),e({...a,text:a.text})):n()},onSuggestionItemSelect:({forward:a})=>a()}}),kP=class extends Nd{constructor({composer:t}){super(),this.use([IP(t),_P(t.channel),EP(t.channel)])}async execute({eventName:t,initialValue:a}){var l;const e=await this.executeMiddlewareChain({eventName:t,initialValue:a}),{query:n,searchSource:i}=e.state.suggestions??{};return(l=i==null?void 0:i.search(n))==null||l.catch(console.error),e}},ny=t=>{const a=t.trim();return a===""||a===">"||a==="``````"||a==="``"||a==="**"||a==="____"||a==="__"||a==="****"},tx=({composer:t,message:a})=>{if(!a){const n=t.config.text.defaultValue??"";return{mentionedUsers:[],text:n,selection:{start:n.length,end:n.length}}}const e=a.text??"";return{mentionedUsers:(a.mentioned_users??[]).map(n=>typeof n=="string"?{id:n}:n),text:e,selection:{start:e.length,end:e.length}}},NP=class{constructor({composer:t,message:a}){this.initState=({message:e}={})=>{this.state.next(tx({composer:this.composer,message:e}))},this.upsertMentionedUser=e=>{const n=[...this.mentionedUsers],i=n.findIndex(l=>l.id===e.id);i>=0?(n.splice(i,1,e),this.state.partialNext({mentionedUsers:n})):(n.push(e),this.state.partialNext({mentionedUsers:n}))},this.getMentionedUser=e=>this.state.getLatestValue().mentionedUsers.find(n=>n.id===e),this.removeMentionedUser=e=>{const n=this.mentionedUsers.findIndex(l=>l.id===e);if(n===-1)return;const i=[...this.mentionedUsers];i.splice(n,1),this.state.partialNext({mentionedUsers:i})},this.setText=e=>{!this.enabled||e===this.text||this.state.partialNext({text:e})},this.setSelection=e=>{const n=e.start!==this.selection.start||e.end!==this.selection.end;!this.enabled||!n||this.state.partialNext({selection:e})},this.insertText=({text:e,selection:n})=>{if(!this.enabled)return;const i=n??this.selection,{maxLengthOnEdit:l}=this.composer.config.text??{},c=this.text,u=[c.slice(0,i.start),e,c.slice(i.end)].join(""),m=u.slice(0,typeof l=="number"?l:u.length),h=c.slice(0,i.start).length+e.length,f=h>=m.length?m.length:c.slice(0,h).length;this.state.partialNext({text:m,selection:{start:f,end:f}})},this.wrapSelection=({head:e="",selection:n,tail:i=""})=>{if(!this.enabled)return;const l=n??this.selection,c=this.text.slice(0,l.start),u=this.text.slice(l.start,l.end),m=this.text.slice(l.end),h={start:c.length+e.length,end:c.length+e.length+u.length};this.state.partialNext({text:[c,e,u,i,m].join(""),selection:h})},this.setSuggestions=e=>{this.state.partialNext({suggestions:e})},this.closeSuggestions=()=>{const{suggestions:e}=this.state.getLatestValue();e&&this.state.partialNext({suggestions:void 0})},this.handleChange=async({text:e,selection:n})=>{if(!this.enabled)return;const i=await this.middlewareExecutor.execute({eventName:"onChange",initialValue:{...this.state.getLatestValue(),text:e,selection:n}});i.status!=="discard"&&(this.state.next(i.state),this.config.publishTypingEvents&&e&&Iw(this.channel.keystroke(this.composer.threadId??void 0),"start typing event"))},this.handleSelect=async e=>{if(!this.enabled)return;const n=await this.middlewareExecutor.execute({eventName:"onSuggestionItemSelect",initialValue:{...this.state.getLatestValue(),change:{selectedSuggestion:e}}});(n==null?void 0:n.status)!=="discard"&&this.state.next(n.state)},this.composer=t,this.state=new Ia(tx({composer:t,message:a})),this.middlewareExecutor=new kP({composer:t})}get channel(){return this.composer.channel}get config(){return this.composer.config.text}get enabled(){return this.composer.config.text.enabled}set enabled(t){t!==this.enabled&&this.composer.updateConfig({text:{enabled:t}})}get defaultValue(){return this.composer.config.text.defaultValue}set defaultValue(t){t!==this.defaultValue&&this.composer.updateConfig({text:{defaultValue:t}})}get maxLengthOnEdit(){return this.composer.config.text.maxLengthOnEdit}set maxLengthOnEdit(t){t!==this.maxLengthOnEdit&&this.composer.updateConfig({text:{maxLengthOnEdit:t}})}get maxLengthOnSend(){return this.composer.config.text.maxLengthOnSend}set maxLengthOnSend(t){t!==this.maxLengthOnSend&&this.composer.updateConfig({text:{maxLengthOnSend:t}})}get publishTypingEvents(){return this.composer.config.text.publishTypingEvents}set publishTypingEvents(t){t!==this.publishTypingEvents&&this.composer.updateConfig({text:{publishTypingEvents:t}})}get mentionedUsers(){return this.state.getLatestValue().mentionedUsers}get selection(){return this.state.getLatestValue().selection}get suggestions(){return this.state.getLatestValue().suggestions}get text(){return this.state.getLatestValue().text}get textIsEmpty(){return ny(this.text)}setMentionedUsers(t){this.state.partialNext({mentionedUsers:t})}},l0=class n5{constructor(){this.unsubscribeFunctions=new Set}get hasSubscriptions(){return this.unsubscribeFunctions.size>0}addUnsubscribeFunction(a){this.unsubscribeFunctions.add(a)}unregisterSubscriptions(){return this.unsubscribeFunctions.forEach(a=>a()),this.unsubscribeFunctions.clear(),n5.symbol}};l0.symbol=Symbol(l0.name);var Ad=l0,hg=50,AP=[{created_at:-1}],DP=1e3,MP={active_participant_count:!0,channel:!0,channel_cid:!0,created_at:!0,created_by:!0,created_by_user_id:!0,deleted_at:!0,draft:!0,last_message_at:!0,latest_replies:!0,parent_message:!0,parent_message_id:!0,participant_count:!0,read:!0,reply_count:!0,thread_participants:!0,title:!0,updated_at:!0},nx=t=>{const a={};for(const e in t){if(MP[e])continue;const n=e;a[n]=t[n]}return a},rd=class extends Ad{constructor({client:t,threadData:a}){super(),this.failedRepliesMap=new Map,this.activate=()=>{this.state.partialNext({active:!0})},this.deactivate=()=>{this.state.partialNext({active:!1})},this.reload=async()=>{if(!this.state.getLatestValue().isLoading){this.state.partialNext({isLoading:!0});try{const i=await this.client.getThread(this.id,{watch:!0});this.hydrateState(i)}finally{this.state.partialNext({isLoading:!1})}}},this.hydrateState=i=>{if(i===this)return;if(i.id!==this.id)throw new Error("Cannot hydrate thread's state using thread with different threadId");const{createdAt:l,custom:c,title:u,deletedAt:m,parentMessage:h,participants:f,read:y,replyCount:b,replies:w,updatedAt:E}=i.state.getLatestValue(),_=Array.from(this.failedRepliesMap.values());this.state.partialNext({title:u,createdAt:l,custom:c,deletedAt:m,parentMessage:h,participants:f,read:y,replyCount:b,replies:_.length?w.concat(_):w,updatedAt:E,isStateStale:!1})},this.registerSubscriptions=()=>{this.hasSubscriptions||(this.addUnsubscribeFunction(this.subscribeThreadUpdated()),this.addUnsubscribeFunction(this.subscribeMarkActiveThreadRead()),this.addUnsubscribeFunction(this.subscribeReloadActiveStaleThread()),this.addUnsubscribeFunction(this.subscribeMarkThreadStale()),this.addUnsubscribeFunction(this.subscribeNewReplies()),this.addUnsubscribeFunction(this.subscribeRepliesRead()),this.addUnsubscribeFunction(this.subscribeMessageDeleted()),this.addUnsubscribeFunction(this.subscribeMessageUpdated()))},this.subscribeThreadUpdated=()=>this.client.on("thread.updated",i=>{if(!i.thread||i.thread.parent_message_id!==this.id)return;const l=i.thread;this.state.partialNext({title:l.title,updatedAt:new Date(l.updated_at),deletedAt:l.deleted_at?new Date(l.deleted_at):null,custom:nx(l)})}).unsubscribe,this.subscribeMarkActiveThreadRead=()=>this.state.subscribeWithSelector(i=>({active:i.active,unreadMessageCount:ax(this.client.userID)(i)}),({active:i,unreadMessageCount:l})=>{!i||!l||this.throttledMarkAsRead()}),this.subscribeReloadActiveStaleThread=()=>this.state.subscribeWithSelector(i=>({active:i.active,isStateStale:i.isStateStale}),({active:i,isStateStale:l})=>{i&&l&&this.reload()}),this.subscribeMarkThreadStale=()=>this.client.on("user.watching.stop",i=>{var c,u;const{channel:l}=this.state.getLatestValue();!this.client.userID||this.client.userID!==((c=i.user)==null?void 0:c.id)||((u=i.channel)==null?void 0:u.cid)!==l.cid||this.state.partialNext({isStateStale:!0})}).unsubscribe,this.subscribeNewReplies=()=>this.client.on("message.new",i=>{var h,f,y;if(!this.client.userID||((h=i.message)==null?void 0:h.parent_id)!==this.id)return;const l=((f=i.message.user)==null?void 0:f.id)===this.client.userID,{active:c,read:u}=this.state.getLatestValue();this.upsertReplyLocally({message:i.message,timestampChanged:l}),c&&this.throttledMarkAsRead();const m={};for(const b of Object.keys(u)){const w=u[b];if(w){let E=w;b===((y=i.user)==null?void 0:y.id)?E={...E,lastReadAt:i.created_at?new Date(i.created_at):new Date,user:i.user,unreadMessageCount:0}:c&&b===this.client.userID||(E={...E,unreadMessageCount:w.unreadMessageCount+1}),m[b]=E}}this.state.partialNext({read:m})}).unsubscribe,this.subscribeRepliesRead=()=>this.client.on("message.read",i=>{if(!i.user||!i.created_at||!i.thread||i.thread.parent_message_id!==this.id)return;const l=i.user.id,c=i.created_at,u=i.user;this.state.next(m=>({...m,read:{...m.read,[l]:{lastReadAt:new Date(c),user:u,lastReadMessageId:i.last_read_message_id,unreadMessageCount:0}}}))}).unsubscribe,this.subscribeMessageDeleted=()=>this.client.on("message.deleted",i=>{i.message&&(i.message.parent_id===this.id&&(i.hard_delete?this.deleteReplyLocally({message:i.message}):this.upsertReplyLocally({message:i.message})),i.message.id===this.id&&this.updateParentMessageLocally({message:i.message}))}).unsubscribe,this.subscribeMessageUpdated=()=>{const l=["message.updated","reaction.new","reaction.deleted","reaction.updated"].map(c=>this.client.on(c,u=>{u.message&&this.updateParentMessageOrReplyLocally(u.message)}).unsubscribe);return()=>l.forEach(c=>c())},this.unregisterSubscriptions=()=>{const i=super.unregisterSubscriptions();return this.state.partialNext({isStateStale:!0}),i},this.deleteReplyLocally=({message:i})=>{var m;const{replies:l}=this.state.getLatestValue(),c=Dw({needle:Za(i),sortedArray:l,sortDirection:"ascending",selectValueToCompare:h=>h.created_at.getTime(),selectKey:h=>h.id});if(((m=l[c])==null?void 0:m.id)!==i.id)return;const u=[...l];u.splice(c,1),this.state.partialNext({replies:u})},this.upsertReplyLocally=({message:i,timestampChanged:l=!1})=>{if(i.parent_id!==this.id)throw new Error("Reply does not belong to this thread");const c=Za(i);i.status==="failed"?this.failedRepliesMap.set(c.id,c):this.failedRepliesMap.has(i.id)&&this.failedRepliesMap.delete(i.id),this.state.next(u=>({...u,replies:Mw(u.replies,c,l)}))},this.updateParentMessageLocally=({message:i})=>{if(i.id!==this.id)throw new Error("Message does not belong to this thread");this.state.next(l=>{const c=Za(i);return{...l,deletedAt:c.deleted_at,parentMessage:c,replyCount:i.reply_count??l.replyCount}})},this.updateParentMessageOrReplyLocally=i=>{i.parent_id===this.id&&this.upsertReplyLocally({message:i}),!i.parent_id&&i.id===this.id&&this.updateParentMessageLocally({message:i})},this.markAsRead=async({force:i=!1}={})=>this.ownUnreadCount===0&&!i?null:await this.channel.markRead({thread_id:this.id}),this.throttledMarkAsRead=Tw(()=>this.markAsRead(),DP,{trailing:!0}),this.queryReplies=({limit:i=hg,sort:l=AP,...c}={})=>this.channel.getReplies(this.id,{limit:i,...c},l),this.loadNextPage=({limit:i=hg}={})=>this.loadPage(i),this.loadPrevPage=({limit:i=hg}={})=>this.loadPage(-i),this.loadPage=async i=>{var y;const{pagination:l}=this.state.getLatestValue(),[c,u,m]=i>0?["isLoadingNext","nextCursor","push"]:["isLoadingPrev","prevCursor","unshift"];if(l[c]||l[u]===null)return;const h={[i>0?"id_gt":"id_lt"]:l[u]},f=Math.abs(i);this.state.partialNext({pagination:{...l,[c]:!0}});try{const b=await this.queryReplies({...h,limit:f}),w=b.messages.map(Za),E=((y=w.at(i>0?-1:0))==null?void 0:y.id)??null;this.state.next(_=>{let S=_.replies;return w.length>0&&(S=[..._.replies],S[m](...w)),{..._,replies:S,pagination:{..._.pagination,[u]:b.messages.length<f?null:E,[c]:!1}}})}catch(b){this.client.logger("error",b.message),this.state.next(w=>({...w,pagination:{...w.pagination,[c]:!1}}))}};const e=t.channel(a.channel.type,a.channel.id,{name:a.channel.name});e._hydrateMembers({members:a.channel.members??[],overrideCurrentState:!1});const n=t.userID?[{user:{id:t.userID},unread_messages:0,last_read:new Date().toISOString()}]:[];this.state=new Ia({active:!1,isLoading:!1,isStateStale:!1,channel:e,createdAt:new Date(a.created_at),deletedAt:a.deleted_at?new Date(a.deleted_at):null,pagination:RP(a),parentMessage:Za(a.parent_message),participants:a.thread_participants,read:TP(!a.read||a.read.length===0?n:a.read),replies:a.latest_replies.map(Za),replyCount:a.reply_count??0,updatedAt:a.updated_at?new Date(a.updated_at):null,title:a.title,custom:nx(a)}),this.id=a.parent_message_id,this.client=t,this.messageComposer=new cp({client:t,composition:a.draft,compositionContext:this})}get channel(){return this.state.getLatestValue().channel}get hasStaleState(){return this.state.getLatestValue().isStateStale}get ownUnreadCount(){return ax(this.client.userID)(this.state.getLatestValue())}},TP=t=>t.reduce((a,e)=>(a[e.user.id]={user:e.user,lastReadMessageId:e.last_read_message_id,unreadMessageCount:e.unread_messages??0,lastReadAt:new Date(e.last_read)},a),{}),RP=t=>{var e;return{nextCursor:null,prevCursor:t.latest_replies.length===t.reply_count?null:((e=t.latest_replies.at(0))==null?void 0:e.id)??null,isLoadingNext:!1,isLoadingPrev:!1}},ax=t=>a=>{var e;return t&&((e=a.read[t])==null?void 0:e.unreadMessageCount)||0},sd=t=>!!(t!=null&&t.message),PP=t=>{let a=null,e=new Date().getTime();return sd(t)?e=a=new Date(t.created_at).getTime():t&&Bw(t)&&(e=new Date(t.updated_at).getTime()),{lastChange:{draftUpdate:a,stateUpdate:e}}},rx=t=>{if(!t)return{id:cp.generateId(),quotedMessage:null,pollId:null,draftId:null};const a=t.quoted_message;let e,n=null,i=cp.generateId();return sd(t)?(e=t.message,n=t.message.id):(e=t,i=t.id),{draftId:n,id:i,quotedMessage:a?Za(a):null,pollId:e.poll_id??null}},LP=()=>{},a5=class c0 extends Ad{constructor({composition:a,config:e,compositionContext:n,client:i}){if(super(),this.initState=({composition:c}={})=>{this.editingAuditState.partialNext(this.initEditingAuditState(c));const u=typeof c>"u"?c:sd(c)?c.message:Za(c);this.attachmentManager.initState({message:u}),this.linkPreviewsManager.initState({message:u}),this.textComposer.initState({message:u}),this.pollComposer.initState(),this.customDataManager.initState({message:u}),this.state.next(rx(c)),c&&!sd(c)&&u&&Bw(u)&&(this.editedMessage=u)},this.initEditingAuditState=c=>PP(c),this.registerSubscriptions=()=>this.hasSubscriptions?LP:(this.addUnsubscribeFunction(this.subscribeMessageComposerSetupStateChange()),this.addUnsubscribeFunction(this.subscribeMessageUpdated()),this.addUnsubscribeFunction(this.subscribeMessageDeleted()),this.addUnsubscribeFunction(this.subscribeTextComposerStateChanged()),this.addUnsubscribeFunction(this.subscribeAttachmentManagerStateChanged()),this.addUnsubscribeFunction(this.subscribeLinkPreviewsManagerStateChanged()),this.addUnsubscribeFunction(this.subscribePollComposerStateChanged()),this.addUnsubscribeFunction(this.subscribeCustomDataManagerStateChanged()),this.addUnsubscribeFunction(this.subscribeMessageComposerStateChanged()),this.addUnsubscribeFunction(this.subscribeMessageComposerConfigStateChanged()),this.unregisterSubscriptions.bind(this)),this.subscribeMessageUpdated=()=>{const u=["message.updated","reaction.new","reaction.deleted","reaction.updated"].map(m=>this.client.on(m,h=>{var f;h.message&&(h.message.id===this.id&&this.initState({composition:h.message}),(f=this.quotedMessage)!=null&&f.id&&h.message.id===this.quotedMessage.id&&this.setQuotedMessage(Za(h.message)))}).unsubscribe);return()=>u.forEach(m=>m())},this.subscribeMessageComposerSetupStateChange=()=>{let c=null;const u=this.client._messageComposerSetupState.subscribeWithSelector(({setupFunction:m})=>({setup:m}),({setup:m})=>{c==null||c(),c=(m==null?void 0:m({composer:this}))??null});return()=>{c==null||c(),u()}},this.subscribeMessageDeleted=()=>this.client.on("message.deleted",c=>{c.message&&(c.message.id===this.id?this.clear():this.quotedMessage&&c.message.id===this.quotedMessage.id&&this.setQuotedMessage(null))}).unsubscribe,this.subscribeDraftUpdated=()=>this.client.on("draft.updated",c=>{const u=c.draft;!u||!!u.parent_id!=!!this.threadId||u.channel_cid!==this.channel.cid||this.initState({composition:u})}).unsubscribe,this.subscribeDraftDeleted=()=>this.client.on("draft.deleted",c=>{const u=c.draft;!u||!!u.parent_id!=!!this.threadId||u.channel_cid!==this.channel.cid||(this.logDraftUpdateTimestamp(),!this.compositionIsEmpty&&this.clear())}).unsubscribe,this.subscribeTextComposerStateChanged=()=>this.textComposer.state.subscribeWithSelector(({text:c})=>[c],([c],u)=>{if(!(typeof u>"u")){if(this.logStateUpdateTimestamp(),this.compositionIsEmpty){this.deleteDraft();return}this.linkPreviewsManager.enabled&&(c?this.linkPreviewsManager.findAndEnrichUrls(c):this.linkPreviewsManager.clearPreviews())}}),this.subscribeAttachmentManagerStateChanged=()=>this.attachmentManager.state.subscribe((c,u)=>{if(!(typeof u>"u")&&(this.logStateUpdateTimestamp(),this.compositionIsEmpty)){this.deleteDraft();return}}),this.subscribeLinkPreviewsManagerStateChanged=()=>this.linkPreviewsManager.state.subscribe((c,u)=>{if(!(typeof u>"u")&&(this.logStateUpdateTimestamp(),this.compositionIsEmpty)){this.deleteDraft();return}}),this.subscribePollComposerStateChanged=()=>this.pollComposer.state.subscribe((c,u)=>{if(!(typeof u>"u")&&(this.logStateUpdateTimestamp(),this.compositionIsEmpty)){this.deleteDraft();return}}),this.subscribeCustomDataManagerStateChanged=()=>this.customDataManager.state.subscribe((c,u)=>{typeof u<"u"&&!this.customDataManager.isMessageDataEqual(c,u)&&this.logStateUpdateTimestamp()}),this.subscribeMessageComposerStateChanged=()=>this.state.subscribe((c,u)=>{typeof u>"u"||(this.logStateUpdateTimestamp(),this.compositionIsEmpty&&this.deleteDraft())}),this.subscribeMessageComposerConfigStateChanged=()=>{let c;const u=this.configState.subscribeWithSelector(m=>({textDefaultValue:m.text.defaultValue,draftsEnabled:m.drafts.enabled}),({textDefaultValue:m,draftsEnabled:h})=>{this.textComposer.text===""&&m&&this.textComposer.insertText({text:m,selection:{start:0,end:0}}),h&&!c?c=[this.subscribeDraftUpdated(),this.subscribeDraftDeleted()]:!h&&c&&(c.forEach(f=>f()),c=null)});return()=>{c==null||c.forEach(m=>m()),u()}},this.setQuotedMessage=c=>{this.state.partialNext({quotedMessage:c})},this.clear=()=>{this.initState()},this.restore=()=>{const{editedMessage:c}=this;if(c){this.initState({composition:c});return}this.clear()},this.compose=async()=>{var h;const c=((h=this.editedMessage)==null?void 0:h.created_at)??new Date,m=await this.compositionMiddlewareExecutor.execute({eventName:"compose",initialValue:{message:{id:this.id,parent_id:this.threadId??void 0,type:"regular"},localMessage:{attachments:[],created_at:c,deleted_at:null,error:void 0,id:this.id,mentioned_users:[],parent_id:this.threadId??void 0,pinned_at:null,reaction_groups:null,status:this.editedMessage?this.editedMessage.status:"sending",text:"",type:"regular",updated_at:c},sendOptions:{}}});if(m.status!=="discard")return m.state},this.composeDraft=async()=>{const{state:c,status:u}=await this.draftCompositionMiddlewareExecutor.execute({eventName:"compose",initialValue:{draft:{id:this.id,parent_id:this.threadId??void 0,text:""}}});if(u!=="discard")return c},this.createDraft=async()=>{if(this.editedMessage||!this.config.drafts.enabled)return;const c=await this.composeDraft();if(!c)return;const{draft:u}=c;this.state.partialNext({draftId:u.id}),this.logDraftUpdateTimestamp(),await this.channel.createDraft(u)},this.deleteDraft=async()=>{this.editedMessage||!this.config.drafts.enabled||!this.draftId||(this.state.partialNext({draftId:null}),this.logDraftUpdateTimestamp(),await this.channel.deleteDraft({parent_id:this.threadId??void 0}))},this.createPoll=async()=>{const c=await this.pollComposer.compose();if(!(!c||!c.data.id))try{const{poll:u}=await this.client.createPoll(c.data);this.state.partialNext({pollId:u.id}),this.pollComposer.initState()}catch(u){throw this.client.notifications.add({message:"Failed to create the poll",origin:{emitter:"MessageComposer",context:{composer:this}}}),u}},this.compositionContext=n,this.configState=new Ia(Bm(BR,e??{})),n instanceof hl)this.channel=n;else if(n instanceof rd)this.channel=n.channel;else if(n.cid){const[c,u]=n.cid.split(":");this.channel=i.channel(c,u)}else throw new Error("MessageComposer requires composition context pointing to channel (channel or context.cid)");let l;sd(a)?l=a.message:a&&(l=Za(a),this.editedMessage=l),this.attachmentManager=new yR({composer:this,message:l}),this.linkPreviewsManager=new ey({composer:this,message:l}),this.textComposer=new NP({composer:this,message:l}),this.pollComposer=new JR({composer:this}),this.customDataManager=new OR({composer:this,message:l}),this.editingAuditState=new Ia(this.initEditingAuditState(a)),this.state=new Ia(rx(a)),this.compositionMiddlewareExecutor=new fP({composer:this}),this.draftCompositionMiddlewareExecutor=new hP({composer:this})}static evaluateContextType(a){return a instanceof hl?"channel":a instanceof rd?"thread":typeof a.legacyThreadId=="string"?"legacy_thread":"message"}static constructTag(a){return`${this.evaluateContextType(a)}_${a.id}`}get config(){return this.configState.getLatestValue()}updateConfig(a){this.configState.partialNext(Bm(this.config,a))}get contextType(){return c0.evaluateContextType(this.compositionContext)}get tag(){return c0.constructTag(this.compositionContext)}get threadId(){return this.compositionContext instanceof hl?null:this.compositionContext instanceof rd?this.compositionContext.id:typeof this.compositionContext.legacyThreadId=="string"?this.compositionContext.legacyThreadId:typeof this.compositionContext.parent_id=="string"?this.compositionContext.parent_id:null}get client(){return this.channel.getClient()}get id(){return this.state.getLatestValue().id}get draftId(){return this.state.getLatestValue().draftId}get lastChange(){return this.editingAuditState.getLatestValue().lastChange}get quotedMessage(){return this.state.getLatestValue().quotedMessage}get pollId(){return this.state.getLatestValue().pollId}get hasSendableData(){return!!(!this.attachmentManager.uploadsInProgressCount&&(!this.textComposer.textIsEmpty||this.attachmentManager.successfulUploadsCount>0)||this.pollId)}get compositionIsEmpty(){return!this.quotedMessage&&this.textComposer.textIsEmpty&&!this.attachmentManager.attachments.length&&!this.pollId}get lastChangeOriginIsLocal(){var l;const e=this.lastChange.draftUpdate===null&&!this.editedMessage,n=!!((l=this.editedMessage)!=null&&l.updated_at)&&new Date(this.editedMessage.updated_at).getTime()<this.lastChange.stateUpdate,i=!!this.lastChange.draftUpdate&&this.lastChange.draftUpdate<this.lastChange.stateUpdate;return n||i||e}logStateUpdateTimestamp(){this.editingAuditState.partialNext({lastChange:{...this.lastChange,stateUpdate:new Date().getTime()}})}logDraftUpdateTimestamp(){if(!this.config.drafts.enabled)return;const a=new Date().getTime();this.editingAuditState.partialNext({lastChange:{draftUpdate:a,stateUpdate:a}})}};a5.generateId=vr;var cp=a5,hl=class{constructor(t,a,e,n){this.create=async c=>{const u={...c,watch:!1,state:!1,presence:!1};return await this.query(u,"latest")},this._callChannelListeners=c=>{const u=this,m=[];u.listeners.all&&m.push(...u.listeners.all),u.listeners[c.type]&&m.push(...u.listeners[c.type]);for(const h of m)typeof h!="string"&&h(c)},this._channelURL=()=>{if(!this.id)throw new Error("channel id is not defined");return`${this.getClient().baseURL}/channels/${encodeURIComponent(this.type)}/${encodeURIComponent(this.id)}`};const i=/^[\w_-]+$/,l=/^[\w!_-]+$/;if(!i.test(a))throw new Error(`Invalid chat type ${a}, letters, numbers and "_-" are allowed`);if(typeof e=="string"&&!l.test(e))throw new Error(`Invalid chat id ${e}, letters, numbers and "!-_" are allowed`);this._client=t,this.type=a,this.id=e,this.data=n,this._data={...n},this.cid=`${a}:${e}`,this.listeners={},this.state=new rR(this),this.initialized=!1,this.offlineMode=!1,this.lastTypingEvent=null,this.isTyping=!1,this.disconnected=!1,this.messageComposer=new cp({client:this._client,compositionContext:this})}getClient(){if(this.disconnected===!0)throw Error("You can't use a channel after client.disconnect() was called");return this._client}getConfig(){return this.getClient().configs[this.cid]}async _sendMessage(t,a){return await this.getClient().post(this._channelURL()+"/message",{message:t,...a})}async sendMessage(t,a){try{const e=this.getClient().offlineDb;if(e){const n=t.id;if(n)return await e.queueTask({task:{channelId:this.id,channelType:this.type,messageId:n,payload:[t,a],type:"send-message"}})}}catch(e){this._client.logger("error","offlineDb:send-message",{tags:["channel","offlineDb"],error:e})}return await this._sendMessage(t,a)}sendFile(t,a,e,n){return this.getClient().sendFile(`${this._channelURL()}/file`,t,a,e,n)}sendImage(t,a,e,n){return this.getClient().sendFile(`${this._channelURL()}/image`,t,a,e,n)}deleteFile(t){return this.getClient().delete(`${this._channelURL()}/file`,{url:t})}deleteImage(t){return this.getClient().delete(`${this._channelURL()}/image`,{url:t})}async sendEvent(t){return this._checkInitialized(),await this.getClient().post(this._channelURL()+"/event",{event:t})}async search(t,a={}){if(a.offset&&a.next)throw Error("Cannot specify offset with next");const e={filter_conditions:{cid:this.cid},...a,sort:a.sort?ha(a.sort):void 0};if(typeof t=="string")e.query=t;else if(typeof t=="object")e.message_filter_conditions=t;else throw Error(`Invalid type ${typeof t} for query parameter`);return await this.getClient().wsPromise,await this.getClient().get(this.getClient().baseURL+"/search",{payload:e})}async queryMembers(t,a=[],e={}){var c;let n;const i=this.type;let l;return this.id?n=this.id:(c=this.data)!=null&&c.members&&Array.isArray(this.data.members)&&(l=this.data.members),await this.getClient().get(this.getClient().baseURL+"/members",{payload:{type:i,id:n,members:l,sort:ha(a),filter_conditions:t,...e}})}async updateMemberPartial(t,a){const e=new URL(`${this._channelURL()}/member`);return a!=null&&a.userId&&e.searchParams.append("user_id",a.userId),await this.getClient().patch(e.toString(),t)}async partialUpdateMember(t,a){if(!t)throw Error("Please specify the user id");return await this.getClient().patch(this._channelURL()+`/member/${encodeURIComponent(t)}`,a)}async sendReaction(t,a,e){if(!t)throw Error("Message id is missing");if(!a||Object.keys(a).length===0)throw Error("Reaction object is missing");try{const n=this.getClient().offlineDb;if(n)return await n.queueTask({task:{channelId:this.id,channelType:this.type,messageId:t,payload:[t,a,e],type:"send-reaction"}})}catch(n){this._client.logger("error","offlineDb:send-reaction",{tags:["channel","offlineDb"],error:n})}return this._sendReaction(t,a,e)}async _sendReaction(t,a,e){if(!t)throw Error("Message id is missing");if(!a||Object.keys(a).length===0)throw Error("Reaction object is missing");return await this.getClient().post(this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/reaction`,{reaction:a,...e})}async deleteReaction(t,a,e){if(this._checkInitialized(),!a||!t)throw Error("Deleting a reaction requires specifying both the message and reaction type");try{const n=this.getClient().offlineDb;if(n){const i=this.state.messages.find(({id:c})=>c===t),l={created_at:"",updated_at:"",message_id:t,type:a,user_id:this.getClient().userID??e};return i&&await n.deleteReaction({message:i,reaction:l}),await n.queueTask({task:{channelId:this.id,channelType:this.type,messageId:t,payload:[t,a],type:"delete-reaction"}})}}catch(n){this._client.logger("error","offlineDb:delete-reaction",{tags:["channel","offlineDb"],error:n})}return await this._deleteReaction(t,a,e)}async _deleteReaction(t,a,e){if(this._checkInitialized(),!a||!t)throw Error("Deleting a reaction requires specifying both the message and reaction type");const n=this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/reaction/${encodeURIComponent(a)}`;return e?await this.getClient().delete(n,{user_id:e}):await this.getClient().delete(n,{})}async update(t={},a,e){return["config","cid","created_by","id","member_count","type","created_at","updated_at","last_message_at","own_capabilities"].forEach(i=>{delete t[i]}),await this._update({message:a,data:t,...e})}async updatePartial(t){var n,i;const a=await this.getClient().patch(this._channelURL(),t),e=[...a.channel.own_capabilities||[]].sort().join()!==[...Array.isArray((n=this.data)==null?void 0:n.own_capabilities)?(i=this.data)==null?void 0:i.own_capabilities:[]].sort().join();return this.data=a.channel,e&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:a.channel.own_capabilities}),a}async enableSlowMode(t){const a=await this.getClient().post(this._channelURL(),{cooldown:t});return this.data=a.channel,a}async disableSlowMode(){const t=await this.getClient().post(this._channelURL(),{cooldown:0});return this.data=t.channel,t}async delete(t={}){return await this.getClient().delete(this._channelURL(),{...t})}async truncate(t={}){return await this.getClient().post(this._channelURL()+"/truncate",t)}async acceptInvite(t={}){return await this._update({accept_invite:!0,...t})}async rejectInvite(t={}){return await this._update({reject_invite:!0,...t})}async addMembers(t,a,e={}){return await this._update({add_members:t,message:a,...e})}async addModerators(t,a,e={}){return await this._update({add_moderators:t,message:a,...e})}async assignRoles(t,a,e={}){return await this._update({assign_roles:t,message:a,...e})}async inviteMembers(t,a,e={}){return await this._update({invites:t,message:a,...e})}async removeMembers(t,a,e={}){return await this._update({remove_members:t,message:a,...e})}async demoteModerators(t,a,e={}){return await this._update({demote_moderators:t,message:a,...e})}async _update(t){const a=await this.getClient().post(this._channelURL(),t);return this.data=a.channel,a}async mute(t={}){return await this.getClient().post(this.getClient().baseURL+"/moderation/mute/channel",{channel_cid:this.cid,...t})}async unmute(t={}){return await this.getClient().post(this.getClient().baseURL+"/moderation/unmute/channel",{channel_cid:this.cid,...t})}async archive(t={}){const a=this.getClient(),e=t.user_id||a.userID;if(!e)throw Error("A user_id is required for archiving a channel");return(await this.partialUpdateMember(e,{set:{archived:!0}})).channel_member}async unarchive(t={}){const a=this.getClient(),e=t.user_id||a.userID;if(!e)throw Error("A user_id is required for unarchiving a channel");return(await this.partialUpdateMember(e,{set:{archived:!1}})).channel_member}async pin(t={}){const a=this.getClient(),e=t.user_id||a.userID;if(!e)throw new Error("A user_id is required for pinning a channel");return(await this.partialUpdateMember(e,{set:{pinned:!0}})).channel_member}async unpin(t={}){const a=this.getClient(),e=t.user_id||a.userID;if(!e)throw new Error("A user_id is required for unpinning a channel");return(await this.partialUpdateMember(e,{set:{pinned:!1}})).channel_member}muteStatus(){return this._checkInitialized(),this.getClient()._muteStatus(this.cid)}sendAction(t,a){if(this._checkInitialized(),!t)throw Error("Message id is missing");return this.getClient().post(this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/action`,{message_id:t,form_data:a,id:this.id,type:this.type})}async keystroke(t,a){if(!this._isTypingIndicatorsEnabled())return;const e=new Date,n=this.lastTypingEvent&&e.getTime()-this.lastTypingEvent.getTime();this.lastKeyStroke=e,this.isTyping=!0,(n===null||n>2e3)&&(this.lastTypingEvent=new Date,await this.sendEvent({type:"typing.start",parent_id:t,...a||{}}))}async updateAIState(t,a,e={}){await this.sendEvent({...e,type:"ai_indicator.update",message_id:t,ai_state:a})}async clearAIIndicator(){await this.sendEvent({type:"ai_indicator.clear"})}async stopAIResponse(){await this.sendEvent({type:"ai_indicator.stop"})}async stopTyping(t,a){this._isTypingIndicatorsEnabled()&&(this.lastTypingEvent=null,this.isTyping=!1,await this.sendEvent({type:"typing.stop",parent_id:t,...a||{}}))}_isTypingIndicatorsEnabled(){var t,a,e,n,i;return!((t=this.getConfig())!=null&&t.typing_events)||!((a=this.getClient().wsConnection)!=null&&a.isHealthy)?!1:((i=(n=(e=this.getClient().user)==null?void 0:e.privacy_settings)==null?void 0:n.typing_indicators)==null?void 0:i.enabled)??!0}lastMessage(){let t=this.state.latestMessages.length-5;t<0&&(t=0);const a=this.state.latestMessages.length+1,e=this.state.latestMessages.slice(t,a);return e.sort((n,i)=>i.created_at.getTime()-n.created_at.getTime()),e[0]}async markRead(t={}){var a;return this._checkInitialized(),!((a=this.getConfig())!=null&&a.read_events)&&!this.getClient()._isUsingServerAuth()?Promise.resolve(null):await this.getClient().post(this._channelURL()+"/read",{...t})}async markUnread(t){var a;return this._checkInitialized(),!((a=this.getConfig())!=null&&a.read_events)&&!this.getClient()._isUsingServerAuth()?Promise.resolve(null):await this.getClient().post(this._channelURL()+"/unread",{...t})}clean(){this.lastKeyStroke&&new Date().getTime()-this.lastKeyStroke.getTime()>1e3&&this.isTyping&&Iw(this.stopTyping(),"stop typing event"),this.state.clean()}async watch(t){const a={state:!0,watch:!0,presence:!1};await this.getClient().wsPromise,this.getClient()._hasConnectionID()||(a.watch=!1);const e={...a,...t},n=await this.query(e,"latest");return this.initialized=!0,this.data=n.channel,this._client.logger("info",`channel:watch() - started watching channel ${this.cid}`,{tags:["channel"],channel:this}),n}async stopWatching(){const t=await this.getClient().post(this._channelURL()+"/stop-watching",{});return this._client.logger("info",`channel:watch() - stopped watching channel ${this.cid}`,{tags:["channel"],channel:this}),t}async getReplies(t,a,e){const n=e?ha(e):void 0,i=await this.getClient().get(this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/replies`,{sort:n,...a});return i.messages&&this.state.addMessagesSorted(i.messages),i}async getPinnedMessages(t,a=[]){return await this.getClient().get(this._channelURL()+"/pinned_messages",{payload:{...t,sort:ha(a)}})}getReactions(t,a){return this.getClient().get(this.getClient().baseURL+`/messages/${encodeURIComponent(t)}/reactions`,{...a})}getMessagesById(t){return this.getClient().get(this._channelURL()+"/messages",{ids:t.join(",")})}lastRead(){const{userID:t}=this.getClient();if(t)return this.state.read[t]?this.state.read[t].last_read:null}_countMessageAsUnread(t){var a,e,n,i;return!(t.shadowed||t.silent||t.parent_id&&!t.show_in_channel||((a=t.user)==null?void 0:a.id)===this.getClient().userID||(e=t.user)!=null&&e.id&&this.getClient().userMuteStatus(t.user.id)||Array.isArray((n=this.data)==null?void 0:n.own_capabilities)&&!((i=this.data)!=null&&i.own_capabilities.includes("read-events"))||this.muteStatus().muted)}countUnread(t){if(!t)return this.state.unreadCount;let a=0;for(let e=0;e<this.state.latestMessages.length;e+=1){const n=this.state.latestMessages[e];n.created_at>t&&this._countMessageAsUnread(n)&&a++}return a}countUnreadMentions(){var n;const t=this.lastRead(),a=this.getClient().userID;let e=0;for(let i=0;i<this.state.latestMessages.length;i+=1){const l=this.state.latestMessages[i];this._countMessageAsUnread(l)&&(!t||l.created_at>t)&&((n=l.mentioned_users)!=null&&n.some(c=>c.id===a))&&e++}return e}async query(t={},a="current"){var u,m,h,f,y,b,w;await this.getClient().wsPromise;const e=((u=t.created_by)==null?void 0:u.id)??t.created_by_id??((h=(m=this._data)==null?void 0:m.created_by)==null?void 0:h.id)??((f=this._data)==null?void 0:f.created_by_id);this.getClient()._isUsingServerAuth()&&typeof e!="string"&&this.getClient().logger("warn","Either `created_by` (with `id` property) or `created_by_id` are missing from both `Channel._data` and `options` parameter");let n=`${this.getClient().baseURL}/channels/${encodeURIComponent(this.type)}`;this.id&&(n+=`/${encodeURIComponent(this.id)}`);const i=await this.getClient().post(n+"/query",{data:this._data,state:!0,...t});if(!this.id){this.id=i.channel.id,this.cid=i.channel.cid;const E=Y0(this.type,i.members.map(_=>{var S;return _.user_id||((S=_.user)==null?void 0:S.id)||""}));E&&E in this.getClient().activeChannels&&delete this.getClient().activeChannels[E],!(this.cid in this.getClient().activeChannels)&&this.getClient()._cacheEnabled()&&(this.getClient().activeChannels[this.cid]=this)}this.getClient()._addChannelConfig(i.channel);const{messageSet:l}=this._initializeState(i,a);l.pagination={...l.pagination,...Rw({parentSet:l,messagePaginationOptions:t==null?void 0:t.messages,requestedPageSize:((y=t==null?void 0:t.messages)==null?void 0:y.limit)??AT,returnedPage:i.messages,logger:this.getClient().logger})},this.getClient().polls.hydratePollCache(i.messages,!0),i.draft&&this.messageComposer.initState({composition:i.draft});const c=[...i.channel.own_capabilities||[]].sort().join()!==[...this.data&&Array.isArray((b=this.data)==null?void 0:b.own_capabilities)?this.data.own_capabilities:[]].sort().join();return this.data=i.channel,this.offlineMode=!1,c&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:i.channel.own_capabilities}),this.getClient().dispatchEvent({type:"channels.queried",queriedChannels:{channels:[i],isLatestMessageSet:l.isLatest}}),(w=this.getClient().offlineDb)==null||w.executeQuerySafely(E=>{var _;return(_=E.upsertChannels)==null?void 0:_.call(E,{channels:[i],isLatestMessagesSet:l.isLatest})},{method:"upsertChannels"}),i}async banUser(t,a){return this._checkInitialized(),await this.getClient().banUser(t,{...a,type:this.type,id:this.id})}async hide(t=null,a=!1){return this._checkInitialized(),await this.getClient().post(`${this._channelURL()}/hide`,{user_id:t,clear_history:a})}async show(t=null){return this._checkInitialized(),await this.getClient().post(`${this._channelURL()}/show`,{user_id:t})}async unbanUser(t){return this._checkInitialized(),await this.getClient().unbanUser(t,{type:this.type,id:this.id})}async shadowBan(t,a){return this._checkInitialized(),await this.getClient().shadowBan(t,{...a,type:this.type,id:this.id})}async removeShadowBan(t){return this._checkInitialized(),await this.getClient().removeShadowBan(t,{type:this.type,id:this.id})}async vote(t,a,e){return await this.getClient().castPollVote(t,a,e)}async removeVote(t,a,e){return await this.getClient().removePollVote(t,a,e)}async createDraft(t){return await this.getClient().post(this._channelURL()+"/draft",{message:t})}async deleteDraft({parent_id:t}={}){return await this.getClient().delete(this._channelURL()+"/draft",{parent_id:t})}async getDraft({parent_id:t}={}){return await this.getClient().get(this._channelURL()+"/draft",{parent_id:t})}on(t,a){const e=a?t:"all",n=a||t;return e in this.listeners||(this.listeners[e]=[]),this._client.logger("info",`Attaching listener for ${e} event on channel ${this.cid}`,{tags:["event","channel"],channel:this}),this.listeners[e].push(n),{unsubscribe:()=>{this._client.logger("info",`Removing listener for ${e} event from channel ${this.cid}`,{tags:["event","channel"],channel:this}),this.listeners[e]=this.listeners[e].filter(i=>i!==n)}}}off(t,a){const e=a?t:"all",n=a||t;e in this.listeners||(this.listeners[e]=[]),this._client.logger("info",`Removing listener for ${e} event from channel ${this.cid}`,{tags:["event","channel"],channel:this}),this.listeners[e]=this.listeners[e].filter(i=>i!==n)}_handleChannelEvent(t){var n,i,l,c,u,m,h,f,y,b,w,E,_,S,C,I,N,k,M,T,q,z,G,K,ie,H,Z,O;const a=this;this._client.logger("info",`channel:_handleChannelEvent - Received event of type { ${t.type} } on ${this.cid}`,{tags:["event","channel"],channel:this});const e=a.state;switch(t.type){case"typing.start":(n=t.user)!=null&&n.id&&(e.typing[t.user.id]=t);break;case"typing.stop":(i=t.user)!=null&&i.id&&delete e.typing[t.user.id];break;case"message.read":(l=t.user)!=null&&l.id&&t.created_at&&(e.read[t.user.id]={last_read:new Date(t.created_at),last_read_message_id:t.last_read_message_id,user:t.user,unread_messages:0},((c=t.user)==null?void 0:c.id)===((u=this.getClient().user)==null?void 0:u.id)&&(e.unreadCount=0));break;case"user.watching.start":case"user.updated":(m=t.user)!=null&&m.id&&(e.watchers[t.user.id]=t.user);break;case"user.watching.stop":(h=t.user)!=null&&h.id&&delete e.watchers[t.user.id];break;case"message.deleted":t.message&&(this._extendEventWithOwnReactions(t),t.hard_delete?e.removeMessage(t.message):e.addMessageSorted(t.message,!1,!1),e.removeQuotedMessageReferences(t.message),t.message.pinned&&e.removePinnedMessage(t.message));break;case"message.new":if(t.message){const R=((f=t.user)==null?void 0:f.id)===((y=this.getClient().user)==null?void 0:y.id),A=t.message.parent_id&&!t.message.show_in_channel;if((this.state.isUpToDate||A)&&e.addMessageSorted(t.message,R),t.message.pinned&&e.addPinnedMessage(t.message),R||A)break;if((b=t.user)!=null&&b.id)for(const Q in e.read)Q===t.user.id?e.read[t.user.id]={last_read:new Date(t.created_at),user:t.user,unread_messages:0}:e.read[Q].unread_messages+=1;this._countMessageAsUnread(t.message)&&(e.unreadCount=e.unreadCount+1)}break;case"message.updated":case"message.undeleted":t.message&&(this._extendEventWithOwnReactions(t),e.addMessageSorted(t.message,!1,!1),e._updateQuotedMessageReferences({message:t.message}),t.message.pinned?e.addPinnedMessage(t.message):e.removePinnedMessage(t.message));break;case"channel.truncated":if((w=t.channel)!=null&&w.truncated_at){const R=+new Date(t.channel.truncated_at);e.messageSets.forEach((A,F)=>{A.messages.forEach(({created_at:Q,id:V})=>{R>+Q&&e.removeMessage({id:V,messageSetIndex:F})})}),e.pinnedMessages.forEach(({id:A,created_at:F})=>{R>+F&&e.removePinnedMessage({id:A})}),e.unreadCount=this.countUnread(new Date(t.channel.truncated_at))}else e.clearMessages(),e.unreadCount=0;t.message&&(e.addMessageSorted(t.message),t.message.pinned&&e.addPinnedMessage(t.message));break;case"member.added":case"member.updated":{const R={...t.member};R.pinned_at===null&&delete R.pinned_at,R.archived_at===null&&delete R.archived_at,R!=null&&R.user&&(e.members={...e.members,[R.user.id]:R},(E=a.data)!=null&&E.member_count&&t.type==="member.added"&&(a.data.member_count+=1));const A=this.getClient().userID;typeof A=="string"&&typeof((_=R==null?void 0:R.user)==null?void 0:_.id)=="string"&&R.user.id===A&&(e.membership=R);break}case"member.removed":if((S=t.user)!=null&&S.id){const R={...e.members};delete R[t.user.id],e.members=R,(C=a.data)!=null&&C.member_count&&(a.data.member_count=Math.max(a.data.member_count-1,0))}break;case"notification.mark_unread":{if(!(((I=t.user)==null?void 0:I.id)===((N=this.getClient().user)==null?void 0:N.id)&&t.user))break;const A=t.unread_messages??0;e.read[t.user.id]={first_unread_message_id:t.first_unread_message_id,last_read:new Date(t.last_read_at),last_read_message_id:t.last_read_message_id,user:t.user,unread_messages:A},e.unreadCount=A;break}case"channel.updated":if(t.channel){((k=t.channel)==null?void 0:k.frozen)!==void 0&&t.channel.frozen!==((M=a.data)==null?void 0:M.frozen)&&this.query({state:!1,messages:{limit:0},watchers:{limit:0}});const A={...t.channel,hidden:((T=t.channel)==null?void 0:T.hidden)??((q=a.data)==null?void 0:q.hidden),own_capabilities:((z=t.channel)==null?void 0:z.own_capabilities)??((G=a.data)==null?void 0:G.own_capabilities)};a.data=A}break;case"reaction.new":if(t.message&&t.reaction){const{message:R,reaction:A}=t;t.message=e.addReaction(A,R)}break;case"reaction.deleted":if(t.message&&t.reaction){const{message:R,reaction:A}=t;t.message=e.removeReaction(A,R)}break;case"reaction.updated":if(t.message&&t.reaction){const{message:R,reaction:A}=t;t.message=e.addReaction(A,R,!0)}break;case"channel.hidden":a.data={...a.data,hidden:!0},t.clear_history&&e.clearMessages();break;case"channel.visible":a.data={...a.data,hidden:!1},(K=this.getClient().offlineDb)==null||K.handleChannelVisibilityEvent({event:t});break;case"user.banned":if(!((ie=t.user)!=null&&ie.id))break;e.members[t.user.id]={...e.members[t.user.id]||{},shadow_banned:!!t.shadow,banned:!t.shadow,user:{...((H=e.members[t.user.id])==null?void 0:H.user)||{},...t.user}};break;case"user.unbanned":if(!((Z=t.user)!=null&&Z.id))break;e.members[t.user.id]={...e.members[t.user.id]||{},shadow_banned:!1,banned:!1,user:{...((O=e.members[t.user.id])==null?void 0:O.user)||{},...t.user}};break}t.watcher_count!==void 0&&(a.state.watcher_count=t.watcher_count)}_checkInitialized(){if(!this.initialized&&!this.offlineMode&&!this.getClient()._isUsingServerAuth())throw Error(`Channel ${this.cid} hasn't been initialized yet. Make sure to call .watch() and wait for it to resolve`)}_initializeState(t,a="latest"){const{state:e,user:n,userID:i}=this.getClient();if(t.members){this._hydrateMembers({members:t.members});for(const u of t.members)u.user&&e.updateUserReference(u.user,this.cid)}this.state.membership=t.membership||{};const l=t.messages||[];this.state.messages||this.state.initMessages();const{messageSet:c}=this.state.addMessagesSorted(l,!1,!0,!0,a);if(this.state.pinnedMessages||(this.state.pinnedMessages=[]),this.state.addPinnedMessages(t.pinned_messages||[]),t.pending_messages&&(this.state.pending_messages=t.pending_messages),t.watcher_count!==void 0&&(this.state.watcher_count=t.watcher_count),t.watchers)for(const u of t.watchers)u&&(e.updateUserReference(u,this.cid),this.state.watchers[u.id]=u);if(i!=null){const u=this.state.last_message_at||new Date;n&&(this.state.read[n.id]={user:n,last_read:u,unread_messages:0})}if(t.read)for(const u of t.read)this.state.read[u.user.id]={last_read:new Date(u.last_read),last_read_message_id:u.last_read_message_id,unread_messages:u.unread_messages??0,user:u.user},u.user.id===(n==null?void 0:n.id)&&(this.state.unreadCount=this.state.read[u.user.id].unread_messages);return{messageSet:c}}_extendEventWithOwnReactions(t){if(!t.message)return;const a=this.state.findMessage(t.message.id,t.message.parent_id);a&&(t.message.own_reactions=a.own_reactions)}_hydrateMembers({members:t,overrideCurrentState:a=!0}){const e=t.reduce((n,i)=>(i.user&&(n[i.user.id]=i),n),{});a?this.state.members=e:!a&&t.length&&(this.state.members={...this.state.members,...e})}_disconnect(){this._client.logger("info",`channel:disconnect() - Disconnecting the channel ${this.cid}`,{tags:["connection","channel"],channel:this}),this.disconnected=!0,this.state.setIsUpToDate(!1)}},sx=class{constructor({client:t}){this.client=t,this.users={},this.userChannelReferences={}}updateUsers(t){for(const a of t)this.updateUser(a)}updateUser(t){t!=null&&this.client._cacheEnabled()&&(this.users[t.id]=t)}updateUserReference(t,a){t==null||!this.client._cacheEnabled()||(this.updateUser(t),this.userChannelReferences[t.id]||(this.userChannelReferences[t.id]={}),this.userChannelReferences[t.id][a]=!0)}deleteAllChannelReference(t){for(const a in this.userChannelReferences)delete this.userChannelReferences[a][t]}},dl=null;typeof WebSocket<"u"?dl=WebSocket:typeof MozWebSocket<"u"?dl=MozWebSocket:typeof global<"u"?dl=global.WebSocket||global.MozWebSocket:typeof window<"u"?dl=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(dl=self.WebSocket||self.MozWebSocket);var BP=dl,OP=class{constructor(){this.connectionStartTimestamp=null,this.wsTotalFailures=0,this.wsConsecutiveFailures=0,this.instanceClientId=ul()}},Qc=async(t,a)=>{for(let n=0;n<3;n++){try{await md.post(`https://chat-insights.getstream.io/insights/${t}`,a)}catch{await Ri((n+1)*3e3);continue}break}};function zP(t,a){return{...a,...r5(t)}}function r5(t){var e;const{client:a}=t;return{ready_state:(e=t.ws)==null?void 0:e.readyState,url:t._buildUrl(),api_key:a.key,start_ts:a.insightMetrics.connectionStartTimestamp,end_ts:new Date().getTime(),auth_type:a.getAuthType(),token:a.tokenManager.token,user_id:a.userID,user_details:a._user,device:a.options.device,client_id:t.connectionID,ws_details:t.ws,ws_consecutive_failures:a.insightMetrics.wsConsecutiveFailures,ws_total_failures:a.insightMetrics.wsTotalFailures,request_id:t.requestID,online:typeof navigator<"u"?navigator==null?void 0:navigator.onLine:null,user_agent:typeof navigator<"u"?navigator==null?void 0:navigator.userAgent:null,instance_client_id:a.insightMetrics.instanceClientId}}function UP(t){return r5(t)}var FP=t=>t.code!==void 0,WP=t=>t.error!==void 0,HP=class{constructor({client:t}){this._buildUrl=()=>{const a=this.client._buildWSPayload(this.requestID),e=this.client.tokenManager.getToken(),n=this.client.options.wsUrlParams,i=new URLSearchParams(n);return i.set("json",a),i.set("api_key",this.client.key),i.set("authorization",`${e}`),i.set("stream-auth-type",this.client.getAuthType()),i.set("X-Stream-Client",this.client.getUserAgent()),`${this.client.wsBaseURL}/connect?${i.toString()}`},this.onlineStatusChanged=a=>{a.type==="offline"?(this._log("onlineStatusChanged() - Status changing to offline"),this._setHealth(!1)):a.type==="online"&&(this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`),this.isHealthy||this._reconnect({interval:10}))},this.onopen=a=>{this.wsID===a&&this._log("onopen() - onopen callback",{wsID:a})},this.onmessage=(a,e)=>{var i,l;if(this.wsID!==a)return;this._log("onmessage() - onmessage callback",{event:e,wsID:a});const n=typeof e.data=="string"?JSON.parse(e.data):null;if(!this.isResolved&&n){if(this.isResolved=!0,n.error){(i=this.rejectPromise)==null||i.call(this,this._errorFromWSEvent(n,!1));return}(l=this.resolvePromise)==null||l.call(this,n),this._setHealth(!0)}this.lastEvent=new Date,n&&n.type==="health.check"&&this.scheduleNextPing(),this.client.handleEvent(e),this.scheduleConnectionCheck()},this.onclose=(a,e)=>{var n,i;if(this.wsID===a)if(this._log("onclose() - onclose callback - "+e.code,{event:e,wsID:a}),e.code===Zc.WS_CLOSED_SUCCESS){const l=new Error(`WS connection reject with error ${e.reason}`);l.reason=e.reason,l.code=e.code,l.wasClean=e.wasClean,l.target=e.target,(n=this.rejectPromise)==null||n.call(this,l),this._log(`onclose() - WS connection reject with error ${e.reason}`,{event:e})}else this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,(i=this.rejectPromise)==null||i.call(this,this._errorFromWSEvent(e)),this._log("onclose() - WS connection closed. Calling reconnect ...",{event:e}),this._reconnect()},this.onerror=(a,e)=>{var n;this.wsID===a&&(this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,(n=this.rejectPromise)==null||n.call(this,this._errorFromWSEvent(e)),this._log("onerror() - WS connection resulted into error",{event:e}),this._reconnect())},this._setHealth=a=>{if(a!==this.isHealthy){if(this.isHealthy=a,this.isHealthy){this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy});return}setTimeout(()=>{this.isHealthy||this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy})},5e3)}},this._errorFromWSEvent=(a,e=!0)=>{let n,i,l;FP(a)&&(n=a.code,i="unknown",l=a.reason),WP(a)&&(n=a.error.code,i=a.error.StatusCode,l=a.error.message),this._log(`_errorFromWSEvent() - WS failed with code ${n}`,{event:a},"warn");const c=new Error(`WS failed with code ${n} and reason - ${l}`);return c.code=n,c.StatusCode=i,c.isWSFailure=e,c},this._setupConnectionPromise=()=>{this.isResolved=!1,this.connectionOpen=new Promise((a,e)=>{this.resolvePromise=a,this.rejectPromise=e})},this.scheduleNextPing=()=>{this.healthCheckTimeoutRef&&clearTimeout(this.healthCheckTimeoutRef),this.healthCheckTimeoutRef=setTimeout(()=>{var e;const a=[{type:"health.check",client_id:this.client.clientID}];try{(e=this.ws)==null||e.send(JSON.stringify(a))}catch{}},this.pingInterval)},this.scheduleConnectionCheck=()=>{this.connectionCheckTimeoutRef&&clearTimeout(this.connectionCheckTimeoutRef),this.connectionCheckTimeoutRef=setTimeout(()=>{const a=new Date;this.lastEvent&&a.getTime()-this.lastEvent.getTime()>this.connectionCheckTimeout&&(this._log("scheduleConnectionCheck - going to reconnect"),this._setHealth(!1),this._reconnect())},this.connectionCheckTimeout)},this.client=t,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.isDisconnected=!1,this.isResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25*1e3,this.connectionCheckTimeout=this.pingInterval+10*1e3,kw(this.onlineStatusChanged)}_log(t,a={},e="info"){this.client.logger(e,"connection:"+t,{tags:["connection"],...a})}setClient(t){this.client=t}async connect(t=15e3){if(this.isConnecting)throw Error("You've called connect twice, can only attempt 1 connection at the time");this.isDisconnected=!1;try{const a=await this._connect();this.consecutiveFailures=0,this._log(`connect() - Established ws connection with healthcheck: ${a}`)}catch(a){this.isHealthy=!1,this.consecutiveFailures+=1;const e=a;if(e.code===Zc.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});else if(!e.isWSFailure)throw new Error(JSON.stringify({code:e.code,StatusCode:e.StatusCode,message:e.message,isWSFailure:e.isWSFailure}))}return await this._waitForHealthy(t)}_waitForHealthy(t=15e3){return Promise.race([(async()=>{for(let e=0;e<=t;e+=50)try{return await this.connectionOpen}catch(n){if(e===t)throw new Error(JSON.stringify({code:n.code,StatusCode:n.StatusCode,message:n.message,isWSFailure:n.isWSFailure}));await Ri(50)}})(),(async()=>{throw await Ri(t),this.isConnecting=!1,new Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}))})()])}disconnect(t){this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),Nw(this.onlineStatusChanged),this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();let a;const{ws:e}=this;return e&&e.close&&e.readyState===e.OPEN?(a=new Promise(n=>{const i=l=>{this._log(`disconnect() - resolving isClosedPromise ${l?"with":"without"} close frame`,{event:l}),n()};e.onclose=i,setTimeout(i,t??1e3)}),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),e.close(Zc.WS_CLOSED_SUCCESS,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),a=Promise.resolve()),delete this.ws,a}async _connect(){if(this.isConnecting||this.isDisconnected&&this.client.options.enableWSFallback)return;this.isConnecting=!0,this.requestID=ul(),this.client.insightMetrics.connectionStartTimestamp=new Date().getTime();let t=!1;try{this._log("_connect() - waiting for token"),await this.client.tokenManager.tokenReady(),t=!0}catch{}try{t||(this._log("_connect() - tokenProvider failed before, so going to retry"),await this.client.tokenManager.loadToken()),this._setupConnectionPromise();const a=this._buildUrl();this._log(`_connect() - Connecting to ${a}`,{wsURL:a,requestID:this.requestID}),this.ws=new BP(a),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID);const e=await this.connectionOpen;if(this.isConnecting=!1,e)return this.connectionID=e.connection_id,this.client.insightMetrics.wsConsecutiveFailures>0&&this.client.options.enableInsights&&(Qc("ws_success_after_failure",UP(this)),this.client.insightMetrics.wsConsecutiveFailures=0),e}catch(a){if(this.isConnecting=!1,this._log("_connect() - Error - ",a),this.client.options.enableInsights){this.client.insightMetrics.wsConsecutiveFailures++,this.client.insightMetrics.wsTotalFailures++;const e=zP(this,$T(a));Qc==null||Qc("ws_fatal",e)}throw a}}async _reconnect(t={}){if(this._log("_reconnect() - Initiating the reconnect"),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (1) since already connecting or healthy");return}let a=t.interval;if(a||(a=Pm(this.consecutiveFailures)),await Ri(a),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (2) since already connecting or healthy");return}if(this.isDisconnected&&this.client.options.enableWSFallback){this._log("_reconnect() - Abort (3) since disconnect() is called");return}this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),t.refreshToken&&await this.client.tokenManager.loadToken();try{await this._connect(),this._log("_reconnect() - Waiting for recoverCallBack"),await this.client.recoverState(),this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0}catch(e){if(this.isHealthy=!1,this.consecutiveFailures+=1,e.code===Zc.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});e.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect())}this._log("_reconnect() - == END ==")}_destroyCurrentWSConnection(){var t,a;this.wsID+=1;try{(t=this==null?void 0:this.ws)==null||t.removeAllListeners(),(a=this==null?void 0:this.ws)==null||a.close()}catch{}}},fm=Id(tM()),ix=Id(nM());function s5(t,a,e={},n={}){if(typeof a!="string")throw new TypeError("userId should be a string");const i={user_id:a,...e};if(fm.default==null||fm.default.sign==null)throw Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.");const l=Object.assign({algorithm:"HS256",noTimestamp:!0},n);return i.iat&&(l.noTimestamp=!1),fm.default.sign(i,t,l)}function ox(t,a={}){const e={server:!0},n=Object.assign({algorithm:"HS256",noTimestamp:!0},a);return fm.default.sign(e,t,n)}function jP(t){const a=t.split(".");if(a.length!==3)return"";const e=a[1],n=iM(e);return JSON.parse(n).user_id}function YP(t){return["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",sM(JSON.stringify({user_id:t})),"devtoken"].join(".")}function qP(t,a,e){const n=Buffer.from(a,"utf8"),i=ix.default.createHmac("sha256",n).update(t).digest("hex");try{return ix.default.timingSafeEqual(Buffer.from(i),Buffer.from(e))}catch{return!1}}var $P=class{constructor(t){this.setTokenOrProvider=async(a,e)=>{this.validateToken(a,e),this.user=e,Vg(a)&&(this.tokenProvider=a,this.type="provider"),typeof a=="string"&&(this.token=a,this.type="static"),!a&&this.user&&this.secret&&(this.token=s5(this.secret,e.id,{},{}),this.type="static"),await this.loadToken()},this.reset=()=>{this.token=void 0,this.tokenProvider=void 0,this.type="static",this.user=void 0,this.loadTokenPromise=null},this.validateToken=(a,e)=>{if(!(e&&e.anon&&!a)){if(!this.secret&&!a)throw new Error("User token can not be empty");if(a&&typeof a!="string"&&!Vg(a))throw new Error("user token should either be a string or a function");if(typeof a=="string"){if(e.anon&&a==="")return;const n=jP(a);if(a!=null&&(n==null||n===""||n!==e.id))throw new Error("userToken does not have a user_id or is not matching with user.id")}}},this.tokenReady=()=>this.loadTokenPromise,this.loadToken=()=>(this.loadTokenPromise=new Promise(async(a,e)=>{if(this.type==="static")return a(this.token);if(this.tokenProvider&&typeof this.tokenProvider!="string"){try{this.token=await this.tokenProvider()}catch(n){return e(new Error(`Call to tokenProvider failed with message: ${n}`))}a(this.token)}}),this.loadTokenPromise),this.getToken=()=>{if(this.token)return this.token;if(this.user&&this.user.anon&&!this.token)return this.token;if(this.secret)return ox(this.secret);throw new Error("Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called")},this.isStatic=()=>this.type==="static",this.loadTokenPromise=null,t&&(this.secret=t),this.type="static",this.secret&&(this.token=ox(this.secret))}},GP={"-1":{name:"InternalSystemError",retryable:!0},2:{name:"AccessKeyError",retryable:!1},3:{name:"AuthenticationFailedError",retryable:!0},4:{name:"InputError",retryable:!1},6:{name:"DuplicateUsernameError",retryable:!1},9:{name:"RateLimitError",retryable:!0},16:{name:"DoesNotExistError",retryable:!1},17:{name:"NotAllowedError",retryable:!1},18:{name:"EventNotSupportedError",retryable:!1},19:{name:"ChannelFeatureNotSupportedError",retryable:!1},20:{name:"MessageTooLongError",retryable:!1},21:{name:"MultipleNestingLevelError",retryable:!1},22:{name:"PayloadTooBigError",retryable:!1},23:{name:"RequestTimeoutError",retryable:!0},24:{name:"MaxHeaderSizeExceededError",retryable:!1},40:{name:"AuthErrorTokenExpired",retryable:!1},41:{name:"AuthErrorTokenNotValidYet",retryable:!1},42:{name:"AuthErrorTokenUsedBeforeIssuedAt",retryable:!1},43:{name:"AuthErrorTokenSignatureInvalid",retryable:!1},44:{name:"CustomCommandEndpointMissingError",retryable:!1},45:{name:"CustomCommandEndpointCallError",retryable:!0},46:{name:"ConnectionIDNotFoundError",retryable:!1},60:{name:"CoolDownError",retryable:!0},69:{name:"ErrWrongRegion",retryable:!1},70:{name:"ErrQueryChannelPermissions",retryable:!1},71:{name:"ErrTooManyConnections",retryable:!0},99:{name:"AppSuspendedError",retryable:!1}};function ZP(t){return t.code!==void 0}function lx(t){if(!t.code)return!1;const a=GP[`${t.code}`];return a?a.retryable:!1}function VP(t){return t.code===46}function QP(t){if(typeof t.isWSFailure=="boolean")return t.isWSFailure;try{return JSON.parse(t.message).isWSFailure}catch{return!1}}function XP(t){return!t.status||t.status<200||300<=t.status}var JP=class{constructor({client:t}){this._onlineStatusChanged=a=>{var e;if(this._log(`_onlineStatusChanged() - ${a.type}`),a.type==="offline"){this._setState("CLOSED"),(e=this.cancelToken)==null||e.cancel("disconnect() is called"),this.cancelToken=void 0;return}a.type==="online"&&this.state==="CLOSED"&&this.connect(!0)},this._req=async(a,e,n)=>{var i;!this.cancelToken&&!a.close&&(this.cancelToken=md.CancelToken.source());try{const l=await this.client.doAxiosRequest("get",this.client.baseURL.replace(":3030",":8900")+"/longpoll",void 0,{config:{...e,cancelToken:(i=this.cancelToken)==null?void 0:i.token},params:a});return this.consecutiveFailures=0,l}catch(l){if(this.consecutiveFailures+=1,n&&lx(l))return this._log("_req() - Retryable error, retrying request"),await Ri(Pm(this.consecutiveFailures)),this._req(a,e,n);throw l}},this._poll=async()=>{var a;for(;this.state==="CONNECTED";)try{const e=await this._req({},{timeout:3e4},!0);if((a=e.events)!=null&&a.length)for(let n=0;n<e.events.length;n++)this.client.dispatchEvent(e.events[n])}catch(e){if(md.isCancel(e)){this._log("_poll() - axios canceled request");return}if(VP(e)){this._log("_poll() - ConnectionID error, connecting without ID..."),this._setState("DISCONNECTED"),this.connect(!0);return}if(ZP(e)&&!lx(e)){this._setState("CLOSED");return}await Ri(Pm(this.consecutiveFailures))}},this.connect=async(a=!1)=>{if(this.state==="CONNECTING"){this._log("connect() - connecting already in progress",{reconnect:a},"warn");return}if(this.state==="CONNECTED"){this._log("connect() - already connected and polling",{reconnect:a},"warn");return}this._setState("CONNECTING"),this.connectionID=void 0;try{const{event:e}=await this._req({json:this.client._buildWSPayload()},{timeout:8e3},a);return this._setState("CONNECTED"),this.connectionID=e.connection_id,this.client.dispatchEvent(e),this._poll(),a&&this.client.recoverState(),e}catch(e){throw this._setState("CLOSED"),e}},this.isHealthy=()=>!!this.connectionID&&this.state==="CONNECTED",this.disconnect=async(a=2e3)=>{var n;Nw(this._onlineStatusChanged),this._setState("DISCONNECTED"),(n=this.cancelToken)==null||n.cancel("disconnect() is called"),this.cancelToken=void 0;const e=this.connectionID;this.connectionID=void 0;try{await this._req({close:!0,connection_id:e},{timeout:a},!1),this._log("disconnect() - Closed connectionID")}catch(i){this._log("disconnect() - Failed",{err:i},"error")}},this.client=t,this.state="INIT",this.consecutiveFailures=0,kw(this._onlineStatusChanged)}_log(t,a={},e="info"){this.client.logger(e,"WSConnectionFallback:"+t,{tags:["connection_fallback","connection"],...a})}_setState(t){this._log(`_setState() - ${t}`),this.state==="CONNECTING"&&t==="CONNECTED"&&this.client.dispatchEvent({type:"connection.changed",online:!0}),(t==="CLOSED"||t==="DISCONNECTED")&&this.client.dispatchEvent({type:"connection.changed",online:!1}),this.state=t}},cx=class{constructor(t,a,e,n){this.client=t,this.type=a,this.id=e,this.data=n}create(){var a,e,n,i,l;const t={name:(a=this.data)==null?void 0:a.name,filter:(e=this.data)==null?void 0:e.filter,description:(n=this.data)==null?void 0:n.description,all_sender_channels:(i=this.data)==null?void 0:i.all_sender_channels,all_users:(l=this.data)==null?void 0:l.all_users};return this.client.createSegment(this.type,this.id,t)}verifySegmentId(){if(!this.id)throw new Error("Segment id is missing. Either create the segment using segment.create() or set the id during instantiation - const segment = client.segment(id)")}get(){return this.verifySegmentId(),this.client.getSegment(this.id)}update(t){return this.verifySegmentId(),this.client.updateSegment(this.id,t)}addTargets(t){return this.verifySegmentId(),this.client.addSegmentTargets(this.id,t)}removeTargets(t){return this.verifySegmentId(),this.client.removeSegmentTargets(this.id,t)}delete(){return this.verifySegmentId(),this.client.deleteSegment(this.id)}targetExists(t){return this.verifySegmentId(),this.client.segmentTargetExists(this.id,t)}queryTargets(t={},a=[],e={}){return this.verifySegmentId(),this.client.querySegmentTargets(this.id,t,a,e)}},Xu={user:"stream:user",message:"stream:chat:v1:message",userprofile:"stream:v1:user_profile"},KP=class{constructor(t){this.client=t}flagUser(t,a,e={}){return this.flag(Xu.user,t,"",a,e)}flagMessage(t,a,e={}){return this.flag(Xu.message,t,"",a,e)}async flag(t,a,e,n,i={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/flag",{entity_type:t,entity_id:a,entity_creator_id:e,reason:n,...i})}async muteUser(t,a={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/mute",{target_ids:[t],...a})}async unmuteUser(t,a){return await this.client.post(this.client.baseURL+"/api/v2/moderation/unmute",{target_ids:[t],...a})}async getUserModerationReport(t,a={}){return await this.client.get(this.client.baseURL+"/api/v2/moderation/user_report",{user_id:t,...a})}async queryReviewQueue(t={},a=[],e={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/review_queue",{filter:t,sort:ha(a),...e})}async upsertConfig(t){return await this.client.post(this.client.baseURL+"/api/v2/moderation/config",t)}async getConfig(t,a){return await this.client.get(this.client.baseURL+"/api/v2/moderation/config/"+t,a)}async deleteConfig(t,a){return await this.client.delete(this.client.baseURL+"/api/v2/moderation/config/"+t,a)}async queryConfigs(t,a,e={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/configs",{filter:t,sort:a,...e})}async submitAction(t,a,e={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/submit_action",{action_type:t,item_id:a,...e})}async check(t,a,e,n,i,l){return await this.client.post(this.client.baseURL+"/api/v2/moderation/check",{entity_type:t,entity_id:a,entity_creator_id:e,moderation_payload:n,config_key:i,options:l})}async checkUserProfile(t,a){if(!a.username&&!a.image)throw new Error("Either username or image must be provided");const e={};return a.username&&(e.texts=[a.username]),a.image&&(e.images=[a.image]),await this.check(Xu.userprofile,t,t,e,"user_profile:default",{force_sync:!0,test_mode:!0})}async addCustomFlags(t,a,e,n,i){return await this.client.post(this.client.baseURL+"/api/v2/moderation/custom_check",{entity_type:t,entity_id:a,entity_creator_id:e,moderation_payload:n,flags:i})}async addCustomMessageFlags(t,a){return await this.addCustomFlags(Xu.message,t,"",{},a)}},eL=1e3,dx=25,ux={active:!1,isThreadOrderStale:!1,threads:[],unreadThreadCount:0,unseenThreadIds:[],lastConnectionDropAt:null,pagination:{isLoading:!1,isLoadingNext:!1,nextCursor:null},ready:!1},tL=class extends Ad{constructor({client:t}){super(),this.resetState=()=>{this.state.next(ux)},this.activate=()=>{this.state.partialNext({active:!0})},this.deactivate=()=>{this.state.partialNext({active:!1})},this.registerSubscriptions=()=>{this.hasSubscriptions||(this.addUnsubscribeFunction(this.subscribeUnreadThreadsCountChange()),this.addUnsubscribeFunction(this.subscribeManageThreadSubscriptions()),this.addUnsubscribeFunction(this.subscribeReloadOnActivation()),this.addUnsubscribeFunction(this.subscribeNewReplies()),this.addUnsubscribeFunction(this.subscribeRecoverAfterConnectionDrop()),this.addUnsubscribeFunction(this.subscribeChannelDeleted()))},this.subscribeUnreadThreadsCountChange=()=>{const{unread_threads:a=0}=this.client.user??{};this.state.partialNext({unreadThreadCount:a});const e=["health.check","notification.mark_read","notification.thread_message_new","notification.channel_deleted"].map(n=>this.client.on(n,i=>{const{unread_threads:l}=i.me??i;typeof l=="number"&&this.state.partialNext({unreadThreadCount:l})}).unsubscribe);return()=>e.forEach(n=>n())},this.subscribeChannelDeleted=()=>this.client.on("notification.channel_deleted",a=>{const{cid:e}=a,{threads:n}=this.state.getLatestValue(),i=n.filter(l=>l.channel.cid!==e);this.state.partialNext({threads:i})}).unsubscribe,this.subscribeManageThreadSubscriptions=()=>this.state.subscribeWithSelector(a=>({threads:a.threads}),({threads:a},e)=>{const{threads:n=[]}=e??{},i=n.filter(l=>l!==this.threadsById[l.id]);a.forEach(l=>l.registerSubscriptions()),i.forEach(l=>l.unregisterSubscriptions())}),this.subscribeReloadOnActivation=()=>this.state.subscribeWithSelector(a=>({active:a.active}),({active:a})=>{a&&this.reload()}),this.subscribeNewReplies=()=>this.client.on("notification.thread_message_new",a=>{var l;const e=(l=a.message)==null?void 0:l.parent_id;if(!e)return;const{unseenThreadIds:n,ready:i}=this.state.getLatestValue();i&&(this.threadsById[e]?this.state.partialNext({isThreadOrderStale:!0}):n.includes(e)||this.state.partialNext({unseenThreadIds:n.concat(e)}))}).unsubscribe,this.subscribeRecoverAfterConnectionDrop=()=>{const a=this.client.on("connection.changed",i=>{i.online===!1&&this.state.next(l=>l.lastConnectionDropAt?l:{...l,lastConnectionDropAt:new Date})}).unsubscribe,e=Tw(()=>{const{lastConnectionDropAt:i}=this.state.getLatestValue();i&&this.reload({force:!0})},eL,{trailing:!0}),n=this.client.on("connection.recovered",e).unsubscribe;return()=>{a(),n()}},this.unregisterSubscriptions=()=>(this.state.getLatestValue().threads.forEach(a=>a.unregisterSubscriptions()),super.unregisterSubscriptions()),this.reload=async({force:a=!1}={})=>{const{threads:e,unseenThreadIds:n,isThreadOrderStale:i,pagination:l,ready:c}=this.state.getLatestValue();if(l.isLoading||!a&&c&&!n.length&&!i)return;const u=e.length+n.length;try{this.state.next(f=>({...f,pagination:{...f.pagination,isLoading:!0}}));const m=await this.queryThreads({limit:Math.min(u,dx)||dx}),h=[];for(const f of m.threads){const y=this.threadsById[f.id];y?(h.push(y),y.hasStaleState&&y.hydrateState(f)):h.push(f)}this.state.next(f=>({...f,threads:h,unseenThreadIds:[],isThreadOrderStale:!1,pagination:{...f.pagination,isLoading:!1,nextCursor:m.next??null},ready:!0}))}catch(m){this.client.logger("error",m.message),this.state.next(h=>({...h,pagination:{...h.pagination,isLoading:!1}}))}},this.queryThreads=(a={})=>this.client.queryThreads({limit:25,participant_limit:10,reply_limit:10,watch:!0,...a}),this.loadNextPage=async(a={})=>{const{pagination:e}=this.state.getLatestValue();if(!(e.isLoadingNext||!e.nextCursor))try{this.state.partialNext({pagination:{...e,isLoadingNext:!0}});const n=await this.queryThreads({...a,next:e.nextCursor});this.state.next(i=>({...i,threads:n.threads.length?i.threads.concat(n.threads):i.threads,pagination:{...i.pagination,nextCursor:n.next??null,isLoadingNext:!1}}))}catch(n){this.client.logger("error",n.message),this.state.next(i=>({...i,pagination:{...i.pagination,isLoadingNext:!1}}))}},this.client=t,this.state=new Ia(ux),this.threadsByIdGetterCache={threads:[],threadsById:{}}}get threadsById(){const{threads:t}=this.state.getLatestValue();if(t===this.threadsByIdGetterCache.threads)return this.threadsByIdGetterCache.threadsById;const a=t.reduce((e,n)=>(e[n.id]=n,e),{});return this.threadsByIdGetterCache.threads=t,this.threadsByIdGetterCache.threadsById=a,a}},nL=t=>t.type==="poll.updated",aL=t=>t.type==="poll.closed",rL=t=>t.type==="poll.vote_casted",sL=t=>t.type==="poll.vote_changed",iL=t=>t.type==="poll.vote_removed",io=t=>!!(t!=null&&t.answer_text),mx=class{constructor({client:t,poll:a}){this.getInitialStateFromPollResponse=e=>{const{own_votes:n,id:i,...l}=e,{ownAnswer:c,ownVotes:u}=(n==null?void 0:n.reduce((m,h)=>(io(h)?m.ownAnswer=h:m.ownVotes.push(h),m),{ownVotes:[]}))??{ownVotes:[]};return{...l,lastActivityAt:new Date,maxVotedOptionIds:Wc(l.vote_counts_by_option),ownAnswer:c,ownVotesByOptionId:oL(u)}},this.upsertOfflineDb=()=>{var e;(e=this.client.offlineDb)==null||e.executeQuerySafely(n=>n.upsertPoll({poll:cL(this)}),{method:"upsertPoll"})},this.reinitializeState=e=>{this.state.partialNext(this.getInitialStateFromPollResponse(e))},this.handlePollUpdated=e=>{var l;if((l=e.poll)!=null&&l.id&&e.poll.id!==this.id||!nL(e))return;const{id:n,...i}=lL(e.poll);this.state.partialNext({...i,lastActivityAt:new Date(e.created_at)}),this.upsertOfflineDb()},this.handlePollClosed=e=>{var n;(n=e.poll)!=null&&n.id&&e.poll.id!==this.id||aL(e)&&(this.state.partialNext({is_closed:!0,lastActivityAt:new Date(e.created_at)}),this.upsertOfflineDb())},this.handleVoteCasted=e=>{var f;if((f=e.poll)!=null&&f.id&&e.poll.id!==this.id||!rL(e))return;const n=this.data,i=e.poll_vote.user_id===this.client.userID;let l=[...n.latest_answers],c=n.ownAnswer;const u=n.ownVotesByOptionId;let m=n.maxVotedOptionIds;i&&(io(e.poll_vote)?c=e.poll_vote:e.poll_vote.option_id&&(u[e.poll_vote.option_id]=e.poll_vote)),io(e.poll_vote)?l=[e.poll_vote,...l]:m=Wc(e.poll.vote_counts_by_option);const h=gg(e.poll);this.state.partialNext({...h,latest_answers:l,lastActivityAt:new Date(e.created_at),ownAnswer:c,ownVotesByOptionId:u,maxVotedOptionIds:m}),this.upsertOfflineDb()},this.handleVoteChanged=e=>{var f;if((f=e.poll)!=null&&f.id&&e.poll.id!==this.id||!sL(e))return;const n=this.data,i=e.poll_vote.user_id===this.client.userID;let l=[...n.latest_answers],c=n.ownAnswer,u=n.ownVotesByOptionId,m=n.maxVotedOptionIds;i?io(e.poll_vote)?(l=[e.poll_vote,...l.filter(y=>y.id!==e.poll_vote.id)],c=e.poll_vote):e.poll_vote.option_id&&(e.poll.enforce_unique_vote?u={[e.poll_vote.option_id]:e.poll_vote}:(u=Object.entries(u).reduce((y,[b,w])=>(b!==e.poll_vote.option_id&&w.id===e.poll_vote.id||(y[b]=w),y),{}),u[e.poll_vote.option_id]=e.poll_vote),(c==null?void 0:c.id)===e.poll_vote.id&&(c=void 0),m=Wc(e.poll.vote_counts_by_option)):io(e.poll_vote)?l=[e.poll_vote,...l]:m=Wc(e.poll.vote_counts_by_option);const h=gg(e.poll);this.state.partialNext({...h,latest_answers:l,lastActivityAt:new Date(e.created_at),ownAnswer:c,ownVotesByOptionId:u,maxVotedOptionIds:m}),this.upsertOfflineDb()},this.handleVoteRemoved=e=>{var f;if((f=e.poll)!=null&&f.id&&e.poll.id!==this.id||!iL(e))return;const n=this.data,i=e.poll_vote.user_id===this.client.userID;let l=[...n.latest_answers],c=n.ownAnswer;const u={...n.ownVotesByOptionId};let m=n.maxVotedOptionIds;io(e.poll_vote)?(l=l.filter(y=>y.id!==e.poll_vote.id),i&&(c=void 0)):(m=Wc(e.poll.vote_counts_by_option),i&&e.poll_vote.option_id&&delete u[e.poll_vote.option_id]);const h=gg(e.poll);this.state.partialNext({...h,latest_answers:l,lastActivityAt:new Date(e.created_at),ownAnswer:c,ownVotesByOptionId:u,maxVotedOptionIds:m}),this.upsertOfflineDb()},this.query=async e=>{const{poll:n}=await this.client.getPoll(e);return this.state.partialNext({...n,lastActivityAt:new Date}),n},this.update=async e=>await this.client.updatePoll({...e,id:this.id}),this.partialUpdate=async e=>await this.client.partialUpdatePoll(this.id,e),this.close=async()=>await this.client.closePoll(this.id),this.delete=async()=>await this.client.deletePoll(this.id),this.createOption=async e=>await this.client.createPollOption(this.id,e),this.updateOption=async e=>await this.client.updatePollOption(this.id,e),this.deleteOption=async e=>await this.client.deletePollOption(this.id,e),this.castVote=async(e,n)=>{const{max_votes_allowed:i,ownVotesByOptionId:l}=this.data;if(i&&i===Object.keys(l).length){let u=Object.values(l)[0];Object.values(l).slice(1).forEach(m=>{(!(u!=null&&u.created_at)||new Date(m.created_at)<new Date(u.created_at))&&(u=m)}),u!=null&&u.id&&await this.removeVote(u.id,n)}return await this.client.castPollVote(n,this.id,{option_id:e})},this.removeVote=async(e,n)=>await this.client.removePollVote(n,this.id,e),this.addAnswer=async(e,n)=>await this.client.addPollAnswer(n,this.id,e),this.removeAnswer=async(e,n)=>await this.client.removePollVote(n,this.id,e),this.queryAnswers=async e=>await this.client.queryPollAnswers(this.id,e.filter,e.sort,e.options),this.queryOptionVotes=async e=>await this.client.queryPollVotes(this.id,e.filter,e.sort,e.options),this.client=t,this.id=a.id,this.state=new Ia(this.getInitialStateFromPollResponse(a))}get data(){return this.state.getLatestValue()}};function Wc(t){let a=0,e=[];for(const[n,i]of Object.entries(t??{}))i>a?(e=[n],a=i):i===a&&e.push(n);return e}function oL(t){return t?t.reduce((a,e)=>(io(e)||!e.option_id||(a[e.option_id]=e),a),{}):{}}function lL(t){return{allow_answers:t.allow_answers,allow_user_suggested_options:t.allow_user_suggested_options,description:t.description,enforce_unique_vote:t.enforce_unique_vote,id:t.id,is_closed:t.is_closed,max_votes_allowed:t.max_votes_allowed,name:t.name,options:t.options,voting_visibility:t.voting_visibility}}function cL(t){const{lastActivityAt:a,maxVotedOptionIds:e,ownVotesByOptionId:n,ownAnswer:i,...l}=t.data,c=[...Object.values(n),...i?[i]:[]].sort((u,m)=>Date.parse(u.created_at)-Date.parse(m.created_at));return{...l,own_votes:c,id:t.id}}function gg(t){return{answers_count:t.answers_count,latest_votes_by_option:t.latest_votes_by_option,vote_count:t.vote_count,vote_counts_by_option:t.vote_counts_by_option}}var dL=class extends Ad{constructor({client:t}){super(),this.pollCache=new Map,this.fromState=a=>this.pollCache.get(a),this.registerSubscriptions=()=>{this.hasSubscriptions||(this.addUnsubscribeFunction(this.subscribeMessageNew()),this.addUnsubscribeFunction(this.subscribePollUpdated()),this.addUnsubscribeFunction(this.subscribePollClosed()),this.addUnsubscribeFunction(this.subscribeVoteCasted()),this.addUnsubscribeFunction(this.subscribeVoteChanged()),this.addUnsubscribeFunction(this.subscribeVoteRemoved()))},this.createPoll=async a=>{const{poll:e}=await this.client.createPoll(a);return new mx({client:this.client,poll:e})},this.getPoll=async a=>{const e=this.fromState(a);if(e)return this.client.getPoll(a).then(({poll:i})=>this.setOrOverwriteInCache(i,!0)),e;const{poll:n}=await this.client.getPoll(a);return this.setOrOverwriteInCache(n),this.fromState(a)},this.queryPolls=async(a,e=[],n={})=>{const{polls:i,next:l}=await this.client.queryPolls(a,e,n);return{polls:i.map(u=>(this.setOrOverwriteInCache(u,!0),this.fromState(u.id))),next:l}},this.hydratePollCache=(a,e)=>{for(const n of a){if(!n.poll)continue;const i=n.poll;this.setOrOverwriteInCache(i,e)}},this.setOrOverwriteInCache=(a,e)=>{if(!this.client._cacheEnabled())return;const n=this.fromState(a.id);if(n)e&&n.reinitializeState(a);else{const i=new mx({client:this.client,poll:a});this.pollCache.set(i.id,i)}},this.subscribePollUpdated=()=>this.client.on("poll.updated",a=>{var e,n;(e=a.poll)!=null&&e.id&&((n=this.fromState(a.poll.id))==null||n.handlePollUpdated(a))}).unsubscribe,this.subscribePollClosed=()=>this.client.on("poll.closed",a=>{var e,n;(e=a.poll)!=null&&e.id&&((n=this.fromState(a.poll.id))==null||n.handlePollClosed(a))}).unsubscribe,this.subscribeVoteCasted=()=>this.client.on("poll.vote_casted",a=>{var e,n;(e=a.poll)!=null&&e.id&&((n=this.fromState(a.poll.id))==null||n.handleVoteCasted(a))}).unsubscribe,this.subscribeVoteChanged=()=>this.client.on("poll.vote_changed",a=>{var e,n;(e=a.poll)!=null&&e.id&&((n=this.fromState(a.poll.id))==null||n.handleVoteChanged(a))}).unsubscribe,this.subscribeVoteRemoved=()=>this.client.on("poll.vote_removed",a=>{var e,n;(e=a.poll)!=null&&e.id&&((n=this.fromState(a.poll.id))==null||n.handleVoteRemoved(a))}).unsubscribe,this.subscribeMessageNew=()=>this.client.on("message.new",a=>{const{message:e}=a;if(e){const n=Za(e);this.hydratePollCache([n])}}).unsubscribe,this.client=t}get data(){return this.pollCache}},px={"channel.deleted":"channelDeletedHandler","channel.hidden":"channelHiddenHandler","channel.truncated":"channelTruncatedHandler","channel.updated":"channelUpdatedHandler","channel.visible":"channelVisibleHandler","message.new":"newMessageHandler","member.updated":"memberUpdatedHandler","notification.added_to_channel":"notificationAddedToChannelHandler","notification.message_new":"notificationNewMessageHandler","notification.removed_from_channel":"notificationRemovedFromChannelHandler"},uL={abortInFlightQuery:!1,allowNotLoadedChannelPromotionForEvent:{"channel.visible":!0,"message.new":!0,"notification.added_to_channel":!0,"notification.message_new":!0},lockChannelOrder:!1},yg={limit:10,offset:0},mL=class extends Ad{constructor({client:t,eventHandlerOverrides:a={},options:e={}}){super(),this.eventHandlers=new Map,this.eventHandlerOverrides=new Map,this.options={},this.stateOptions={},this.setChannels=n=>{var u;this.state.next(m=>{const{channels:h}=m,f=Uw(n)?n(h):n;return h===f?m:{...m,channels:f}});const{channels:i,pagination:{filters:l,sort:c}}=this.state.getLatestValue();(u=this.client.offlineDb)==null||u.executeQuerySafely(m=>m.upsertCidsForQuery({cids:i.map(h=>h.cid),filters:l,sort:c}),{method:"upsertCidsForQuery"})},this.setEventHandlerOverrides=(n={})=>{const i=Object.entries(n).reduce((l,[c,u])=>(u&&(l[c]=u),l),{});this.eventHandlerOverrides=new Map(Object.entries(i))},this.setOptions=(n={})=>{this.options={...uL,...n}},this.executeChannelsQuery=async(n,i=0)=>{var y;const{filters:l,sort:c,options:u,stateOptions:m}=n,{offset:h,limit:f}={...yg,...u};try{const b=await this.client.queryChannels(l,c,u,m),w=h+((b==null?void 0:b.length)??0),E={...u,offset:w},{pagination:_}=this.state.getLatestValue();this.state.partialNext({channels:b,pagination:{..._,hasNext:((b==null?void 0:b.length)??0)>=f,isLoading:!1,options:E},initialized:!0,error:void 0}),(y=this.client.offlineDb)==null||y.executeQuerySafely(S=>S.upsertCidsForQuery({cids:b.map(C=>C.cid),filters:_.filters,sort:_.sort}),{method:"upsertCidsForQuery"})}catch(b){if(i>=LT){console.warn(b);const w=new Error(`Maximum number of retries reached in queryChannels. Last error message is: ${b}`);this.state.partialNext({error:w});return}return await Ri(BT),this.executeChannelsQuery(n,i+1)}},this.queryChannels=async(n,i=[],l={},c={})=>{var y,b;const{pagination:{isLoading:u,filters:m},initialized:h}=this.state.getLatestValue();if(u&&!this.options.abortInFlightQuery&&JSON.stringify(m)===JSON.stringify(n))return;const f={filters:n,sort:i,options:l,stateOptions:c};try{if(this.stateOptions=c,this.state.next(w=>({...w,pagination:{...w.pagination,isLoading:!0,isLoadingNext:!1,filters:n,sort:i,options:l},error:void 0})),(y=this.client.offlineDb)!=null&&y.getChannelsForQuery&&((b=this.client.user)!=null&&b.id)){if(!h){const w=await this.client.offlineDb.getChannelsForQuery({userId:this.client.user.id,filters:n,sort:i});if(w){const E=this.client.hydrateActiveChannels(w,{offlineMode:!0,skipInitialization:[]});this.state.partialNext({channels:E})}}if(!this.client.offlineDb.syncManager.syncStatus){this.client.offlineDb.syncManager.scheduleSyncStatusChangeCallback(this.id,async()=>{await this.executeChannelsQuery(f)});return}}await this.executeChannelsQuery(f)}catch(w){throw this.client.logger("error",w.message),this.state.next(E=>({...E,pagination:{...E.pagination,isLoading:!1}})),w}},this.loadNext=async()=>{const{pagination:n,initialized:i}=this.state.getLatestValue(),{filters:l,sort:c,options:u,isLoadingNext:m,hasNext:h}=n;if(!(!i||m||!h))try{const{offset:f,limit:y}={...yg,...u};this.state.partialNext({pagination:{...n,isLoading:!1,isLoadingNext:!0}});const b=await this.client.queryChannels(l,c,u,this.stateOptions),{channels:w}=this.state.getLatestValue(),E=f+((b==null?void 0:b.length)??0),_={...u,offset:E};this.state.partialNext({channels:XT([...w||[],...b],"cid"),pagination:{...n,hasNext:((b==null?void 0:b.length)??0)>=y,isLoading:!1,isLoadingNext:!1,options:_}})}catch(f){throw this.client.logger("error",f.message),this.state.next(y=>({...y,pagination:{...y.pagination,isLoadingNext:!1}})),f}},this.notificationAddedToChannelHandler=async n=>{var y;const{id:i,type:l,members:c}=(n==null?void 0:n.channel)??{};if(!l||!((y=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&y["notification.added_to_channel"]))return;const u=await og({client:this.client,id:i,members:c==null?void 0:c.reduce((b,{user:w,user_id:E})=>{const _=E||(w==null?void 0:w.id);return _&&b.push(_),b},[]),type:l}),{pagination:m,channels:h}=this.state.getLatestValue();if(!h)return;const{sort:f}=m??{};this.setChannels(Gu({channels:h,channelToMove:u,sort:f}))},this.channelDeletedHandler=n=>{const{channels:i}=this.state.getLatestValue();if(!i)return;const l=[...i],c=l.findIndex(u=>{var m;return u.cid===(n.cid||((m=n.channel)==null?void 0:m.cid))});c<0||(l.splice(c,1),this.setChannels(l))},this.channelHiddenHandler=this.channelDeletedHandler,this.newMessageHandler=n=>{var C;const{pagination:i,channels:l}=this.state.getLatestValue();if(!l)return;const{filters:c,sort:u}=i??{},m=n.channel_type,h=n.channel_id;if(!m||!h)return;const f=this.client.channel(m,h),y=l.indexOf(f),b=y>=0,w=Lm(f),E=qu(f),_=$u(c),S=Xg(u);_&&E&&!c.archived||_&&!E&&c.archived||S&&w||this.options.lockChannelOrder||!b&&!((C=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&C["message.new"])||this.setChannels(Gu({channels:l,channelToMove:f,channelToMoveIndexWithinChannels:y,sort:u}))},this.notificationNewMessageHandler=async n=>{var w;const{id:i,type:l}=(n==null?void 0:n.channel)??{};if(!i||!l)return;const c=await og({client:this.client,id:i,type:l}),{channels:u,pagination:m}=this.state.getLatestValue(),{filters:h,sort:f}=m??{},y=$u(h),b=qu(c);!u||y&&b&&!h.archived||y&&!b&&h.archived||!((w=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&w["notification.message_new"])||this.setChannels(Gu({channels:u,channelToMove:c,sort:f}))},this.channelVisibleHandler=async n=>{var w;const{channel_type:i,channel_id:l}=n;if(!i||!l)return;const c=await og({client:this.client,id:n.channel_id,type:n.channel_type}),{channels:u,pagination:m}=this.state.getLatestValue(),{sort:h,filters:f}=m??{},y=$u(f),b=qu(c);!u||y&&b&&!f.archived||y&&!b&&f.archived||!((w=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&w["channel.visible"])||this.setChannels(Gu({channels:u,channelToMove:c,sort:h}))},this.notificationRemovedFromChannelHandler=this.channelDeletedHandler,this.memberUpdatedHandler=n=>{var M;const{pagination:i,channels:l}=this.state.getLatestValue(),{filters:c,sort:u}=i;if(!((M=n.member)!=null&&M.user)||n.member.user.id!==this.client.userID||!n.channel_type||!n.channel_id)return;const m=n.channel_type,h=n.channel_id,f=Xg(u),y=$u(c),b=Pw({atIndex:0,sort:u,targetKey:"pinned_at"});if(!l||!f&&!y||this.options.lockChannelOrder)return;const w=this.client.channel(m,h),E=l.indexOf(w),_=E>=0,S=Lm(w),C=qu(w),I=[...l];if(_&&I.splice(E,1),y&&!C&&(c!=null&&c.archived)||y&&C&&!(c!=null&&c.archived)){this.setChannels(I);return}let N=null;(b===1||b===-1&&!S)&&(N=Lw({channels:I}));const k=typeof N=="number"?N+1:0;l[k]!==w&&(I.splice(k,0,w),this.setChannels(I))},this.subscriptionOrOverride=n=>{const i=px[n.type],l=this.eventHandlers.get(i),c=this.eventHandlerOverrides.get(i);if(c&&typeof c=="function"){c(this.setChannels,n);return}l&&typeof l=="function"&&l(n)},this.registerSubscriptions=()=>{if(!this.hasSubscriptions)for(const n of Object.keys(px))this.addUnsubscribeFunction(this.client.on(n,this.subscriptionOrOverride).unsubscribe)},this.id=`channel-manager-${vr()}`,this.client=t,this.state=new Ia({channels:[],pagination:{isLoading:!1,isLoadingNext:!1,hasNext:!1,filters:{},sort:{},options:yg},initialized:!1,error:void 0}),this.setEventHandlerOverrides(a),this.setOptions(e),this.eventHandlers=new Map(Object.entries({channelDeletedHandler:this.channelDeletedHandler,channelHiddenHandler:this.channelHiddenHandler,channelVisibleHandler:this.channelVisibleHandler,memberUpdatedHandler:this.memberUpdatedHandler,newMessageHandler:this.newMessageHandler,notificationAddedToChannelHandler:this.notificationAddedToChannelHandler,notificationNewMessageHandler:this.notificationNewMessageHandler,notificationRemovedFromChannelHandler:this.notificationRemovedFromChannelHandler}))}},pL={error:1e4,warning:5e3,info:3e3,success:3e3},fL=class{constructor(t={}){this.timeouts=new Map,this.store=new Ia({notifications:[]}),this.config={...t,durations:t.durations||pL}}get notifications(){return this.store.getLatestValue().notifications}get warning(){return this.notifications.filter(t=>t.severity==="warning")}get error(){return this.notifications.filter(t=>t.severity==="error")}get info(){return this.notifications.filter(t=>t.severity==="info")}get success(){return this.notifications.filter(t=>t.severity==="success")}add({message:t,origin:a,options:e={}}){const n=vr(),i=Date.now(),l={id:n,message:t,origin:a,severity:e.severity||"info",createdAt:i,expiresAt:e.duration?i+e.duration:void 0,autoClose:e.autoClose??!0,actions:e.actions,metadata:e.metadata};if(this.store.partialNext({notifications:[...this.store.getLatestValue().notifications,l]}),l.autoClose&&l.expiresAt){const c=setTimeout(()=>{this.remove(n)},e.duration||this.config.durations[l.severity]);this.timeouts.set(n,c)}return n}addError({message:t,origin:a,options:e}){return this.add({message:t,origin:a,options:{...e,severity:"error"}})}addWarning({message:t,origin:a,options:e}){return this.add({message:t,origin:a,options:{...e,severity:"warning"}})}addInfo({message:t,origin:a,options:e}){return this.add({message:t,origin:a,options:{...e,severity:"info"}})}addSuccess({message:t,origin:a,options:e}){return this.add({message:t,origin:a,options:{...e,severity:"success"}})}remove(t){const a=this.timeouts.get(t);a&&(clearTimeout(a),this.timeouts.delete(t)),this.store.partialNext({notifications:this.store.getLatestValue().notifications.filter(e=>e.id!==t)})}clear(){this.timeouts.forEach(t=>clearTimeout(t)),this.timeouts.clear(),this.store.partialNext({notifications:[]})}};function bg(t){return typeof t=="string"||t instanceof String}var ay=class oo{constructor(a,e,n){var l;this.nextRequestAbortController=null,this._messageComposerSetupState=new Ia({setupFunction:null}),this._getConnectionID=()=>{var c,u;return((c=this.wsConnection)==null?void 0:c.connectionID)||((u=this.wsFallback)==null?void 0:u.connectionID)},this._hasConnectionID=()=>!!this._getConnectionID(),this.connectUser=async(c,u)=>{if(!c.id)throw new Error('The "id" field on the user is missing');if(this.userID===c.id&&this.setUserPromise)return console.warn("Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),this.setUserPromise;if(this.userID)throw new Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");(this._isUsingServerAuth()||this.node)&&!this.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),this.userID=c.id,this.anonymous=!1;const m=this._setToken(c,u);this._setUser(c);const h=this.openConnection();this.setUserPromise=Promise.all([m,h]).then(f=>f[1]);try{return await this.setUserPromise}catch(f){throw this.persistUserOnConnectionFailure?this.closeConnection():this.disconnectUser(),f}},this.setUser=this.connectUser,this._setToken=(c,u)=>this.tokenManager.setTokenOrProvider(u,c),this.closeConnection=async c=>{var u,m,h;return this.cleaningIntervalRef!=null&&(clearInterval(this.cleaningIntervalRef),this.cleaningIntervalRef=void 0),await Promise.all([(u=this.wsConnection)==null?void 0:u.disconnect(c),(m=this.wsFallback)==null?void 0:m.disconnect(c)]),(h=this.offlineDb)==null||h.executeQuerySafely(async f=>{this.userID&&await f.upsertUserSyncStatus({userId:this.userID,lastSyncedAt:new Date().toString()})},{method:"upsertUserSyncStatus"}),Promise.resolve()},this.createChannelManager=({eventHandlerOverrides:c={},options:u={}})=>new mL({client:this,eventHandlerOverrides:c,options:u}),this.openConnection=()=>{var c,u,m;if(!this.userID)throw Error("User is not set on client, use client.connectUser or client.connectAnonymousUser instead");if((c=this.wsConnection)!=null&&c.isConnecting&&this.wsPromise)return this.logger("info","client:openConnection() - connection already in progress",{tags:["connection","client"]}),this.wsPromise;if(((u=this.wsConnection)!=null&&u.isHealthy||(m=this.wsFallback)!=null&&m.isHealthy())&&this._hasConnectionID()){this.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists",{tags:["connection","client"]});return}return this.clientID=`${this.userID}--${ul()}`,this.wsPromise=this.connect(),this._startCleaning(),this.wsPromise},this._setupConnection=this.openConnection,this._normalizeDate=c=>{if(c instanceof Date&&(c=c.toISOString()),c==="")throw new Error("Don't pass blank string for since, use null instead if resetting the token revoke");return c},this.disconnectUser=c=>{this.logger("info","client:disconnect() - Disconnecting the client",{tags:["connection","client"]}),delete this.user,delete this._user,delete this.userID,this.anonymous=!1;const u=this.closeConnection(c);for(const m of Object.values(this.activeChannels))m._disconnect();return this.activeChannels={},this.state=new sx({client:this}),this.threads.resetState(),setTimeout(this.tokenManager.reset),u},this.disconnect=this.disconnectUser,this.connectAnonymousUser=()=>{(this._isUsingServerAuth()||this.node)&&!this.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),this.anonymous=!0,this.userID=ul();const c={id:this.userID,anon:!0};return this._setToken(c,""),this._setUser(c),this._setupConnection()},this.setAnonymousUser=this.connectAnonymousUser,this.doAxiosRequest=async(c,u,m,h={})=>{var y;await this.tokenManager.tokenReady();const f=this._enrichAxiosOptions(h);try{let b;switch(this._logApiRequest(c,u,m,f),c){case"get":b=await this.axiosInstance.get(u,f);break;case"delete":b=await this.axiosInstance.delete(u,f);break;case"post":b=await this.axiosInstance.post(u,m,f);break;case"postForm":b=await this.axiosInstance.postForm(u,m,f);break;case"put":b=await this.axiosInstance.put(u,m,f);break;case"patch":b=await this.axiosInstance.patch(u,m,f);break;case"options":b=await this.axiosInstance.options(u,f);break;default:throw new Error("Invalid request type")}return this._logApiResponse(c,u,b),this.consecutiveFailures=0,this.handleResponse(b)}catch(b){if(b.client_request_id=(y=f.headers)==null?void 0:y["x-client-request-id"],this._logApiError(c,u,b),this.consecutiveFailures+=1,b.response)return b.response.data.code===Zc.TOKEN_EXPIRED&&!this.tokenManager.isStatic()?(this.consecutiveFailures>1&&await Ri(Pm(this.consecutiveFailures)),this.tokenManager.loadToken(),await this.doAxiosRequest(c,u,m,h)):this.handleResponse(b.response);throw b}},this.dispatchEvent=c=>{var f;c.received_at||(c.received_at=new Date);const u=this._handleClientEvent(c),m=c.cid,h=m?this.activeChannels[m]:void 0;h&&h._handleChannelEvent(c),this._callClientListeners(c),h&&h._callChannelListeners(c),u.forEach(y=>y()),(f=this.offlineDb)==null||f.executeQuerySafely(y=>y.handleEvent({event:c}),{method:`handleEvent;${c.type}`})},this.handleEvent=c=>{const u=c.data,m=JSON.parse(u);this.dispatchEvent(m)},this._updateMemberWatcherReferences=c=>{const u=this.state.userChannelReferences[c.id]||{};for(const m in u){const h=this.activeChannels[m];h!=null&&h.state&&(h.state.members[c.id]&&(h.state.members[c.id].user=c),h.state.watchers[c.id]&&(h.state.watchers[c.id]=c),h.state.read[c.id]&&(h.state.read[c.id].user=c))}},this._updateUserReferences=this._updateMemberWatcherReferences,this._updateUserMessageReferences=c=>{const u=this.state.userChannelReferences[c.id]||{};for(const m in u){const h=this.activeChannels[m];if(!h)continue;const f=h.state;f==null||f.updateUserMessages(c)}},this._deleteUserMessageReference=(c,u=!1)=>{const m=this.state.userChannelReferences[c.id]||{};for(const h in m){const f=this.activeChannels[h];if(f){const y=f.state;y==null||y.deleteUserMessages(c,u)}}},this._handleUserEvent=c=>{if(c.user){if(c.type==="user.presence.changed"||c.type==="user.updated"){if(c.user.id===this.userID){const u={...this.user},m={...this._user};for(const h in this.user){if(h in c.user||WT(h))continue;const f=h;delete u[f],delete m[f]}for(const h in m){const f=h;f in c.user&&(m[f]=c.user[f])}this._user=m,this.user={...u,...c.user}}this.state.updateUser(c.user),this._updateMemberWatcherReferences(c.user)}c.type==="user.updated"&&this._updateUserMessageReferences(c.user),c.type==="user.deleted"&&c.user.deleted_at&&(c.mark_messages_deleted||c.hard_delete)&&this._deleteUserMessageReference(c.user,c.hard_delete)}},this._callClientListeners=c=>{const u=this,m=[];u.listeners.all&&m.push(...u.listeners.all),u.listeners[c.type]&&m.push(...u.listeners[c.type]);for(const h of m)h(c)},this.recoverState=async()=>{this.logger("info",`client:recoverState() - Start of recoverState with connectionID ${this._getConnectionID()}`,{tags:["connection"]});const c=Object.keys(this.activeChannels);c.length&&this.recoverStateOnReconnect?(this.logger("info",`client:recoverState() - Start the querying of ${c.length} channels`,{tags:["connection","client"]}),await this.queryChannels({cid:{$in:c}},{last_message_at:-1},{limit:30}),this.logger("info","client:recoverState() - Querying channels finished",{tags:["connection","client"]}),this.dispatchEvent({type:"connection.recovered"})):this.dispatchEvent({type:"connection.recovered"}),this.wsPromise=Promise.resolve(),this.setUserPromise=Promise.resolve()},this.getChannelByMembers=(c,u)=>{const m=(u.members??[]).map(b=>typeof b=="string"?b:b.user_id??""),h=m.sort().join(","),f=Y0(c,m);if(!f)throw Error("Please specify atleast one member when creating unique conversation");for(const b in this.activeChannels){const w=this.activeChannels[b];if(!w.disconnected&&(b===f||b.indexOf(`${c}:!members-`)===0&&Object.keys(w.state.members).sort().join(",")===h))return w}const y=new hl(this,c,void 0,u);return this._cacheEnabled()&&(this.activeChannels[f]=y),y},this.getChannelById=(c,u,m)=>{if(typeof u=="string"&&~u.indexOf(":"))throw Error(`Invalid channel id ${u}, can't contain the : character`);const h=`${c}:${u}`;if(h in this.activeChannels&&this.activeChannels[h]&&!this.activeChannels[h].disconnected){const y=this.activeChannels[h];return Object.keys(m).length>0&&(y.data={...y.data,...m},y._data={...y._data,...m}),y}const f=new hl(this,c,u,m);return this._cacheEnabled()&&(this.activeChannels[f.cid]=f),f},this.updateUsers=this.upsertUsers,this.updateUser=this.upsertUser,this._unblockMessage=this.unblockMessage,this.markAllRead=this.markChannelsRead,this._isUsingServerAuth=()=>!!this.secret,this._cacheEnabled=()=>!this._isUsingServerAuth()||!this.options.disableCache,this._buildWSPayload=c=>JSON.stringify({user_id:this.userID,user_details:this._user,device:this.options.device,client_request_id:c}),this.setMessageComposerSetupFunction=c=>{this._messageComposerSetupState.partialNext({setupFunction:c})},this.key=a,this.listeners={},this.state=new sx({client:this}),this.mutedChannels=[],this.mutedUsers=[],this.moderation=new KP(this),this.notifications=(n==null?void 0:n.notifications)??new fL,e&&bg(e)&&(this.secret=e);const i=n||(e&&!bg(e)?e:{});this.browser=typeof i.browser<"u"?i.browser:typeof window<"u",this.node=!this.browser,this.options={timeout:3e3,withCredentials:!1,warmUp:!1,recoverStateOnReconnect:!0,disableCache:!1,wsUrlParams:new URLSearchParams({}),...i},this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new IT.default.Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.axiosInstance=md.create(this.options),this.setBaseURL(this.options.baseURL||"https://chat.stream-io-api.com"),typeof process<"u"&&"env"in process&&tg.STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030"),typeof process<"u"&&"env"in process&&tg.STREAM_LOCAL_TEST_HOST&&this.setBaseURL("http://"+tg.STREAM_LOCAL_TEST_HOST),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.activeChannels={},this.configs={},this.anonymous=!1,this.persistUserOnConnectionFailure=(l=this.options)==null?void 0:l.persistUserOnConnectionFailure,this.tokenManager=new $P(this.secret),this.consecutiveFailures=0,this.insightMetrics=new OP,this.defaultWSTimeoutWithFallback=6*1e3,this.defaultWSTimeout=15*1e3,this.axiosInstance.defaults.paramsSerializer=ZT,this.logger=Vg(i.logger)?i.logger:()=>null,this.recoverStateOnReconnect=this.options.recoverStateOnReconnect,this.threads=new tL({client:this}),this.polls=new dL({client:this})}static getInstance(a,e,n){return oo._instance||(typeof e=="string"?oo._instance=new oo(a,e,n):oo._instance=new oo(a,e)),oo._instance}setOfflineDBApi(a){this.offlineDb||(this.offlineDb=a)}devToken(a){return YP(a)}getAuthType(){return this.anonymous?"anonymous":"jwt"}setBaseURL(a){this.baseURL=a,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")}_setUser(a){this.user=a,this.userID=a.id,this._user={...a}}async updateAppSettings(a){const e=a.apn_config;return e!=null&&e.p12_cert&&(a={...a,apn_config:{...e,p12_cert:Buffer.from(e.p12_cert).toString("base64")}}),await this.patch(this.baseURL+"/app",a)}async revokeTokens(a){return await this.updateAppSettings({revoke_tokens_issued_before:this._normalizeDate(a)})}async revokeUserToken(a,e){return await this.revokeUsersToken([a],e)}async revokeUsersToken(a,e){e===void 0?e=new Date().toISOString():e=this._normalizeDate(e);const n=[];for(const i of a)n.push({id:i,set:{revoke_tokens_issued_before:e}});return await this.partialUpdateUsers(n)}async getAppSettings(){return this.appSettingsPromise=this.get(this.baseURL+"/app"),await this.appSettingsPromise}async testPushSettings(a,e={}){return await this.post(this.baseURL+"/check_push",{user_id:a,...e.messageID?{message_id:e.messageID}:{},...e.apnTemplate?{apn_template:e.apnTemplate}:{},...e.firebaseTemplate?{firebase_template:e.firebaseTemplate}:{},...e.firebaseDataTemplate?{firebase_data_template:e.firebaseDataTemplate}:{},...e.skipDevices?{skip_devices:!0}:{},...e.pushProviderName?{push_provider_name:e.pushProviderName}:{},...e.pushProviderType?{push_provider_type:e.pushProviderType}:{}})}async testSQSSettings(a={}){return await this.post(this.baseURL+"/check_sqs",a)}async testSNSSettings(a={}){return await this.post(this.baseURL+"/check_sns",a)}async setGuestUser(a){let e;this.anonymous=!0;try{e=await this.post(this.baseURL+"/guest",{user:a})}catch(m){throw this.anonymous=!1,m}this.anonymous=!1;const{created_at:n,updated_at:i,last_active:l,online:c,...u}=e.user;return await this.connectUser(u,e.access_token)}createToken(a,e,n){if(this.secret==null)throw Error("tokens can only be created server-side using the API Secret");const i={};return e&&(i.exp=e),n&&(i.iat=n),s5(this.secret,a,i,{})}on(a,e){const n=e?a:"all",i=e||a;return n in this.listeners||(this.listeners[n]=[]),this.logger("info",`Attaching listener for ${n} event`,{tags:["event","client"]}),this.listeners[n].push(i),{unsubscribe:()=>{this.logger("info",`Removing listener for ${n} event`,{tags:["event","client"]}),this.listeners[n]=this.listeners[n].filter(l=>l!==i)}}}off(a,e){const n=e?a:"all",i=e||a;n in this.listeners||(this.listeners[n]=[]),this.logger("info",`Removing listener for ${n} event`,{tags:["event","client"]}),this.listeners[n]=this.listeners[n].filter(l=>l!==i)}_logApiRequest(a,e,n,i){this.logger("info",`client: ${a} - Request - ${e}`,{tags:["api","api_request","client"],url:e,payload:n,config:i})}_logApiResponse(a,e,n){this.logger("info",`client:${a} - Response - url: ${e} > status ${n.status}`,{tags:["api","api_response","client"],url:e,response:n})}_logApiError(a,e,n){this.logger("error",`client:${a} - Error - url: ${e}`,{tags:["api","api_response","client"],url:e,error:n})}get(a,e){return this.doAxiosRequest("get",a,null,{params:e})}put(a,e){return this.doAxiosRequest("put",a,e)}post(a,e){return this.doAxiosRequest("post",a,e)}patch(a,e){return this.doAxiosRequest("patch",a,e)}delete(a,e){return this.doAxiosRequest("delete",a,null,{params:e})}sendFile(a,e,n,i,l){const c=HT(e,n,i||"multipart/form-data");return l!=null&&c.append("user",JSON.stringify(l)),this.doAxiosRequest("postForm",a,c,{headers:c.getHeaders?c.getHeaders():{},config:{timeout:0,maxContentLength:1/0,maxBodyLength:1/0}})}errorFromResponse(a){const e=typeof a.data.code<"u"?`StreamChat error code ${a.data.code}: ${a.data.message}`:`StreamChat error HTTP code: ${a.status}`;return new XR(e,{code:a.data.code??null,response:a,status:a.status})}handleResponse(a){const e=a.data;if(XP(a))throw this.errorFromResponse(a);return e}_handleClientEvent(a){var i,l,c;const e=this,n=[];if(this.logger("info",`client:_handleClientEvent - Received event of type { ${a.type} }`,{tags:["event","client"],event:a}),(a.type==="user.presence.changed"||a.type==="user.updated"||a.type==="user.deleted")&&this._handleUserEvent(a),a.type==="health.check"&&a.me&&(e.user=a.me,e.state.updateUser(a.me),e.mutedChannels=a.me.channel_mutes,e.mutedUsers=a.me.mutes),a.channel&&a.type==="notification.message_new"){const{channel:u}=a;this._addChannelConfig(u)}if(a.type==="notification.channel_mutes_updated"&&((i=a.me)!=null&&i.channel_mutes)&&(this.mutedChannels=a.me.channel_mutes),a.type==="notification.mutes_updated"&&((l=a.me)!=null&&l.mutes)&&(this.mutedUsers=a.me.mutes),a.type==="notification.mark_read"&&a.unread_channels===0&&Object.keys(this.activeChannels).forEach(m=>this.activeChannels[m].state.unreadCount=0),(a.type==="channel.deleted"||a.type==="notification.channel_deleted")&&a.cid){const{cid:u}=a;e.state.deleteAllChannelReference(u),(c=this.activeChannels[a.cid])==null||c._disconnect(),n.push(()=>{u&&delete this.activeChannels[u]})}return n}_muteStatus(a){var n;let e;for(let i=0;i<this.mutedChannels.length;i++){const l=this.mutedChannels[i];if(((n=l.channel)==null?void 0:n.cid)===a){e={muted:l.expires?new Date(l.expires).getTime()>new Date().getTime():!0,createdAt:l.created_at?new Date(l.created_at):new Date,expiresAt:l.expires?new Date(l.expires):null};break}}return e||{muted:!1,createdAt:null,expiresAt:null}}async connect(){if(!this.userID||!this._user)throw Error("Call connectUser or connectAnonymousUser before starting the connection");if(!this.wsBaseURL)throw Error("Websocket base url not set");if(!this.clientID)throw Error("clientID is not set");!this.wsConnection&&(this.options.warmUp||this.options.enableInsights)&&this._sayHi(),this.options.wsConnection&&this.node?(this.options.wsConnection.setClient(this),this.wsConnection=this.options.wsConnection):this.wsConnection=new HP({client:this});try{return this.wsFallback?await this.wsFallback.connect():await this.wsConnection.connect(this.options.enableWSFallback?this.defaultWSTimeoutWithFallback:this.defaultWSTimeout)}catch(a){if(this.options.enableWSFallback&&QP(a)&&GT())return this.logger("info","client:connect() - WS failed, fallback to longpoll",{tags:["connection","client"]}),this.dispatchEvent({type:"transport.changed",mode:"longpoll"}),this.wsConnection._destroyCurrentWSConnection(),this.wsConnection.disconnect().then(),this.wsFallback=new JP({client:this}),await this.wsFallback.connect();throw a}}_sayHi(){const a=ul(),e={headers:{"x-client-request-id":a}};this.doAxiosRequest("get",this.baseURL+"/hi",null,e).catch(n=>{this.options.enableInsights&&Qc("http_hi_failed",{api_key:this.key,err:n,client_request_id:a})})}async queryUsers(a,e=[],n={}){const i={presence:!1};await this.wsPromise,this._hasConnectionID()||(i.presence=!1);const l=await this.get(this.baseURL+"/users",{payload:{filter_conditions:a,sort:ha(e),...i,...n}});return this.state.updateUsers(l.users),l}async queryBannedUsers(a={},e=[],n={}){return await this.get(this.baseURL+"/query_banned_users",{payload:{filter_conditions:a,sort:ha(e),...n}})}async queryMessageFlags(a={},e={}){return await this.get(this.baseURL+"/moderation/flags/message",{payload:{filter_conditions:a,...e}})}async queryChannelsRequest(a,e=[],n={}){const i={state:!0,watch:!0,presence:!1};await this.wsPromise,this._hasConnectionID()||(i.watch=!1);const l={filter_conditions:a,sort:ha(e),...i,...n};return(await this.post(this.baseURL+"/channels",l)).channels}async queryChannels(a,e=[],n={},i={}){var c;const l=await this.queryChannelsRequest(a,e,n);return this.dispatchEvent({type:"channels.queried",queriedChannels:{channels:l,isLatestMessageSet:!0}}),l!=null&&l.length&&((c=this.offlineDb)!=null&&c.upsertChannels)&&await this.offlineDb.upsertChannels({channels:l,isLatestMessagesSet:!0}),this.hydrateActiveChannels(l,i,n)}async queryReactions(a,e,n=[],i={}){var c;const l={filter:e,sort:ha(n),...i};if((c=this.offlineDb)!=null&&c.getReactions&&!i.next)try{const u=await this.offlineDb.getReactions({messageId:a,filters:e,sort:n,limit:i.limit});u&&this.dispatchEvent({type:"offline_reactions.queried",offlineReactions:u})}catch(u){this.logger("warn","An error has occurred while querying offline reactions",{error:u})}return await this.wsPromise,await this.post(this.baseURL+"/messages/"+encodeURIComponent(a)+"/reactions",l)}hydrateActiveChannels(a=[],e={},n){const{skipInitialization:i,offlineMode:l=!1}=e,c=[];for(const u of a){this._addChannelConfig(u.channel);const m=this.channel(u.channel.type,u.channel.id);m.data=u.channel,m.offlineMode=l,m.initialized=!l,m.push_preferences=u.push_preferences;let h;if(i===void 0){const{messageSet:f}=m._initializeState(u,"latest");h=f}else if(!i.includes(u.channel.id)){m.state.clearMessages();const{messageSet:f}=m._initializeState(u,"latest");h=f}h&&(h.pagination={...h.pagination,...Rw({parentSet:h,requestedPageSize:(n==null?void 0:n.message_limit)||NT,returnedPage:u.messages,logger:this.logger})},this.polls.hydratePollCache(u.messages,!0)),u.draft&&m.messageComposer.initState({composition:u.draft}),c.push(m)}return c}async search(a,e,n={}){if(n.offset&&n.next)throw Error("Cannot specify offset with next");const i={filter_conditions:a,...n,sort:n.sort?ha(n.sort):void 0};if(typeof e=="string")i.query=e;else if(typeof e=="object")i.message_filter_conditions=e;else throw Error(`Invalid type ${typeof e} for query parameter`);return await this.wsPromise,await this.get(this.baseURL+"/search",{payload:i})}setLocalDevice(a){var e,n,i;if((e=this.wsConnection)!=null&&e.isConnecting&&this.wsPromise||((n=this.wsConnection)!=null&&n.isHealthy||(i=this.wsFallback)!=null&&i.isHealthy())&&this._hasConnectionID())throw new Error("you can only set device before opening a websocket connection");this.options.device=a}async addDevice(a,e,n,i){return await this.post(this.baseURL+"/devices",{id:a,push_provider:e,...n!=null?{user_id:n}:{},...i!=null?{push_provider_name:i}:{}})}async getDevices(a){return await this.get(this.baseURL+"/devices",a?{user_id:a}:{})}async getUnreadCount(a){return await this.get(this.baseURL+"/unread",a?{user_id:a}:{})}async getUnreadCountBatch(a){return await this.post(this.baseURL+"/unread_batch",{user_ids:a})}async setPushPreferences(a){return await this.post(this.baseURL+"/push_preferences",{preferences:a})}async removeDevice(a,e){return await this.delete(this.baseURL+"/devices",{id:a,...e?{user_id:e}:{}})}getRateLimits(a){const{serverSide:e,web:n,android:i,ios:l,endpoints:c}=a||{};return this.get(this.baseURL+"/rate_limits",{server_side:e,web:n,android:i,ios:l,endpoints:c?c.join(","):void 0})}_addChannelConfig({cid:a,config:e}){this._cacheEnabled()&&(this.configs[a]=e)}channel(a,e,n={}){var i;if(!this.userID&&!this._isUsingServerAuth())throw Error("Call connectUser or connectAnonymousUser before creating a channel");if(~a.indexOf(":"))throw new Error(`Invalid channel group ${a}, can't contain the : character`);return e&&typeof e=="object"?this.getChannelByMembers(a,e):!e&&typeof n=="object"&&((i=n.members)!=null&&i.length)?this.getChannelByMembers(a,n):e?this.getChannelById(a,e,n):new hl(this,a,void 0,n)}async partialUpdateUser(a){return await this.partialUpdateUsers([a])}async upsertUsers(a){const e={};for(const n of a){if(!n.id)throw Error("User ID is required when updating a user");e[n.id]=n}return await this.post(this.baseURL+"/users",{users:e})}upsertUser(a){return this.upsertUsers([a])}async partialUpdateUsers(a){for(const e of a)if(!e.id)throw Error("User ID is required when updating a user");return await this.patch(this.baseURL+"/users",{users:a})}async deleteUser(a,e){return await this.delete(this.baseURL+`/users/${encodeURIComponent(a)}`,e)}async restoreUsers(a){return await this.post(this.baseURL+"/users/restore",{user_ids:a})}async reactivateUser(a,e){return await this.post(this.baseURL+`/users/${encodeURIComponent(a)}/reactivate`,{...e})}async reactivateUsers(a,e){return await this.post(this.baseURL+"/users/reactivate",{user_ids:a,...e})}async deactivateUser(a,e){return await this.post(this.baseURL+`/users/${encodeURIComponent(a)}/deactivate`,{...e})}async deactivateUsers(a,e){return await this.post(this.baseURL+"/users/deactivate",{user_ids:a,...e})}async exportUser(a,e){return await this.get(this.baseURL+`/users/${encodeURIComponent(a)}/export`,{...e})}async banUser(a,e){return await this.post(this.baseURL+"/moderation/ban",{target_user_id:a,...e})}async unbanUser(a,e){return await this.delete(this.baseURL+"/moderation/ban",{target_user_id:a,...e})}async shadowBan(a,e){return await this.banUser(a,{shadow:!0,...e})}async removeShadowBan(a,e){return await this.unbanUser(a,{shadow:!0,...e})}async blockUser(a,e){return await this.post(this.baseURL+"/users/block",{blocked_user_id:a,...e?{user_id:e}:{}})}async getBlockedUsers(a){return await this.get(this.baseURL+"/users/block",{...a?{user_id:a}:{}})}async unBlockUser(a,e){return await this.post(this.baseURL+"/users/unblock",{blocked_user_id:a,...e?{user_id:e}:{}})}async muteUser(a,e,n={}){return await this.post(this.baseURL+"/moderation/mute",{target_id:a,...e?{user_id:e}:{},...n})}async unmuteUser(a,e){return await this.post(this.baseURL+"/moderation/unmute",{target_id:a,...e?{user_id:e}:{}})}userMuteStatus(a){if(!this.user||!this.wsPromise)throw new Error("Make sure to await connectUser() first.");for(let e=0;e<this.mutedUsers.length;e+=1)if(this.mutedUsers[e].target.id===a)return!0;return!1}async flagMessage(a,e={}){return await this.post(this.baseURL+"/moderation/flag",{target_message_id:a,...e})}async flagUser(a,e={}){return await this.post(this.baseURL+"/moderation/flag",{target_user_id:a,...e})}async unflagMessage(a,e={}){return await this.post(this.baseURL+"/moderation/unflag",{target_message_id:a,...e})}async unflagUser(a,e={}){return await this.post(this.baseURL+"/moderation/unflag",{target_user_id:a,...e})}async _queryFlags(a={},e={}){return await this.post(this.baseURL+"/moderation/flags",{filter_conditions:a,...e})}async _queryFlagReports(a={},e={}){return await this.post(this.baseURL+"/moderation/reports",{filter_conditions:a,...e})}async _reviewFlagReport(a,e,n={}){return await this.patch(this.baseURL+`/moderation/reports/${encodeURIComponent(a)}`,{review_result:e,...n})}async unblockMessage(a,e={}){return await this.post(this.baseURL+"/moderation/unblock_message",{target_message_id:a,...e})}async markChannelsRead(a={}){await this.post(this.baseURL+"/channels/read",{...a})}createCommand(a){return this.post(this.baseURL+"/commands",a)}getCommand(a){return this.get(this.baseURL+`/commands/${encodeURIComponent(a)}`)}updateCommand(a,e){return this.put(this.baseURL+`/commands/${encodeURIComponent(a)}`,e)}deleteCommand(a){return this.delete(this.baseURL+`/commands/${encodeURIComponent(a)}`)}listCommands(){return this.get(this.baseURL+"/commands")}createChannelType(a){const e=Object.assign({},{commands:["all"]},a);return this.post(this.baseURL+"/channeltypes",e)}getChannelType(a){return this.get(this.baseURL+`/channeltypes/${encodeURIComponent(a)}`)}updateChannelType(a,e){return this.put(this.baseURL+`/channeltypes/${encodeURIComponent(a)}`,e)}DBDeleteChannelType(a){return this.delete(this.baseURL+`/channeltypes/${encodeURIComponent(a)}`)}listChannelTypes(){return this.get(this.baseURL+"/channeltypes")}async translateMessage(a,e){return await this.post(this.baseURL+`/messages/${encodeURIComponent(a)}/translate`,{language:e})}async translate(a,e,n){return await this.post(this.baseURL+"/translate",{text:a,source_language:n,destination_language:e})}_normalizeExpiration(a){let e=null;if(typeof a=="number"){const n=new Date;n.setSeconds(n.getSeconds()+a),e=n.toISOString()}else bg(a)?e=a:a instanceof Date&&(e=a.toISOString());return e}_validateAndGetMessageId(a,e){let n;if(typeof a=="string")n=a;else{if(!a.id)throw Error(e);n=a.id}return n}pinMessage(a,e,n,i){const l=this._validateAndGetMessageId(a,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(l,{set:{pinned:!0,pin_expires:this._normalizeExpiration(e),pinned_at:this._normalizeExpiration(i)}},n)}unpinMessage(a,e){const n=this._validateAndGetMessageId(a,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(n,{set:{pinned:!1}},e)}async updateMessage(a,e,n){if(!a.id)throw Error("Please specify the message.id when calling updateMessage");const i=Aw(a);return typeof e=="string"?i.user_id=e:typeof(e==null?void 0:e.id)=="string"&&(i.user_id=e.id),await this.post(this.baseURL+`/messages/${encodeURIComponent(a.id)}`,{message:i,...n})}async partialUpdateMessage(a,e,n,i){if(!a)throw Error("Please specify the message.id when calling partialUpdateMessage");let l;return typeof n=="string"?l={id:n}:typeof(n==null?void 0:n.id)=="string"&&(l={id:n.id}),await this.put(this.baseURL+`/messages/${encodeURIComponent(a)}`,{...e,...i,user:l})}async deleteMessage(a,e){try{if(this.offlineDb)return e?await this.offlineDb.hardDeleteMessage({id:a}):await this.offlineDb.softDeleteMessage({id:a}),await this.offlineDb.queueTask({task:{messageId:a,payload:[a,e],type:"delete-message"}})}catch(n){this.logger("error","offlineDb:deleteMessage",{tags:["channel","offlineDb"],error:n})}return this._deleteMessage(a,e)}async _deleteMessage(a,e){let n={};return e&&(n={hard:!0}),await this.delete(this.baseURL+`/messages/${encodeURIComponent(a)}`,n)}async undeleteMessage(a,e){return await this.post(this.baseURL+`/messages/${encodeURIComponent(a)}/undelete`,{undeleted_by:e})}async getMessage(a,e){return await this.get(this.baseURL+`/messages/${encodeURIComponent(a)}`,{...e})}async queryThreads(a={}){const e={limit:10,participant_limit:10,reply_limit:3,watch:!0,...a},n={...e};e.filter&&Object.keys(e.filter).length>0&&(n.filter=e.filter),e.sort&&(Array.isArray(e.sort)?e.sort.length>0:Object.keys(e.sort).length>0)&&(n.sort=ha(e.sort));const i=await this.post(`${this.baseURL}/threads`,n);return{threads:i.threads.map(l=>new rd({client:this,threadData:l})),next:i.next}}async getThread(a,e={}){if(!a)throw new Error("Please specify the messageId when calling getThread");const n={participant_limit:100,reply_limit:3,watch:!0,...e},i=await this.get(`${this.baseURL}/threads/${encodeURIComponent(a)}`,n);return new rd({client:this,threadData:i.thread})}async partialUpdateThread(a,e){if(!a)throw Error("Please specify the message id when calling partialUpdateThread");const n=["created_at","id","last_message_at","type","updated_at","user","reply_count","participants","channel","custom"];for(const i in{...e.set,...e.unset})if(n.includes(i))throw Error(`You cannot set ${i} field on Thread object. ${i} is reserved for server-side use. Please omit ${i} from your set object.`);return await this.patch(`${this.baseURL}/threads/${encodeURIComponent(a)}`,e)}getUserAgent(){if(this.userAgent)return this.userAgent;const a="9.2.0",e="browser-esm";let n="";this.sdkIdentifier?n=`stream-chat-${this.sdkIdentifier.name}-v${this.sdkIdentifier.version}-llc-v${a}`:n=`stream-chat-js-v${a}-${this.node?"node":"browser"}`;const{os:i,model:l}=this.deviceIdentifier??{};return[["os",i],["device_model",l],["client_bundle",e]].reduce((c,[u,m])=>m&&m.length>0?c.concat(`|${u}=${m}`):c,n)}setUserAgent(a){this.userAgent=a}_enrichAxiosOptions(a={params:{},headers:{},config:{}}){var m;const e=this._getToken(),n=e?{Authorization:e}:void 0;let i=null;this.nextRequestAbortController!==null&&(i=this.nextRequestAbortController.signal,this.nextRequestAbortController=null),(m=a.headers)!=null&&m["x-client-request-id"]||(a.headers={...a.headers,"x-client-request-id":ul()});const{params:l,headers:c,...u}=this.options.axiosRequestConfig||{};return{params:{user_id:this.userID,connection_id:this._getConnectionID(),api_key:this.key,...a.params,...l||{}},headers:{...n,"stream-auth-type":this.getAuthType(),"X-Stream-Client":this.getUserAgent(),...a.headers,...c||{}},...i?{signal:i}:{},...a.config,...u||{}}}_getToken(){return!this.tokenManager||this.anonymous?null:this.tokenManager.getToken()}_startCleaning(){const a=this;this.cleaningIntervalRef==null&&(this.cleaningIntervalRef=setInterval(()=>{for(const e of Object.values(a.activeChannels))e.clean()},500))}verifyWebhook(a,e){return!!this.secret&&qP(a,this.secret,e)}getPermission(a){return this.get(`${this.baseURL}/permissions/${encodeURIComponent(a)}`)}createPermission(a){return this.post(`${this.baseURL}/permissions`,{...a})}updatePermission(a,e){return this.put(`${this.baseURL}/permissions/${encodeURIComponent(a)}`,{...e})}deletePermission(a){return this.delete(`${this.baseURL}/permissions/${encodeURIComponent(a)}`)}listPermissions(){return this.get(`${this.baseURL}/permissions`)}createRole(a){return this.post(`${this.baseURL}/roles`,{name:a})}listRoles(){return this.get(`${this.baseURL}/roles`)}deleteRole(a){return this.delete(`${this.baseURL}/roles/${encodeURIComponent(a)}`)}sync(a,e,n={}){return this.post(`${this.baseURL}/sync`,{channel_cids:a,last_sync_at:e,...n})}async sendUserCustomEvent(a,e){return await this.post(`${this.baseURL}/users/${encodeURIComponent(a)}/event`,{event:e})}createBlockList(a){return this.post(`${this.baseURL}/blocklists`,a)}listBlockLists(a){return this.get(`${this.baseURL}/blocklists`,a)}getBlockList(a,e){return this.get(`${this.baseURL}/blocklists/${encodeURIComponent(a)}`,e)}updateBlockList(a,e){return this.put(`${this.baseURL}/blocklists/${encodeURIComponent(a)}`,e)}deleteBlockList(a,e){return this.delete(`${this.baseURL}/blocklists/${encodeURIComponent(a)}`,e)}exportChannels(a,e={}){const n={channels:a,...e};return this.post(`${this.baseURL}/export_channels`,n)}exportUsers(a){return this.post(`${this.baseURL}/export/users`,a)}exportChannel(a,e){return this.exportChannels([a],e)}getExportChannelStatus(a){return this.get(`${this.baseURL}/export_channels/${encodeURIComponent(a)}`)}campaign(a,e){return a&&typeof a=="object"?new Nv(this,null,a):new Nv(this,a,e)}segment(a,e,n){return typeof e=="string"?new cx(this,a,e,n):new cx(this,a,null,e)}validateServerSideAuth(){if(!this.secret)throw new Error("Campaigns is a server-side only feature. Please initialize the client with a secret to use this feature.")}createSegment(a,e,n){this.validateServerSideAuth();const i={id:e,type:a,...n};return this.post(this.baseURL+"/segments",i)}createUserSegment(a,e){return this.validateServerSideAuth(),this.createSegment("user",a,e)}createChannelSegment(a,e){return this.validateServerSideAuth(),this.createSegment("channel",a,e)}getSegment(a){return this.validateServerSideAuth(),this.get(this.baseURL+`/segments/${encodeURIComponent(a)}`)}updateSegment(a,e){return this.validateServerSideAuth(),this.put(this.baseURL+`/segments/${encodeURIComponent(a)}`,e)}addSegmentTargets(a,e){this.validateServerSideAuth();const n={target_ids:e};return this.post(this.baseURL+`/segments/${encodeURIComponent(a)}/addtargets`,n)}querySegmentTargets(a,e={},n=[],i={}){return this.validateServerSideAuth(),this.post(this.baseURL+`/segments/${encodeURIComponent(a)}/targets/query`,{filter:e||{},sort:n||[],...i})}removeSegmentTargets(a,e){this.validateServerSideAuth();const n={target_ids:e};return this.post(this.baseURL+`/segments/${encodeURIComponent(a)}/deletetargets`,n)}querySegments(a,e,n={}){return this.validateServerSideAuth(),this.post(this.baseURL+"/segments/query",{filter:a,sort:e,...n})}deleteSegment(a){return this.validateServerSideAuth(),this.delete(this.baseURL+`/segments/${encodeURIComponent(a)}`)}segmentTargetExists(a,e){return this.validateServerSideAuth(),this.get(this.baseURL+`/segments/${encodeURIComponent(a)}/target/${encodeURIComponent(e)}`)}createCampaign(a){return this.validateServerSideAuth(),this.post(this.baseURL+"/campaigns",{...a})}getCampaign(a,e){return this.validateServerSideAuth(),this.get(this.baseURL+`/campaigns/${encodeURIComponent(a)}`,{...e==null?void 0:e.users})}startCampaign(a,e){return this.validateServerSideAuth(),this.post(this.baseURL+`/campaigns/${encodeURIComponent(a)}/start`,{scheduled_for:e==null?void 0:e.scheduledFor,stop_at:e==null?void 0:e.stopAt})}async queryCampaigns(a,e,n){return this.validateServerSideAuth(),await this.post(this.baseURL+"/campaigns/query",{filter:a,sort:e,...n||{}})}updateCampaign(a,e){return this.validateServerSideAuth(),this.put(this.baseURL+`/campaigns/${encodeURIComponent(a)}`,e)}deleteCampaign(a){return this.validateServerSideAuth(),this.delete(this.baseURL+`/campaigns/${encodeURIComponent(a)}`)}stopCampaign(a){return this.validateServerSideAuth(),this.post(this.baseURL+`/campaigns/${encodeURIComponent(a)}/stop`)}enrichURL(a){return this.get(this.baseURL+"/og",{url:a})}getTask(a){return this.get(`${this.baseURL}/tasks/${encodeURIComponent(a)}`)}async deleteChannels(a,e={}){return await this.post(this.baseURL+"/channels/delete",{cids:a,...e})}async deleteUsers(a,e={}){if(typeof e.user<"u"&&!["soft","hard","pruning"].includes(e.user))throw new Error("Invalid delete user options. user must be one of [soft hard pruning]");if(typeof e.conversations<"u"&&!["soft","hard"].includes(e.conversations))throw new Error("Invalid delete user options. conversations must be one of [soft hard]");if(typeof e.messages<"u"&&!["soft","hard","pruning"].includes(e.messages))throw new Error("Invalid delete user options. messages must be one of [soft hard pruning]");return await this.post(this.baseURL+"/users/delete",{user_ids:a,...e})}async _createImportURL(a){return await this.post(this.baseURL+"/import_urls",{filename:a})}async _createImport(a,e={mode:"upsert"}){return await this.post(this.baseURL+"/imports",{path:a,...e})}async _getImport(a){return await this.get(this.baseURL+`/imports/${encodeURIComponent(a)}`)}async _listImports(a){return await this.get(this.baseURL+"/imports",a)}async upsertPushProvider(a){return await this.post(this.baseURL+"/push_providers",{push_provider:a})}async deletePushProvider({type:a,name:e}){return await this.delete(this.baseURL+`/push_providers/${encodeURIComponent(a)}/${encodeURIComponent(e)}`)}async listPushProviders(){return await this.get(this.baseURL+"/push_providers")}createAbortControllerForNextRequest(){return this.nextRequestAbortController=new AbortController}async commitMessage(a){return await this.post(this.baseURL+`/messages/${encodeURIComponent(a)}/commit`)}async createPoll(a,e){return await this.post(this.baseURL+"/polls",{...a,...e?{user_id:e}:{}})}async getPoll(a,e){return await this.get(this.baseURL+`/polls/${encodeURIComponent(a)}`,e?{user_id:e}:{})}async updatePoll(a,e){return await this.put(this.baseURL+"/polls",{...a,...e?{user_id:e}:{}})}async partialUpdatePoll(a,e,n){return await this.patch(this.baseURL+`/polls/${encodeURIComponent(a)}`,{...e,...n?{user_id:n}:{}})}async deletePoll(a,e){return await this.delete(this.baseURL+`/polls/${encodeURIComponent(a)}`,{...e?{user_id:e}:{}})}closePoll(a,e){return this.partialUpdatePoll(a,{set:{is_closed:!0}},e)}async createPollOption(a,e,n){return await this.post(this.baseURL+`/polls/${encodeURIComponent(a)}/options`,{...e,...n?{user_id:n}:{}})}async getPollOption(a,e,n){return await this.get(this.baseURL+`/polls/${encodeURIComponent(a)}/options/${encodeURIComponent(e)}`,n?{user_id:n}:{})}async updatePollOption(a,e,n){return await this.put(this.baseURL+`/polls/${encodeURIComponent(a)}/options`,{...e,...n?{user_id:n}:{}})}async deletePollOption(a,e,n){return await this.delete(this.baseURL+`/polls/${encodeURIComponent(a)}/options/${encodeURIComponent(e)}`,n?{user_id:n}:{})}async castPollVote(a,e,n,i){return await this.post(this.baseURL+`/messages/${encodeURIComponent(a)}/polls/${encodeURIComponent(e)}/vote`,{vote:n,...i?{user_id:i}:{}})}addPollAnswer(a,e,n,i){return this.castPollVote(a,e,{answer_text:n},i)}async removePollVote(a,e,n,i){return await this.delete(this.baseURL+`/messages/${encodeURIComponent(a)}/polls/${encodeURIComponent(e)}/vote/${encodeURIComponent(n)}`,{...i?{user_id:i}:{}})}async queryPolls(a={},e=[],n={},i){const l=i?`?user_id=${i}`:"";return await this.post(this.baseURL+`/polls/query${l}`,{filter:a,sort:ha(e),...n})}async queryPollVotes(a,e={},n=[],i={},l){const c=l?`?user_id=${l}`:"";return await this.post(this.baseURL+`/polls/${encodeURIComponent(a)}/votes${c}`,{filter:e,sort:ha(n),...i})}async queryPollAnswers(a,e={},n=[],i={},l){const c=l?`?user_id=${l}`:"";return await this.post(this.baseURL+`/polls/${encodeURIComponent(a)}/votes${c}`,{filter:{...e,is_answer:!0},sort:ha(n),...i})}async queryMessageHistory(a={},e=[],n={}){return await this.post(this.baseURL+"/messages/history",{filter:a,sort:ha(e),...n})}async updateFlags(a,e,n={}){return await this.post(this.baseURL+"/automod/v1/moderation/update_flags",{message_ids:a,reviewed_by:e,...n})}async queryDrafts(a={}){const e={...a,sort:a.sort?ha(a.sort):void 0};return await this.post(this.baseURL+"/drafts/query",e)}};const i5=(t,a)=>{const[e,n]=v.useState([]),[i,l]=v.useState([]),[c,u]=v.useState(!0),[m,h]=v.useState(null),[f,y]=v.useState(null),b=v.useRef(null),w=v.useRef(null),E=v.useCallback(async(C=!1)=>{w.current&&w.current.abort(),w.current=new AbortController;try{C||u(!0);const[I,N]=await Promise.all([Ga.getPendingProposals(t,a),Ga.getSentProposals(t,a)]);w.current.signal.aborted||(n(I.filter(k=>k.status==="pending")),l(N.filter(k=>["pending","countered"].includes(k.status))),h(null),y(new Date))}catch(I){if(I.name==="AbortError")return;h(I.message),C||(n([]),l([]))}finally{w.current.signal.aborted||u(!1)}},[t,a]);v.useEffect(()=>{if(t&&a)return E(),b.current=setInterval(()=>{E(!0)},3e4),()=>{b.current&&clearInterval(b.current),w.current&&w.current.abort()}},[t,a,E]);const _=v.useCallback(()=>{E()},[E]),S=v.useCallback((C,I="add")=>{I==="add"?l(N=>[C,...N]):I==="update"?(n(N=>N.map(k=>k._id===C._id?C:k)),l(N=>N.map(k=>k._id===C._id?C:k))):I==="remove"&&(n(N=>N.filter(k=>k._id!==C._id)),l(N=>N.filter(k=>k._id!==C._id))),y(new Date)},[]);return{pendingProposals:e,sentProposals:i,loading:c,error:m,lastUpdate:f,refetch:_,updateProposalLocally:S}},hL=void 0,gL="frbcaplgmailcom";function yL(t){if(!t)return"";const a=new Date(t),e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),i=a.getFullYear();return`${e}-${n}-${i}`}function Hc(t){if(!t)return"";const a=new Date(t),e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");return`${a.getFullYear()}-${e}-${n}`}function bL(t){let a=t.trim();a=a.replace(/(\d{1,2}):(\d{2})\s*(am|pm)/i,(n,i,l,c)=>`${parseInt(i,10)}:${l} ${c.toUpperCase()}`),a=a.replace(/^(\d{1,2})(\d{2})(am|pm)$/i,(n,i,l,c)=>`${parseInt(i,10)}:${l} ${c.toUpperCase()}`),a=a.replace(/^(\d{1,2})(am|pm)$/i,(n,i,l)=>`${parseInt(i,10)}:00 ${l.toUpperCase()}`),a=a.replace(/(am|pm)$/i," $1"),a=a.replace(/(am|pm)$/i,n=>n.toUpperCase());const e=a.match(/^(\d{1,2}):(\d{2}) (AM|PM)$/i);if(e){const n=e[1],i=e[2],l=e[3].toUpperCase(),c=`${n}:${i} ${l}`;return console.log("normalizeTimeString final:",c),c}return console.log("normalizeTimeString fallback:",a),a}function Ju(t){return t.replace(/[^a-zA-Z0-9]/g,"")}async function vL({senderEmail:t,senderName:a,receiverEmail:e,receiverName:n,matchName:i}){try{const l=ay.getInstance(hL),c=await fetch(`${ke}/token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:Ju(t)})}),{token:u}=await c.json();if(!u)throw new Error("Could not get chat token");l.userID||await l.connectUser({id:Ju(t),name:a},u);const m=Array.from(new Set([Ju(t),Ju(e),gL])),h=l.channel("messaging",{members:m,name:i});await h.create(),await h.sendMessage({text:"Chat created for your match proposal!"})}catch(l){console.error("Failed to create chat channel:",l),alert("Failed to create chat channel: "+l.message)}}const vg=`This is a BETA test match. Matches that are created, scheduled, and confirmed will NOT be played.

`,xL=t=>t.replace(/[]/g,"-").replace(/\s*-\s*/g," - ").trim();function zp({player:t,day:a,slot:e,onClose:n,senderName:i,senderEmail:l,onProposalComplete:c,selectedDivision:u,phase:m}){console.log("MatchProposalModal player prop:",t),console.log("MatchProposalModal phase prop:",m),console.log("MatchProposalModal slot prop:",e,JSON.stringify(e));const[h,f]=v.useState(e),[y,b]=v.useState(""),[w,E]=v.useState(""),[_,S]=v.useState(""),[C,I]=v.useState(!1),[N,k]=v.useState("8 Ball"),[M,T]=v.useState(m==="scheduled"||m==="challenge"?5:7),q=t.locations?t.locations.split(/\r?\n/).map(V=>V.trim()).filter(Boolean):[],z=cN(a),[G,K]=v.useState(z),ie=t.availability[a]||[],Z=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][G.getDay()],O=v.useMemo(()=>{if(!e)return[];const V=xL(e);if(console.log("DEBUG: normalized slot:",V),!V.includes(" - "))return[];let[P,j]=V.split(" - ").map(W=>bL(W.trim()));if(console.log("DEBUG: blockStart:",P,"blockEnd:",j),!P||!j)return[];const J=O0(P,j,30);return console.log("DEBUG: generated times:",J),J},[e]);v.useEffect(()=>{b("")},[e]);const{sentProposals:R}=i5(i,u);function A(V){return R.some(P=>P.receiverName===(V.player?`${V.player.firstName} ${V.player.lastName}`:V.opponentName)&&P.date===Hc(G)&&P.time===y&&P.location===w&&P.phase===m&&P.divisions&&P.divisions.includes(u)&&["pending","countered"].includes(P.status))}t.opponents&&t.opponents.filter(V=>!A(V));const F=()=>{if(!l||!t.email||!y||!w||!G){alert("Please fill in all required fields.");return}if(m==="scheduled"){const P=new Date,j=new Date(G),J=Math.ceil((j-P)/(1e3*60*60*24));if(J<0){alert(" You cannot schedule a match in the past.");return}if(J<=2&&!window.confirm(` WARNING: This match is scheduled for ${J} day(s) from now.

Phase 1 matches must be completed by the end of week 6. Scheduling this close to the deadline may not give enough time to complete the match.

Do you want to continue with this schedule?`))return}const V={senderEmail:l,senderName:i,receiverEmail:t.email,receiverName:t.firstName?`${t.firstName} ${t.lastName}`:t.name,date:Hc(G),time:y,location:w,message:_,gameType:N,raceLength:M,phase:m,divisions:[u]};console.log("Proposal data to send:",V),fetch(`${ke}/api/proposals`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)}).then(P=>P.json()).then(P=>{if(console.log("Backend response:",P),P.error)throw new Error(P.error);if(vL({senderEmail:l,senderName:i,receiverEmail:t.email,receiverName:t.firstName?`${t.firstName} ${t.lastName}`:t.name,matchName:`${i} vs ${t.firstName?`${t.firstName} ${t.lastName}`:t.name} - ${yL(G)}`}),fN({to_email:t.email,to_name:t.firstName?`${t.firstName} ${t.lastName}`:t.name,from_name:i,from_email:l,day:Z,date:Hc(G),time:y,location:w,note:_,gameType:N,raceLength:M,proposalId:P.proposalId}),I(!0),c){const j={_id:P.proposalId,senderEmail:l,senderName:i,receiverEmail:t.email,receiverName:t.firstName?`${t.firstName} ${t.lastName}`:t.name,date:Hc(G),time:y,location:w,message:_,gameType:N,raceLength:M,phase:m,divisions:[u],status:"pending",createdAt:new Date};c(j)}}).catch(P=>{console.error("Failed to send proposal:",P),alert("Failed to send proposal: "+P.message)})},Q=()=>{I(!1),n(),c&&c()};return r.createElement(r.Fragment,null,r.createElement(xn,{open:!0,onClose:n,title:r.createElement("span",{className:cn["match-proposal-title"]},"Propose a Match - BETA"),maxWidth:"500px",className:"proposal-modal"},r.createElement("div",{className:cn["match-proposal-content"]},r.createElement("div",{style:{display:"flex",justifyContent:"center",gap:12,marginBottom:12}},r.createElement("div",{className:cn["match-proposal-phase"]},r.createElement("b",null,r.createElement("span",{style:{color:"#fff"}},m==="scheduled"?"Phase 1:":m==="challenge"?"Phase 2:":""),r.createElement("span",{className:cn["match-proposal-label-red"],style:{marginLeft:4}},m==="scheduled"?"Scheduled Match Phase":m==="challenge"?"Challenge Phase":""))),r.createElement("div",{className:cn["match-proposal-division"]},r.createElement("b",null,r.createElement("span",{style:{color:"#fff"}},"Division:"))," ",r.createElement("span",{className:cn["match-proposal-label-red"]},u))),r.createElement("div",{className:cn["match-proposal-row"],style:{marginBottom:10}},r.createElement("b",null,"To Opponent:"),r.createElement("div",{className:cn.opponentName,style:{fontWeight:"bold",fontSize:"1.25rem",margin:"2px 0"}},t.firstName?`${t.firstName} ${t.lastName}`:t.name),r.createElement("span",{style:{color:"#fff",fontSize:"1rem"}},"Day: "),r.createElement("span",{className:cn["match-proposal-day-value"],style:{color:"#e53e3e",fontWeight:600}},Z)),r.createElement("div",{className:cn["match-proposal-row"],style:{marginBottom:10}},r.createElement("b",null,"Date:"),r.createElement(qE,{selected:G,onChange:V=>K(V),dateFormat:"MM-dd-yyyy",className:cn["match-proposal-date-input"],required:!0})),r.createElement("div",{className:cn["match-proposal-row"],style:{marginBottom:10}},r.createElement("b",null,"Time Block:"),r.createElement("select",{className:cn["match-proposal-select"],value:h,onChange:V=>f(V.target.value)},r.createElement("option",{value:""},"Select time block"),ie.map((V,P)=>r.createElement("option",{key:P,value:V},V)))),r.createElement("div",{className:cn["match-proposal-row"],style:{marginBottom:10}},r.createElement("b",null,"Start Time:"),r.createElement("select",{className:cn["match-proposal-select"],value:y,onChange:V=>b(V.target.value)},r.createElement("option",{value:""},"Select..."),O.map((V,P)=>r.createElement("option",{key:P,value:V},V)))),r.createElement("div",{className:cn["match-proposal-row"],style:{marginBottom:10}},r.createElement("b",null,"Game Type:"),r.createElement("select",{className:cn["match-proposal-select"],value:N,onChange:V=>k(V.target.value)},r.createElement("option",{value:"8 Ball"},"8 Ball"),r.createElement("option",{value:"9 Ball"},"9 Ball"),r.createElement("option",{value:"10 Ball"},"10 Ball"),r.createElement("option",{value:"Mixed"},"Mixed"))),r.createElement("div",{className:cn["match-proposal-row"],style:{marginBottom:10}},r.createElement("b",null,"Race Length:"),r.createElement("select",{className:cn["match-proposal-select"],value:M,onChange:V=>T(Number(V.target.value))},m==="scheduled"||m==="challenge"?r.createElement("option",{value:5},"5"):[...Array(13)].map((V,P)=>{const j=P+3;return r.createElement("option",{key:j,value:j},j)}))),r.createElement("div",{className:cn["match-proposal-row"],style:{marginBottom:10}},r.createElement("b",null,"Location:"),r.createElement("select",{className:cn["match-proposal-location-select"],value:w,onChange:V=>E(V.target.value)},r.createElement("option",{value:""},"Select..."),q.map((V,P)=>r.createElement("option",{key:P,value:V},V)))),r.createElement("div",{className:cn["match-proposal-row"],style:{marginBottom:10}},r.createElement("b",null,"Message to Opponent:"),r.createElement("textarea",{className:cn["match-proposal-textarea"],value:vg+_,onChange:V=>{const P=V.target.value;P.startsWith(vg)?S(P.slice(vg.length)):S("")},placeholder:"Add a comment to your opponent...",rows:5})),r.createElement("button",{className:cn["match-proposal-send-btn"],onClick:F,disabled:!y||!w},"Send Proposal"))),C&&r.createElement(sE,{open:C,onClose:Q,message:`Your match proposal has been sent to ${t.firstName?`${t.firstName} ${t.lastName}`:t.name}.
          They will receive an email notification and can respond through the app.`,phase:m,gameType:N,raceLength:M,day:Z,date:Hc(G),time:y,location:w,proposalNote:_}))}async function EL(t){try{if(!t)return console.warn("No division selected for standings"),[];const a=t.replace(/[^A-Za-z0-9]/g,"_"),e=`${ke}/static/standings_${a}.json`,n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch standings: ${n.status}`);const i=await n.json();if(!Array.isArray(i))return console.error("Standings data is not an array:",i),[];const l=i.filter(c=>{if(!c||typeof c!="object")return console.warn("Invalid standings entry:",c),!1;if(!c.name||!c.rank)return console.warn("Standings entry missing name or rank:",c),!1;const u=parseInt(c.rank);return isNaN(u)||u<=0?(console.warn("Invalid rank in standings entry:",c),!1):!0});return console.log(`Loaded ${l.length} valid standings entries for division: ${t}`),l}catch(a){return console.error("Failed to load standings:",a),[]}}function kl(t,a){if(!a||typeof a!="string")return console.warn("getPlayerPosition: playerName is undefined or not a string:",a),null;const e=a.toLowerCase().trim(),n=t.find(i=>i.name&&i.name.toLowerCase().trim()===e);return n?parseInt(n.rank):null}function wL(t,a){return t.sort((e,n)=>{const i=e&&e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:"",l=n&&n.firstName&&n.lastName?`${n.firstName} ${n.lastName}`:"",c=kl(a,i),u=kl(a,l);return c!==null&&u!==null?c-u:c!==null&&u===null?-1:c===null&&u!==null?1:i.localeCompare(l)})}function SL(t,a,e){if(!a||a.length===0)return console.warn("No standings data available for Phase 2 filtering"),t;console.log("=== PHASE 2 FILTERING DEBUG ==="),console.log("Current player name:",e),console.log("Standings data:",a),console.log("All players from sheet:",t.map(l=>`${l.firstName} ${l.lastName}`));const n=kl(a,e);if(n===null)return console.warn(`Player ${e} not found in standings`),console.log("Available standings names:",a.map(l=>l.name)),t;console.log(`Phase 2 filtering: ${e} is at position ${n}`);const i=t.filter(l=>{if(!l||!l.firstName||!l.lastName)return console.warn("Player data incomplete, excluding from Phase 2 filtering:",l),!1;const c=`${l.firstName} ${l.lastName}`,u=kl(a,c);if(u===null)return console.warn(`Opponent ${c} not found in standings - excluding from Phase 2`),!1;const m=u-n,h=m<0&&m>=-4;return console.log(`${c} (${u}) - difference: ${m}, eligible: ${h}`),h});return console.log(`Phase 2 filtering complete: ${i.length} eligible opponents out of ${t.length} total players`),console.log("Eligible players:",i.map(l=>`${l.firstName} ${l.lastName}`)),console.log("=== END PHASE 2 DEBUG ==="),i}function d0({onClose:t,excludeName:a,senderName:e,senderEmail:n,onProposalComplete:i,selectedDivision:l,phase:c}){const[u,m]=v.useState([]),[h,f]=v.useState(""),[y,b]=v.useState(!0),[w,E]=v.useState([]),[_,S]=v.useState("search"),[C,I]=v.useState(null),[N,k]=v.useState(null);v.useEffect(()=>{},[u]),v.useEffect(()=>{let z=!0;async function G(){try{const K=await EL(l);z&&E(K);const ie=await fetch(`${ke}/api/users/search?approved=true`);if(!ie.ok)throw new Error("Failed to fetch players from database");const H=await ie.json();if(!H.users||H.users.length===0){z&&m([]),b(!1);return}let Z=H.users.map(O=>({firstName:O.firstName||"",lastName:O.lastName||"",email:O.email||"",phone:O.phone||"",locations:O.locations||"",availability:O.availability||{Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[],Sun:[]},pin:O.pin||"",preferredContacts:O.preferredContacts||[],division:O.division||"",divisions:O.divisions||[]})).filter(O=>O.email&&O.firstName&&O.lastName&&O.isApproved&&`${O.firstName} ${O.lastName}`.toLowerCase()!==(a==null?void 0:a.toLowerCase()));c==="challenge"&&K.length>0?(console.log(" Phase value:",c),console.log(" Standings data length:",K.length),console.log(" Sender name:",e),Z=SL(Z,K,e),Z=wL(Z,K)):(console.log("   - phase === 'challenge':",c==="challenge"),console.log("   - standingsData.length > 0:",K.length>0),console.log("   - phase value:",c),console.log("   - standingsData length:",K.length)),z&&(m(Z),setTimeout(()=>{},2e3))}catch(K){console.error("Error loading data:",K),z&&m([])}finally{z&&b(!1)}}return G(),()=>{z=!1}},[a,c,e,l]);const M=h.length>=3?u.filter(z=>`${z.firstName} ${z.lastName}`.toLowerCase().includes(h.toLowerCase())&&`${z.firstName} ${z.lastName}`.toLowerCase()!==(a==null?void 0:a.toLowerCase())):[],T=kl(w,e),q=r.createElement(r.Fragment,null,_==="search"&&r.createElement(xn,{open:!0,onClose:t,title:" Player Search",maxWidth:"500px"},c==="challenge"?r.createElement(r.Fragment,null,r.createElement("div",{style:{background:"rgba(229, 62, 62, 0.1)",border:"1px solid #e53e3e",borderRadius:"6px",padding:"1rem",marginBottom:"1.5rem",color:"#fff"}},r.createElement("strong",null,"Phase 2 (Challenge):")," You can only challenge players ranked 4 spots above in the standings.",r.createElement("br",null),r.createElement("span",{style:{fontSize:"1rem",color:"#fff",marginTop:8,display:"block"}},r.createElement("b",null,"Your Position:")," #",T??"N/A"),u.length>0&&r.createElement("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",opacity:.9}},u.length," eligible opponent",u.length!==1?"s":""," available")),y?r.createElement("p",{style:{color:"#fff",textAlign:"center"}},"Loading players..."):r.createElement("div",{style:{maxHeight:"60vh",overflowY:"auto"}},u.length===0?r.createElement("p",{style:{color:"#888",textAlign:"center",fontStyle:"italic"}},"No eligible opponents found within 4 spots above you in the standings."):r.createElement("div",{style:{display:"grid",gap:"8px"}},u.map((z,G)=>{const K=`${z.firstName} ${z.lastName}`,ie=kl(w,K);return r.createElement("button",{key:G,onClick:()=>{I(z),S("availability")},style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"1rem",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseEnter:H=>{H.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",H.target.style.transform="translateY(-2px)",H.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:H=>{H.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",H.target.style.transform="translateY(0)",H.target.style.boxShadow="none"}},r.createElement("span",{style:{fontWeight:"bold",color:"#fff"}},"#",ie??"N/A"," ",K))})))):r.createElement(r.Fragment,null,h.length>=3&&M.length>0&&r.createElement("div",{style:{color:"#e53e3e",fontSize:"0.9rem",marginBottom:"1rem",textAlign:"center"}},"Click opponent's name to see availability."),r.createElement("input",{type:"text",placeholder:"Type at least 3 letters to search...",value:h,onChange:z=>f(z.target.value),autoFocus:!0,"aria-label":"Search for player",style:{width:"100%",padding:"0.75rem",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"6px",fontSize:"1rem",marginBottom:"1rem"}}),y?r.createElement("p",{style:{color:"#fff",textAlign:"center"}},"Loading players..."):r.createElement(r.Fragment,null,h.length<3?r.createElement("p",{style:{color:"#888",textAlign:"center",fontStyle:"italic"}},"Please enter at least 3 letters to search for a player."):r.createElement("div",{style:{maxHeight:"60vh",overflowY:"auto"}},M.length===0?r.createElement("p",{style:{color:"#888",textAlign:"center",fontStyle:"italic"}},"No players found."):r.createElement("div",{style:{display:"grid",gap:"8px"}},M.map((z,G)=>r.createElement("button",{key:G,onClick:()=>{I(z),S("availability")},style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"1rem",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseEnter:K=>{K.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",K.target.style.transform="translateY(-2px)",K.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:K=>{K.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",K.target.style.transform="translateY(0)",K.target.style.boxShadow="none"}},r.createElement(CN,{text:`${z.firstName} ${z.lastName}`,query:h})))))))),_==="availability"&&C&&r.createElement(Dp,{player:C,onClose:t,onProposeMatch:(z,G,K,ie)=>{k({player:C,day:z,slot:G,phase:K,selectedDivision:ie||l}),S("proposal")},phase:c,selectedDivision:l}),_==="proposal"&&N&&r.createElement(r.Fragment,null,r.createElement(zp,{player:N.player,day:N.day,slot:N.slot,onClose:t,senderName:e,senderEmail:n,onProposalComplete:()=>{S("search"),k(null),I(null),i&&i(),t()},phase:N.phase,selectedDivision:N.selectedDivision||l})));return vd.createPortal(q,document.body)}function o5({size:t="medium",color:a="#e53e3e",text:e="Loading...",showText:n=!0,variant:i="default"}){const l={small:"16px",medium:"24px",large:"32px",xlarge:"48px"},c=l[t]||l.medium,u=()=>{switch(i){case"pulse":return r.createElement("div",{style:{width:c,height:c,borderRadius:"50%",background:a,animation:"pulse 1.5s ease-in-out infinite"}});case"dots":return r.createElement("div",{style:{display:"flex",gap:"4px"}},[0,1,2].map(m=>r.createElement("div",{key:m,style:{width:"8px",height:"8px",borderRadius:"50%",background:a,animation:"bounce 1.4s ease-in-out infinite both",animationDelay:`${m*.16}s`}})));case"bars":return r.createElement("div",{style:{display:"flex",gap:"2px"}},[0,1,2,3,4].map(m=>r.createElement("div",{key:m,style:{width:"4px",height:"20px",background:a,animation:"bars 1.2s ease-in-out infinite",animationDelay:`${m*.1}s`}})));default:return r.createElement("div",{style:{width:c,height:c,border:"3px solid rgba(229, 62, 62, 0.2)",borderTop:`3px solid ${a}`,borderRadius:"50%",animation:"spin 1s linear infinite"}})}};return r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",padding:"20px"}},u(),n&&e&&r.createElement("div",{style:{color:a,fontSize:"0.9rem",fontWeight:"500",textAlign:"center",maxWidth:"200px"}},e),r.createElement("style",null,`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
          0%, 100% { 
            transform: scale(0.8);
            opacity: 0.5;
          }
          50% { 
            transform: scale(1);
            opacity: 1;
          }
        }
        
        @keyframes bounce {
          0%, 80%, 100% { 
            transform: scale(0);
          }
          40% { 
            transform: scale(1);
          }
        }
        
        @keyframes bars {
          0%, 40%, 100% { 
            transform: scaleY(0.4);
          }
          20% { 
            transform: scaleY(1);
          }
        }
      `))}function l5({loading:t,children:a,loadingText:e="Loading...",disabled:n=!1,variant:i="default",size:l="medium",...c}){const u={small:{padding:"8px 16px",fontSize:"0.875rem",minHeight:"36px"},medium:{padding:"12px 20px",fontSize:"1rem",minHeight:"48px"},large:{padding:"16px 24px",fontSize:"1.125rem",minHeight:"56px"}},m=u[l]||u.medium;return r.createElement("button",{...c,disabled:t||n,style:{...c.style,...m,position:"relative",opacity:t?.8:1,cursor:t?"not-allowed":"pointer",transition:"all 0.3s ease"}},t?r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}},r.createElement(o5,{size:"small",variant:i,showText:!1,color:"#fff"}),e):a)}function CL({lines:t=3,height:a="20px",width:e="100%",gap:n="8px",variant:i="default"}){const l=c=>{const m=c===t-1?"60%":e;switch(i){case"pulse":return r.createElement("div",{key:c,style:{height:a,width:m,background:"#444",borderRadius:"4px",animation:"pulse 1.5s ease-in-out infinite"}});case"shimmer":return r.createElement("div",{key:c,style:{height:a,width:m,background:"linear-gradient(90deg, #333 25%, #444 50%, #333 75%)",backgroundSize:"200% 100%",borderRadius:"4px",animation:"shimmer 1.5s infinite"}});default:return r.createElement("div",{key:c,style:{height:a,width:m,background:"#333",borderRadius:"4px",opacity:.7}})}};return r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:n,padding:"16px"}},Array.from({length:t}).map((c,u)=>l(u)),r.createElement("style",null,`
        @keyframes pulse {
          0%, 100% { 
            opacity: 0.7;
          }
          50% { 
            opacity: 1;
          }
        }
        
        @keyframes shimmer {
          0% { background-position: -200% 0; }
          100% { background-position: 200% 0; }
        }
      `))}function _L(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-"),m=new Date(parseInt(l),parseInt(c)-1,parseInt(u)),h=String(m.getMonth()+1).padStart(2,"0"),f=String(m.getDate()).padStart(2,"0"),y=m.getFullYear();return`${h}-${f}-${y}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),i=a.getFullYear();return`${e}-${n}-${i}`}function IL({proposal:t,open:a,onClose:e,onEdit:n,onMessage:i}){if(v.useEffect(()=>{a&&setTimeout(()=>{window.dispatchEvent(new Event("resize"))},50)},[a]),!a||!t)return null;const{senderName:l,receiverName:c,day:u,date:m,time:h,location:f,gameType:y,raceLength:b,message:w,proposalNote:E}=t,_=window.innerWidth<=500,[S,C]=v.useState(!1),[I,N]=v.useState("");async function k(){C(!0),N("");try{if(!(await fetch(`${ke}/api/proposals/${t._id}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"confirmed"})})).ok)throw new Error("Failed to confirm proposal");e&&e()}catch(T){N(T.message||"Failed to confirm proposal")}finally{C(!1)}}const M=r.createElement(xn,{open:a,onClose:e,title:" Proposal Details",maxWidth:_?"99vw":"480px"},t.isCounter&&r.createElement("div",{style:{color:"#ff9800",fontWeight:"bold",marginBottom:8,fontSize:"1.05em",textAlign:"center"}},"This is a counter proposal from ",t.counteredBy||"your opponent"),r.createElement("div",{style:{textAlign:"left",marginBottom:_?"0.7rem":"1.5rem",fontSize:_?"0.95rem":"1.05rem",padding:_?"0.2rem 0.2rem":void 0}},r.createElement("div",{className:he.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},r.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"You:"),r.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},l||"N/A")),r.createElement("div",{className:he.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},r.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Opponent:"),r.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},c||"N/A")),u&&r.createElement("div",{className:he.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},r.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Day:"),r.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},u)),r.createElement("div",{className:he.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},r.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Date:"),r.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},_L(m))),r.createElement("div",{className:he.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},r.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Time:"),r.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},h||"N/A")),r.createElement("div",{className:he.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},r.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Location:"),r.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},f||"N/A")),y&&r.createElement("div",{className:he.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},r.createElement(vp,{gameType:y,size:_?12:16}),r.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Game:"),r.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},y)),b&&r.createElement("div",{className:he.modalDetailRowSnazzy,style:{padding:_?"0.2em 0.3em":void 0}},r.createElement("strong",{style:{color:"#e53e3e",minWidth:_?"80px":"120px",fontSize:_?"0.95em":void 0}},"Race:"),r.createElement("span",{style:{color:"#fff",marginLeft:_?"4px":"8px"}},b)),E&&r.createElement("div",{style:{margin:_?"8px 0 0 0":"16px 0 0 0",padding:_?"0.4rem 0.5rem":"0.8rem 1rem",background:"rgba(255, 193, 7, 0.1)",borderLeft:"3px solid #ffc107",borderRadius:"6px",color:"#ffc107",fontSize:_?"0.9rem":"0.95rem",textAlign:"left"}},r.createElement("span",{role:"img","aria-label":"note"},"")," ",r.createElement("strong",null,"Note:"),r.createElement("br",null),E)),r.createElement("div",{style:{display:"flex",gap:_?6:12,justifyContent:"center",marginTop:_?10:24,flexDirection:_?"column":"row",alignItems:_?"stretch":"center"}},n&&r.createElement("button",{className:he.dashboardBtn,onClick:n,style:{background:"#e53e3e",color:"#fff",minWidth:_?"90px":"120px",fontSize:_?"0.95em":void 0,padding:_?"0.5em 0.7em":void 0}},"Edit"),i&&r.createElement("button",{className:he.dashboardBtn,onClick:i,style:{background:"#007bff",color:"#fff",minWidth:_?"90px":"120px",fontSize:_?"0.95em":void 0,padding:_?"0.5em 0.7em":void 0}},"Msg"),t.isCounter&&t.status==="countered"&&r.createElement(l5,{className:he.dashboardBtn,onClick:k,loading:S,loadingText:"Confirming...",disabled:S,style:{background:"#43a047",color:"#fff",minWidth:_?"90px":"120px",fontSize:_?"0.95em":void 0,padding:_?"0.5em 0.7em":void 0}},"Confirm"),r.createElement("button",{className:he.dashboardBtn,onClick:e,style:{background:"#6c757d",color:"#fff",minWidth:_?"90px":"120px",fontSize:_?"0.95em":void 0,padding:_?"0.5em 0.7em":void 0}},"Close")),I&&r.createElement("div",{style:{color:"red",marginTop:8}},I));return vd.createPortal(M,document.body)}function xg(t){const a=t.getFullYear(),e=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return`${a}-${e}-${n}`}function kL(t){const e=t.trim().replace(/\s+/g,"").toLowerCase().match(/^(\d{1,2})(:\d{2})?(am|pm)$/);if(e){const i=e[1],l=e[2]?e[2]:":00",c=e[3].toUpperCase();return`${i}${l} ${c}`}const n=t.trim().match(/^(\d{1,2})(:\d{2})?\s?(am|pm)$/i);if(n){const i=n[1],l=n[2]?n[2]:":00",c=n[3].toUpperCase();return`${i}${l} ${c}`}return t.trim()}const NL=t=>t.replace(/[]/g,"-").replace(/\s*-\s*/g," - ").trim();function AL({proposal:t,open:a,onClose:e,onSave:n,selectedDivision:i,phase:l,receiverPlayer:c}){var P;const[u,m]=v.useState(new Date),[h,f]=v.useState(""),[y,b]=v.useState(""),[w,E]=v.useState(""),[_,S]=v.useState(""),[C,I]=v.useState(""),[N,k]=v.useState(""),[M,T]=v.useState(""),[q,z]=v.useState(!1);v.useEffect(()=>{if(t&&a){if(t.date){const[j,J,W]=t.date.split("-");m(new Date(parseInt(j),parseInt(J)-1,parseInt(W)))}f(t.time||""),E(t.location||""),S(t.message||""),I(t.gameType||""),k(t.raceLength||"")}},[t,a]);const K=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][u.getDay()],H=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][u.getDay()],Z=((P=c==null?void 0:c.availability)==null?void 0:P[H])||[];console.log("EditProposalModal - Receiver player:",c),console.log("EditProposalModal - Selected day short:",H),console.log("EditProposalModal - Opponent time blocks:",Z);const O=["6:00 PM - 8:00 PM","8:00 PM - 10:00 PM","10:00 PM - 12:00 AM"],R=Z.length>0?Z:O;console.log("EditProposalModal - Available time blocks:",R);const A=!c&&a,F=r.useMemo(()=>{if(!h)return console.log("EditProposalModal - No time selected:",h),[];console.log("EditProposalModal - Selected time block:",h);const j=NL(h);if(console.log("EditProposalModal - Normalized slot:",j),!j.includes(" - "))return console.log("EditProposalModal - No dash found in normalized slot"),[];let[J,W]=j.split(" - ").map(X=>kL(X.trim()));if(console.log("EditProposalModal - Normalized times:",{blockStart:J,blockEnd:W}),!J||!W)return console.log("EditProposalModal - Failed to normalize times"),[];const re=O0(J,W,30);return console.log("EditProposalModal - Generated start times:",re),console.log("EditProposalModal - Times array length:",re.length),re},[h]);v.useEffect(()=>{b("")},[h]);const Q=async()=>{if(!y||!w){T("Please fill in all required fields.");return}z(!0),T("");try{const j=await fetch(`${ke}/api/proposals/${t._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:xg(u),time:y,location:w,message:_,gameType:C,raceLength:N,phase:l,divisions:[i]})}),J=await j.json();if(!j.ok)throw new Error(J.error||"Failed to update proposal");n&&n({...t,date:xg(u),time:y,location:w,message:_,gameType:C,raceLength:N}),e()}catch(j){T(j.message||"Failed to update proposal")}finally{z(!1)}};if(!a||!t)return null;const V=r.createElement(xn,{open:a,onClose:e,title:" Edit Proposal",maxWidth:"400px"},r.createElement("div",{className:he.proposalModalContent,style:{width:"100%",maxWidth:400,margin:"0 auto"}},r.createElement("div",{className:he.proposalModalHeaderBar},r.createElement("span",{className:he.phasePill},"Phase 1: Scheduled Match Phase"),r.createElement("span",{className:he.divisionPill},"Division: ",i||"N/A")),r.createElement("div",{className:he.proposalModalToRow},r.createElement("span",{className:he.toOpponentLabel},"To Opponent:"),r.createElement("span",{className:he.toOpponentName},t.receiverName)),r.createElement("div",{className:he.proposalModalDayRow},r.createElement("span",{className:he.dayLabel},"Day:"),r.createElement("span",{className:he.dayValue},K)),r.createElement("div",{className:he.formGroup,style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement("label",{htmlFor:"proposal-date",style:{marginBottom:4,textAlign:"center"}},"Date"),r.createElement("input",{id:"proposal-date",type:"date",value:xg(u),onChange:j=>{const[J,W,re]=j.target.value.split("-");m(new Date(parseInt(J),parseInt(W)-1,parseInt(re)))},className:he.input,required:!0,style:{textAlign:"center"}})),r.createElement("div",{className:he.proposalModalFieldRow},r.createElement("span",{className:he.fieldLabel},"Time Block:"),A&&r.createElement("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginBottom:"0.5rem"}}," Opponent availability data not available. Using default time blocks."),c&&Z.length===0&&r.createElement("div",{style:{color:"#ffa500",fontSize:"0.9rem",marginBottom:"0.5rem"}}," No availability for ",K,". Using default time blocks."),r.createElement("select",{value:h,onChange:j=>f(j.target.value),className:he.inputField},r.createElement("option",{value:""},"Select time block"),R.map(j=>r.createElement("option",{key:j,value:j},j)))),r.createElement("div",{className:he.proposalModalFieldRow},r.createElement("span",{className:he.fieldLabel},"Start Time:"),r.createElement("select",{value:y,onChange:j=>b(j.target.value),className:he.inputField},r.createElement("option",{value:""},"Select start time"),F.map(j=>r.createElement("option",{key:j,value:j},j)))),r.createElement("div",{className:he.proposalModalFieldRow},r.createElement("span",{className:he.fieldLabel},"Game Type:"),r.createElement("select",{value:C,onChange:j=>I(j.target.value),className:he.inputField},r.createElement("option",{value:""},"Select game type"),r.createElement("option",{value:"8 Ball"},"8 Ball"),r.createElement("option",{value:"9 Ball"},"9 Ball"),r.createElement("option",{value:"10 Ball"},"10 Ball"),r.createElement("option",{value:"Mixed"},"Mixed"))),r.createElement("div",{className:he.proposalModalFieldRow},r.createElement("span",{className:he.fieldLabel},"Race Length:"),r.createElement("select",{value:N,onChange:j=>k(j.target.value),className:he.inputField},r.createElement("option",{value:""},"Select race length"),r.createElement("option",{value:"3"},"3"),r.createElement("option",{value:"5"},"5"),r.createElement("option",{value:"7"},"7"),r.createElement("option",{value:"9"},"9"))),r.createElement("div",{className:he.proposalModalFieldRow},r.createElement("span",{className:he.fieldLabel},"Location:"),r.createElement("input",{type:"text",value:w,onChange:j=>E(j.target.value),placeholder:"Enter location",className:he.inputField})),r.createElement("div",{className:he.proposalModalFieldRow},r.createElement("span",{className:he.fieldLabel},"Message to Opponent:"),r.createElement("textarea",{value:_,onChange:j=>S(j.target.value),placeholder:"Message to opponent",rows:3,className:he.inputField})),M&&r.createElement("div",{className:he.errorBox},M),r.createElement("div",{className:he.proposalModalButtonRow},r.createElement("button",{className:he.dashboardBtn,onClick:Q,disabled:q,style:{width:"48%"}},q?"Saving...":"Save Changes"),r.createElement("button",{className:he.dashboardBtn,onClick:e,disabled:q,style:{width:"48%"}},"Cancel"))));return vd.createPortal(V,document.body)}const DL="_container_qqpwh_3",ML="_header_qqpwh_23",TL="_headerButtons_qqpwh_57",RL="_newChatButton_qqpwh_69",PL="_closeButton_qqpwh_101",LL="_content_qqpwh_133",BL="_conversationsList_qqpwh_147",OL="_loading_qqpwh_181",zL="_emptyState_qqpwh_193",UL="_startChatButton_qqpwh_215",FL="_conversationItems_qqpwh_245",WL="_conversationItem_qqpwh_245",HL="_active_qqpwh_283",jL="_conversationInfo_qqpwh_293",YL="_conversationName_qqpwh_303",qL="_lastMessage_qqpwh_321",$L="_conversationMeta_qqpwh_345",GL="_timestamp_qqpwh_361",ZL="_unreadBadge_qqpwh_379",VL="_messagesArea_qqpwh_407",QL="_messagesHeader_qqpwh_421",XL="_messagesList_qqpwh_447",JL="_messageItem_qqpwh_465",KL="_myMessage_qqpwh_475",e9="_theirMessage_qqpwh_483",t9="_messageBubble_qqpwh_491",n9="_messageContent_qqpwh_527",a9="_messageTime_qqpwh_539",r9="_readStatus_qqpwh_563",s9="_noConversation_qqpwh_571",i9="_messageInput_qqpwh_591",o9="_sendButton_qqpwh_647",l9="_playerList_qqpwh_769",c9="_playerItem_qqpwh_781",d9="_selected_qqpwh_807",u9="_playerName_qqpwh_817",m9="_modalActions_qqpwh_847",p9="_cancelButton_qqpwh_861",f9="_startButton_qqpwh_893",h9="_error_qqpwh_939",vt={container:DL,header:ML,headerButtons:TL,newChatButton:RL,closeButton:PL,content:LL,conversationsList:BL,loading:OL,emptyState:zL,startChatButton:UL,conversationItems:FL,conversationItem:WL,active:HL,conversationInfo:jL,conversationName:YL,lastMessage:qL,conversationMeta:$L,timestamp:GL,unreadBadge:ZL,messagesArea:VL,messagesHeader:QL,messagesList:XL,messageItem:JL,myMessage:KL,theirMessage:e9,messageBubble:t9,messageContent:n9,messageTime:a9,readStatus:r9,noConversation:s9,messageInput:i9,sendButton:o9,playerList:l9,playerItem:c9,selected:d9,playerName:u9,modalActions:m9,cancelButton:p9,startButton:f9,error:h9};console.log("DirectMessagingModal BACKEND_URL in use:",ke);function g9({userName:t,userEmail:a,userPin:e,selectedDivision:n,opponentEmails:i=[],onClose:l}){console.log("Opponent Emails:",i);const[c,u]=v.useState([]),[m,h]=v.useState(null),[f,y]=v.useState([]),[b,w]=v.useState(""),[E,_]=v.useState(!1),[S,C]=v.useState(!1),[I,N]=v.useState(""),[k,M]=v.useState([]),[T,q]=v.useState(!1),[z,G]=v.useState(null),K=v.useRef(null);v.useEffect(()=>{async function A(){try{const Q=await(await fetch(`${ke}/api/users`)).json();Array.isArray(Q)&&M(Q.filter(V=>V.email!==a))}catch(F){console.error("Failed to load players:",F)}}A()},[a]),v.useEffect(()=>{async function A(){_(!0);try{const Q=await(await fetch(`${ke}/api/messages/conversations?user=${encodeURIComponent(a)}`)).json();console.log("Conversations fetch data:",Q),Array.isArray(Q)&&u(Q)}catch(F){console.error("Failed to load conversations:",F),N("Failed to load conversations")}finally{_(!1)}}A()},[a]),v.useEffect(()=>{if(!m){y([]);return}async function A(){try{const Q=await(await fetch(`${ke}/api/messages?user1=${encodeURIComponent(a)}&user2=${encodeURIComponent(m.email)}`)).json();Array.isArray(Q)&&(y(Q),Q.forEach(V=>{V.receiverEmail===a&&!V.read&&fetch(`${ke}/api/messages/${V._id}/read`,{method:"PUT"})}))}catch(F){console.error("Failed to load messages:",F),N("Failed to load messages")}}A()},[m,a]),v.useEffect(()=>{K.current&&K.current.scrollIntoView({behavior:"smooth"})},[f]);const ie=async()=>{if(!b.trim()||!m)return;C(!0),N("");let A=m.email;if(!A){const F=k.find(Q=>Q.name===m.name&&Q.email);F&&(A=F.email)}if(console.log("Sending message to:",A),!A){N("No email found for selected opponent."),C(!1);return}try{const F=await fetch(`${ke}/api/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({senderEmail:a,receiverEmail:A,content:b})});if(console.log("Send response:",F),!F.ok)throw new Error("Failed to send message");w("");const V=await(await fetch(`${ke}/api/messages?user1=${encodeURIComponent(a)}&user2=${encodeURIComponent(A)}`)).json();Array.isArray(V)&&y(V)}catch(F){N(F.message||"Failed to send message")}finally{C(!1)}},H=async()=>{z&&(h(z),q(!1),G(null))},Z=A=>A.unreadCount||0,O=A=>{const F=new Date(A),V=(new Date-F)/(1e3*60*60);return V<24?F.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):V<48?"Yesterday":F.toLocaleDateString()},R=k.filter(A=>i.length>0?i.includes(A.name):n?Array.isArray(A.divisions)?A.divisions.includes(n):typeof A.divisions=="string"?A.divisions.split(",").map(F=>F.trim()).includes(n):!1:!0).sort((A,F)=>{const Q=`${A.name||""}`.trim().toLowerCase(),V=`${F.name||""}`.trim().toLowerCase();return Q.localeCompare(V)});return r.createElement("div",{className:vt.container},r.createElement("div",{className:vt.header},r.createElement("h2",null,"Direct Messages"),r.createElement("div",{className:vt.headerButtons},r.createElement("button",{className:vt.newChatButton,onClick:()=>q(!0),type:"button"}," New Chat"),r.createElement("button",{className:vt.closeButton,onClick:l,type:"button"},""))),r.createElement("div",{className:vt.content},r.createElement("div",{className:vt.conversationsList},r.createElement("h3",null,"Conversations"),E?r.createElement("div",{className:vt.loading},"Loading conversations..."):c.length===0?r.createElement("div",{className:vt.emptyState},r.createElement("p",null,"No conversations yet"),r.createElement("button",{className:vt.startChatButton,onClick:()=>q(!0),type:"button"},"Start a conversation")):r.createElement("div",{className:vt.conversationItems},c.map(A=>r.createElement("div",{key:A.email,className:`${vt.conversationItem} ${(m==null?void 0:m.email)===A.email?vt.active:""}`,onClick:()=>h(A)},r.createElement("div",{className:vt.conversationInfo},r.createElement("div",{className:vt.conversationName},A.name||A.email),r.createElement("div",{className:vt.lastMessage},A.lastMessage||"No messages yet")),r.createElement("div",{className:vt.conversationMeta},r.createElement("div",{className:vt.timestamp},A.lastMessageTime?O(A.lastMessageTime):""),Z(A)>0&&r.createElement("div",{className:vt.unreadBadge},Z(A))))))),r.createElement("div",{className:vt.messagesArea},m?r.createElement(r.Fragment,null,r.createElement("div",{className:vt.messagesHeader},r.createElement("h3",null,"Chat with ",m.name||m.email)),r.createElement("div",{className:vt.messagesList},f.map(A=>r.createElement("div",{key:A._id,className:`${vt.messageItem} ${A.senderEmail===a?vt.myMessage:vt.theirMessage}`},r.createElement("div",{className:vt.messageBubble},r.createElement("div",{className:vt.messageContent},A.content),r.createElement("div",{className:vt.messageTime},O(A.timestamp),A.senderEmail===a&&r.createElement("span",{className:vt.readStatus},A.read?"":""))))),r.createElement("div",{ref:K})),r.createElement("div",{className:vt.messageInput},r.createElement("input",{type:"text",value:b,onChange:A=>w(A.target.value),onKeyDown:A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),ie())},placeholder:"Type a message...",disabled:S}),r.createElement("button",{onClick:ie,disabled:S||!b.trim(),className:vt.sendButton,type:"button"},"Send"))):r.createElement("div",{className:vt.noConversation},r.createElement("p",null,"Select a conversation to start messaging")))),T&&r.createElement(xn,{open:T,onClose:()=>{q(!1),G(null)},title:"Start New Conversation",maxWidth:"400px"},r.createElement("button",{style:{position:"absolute",top:10,right:10,background:"none",border:"none",color:"#fff",fontSize:24,cursor:"pointer",zIndex:10001},onClick:()=>{q(!1),G(null)},"aria-label":"Close",type:"button"},""),r.createElement("div",{className:vt.playerList},R.map(A=>r.createElement("div",{key:A._id||A.email,className:`${vt.playerItem} ${(z==null?void 0:z.email)===A.email?vt.selected:""}`,onClick:()=>G(A)},r.createElement("div",{className:vt.playerName},A.name?A.name:A.email)))),r.createElement("div",{className:vt.modalActions},r.createElement("button",{onClick:()=>{q(!1),G(null)},className:vt.cancelButton,type:"button"},"Cancel"),r.createElement("button",{onClick:H,disabled:!z,className:vt.startButton,type:"button"},"Start Chat"))),I&&r.createElement("div",{className:vt.error},I))}const y9="_customChannelHeader_1kvzt_1",b9="_customChannelHeaderIcon_1kvzt_51",v9="_customChannelHeaderTitle_1kvzt_61",x9="_customChannelHeaderDate_1kvzt_71",E9="_customChannelHeaderOnline_1kvzt_83",w9="_customChannelHeaderOnlineLabel_1kvzt_97",S9="_customChannelHeaderNone_1kvzt_109",C9="_customChannelHeaderAvatar_1kvzt_119",Si={customChannelHeader:y9,customChannelHeaderIcon:b9,customChannelHeaderTitle:v9,customChannelHeaderDate:x9,customChannelHeaderOnline:E9,customChannelHeaderOnlineLabel:w9,customChannelHeaderNone:S9,customChannelHeaderAvatar:C9};function _9(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-"),m=new Date(parseInt(l),parseInt(c)-1,parseInt(u)),h=String(m.getMonth()+1).padStart(2,"0"),f=String(m.getDate()).padStart(2,"0"),y=m.getFullYear();return`${h}-${f}-${y}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),i=a.getFullYear();return`${e}-${n}-${i}`}function I9(t){if(!t)return"";const a=t.trim().split(" ");if(a.length===1){const e=a[0].split(/[^a-zA-Z0-9]/).filter(Boolean);return e.length>1?(e[0][0]+e[1][0]).toUpperCase():a[0].slice(0,2).toUpperCase()}return(a[0][0]+a[a.length-1][0]).toUpperCase()}function k9({channel:t,currentUser:a}){var c,u,m;const e=((c=t==null?void 0:t.data)==null?void 0:c.name)||(t==null?void 0:t.id)||"General Chat",n=(u=t==null?void 0:t.data)==null?void 0:u.matchDate,i=a==null?void 0:a.id,l=(m=t==null?void 0:t.state)!=null&&m.members?Object.values(t.state.members).filter(h=>{var f,y;return((f=h.user)==null?void 0:f.online)||((y=h.user)==null?void 0:y.id)===i}).map(h=>{var f,y;return((f=h.user)==null?void 0:f.name)||((y=h.user)==null?void 0:y.id)}).filter(Boolean):[(a==null?void 0:a.name)||(a==null?void 0:a.id)].filter(Boolean);return r.createElement("div",{className:Si.customChannelHeader,style:{width:"100%",margin:"0",borderRadius:"0",marginTop:"0",marginBottom:"0"}},r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",width:"100%"}},r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.8em",fontSize:"1.1em",textAlign:"center",width:"100%"}},r.createElement("span",{className:Si.customChannelHeaderIcon},""),r.createElement("span",{style:{textAlign:"center"}},"You're in the"," ",r.createElement("span",{className:Si.customChannelHeaderTitle},'"',e,'"')," ","channel."),n&&r.createElement("span",{className:Si.customChannelHeaderDate},"Match Date: ",_9(n))),r.createElement("div",{className:Si.customChannelHeaderOnline},r.createElement("span",{className:Si.customChannelHeaderOnlineLabel},"Online:"),l.length===0&&r.createElement("span",{className:Si.customChannelHeaderNone},"No one online"),l.map(h=>r.createElement("span",{key:h,className:Si.customChannelHeaderAvatar,title:h},I9(h))))))}var Eg={exports:{}},wg,fx;function N9(){if(fx)return wg;fx=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wg=t,wg}var Sg,hx;function A9(){if(hx)return Sg;hx=1;var t=N9();function a(){}function e(){}return e.resetWarningCache=a,Sg=function(){function n(c,u,m,h,f,y){if(y!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}n.isRequired=n;function i(){return n}var l={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:e,resetWarningCache:a};return l.PropTypes=l,l},Sg}var gx;function D9(){return gx||(gx=1,Eg.exports=A9()()),Eg.exports}var M9=D9();const U=gp(M9),c5={async getUser(t){return Ln.get(`/api/users/${encodeURIComponent(t)}`)},async syncUsers(){return Ln.post("/admin/sync-users")}};class T9{async getCurrentSeason(a){try{const e=await fetch(`${ke}/api/seasons/current/${encodeURIComponent(a)}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){return console.error("Error fetching current season:",e),null}}async getCurrentPhaseAndWeek(a){try{const e=await fetch(`${ke}/api/seasons/phase/${encodeURIComponent(a)}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){return console.error("Error fetching current phase and week:",e),{currentWeek:null,phase:"offseason",isActive:!1,season:null}}}async getAllSeasons(a){try{const e=await fetch(`${ke}/api/seasons/${encodeURIComponent(a)}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){return console.error("Error fetching all seasons:",e),[]}}isMatchWithinPhase1Deadline(a,e){if(!e||!e.phase1End)return!0;const n=new Date(a),i=new Date(e.phase1End);return n<=i}getDaysUntilPhase1Deadline(a){if(!a||!a.phase1End)return null;const e=new Date,i=new Date(a.phase1End)-e;return Math.ceil(i/(1e3*60*60*24))}hasPhase1DeadlinePassed(a){if(!a||!a.phase1End)return!1;const e=new Date,n=new Date(a.phase1End);return e>n}hasPhase2Started(a){if(!a||!a.phase2Start)return!1;const e=new Date,n=new Date(a.phase2Start);return e>=n}getDaysUntilPhase2Deadline(a){if(!a||!a.phase2End)return null;const e=new Date,i=new Date(a.phase2End)-e;return Math.ceil(i/(1e3*60*60*24))}hasPhase2DeadlinePassed(a){if(!a||!a.phase2End)return!1;const e=new Date,n=new Date(a.phase2End);return e>n}getCurrentPhaseFromDates(a){if(!a)return"offseason";const e=new Date,n=new Date(a.phase1Start),i=new Date(a.phase1End),l=new Date(a.phase2Start),c=new Date(a.phase2End);return e<n?"offseason":e>=n&&e<=i?"scheduled":e>=l&&e<=c?"challenge":e>c?"completed":"transition"}}const Ls=new T9;function R9({userName:t,userEmail:a,userPin:e,onClose:n,fromChat:i=!1}){const[l,c]=v.useState([]),[u,m]=v.useState(!0),[h,f]=v.useState(""),[y,b]=v.useState("scheduled"),[w,E]=v.useState(!1),[_,S]=v.useState(!1),[C,I]=v.useState(!1),[N,k]=v.useState(!1),[M,T]=v.useState(null),[q,z]=v.useState(null),[G,K]=v.useState([]),[ie,H]=v.useState([]),[Z,O]=v.useState(!1);v.useEffect(()=>{a&&c5.getUser(a).then(j=>{let J=[];Array.isArray(j.divisions)?J=j.divisions.map(W=>W.trim()).filter(Boolean):typeof j.divisions=="string"?J=j.divisions.split(",").map(W=>W.trim()).filter(Boolean):J=[],c(J),m(!1)}).catch(()=>{c([]),m(!1)})},[a]);const R=async j=>{O(!0);try{const J=`schedule_${j.replace(/[^A-Za-z0-9]/g,"_")}.json`,W=Date.now(),re=`${ke}/static/${J}?t=${W}`,X=await fetch(re,{method:"GET",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(!X.ok)throw new Error("Schedule not found");const me=await X.json();K(me);const Ce=await fetch(`${ke}/api/users/search?approved=true&division=${encodeURIComponent(j)}`,{method:"GET",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(!Ce.ok)throw new Error("Players not found");const Se=await Ce.json();H(Se.users||[])}catch(J){console.error("Failed to load schedule data:",J),K([]),H([])}finally{O(!1)}},A=async j=>{f(j);try{const J=await Ls.getCurrentPhaseAndWeek(j),W=(J==null?void 0:J.phase)||"scheduled";b(W),W==="scheduled"||W==="offseason"?(await R(j),E(!0)):S(!0)}catch(J){console.error("Error fetching phase data:",J),S(!0)}},F=()=>{if(!G.length||!ie.length||!h)return[];const j=`${t}`,J=[];for(const X of G)if(X.player1&&X.player2&&!X.scheduled){const me=X.player1.trim(),Ce=X.player2.trim();(me.toLowerCase()===j.toLowerCase()||Ce.toLowerCase()===j.toLowerCase())&&J.push(X)}const W=ie.filter(X=>X.divisions&&X.divisions.includes(h));return J.map(X=>{var Se,st;const me=X.player1&&X.player1.trim().toLowerCase()===j.toLowerCase()?(Se=X.player2)==null?void 0:Se.trim():(st=X.player1)==null?void 0:st.trim();if(!me)return null;const Ce=W.find(ye=>ye.name&&ye.name.trim().toLowerCase()===me.toLowerCase());return{match:X,player:Ce,opponentName:me}}).filter(Boolean)},Q=async j=>{const W=ie.filter(re=>re.divisions&&re.divisions.includes(h)).find(re=>re.name&&re.name.trim().toLowerCase()===j.trim().toLowerCase());if(!W){alert("Player data not found for: "+j);return}if(!W.email){alert("This opponent does not have an email on file and cannot be proposed a match.");return}if(i){try{const re=await fetch(`${ke}/api/users/search?approved=true`);if(!re.ok)throw new Error("Failed to fetch players from database");const me=(await re.json()).users.find(Ce=>`${Ce.firstName} ${Ce.lastName}`.trim().toLowerCase()===j.trim().toLowerCase());if(me){const Ce=typeof me.availability=="string"?Hg(me.availability):me.availability,Se={...me,availability:Ce};T(Se)}else T(W)}catch(re){console.error("Error fetching detailed player data:",re),T(W)}E(!1),I(!0)}else E(!1),S(!0)},V=(j,J,W,re)=>{z({day:j,slot:J,phase:W,division:re,opponent:M}),I(!1),k(!0)},P=()=>{E(!1),S(!1),I(!1),k(!1),T(null),z(null),f(""),n()};return u?r.createElement(xn,{open:!0,onClose:n,title:"Loading Divisions...",maxWidth:"500px"},r.createElement("div",{style:{textAlign:"center",padding:"2rem"}},r.createElement("p",null,"Please wait while we load your divisions..."))):l.length===0?r.createElement(xn,{open:!0,onClose:n,title:"No Divisions Found",maxWidth:"500px"},r.createElement("div",{style:{textAlign:"center",padding:"2rem"}},r.createElement("p",null,"You are not registered for any divisions. Please contact an administrator."),r.createElement("button",{onClick:n,style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"0.8rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",marginTop:"1rem"},onMouseEnter:j=>{j.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",j.target.style.transform="translateY(-2px)",j.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:j=>{j.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",j.target.style.transform="translateY(0)",j.target.style.boxShadow="none"}},"Close"))):r.createElement(r.Fragment,null,!w&&!_&&r.createElement(xn,{open:!0,onClose:n,title:"Select Division",maxWidth:"500px"},r.createElement("div",{style:{maxHeight:"60vh",overflowY:"auto"}},r.createElement("p",{style:{color:"#fff",textAlign:"center",marginBottom:"1.5rem",fontSize:"1rem"}},"Choose a division to schedule a match:"),r.createElement("div",{style:{display:"grid",gap:"12px"}},l.map(j=>r.createElement("button",{key:j,onClick:()=>A(j),style:{background:"linear-gradient(135deg, #232323 0%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"8px",padding:"1rem 1.5rem",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:J=>{J.target.style.background="linear-gradient(135deg, #e53e3e 0%, #c00 100%)",J.target.style.transform="translateY(-2px)",J.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.3)"},onMouseLeave:J=>{J.target.style.background="linear-gradient(135deg, #232323 0%, #2a0909 100%)",J.target.style.transform="translateY(0)",J.target.style.boxShadow="none"}}," ",j))))),w&&(Z?r.createElement(xn,{open:!0,onClose:P,title:"Loading Opponents...",maxWidth:"500px"},r.createElement("div",{style:{textAlign:"center",padding:"2rem"}},r.createElement("p",null,"Please wait while we load your scheduled opponents..."))):r.createElement(KE,{open:w,onClose:P,opponents:F(),onOpponentClick:Q,phase:y})),_&&r.createElement(d0,{onClose:P,excludeName:t,senderName:t,senderEmail:a,onProposalComplete:()=>{P()},selectedDivision:h,phase:y}),C&&M&&r.createElement(Dp,{open:C,onClose:P,player:M,senderName:t,senderEmail:a,selectedDivision:h,onProposeMatch:V,phase:y}),N&&q&&r.createElement(zp,{open:N,onClose:P,player:q.opponent,day:q.day,slot:q.slot,senderName:t,senderEmail:a,selectedDivision:q.division,phase:q.phase,onProposalComplete:()=>{P()}}))}const P9="_outerChatBg_whq3p_29",L9="_chatContainer_whq3p_85",B9="_topNavBar_whq3p_125",O9="_chatGreeting_whq3p_169",z9="_buttonRow_whq3p_193",U9="_topChatButton_whq3p_207",F9="_logoutWithTimer_whq3p_297",W9="_timerBox_whq3p_311",H9="_sectionHeader_whq3p_339",j9="_collapsed_whq3p_421",Y9="_sectionContent_whq3p_455",q9="_expanded_whq3p_485",$9="_channelListRow_whq3p_499",G9="_announcements_whq3p_499",Z9="_divisions_whq3p_509",V9="_gameButton_whq3p_561",Q9="_mainChatArea_whq3p_597",X9="_mainChatWindow_whq3p_615",J9="_poolBackground_whq3p_675",K9="_chatContent_whq3p_749",eB="_sidebar_whq3p_763",tB="_hamburgerButton_whq3p_817",nB="_hamburgerIcon_whq3p_865",aB="_sidebarBackdrop_whq3p_875",rB="_closeSidebarButton_whq3p_901",sB="_mobileNavButtons_whq3p_949",iB="_mobileNavButton_whq3p_949",oB="_mobileTimerBox_whq3p_1011",lB="_generalChannelRow_whq3p_1037",cB="_active_whq3p_1129",dB="_pulse_whq3p_1",uB="_channelListName_whq3p_1183",mB="_pinIcon_whq3p_1225",pB="_channelIcon_whq3p_1247",fB="_pinned_whq3p_1273",hB="_noPinnedChannels_whq3p_1283",gB="_noChannelsFound_whq3p_1285",yB="_sidebarSearch_whq3p_1307",bB="_channelListWrapper_whq3p_1387",vB="_customMessageUi_whq3p_1431",xB="_onlineDot_whq3p_1469",EB="_online_whq3p_1469",wB="_messageContent_whq3p_1525",SB="_messageUsername_whq3p_1543",CB="_messageText_whq3p_1563",_B="_loadingContainer_whq3p_1583",IB="_spinner_whq3p_1597",kB="_spin_whq3p_1597",NB="_open_whq3p_1739",AB="_messagesArea_whq3p_1981",DB="_messageInputContainer_whq3p_1989",MB="_messageInput_whq3p_1989",TB="_sendButton_whq3p_2011",RB="_messageItem_whq3p_2151",PB="_messageItemLeft_whq3p_2797",LB="_messageItemRight_whq3p_2807",BB="_messageListBackground_whq3p_2821",OB="_poolTableImg_whq3p_2851",zB="_poolTableSvg_whq3p_2853",UB="_channelNamePreview_whq3p_2881",FB="_messageHeader_whq3p_3825",WB="_messageAuthor_whq3p_3839",HB="_messageTime_whq3p_3853",jB="_chatHeader_whq3p_4091",YB="_chatMessages_whq3p_4101",qB="_message_whq3p_1525",$B="_sent_whq3p_4207",GB="_received_whq3p_4219",ZB="_messageSender_whq3p_4273",VB="_sending_whq3p_4797",QB="_error_whq3p_4813",XB="_typingIndicator_whq3p_4825",JB="_messageGroup_whq3p_4847",KB="_scrollToBottom_whq3p_4925",lt={outerChatBg:P9,chatContainer:L9,topNavBar:B9,chatGreeting:O9,buttonRow:z9,topChatButton:U9,logoutWithTimer:F9,timerBox:W9,sectionHeader:H9,collapsed:j9,sectionContent:Y9,expanded:q9,channelListRow:$9,announcements:G9,divisions:Z9,"game-rooms":"_game-rooms_whq3p_519",gameButton:V9,mainChatArea:Q9,mainChatWindow:X9,poolBackground:J9,chatContent:K9,sidebar:eB,hamburgerButton:tB,hamburgerIcon:nB,sidebarBackdrop:aB,closeSidebarButton:rB,mobileNavButtons:sB,mobileNavButton:iB,mobileTimerBox:oB,generalChannelRow:lB,active:cB,pulse:dB,channelListName:uB,pinIcon:mB,channelIcon:pB,pinned:fB,noPinnedChannels:hB,noChannelsFound:gB,sidebarSearch:yB,channelListWrapper:bB,customMessageUi:vB,onlineDot:xB,online:EB,messageContent:wB,messageUsername:SB,messageText:CB,loadingContainer:_B,spinner:IB,spin:kB,"str-chat__send-button":"_str-chat__send-button_whq3p_1629",open:NB,messagesArea:AB,messageInputContainer:DB,messageInput:MB,sendButton:TB,messageItem:RB,messageItemLeft:PB,messageItemRight:LB,messageListBackground:BB,poolTableImg:OB,poolTableSvg:zB,"str-chat__main-panel":"_str-chat__main-panel_whq3p_2869",channelNamePreview:UB,"str-chat":"_str-chat_whq3p_1629","str-chat__container":"_str-chat__container_whq3p_2933","str-chat__messenger":"_str-chat__messenger_whq3p_2943","str-chat__messenger--main":"_str-chat__messenger--main_whq3p_2953","str-chat__messenger--main-panel":"_str-chat__messenger--main-panel_whq3p_2963","str-chat__messenger--main-panel-inner":"_str-chat__messenger--main-panel-inner_whq3p_2973","str-chat__messenger--main-panel-inner-content":"_str-chat__messenger--main-panel-inner-content_whq3p_2983","str-chat__messenger--main-panel-inner-content-inner":"_str-chat__messenger--main-panel-inner-content-inner_whq3p_2993","str-chat__messenger--main-panel-inner-content-inner-inner":"_str-chat__messenger--main-panel-inner-content-inner-inner_whq3p_3003","str-chat__message-list":"_str-chat__message-list_whq3p_3015","str-chat__input-flat--wrapper":"_str-chat__input-flat--wrapper_whq3p_3025","str-chat__input-flat":"_str-chat__input-flat_whq3p_3025","str-chat__channel-header":"_str-chat__channel-header_whq3p_3047","str-chat__thread":"_str-chat__thread_whq3p_3059","str-chat__window":"_str-chat__window_whq3p_3071","str-chat__channel":"_str-chat__channel_whq3p_3047","str-chat__message":"_str-chat__message_whq3p_3015","str-chat__message-text":"_str-chat__message-text_whq3p_3145","str-chat__message-author":"_str-chat__message-author_whq3p_3159","str-chat__message-timestamp":"_str-chat__message-timestamp_whq3p_3175","str-chat__channel-header-title":"_str-chat__channel-header-title_whq3p_3323","str-chat__channel-header-info":"_str-chat__channel-header-info_whq3p_3345","str-chat__thread-header":"_str-chat__thread-header_whq3p_3365","str-chat__thread-start":"_str-chat__thread-start_whq3p_3377","str-chat__typing-indicator":"_str-chat__typing-indicator_whq3p_3397","str-chat__avatar":"_str-chat__avatar_whq3p_3415","str-chat__avatar-fallback":"_str-chat__avatar-fallback_whq3p_3425","str-chat__channel-list":"_str-chat__channel-list_whq3p_3459","str-chat__channel-list-messenger":"_str-chat__channel-list-messenger_whq3p_3469","str-chat__channel-preview-messenger":"_str-chat__channel-preview-messenger_whq3p_3477","str-chat__channel-preview-messenger--active":"_str-chat__channel-preview-messenger--active_whq3p_3505","str-chat__channel-preview-messenger--title":"_str-chat__channel-preview-messenger--title_whq3p_3517","str-chat__channel-preview-messenger--subtitle":"_str-chat__channel-preview-messenger--subtitle_whq3p_3529",messageHeader:FB,messageAuthor:WB,messageTime:HB,chatHeader:jB,chatMessages:YB,message:qB,sent:$B,received:GB,messageSender:ZB,sending:VB,error:QB,typingIndicator:XB,messageGroup:JB,scrollToBottom:KB},e7={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},dp="nbvut8j4y6se";console.log(" Stream Chat API Key:",dp);console.log(" Environment variables:",e7);console.log(" VITE_STREAM_API_KEY is set:",dp);const t7=ke,yx="general",n7="announcements";let Ku=!1;const a7=["FRBCAPL TEST","Singles Test"],bx={GENERAL:"general",DIVISIONS:"divisions",ANNOUNCEMENTS:"announcements",GAME_ROOMS:"game-rooms"};function vx(t){return t.toLowerCase().replace(/[^a-z0-9_-]/g,"")}const r7=({channel:t})=>{var a;return r.createElement("div",{className:lt.channelNamePreview},((a=t.data)==null?void 0:a.name)||t.id)};function s7(){return JSON.parse(localStorage.getItem("pinnedChannels")||"[]")}function i7(t){localStorage.setItem("pinnedChannels",JSON.stringify(t))}const o7=({pinned:t,onClick:a})=>r.createElement("span",{onClick:a,className:`${lt.pinIcon}${t?" "+lt.pinned:""}`,title:t?"Unpin channel":"Pin channel"},t?"":""),Cg=({children:t,icon:a,sectionKey:e,isCollapsed:n,onToggle:i})=>r.createElement("div",{className:`${lt.sectionHeader} ${n?lt.collapsed:""}`,onClick:()=>i(e)},a&&r.createElement("span",{style:{marginRight:"8px"}},a),t);function d5({userName:t,userEmail:a,userPin:e,channelId:n,onClose:i}){var st;const l=ss(),[c,u]=v.useState(!1),[m,h]=v.useState(null),[f,y]=v.useState(null),[b,w]=v.useState(null),[E,_]=v.useState({}),[S,C]=v.useState([]),[I,N]=v.useState(null),[k,M]=v.useState(s7()),[T,q]=v.useState(!1),[z,G]=v.useState(!1),[K,ie]=v.useState(1800),[H,Z]=v.useState(""),[O,R]=v.useState([]),[A,F]=v.useState(""),[Q,V]=v.useState(!0),[P,j]=v.useState({announcements:!1,divisions:!1,gameRooms:!1});v.useEffect(()=>{if(K<=0){J();return}const ye=setInterval(()=>{ie(Ze=>Ze-1)},1e3);return()=>clearInterval(ye)},[K]),v.useEffect(()=>{if(Ku)return;Ku=!0;let ye=ay.getInstance(dp);console.log(" Using API key for Stream Chat client:",dp);let Ze=!1,qe=!0;async function ct(){var Qe,Rt,pn,Pt;try{if(ye.userID)try{await ye.disconnectUser()}catch{}await new Promise(Ae=>setTimeout(Ae,300));const rn=vx(a),Gn=await fetch(`${t7}/token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:rn})}),{token:tn,userId:ue}=await Gn.json();if(await ye.connectUser({id:ue,name:t,email:a},tn),Ze=!0,!qe)return;h(ye);const Ke=ye.channel("messaging",yx,{name:"General Chat",description:"General discussion for all players"});let Ye=0,wt=!1;for(;Ye<3&&!wt;)try{await Ke.watch({limit:100}),wt=!0,console.log("Successfully loaded general channel with",((Qe=Ke.state.messages)==null?void 0:Qe.length)||0,"messages")}catch(Ae){Ye++,console.log(`Retry ${Ye} for general channel:`,Ae.message),Ye>=3?(console.error("Failed to load general channel after 3 retries, but continuing..."),wt=!0):await new Promise(et=>setTimeout(et,1e3))}const te=ye.channel("messaging",n7,{name:" Announcements",description:"Important announcements and updates"});try{await te.watch({limit:100}),console.log("Successfully loaded announcements channel with",((Rt=te.state.messages)==null?void 0:Rt.length)||0,"messages")}catch(Ae){console.error("Error loading announcements channel:",Ae)}const Pe={};for(const Ae of a7){const et=vx(Ae),dt=ye.channel("messaging",`division-${et}`,{name:` ${Ae}`,description:`Discussion for ${Ae} players`,category:bx.DIVISIONS});try{await dt.watch({limit:100}),Pe[Ae]=dt,console.log(`Successfully loaded division channel ${Ae} with`,((pn=dt.state.messages)==null?void 0:pn.length)||0,"messages")}catch(Jt){console.error(`Error loading division channel ${Ae}:`,Jt),Pe[Ae]=dt}}const He=[];for(let Ae=1;Ae<=5;Ae++){const et=`game-room-${Ae}`,dt=ye.channel("messaging",et,{name:` Game Room ${Ae}`,description:`Multiplayer game room ${Ae} - for future online play`,category:bx.GAME_ROOMS});try{await dt.watch({limit:100}),He.push(dt),console.log(`Successfully loaded game room ${Ae} with`,((Pt=dt.state.messages)==null?void 0:Pt.length)||0,"messages")}catch(Jt){console.error(`Error loading game room ${Ae}:`,Jt),He.push(dt)}}qe&&(console.log("Setting channels:",{general:Ke,announcements:te,divisions:Object.keys(Pe),gameRooms:He.length}),y(Ke),w(te),_(Pe),C(He),setTimeout(()=>{qe&&(console.log("Setting general channel as active"),N(Ke),V(!1))},100))}catch(rn){console.error("Error initializing chat:",rn),qe&&V(!1)}finally{Ku=!1}}return ct(),()=>{if(qe=!1,ye&&Ze)try{ye.disconnectUser()}catch{}Ku=!1}},[a,t]),v.useEffect(()=>{i7(k)},[k]),v.useEffect(()=>{var ye;if(I){console.log("Channel changed to:",I.id,((ye=I.state.messages)==null?void 0:ye.length)||0,"messages");const Ze=I.state.messages||[];R(Ze);const qe=Qe=>{console.log("New message received in channel:",I.id);const Rt=I.state.messages||[];R([...Rt])},ct=()=>{console.log("Channel state updated:",I.id);const Qe=I.state.messages||[];R([...Qe])};return I.on("message.new",qe),I.on("message.updated",ct),I.on("message.deleted",ct),()=>{I.off("message.new",qe),I.off("message.updated",ct),I.off("message.deleted",ct)}}else f&&!I?(console.log("Fallback: setting general channel"),N(f)):R([])},[I,f]);function J(){m&&m.disconnectUser(),localStorage.clear(),i?i():(l("/"),window.location.reload())}function W(){G(!0)}const re=async()=>{if(A.trim()&&I)try{const ye=await I.sendMessage({text:A});F("")}catch(ye){console.error("Error sending message:",ye)}},X=ye=>{ye.key==="Enter"&&!ye.shiftKey&&(ye.preventDefault(),re())};if(Q)return r.createElement("div",{className:lt.loadingContainer},r.createElement("div",{className:lt.spinner}),r.createElement("div",null,"Loading chat...Please wait"));(st=m==null?void 0:m.user)==null||st.id;const me=Math.floor(K/60),Ce=K%60,Se=(ye,Ze=null)=>!ye||!ye.cid?null:r.createElement("div",{key:ye.cid,className:`${lt.channelListRow} ${Ze?lt[Ze]:""} ${(I==null?void 0:I.id)===ye.id?lt.active:""}`,onClick:()=>{N(ye),u(!1)}},r.createElement("div",{className:lt.channelListName},r.createElement(r7,{channel:ye})),r.createElement(o7,{pinned:k.includes(ye.id),onClick:qe=>{qe.stopPropagation();let ct;k.includes(ye.id)?ct=k.filter(Qe=>Qe!==ye.id):ct=[...k,ye.id],M(ct)}}));return r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},r.createElement("div",{style:{background:"linear-gradient(120deg, #232323 80%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:"1rem",boxShadow:"0 0 32px #e53e3e, 0 0 40px rgba(0,0,0,0.85)",width:"90vw",maxWidth:"1000px",height:"80vh",maxHeight:"600px",display:"flex",flexDirection:"column",position:"relative"}},r.createElement("button",{className:lt.hamburgerButton,onClick:()=>u(!0),"aria-label":"Open channel list"},r.createElement("span",{className:lt.hamburgerIcon},"")),c&&r.createElement("div",{className:lt.sidebarBackdrop,onClick:()=>u(!1)}),r.createElement("div",{style:{padding:"1rem",borderBottom:"2px solid #e53e3e",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"}},r.createElement("h2",{style:{margin:0,color:"#fff",fontSize:"1.5rem",fontWeight:"bold"}},"League Chat - ",t),r.createElement("button",{onClick:i||(()=>l("/")),style:{position:"absolute",right:"1rem",background:"none",border:"none",color:"#fff",fontSize:"2rem",cursor:"pointer",padding:"0.5rem"}},"")),r.createElement("div",{style:{flex:1,display:"flex",minHeight:0}},r.createElement("div",{style:{width:"250px",backgroundColor:"linear-gradient(180deg, #1a1a1a 0%, #2a2a2a 100%)",borderRight:"2px solid #e53e3e",overflowY:"auto",padding:"1rem",boxShadow:"inset -2px 0 8px rgba(0,0,0,0.3)"}},r.createElement("button",{className:lt.closeSidebarButton,onClick:()=>u(!1),"aria-label":"Close channel list"},""),r.createElement("div",{className:lt.mobileNavButtons},r.createElement("button",{className:lt.mobileNavButton,onClick:()=>{i?i():(l("/"),window.location.reload()),u(!1)}}," Dashboard"),r.createElement("button",{className:lt.mobileNavButton,onClick:()=>{W(),u(!1)}}," Schedule a Match"),r.createElement("button",{className:lt.mobileNavButton,onClick:()=>{J(),u(!1)}}," Logout"),r.createElement("div",{className:lt.mobileTimerBox},"Auto Logout: ",me,":",Ce.toString().padStart(2,"0"))),r.createElement("div",{className:`${lt.generalChannelRow}${(I==null?void 0:I.id)===yx||I===f?" "+lt.active:""}`,onClick:()=>{N(f),u(!1)}},r.createElement("span",{style:{marginRight:8}},"#")," General Chat"),r.createElement("div",{className:lt.sidebarSearch},r.createElement("input",{type:"text",placeholder:"Search channels...",value:H,onChange:ye=>Z(ye.target.value)})),r.createElement("div",{className:lt.channelListWrapper},r.createElement(Cg,{icon:"",sectionKey:"announcements",isCollapsed:P.announcements,onToggle:ye=>j(Ze=>({...Ze,[ye]:!Ze[ye]}))},"Announcements"),r.createElement("div",{className:`${lt.sectionContent} ${P.announcements?lt.collapsed:lt.expanded}`},b?Se(b,"announcements"):r.createElement("div",{style:{padding:"8px",color:"#888",fontStyle:"italic"}},"No announcements channel available")),r.createElement(Cg,{icon:"",sectionKey:"divisions",isCollapsed:P.divisions,onToggle:ye=>j(Ze=>({...Ze,[ye]:!Ze[ye]}))},"Division Channels"),r.createElement("div",{className:`${lt.sectionContent} ${P.divisions?lt.collapsed:lt.expanded}`},Object.values(E).length>0?Object.values(E).map(ye=>Se(ye,"divisions")):r.createElement("div",{style:{padding:"8px",color:"#888",fontStyle:"italic"}},"No division channels available")),r.createElement(Cg,{icon:"",sectionKey:"gameRooms",isCollapsed:P.gameRooms,onToggle:ye=>j(Ze=>({...Ze,[ye]:!Ze[ye]}))},"Game Rooms"),r.createElement("div",{className:`${lt.sectionContent} ${P.gameRooms?lt.collapsed:lt.expanded}`},S.length>0?S.map(ye=>Se(ye,"game-rooms")):r.createElement("div",{style:{padding:"8px",color:"#888",fontStyle:"italic"}},"No game room channels available")),r.createElement("div",{className:`${lt.channelListRow} ${lt.gameButton}`,onClick:()=>{l("/tenball"),u(!1)}},r.createElement("span",{style:{marginRight:8}},""),"Play Pool Game"))),r.createElement("div",{className:lt.mainChatWindow,style:{flex:1,display:"flex",flexDirection:"column",position:"relative"}},r.createElement("div",{className:lt.poolBackground},r.createElement(Tm,null)),r.createElement(k9,{channel:I,currentUser:m==null?void 0:m.user}),r.createElement("div",{className:lt.messagesArea,style:{flex:1,overflowY:"auto",paddingBottom:"80px"}},O.map(ye=>{var Qe,Rt,pn,Pt;const Ze=(Qe=ye.user)==null?void 0:Qe.id,qe=(Rt=m==null?void 0:m.user)==null?void 0:Rt.id;let ct=Ze===qe;if(!ct&&Ze&&qe){const rn=Ze.split("_")[0];ct=qe.startsWith(rn)}return r.createElement("div",{key:ye.id,className:`${lt.messageItem} ${ct?lt.messageItemRight:lt.messageItemLeft}`},r.createElement("div",{className:lt.messageHeader},r.createElement("span",{className:lt.messageAuthor},((pn=ye.user)==null?void 0:pn.name)||((Pt=ye.user)==null?void 0:Pt.id)),r.createElement("span",{className:lt.messageTime},new Date(ye.created_at).toLocaleTimeString())),r.createElement("div",{className:lt.messageText},ye.text))})),r.createElement("div",{className:lt.messageInputContainer,style:{position:"absolute",bottom:0,left:0,right:0,zIndex:10}},r.createElement("input",{type:"text",value:A,onChange:ye=>F(ye.target.value),onKeyPress:X,placeholder:"Type your message...",className:lt.messageInput}),r.createElement("button",{onClick:re,className:lt.sendButton,disabled:!A.trim()}," Send"))))),z&&r.createElement(R9,{userName:t,userEmail:a,userPin:e,onClose:()=>G(!1),fromChat:!0}))}const l7=({isMobile:t})=>r.createElement("div",{style:{background:"rgba(0, 0, 0, 0.75)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:t?"12px":"16px",padding:t?"8px":"16px",margin:t?"-15px 0 0 0":"13px auto",width:t?"100%":"90%",maxWidth:t?"none":"1200px",boxShadow:"0 4px 16px rgba(0,0,0,0.3)",backdropFilter:"blur(4px)",height:t?"350px":"400px",position:"relative",overflow:"hidden"}},r.createElement("div",{style:{position:"relative",textAlign:"center",marginBottom:t?"0px":"4px",padding:t?"2px":"4px",borderRadius:"8px",background:"rgba(0, 0, 0, 0.6)",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",minHeight:t?"2.5rem":"3rem"}},r.createElement("div",{style:{display:"inline-block",width:t?"80px":"100px",height:t?"24px":"32px",background:"linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%)",borderRadius:"6px",animation:"shimmer 1.5s infinite",margin:"8px"}}),r.createElement("div",{style:{display:"inline-block",width:t?"60px":"80px",height:t?"20px":"28px",background:"linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%)",borderRadius:"6px",animation:"shimmer 1.5s infinite",margin:"8px"}})),r.createElement("div",{style:{width:t?"200px":"300px",height:t?"16px":"20px",background:"linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%)",borderRadius:"4px",animation:"shimmer 1.5s infinite",margin:"8px auto"}}),r.createElement("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",marginTop:t?"20px":"30px",gap:t?"10px":"20px"}},r.createElement("div",{style:{width:t?"100px":"140px",height:t?"80px":"120px",background:"linear-gradient(90deg, rgba(0,255,0,0.1) 25%, rgba(0,255,0,0.2) 50%, rgba(0,255,0,0.1) 75%)",borderRadius:"12px",animation:"shimmer 1.5s infinite",border:"2px solid rgba(0,255,0,0.3)"}}),r.createElement("div",{style:{width:t?"80px":"140px",height:t?"60px":"100px",background:"linear-gradient(90deg, rgba(52,152,219,0.1) 25%, rgba(52,152,219,0.2) 50%, rgba(52,152,219,0.1) 75%)",borderRadius:"12px",animation:"shimmer 1.5s infinite",border:"2px solid rgba(52,152,219,0.3)"}})),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"stretch",marginTop:t?"20px":"30px",gap:t?"6px":"12px",padding:t?"6px":"8px",borderRadius:"8px",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255,255,255,0.15)"}},r.createElement("div",{style:{flex:1,height:t?"70px":"80px",background:"linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%)",borderRadius:"8px",animation:"shimmer 1.5s infinite"}}),r.createElement("div",{style:{flex:1,height:t?"70px":"80px",background:"linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%)",borderRadius:"8px",animation:"shimmer 1.5s infinite"}}),r.createElement("div",{style:{flex:1,height:t?"70px":"80px",background:"linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%)",borderRadius:"8px",animation:"shimmer 1.5s infinite"}})),r.createElement("div",{style:{display:"flex",gap:t?"8px":"12px",marginTop:t?"10px":"15px"}},r.createElement("div",{style:{flex:t?"0 0 140px":"0 0 200px",height:t?"80px":"100px",background:"linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%)",borderRadius:"8px",animation:"shimmer 1.5s infinite"}}),r.createElement("div",{style:{flex:1,height:t?"80px":"100px",background:"linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%)",borderRadius:"8px",animation:"shimmer 1.5s infinite"}})),r.createElement("style",null,`
        @keyframes shimmer {
          0% {
            background-position: -200px 0;
          }
          100% {
            background-position: calc(200px + 100%) 0;
          }
        }
      `));function _g(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-");return`${c}-${u}-${l}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),i=a.getFullYear();return`${e}-${n}-${i}`}const c7=({currentPhase:t,seasonData:a,completedMatches:e,totalRequiredMatches:n,playerName:i,playerLastName:l,selectedDivision:c,onOpenOpponentsModal:u,onOpenCompletedMatchesModal:m,onOpenStandingsModal:h,onOpenAllMatchesModal:f,pendingCount:y,sentCount:b,onOpenProposalListModal:w,onOpenSentProposalListModal:E,upcomingMatches:_,onMatchClick:S,isMobile:C,onOpenMessageCenter:I,currentUser:N,allPlayers:k,onSmartMatchClick:M,showPhase1Rules:T,setShowPhase1Rules:q,showPhase1Overview:z,setShowPhase1Overview:G,setPlayerStats:K,setTimeLeft:ie,setDeadlineStatus:H,setPhase1EndDate:Z,onOpenCalendar:O})=>{const R=()=>!i||!l?(console.warn("Phase1Tracker: Missing player name information"),!1):c?!e||!Array.isArray(e)?(console.warn("Phase1Tracker: Invalid completedMatches prop"),!1):typeof n!="number"||n<=0?(console.warn("Phase1Tracker: Invalid totalRequiredMatches prop"),!1):!0:(console.warn("Phase1Tracker: Missing selected division"),!1);v.useEffect(()=>{R()},[i,l,c,e,n]);const[A,F]=v.useState(null),[Q,V]=v.useState([]),[P,j]=v.useState(!1),[J,W]=v.useState(!0),[re,X]=v.useState(new Date),[me,Ce]=v.useState(null),[Se,st]=v.useState(null),[ye,Ze]=v.useState("normal"),[qe,ct]=v.useState(null),[Qe,Rt]=v.useState(null);v.useEffect(()=>{if(!c||t!=="scheduled"){st(null),ie(null);return}const te=async()=>{try{const He=c.replace(/[^A-Za-z0-9]/g,"_"),Ae=Date.now(),et=`${ke}/static/schedule_${He}.json?t=${Ae}`,dt=await fetch(et,{method:"GET",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(!dt.ok){console.warn(`Failed to fetch schedule: ${dt.status} - ${dt.statusText}`);return}const Jt=await dt.json();if(!Array.isArray(Jt)||Jt.length===0){console.warn("No schedule data available");return}const Zn=Jt.filter(Xe=>Xe.date).sort((Xe,ut)=>new Date(Xe.date)-new Date(ut.date));if(Zn.length===0){console.warn("No valid matches found in schedule");return}const Hn=Math.min(47,Zn.length-1),An=Zn[Hn];if(!An||!An.date){console.warn("Could not determine Phase 1 end date from schedule");return}const jn=new Date(An.date);jn.setHours(23,59,59,999),ct(jn),Z(jn);const ka=new Date;if(qs(ka,jn)){const Xe={days:0,hours:0,passed:!0};st(Xe),ie(Xe),Ze("passed"),H("passed")}else{const Xe=dE(jn,ka),ut=G3(jn,ka)%24,nn={days:Xe,hours:ut,passed:!1};st(nn),ie(nn),Xe<=0&&ut<=24?(Ze("critical"),H("critical")):Xe<=2?(Ze("urgent"),H("urgent")):Xe<=7?(Ze("warning"),H("warning")):(Ze("normal"),H("normal"))}}catch(He){console.error("Error calculating Phase 1 deadline from schedule:",He)}};te();const Pe=setInterval(te,6e4);return()=>clearInterval(Pe)},[c,t]),v.useEffect(()=>{t==="scheduled"&&c&&e&&(rn(),Gn())},[t,c,e,n,Q]),v.useEffect(()=>{c&&t==="scheduled"&&pn()},[c,t]);const pn=async()=>{try{if(j(!0),!c){console.warn("No division selected for standings");return}const te=c.replace(/[^A-Za-z0-9]/g,"_"),Pe=`${ke}/static/standings_${te}.json`,He=await fetch(Pe);if(!He.ok){console.warn(`Failed to fetch standings: ${He.status} - ${He.statusText}`);return}const Ae=await He.json();if(!Array.isArray(Ae)){console.error("Standings data is not an array:",Ae);return}const et=Ae.filter(dt=>{if(!dt||typeof dt!="object")return console.warn("Invalid standings entry:",dt),!1;if(!dt.name||!dt.rank)return console.warn("Standings entry missing name or rank:",dt),!1;const Jt=parseInt(dt.rank);return isNaN(Jt)||Jt<=0?(console.warn("Invalid rank in standings entry:",dt),!1):!0});V(et)}catch(te){console.error("Failed to load standings:",te)}finally{j(!1)}},Pt=(te,Pe)=>{if(!te||te.length===0)return null;const He=Pe.toLowerCase().trim(),Ae=te.find(et=>et.name.toLowerCase().trim()===He);return Ae?parseInt(Ae.rank):null},rn=()=>{const te=e.length,Pe=n-te,He={completedCount:te,remainingCount:Pe,deadlinePassed:Ls.hasPhase1DeadlinePassed(a)};F(He)},Gn=()=>{let te=0,Pe=0;const He=`${i} ${l}`;e&&e.length>0&&e.forEach(Zn=>{Zn.winner===He?te++:Pe++});const Ae=e&&e.length>0?Math.round(te/(te+Pe)*100):0,et=Pt(Q,He);let dt="N/A";et!==null?dt=`${et}${tn(et)}`:e&&e.length>=1&&(Ae>=80?dt="1st-3rd":Ae>=60?dt="4th-6th":Ae>=40?dt="7th-9th":dt="10th+");const Jt={wins:te,losses:Pe,winRate:Ae,position:dt,actualPosition:et};Rt(Jt),K(Jt)},tn=te=>{const Pe=te%10,He=te%100;return Pe===1&&He!==11?"st":Pe===2&&He!==12?"nd":Pe===3&&He!==13?"rd":"th"};if(P||!Se||!A||t!=="scheduled")return r.createElement(l7,{isMobile:C});const ue=()=>ye==="passed"?"#e74c3c":ye==="critical"?"#ff6b6b":ye==="urgent"?"#ff8800":ye==="warning"?"#ffaa00":"#4CAF50",Ke=()=>{if(ye==="passed")return" DEADLINE PASSED!";if(ye==="critical"){const te=qe?Ca(qe,C?"MMM d":"MMM d, yyyy"):"";return` CRITICAL: ENDS in ${Se.hours} hours! (${te})`}else if(ye==="urgent"){const te=qe?Ca(qe,C?"MMM d":"MMM d, yyyy"):"";return` URGENT: ENDS in ${Se.days} days! (${te})`}else if(ye==="warning"){const te=qe?Ca(qe,C?"MMM d":"MMM d, yyyy"):"";return` WARNING: ENDS in ${Se.days} days. (${te})`}else{const te=qe?Ca(qe,C?"MMM d":"MMM d, yyyy"):"";return`ENDS in ${Se.days} days. (${te})`}},Ye=()=>Math.round(e.length/n*100),wt=ue();return r.createElement("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.85), rgba(20, 20, 20, 0.9), rgba(0, 0, 0, 0.85))",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:C?"16px":"20px",padding:C?"8px 12px 12px 12px":"12px 20px 20px 20px",margin:C?"-15px 0 0 0":"13px auto",width:C?"100%":"98%",maxWidth:C?"none":"1600px",boxShadow:"0 8px 32px rgba(0,0,0,0.4), 0 4px 16px rgba(255,255,255,0.1), inset 0 1px 0 rgba(255,255,255,0.1)",display:"flex",flexDirection:"column",justifyContent:"flex-start",backdropFilter:"blur(8px)",overflow:C?"auto":"hidden",maxHeight:C?"none":"35vh",height:C?J?"350px":"60px":J?"400px":"160px",transition:"height 0.4s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",transform:"none",touchAction:"none"},role:"presentation",tabIndex:"-1"},r.createElement("div",{style:{position:"relative",textAlign:"center",marginBottom:C?"0px":"4px",padding:C?"2px":"4px",borderRadius:"12px",background:"linear-gradient(135deg, rgba(0, 0, 0, 0.7), rgba(20, 20, 20, 0.8))",border:"1px solid rgba(255,255,255,0.15)",boxShadow:"0 4px 16px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1)"}},r.createElement("h3",{style:{margin:0,color:"#ffffff",fontSize:C?"0.8rem":"1.1rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:C?"4px":"6px",flexWrap:"wrap",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",letterSpacing:"0.5px",minHeight:C?"2.5rem":"3rem"}},r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:C?"2px":"6px"}},ye==="critical"&&"",ye==="urgent"&&"",ye==="warning"&&"",ye==="passed"&&"",ye==="normal"&&""),r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:C?"4px":"8px"}},r.createElement("button",{onClick:te=>{te.stopPropagation(),console.log("Smart match button clicked in Phase1Tracker"),console.log("onSmartMatchClick function:",M),M?(console.log("Calling onSmartMatchClick"),M()):console.log("onSmartMatchClick is not defined")},"aria-label":"Open smart match making",role:"button",tabIndex:"0",style:{background:"linear-gradient(135deg, rgba(255, 193, 7, 0.3), rgba(255, 193, 7, 0.2), rgba(255, 193, 7, 0.1))",border:"1px solid rgba(255, 193, 7, 0.4)",color:"#ffffff",fontSize:C?"0.5rem":"0.8rem",fontWeight:"bold",padding:C?"8px 12px":"10px 16px",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",boxShadow:"0 2px 8px rgba(255, 193, 7, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)",zIndex:10},onMouseEnter:te=>{te.target.style.background="linear-gradient(135deg, rgba(255, 193, 7, 0.4), rgba(255, 193, 7, 0.3), rgba(255, 193, 7, 0.2))",te.target.style.transform="scale(1.02) translateY(-1px)",te.target.style.boxShadow="0 4px 12px rgba(255, 193, 7, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)"},onMouseLeave:te=>{te.target.style.background="linear-gradient(135deg, rgba(255, 193, 7, 0.3), rgba(255, 193, 7, 0.2), rgba(255, 193, 7, 0.1))",te.target.style.transform="scale(1) translateY(0)",te.target.style.boxShadow="0 2px 8px rgba(255, 193, 7, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)"}}," SMART MATCH"),r.createElement("span",{onClick:te=>{te.stopPropagation(),G(!0)},style:{fontSize:C?"0.5rem":"0.8rem",background:`linear-gradient(135deg, ${wt}, ${wt}dd, ${wt})`,padding:C?"8px 12px":"10px 16px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.2), 0 0 10px rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.3)",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:te=>{te.target.style.transform="scale(1.02) translateY(-1px)",te.target.style.boxShadow="0 6px 16px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.3), 0 0 15px rgba(255,255,255,0.2)"},onMouseLeave:te=>{te.target.style.transform="scale(1) translateY(0)",te.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.2), 0 0 10px rgba(255,255,255,0.1)"},title:"Click to view Phase 1 overview",role:"button",tabIndex:"0","aria-label":"Open Phase 1 overview"},"PHASE 1"),r.createElement("button",{onClick:te=>{te.stopPropagation(),q(!0)},"aria-label":"Open Phase 1 rules and information",role:"button",tabIndex:"0",style:{background:"linear-gradient(135deg, rgba(255, 68, 68, 0.3), rgba(255, 68, 68, 0.2), rgba(255, 68, 68, 0.1))",border:"1px solid rgba(255, 68, 68, 0.4)",color:"#ffffff",fontSize:C?"0.5rem":"0.8rem",fontWeight:"bold",padding:C?"8px 12px":"10px 16px",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",boxShadow:"0 2px 8px rgba(255, 68, 68, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)",zIndex:10},onMouseEnter:te=>{te.target.style.background="linear-gradient(135deg, rgba(255, 68, 68, 0.4), rgba(255, 68, 68, 0.3), rgba(255, 68, 68, 0.2))",te.target.style.transform="scale(1.02) translateY(-1px)",te.target.style.boxShadow="0 4px 12px rgba(255, 68, 68, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)"},onMouseLeave:te=>{te.target.style.background="linear-gradient(135deg, rgba(255, 68, 68, 0.3), rgba(255, 68, 68, 0.2), rgba(255, 68, 68, 0.1))",te.target.style.transform="scale(1) translateY(0)",te.target.style.boxShadow="0 2px 8px rgba(255, 68, 68, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)"}}," RULES"))),r.createElement("div",{style:{color:"#ffffff",fontSize:C?"0.7rem":"0.95rem",lineHeight:"1.1",marginTop:"2px",marginBottom:C?"2px":"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center"}},Ke()),r.createElement("div",{style:{position:C?"relative":"absolute",left:C?"auto":"15%",top:C?"auto":"50%",transform:C?"none":"translate(-50%, -50%)",cursor:"pointer",fontSize:C?"2.5rem":"3.2rem",transition:"all 0.3s ease",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",minHeight:C?"90px":"140px",lineHeight:1,background:"linear-gradient(135deg, rgba(76, 175, 80, 0.35), rgba(76, 175, 80, 0.3), rgba(76, 175, 80, 0.25))",border:"1px solid rgba(76, 175, 80, 0.7)",padding:C?"4px":"6px",borderRadius:C?"12px":"18px",zIndex:1,boxShadow:"0 2px 8px rgba(76, 175, 80, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)",minWidth:C?"70px":"100px",minHeight:C?"90px":"140px",backdropFilter:"blur(8px)",margin:C?"8px auto":"0"},onClick:()=>{W(!0),O&&O()},"aria-label":"Open calendar to schedule matches by date",role:"button",tabIndex:"0"},r.createElement("div",{style:{fontSize:C?"0.5rem":"0.7rem",color:"#ffffff",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:C?"10px":"14px",textAlign:"center"}},"Today's Date"),r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1}},r.createElement("div",{style:{fontSize:C?"0.8rem":"1.2rem"}},["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date().getDay()]),r.createElement("div",{style:{fontSize:C?"1.2rem":"2rem"}},(()=>{const te=new Date,Pe=String(te.getMonth()+1).padStart(2,"0"),He=String(te.getDate()).padStart(2,"0"),Ae=String(te.getFullYear()).slice(-2);return`${Pe}/${He}/${Ae}`})())),r.createElement("div",{style:{fontSize:C?"0.3rem":"0.65rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.9)",marginTop:"auto",textAlign:"center",whiteSpace:"nowrap",background:"rgba(0, 0, 0, 0.7)",padding:C?"1px 2px":"2px 4px",borderRadius:"4px",border:"1px solid rgba(255, 255, 255, 0.3)"}},C?"Schedule":"Click to Schedule Match by Date")),r.createElement("div",{style:{position:C?"relative":"absolute",right:C?"auto":"15%",top:C?"auto":"50%",transform:C?"none":"translate(50%, -50%)",transition:"all 0.3s ease",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",lineHeight:1,background:"linear-gradient(135deg, rgba(52, 152, 219, 0.15), rgba(52, 152, 219, 0.1), rgba(52, 152, 219, 0.05))",border:"1px solid rgba(52, 152, 219, 0.3)",padding:C?"3px":"5px",borderRadius:C?"10px":"16px",zIndex:1,boxShadow:"0 2px 8px rgba(52, 152, 219, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)",minWidth:C?"70px":"100px",minHeight:C?"90px":"140px",backdropFilter:"blur(8px)",margin:C?"8px auto":"0"},title:"Proposal management - view pending and sent proposals",onMouseEnter:te=>{te.currentTarget.style.background="linear-gradient(135deg, rgba(52, 152, 219, 0.25), rgba(52, 152, 219, 0.2), rgba(52, 152, 219, 0.15))",te.currentTarget.style.boxShadow="0 4px 12px rgba(52, 152, 219, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)",te.currentTarget.style.border="1px solid rgba(52, 152, 219, 0.5)",te.currentTarget.style.transform="translate(50%, -50%) scale(1.02)"},onMouseLeave:te=>{te.currentTarget.style.background="linear-gradient(135deg, rgba(52, 152, 219, 0.15), rgba(52, 152, 219, 0.1), rgba(52, 152, 219, 0.05))",te.currentTarget.style.boxShadow="0 2px 8px rgba(52, 152, 219, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)",te.currentTarget.style.border="1px solid rgba(52, 152, 219, 0.3)",te.currentTarget.style.transform="translate(50%, -50%) scale(1)"}},r.createElement("div",{style:{fontSize:C?"0.6rem":"0.85rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.9)",marginBottom:C?"4px":"8px",textAlign:"center",whiteSpace:"nowrap"}}," Proposals"),r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:C?"3px":"6px",justifyContent:"center",width:"100%"}},r.createElement("button",{onClick:te=>{te.stopPropagation(),w&&w()},style:{background:"rgba(255, 255, 255, 0.1)",color:"#ffffff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:C?"3px 4px":"6px 8px",fontSize:C?"0.5rem":"0.75rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 6px rgba(0,0,0,0.3)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",textShadow:"1px 1px 2px rgba(0,0,0,0.5)",position:"relative",overflow:"hidden"},onMouseEnter:te=>{te.target.style.background="linear-gradient(135deg, rgba(52, 152, 219, 0.3), rgba(52, 152, 219, 0.25), rgba(52, 152, 219, 0.2))",te.target.style.transform="translateY(-1px) scale(1.01)",te.target.style.boxShadow="0 4px 12px rgba(52, 152, 219, 0.4), inset 0 1px 0 rgba(255,255,255,0.2)"},onMouseLeave:te=>{te.target.style.background="rgba(255, 255, 255, 0.1)",te.target.style.transform="translateY(0) scale(1)",te.target.style.boxShadow="0 2px 6px rgba(0,0,0,0.3)"}}," ",y," waiting for you"),r.createElement("button",{onClick:te=>{te.stopPropagation(),E&&E()},style:{background:"rgba(255, 255, 255, 0.1)",color:"#ffffff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:C?"3px 4px":"6px 8px",fontSize:C?"0.5rem":"0.75rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 6px rgba(0,0,0,0.3)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",textShadow:"1px 1px 2px rgba(0,0,0,0.5)",position:"relative",overflow:"hidden"},onMouseEnter:te=>{te.target.style.background="linear-gradient(135deg, rgba(52, 152, 219, 0.3), rgba(52, 152, 219, 0.25), rgba(52, 152, 219, 0.2))",te.target.style.transform="translateY(-1px) scale(1.01)",te.target.style.boxShadow="0 4px 12px rgba(52, 152, 219, 0.4), inset 0 1px 0 rgba(255,255,255,0.2)"},onMouseLeave:te=>{te.target.style.background="rgba(255, 255, 255, 0.1)",te.target.style.transform="translateY(0) scale(1)",te.target.style.boxShadow="0 2px 6px rgba(0,0,0,0.3)"}}," ",b," waiting for opponents"))),r.createElement("div",{style:{color:"#ffffff",fontSize:C?"0.75rem":"0.95rem",fontWeight:"bold",marginTop:C?"4px":"2px",marginBottom:C?"2px":"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",lineHeight:"1.1",textAlign:"center"}},e.length,"/",n," Matches Complete"),r.createElement("div",{style:{color:"#ffffff",fontSize:C?"0.75rem":"0.95rem",fontWeight:"bold",marginTop:"2px",marginBottom:C?"4px":"2px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",lineHeight:"1.1",textAlign:"center"}},n-e.length," to Schedule"),r.createElement("div",{style:{textAlign:"center",marginTop:C?"2px":"4px"}},r.createElement("button",{onClick:te=>{te.stopPropagation(),W(!J)},style:{fontSize:C?"0.5rem":"0.9rem",color:"#ffffff",fontWeight:"bold",cursor:"pointer",padding:C?"1px 3px":"4px 8px",borderRadius:"6px",display:"inline-block",transition:"background-color 0.2s ease",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",background:"transparent",border:"none"}},J?"Hide Stats ":"Show Stats "))),J&&r.createElement(r.Fragment,null,r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"stretch",marginBottom:C?"8px":"4px",gap:C?"6px":"12px",padding:C?"6px":"8px",borderRadius:"8px",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255,255,255,0.15)",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"}},r.createElement("div",{onClick:te=>{te.stopPropagation(),u&&u()},style:{background:"rgba(0, 0, 0, 0.4)",padding:C?"6px":"8px",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",flex:1,textAlign:"center",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:C?"70px":"80px"},onMouseEnter:te=>{te.currentTarget.style.background="linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(76, 175, 80, 0.3))",te.currentTarget.style.transform="translateY(-2px) scale(1.02)",te.currentTarget.style.boxShadow="0 4px 16px rgba(76, 175, 80, 0.3), 0 2px 8px rgba(0,0,0,0.2)",te.currentTarget.style.border="1px solid rgba(76, 175, 80, 0.5)"},onMouseLeave:te=>{te.currentTarget.style.background="rgba(255,255,255,0.08)",te.currentTarget.style.transform="translateY(0) scale(1)",te.currentTarget.style.boxShadow="none",te.currentTarget.style.border="1px solid rgba(255,255,255,0.15)"}},r.createElement("div",{style:{fontSize:C?"0.6rem":"0.8rem",fontWeight:"bold",color:"#e0e0e0",marginBottom:C?"4px":"2px"}},"Progress"),r.createElement("div",{style:{fontSize:C?"0.7rem":"0.9rem",color:"#ffffff",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:C?"3px":"1px"}},e.length,"/",n),r.createElement("div",{style:{width:"100%",height:C?"3px":"6px",background:"rgba(255,255,255,0.15)",borderRadius:"3px",overflow:"hidden",marginBottom:"1px",boxShadow:"inset 0 1px 2px rgba(0,0,0,0.3)"}},r.createElement("div",{style:{width:`${Ye()}%`,height:"100%",background:"linear-gradient(90deg, #4CAF50, #45a049, #4CAF50)",borderRadius:"3px",transition:"width 0.4s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 0 8px rgba(76, 175, 80, 0.5)",position:"relative"}},r.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent)",animation:"shimmer 2s infinite"}}))),r.createElement("div",{style:{fontSize:C?"0.55rem":"0.75rem",color:"#e0e0e0",fontStyle:"italic",textAlign:"center",fontWeight:"500"}},"click to see opponents")),r.createElement("div",{onClick:te=>{te.stopPropagation(),m&&m()},style:{background:"rgba(0, 0, 0, 0.4)",padding:C?"4px":"8px",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",flex:1,textAlign:"center",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"80px"},onMouseEnter:te=>{te.currentTarget.style.background="linear-gradient(135deg, rgba(33, 150, 243, 0.2), rgba(33, 150, 243, 0.3))",te.currentTarget.style.transform="translateY(-2px) scale(1.02)",te.currentTarget.style.boxShadow="0 4px 16px rgba(33, 150, 243, 0.3), 0 2px 8px rgba(0,0,0,0.2)",te.currentTarget.style.border="1px solid rgba(33, 150, 243, 0.5)"},onMouseLeave:te=>{te.currentTarget.style.background="rgba(255,255,255,0.08)",te.currentTarget.style.transform="translateY(0) scale(1)",te.currentTarget.style.boxShadow="none",te.currentTarget.style.border="1px solid rgba(255,255,255,0.15)"}},r.createElement("div",{style:{fontSize:C?"0.35rem":"0.8rem",fontWeight:"bold",color:"#e0e0e0",marginBottom:"1px"}},"Record"),r.createElement("div",{style:{fontSize:C?"0.5rem":"0.9rem",color:"#ffffff",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:"1px"}},(Qe==null?void 0:Qe.wins)||0,"-",(Qe==null?void 0:Qe.losses)||0," (",(Qe==null?void 0:Qe.winRate)||0,"%)"),r.createElement("div",{style:{fontSize:C?"0.4rem":"0.75rem",color:"#e0e0e0",fontStyle:"italic",textAlign:"center",fontWeight:"500"}},"click to see results")),r.createElement("div",{onClick:te=>{te.stopPropagation(),h&&h()},style:{background:"rgba(0, 0, 0, 0.4)",padding:C?"4px":"8px",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",flex:1,textAlign:"center",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"80px"},onMouseEnter:te=>{te.currentTarget.style.background="linear-gradient(135deg, rgba(156, 39, 176, 0.2), rgba(156, 39, 176, 0.3))",te.currentTarget.style.transform="translateY(-2px) scale(1.02)",te.currentTarget.style.boxShadow="0 4px 16px rgba(156, 39, 176, 0.3), 0 2px 8px rgba(0,0,0,0.2)",te.currentTarget.style.border="1px solid rgba(156, 39, 176, 0.5)"},onMouseLeave:te=>{te.currentTarget.style.background="rgba(0, 0, 0, 0.4)",te.currentTarget.style.transform="translateY(0) scale(1)",te.currentTarget.style.boxShadow="none",te.currentTarget.style.border="1px solid rgba(255,255,255,0.15)"}},r.createElement("div",{style:{fontSize:C?"0.35rem":"0.8rem",fontWeight:"bold",color:"#e0e0e0",marginBottom:"1px"}},"Position"),r.createElement("div",{style:{fontSize:C?"0.4rem":"0.9rem",color:"#ffffff",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:"1px"}},P?"...":(Qe==null?void 0:Qe.position)||"N/A"),r.createElement("div",{style:{fontSize:C?"0.4rem":"0.75rem",color:"#e0e0e0",fontStyle:"italic",textAlign:"center",fontWeight:"500"}},"click to view standings"))),r.createElement("div",{style:{display:"flex",gap:C?"8px":"12px",marginBottom:"4px"}},r.createElement("div",{style:{flex:C?"0 0 140px":"0 0 200px",background:"rgba(0, 0, 0, 0.4)",borderRadius:"8px",padding:"4px",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",display:"flex",flexDirection:"column",gap:"4px"}},r.createElement("div",{style:{fontSize:C?"0.5rem":"0.9rem",color:"#ffffff",fontWeight:"bold",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:"2px"}}," ",C?"Messages":"Message Center"),r.createElement("button",{onClick:te=>{te.stopPropagation(),I&&I("direct")},style:{background:"linear-gradient(135deg, #ff4444 0%, #cc3333 50%, #aa2222 100%)",color:"#ffffff",border:"none",borderRadius:"6px",padding:"4px 6px",fontSize:C?"0.6rem":"0.7rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 6px rgba(255, 68, 68, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",textShadow:"1px 1px 2px rgba(0,0,0,0.5)",position:"relative",overflow:"hidden"},onMouseEnter:te=>{te.target.style.background="linear-gradient(135deg, #cc3333 0%, #aa2222 50%, #881111 100%)",te.target.style.transform="translateY(-2px) scale(1.02)",te.target.style.boxShadow="0 4px 12px rgba(255, 68, 68, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.6), inset 0 -1px 0 rgba(0, 0, 0, 0.3)"},onMouseLeave:te=>{te.target.style.background="linear-gradient(135deg, #ff4444 0%, #cc3333 50%, #aa2222 100%)",te.target.style.transform="translateY(0) scale(1)",te.target.style.boxShadow="0 2px 6px rgba(255, 68, 68, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.2)"}}," ",C?"DM":"Direct Messages"),r.createElement("button",{onClick:te=>{te.stopPropagation(),I&&I("league")},style:{background:"linear-gradient(135deg, #00bcd4 0%, #0097a7 50%, #00695c 100%)",color:"#ffffff",border:"none",borderRadius:"6px",padding:"4px 6px",fontSize:C?"0.6rem":"0.7rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 6px rgba(0, 188, 212, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",textShadow:"1px 1px 2px rgba(0,0,0,0.5)",position:"relative",overflow:"hidden"},onMouseEnter:te=>{te.target.style.background="linear-gradient(135deg, #0097a7 0%, #00695c 50%, #004d40 100%)",te.target.style.transform="translateY(-2px) scale(1.02)",te.target.style.boxShadow="0 4px 12px rgba(0, 188, 212, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.6), inset 0 -1px 0 rgba(0, 0, 0, 0.3)"},onMouseLeave:te=>{te.target.style.background="linear-gradient(135deg, #00bcd4 0%, #0097a7 50%, #00695c 100%)",te.target.style.transform="translateY(0) scale(1)",te.target.style.boxShadow="0 2px 6px rgba(0, 188, 212, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.2)"}}," ",C?"Chat":"League Chat")),r.createElement("div",{onClick:te=>{te.stopPropagation(),f&&f()},style:{flex:"1",background:"rgba(0, 0, 0, 0.4)",borderRadius:"8px",padding:"4px",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},onMouseEnter:te=>{te.currentTarget.style.background="linear-gradient(135deg, rgba(255, 68, 68, 0.15), rgba(255, 68, 68, 0.1), rgba(255, 68, 68, 0.05))",te.currentTarget.style.border="1px solid rgba(255, 68, 68, 0.4)",te.currentTarget.style.transform="translateY(-1px) scale(1.01)",te.currentTarget.style.boxShadow="0 4px 12px rgba(255, 68, 68, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)"},onMouseLeave:te=>{te.currentTarget.style.background="rgba(0, 0, 0, 0.4)",te.currentTarget.style.border="1px solid rgba(255,255,255,0.15)",te.currentTarget.style.transform="translateY(0) scale(1)",te.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)"}},r.createElement("div",{style:{fontSize:C?"0.6rem":"1.1rem",color:"#ff4444",fontWeight:"bold",marginBottom:"0px",textAlign:"center",cursor:"pointer",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",letterSpacing:"0.5px"}}," Upcoming Matches"),r.createElement("div",{style:{fontSize:C?"0.45rem":"0.75rem",color:"#e0e0e0",textAlign:"center",fontStyle:"italic",fontWeight:"500",marginTop:"0px",marginBottom:"0px",padding:"0px"}},"click for match details"),(()=>{const te=_;return te&&te.length>0?r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"1px",marginTop:C?"1px":"2px"}},te.slice(0,3).map((Pe,He)=>r.createElement("div",{key:He,onClick:Ae=>{Ae.stopPropagation(),S&&Pe&&S(Pe)},style:{fontSize:C?"0.5rem":"0.8rem",color:"#ccc",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer",padding:C?"1px 2px":"2px 3px",borderRadius:"2px",transition:"all 0.2s ease"},onMouseEnter:Ae=>{Ae.target.style.color="#ffffff",Ae.target.style.background="rgba(255,255,255,0.1)"},onMouseLeave:Ae=>{Ae.target.style.color="#ccc",Ae.target.style.background="transparent"}},(()=>{let Ae="",et="";if(Pe.type==="proposal"||Pe.status==="confirmed")Pe.senderName&&Pe.receiverName&&(Ae=Pe.senderName.trim().toLowerCase()===`${i} ${l}`.trim().toLowerCase()?Pe.receiverName:Pe.senderName),Pe.date&&(et=_g(Pe.date));else if(Pe.player1Id&&Pe.player2Id&&(Ae=Pe.player1Id.trim().toLowerCase()===`${i} ${l}`.trim().toLowerCase()?Pe.player2Id:Pe.player1Id),Pe.scheduledDate){const dt=new Date(Pe.scheduledDate);isNaN(dt.getTime())||(et=_g(dt.toISOString().split("T")[0]))}else Pe.date&&(et=_g(Pe.date));return Ae?et?`vs ${Ae} (${et})`:`vs ${Ae}`:"No matches"})())),te.length>3&&r.createElement("div",{style:{fontSize:C?"0.25rem":"0.55rem",color:"#888",textAlign:"center",fontStyle:"italic",padding:C?"0px":"1px"}},"+",te.length-3," more")):r.createElement("div",{style:{fontSize:C?"0.4rem":"0.7rem",color:"#999",textAlign:"center"}},"No matches")})()))))},xx={async validateChallenge(t,a,e,n=!1,i=null){return Ln.post("/api/challenges/validate",{senderName:t,receiverName:a,division:e,isRematch:n,originalChallengeId:i})},async validateDefenseAcceptance(t,a,e){return Ln.post("/api/challenges/validate-defense",{defenderName:t,challengerName:a,division:e})},async getChallengeStats(t,a){return Ln.get(`/api/challenges/stats/${encodeURIComponent(t)}/${encodeURIComponent(a)}`)},async getChallengeLimits(t,a){return Ln.get(`/api/challenges/limits/${encodeURIComponent(t)}/${encodeURIComponent(a)}`)},async getEligibleOpponents(t,a){return Ln.get(`/api/challenges/eligible-opponents/${encodeURIComponent(t)}/${encodeURIComponent(a)}`)},async getDivisionChallengeStats(t){return Ln.get(`/api/challenges/division-stats/${encodeURIComponent(t)}`)},async updateChallengeStats(t,a,e){return Ln.put(`/api/challenges/stats/${encodeURIComponent(t)}/${encodeURIComponent(a)}`,e)},async resetDivisionChallengeStats(t){return Ln.delete(`/api/challenges/division-stats/${encodeURIComponent(t)}`)}};function d7({isOpen:t,onClose:a,isMobile:e}){return t?r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"10px"}},r.createElement("div",{style:{background:"linear-gradient(135deg, rgba(42, 42, 42, 0.95), rgba(26, 26, 26, 0.98))",border:"2px solid #ff4444",borderRadius:"12px",width:e?"98%":"90%",maxWidth:"800px",height:e?"98%":"95%",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.5)",color:"#ffffff"}},r.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",borderBottom:"2px solid #ff4444",flexShrink:0}},r.createElement("h2",{style:{margin:0,fontSize:e?"1.2rem":"1.5rem",color:"#ffffff",fontWeight:"bold",display:"flex",alignItems:"center",gap:"10px",textAlign:"center"}}," Phase 2 Challenge Rules"),r.createElement("button",{onClick:a,style:{position:"absolute",right:"20px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ffffff",fontSize:"2rem",cursor:"pointer",padding:"5px",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s ease"},onMouseEnter:n=>n.target.style.backgroundColor="rgba(255,255,255,0.1)",onMouseLeave:n=>n.target.style.backgroundColor="transparent"},"")),r.createElement("div",{style:{flex:1,overflowY:"auto",padding:"25px",fontSize:e?"1rem":"1.1rem",lineHeight:"1.6"}},r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#ff4444",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}}," Overview"),r.createElement("p",{style:{margin:"0 0 15px 0",color:"#e0e0e0"}},"Phase 2 is the challenge phase where players compete against each other based on standings from Phase 1."),r.createElement("p",null,"You must complete 2-4 total matches during this phase, as either a challenger or defender.")),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#ff4444",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}}," Match Requirements"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Total Matches:")," 2-4 matches (minimum 2, maximum 4)"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("p",null,r.createElement("strong",null,"Defenses:")," If challenged, at least 2 defensive matches are required(you may accept more voluntarily). "),r.createElement("li",null,r.createElement("p",null,"If not challenged no defensive matches are required."))),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Weekly Limit:")," Only 1 match per week (as challenger or defender)"))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#ff4444",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}}," Dynamic Challenge Limits"),r.createElement("div",{style:{background:"rgba(255, 193, 7, 0.1)",border:"1px solid rgba(255, 193, 7, 0.3)",borderRadius:"8px",padding:"15px",marginBottom:"15px"}},r.createElement("p",{style:{margin:"0 0 10px 0",color:"#ffc107",fontWeight:"bold"}},"Your challenge limit depends on how many times you've been challenged:"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"0 times challenged:")," You can issue 4 challenges"),r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"1 time challenged:")," You can issue 3 challenges"),r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"2 times challenged:")," You can issue 2 challenges")))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#ff4444",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}}," Challenge Rules"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Standings Limit:")," You can challenge players ranked up to 4 spots higher than you."),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"One Challenge:")," You may challenge the same opponent only once."),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Rematch Rule:")," If you lose a challenge as a defender, you may issue a rematch (if both remain eligible). Opponent is not required to accept the rematch if they have played the required 2 defensive matches."),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Defense Priority:")," If you receive multiple challenges in the same week, the lowest-ranked challenger has priority."))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#ff4444",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}}," Defense Rules"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Required Defenses:")," You must accept challenges until you've played at least 2 matches as a defender."),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Defense Limit:")," No player may be required to defend more than 2 times."),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Voluntary Defenses:")," You may accept additional defenses beyond the required 2."),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Declining Challenges:")," After 2 defenses, declining further challenges is not a forfeit"))),r.createElement("div",{style:{background:"rgba(255, 68, 68, 0.1)",border:"1px solid rgba(255, 68, 68, 0.3)",borderRadius:"8px",padding:"15px",marginTop:"20px"}},r.createElement("h4",{style:{color:"#ff4444",fontSize:e?"1rem":"1.1rem",margin:"0 0 10px 0",display:"flex",alignItems:"center",gap:"8px"}}," Important Notes"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0",fontSize:e?"0.85rem":"0.9rem"}},r.createElement("li",{style:{marginBottom:"5px"}},"All challenges and responses must be recorded in the League Scheduling Hub"),r.createElement("li",{style:{marginBottom:"5px"}},"Any attempt to exploit rules or collude will be treated as a sportsmanship violation"),r.createElement("li",{style:{marginBottom:"5px"}},"Once you complete 4 matches, you may not accept or issue further challenges")))),r.createElement("div",{style:{textAlign:"center",padding:"20px",borderTop:"1px solid rgba(255,255,255,0.2)",flexShrink:0}},r.createElement("button",{onClick:a,style:{background:"linear-gradient(135deg, #ff4444, #cc3333)",border:"none",color:"#ffffff",fontSize:e?"0.9rem":"1rem",fontWeight:"bold",padding:e?"10px 20px":"12px 25px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 8px rgba(0,0,0,0.3)"},onMouseEnter:n=>{n.target.style.transform="translateY(-2px)",n.target.style.boxShadow="0 6px 12px rgba(0,0,0,0.4)"},onMouseLeave:n=>{n.target.style.transform="translateY(0)",n.target.style.boxShadow="0 4px 8px rgba(0,0,0,0.3)"}},"Got It! ")))):null}function u7({isOpen:t,onClose:a,phase1Stats:e,playerName:n,playerLastName:i,isMobile:l}){if(!t||!e)return null;const c=`${n} ${i}`;return r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"flex-start",justifyContent:"center",zIndex:1e3,padding:l?"10px":"20px",overflowY:"auto"},onClick:a},r.createElement("div",{style:{background:"linear-gradient(135deg, rgba(42, 42, 42, 0.95), rgba(26, 26, 26, 0.98))",border:"3px solid #ff4444",borderRadius:l?"12px":"16px",padding:l?"20px":"30px",maxWidth:l?"90vw":"500px",width:"100%",maxHeight:l?"80vh":"70vh",overflowY:"auto",boxShadow:"0 10px 30px rgba(0,0,0,0.5)",backdropFilter:"blur(5px)",position:"relative",marginTop:l?"20px":"40px",marginBottom:l?"20px":"40px"},onClick:u=>u.stopPropagation()},r.createElement("button",{onClick:a,style:{position:"absolute",top:l?"10px":"15px",right:l?"10px":"15px",background:"linear-gradient(135deg, #ff4444, #cc3333)",border:"3px solid #ffffff",color:"#ffffff",fontSize:l?"1.2rem":"1.5rem",fontWeight:"bold",width:l?"35px":"40px",height:l?"35px":"40px",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",zIndex:1e3,boxShadow:"0 4px 8px rgba(0,0,0,0.5)",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},onMouseEnter:u=>{u.target.style.background="linear-gradient(135deg, #ff6666, #dd4444)",u.target.style.transform="scale(1.1)",u.target.style.boxShadow="0 6px 12px rgba(0,0,0,0.7)"},onMouseLeave:u=>{u.target.style.background="linear-gradient(135deg, #ff4444, #cc3333)",u.target.style.transform="scale(1)",u.target.style.boxShadow="0 4px 8px rgba(0,0,0,0.5)"}},""),r.createElement("div",{style:{textAlign:"center",marginBottom:l?"20px":"25px"}},r.createElement("h2",{style:{color:"#ffffff",fontSize:l?"1.2rem":"1.5rem",fontWeight:"bold",margin:"0 0 5px 0",textShadow:"2px 2px 4px rgba(0,0,0,0.8)"}}," Phase 1 Results"),r.createElement("div",{style:{color:"#e0e0e0",fontSize:l?"0.9rem":"1rem",fontStyle:"italic"}},c)),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:l?"12px":"16px",marginBottom:l?"20px":"25px"}},r.createElement("div",{style:{padding:l?"15px":"20px",background:"rgba(255,255,255,0.1)",borderRadius:"8px",border:"2px solid rgba(255,255,255,0.2)",textAlign:"center"}},r.createElement("div",{style:{fontSize:l?"0.8rem":"1rem",color:"#e0e0e0",marginBottom:"8px",fontWeight:"bold"}},"Record"),r.createElement("div",{style:{fontSize:l?"1.5rem":"2rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",marginBottom:"5px"}},e.wins,"-",e.losses),r.createElement("div",{style:{fontSize:l?"0.9rem":"1.1rem",color:"#e0e0e0",fontStyle:"italic"}},e.winRate,"% Win Rate")),r.createElement("div",{style:{padding:l?"15px":"20px",background:"rgba(255,255,255,0.1)",borderRadius:"8px",border:"2px solid rgba(255,255,255,0.2)",textAlign:"center"}},r.createElement("div",{style:{fontSize:l?"0.8rem":"1rem",color:"#e0e0e0",marginBottom:"8px",fontWeight:"bold"}},"Final Position"),r.createElement("div",{style:{fontSize:l?"1.5rem":"2rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",marginBottom:"5px"}},e.position),r.createElement("div",{style:{fontSize:l?"0.9rem":"1.1rem",color:"#e0e0e0",fontStyle:"italic"}},"in Division")),r.createElement("div",{style:{padding:l?"15px":"20px",background:"rgba(255,255,255,0.1)",borderRadius:"8px",border:"2px solid rgba(255,255,255,0.2)",textAlign:"center"}},r.createElement("div",{style:{fontSize:l?"0.8rem":"1rem",color:"#e0e0e0",marginBottom:"8px",fontWeight:"bold"}},"Matches Played"),r.createElement("div",{style:{fontSize:l?"1.5rem":"2rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",marginBottom:"5px"}},e.totalMatches),r.createElement("div",{style:{fontSize:l?"0.9rem":"1.1rem",color:"#e0e0e0",fontStyle:"italic"}},"Total Games"))),r.createElement("div",{style:{background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:l?"15px":"20px",border:"1px solid rgba(255,255,255,0.1)",marginBottom:l?"15px":"20px"}},r.createElement("h3",{style:{color:"#ffffff",fontSize:l?"1rem":"1.2rem",margin:"0 0 10px 0",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},"Performance Summary"),r.createElement("div",{style:{color:"#e0e0e0",fontSize:l?"0.85rem":"1rem",lineHeight:"1.5",textAlign:"center"}},e.totalMatches===0?r.createElement("div",null,"No matches completed in Phase 1"):r.createElement("div",null,r.createElement("div",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Win Rate:")," ",e.winRate,"% (",e.wins," wins, ",e.losses," losses)"),r.createElement("div",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Final Standing:")," ",e.position," place"),r.createElement("div",null,r.createElement("strong",null,"Total Matches:")," ",e.totalMatches," games played")))),r.createElement("div",{style:{background:"rgba(255, 68, 68, 0.1)",borderRadius:"8px",padding:l?"15px":"20px",border:"2px solid rgba(255, 68, 68, 0.3)",textAlign:"center"}},r.createElement("div",{style:{color:"#ff4444",fontSize:l?"0.9rem":"1rem",fontWeight:"bold",marginBottom:"5px"}}," Phase 2 Qualified"),r.createElement("div",{style:{color:"#e0e0e0",fontSize:l?"0.8rem":"0.9rem"}},"Ready for challenge matches and defenses"))))}function m7({playerName:t,playerLastName:a,selectedDivision:e,phase:n,isMobile:i,onOpenOpponentsModal:l,onOpenCompletedMatchesModal:c,onOpenStandingsModal:u,onOpenDefenseChallengersModal:m,onOpenAllMatchesModal:h,onOpenProposalListModal:f,onOpenSentProposalListModal:y,onOpenPlayerSearch:b,pendingCount:w=0,sentCount:E=0,upcomingMatches:_=[],onMatchClick:S,seasonData:C,completedMatches:I=[],standings:N=[]}){var Gn,tn;const[k,M]=v.useState(null),[T,q]=v.useState(null),[z,G]=v.useState(!0),[K,ie]=v.useState(null),[H,Z]=v.useState(!0),[O,R]=v.useState(!1),[A,F]=v.useState(!1),[Q,V]=v.useState(null),P=`${t} ${a}`,j=()=>{let ue=0,Ke=0;I&&I.length>0&&I.forEach(et=>{et.winner===P?ue++:Ke++});const Ye=I&&I.length>0?Math.round(ue/(ue+Ke)*100):0,wt=(et,dt)=>{if(!et||et.length===0)return null;const Jt=dt.toLowerCase().trim(),Zn=et.find(Hn=>Hn.name.toLowerCase().trim()===Jt);return Zn?parseInt(Zn.rank):null},te=et=>{const dt=et%10,Jt=et%100;return dt===1&&Jt!==11?"st":dt===2&&Jt!==12?"nd":dt===3&&Jt!==13?"rd":"th"},Pe=wt(N,P);let He="N/A";Pe!==null?He=`${Pe}${te(Pe)}`:I&&I.length>=1&&(Ye>=80?He="1st-3rd":Ye>=60?He="4th-6th":Ye>=40?He="7th-9th":He="10th+");const Ae={wins:ue,losses:Ke,winRate:Ye,position:He,totalMatches:I?I.length:0};console.log("Phase2Tracker - Calculated Phase 1 stats:",Ae),V(Ae)};v.useEffect(()=>{console.log("Phase2Tracker - Calculating Phase 1 stats:"),console.log("  completedMatches:",I),console.log("  standings:",N),console.log("  fullPlayerName:",P),j()},[I,N,P]);const W=(()=>{if(console.log("Phase2Tracker - Received seasonData:",C),console.log("Phase2Tracker - seasonData.phase1End:",C==null?void 0:C.phase1End),!C||!C.phase1End)return console.log("Phase2Tracker - No seasonData or phase1End found"),{days:null,status:"no_deadline"};const ue=new Date,Ke=new Date(C.phase1End);if(console.log("Phase2Tracker - Date comparison:"),console.log("  now:",ue.toISOString()),console.log("  phase1End:",Ke.toISOString()),console.log("  nowTime:",ue.getTime()),console.log("  phase1EndTime:",Ke.getTime()),console.log("  isPhase1Active:",ue<=Ke),console.log("  currentDate:",ue.toLocaleDateString()),console.log("  phase1EndDate:",Ke.toLocaleDateString()),ue<=Ke)return console.log("Phase2Tracker - Phase 1 is still active, returning phase1_active status"),{days:null,status:"phase1_active"};const Ye=new Date(Ke);Ye.setDate(Ye.getDate()+28);const wt=Ye-ue,te=Math.ceil(wt/(1e3*60*60*24));return console.log("Phase2Tracker - Phase 2 calculation:"),console.log("  phase2End:",Ye.toISOString()),console.log("  diffTime:",wt),console.log("  diffDays:",te),console.log("  status:",te<0?"passed":te<=1?"critical":te<=3?"urgent":te<=7?"warning":"normal"),te<0?{days:Math.abs(te),status:"passed"}:te<=1?{days:te,status:"critical"}:te<=3?{days:te,status:"urgent"}:te<=7?{days:te,status:"warning"}:{days:te,status:"normal"}})();if(console.log("Phase2Tracker - Final deadlineStatus:",W),console.log("Phase2Tracker - Final deadlineStatus.status:",W==null?void 0:W.status),console.log("Phase2Tracker - Final deadlineStatus.days:",W==null?void 0:W.days),v.useEffect(()=>{if(!t||!a||!e||n!=="challenge"){G(!1);return}async function ue(){try{G(!0),ie(null);const[Ke,Ye]=await Promise.all([xx.getChallengeStats(P,e),xx.getChallengeLimits(P,e)]);M(Ke),q(Ye)}catch(Ke){console.error("Error loading challenge data:",Ke),ie("Failed to load challenge statistics")}finally{G(!1)}}ue()},[t,a,e,n,P]),n!=="challenge")return null;if(z)return r.createElement("div",{style:{background:"linear-gradient(135deg, rgba(42, 42, 42, 0.7), rgba(26, 26, 26, 0.8))",border:"2px solid #ff4444",borderRadius:i?"8px":"12px",padding:i?"1px":"18px",margin:i?"-15px 0 0 0":"16px 0",boxShadow:"0 6px 20px rgba(0,0,0,0.3), 0 2px 8px rgba(0,0,0,0.2)",backdropFilter:"blur(2px)",textAlign:"center",color:"#888"}},"Loading Phase 2 challenge statistics...");if(K)return r.createElement("div",{style:{background:"linear-gradient(135deg, rgba(42, 42, 42, 0.7), rgba(26, 26, 26, 0.8))",border:"2px solid #e53e3e",borderRadius:i?"8px":"12px",padding:i?"1px":"18px",margin:i?"-15px 0 0 0":"16px 0",boxShadow:"0 6px 20px rgba(0,0,0,0.3), 0 2px 8px rgba(0,0,0,0.2)",backdropFilter:"blur(2px)",textAlign:"center",color:"#e53e3e"}},K);if(!k||!T)return null;const re=k.matchesAsChallenger+k.requiredDefenses,X=2,me=4,Ce=re>=X,Se=re>=me,ye=(()=>{var Ke;const ue=((Ke=T.dynamicLimits)==null?void 0:Ke.timesChallenged)||0;return ue===0?4:ue===1?3:ue===2?2:0})(),Ze=((Gn=T.dynamicLimits)==null?void 0:Gn.challengesIssued)||0,qe=ye-Ze,ct=k.requiredDefenses||0,Qe=()=>Se?"completed":Ce?"active":re>=1?"progressing":"ready",Rt=(ue,Ke)=>{const Ye=ue/Ke*100;return Ye>=90?"#e53e3e":Ye>=75?"#ffc107":"#28a745"},pn=()=>{if(W.status==="phase1_active")return"#ffaa00";switch(Qe()){case"completed":return"#00aa00";case"active":return"#ff4444";case"progressing":return"#ff4444";case"ready":return"#ff4444";default:return"#ff4444"}},Pt=()=>{const ue=Qe();if(W.status==="phase1_active")return` Phase 1 still active until ${C&&C.phase1End?Ca(new Date(C.phase1End),i?"MMM d":"MMM d, yyyy"):""}`;if(W.status==="passed")return" DEADLINE PASSED!";if(W.status==="critical"){const Ke=new Date(C.phase1End),Ye=new Date(Ke);Ye.setDate(Ye.getDate()+28);const wt=Ca(Ye,i?"MMM d":"MMM d, yyyy");return` CRITICAL: ENDS in ${W.days} hours! (${wt})`}else if(W.status==="urgent"){const Ke=new Date(C.phase1End),Ye=new Date(Ke);Ye.setDate(Ye.getDate()+28);const wt=Ca(Ye,i?"MMM d":"MMM d, yyyy");return` URGENT: ENDS in ${W.days} days! (${wt})`}else if(W.status==="warning"){const Ke=new Date(C.phase1End),Ye=new Date(Ke);Ye.setDate(Ye.getDate()+28);const wt=Ca(Ye,i?"MMM d":"MMM d, yyyy");return` WARNING: ENDS in ${W.days} days. (${wt})`}else if(W.status==="normal"){const Ke=new Date(C.phase1End),Ye=new Date(Ke);Ye.setDate(Ye.getDate()+28);const wt=Ca(Ye,i?"MMM d":"MMM d, yyyy");return`ENDS in ${W.days} days. (${wt})`}switch(ue){case"completed":return" Phase 2 Complete! (4/4 matches)";case"active":return` Active in Phase 2! ${re}/4 matches (min met)`;case"progressing":return` Phase 2 in progress! ${re}/4 matches (need ${X-re} more)`;case"ready":return" Ready for Phase 2! Need 2-4 challenge matches.";default:return"Phase 2 Challenge Status"}},rn=pn();return r.createElement("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.85), rgba(20, 20, 20, 0.9), rgba(0, 0, 0, 0.85))",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:i?"16px":"20px",padding:i?"6px":"12px",margin:i?"-15px 0 0 0":"13px auto",width:i?"100%":"98%",maxWidth:i?"none":"1600px",boxShadow:"0 8px 32px rgba(0,0,0,0.4), 0 4px 16px rgba(255,255,255,0.1), inset 0 1px 0 rgba(255,255,255,0.1)",cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"flex-start",backdropFilter:"blur(8px)",overflow:"auto",maxHeight:"none",height:i?H?"auto":"60px":H?"380px":"160px",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative"},onClick:()=>Z(!H),onKeyDown:ue=>{(ue.key==="Enter"||ue.key===" ")&&(ue.preventDefault(),Z(!H))},role:"button",tabIndex:"0","aria-label":H?"Collapse Phase 2 tracker":"Expand Phase 2 tracker"},r.createElement("div",{style:{position:"relative",textAlign:"center",marginBottom:i?"0px":"4px",padding:i?"6px":"8px",borderRadius:"12px",background:"linear-gradient(135deg, rgba(0, 0, 0, 0.7), rgba(20, 20, 20, 0.8))",border:"1px solid rgba(255,255,255,0.15)",boxShadow:"0 4px 16px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1)"}},r.createElement("h3",{style:{margin:0,color:"#ffffff",fontSize:i?"0.8rem":"1.1rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:i?"4px":"6px",flexWrap:"wrap",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",letterSpacing:"0.5px",minHeight:i?"2.5rem":"3rem"}},r.createElement("button",{onClick:ue=>{ue.stopPropagation(),F(!0)},"aria-label":"View Phase 1 results",role:"button",tabIndex:"0",style:{background:"linear-gradient(135deg, #22c55e, #16a34a, #15803d)",border:"2px solid rgba(255,255,255,0.8)",color:"#ffffff",fontSize:i?"0.5rem":"0.8rem",fontWeight:"bold",padding:i?"6px 10px":"8px 14px",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",boxShadow:"0 4px 12px rgba(34, 197, 94, 0.4), inset 0 1px 0 rgba(255,255,255,0.3), 0 0 10px rgba(34, 197, 94, 0.2)",zIndex:10},onMouseEnter:ue=>{ue.target.style.background="linear-gradient(135deg, #4ade80, #22c55e, #16a34a)",ue.target.style.transform="scale(1.05) translateY(-2px)",ue.target.style.boxShadow="0 6px 16px rgba(34, 197, 94, 0.6), inset 0 1px 0 rgba(255,255,255,0.4), 0 0 15px rgba(34, 197, 94, 0.3)"},onMouseLeave:ue=>{ue.target.style.background="linear-gradient(135deg, #22c55e, #16a34a, #15803d)",ue.target.style.transform="scale(1) translateY(0)",ue.target.style.boxShadow="0 4px 12px rgba(34, 197, 94, 0.4), inset 0 1px 0 rgba(255,255,255,0.3), 0 0 10px rgba(34, 197, 94, 0.2)"}}," PHASE 1 RESULTS"),r.createElement("span",{style:{fontSize:i?"0.9rem":"1.1rem",background:`linear-gradient(135deg, ${rn}, ${rn}dd, ${rn})`,padding:i?"4px 8px":"6px 12px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.2), 0 0 10px rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.3)",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",fontWeight:"bold"}},"Phase 2"),r.createElement("button",{onClick:ue=>{ue.stopPropagation(),R(!0)},"aria-label":"Open Phase 2 rules and information",role:"button",tabIndex:"0",style:{background:"linear-gradient(135deg, #ff4444, #cc3333, #aa2222)",border:"2px solid rgba(255,255,255,0.8)",color:"#ffffff",fontSize:i?"0.5rem":"0.8rem",fontWeight:"bold",padding:i?"6px 10px":"8px 14px",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",boxShadow:"0 4px 12px rgba(255, 68, 68, 0.4), inset 0 1px 0 rgba(255,255,255,0.3), 0 0 10px rgba(255, 68, 68, 0.2)",zIndex:10},onMouseEnter:ue=>{ue.target.style.background="linear-gradient(135deg, #ff6666, #dd4444, #cc3333)",ue.target.style.transform="scale(1.05) translateY(-2px)",ue.target.style.boxShadow="0 6px 16px rgba(255, 68, 68, 0.6), inset 0 1px 0 rgba(255,255,255,0.4), 0 0 15px rgba(255, 68, 68, 0.3)"},onMouseLeave:ue=>{ue.target.style.background="linear-gradient(135deg, #ff4444, #cc3333, #aa2222)",ue.target.style.transform="scale(1) translateY(0)",ue.target.style.boxShadow="0 4px 12px rgba(255, 68, 68, 0.4), inset 0 1px 0 rgba(255,255,255,0.3), 0 0 10px rgba(255, 68, 68, 0.2)"}}," RULES")),r.createElement("div",{style:{color:"#ffffff",fontSize:i?"0.7rem":"0.95rem",lineHeight:"1.1",marginTop:"2px",marginBottom:i?"2px":"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center"}},Pt()),r.createElement("div",{style:{position:i?"relative":"absolute",left:i?"auto":"8%",top:i?"auto":"50%",transform:i?"none":"translate(-50%, -50%)",cursor:"pointer",fontSize:i?"2.5rem":"3.2rem",transition:"all 0.3s ease",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:i?"90px":"120px",lineHeight:1,background:"linear-gradient(135deg, rgba(255, 68, 68, 0.25), rgba(220, 53, 69, 0.2), rgba(200, 35, 51, 0.15))",border:"2px solid rgba(255, 68, 68, 0.6)",padding:i?"4px":"6px",borderRadius:i?"12px":"18px",zIndex:1,boxShadow:"0 6px 20px rgba(255, 68, 68, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 0 20px rgba(255, 68, 68, 0.2)",minWidth:i?"60px":"80px",minHeight:i?"75px":"90px",backdropFilter:"blur(8px)",margin:i?"8px auto":"0"},onClick:ue=>{ue.stopPropagation(),Z(!0),b&&b()},"aria-label":"Open player search to schedule Phase 2 matches",role:"button",tabIndex:"0",onMouseEnter:ue=>{ue.currentTarget.style.transform="translate(-50%, -50%) scale(1.1)",ue.currentTarget.style.background="rgba(255, 68, 68, 0.25)",ue.currentTarget.style.boxShadow="0 4px 16px rgba(255, 68, 68, 0.5)",ue.currentTarget.style.border="2px solid rgba(255, 68, 68, 0.6)"},onMouseLeave:ue=>{ue.currentTarget.style.transform="translate(-50%, -50%) scale(1)",ue.currentTarget.style.background="rgba(255, 68, 68, 0.15)",ue.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",ue.currentTarget.style.border="1px solid rgba(255, 68, 68, 0.4)"}},r.createElement("div",{style:{fontSize:i?"0.35rem":"0.5rem",color:"#ffffff",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:i?"6px":"8px",textAlign:"center"}},"Today's Date"),r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1}},r.createElement("div",{style:{fontSize:i?"0.6rem":"0.85rem"}},["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date().getDay()]),r.createElement("div",{style:{fontSize:i?"0.85rem":"1.4rem"}},(()=>{const ue=new Date,Ke=String(ue.getMonth()+1).padStart(2,"0"),Ye=String(ue.getDate()).padStart(2,"0"),wt=String(ue.getFullYear()).slice(-2);return`${Ke}/${Ye}/${wt}`})())),r.createElement("div",{style:{fontSize:i?"0.2rem":"0.45rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.9)",marginTop:"auto",textAlign:"center",whiteSpace:"nowrap",background:"rgba(0, 0, 0, 0.7)",padding:i?"1px 2px":"2px 3px",borderRadius:"4px",border:"1px solid rgba(255, 255, 255, 0.3)"}},i?"Schedule":"Click to Schedule Match by Date")),r.createElement("div",{style:{position:i?"relative":"absolute",right:i?"auto":"8%",top:i?"auto":"50%",transform:i?"none":"translate(50%, -50%)",transition:"all 0.3s ease",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",lineHeight:1,background:"linear-gradient(135deg, rgba(52, 152, 219, 0.25), rgba(41, 128, 185, 0.2), rgba(30, 100, 150, 0.15))",border:"2px solid rgba(52, 152, 219, 0.6)",padding:i?"3px":"5px",borderRadius:i?"10px":"16px",zIndex:1,boxShadow:"0 6px 20px rgba(52, 152, 219, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 0 20px rgba(52, 152, 219, 0.2)",minWidth:i?"60px":"80px",minHeight:i?"75px":"90px",backdropFilter:"blur(8px)",margin:i?"8px auto":"0"},title:"Proposal management - view pending and sent proposals",onMouseEnter:ue=>{ue.currentTarget.style.background="linear-gradient(135deg, rgba(52, 152, 219, 0.3), rgba(41, 128, 185, 0.25))",ue.currentTarget.style.boxShadow="0 6px 20px rgba(52, 152, 219, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.2)",ue.currentTarget.style.border="2px solid rgba(52, 152, 219, 0.7)",ue.currentTarget.style.transform="translate(50%, -50%) scale(1.02)"},onMouseLeave:ue=>{ue.currentTarget.style.background="linear-gradient(135deg, rgba(52, 152, 219, 0.2), rgba(41, 128, 185, 0.15))",ue.currentTarget.style.boxShadow="0 4px 16px rgba(52, 152, 219, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",ue.currentTarget.style.border="2px solid rgba(52, 152, 219, 0.5)",ue.currentTarget.style.transform="translate(50%, -50%) scale(1)"}},r.createElement("div",{style:{fontSize:i?"0.45rem":"0.65rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.9)",marginBottom:i?"2px":"4px",textAlign:"center",whiteSpace:"nowrap"}}," Proposals"),r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:i?"2px":"4px",justifyContent:"center",width:"100%"}},r.createElement("button",{onClick:ue=>{ue.stopPropagation(),f&&f()},style:{background:"linear-gradient(135deg, #d35400 0%, #e67e22 50%, #f39c12 100%)",color:"#ffffff",border:"none",borderRadius:"6px",padding:i?"1px 2px":"3px 4px",fontSize:i?"0.35rem":"0.55rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 6px rgba(211, 84, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",textShadow:"1px 1px 2px rgba(0,0,0,0.5)",position:"relative",overflow:"hidden"},onMouseEnter:ue=>{ue.target.style.background="linear-gradient(135deg, #e67e22 0%, #f39c12 50%, #f1c40f 100%)",ue.target.style.transform="translateY(-2px) scale(1.02)",ue.target.style.boxShadow="0 4px 12px rgba(211, 84, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.6), inset 0 -1px 0 rgba(0, 0, 0, 0.3)"},onMouseLeave:ue=>{ue.target.style.background="linear-gradient(135deg, #d35400 0%, #e67e22 50%, #f39c12 100%)",ue.target.style.transform="translateY(0) scale(1)",ue.target.style.boxShadow="0 2px 6px rgba(211, 84, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.2)"}}," ",w," waiting for you"),r.createElement("button",{onClick:ue=>{ue.stopPropagation(),y&&y()},style:{background:"linear-gradient(135deg, #1e8449 0%, #27ae60 50%, #2ecc71 100%)",color:"#ffffff",border:"none",borderRadius:"6px",padding:i?"1px 2px":"3px 4px",fontSize:i?"0.35rem":"0.55rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 6px rgba(30, 132, 73, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",textShadow:"1px 1px 2px rgba(0,0,0,0.5)",position:"relative",overflow:"hidden"},onMouseEnter:ue=>{ue.target.style.background="linear-gradient(135deg, #27ae60 0%, #2ecc71 50%, #58d68d 100%)",ue.target.style.transform="translateY(-2px) scale(1.02)",ue.target.style.boxShadow="0 4px 12px rgba(30, 132, 73, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.6), inset 0 -1px 0 rgba(0, 0, 0, 0.3)"},onMouseLeave:ue=>{ue.target.style.background="linear-gradient(135deg, #1e8449 0%, #27ae60 50%, #2ecc71 100%)",ue.target.style.transform="translateY(0) scale(1)",ue.target.style.boxShadow="0 2px 6px rgba(30, 132, 73, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.2)"}}," ",E," waiting for opponents"))),r.createElement("div",{style:{color:"#ffffff",fontSize:i?"0.7rem":"0.9rem",fontWeight:"bold",marginTop:i?"4px":"2px",marginBottom:i?"2px":"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",lineHeight:"1.1",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",gap:i?"8px":"12px",flexWrap:"wrap"}},r.createElement("span",null," ",re,"/4 Matches"),r.createElement("span",null,""),r.createElement("span",{style:{color:qe>0?"#4ade80":"#ef4444"}},qe," Challenges Left"),r.createElement("span",null,""),r.createElement("span",{style:{color:Ce?"#4ade80":"#fbbf24"}},Ce?"Min ":`${X-re} to min`))),r.createElement("div",{style:{textAlign:"center",marginBottom:i?"0px":"4px"}},r.createElement("div",{style:{fontSize:i?"0.5rem":"0.9rem",color:"#ffffff",fontWeight:"bold",cursor:"pointer",padding:i?"1px 3px":"4px 8px",borderRadius:"6px",display:"inline-block",transition:"background-color 0.2s ease",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},onMouseEnter:ue=>ue.target.style.backgroundColor=`${rn}20`,onMouseLeave:ue=>ue.target.style.backgroundColor="transparent"},H?"Hide Stats ":"Show Stats ")),H&&r.createElement(r.Fragment,null,r.createElement("div",{style:{marginBottom:i?"0.3rem":"0.5rem"}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:i?"0.4rem":"0.6rem",marginBottom:i?"0.3rem":"0.5rem"}},r.createElement("div",{onClick:ue=>{ue.stopPropagation(),b&&b()},style:{padding:i?"0.4rem":"0.6rem",background:"linear-gradient(135deg, rgba(255, 68, 68, 0.15), rgba(59, 130, 246, 0.1))",borderRadius:"8px",border:"1px solid rgba(255, 68, 68, 0.3)",textAlign:"center",cursor:"pointer",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},onMouseEnter:ue=>{ue.target.style.background="linear-gradient(135deg, rgba(255, 68, 68, 0.25), rgba(59, 130, 246, 0.2))",ue.target.style.transform="translateY(-2px)",ue.target.style.boxShadow="0 4px 12px rgba(255, 68, 68, 0.3)"},onMouseLeave:ue=>{ue.target.style.background="linear-gradient(135deg, rgba(255, 68, 68, 0.15), rgba(59, 130, 246, 0.1))",ue.target.style.transform="translateY(0)",ue.target.style.boxShadow="none"}},r.createElement("div",{style:{fontSize:i?"0.5rem":"0.85rem",fontWeight:"bold",color:"#ff4444",marginBottom:i?"3px":"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}}," Phase 2 Progress"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:i?"4px":"6px",fontSize:i?"0.4rem":"0.7rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.9)",marginBottom:i?"3px":"4px"}},r.createElement("div",null,r.createElement("div",{style:{color:"#ff4444",fontSize:i?"0.35rem":"0.6rem"}},"Challenges"),r.createElement("div",null,re,"/4")),r.createElement("div",null,r.createElement("div",{style:{color:"#3b82f6",fontSize:i?"0.35rem":"0.6rem"}},"Defenses"),r.createElement("div",null,ct,"/2"))),r.createElement("div",{style:{width:"100%",height:i?"3px":"4px",background:"rgba(255,255,255,0.2)",borderRadius:"3px",overflow:"hidden",marginBottom:i?"2px":"3px",boxShadow:"inset 0 1px 2px rgba(0,0,0,0.3)"}},r.createElement("div",{style:{width:`${re/me*100}%`,height:"100%",background:`linear-gradient(90deg, ${Rt(re,me)}, ${Rt(re,me)}dd)`,borderRadius:"3px",transition:"width 0.4s ease",boxShadow:"0 0 4px rgba(255,255,255,0.3)"}})),r.createElement("div",{style:{fontSize:i?"0.35rem":"0.7rem",color:Ce?"#4ade80":"#fbbf24",fontWeight:"bold",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},Ce?" Min met":`${X-re} to min`)),r.createElement("div",{style:{padding:i?"0.4rem":"0.6rem",background:"linear-gradient(135deg, rgba(168, 85, 247, 0.15), rgba(255, 193, 7, 0.1))",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.3)",textAlign:"center",position:"relative",overflow:"hidden"}},r.createElement("div",{style:{fontSize:i?"0.5rem":"0.85rem",fontWeight:"bold",color:"#a855f7",marginBottom:i?"3px":"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}}," Challenge Limits"),r.createElement("div",{style:{fontSize:i?"0.45rem":"1rem",color:"#ffffff",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.9)",marginBottom:i?"3px":"4px"}},qe," remaining"),r.createElement("div",{style:{fontSize:i?"0.35rem":"0.6rem",color:"#fbbf24",marginBottom:i?"2px":"3px"}},((tn=T.dynamicLimits)==null?void 0:tn.timesChallenged)||0," times challenged"),r.createElement("div",{style:{fontSize:i?"0.35rem":"0.7rem",color:qe>0?"#4ade80":"#ef4444",fontWeight:"bold",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},Ze," issued")))),r.createElement("div",{style:{padding:i?"0.5rem":"0.8rem",background:"linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(22, 163, 74, 0.1))",border:"1px solid rgba(34, 197, 94, 0.4)",borderRadius:"8px",marginBottom:i?"0.4rem":"0.6rem",color:"#ffffff",boxShadow:"0 2px 8px rgba(34, 197, 94, 0.2)"}},r.createElement("div",{style:{fontSize:i?"0.45rem":"0.8rem",fontWeight:"bold",color:"#22c55e",marginBottom:i?"0.3rem":"0.5rem",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}}," Current Record & Standings"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:i?"0.4rem":"0.6rem",fontSize:i?"0.4rem":"0.7rem",color:"#ffffff",textAlign:"center",lineHeight:i?"1.3":"1.4"}},r.createElement("div",{style:{background:"rgba(255,255,255,0.1)",padding:i?"0.2rem":"0.3rem",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.2)"}},r.createElement("div",{style:{fontWeight:"bold",color:"#22c55e",marginBottom:"2px"}},"Wins"),r.createElement("div",{style:{fontSize:i?"0.35rem":"0.6rem",fontWeight:"bold"}},(Q==null?void 0:Q.wins)||0)),r.createElement("div",{style:{background:"rgba(255,255,255,0.1)",padding:i?"0.2rem":"0.3rem",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.2)"}},r.createElement("div",{style:{fontWeight:"bold",color:"#ef4444",marginBottom:"2px"}},"Losses"),r.createElement("div",{style:{fontSize:i?"0.35rem":"0.6rem",fontWeight:"bold"}},(Q==null?void 0:Q.losses)||0)),r.createElement("div",{style:{background:"rgba(255,255,255,0.1)",padding:i?"0.2rem":"0.3rem",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.2)"}},r.createElement("div",{style:{fontWeight:"bold",color:"#3b82f6",marginBottom:"2px"}},"Win Rate"),r.createElement("div",{style:{fontSize:i?"0.35rem":"0.6rem",fontWeight:"bold"}},(Q==null?void 0:Q.winRate)||0,"%"))),r.createElement("div",{style:{marginTop:i?"0.3rem":"0.5rem",padding:i?"0.2rem":"0.3rem",background:"rgba(168, 85, 247, 0.2)",borderRadius:"4px",border:"1px solid rgba(168, 85, 247, 0.4)",textAlign:"center"}},r.createElement("div",{style:{fontWeight:"bold",color:"#a855f7",marginBottom:"2px",fontSize:i?"0.35rem":"0.6rem"}},"Current Standings Position"),r.createElement("div",{style:{fontSize:i?"0.4rem":"0.7rem",fontWeight:"bold"}},(Q==null?void 0:Q.position)||"N/A"))),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:i?"0.4rem":"0.6rem",marginBottom:i?"0.3rem":"0.5rem"}},r.createElement("div",{style:{padding:i?"0.4rem":"0.6rem",background:"rgba(255,255,255,0.1)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.1)",textAlign:"center",cursor:"pointer",transition:"background-color 0.2s ease"},onClick:ue=>{ue.stopPropagation(),b&&b()},onMouseEnter:ue=>ue.target.style.backgroundColor="rgba(255,255,255,0.15)",onMouseLeave:ue=>ue.target.style.backgroundColor="rgba(255,255,255,0.1)"},r.createElement("div",{style:{fontSize:i?"0.4rem":"0.7rem",fontWeight:"bold",color:"#e0e0e0",marginBottom:i?"1px":"2px"}}," Schedule Match"),r.createElement("div",{style:{fontSize:i?"0.35rem":"0.8rem",color:"#ffffff",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:i?"1px":"2px"}},k.eligibleOpponentsCount," available"),r.createElement("div",{style:{fontSize:i?"0.35rem":"0.65rem",color:"#e0e0e0",fontStyle:"italic",textAlign:"center",fontWeight:"500"}},"click to schedule")),r.createElement("div",{style:{padding:i?"0.4rem":"0.6rem",background:"rgba(255,255,255,0.1)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.1)",textAlign:"center",cursor:"pointer",transition:"background-color 0.2s ease"},onClick:ue=>{ue.stopPropagation(),h&&h()},onMouseEnter:ue=>ue.target.style.backgroundColor="rgba(255,255,255,0.15)",onMouseLeave:ue=>ue.target.style.backgroundColor="rgba(255,255,255,0.1)"},r.createElement("div",{style:{fontSize:i?"0.4rem":"0.7rem",fontWeight:"bold",color:"#e0e0e0",marginBottom:i?"1px":"2px"}}," View Matches"),r.createElement("div",{style:{fontSize:i?"0.35rem":"0.8rem",color:"#ffffff",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginBottom:i?"1px":"2px"}},_.length," upcoming"),r.createElement("div",{style:{fontSize:i?"0.35rem":"0.65rem",color:"#e0e0e0",fontStyle:"italic",textAlign:"center",fontWeight:"500"}},"click for details"))),_.length>0&&r.createElement("div",{style:{marginBottom:i?"0.3rem":"0.5rem"}},r.createElement("div",{style:{fontSize:i?"0.4rem":"0.7rem",fontWeight:"bold",color:"#ffffff",marginBottom:i?"0.2rem":"0.4rem",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},"Upcoming Matches"),r.createElement("div",{style:{maxHeight:i?"50px":"60px",overflowY:"auto",background:"rgba(0,0,0,0.3)",borderRadius:"4px",padding:i?"0.2rem":"0.4rem"}},_.slice(0,2).map((ue,Ke)=>{let Ye="";return ue.senderName&&ue.receiverName&&(Ye=ue.senderName.trim().toLowerCase()===P.toLowerCase()?ue.receiverName:ue.senderName),r.createElement("div",{key:ue._id||Ke,style:{fontSize:i?"0.3rem":"0.6rem",color:"#ffffff",padding:i?"0.15rem 0.25rem":"0.25rem 0.4rem",marginBottom:i?"0.1rem":"0.15rem",background:"rgba(255,255,255,0.1)",borderRadius:"3px",cursor:"pointer",transition:"background-color 0.2s ease",textAlign:"center"},onClick:wt=>{wt.stopPropagation(),S&&S(ue)},onMouseEnter:wt=>wt.target.style.backgroundColor="rgba(255,255,255,0.2)",onMouseLeave:wt=>wt.target.style.backgroundColor="rgba(255,255,255,0.1)"},"VS ",Ye||"Unknown"," - ",ue.date||"No Date")}),_.length>2&&r.createElement("div",{style:{fontSize:i?"0.3rem":"0.6rem",color:"#e0e0e0",textAlign:"center",fontStyle:"italic",padding:i?"0.15rem":"0.25rem"}},"+",_.length-2," more..."))),r.createElement("div",{style:{padding:i?"0.4rem":"0.6rem",background:"linear-gradient(135deg, rgba(255, 193, 7, 0.1), rgba(0,0,0,0.2))",borderRadius:"6px",border:"1px solid rgba(255, 193, 7, 0.3)",fontSize:i?"0.35rem":"0.65rem",color:"#ffffff",textAlign:"center",marginBottom:i?"0.3rem":"0.5rem"}},r.createElement("div",{style:{fontWeight:"bold",color:"#ffc107",marginBottom:"3px"}}," Phase 2 Status"),r.createElement("div",{style:{fontSize:i?"0.3rem":"0.55rem",lineHeight:"1.3"}},Ce?r.createElement("span",{style:{color:"#4ade80"}}," Minimum met (",re,"/4 matches)"):r.createElement("span",{style:{color:"#fbbf24"}}," Need ",X-re," more to minimum"),qe>0&&r.createElement("span",{style:{color:"#3b82f6"}},"  Can challenge ",qe," more (max 4 spots higher)")))),r.createElement(d7,{isOpen:O,onClose:()=>R(!1),isMobile:i}),r.createElement(u7,{isOpen:A,onClose:()=>F(!1),phase1Stats:Q,playerName:t,playerLastName:a,isMobile:i}))}const p7=({phase1EndDate:t,isMobile:a,currentMonth:e,onMonthChange:n,onOpenOpponentsModal:i,upcomingMatches:l,playerName:c,playerLastName:u,onDateSelect:m,onMatchClick:h})=>{const f=new Date,y=e.getMonth(),b=e.getFullYear(),w=new Date(b,y,1),_=new Date(b,y+1,0).getDate(),S=w.getDay(),C=[];for(let O=0;O<S;O++)C.push(null);for(let O=1;O<=_;O++)C.push(O);const I=C.length,N=7-I%7;for(let O=0;O<N;O++)C.push(null);const k=N>=3;console.log(`Calendar debug: totalCells=${I}, emptyCellsInLastRow=${N}, needsMoreMargin=${k}`);const M=O=>!t||!O?!1:O===t.getDate()&&y===t.getMonth()&&b===t.getFullYear(),T=O=>O===f.getDate()&&y===f.getMonth()&&b===f.getFullYear(),q=O=>O&&O<f.getDate()&&y===f.getMonth()&&b===f.getFullYear(),z=["January","February","March","April","May","June","July","August","September","October","November","December"],G=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],K=()=>{const O=new Date(b,y-1,1);n(O)},ie=()=>{const O=new Date(b,y+1,1);n(O)},H=O=>{if(!O||!l)return[];const A=new Date(b,y,O).toISOString().split("T")[0];return l.filter(F=>{let Q=null;if(F.scheduledDate){const V=new Date(F.scheduledDate);isNaN(V.getTime())||(Q=V.toISOString().split("T")[0])}else if(F.date){const V=F.date.split("-");if(V.length===3){const[P,j,J]=V;Q=`${J}-${P.padStart(2,"0")}-${j.padStart(2,"0")}`}}return Q===A})},Z=O=>H(O).length>0;return r.createElement("div",{style:{color:"#ffffff"}},r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:a?"2px":"4px"}},r.createElement("button",{onClick:K,style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"#ffffff",fontSize:a?"0.9rem":"1rem",cursor:"pointer",padding:a?"4px 6px":"6px 8px",borderRadius:"4px",transition:"all 0.2s ease"},onMouseEnter:O=>O.target.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:O=>O.target.style.background="rgba(255, 255, 255, 0.1)"},""),r.createElement("div",{style:{textAlign:"center",fontSize:a?"1rem":"1.2rem",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",width:"100%"}},z[y]," ",b),r.createElement("button",{onClick:ie,style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"#ffffff",fontSize:a?"0.9rem":"1rem",cursor:"pointer",padding:a?"4px 6px":"6px 8px",borderRadius:"4px",transition:"all 0.2s ease"},onMouseEnter:O=>O.target.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:O=>O.target.style.background="rgba(255, 255, 255, 0.1)"},"")),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"0px",marginBottom:a?"2px":"3px"}},G.map(O=>r.createElement("div",{key:O,style:{textAlign:"center",fontSize:a?"0.8rem":"0.9rem",fontWeight:"bold",color:"#cccccc",padding:a?"2px 1px":"3px 1px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},O))),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"0px",width:a?"450px":"800px",height:a?"280px":"400px",margin:"0 auto"}},C.map((O,R)=>r.createElement("div",{key:R,onClick:()=>{if(O&&!Z(O)&&m){const A=new Date(b,y,O);m(A)}},title:Z(O)?H(O).map(A=>{let F="";return A.player1Id&&A.player2Id?F=A.player1Id.trim().toLowerCase()===`${c} ${u}`.trim().toLowerCase()?A.player2Id:A.player1Id:A.senderName&&A.receiverName&&(F=A.senderName.trim().toLowerCase()===`${c} ${u}`.trim().toLowerCase()?A.receiverName:A.senderName),`Click to view match details vs ${F}`}).join(", "):"Click to schedule match",style:{aspectRatio:"1.2",display:"flex",alignItems:"flex-start",justifyContent:"flex-end",fontSize:a?"0.9rem":"1rem",fontWeight:"bold",borderRadius:"2px",cursor:O?"pointer":"default",background:O?M(O)?"#e74c3c":q(O)?"rgba(255,255,255,0.1)":"transparent":"transparent",border:O?M(O)?"1px solid #c0392b":T(O)?"2px solid #4CAF50":"1px solid rgba(255,255,255,0.1)":"none",color:O?M(O)||T(O)?"#ffffff":q(O)?"#888888":"#ffffff":"transparent",transition:"all 0.2s ease",padding:"2px"},onMouseEnter:A=>{O&&(A.target.style.transform="scale(1.05)",A.target.style.boxShadow="0 2px 8px rgba(255,255,255,0.2)")},onMouseLeave:A=>{O&&(A.target.style.transform="scale(1)",A.target.style.boxShadow="none")}},r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"space-between",width:"100%",height:"100%"}},r.createElement("span",{style:{fontSize:a?"0.8rem":"0.9rem",fontWeight:"bold",color:"inherit",textAlign:"right",padding:"1px"}},O||""),Z(O)&&r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"1px",padding:"1px",flex:1,justifyContent:"flex-end"}},H(O).slice(0,a?2:3).map((F,Q)=>{let V="";F.player1Id&&F.player2Id?V=F.player1Id.trim().toLowerCase()===`${c} ${u}`.trim().toLowerCase()?F.player2Id:F.player1Id:F.senderName&&F.receiverName&&(V=F.senderName.trim().toLowerCase()===`${c} ${u}`.trim().toLowerCase()?F.receiverName:F.senderName);const P=V.length>(a?8:10)?V.substring(0,a?8:10)+"...":V;return r.createElement("div",{key:F._id||Q,style:{fontSize:a?"0.5rem":"0.6rem",color:"#4CAF50",fontWeight:"bold",textAlign:"center",cursor:"pointer",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",padding:"1px",borderRadius:"1px",background:"rgba(76, 175, 80, 0.1)",border:"1px solid rgba(76, 175, 80, 0.3)",transition:"all 0.2s ease",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onMouseEnter:j=>{j.target.style.background="rgba(76, 175, 80, 0.3)",j.target.style.transform="scale(1.05)"},onMouseLeave:j=>{j.target.style.background="rgba(76, 175, 80, 0.1)",j.target.style.transform="scale(1)"},onClick:j=>{j.stopPropagation(),h&&h(F)},title:`Click to view match details vs ${V}`},P)}),(()=>{const A=H(O);return A.length>(a?2:3)?r.createElement("div",{style:{fontSize:a?"0.4rem":"0.5rem",color:"#4CAF50",textAlign:"center",padding:"1px",fontStyle:"italic"}},"+",A.length-(a?2:3)," more"):null})()))))),r.createElement("div",{style:{marginTop:(()=>{const O=k?a?"60px":"80px":a?"20px":"24px";return console.log(`Legend margin: needsMoreMargin=${k}, isMobile=${a}, margin=${O}`),O})(),fontSize:a?"0.7rem":"0.8rem",display:"flex",flexDirection:"column",gap:"6px",padding:a?"12px":"16px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:a?"3px":"4px"}},r.createElement("div",{style:{width:a?"6px":"8px",height:a?"6px":"8px",background:"transparent",border:"1px solid #4CAF50",borderRadius:"1px"}}),r.createElement("span",null,"Today (outline)")),t&&r.createElement("div",{style:{display:"flex",alignItems:"center",gap:a?"3px":"4px"}},r.createElement("div",{style:{width:a?"6px":"8px",height:a?"6px":"8px",background:"#e74c3c",border:"1px solid #c0392b",borderRadius:"1px"}}),r.createElement("span",null,"Phase 1 Deadline (",Ca(t,"MMM d, yyyy"),")")),r.createElement("div",{style:{display:"flex",alignItems:"center",gap:a?"3px":"4px"}},r.createElement("div",{style:{width:a?"6px":"8px",height:a?"6px":"8px",background:"transparent",border:"1px solid #4CAF50",borderRadius:"50%",position:"relative"}},r.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"2px",height:"2px",background:"#4CAF50",borderRadius:"50%"}})),r.createElement("span",null,"Click scheduled opponent for match details"))))},f7=({isOpen:t,onClose:a,isMobile:e,phase1EndDate:n,upcomingMatches:i,playerName:l,playerLastName:c,onOpenOpponentsModal:u,onMatchClick:m,onSmartMatchClick:h})=>{const[f,y]=v.useState(new Date);return t?r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,backdropFilter:"blur(3px)",WebkitBackdropFilter:"blur(3px)",padding:"60px"},onClick:a},r.createElement("div",{style:{background:e?"rgba(0, 0, 0, 0.9)":"linear-gradient(120deg, #232323 80%, #2a0909 100%)",border:e?"2px solid rgba(255, 255, 255, 0.3)":"2px solid #e53e3e",borderRadius:e?"16px":"1.2rem",padding:e?"12px":"0",width:e?"95%":"auto",maxWidth:e?"none":"700px",minWidth:e?"auto":"400px",boxShadow:e?"0 8px 32px rgba(0,0,0,0.6)":"0 0 32px #e53e3e, 0 0 40px rgba(0,0,0,0.85)",backdropFilter:e?"blur(12px)":"none",maxHeight:e?"80%":"65vh",overflow:"auto",margin:e?"0":"0 auto",animation:"modalBounceIn 0.5s cubic-bezier(.21,1.02,.73,1.01)",display:"flex",flexDirection:"column"},onClick:b=>b.stopPropagation()},r.createElement("div",{style:{position:"relative",textAlign:"center",marginBottom:e?"12px":"0",padding:e?"8px":"1.1rem 1.5rem 0.7rem 1.5rem",borderRadius:e?"12px":"1.2rem 1.2rem 0 0",background:e?"rgba(0, 0, 0, 0.6)":"#e53e3e",border:e?"1px solid rgba(255,255,255,0.2)":"none",boxShadow:e?"0 4px 16px rgba(0,0,0,0.3)":"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:e?"default":"grab",userSelect:"none"}},!e&&r.createElement("span",{style:{position:"absolute",left:0,top:0,width:"100%",height:"5px",background:"linear-gradient(90deg, #fff0 0%, #e53e3e 60%, #fff0 100%)",borderTopLeftRadius:"1.2rem",borderTopRightRadius:"1.2rem",pointerEvents:"none"}}),r.createElement("h3",{style:{margin:0,color:"#ffffff",fontSize:e?"1.2rem":"1.3rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",textShadow:e?"2px 2px 4px rgba(0,0,0,0.8)":"0 1px 12px #000a",letterSpacing:e?"0.5px":"0.02em",wordBreak:"break-word",minWidth:0}},r.createElement("span",{style:{fontSize:e?"1rem":"1.3rem",background:e?"linear-gradient(45deg, #4CAF50, #4CAF50dd)":"none",padding:e?"8px 16px":"0",borderRadius:e?"8px":"0",boxShadow:e?"0 4px 16px rgba(0,0,0,0.4)":"none"}}," Phase 1 Calendar")),r.createElement("button",{onClick:a,style:{position:"absolute",right:e?"8px":"1.5rem",top:"50%",transform:"translateY(-50%)",background:e?"rgba(255, 255, 255, 0.1)":"none",border:e?"1px solid rgba(255, 255, 255, 0.3)":"none",color:"#ffffff",fontSize:e?"1.2rem":"2em",cursor:"pointer",padding:"0",width:e?"32px":"auto",height:e?"32px":"auto",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:e?"50%":"0",transition:"all 0.2s ease",fontWeight:"bold",lineHeight:1,zIndex:10},onMouseEnter:b=>{e?(b.target.style.background="rgba(255, 255, 255, 0.2)",b.target.style.transform="scale(1.1)"):b.target.style.color="#ffd6d6"},onMouseLeave:b=>{e?(b.target.style.background="rgba(255, 255, 255, 0.1)",b.target.style.transform="scale(1)"):b.target.style.color="#ffffff"}},"")),r.createElement("div",{style:{padding:e?"0":"0.8rem",flex:1,overflow:"auto",maxHeight:"calc(100vh - 200px)"}},r.createElement("div",{style:{background:"rgba(76, 175, 80, 0.15)",border:"1px solid rgba(76, 175, 80, 0.4)",borderRadius:"12px",padding:e?"6px":"10px",marginBottom:e?"6px":"10px",textAlign:"center"}},r.createElement("div",{style:{fontSize:e?"0.8rem":"1rem",color:"#ffffff",fontWeight:"bold",marginBottom:e?"3px":"4px",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}}," Click any date to see opponents available for that day"),r.createElement("div",{style:{fontSize:e?"0.7rem":"0.9rem",color:"#cccccc",fontStyle:"italic",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}}," Or click the Progress meter on the home screen to see all available opponents"),r.createElement("div",{style:{fontSize:e?"0.7rem":"0.9rem",color:"#cccccc",fontStyle:"italic",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",marginTop:e?"2px":"3px",marginBottom:e?"4px":"6px"}}," Smart Match pairs you with assigned opponents based on matching availability"),r.createElement("button",{onClick:()=>{console.log(" Calendar Modal: Smart Match button clicked"),h?(console.log(" Calendar Modal: Calling onSmartMatchClick"),h()):(console.log(" Calendar Modal: onSmartMatchClick is not defined"),alert("Smart Match functionality is not available. Please try again."))},style:{background:"linear-gradient(135deg, rgba(255, 193, 7, 0.3), rgba(255, 193, 7, 0.2), rgba(255, 193, 7, 0.1))",border:"1px solid rgba(255, 193, 7, 0.4)",color:"#ffffff",fontSize:e?"0.7rem":"0.8rem",fontWeight:"bold",cursor:"pointer",padding:e?"8px 12px":"10px 16px",borderRadius:"8px",transition:"all 0.3s ease",textShadow:"1px 1px 2px rgba(0,0,0,0.8)",boxShadow:"0 2px 8px rgba(255, 193, 7, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",margin:"0 auto",zIndex:10},onMouseEnter:b=>{b.target.style.background="linear-gradient(135deg, rgba(255, 193, 7, 0.4), rgba(255, 193, 7, 0.3), rgba(255, 193, 7, 0.2))",b.target.style.transform="scale(1.02) translateY(-1px)",b.target.style.boxShadow="0 4px 12px rgba(255, 193, 7, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)"},onMouseLeave:b=>{b.target.style.background="linear-gradient(135deg, rgba(255, 193, 7, 0.3), rgba(255, 193, 7, 0.2), rgba(255, 193, 7, 0.1))",b.target.style.transform="scale(1)",b.target.style.boxShadow="0 2px 8px rgba(255, 193, 7, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)"}}," Smart Match")),r.createElement(p7,{phase1EndDate:n,isMobile:e,currentMonth:f,onMonthChange:y,onOpenOpponentsModal:u,upcomingMatches:i,playerName:l,playerLastName:c,onMatchClick:m,onDateSelect:b=>{console.log(" Calendar Modal: Date selected:",b),u?(console.log(" Calendar Modal: Calling onOpenOpponentsModal"),u(b)):console.log(" Calendar Modal: onOpenOpponentsModal is not defined")}})))):null},h7=({isOpen:t,onClose:a,match:e,onValidate:n,onReject:i})=>{const[l,c]=v.useState({actualDate:"",actualTime:"",actualLocation:"",winner:"",score:"",notes:"",witnesses:"",photos:null}),[u,m]=v.useState(!1);if(!t||!e)return null;const h=async y=>{y.preventDefault(),m(!0);try{if(!l.actualDate||!l.winner||!l.score){alert("Please fill in all required fields: Date, Winner, and Score");return}await n({matchId:e._id,...l}),a()}catch(b){console.error("Error validating match:",b),alert("Error validating match. Please try again.")}finally{m(!1)}},f=async()=>{if(window.confirm("Are you sure you want to reject this match completion? This will require the match to be replayed.")){m(!0);try{await i(e._id),a()}catch(y){console.error("Error rejecting match:",y),alert("Error rejecting match. Please try again.")}finally{m(!1)}}};return r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},r.createElement("div",{style:{background:"#222",border:"2px solid #444",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}},r.createElement("h2",{style:{margin:0,color:"#fff"}}," Match Validation"),r.createElement("button",{onClick:a,style:{background:"none",border:"none",color:"#aaa",fontSize:"24px",cursor:"pointer"}},"")),r.createElement("div",{style:{background:"#333",padding:"16px",borderRadius:"8px",marginBottom:"20px"}},r.createElement("h3",{style:{margin:"0 0 12px 0",color:"#fff"}},"Match Details"),r.createElement("div",{style:{color:"#ccc",fontSize:"0.9rem"}},r.createElement("div",null,r.createElement("strong",null,"Players:")," ",e.player1," vs ",e.player2),r.createElement("div",null,r.createElement("strong",null,"Scheduled Date:")," ",e.date),r.createElement("div",null,r.createElement("strong",null,"Location:")," ",e.location))),r.createElement("form",{onSubmit:h},r.createElement("div",{style:{marginBottom:"16px"}},r.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Actual Date Played * ",r.createElement("span",{style:{color:"#ff4444"}},"Required")),r.createElement("input",{type:"date",value:l.actualDate,onChange:y=>c({...l,actualDate:y.target.value}),style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"},required:!0})),r.createElement("div",{style:{marginBottom:"16px"}},r.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Actual Time Played"),r.createElement("input",{type:"time",value:l.actualTime,onChange:y=>c({...l,actualTime:y.target.value}),style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"}})),r.createElement("div",{style:{marginBottom:"16px"}},r.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Actual Location"),r.createElement("input",{type:"text",value:l.actualLocation,onChange:y=>c({...l,actualLocation:y.target.value}),placeholder:"Where was the match actually played?",style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"}})),r.createElement("div",{style:{marginBottom:"16px"}},r.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Winner * ",r.createElement("span",{style:{color:"#ff4444"}},"Required")),r.createElement("select",{value:l.winner,onChange:y=>c({...l,winner:y.target.value}),style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"},required:!0},r.createElement("option",{value:""},"Select winner..."),r.createElement("option",{value:e.player1},e.player1),r.createElement("option",{value:e.player2},e.player2))),r.createElement("div",{style:{marginBottom:"16px"}},r.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Final Score * ",r.createElement("span",{style:{color:"#ff4444"}},"Required")),r.createElement("input",{type:"text",value:l.score,onChange:y=>c({...l,score:y.target.value}),placeholder:"e.g., 7-3, 8-2, etc.",style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"},required:!0})),r.createElement("div",{style:{marginBottom:"16px"}},r.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Witnesses (optional)"),r.createElement("input",{type:"text",value:l.witnesses,onChange:y=>c({...l,witnesses:y.target.value}),placeholder:"Names of people who witnessed the match",style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff"}})),r.createElement("div",{style:{marginBottom:"20px"}},r.createElement("label",{style:{display:"block",marginBottom:"4px",color:"#fff"}},"Additional Notes"),r.createElement("textarea",{value:l.notes,onChange:y=>c({...l,notes:y.target.value}),placeholder:"Any additional details about the match...",rows:"3",style:{width:"100%",padding:"8px",background:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff",resize:"vertical"}})),r.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"}},r.createElement("button",{type:"button",onClick:f,disabled:u,style:{padding:"10px 16px",background:"#ff4444",border:"none",borderRadius:"6px",color:"#fff",cursor:u?"not-allowed":"pointer",opacity:u?.6:1}},u?"Rejecting...":"Reject Match"),r.createElement("button",{type:"submit",disabled:u,style:{padding:"10px 16px",background:"#00aa00",border:"none",borderRadius:"6px",color:"#fff",cursor:u?"not-allowed":"pointer",opacity:u?.6:1}},u?"Validating...":"Validate Match")))))};class g7 extends r.Component{constructor(a){super(a),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0}}componentDidCatch(a,e){this.setState({error:a,errorInfo:e}),console.error("ErrorBoundary caught an error:",a,e)}render(){return this.state.hasError?r.createElement("div",{style:{padding:"20px",margin:"10px",border:"1px solid #ff6b6b",borderRadius:"8px",backgroundColor:"#fff5f5",color:"#d63031"}},r.createElement("h3",null,"Something went wrong."),r.createElement("details",{style:{whiteSpace:"pre-wrap"}},this.state.error&&this.state.error.toString(),r.createElement("br",null),this.state.errorInfo&&this.state.errorInfo.componentStack),r.createElement("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"#ff6b6b",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Try again")):this.props.children}}function y7({isOpen:t,onClose:a,isMobile:e}){return t?r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"10px"}},r.createElement("div",{style:{background:"linear-gradient(135deg, rgba(42, 42, 42, 0.95), rgba(26, 26, 26, 0.98))",border:"2px solid #4CAF50",borderRadius:"12px",width:e?"98%":"90%",maxWidth:"800px",height:e?"98%":"95%",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.5)",color:"#ffffff"}},r.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",borderBottom:"2px solid #4CAF50",flexShrink:0}},r.createElement("h2",{style:{margin:0,fontSize:e?"1.2rem":"1.5rem",color:"#ffffff",fontWeight:"bold",display:"flex",alignItems:"center",gap:"10px",textAlign:"center"}}," Phase 1 Scheduled Opponents Rules"),r.createElement("button",{onClick:a,style:{position:"absolute",right:"20px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ffffff",fontSize:"2rem",cursor:"pointer",padding:"5px",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s ease"},onMouseEnter:n=>n.target.style.backgroundColor="rgba(255,255,255,0.1)",onMouseLeave:n=>n.target.style.backgroundColor="transparent"},"")),r.createElement("div",{style:{flex:1,overflowY:"auto",padding:"25px",fontSize:e?"1rem":"1.1rem",lineHeight:"1.6"}},r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#4CAF50",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}}," Overview"),r.createElement("p",{style:{margin:"0 0 15px 0",color:"#e0e0e0"}},"Phase 1 covers Weeks 1-6 where each player is assigned specific opponents to schedule and complete matches with."),r.createElement("p",{style:{margin:"0 0 15px 0",color:"#e0e0e0"}},"This phase focuses on completing your assigned matches with maximum scheduling flexibility.")),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#4CAF50",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}}," Opponent Assignment"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Assigned Opponents:")," Each player is assigned 6 opponents at the start of the session"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Match Requirements:")," You must complete 1 match against each of your 6 assigned opponents"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Total Matches:")," 6 matches total during Phase 1"))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#4CAF50",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}}," Scheduling Flexibility"),r.createElement("div",{style:{background:"rgba(76, 175, 80, 0.1)",border:"1px solid rgba(76, 175, 80, 0.3)",borderRadius:"8px",padding:"15px",marginBottom:"15px"}},r.createElement("p",{style:{margin:"0 0 10px 0",color:"#4CAF50",fontWeight:"bold"}},"Maximum scheduling flexibility for your convenience:"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"Any Day:")," Matches may be played on any day of the week"),r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"Any Time:")," Matches may be played at any time that works for both players"),r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"Any Location:")," Matches may be played at any safe, mutually agreed location")))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#4CAF50",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}}," Completion Deadline"),r.createElement("div",{style:{background:"rgba(255, 193, 7, 0.1)",border:"1px solid rgba(255, 193, 7, 0.3)",borderRadius:"8px",padding:"15px",marginBottom:"15px"}},r.createElement("p",{style:{margin:"0 0 10px 0",color:"#ffc107",fontWeight:"bold"}},"All Phase 1 matches must be completed by the end of Week 6"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"Deadline:")," End of Week 6 (Sunday at 11:59 PM)"),r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"No Extensions:")," Phase 1 deadline is firm and cannot be extended"),r.createElement("li",{style:{marginBottom:"5px"}},r.createElement("strong",null,"Impact:")," Incomplete matches may affect your standings and Phase 2 eligibility")))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#4CAF50",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}}," Match Rules"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Standard Rules:")," All matches use the official CSI rule book"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Scoring:")," All scoring must be done with the BCAPL scoring app"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Payment:")," Standard match payment and fees apply"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"FargoRate:")," All matches are integrated with FargoRate for ratings"))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("h3",{style:{color:"#4CAF50",fontSize:e?"1.2rem":"1.4rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}}," Scheduling Process"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0"}},r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Contact Opponents:")," Reach out to your assigned opponents to schedule matches"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Mutual Agreement:")," Both players must agree on date, time, and location"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Record Matches:")," All scheduled matches must be recorded in the League Scheduling Hub"),r.createElement("li",{style:{marginBottom:"8px"}},r.createElement("strong",null,"Communication:")," Use the message center to coordinate with opponents"))),r.createElement("div",{style:{background:"rgba(255, 68, 68, 0.1)",border:"1px solid rgba(255, 68, 68, 0.3)",borderRadius:"8px",padding:"15px",marginTop:"20px"}},r.createElement("h4",{style:{color:"#ff4444",fontSize:e?"1rem":"1.1rem",margin:"0 0 10px 0",display:"flex",alignItems:"center",gap:"8px"}}," Important Notes"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#e0e0e0",fontSize:e?"0.85rem":"0.9rem"}},r.createElement("li",{style:{marginBottom:"5px"}},"Phase 1 results determine your standings position for Phase 2 challenges"),r.createElement("li",{style:{marginBottom:"5px"}},"Incomplete matches may result in forfeits and affect your overall standings"),r.createElement("li",{style:{marginBottom:"5px"}},"All matches must be completed and recorded before Phase 2 begins"),r.createElement("li",{style:{marginBottom:"5px"}},"Use the calendar feature to track your scheduled matches and deadlines")))),r.createElement("div",{style:{textAlign:"center",padding:"20px",borderTop:"1px solid rgba(255,255,255,0.2)",flexShrink:0}},r.createElement("button",{onClick:a,style:{background:"linear-gradient(135deg, #4CAF50, #45a049)",border:"none",color:"#ffffff",fontSize:e?"0.9rem":"1rem",fontWeight:"bold",padding:e?"10px 20px":"12px 25px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 8px rgba(0,0,0,0.3)"},onMouseEnter:n=>{n.target.style.transform="translateY(-2px)",n.target.style.boxShadow="0 6px 12px rgba(0,0,0,0.4)"},onMouseLeave:n=>{n.target.style.transform="translateY(0)",n.target.style.boxShadow="0 4px 8px rgba(0,0,0,0.3)"}},"Got It! ")))):null}const b7=({isOpen:t,onClose:a,isMobile:e,playerName:n,playerLastName:i,completedMatches:l,totalRequiredMatches:c,playerStats:u,standings:m,timeLeft:h,deadlineStatus:f,phase1EndDate:y,allPlayers:b,selectedDivision:w})=>{const[E,_]=v.useState(null);v.useEffect(()=>{t&&b&&m&&S()},[t,b,m]);const S=()=>{if(!b||!m)return;const N=b.length,k=m.filter(K=>K.matchesCompleted&&K.matchesCompleted>0).length,M=m.reduce((K,ie)=>K+(ie.matchesCompleted||0),0),T=N*c,q=Math.round(M/T*100),z=Math.round(M/N/c*100),G=m.filter(K=>K.matchesCompleted>0).sort((K,ie)=>{const H=(K.matchesCompleted||0)/c;return(ie.matchesCompleted||0)/c-H}).slice(0,5);_({totalPlayers:N,playersWithMatches:k,totalMatchesCompleted:M,totalMatchesRequired:T,leagueProgress:q,avgCompletion:z,topPerformers:G})},C=()=>f==="passed"?"#e74c3c":f==="critical"?"#ff6b6b":f==="urgent"?"#ff8800":f==="warning"?"#ffaa00":"#4CAF50",I=()=>f==="passed"?"":f==="critical"?"":f==="urgent"||f==="warning"?"":"";return t?r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(8px)"},onClick:a},r.createElement("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.9), rgba(20, 20, 20, 0.95))",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:e?"8px":"12px",padding:e?"8px":"12px",width:e?"88%":"75%",maxWidth:e?"none":"800px",maxHeight:e?"75vh":"70vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.5), 0 4px 16px rgba(255,255,255,0.1)",backdropFilter:"blur(12px)"},onClick:N=>N.stopPropagation()},r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e?"8px":"12px",paddingBottom:e?"6px":"8px",borderBottom:"1px solid rgba(255,255,255,0.2)"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:e?"4px":"8px"}},r.createElement("div",{style:{fontSize:e?"1rem":"1.2rem",color:C()}},I()),r.createElement("h2",{style:{margin:0,color:"#ffffff",fontSize:e?"0.8rem":"1.1rem",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.8)"}},"Phase 1 Overview")),r.createElement("button",{onClick:a,style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.3)",color:"#ffffff",fontSize:e?"0.9rem":"1.1rem",cursor:"pointer",padding:e?"4px 8px":"6px 10px",borderRadius:"4px",transition:"all 0.2s ease",fontWeight:"bold"},onMouseEnter:N=>N.target.style.background="rgba(255,255,255,0.2)",onMouseLeave:N=>N.target.style.background="rgba(255,255,255,0.1)"},"Close")),r.createElement("div",{style:{display:"grid",gridTemplateColumns:e?"1fr":"1fr 1fr",gap:e?"8px":"12px"}},r.createElement("div",{style:{background:"rgba(0, 0, 0, 0.4)",borderRadius:"8px",padding:e?"8px":"12px",border:"1px solid rgba(255,255,255,0.15)"}},r.createElement("h3",{style:{margin:"0 0 8px 0",color:"#ffffff",fontSize:e?"0.7rem":"0.9rem",fontWeight:"bold",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},"Your Status"),r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"4px",padding:e?"6px":"8px",marginBottom:e?"6px":"8px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"}},r.createElement("span",{style:{color:"#ffffff",fontSize:e?"0.7rem":"0.9rem",fontWeight:"600"}},"Progress"),r.createElement("span",{style:{color:"#4CAF50",fontSize:e?"0.7rem":"0.9rem",fontWeight:"bold"}},l.length,"/",c)),r.createElement("div",{style:{width:"100%",height:e?"6px":"8px",background:"rgba(255,255,255,0.1)",borderRadius:"4px",overflow:"hidden"}},r.createElement("div",{style:{width:`${Math.round(l.length/c*100)}%`,height:"100%",background:`linear-gradient(90deg, ${C()}, ${C()}dd)`,borderRadius:"4px",transition:"width 0.4s ease"}}))),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:e?"6px":"8px"}},r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"6px",padding:e?"6px":"8px",textAlign:"center"}},r.createElement("div",{style:{color:"#cccccc",fontSize:e?"0.6rem":"0.8rem",marginBottom:"3px"}},"Record"),r.createElement("div",{style:{color:"#ffffff",fontSize:e?"0.8rem":"1rem",fontWeight:"bold"}},(u==null?void 0:u.wins)||0,"-",(u==null?void 0:u.losses)||0),r.createElement("div",{style:{color:"#4CAF50",fontSize:e?"0.6rem":"0.8rem",fontWeight:"600"}},(u==null?void 0:u.winRate)||0,"%")),r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"6px",padding:e?"6px":"8px",textAlign:"center"}},r.createElement("div",{style:{color:"#cccccc",fontSize:e?"0.6rem":"0.8rem",marginBottom:"3px"}},"Position"),r.createElement("div",{style:{color:"#ffffff",fontSize:e?"0.8rem":"1rem",fontWeight:"bold"}},(u==null?void 0:u.position)||"N/A"))),r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"4px",padding:e?"6px":"8px",marginTop:e?"6px":"8px",textAlign:"center"}},r.createElement("div",{style:{color:"#cccccc",fontSize:e?"0.6rem":"0.8rem",marginBottom:"4px"}},"Time Remaining"),r.createElement("div",{style:{color:C(),fontSize:e?"0.8rem":"1rem",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},h!=null&&h.passed?"DEADLINE PASSED":(h==null?void 0:h.days)>0?`${h.days} days`:(h==null?void 0:h.hours)>0?`${h.hours} hours`:"Less than 1 hour"),y&&r.createElement("div",{style:{color:"#cccccc",fontSize:e?"0.5rem":"0.7rem",marginTop:"2px"}},"Ends: ",Ca(y,"MMM d, yyyy")))),r.createElement("div",{style:{background:"rgba(0, 0, 0, 0.4)",borderRadius:"8px",padding:e?"8px":"12px",border:"1px solid rgba(255,255,255,0.15)"}},r.createElement("h3",{style:{margin:"0 0 8px 0",color:"#ffffff",fontSize:e?"0.7rem":"0.9rem",fontWeight:"bold",textAlign:"center",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"}},"League Status"),E?r.createElement(r.Fragment,null,r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"4px",padding:e?"6px":"8px",marginBottom:e?"6px":"8px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"}},r.createElement("span",{style:{color:"#ffffff",fontSize:e?"0.7rem":"0.9rem",fontWeight:"600"}},"League Progress"),r.createElement("span",{style:{color:"#4CAF50",fontSize:e?"0.7rem":"0.9rem",fontWeight:"bold"}},E.leagueProgress,"%")),r.createElement("div",{style:{width:"100%",height:e?"6px":"8px",background:"rgba(255,255,255,0.1)",borderRadius:"4px",overflow:"hidden"}},r.createElement("div",{style:{width:`${E.leagueProgress}%`,height:"100%",background:"linear-gradient(90deg, #4CAF50, #45a049)",borderRadius:"4px",transition:"width 0.4s ease"}}))),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:e?"4px":"6px",marginBottom:e?"6px":"8px"}},r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"4px",padding:e?"4px":"6px",textAlign:"center"}},r.createElement("div",{style:{color:"#cccccc",fontSize:e?"0.5rem":"0.7rem",marginBottom:"2px"}},"Active Players"),r.createElement("div",{style:{color:"#ffffff",fontSize:e?"0.7rem":"0.9rem",fontWeight:"bold"}},E.playersWithMatches,"/",E.totalPlayers)),r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"4px",padding:e?"4px":"6px",textAlign:"center"}},r.createElement("div",{style:{color:"#cccccc",fontSize:e?"0.5rem":"0.7rem",marginBottom:"2px"}},"Avg Completion"),r.createElement("div",{style:{color:"#ffffff",fontSize:e?"0.7rem":"0.9rem",fontWeight:"bold"}},E.avgCompletion,"%"))),r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"4px",padding:e?"6px":"8px"}},r.createElement("div",{style:{color:"#ffffff",fontSize:e?"0.7rem":"0.9rem",fontWeight:"600",marginBottom:"4px",textAlign:"center"}},"Top Performers"),r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"4px"}},E.topPerformers.map((N,k)=>r.createElement("div",{key:k,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 8px",background:"rgba(255,255,255,0.03)",borderRadius:"4px"}},r.createElement("span",{style:{color:"#ffffff",fontSize:e?"0.5rem":"0.7rem",fontWeight:k===0?"bold":"normal"}},k+1,". ",N.name),r.createElement("span",{style:{color:"#4CAF50",fontSize:e?"0.5rem":"0.7rem",fontWeight:"600"}},Math.round(N.matchesCompleted/c*100),"%")))))):r.createElement("div",{style:{color:"#cccccc",textAlign:"center",fontSize:e?"0.9rem":"1.1rem",padding:"20px"}},"Loading league statistics..."))),r.createElement("div",{style:{marginTop:e?"8px":"12px",paddingTop:e?"6px":"8px",borderTop:"1px solid rgba(255,255,255,0.2)",textAlign:"center"}},r.createElement("div",{style:{color:"#cccccc",fontSize:e?"0.5rem":"0.7rem",fontStyle:"italic",marginBottom:e?"8px":"12px"}},"Phase 1 ends when all players complete ",c," matches or the deadline passes"),r.createElement("button",{onClick:a,style:{background:"linear-gradient(135deg, #4CAF50, #45a049)",border:"none",color:"#ffffff",fontSize:e?"0.8rem":"1rem",cursor:"pointer",padding:e?"8px 16px":"10px 20px",borderRadius:"6px",transition:"all 0.2s ease",fontWeight:"bold",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",minWidth:e?"100px":"120px"},onMouseEnter:N=>N.target.style.transform="translateY(-2px)",onMouseLeave:N=>N.target.style.transform="translateY(0)"},"Close Overview")))):null},v7=({isOpen:t,onClose:a,currentUser:e,isMobile:n,onUserUpdate:i,availableLocations:l=[]})=>{const[c,u]=v.useState(null),[m,h]=v.useState({}),[f,y]=v.useState(e);v.useEffect(()=>{y(e)},[e]);const b=(T,q)=>{u(T),h(q)},w=()=>{u(null),h({})},E=async T=>{var q;try{console.log("Saving section:",T),console.log("Edit data:",m),console.log("Current user:",e),console.log("User ID:",e==null?void 0:e._id),console.log("User email:",e==null?void 0:e.email),console.log("All user fields:",Object.keys(e||{})),console.log("Environment VITE_BACKEND_URL:",void 0);const z=e==null?void 0:e.email;if(!z){console.error("No valid user email found"),alert("Error: No valid user email found. Please refresh the page and try again.");return}console.log("Using user email:",z);const G="http://localhost:8080";console.log("Using backend URL:",G);const K=await fetch(`${G}/api/users/${encodeURIComponent(z)}`);if(!K.ok){console.error("Failed to fetch user by email"),alert("Error: Failed to fetch user data. Please refresh the page and try again.");return}const ie=await K.json(),H=((q=ie.user)==null?void 0:q._id)||ie._id;if(!H){console.error("No user ID found in response"),alert("Error: No user ID found. Please refresh the page and try again.");return}if(console.log("Found user ID:",H),T==="basic"){const A={firstName:m.firstName,lastName:m.lastName,email:m.email,phone:m.phone};console.log("Sending basic info update:",A);const F=await fetch(`${G}/api/users/${H}/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(F.ok){const Q=await F.json();console.log("Basic info updated successfully:",Q),y(Q.user),i(Q.user),u(null),h({}),alert(" Profile updated successfully!")}else{const Q=await F.json();console.error("Basic info update failed:",Q),alert(`Failed to update profile: ${Q.error||"Unknown error"}`)}return}let Z;T==="locations"?Z=m.locations:T==="preferredContacts"?Z=m.preferredContacts:Z=m[T];const O={[T]:Z};console.log("Sending section update:",O);const R=await fetch(`${G}/api/users/${H}/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});if(R.ok){const A=await R.json();console.log("Section updated successfully:",A),y(A.user),i(A.user),u(null),h({}),alert(" Profile updated successfully!")}else{const A=await R.json();console.error("Section update failed:",A),alert(`Failed to update profile: ${A.error||"Unknown error"}`)}}catch(z){console.error("Error updating profile:",z),alert("Error updating profile. Please try again.")}},_=(T,q)=>{h(z=>({...z,[T]:q}))},S=(T,q)=>{const z=m.preferredContacts||f.preferredContacts||[],G=q?[...z,T]:z.filter(K=>K!==T);h(K=>({...K,preferredContacts:G}))},C=(T,q)=>{const G=(m.locations||f.locations||"").split(`
`).filter(Boolean),K=q?[...G,T]:G.filter(ie=>ie!==T);h(ie=>({...ie,locations:K.join(`
`)}))},I=T=>{if(!T.trim())return;const z=(m.locations||f.locations||"").split(`
`).filter(Boolean);if(z.some(K=>K.trim().toLowerCase()===T.trim().toLowerCase())){alert("This location is already in your list!");return}const G=[...z,T.trim()];h(K=>({...K,locations:G.join(`
`)}))},N=()=>(m.locations||f.locations||"").split(`
`).filter(Boolean),k=()=>{const T=N();return l.filter(q=>!T.some(z=>z.trim().toLowerCase()===q.trim().toLowerCase()))};if(!t||!f)return null;const M=f.divisions||[];return r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(3px)",WebkitBackdropFilter:"blur(3px)",padding:n?"10px":"20px"},onClick:a},r.createElement("div",{style:{transform:"translate(0px, 0px)",cursor:"default",background:"linear-gradient(120deg, #232323 80%, #2a0909 100%)",color:"#fff",border:"2px solid #e53e3e",borderRadius:n?"0":"1rem",boxShadow:"0 0 32px #e53e3e, 0 0 40px rgba(0,0,0,0.85)",width:n?"95vw":"auto",maxWidth:n?"95vw":"600px",minWidth:n?"auto":"400px",margin:n?"0":"0 auto",left:0,right:0,animation:"modalBounceIn 0.5s cubic-bezier(.21,1.02,.73,1.01)",padding:0,position:"relative",fontFamily:"inherit",boxSizing:"border-box",textAlign:"center",maxHeight:n?"85vh":"90vh",overflowY:"auto"},onClick:T=>T.stopPropagation()},r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"#e53e3e",padding:"0.8rem 1rem 0.6rem 1rem",borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",position:"relative",cursor:"grab",userSelect:"none",gap:"0.8rem"}},r.createElement("span",{style:{position:"absolute",left:0,top:0,width:"100%",height:"4px",background:"linear-gradient(90deg, #fff0 0%, #e53e3e 60%, #fff0 100%)",borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",pointerEvents:"none"}}),r.createElement("h2",{style:{margin:0,fontSize:n?"0.9rem":"1rem",fontWeight:"bold",textAlign:"center",letterSpacing:"0.02em",color:"#fff",textShadow:"0 1px 12px #000a",zIndex:2,flex:1,wordBreak:"break-word",minWidth:0}}," Profile Information"),r.createElement("button",{onClick:a,style:{background:"none",border:"none",color:"#fff",fontSize:"1.5rem",cursor:"pointer",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s",display:"flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px",minWidth:"24px",zIndex:3},onMouseEnter:T=>T.target.style.backgroundColor="rgba(255, 255, 255, 0.1)",onMouseLeave:T=>T.target.style.backgroundColor="transparent"},"")),r.createElement("div",{style:{padding:n?"1rem":"1.5rem",overflowY:"auto",maxHeight:n?"calc(85vh - 80px)":"calc(90vh - 80px)"}},r.createElement("div",{style:{display:"grid",gap:n?"12px":"16px"}},r.createElement("div",{style:{background:"rgba(255, 255, 255, 0.05)",padding:n?"12px":"16px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},r.createElement("div",{style:{fontWeight:"bold",color:"#ffffff",fontSize:n?"1rem":"1.1rem"}}," Basic Information"),c!=="basic"&&r.createElement("button",{onClick:()=>b("basic",{firstName:f.firstName||"",lastName:f.lastName||"",email:f.email||"",phone:f.phone||""}),style:{background:"rgba(76, 175, 80, 0.2)",border:"1px solid rgba(76, 175, 80, 0.4)",color:"#4CAF50",padding:"4px 8px",borderRadius:"4px",fontSize:n?"0.7rem":"0.8rem",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:T=>T.target.style.background="rgba(76, 175, 80, 0.3)",onMouseLeave:T=>T.target.style.background="rgba(76, 175, 80, 0.2)"}," Edit")),c==="basic"?r.createElement("div",{style:{display:"grid",gap:"8px"}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"}},r.createElement("input",{type:"text",value:m.firstName||"",onChange:T=>_("firstName",T.target.value),placeholder:"First Name",style:{padding:"8px",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(0, 0, 0, 0.3)",color:"#ffffff",fontSize:"0.9rem"}}),r.createElement("input",{type:"text",value:m.lastName||"",onChange:T=>_("lastName",T.target.value),placeholder:"Last Name",style:{padding:"8px",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(0, 0, 0, 0.3)",color:"#ffffff",fontSize:"0.9rem"}})),r.createElement("input",{type:"email",value:m.email||"",onChange:T=>_("email",T.target.value),placeholder:"Email",style:{padding:"8px",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(0, 0, 0, 0.3)",color:"#ffffff",fontSize:"0.9rem"}}),r.createElement("input",{type:"tel",value:m.phone||"",onChange:T=>_("phone",T.target.value),placeholder:"Phone",style:{padding:"8px",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(0, 0, 0, 0.3)",color:"#ffffff",fontSize:"0.9rem"}}),r.createElement("div",{style:{display:"flex",gap:"8px",justifyContent:"center"}},r.createElement("button",{onClick:()=>E("basic"),style:{background:"#4CAF50",color:"#fff",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"}}," Save"),r.createElement("button",{onClick:w,style:{background:"#6c757d",color:"#fff",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"}}," Cancel"))):r.createElement("div",{style:{color:"#cccccc",lineHeight:"1.5",fontSize:n?"0.9rem":"0.95rem"}},r.createElement("div",null,r.createElement("strong",null,"Name:")," ",f.firstName," ",f.lastName),r.createElement("div",null,r.createElement("strong",null,"Email:")," ",f.email),r.createElement("div",null,r.createElement("strong",null,"Phone:")," ",f.phone||"Not provided"))),r.createElement("div",{style:{background:"rgba(255, 255, 255, 0.05)",padding:n?"12px":"16px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},r.createElement("div",{style:{fontWeight:"bold",color:"#ffffff",fontSize:n?"1rem":"1.1rem"}}," Preferred Contact Methods"),c!=="contacts"&&r.createElement("button",{onClick:()=>b("contacts",{preferredContacts:f.preferredContacts||[]}),style:{background:"rgba(76, 175, 80, 0.2)",border:"1px solid rgba(76, 175, 80, 0.4)",color:"#4CAF50",padding:"4px 8px",borderRadius:"4px",fontSize:n?"0.7rem":"0.8rem",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:T=>T.target.style.background="rgba(76, 175, 80, 0.3)",onMouseLeave:T=>T.target.style.background="rgba(76, 175, 80, 0.2)"}," Edit")),c==="contacts"?r.createElement("div",{style:{display:"grid",gap:"8px"}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"6px"}},["email","phone","text"].map(T=>r.createElement("label",{key:T,style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"6px",borderRadius:"4px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)"}},r.createElement("input",{type:"checkbox",checked:(m.preferredContacts||[]).includes(T),onChange:q=>S(T,q.target.checked),style:{cursor:"pointer",accentColor:"#e53e3e"}}),r.createElement("span",{style:{color:"#ffffff",fontSize:"0.8rem"}},T.charAt(0).toUpperCase()+T.slice(1))))),r.createElement("div",{style:{display:"flex",gap:"8px",justifyContent:"center"}},r.createElement("button",{onClick:()=>E("preferredContacts"),style:{background:"#4CAF50",color:"#fff",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"}}," Save"),r.createElement("button",{onClick:w,style:{background:"#6c757d",color:"#fff",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"}}," Cancel"))):r.createElement("div",{style:{color:"#cccccc",lineHeight:"1.5",fontSize:n?"0.9rem":"0.95rem"}},f.preferredContacts&&f.preferredContacts.length>0?f.preferredContacts.map(T=>T.charAt(0).toUpperCase()+T.slice(1)).join(", "):"No preferred methods set")),r.createElement("div",{style:{background:"rgba(255, 255, 255, 0.05)",padding:n?"12px":"16px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},r.createElement("div",{style:{fontWeight:"bold",color:"#ffffff",fontSize:n?"1rem":"1.1rem"}}," Preferred Locations"),c!=="locations"&&r.createElement("button",{onClick:()=>b("locations",{locations:f.locations||""}),style:{background:"rgba(76, 175, 80, 0.2)",border:"1px solid rgba(76, 175, 80, 0.4)",color:"#4CAF50",padding:"4px 8px",borderRadius:"4px",fontSize:n?"0.7rem":"0.8rem",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:T=>T.target.style.background="rgba(76, 175, 80, 0.3)",onMouseLeave:T=>T.target.style.background="rgba(76, 175, 80, 0.2)"}," Edit")),c==="locations"?r.createElement("div",{style:{display:"grid",gap:"8px"}},N().length>0&&r.createElement("div",null,r.createElement("div",{style:{color:"#4CAF50",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"4px"}}," Your Selected Locations:"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"4px"}},N().map((T,q)=>r.createElement("label",{key:q,style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer",padding:"4px 6px",borderRadius:"4px",background:"rgba(76, 175, 80, 0.1)",border:"1px solid rgba(76, 175, 80, 0.3)"}},r.createElement("input",{type:"checkbox",checked:N().includes(T),onChange:z=>C(T,z.target.checked),style:{cursor:"pointer",accentColor:"#4CAF50"}}),r.createElement("span",{style:{color:"#4CAF50",fontSize:"0.75rem"}},T))))),k().length>0&&r.createElement("div",null,r.createElement("div",{style:{color:"#ffc107",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"4px"}}," Available Locations to Add:"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"4px"}},k().map((T,q)=>r.createElement("label",{key:q,style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer",padding:"4px 6px",borderRadius:"4px",background:"rgba(255, 193, 7, 0.1)",border:"1px solid rgba(255, 193, 7, 0.3)"}},r.createElement("button",{type:"button",onClick:()=>I(T),style:{cursor:"pointer",background:"none",border:"none",color:"#ffc107",fontSize:"0.75rem",padding:"0",margin:"0"}}," Add"),r.createElement("span",{style:{color:"#ffc107",fontSize:"0.75rem"}},T))))),k().length===0&&N().length===0&&r.createElement("div",{style:{color:"#888",fontSize:"0.8rem",textAlign:"center",fontStyle:"italic"}},"No locations available. Contact admin to add more locations."),r.createElement("div",{style:{display:"flex",gap:"8px",justifyContent:"center"}},r.createElement("button",{onClick:()=>E("locations"),style:{background:"#4CAF50",color:"#fff",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"}}," Save"),r.createElement("button",{onClick:w,style:{background:"#6c757d",color:"#fff",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"}}," Cancel"))):r.createElement("div",{style:{display:"grid",gridTemplateColumns:n?"repeat(2, 1fr)":"repeat(3, 1fr)",gap:"6px"}},f.locations&&f.locations.split(`
`).filter(Boolean).map((T,q)=>r.createElement("span",{key:q,style:{background:"rgba(255, 255, 255, 0.1)",color:"#ffffff",padding:"4px 6px",borderRadius:"8px",fontSize:n?"0.65rem":"0.7rem",display:"flex",justifyContent:"center",alignItems:"center",gap:"3px",width:"100%",minHeight:"24px",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:T}," ",T)))),r.createElement("div",{style:{background:"rgba(255, 255, 255, 0.05)",padding:n?"12px":"16px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)"}},r.createElement("div",{style:{fontWeight:"bold",color:"#ffffff",marginBottom:"6px",fontSize:n?"1rem":"1.1rem"}}," Divisions"),r.createElement("div",{style:{color:"#cccccc",lineHeight:"1.5",fontSize:n?"0.9rem":"0.95rem"}},M.length>0?M.join(", "):"No divisions assigned"))),r.createElement("div",{style:{marginTop:"20px",textAlign:"center"}},r.createElement("button",{style:{background:"linear-gradient(135deg, #6c757d, #5a6268)",color:"#fff",border:"none",borderRadius:"8px",padding:n?"10px 20px":"12px 24px",fontSize:n?"0.9rem":"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(108, 117, 125, 0.3)",minWidth:n?"100px":"120px"},onMouseEnter:T=>{T.target.style.background="linear-gradient(135deg, #5a6268, #495057)",T.target.style.transform="translateY(-1px)",T.target.style.boxShadow="0 4px 12px rgba(108, 117, 125, 0.4)"},onMouseLeave:T=>{T.target.style.background="linear-gradient(135deg, #6c757d, #5a6268)",T.target.style.transform="translateY(0)",T.target.style.boxShadow="0 2px 8px rgba(108, 117, 125, 0.3)"},onClick:a}," Close")))))},Ex={findOverlappingAvailability(t,a){try{console.log("Smart Match Debug - Parsing P1 availability:",t);let e;typeof t=="string"?e=Hg(t):typeof t=="object"&&t!==null?e=t:e={Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[],Sun:[]},console.log("Smart Match Debug - Parsed P1 availability:",e),console.log("Smart Match Debug - Parsing P2 availability:",a);let n;typeof a=="string"?n=Hg(a):typeof a=="object"&&a!==null?n=a:n={Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[],Sun:[]},console.log("Smart Match Debug - Parsed P2 availability:",n);const i={};return["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].forEach(l=>{i[l]=[],e[l]&&n[l]&&(console.log(`Smart Match Debug - Checking ${l}: P1 slots:`,e[l],"P2 slots:",n[l]),e[l].forEach(c=>{n[l].forEach(u=>{const m=this.findTimeOverlap(c,u);m&&(i[l].push(m),console.log(`Smart Match Debug - Found overlap on ${l}:`,m))})}))}),console.log("Smart Match Debug - Final overlapping slots:",i),i}catch(e){return console.error("Error parsing availability:",e),{Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[],Sun:[]}}},findTimeOverlap(t,a){console.log("Smart Match Debug - Finding overlap between:",t,"and",a);const[e,n]=t.split(" - "),[i,l]=a.split(" - ");console.log("Smart Match Debug - Parsed times:",{start1:e,end1:n,start2:i,end2:l});const c=this.parseTime(e),u=this.parseTime(n),m=this.parseTime(i),h=this.parseTime(l);console.log("Smart Match Debug - Parsed minutes:",{start1Time:c,end1Time:u,start2Time:m,end2Time:h});const f=Math.max(c,m),y=Math.min(u,h);if(console.log("Smart Match Debug - Overlap calculation:",{overlapStart:f,overlapEnd:y}),f<y){const b=`${this.formatTime(f)} - ${this.formatTime(y)}`;return console.log("Smart Match Debug - Found overlap:",b),b}return console.log("Smart Match Debug - No overlap found"),null},parseTime(t){console.log("Smart Match Debug - Parsing time:",t);let a=t.trim().toLowerCase(),e="am";a.includes("pm")?(e="pm",a=a.replace("pm","")):a.includes("am")&&(e="am",a=a.replace("am",""));let n,i=0;a.includes(":")?[n,i]=a.split(":").map(Number):a.length<=2?(n=parseInt(a),i=0):(n=parseInt(a.slice(0,-2)),i=parseInt(a.slice(-2)));let l=n;e==="pm"&&n!==12&&(l+=12),e==="am"&&n===12&&(l=0);const c=l*60+i;return console.log("Smart Match Debug - Parsed time result:",{timeStr:t,hours:n,minutes:i,period:e,hour24:l,result:c}),c},formatTime(t){const a=Math.floor(t/60),e=t%60;let n="AM",i=a;return a>=12&&(n="PM",a>12&&(i=a-12)),i===0&&(i=12),`${i}:${e.toString().padStart(2,"0")} ${n}`},calculateConfidenceScore(t,a,e){let n=0;const i=Object.values(e).flat().length;n+=i*10;const l=Object.keys(e).filter(c=>e[c].length>0).length;if(n+=l*5,Object.values(e).flat().forEach(c=>{const[u,m]=c.split(" - "),h=this.parseTime(m)-this.parseTime(u);h>=120&&(n+=5),h>=180&&(n+=5)}),t.locations&&a.locations){const c=typeof t.locations=="string"?t.locations.split(`
`).map(h=>h.trim()).filter(Boolean):Array.isArray(t.locations)?t.locations:[],u=typeof a.locations=="string"?a.locations.split(`
`).map(h=>h.trim()).filter(Boolean):Array.isArray(a.locations)?a.locations:[],m=c.filter(h=>u.includes(h));n+=m.length*10}return Math.min(n,100)},findOptimalLocation(t,a){if(!t.locations||!a.locations)return null;const e=typeof t.locations=="string"?t.locations.split(`
`).map(l=>l.trim()).filter(Boolean):Array.isArray(t.locations)?t.locations:[],n=typeof a.locations=="string"?a.locations.split(`
`).map(l=>l.trim()).filter(Boolean):Array.isArray(a.locations)?a.locations:[],i=e.filter(l=>n.includes(l));return i.length>0?i[0]:null},checkForConflicts(t,a,e){const n=[];return e.forEach(i=>{(i.player1===t.firstName||i.player2===t.firstName||i.player1===a.firstName||i.player2===a.firstName)&&n.push(i)}),n},generateSuggestions(t,a,e=[]){console.log("Smart Match Debug - Player 1:",t),console.log("Smart Match Debug - Player 2:",a);const n=`Day: Monday, Available From: 6:00 PM, Available Until: 10:00 PM
Day: Tuesday, Available From: 6:00 PM, Available Until: 10:00 PM
Day: Wednesday, Available From: 6:00 PM, Available Until: 10:00 PM
Day: Thursday, Available From: 6:00 PM, Available Until: 10:00 PM
Day: Friday, Available From: 6:00 PM, Available Until: 10:00 PM
Day: Saturday, Available From: 2:00 PM, Available Until: 8:00 PM`,i=t.availability||n,l=a.availability||n;console.log("Smart Match Debug - P1 Availability:",i),console.log("Smart Match Debug - P2 Availability:",l);const c=this.findOverlappingAvailability(i,l);console.log("Smart Match Debug - Overlapping Slots:",c);const u=this.calculateConfidenceScore(t,a,c),m=this.findOptimalLocation(t,a),h=this.checkForConflicts(t,a,e),f=[];Object.entries(c).forEach(([w,E])=>{E.forEach(_=>{f.push({day:w,timeSlot:_,location:m,confidence:Math.min(u+E.length*2,100),player1:t.firstName,player2:a.firstName})})}),f.sort((w,E)=>E.confidence-w.confidence);const y=f.slice(0,3),b=!t.availability||!a.availability;return{suggestions:y,confidence:u,conflicts:h,message:y.length>0?`Found ${f.length} potential match times, showing top ${y.length}${b?" (using default availability)":""}`:"No overlapping availability found"}},generateQuickProposal(t,a,e){const n={Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thu:"Thursday",Fri:"Friday",Sat:"Saturday",Sun:"Sunday"};return{player1:a.firstName,player2:e.firstName,proposedDate:n[t.day],proposedTime:t.timeSlot,proposedLocation:t.location||"TBD",confidence:t.confidence,message:`Smart Match Suggestion: ${n[t.day]} at ${t.timeSlot}${t.location?` at ${t.location}`:""}`}}},x7=({isOpen:t,onClose:a,player1:e,player2:n,upcomingMatches:i=[],isMobile:l=!1,selectedDivision:c,phase:u,senderName:m,senderEmail:h,onProposalComplete:f})=>{const[y,b]=v.useState([]),[w,E]=v.useState(!1),[_,S]=v.useState(null),[C,I]=v.useState(!1),[N,k]=v.useState(!1),[M,T]=v.useState(null);v.useEffect(()=>{t&&e&&n&&q()},[t,e,n]);const q=async()=>{E(!0),b([]),S(null);try{await new Promise(Z=>setTimeout(Z,1e3));const H=Ex.generateSuggestions(e,n,i);b(H.suggestions),E(!1)}catch(H){console.error("Error generating suggestions:",H),E(!1)}},z=H=>{S(H);const Z=Ex.generateQuickProposal(H,e,n);T({player:n,day:{Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat",Sunday:"Sun"}[Z.proposedDate]||Z.proposedDate,slot:Z.proposedTime,selectedDivision:c,phase:u,prefilledData:Z}),k(!0)},G=()=>{b([]),S(null),a()},K=H=>H>=80?"#dc2626":H>=60?"#f59e0b":"#6b7280",ie=H=>H>=80?"High":H>=60?"Medium":"Low";return t?r.createElement(xn,{open:t,onClose:G,title:`Smart Match: ${e==null?void 0:e.firstName} vs ${n==null?void 0:n.firstName}`,isMobile:l},r.createElement("div",{style:{padding:"20px",maxHeight:"70vh",overflowY:"auto",backgroundColor:"#1f2937",color:"#f9fafb"}},w&&r.createElement("div",{style:{textAlign:"center",padding:"40px"}},r.createElement(o5,null),r.createElement("p",{style:{marginTop:"16px",color:"#9ca3af"}},"Analyzing availability and generating suggestions...")),!w&&y.length===0&&r.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#9ca3af"}},r.createElement("h3",{style:{color:"#f9fafb"}},"No Match Suggestions Found"),r.createElement("p",null,"No overlapping availability was found between the two players."),r.createElement("p",{style:{fontSize:"14px",marginTop:"8px"}},"Make sure both players have availability data in the system."),r.createElement("button",{onClick:()=>I(!0),style:{marginTop:"16px",padding:"10px 20px",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"6px",fontWeight:"500",cursor:"pointer",fontSize:"14px",transition:"all 0.3s ease"},onMouseEnter:H=>H.target.style.backgroundColor="#b91c1c",onMouseLeave:H=>H.target.style.backgroundColor="#dc2626"}," View ",n==null?void 0:n.firstName,"'s Availability & Send Proposal")),!w&&y.length>0&&r.createElement(r.Fragment,null,r.createElement("div",{style:{marginBottom:"20px",textAlign:"center"}},r.createElement("h3",{style:{margin:"0 0 8px 0",color:"#f9fafb"}},"Found ",y.length," potential match times"),r.createElement("p",{style:{margin:0,color:"#9ca3af",fontSize:"14px"}},"Select a suggestion below to create a match proposal")),r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},y.map((H,Z)=>r.createElement("div",{key:Z,style:{border:`2px solid ${_===H?"#dc2626":"#374151"}`,borderRadius:"8px",padding:"16px",cursor:"pointer",backgroundColor:"#374151",transition:"all 0.3s ease",boxShadow:_===H?"0 4px 12px rgba(220, 38, 38, 0.3)":"0 2px 4px rgba(0, 0, 0, 0.1)"},onClick:()=>z(H)},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"}},r.createElement("div",{style:{flex:1}},r.createElement("h4",{style:{margin:"0 0 8px 0",color:"#f9fafb",fontWeight:"600"}},H.day==="Mon"?"Monday":H.day==="Tue"?"Tuesday":H.day==="Wed"?"Wednesday":H.day==="Thu"?"Thursday":H.day==="Fri"?"Friday":"Saturday"),r.createElement("p",{style:{margin:"0 0 4px 0",fontSize:"16px",fontWeight:"500",color:"#e5e7eb"}},H.timeSlot),H.location&&r.createElement("p",{style:{margin:0,color:"#9ca3af",fontSize:"14px"}}," ",H.location)),r.createElement("div",{style:{padding:"6px 12px",borderRadius:"6px",backgroundColor:K(H.confidence),color:"white",fontSize:"12px",fontWeight:"600",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"}},ie(H.confidence)," (",H.confidence,"%)")))))),r.createElement("div",{style:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #374151",display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("button",{onClick:()=>I(!0),style:{padding:"10px 20px",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"6px",fontWeight:"500",cursor:"pointer",fontSize:"14px",transition:"all 0.3s ease"},onMouseEnter:H=>H.target.style.backgroundColor="#b91c1c",onMouseLeave:H=>H.target.style.backgroundColor="#dc2626"}," View ",n==null?void 0:n.firstName,"'s Availability & Send Proposal"),r.createElement("button",{onClick:G,style:{padding:"10px 20px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"6px",fontWeight:"500",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:H=>H.target.style.backgroundColor="#4b5563",onMouseLeave:H=>H.target.style.backgroundColor="#6b7280"},"Close")),C&&n&&r.createElement(Dp,{onClose:()=>{I(!1)},player:n,onProposeMatch:(H,Z)=>{T({player:n,day:H,slot:Z,selectedDivision:c,phase:u}),k(!0),I(!1)},selectedDivision:c,phase:u}),N&&M&&r.createElement(zp,{player:M.player,day:M.day,slot:M.slot,selectedDivision:M.selectedDivision,phase:M.phase||u,onClose:()=>k(!1),senderName:m,senderEmail:h,onProposalComplete:()=>{k(!1),T(null),f&&f()}}))):null};function E7({isOpen:t,onClose:a,onSuccess:e,isMobile:n=!1,existingPlayer:i=null,isAdmin:l=!1}){const[c,u]=v.useState({firstName:"",lastName:"",email:"",phone:"",textNumber:"",preferredContacts:[],emergencyContactName:"",emergencyContactPhone:"",availability:{Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[],Sun:[]},locations:"",pin:"",paymentStatus:"pending",division:""}),[m,h]=v.useState(1),[f,y]=v.useState(!1),[b,w]=v.useState(""),[E,_]=v.useState(""),[S,C]=v.useState({}),[I,N]=v.useState([]),[k,M]=v.useState([]),[T,q]=v.useState(""),z=["10:00 AM - 12:00 PM","12:00 PM - 2:00 PM","2:00 PM - 4:00 PM","4:00 PM - 6:00 PM","6:00 PM - 8:00 PM","8:00 PM - 10:00 PM","10:00 PM - 12:00 AM","Other (specify)"],G=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],K=[{value:"email",label:"Email"},{value:"phone",label:"Phone Call"},{value:"text",label:"Text Message"}],ie=async()=>{let X=0;const me=100;for(;X<me;){const Ce=Math.floor(1e3+Math.random()*9e3).toString();try{const Se=await fetch(`${ke}/api/users/check-pin/${Ce}`);if(Se.ok&&!(await Se.json()).exists)return Ce}catch(Se){return console.error("Error checking PIN uniqueness:",Se),Ce}X++}return Math.floor(1e3+Math.random()*9e3).toString()+Date.now().toString().slice(-1)};v.useEffect(()=>{H()},[]),v.useEffect(()=>{if(i&&(u({firstName:i.firstName||"",lastName:i.lastName||"",email:i.email||"",phone:i.phone||"",textNumber:i.textNumber||"",preferredContacts:i.preferredContacts||[],emergencyContactName:i.emergencyContactName||"",emergencyContactPhone:i.emergencyContactPhone||"",availability:i.availability||{Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[],Sun:[]},locations:i.locations||"",pin:i.pin||"",confirmPin:i.pin||"",division:i.division||""}),i.locations)){const X=i.locations.split(`
`).map(Se=>Se.trim()).filter(Se=>Se),me=[],Ce=[];X.forEach(Se=>{I.some(ye=>ye.name===Se)?me.push(Se):Ce.push(Se)}),M(me),q(Ce.join(`
`))}},[i,I]);const H=async()=>{try{const X=await fetch(`${ke}/api/locations`);if(X.ok){const me=await X.json();N(me.locations||[])}}catch(X){console.error("Failed to load locations:",X)}},Z=(X,me)=>{u(Ce=>({...Ce,[X]:me})),w("")},O=(X,me,Ce)=>{u(Se=>({...Se,availability:{...Se.availability,[X]:Ce?[...Se.availability[X],me]:Se.availability[X].filter(st=>st!==me)}}))},R=(X,me,Ce)=>{u(Se=>{const st=Se.availability[X];if(st.includes("Other (specify)")&&me&&Ce){const Ze=`${me} - ${Ce}`,qe=st.map(ct=>ct==="Other (specify)"?Ze:ct);return{...Se,availability:{...Se.availability,[X]:qe}}}return Se})},A=(X,me)=>{u(Ce=>({...Ce,preferredContacts:me?[...Ce.preferredContacts,X]:Ce.preferredContacts.filter(Se=>Se!==X)}))},F=(X,me)=>{M(Ce=>me?[...Ce,X]:Ce.filter(Se=>Se!==X))},Q=X=>{q(X)},V=()=>{const X=[...k];if(T.trim()){const me=T.split(`
`).map(Ce=>Ce.trim()).filter(Ce=>Ce.length>0);X.push(...me)}return X.join(`
`)},P=X=>{if(l)return null;switch(X){case 1:return c.firstName.trim()?c.lastName.trim()?c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)?c.phone.trim()?null:"Phone number is required":"Valid email is required":"Email is required":"Last name is required":"First name is required";case 2:return Object.values(c.availability).some(Se=>Se.length>0)?null:"Please select at least one time slot";case 3:return V().trim()?null:"At least one location is required";case 4:return c.preferredContacts.length===0?"Please select at least one contact preference":null;case 5:return null;default:return null}},j=()=>{const X=P(m);if(X){w(X);return}w(""),m<5?h(m+1):W()},J=()=>{w(""),m>1&&h(m-1)},W=async()=>{var me;const X=P(m);if(X){w(X);return}y(!0),w("");try{const Ce=await ie(),st={...l?{firstName:c.firstName.trim()||"Test",lastName:c.lastName.trim()||"Player",email:c.email.trim()||`test${Date.now()}@example.com`,phone:c.phone.trim()||"555-1234",textNumber:c.textNumber||"",emergencyContactName:c.emergencyContactName||"",emergencyContactPhone:c.emergencyContactPhone||"",preferredContacts:c.preferredContacts.length>0?c.preferredContacts:["email"],availability:c.availability,locations:V()||"Test Location",pin:Ce,paymentStatus:"pending",division:"",notes:c.notes||"Created by admin for testing"}:{...c,pin:Ce,paymentStatus:"pending",division:""},confirmPin:void 0},ye=i?`${ke}/api/users/${i.id}/profile`:`${ke}/api/users/register`,qe=await fetch(ye,{method:i?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(st)});if(!qe.ok){const Qe=await qe.json();throw new Error(Qe.message||"Registration failed")}const ct=await qe.json();if(!i&&!l)try{const Qe=await fetch(`${ke}/api/payment-config/enabled-methods`);let Rt={enabledMethods:[],registrationFee:30,additionalInstructions:"",contactInfo:{}};Qe.ok&&(Rt=await Qe.json()),await yN({to_email:c.email,to_name:`${c.firstName} ${c.lastName}`,registrationId:((me=ct.user)==null?void 0:me.id)||ct.id||`REG-${Date.now()}`,registrationDate:new Date().toLocaleDateString(),registrationFee:Rt.registrationFee||30,paymentMethods:Rt.enabledMethods||[],additionalInstructions:Rt.additionalInstructions||"",contactInfo:Rt.contactInfo||{}}),console.log("Payment instructions email sent successfully")}catch(Qe){console.error("Failed to send payment instructions email:",Qe)}_(i?"Profile updated successfully!":l?"Test player created successfully!":"Registration submitted successfully! Payment instructions have been sent to your email."),setTimeout(()=>{e&&e(ct),a()},1500)}catch(Ce){w(Ce.message||"An error occurred during registration")}finally{y(!1)}},re=()=>{switch(m){case 1:return r.createElement("div",{style:{padding:"10px"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"20px",textAlign:"center",fontSize:"20px"}},"Personal Information"),r.createElement("div",{style:{display:"grid",gap:"15px"}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"1fr 1fr",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold",fontSize:"16px"}},"First Name *"),r.createElement("input",{type:"text",value:c.firstName,onChange:X=>Z("firstName",X.target.value),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"18px"},placeholder:"Enter first name"})),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold",fontSize:"16px"}},"Last Name *"),r.createElement("input",{type:"text",value:c.lastName,onChange:X=>Z("lastName",X.target.value),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"18px"},placeholder:"Enter last name"}))),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold",fontSize:"16px"}},"Email Address *"),r.createElement("input",{type:"email",value:c.email,onChange:X=>Z("email",X.target.value),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"18px"},placeholder:"Enter email address"})),r.createElement("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"1fr 1fr",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold",fontSize:"16px"}},"Phone Number *"),r.createElement("input",{type:"tel",value:c.phone,onChange:X=>Z("phone",X.target.value),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"18px"},placeholder:"Enter phone number"})),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold",fontSize:"16px"}},"Text Number (if different)"),r.createElement("input",{type:"tel",value:c.textNumber,onChange:X=>Z("textNumber",X.target.value),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"18px"},placeholder:"Optional text number"}))),r.createElement("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"1fr 1fr",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold"}},"Emergency Contact Name"),r.createElement("input",{type:"text",value:c.emergencyContactName,onChange:X=>Z("emergencyContactName",X.target.value),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"16px"},placeholder:"Emergency contact name"})),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold"}},"Emergency Contact Phone"),r.createElement("input",{type:"tel",value:c.emergencyContactPhone,onChange:X=>Z("emergencyContactPhone",X.target.value),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"16px"},placeholder:"Emergency contact phone"})))));case 2:return r.createElement("div",{style:{padding:"10px"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"15px",textAlign:"center",fontSize:"18px"}},"Availability Schedule"),r.createElement("p",{style:{color:"#ccc",textAlign:"center",marginBottom:"15px",fontSize:"14px"}},"Select the time slots when you're available to play matches"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"repeat(2, 1fr)",gap:"10px",maxHeight:"50vh",overflowY:"auto"}},G.map(X=>r.createElement("div",{key:X,style:{background:"rgba(255,255,255,0.05)",padding:"8px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},r.createElement("h4",{style:{color:"#e53e3e",marginBottom:"6px",textAlign:"center",fontSize:"16px",fontWeight:"bold"}},X==="Mon"?"Monday":X==="Tue"?"Tuesday":X==="Wed"?"Wednesday":X==="Thu"?"Thursday":X==="Fri"?"Friday":X==="Sat"?"Saturday":"Sunday"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:n?"1fr":"repeat(2, 1fr)",gap:"6px",justifyContent:"center",alignItems:"center",padding:"0 6px"}},z.map(me=>{var Ce,Se,st,ye;return r.createElement("div",{key:me},r.createElement("label",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"4px 8px",borderRadius:"6px",background:c.availability[X].includes(me)?"rgba(229, 62, 62, 0.2)":"rgba(255,255,255,0.05)",border:c.availability[X].includes(me)?"1px solid #e53e3e":"1px solid rgba(255,255,255,0.1)",cursor:"pointer",transition:"all 0.2s ease",fontSize:"12px",width:"100%",minWidth:"110px",margin:"0 auto",boxShadow:c.availability[X].includes(me)?"0 2px 4px rgba(229, 62, 62, 0.3)":"0 1px 2px rgba(0,0,0,0.1)"}},r.createElement("input",{type:"checkbox",checked:c.availability[X].includes(me),onChange:Ze=>O(X,me,Ze.target.checked),style:{marginRight:"4px",transform:"scale(1)"}}),r.createElement("span",{style:{color:"#fff",fontSize:"12px"}},me)),me==="Other (specify)"&&c.availability[X].includes(me)&&r.createElement("div",{style:{marginTop:"6px",padding:"8px",background:"rgba(229, 62, 62, 0.1)",borderRadius:"4px",border:"1px solid rgba(229, 62, 62, 0.3)"}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 1fr",gap:"6px",alignItems:"center",marginBottom:"4px"}},r.createElement("select",{value:((Ce=S[X])==null?void 0:Ce.start)||"",onChange:Ze=>{var ct;const qe=Ze.target.value;C(Qe=>({...Qe,[X]:{...Qe[X],start:qe}})),R(X,qe,(ct=S[X])==null?void 0:ct.end)},style:{padding:"4px 6px",borderRadius:"3px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(0,0,0,0.3)",color:"#fff",fontSize:"14px",textAlign:"center"}},r.createElement("option",{value:""},"Start"),r.createElement("option",{value:"6:00 AM"},"6:00 AM"),r.createElement("option",{value:"7:00 AM"},"7:00 AM"),r.createElement("option",{value:"8:00 AM"},"8:00 AM"),r.createElement("option",{value:"9:00 AM"},"9:00 AM"),r.createElement("option",{value:"10:00 AM"},"10:00 AM"),r.createElement("option",{value:"11:00 AM"},"11:00 AM"),r.createElement("option",{value:"12:00 PM"},"12:00 PM"),r.createElement("option",{value:"1:00 PM"},"1:00 PM"),r.createElement("option",{value:"2:00 PM"},"2:00 PM"),r.createElement("option",{value:"3:00 PM"},"3:00 PM"),r.createElement("option",{value:"4:00 PM"},"4:00 PM"),r.createElement("option",{value:"5:00 PM"},"5:00 PM"),r.createElement("option",{value:"6:00 PM"},"6:00 PM"),r.createElement("option",{value:"7:00 PM"},"7:00 PM"),r.createElement("option",{value:"8:00 PM"},"8:00 PM"),r.createElement("option",{value:"9:00 PM"},"9:00 PM"),r.createElement("option",{value:"10:00 PM"},"10:00 PM"),r.createElement("option",{value:"11:00 PM"},"11:00 PM"),r.createElement("option",{value:"12:00 AM"},"12:00 AM")),r.createElement("span",{style:{color:"#fff",fontSize:"11px"}},"to"),r.createElement("select",{value:((Se=S[X])==null?void 0:Se.end)||"",onChange:Ze=>{var ct;const qe=Ze.target.value;C(Qe=>({...Qe,[X]:{...Qe[X],end:qe}})),R(X,(ct=S[X])==null?void 0:ct.start,qe)},style:{padding:"4px 6px",borderRadius:"3px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(0,0,0,0.3)",color:"#fff",fontSize:"14px",textAlign:"center"}},r.createElement("option",{value:""},"End"),r.createElement("option",{value:"6:00 AM"},"6:00 AM"),r.createElement("option",{value:"7:00 AM"},"7:00 AM"),r.createElement("option",{value:"8:00 AM"},"8:00 AM"),r.createElement("option",{value:"9:00 AM"},"9:00 AM"),r.createElement("option",{value:"10:00 AM"},"10:00 AM"),r.createElement("option",{value:"11:00 AM"},"11:00 AM"),r.createElement("option",{value:"12:00 PM"},"12:00 PM"),r.createElement("option",{value:"1:00 PM"},"1:00 PM"),r.createElement("option",{value:"2:00 PM"},"2:00 PM"),r.createElement("option",{value:"3:00 PM"},"3:00 PM"),r.createElement("option",{value:"4:00 PM"},"4:00 PM"),r.createElement("option",{value:"5:00 PM"},"5:00 PM"),r.createElement("option",{value:"6:00 PM"},"6:00 PM"),r.createElement("option",{value:"7:00 PM"},"7:00 PM"),r.createElement("option",{value:"8:00 PM"},"8:00 PM"),r.createElement("option",{value:"9:00 PM"},"9:00 PM"),r.createElement("option",{value:"10:00 PM"},"10:00 PM"),r.createElement("option",{value:"11:00 PM"},"11:00 PM"),r.createElement("option",{value:"12:00 AM"},"12:00 AM"))),((st=S[X])==null?void 0:st.start)&&((ye=S[X])==null?void 0:ye.end)&&r.createElement("div",{style:{fontSize:"10px",color:"#4CAF50",textAlign:"center",fontWeight:"bold"}}," Custom time set: ",S[X].start," - ",S[X].end)))}))))));case 3:return r.createElement("div",{style:{padding:"10px"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"15px",textAlign:"center"}},"Playing Locations"),r.createElement("p",{style:{color:"#ccc",textAlign:"center",marginBottom:"15px",fontSize:"13px"}},"Select from predefined locations and/or add your own custom locations"),I.length>0&&r.createElement("div",{style:{marginBottom:"15px"}},r.createElement("label",{style:{display:"block",marginBottom:"10px",color:"#fff",fontWeight:"bold",fontSize:"16px",textAlign:"center",width:"100%"}},"Select from Available Locations:"),r.createElement("div",{style:{display:"grid",gap:"3px",maxHeight:"180px",overflowY:"auto",padding:"6px",background:"rgba(0,0,0,0.3)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.1)"}},I.map(X=>r.createElement("label",{key:X._id,style:{display:"flex",alignItems:"center",padding:"4px 6px",borderRadius:"4px",background:k.includes(X.name)?"rgba(76, 175, 80, 0.2)":"rgba(255,255,255,0.05)",border:k.includes(X.name)?"1px solid #4CAF50":"1px solid rgba(255,255,255,0.1)",cursor:"pointer",transition:"all 0.2s ease"}},r.createElement("input",{type:"checkbox",checked:k.includes(X.name),onChange:me=>F(X.name,me.target.checked),style:{marginRight:"6px",transform:"scale(1)"}}),r.createElement("div",{style:{flex:1,textAlign:"center"}},r.createElement("div",{style:{color:"#fff",fontWeight:"bold",fontSize:"15px",textAlign:"center"}},X.name),X.address&&r.createElement("div",{style:{color:"#ccc",fontSize:"13px",marginTop:"1px",textAlign:"center"}}," ",X.address),X.notes&&r.createElement("div",{style:{color:"#999",fontSize:"12px",marginTop:"1px",textAlign:"center"}}," ",X.notes)))))),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"10px",color:"#fff",fontWeight:"bold",fontSize:"16px",textAlign:"center"}},"Add Custom Locations (Optional):"),r.createElement("textarea",{value:T,onChange:X=>Q(X.target.value),style:{width:"100%",minHeight:"60px",padding:"8px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"16px",resize:"vertical"},placeholder:`Enter additional locations, one per line:
My Home Table
Friend's House
Local Bar`})),(k.length>0||T.trim())&&r.createElement("div",{style:{marginTop:"10px",padding:"10px",background:"rgba(76, 175, 80, 0.1)",borderRadius:"6px",border:"1px solid rgba(76, 175, 80, 0.3)"}},r.createElement("h4",{style:{color:"#4CAF50",margin:"0 0 10px 0",fontSize:"14px",fontWeight:"bold"}}," Your Selected Locations:"),r.createElement("div",{style:{color:"#ccc",fontSize:"13px"}},V().split(`
`).map((X,me)=>r.createElement("div",{key:me,style:{marginBottom:"2px"}}," ",X)))),r.createElement("div",{style:{marginTop:"10px",padding:"8px",background:"rgba(229, 62, 62, 0.1)",borderRadius:"6px"}},r.createElement("p",{style:{color:"#ccc",fontSize:"14px",margin:0}},r.createElement("strong",null,"Tip:")," Select from the predefined locations above, or add your own custom locations. These will be used to help match you with other players in your area.")));case 4:return r.createElement("div",{style:{padding:"10px"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"20px",textAlign:"center"}},"Contact Preferences"),r.createElement("p",{style:{color:"#ccc",textAlign:"center",marginBottom:"20px",fontSize:"14px"}},"How would you prefer other players to contact you for match scheduling?"),r.createElement("div",{style:{display:"grid",gap:"15px"}},K.map(X=>r.createElement("label",{key:X.value,style:{display:"flex",alignItems:"center",padding:"15px",borderRadius:"8px",background:c.preferredContacts.includes(X.value)?"rgba(229, 62, 62, 0.2)":"rgba(255,255,255,0.05)",border:c.preferredContacts.includes(X.value)?"1px solid #e53e3e":"1px solid rgba(255,255,255,0.1)",cursor:"pointer",transition:"all 0.2s ease"}},r.createElement("input",{type:"checkbox",checked:c.preferredContacts.includes(X.value),onChange:me=>A(X.value,me.target.checked),style:{marginRight:"12px",transform:"scale(1.2)"}}),r.createElement("span",{style:{color:"#fff",fontSize:"16px",fontWeight:"bold"}},X.label)))),r.createElement("div",{style:{marginTop:"20px",padding:"15px",background:"rgba(76, 175, 80, 0.1)",borderRadius:"8px",border:"1px solid rgba(76, 175, 80, 0.3)"}},r.createElement("p",{style:{color:"#ccc",fontSize:"14px",margin:0}},r.createElement("strong",null,"Note:")," Your contact information will only be shared with players who are scheduling matches with you. You can change these preferences later in your profile settings.")));case 5:return r.createElement("div",{style:{padding:"10px"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"20px",textAlign:"center"}},"Registration & Payment"),r.createElement("div",{style:{display:"grid",gap:"20px"}},r.createElement("div",{style:{padding:"15px",background:"rgba(76, 175, 80, 0.1)",borderRadius:"8px",border:"1px solid rgba(76, 175, 80, 0.3)",textAlign:"center"}},r.createElement("h4",{style:{color:"#4CAF50",margin:"0 0 10px 0",fontSize:"16px",fontWeight:"bold"}}," Your PIN will be auto-generated"),r.createElement("p",{style:{color:"#ccc",fontSize:"14px",margin:0}},"A unique 4-digit PIN will be automatically generated for you. You'll receive it after payment is confirmed.")),r.createElement("div",{style:{padding:"15px",background:"rgba(255, 193, 7, 0.1)",borderRadius:"8px",border:"1px solid rgba(255, 193, 7, 0.3)",textAlign:"center"}},r.createElement("h4",{style:{color:"#ffc107",margin:"0 0 10px 0",fontSize:"16px",fontWeight:"bold"}}," Division Assignment"),r.createElement("p",{style:{color:"#ccc",fontSize:"14px",margin:0}},"Your division will be assigned by league administrators based on your skill level and availability. You'll be notified once assigned.")),r.createElement("div",{style:{padding:"15px",background:"rgba(229, 62, 62, 0.1)",borderRadius:"8px",border:"1px solid rgba(229, 62, 62, 0.3)",textAlign:"center"}},r.createElement("h4",{style:{color:"#e53e3e",margin:"0 0 10px 0",fontSize:"16px",fontWeight:"bold"}}," Payment Required"),r.createElement("p",{style:{color:"#ccc",fontSize:"14px",margin:0}},"Registration fee: ",r.createElement("strong",null,"$30")," must be paid before you receive your PIN and can access the league system. Payment instructions will be sent to your email immediately after registration."))),r.createElement("div",{style:{marginTop:"20px",padding:"15px",background:"rgba(0, 123, 255, 0.1)",borderRadius:"8px",border:"1px solid rgba(0, 123, 255, 0.3)"}},r.createElement("p",{style:{color:"#ccc",fontSize:"14px",margin:0}},r.createElement("strong",null,"Next Steps:")," After registration, you'll receive payment instructions. Once payment is confirmed, you'll get your PIN and full access to the league system.")));default:return null}};return t?r.createElement(r.Fragment,null,r.createElement(xn,{open:t,onClose:a,title:i?"Edit Player Profile":l?"Admin: Test Player Registration":"Player Registration",maxWidth:n?"95vw":"800px",className:"player-registration-modal"},r.createElement("div",{style:{background:"rgba(255,255,255,0.1)",height:"4px",position:"relative",marginBottom:"15px"}},r.createElement("div",{style:{background:"linear-gradient(90deg, #e53e3e, #ff6b6b)",height:"100%",width:`${m/5*100}%`,transition:"width 0.3s ease"}})),r.createElement("div",{style:{padding:"10px 15px",background:"rgba(0,0,0,0.8)",borderBottom:"1px solid rgba(255,255,255,0.1)",marginBottom:"15px",borderRadius:"6px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("span",{style:{color:"#fff",fontSize:"14px"}},"Step ",m," of 5"),r.createElement("span",{style:{color:"#e53e3e",fontSize:"14px",fontWeight:"bold"}},m===1&&"Personal Info",m===2&&"Availability",m===3&&"Locations",m===4&&"Contact Preferences",m===5&&"Registration & Payment")),l&&r.createElement("div",{style:{background:"rgba(255, 193, 7, 0.2)",border:"1px solid rgba(255, 193, 7, 0.5)",borderRadius:"4px",padding:"6px 10px",marginTop:"8px",textAlign:"center"}},r.createElement("span",{style:{color:"#ffc107",fontSize:"12px",fontWeight:"bold"}}," ADMIN MODE: Validation bypassed for testing"))),r.createElement("div",{style:{marginBottom:"25px",maxHeight:"60vh",overflowY:"auto",paddingRight:"10px"}},re()),b&&r.createElement("div",{style:{padding:"10px 15px",background:"rgba(229, 62, 62, 0.2)",border:"1px solid #e53e3e",color:"#ff6b6b",textAlign:"center",fontSize:"14px",borderRadius:"6px",marginBottom:"15px"}},b),E&&r.createElement("div",{style:{padding:"10px 15px",background:"rgba(76, 175, 80, 0.2)",border:"1px solid #4CAF50",color:"#4CAF50",textAlign:"center",fontSize:"14px",borderRadius:"6px",marginBottom:"15px"}},E),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",gap:"10px"}},r.createElement("button",{onClick:m===1?a:J,style:{padding:"12px 20px",borderRadius:"6px",border:"1px solid #666",background:"transparent",color:"#fff",cursor:"pointer",fontSize:"16px",transition:"all 0.2s ease",flex:1},onMouseEnter:X=>{X.target.style.background="rgba(255,255,255,0.1)"},onMouseLeave:X=>{X.target.style.background="transparent"}},m===1?"Cancel":"Previous"),r.createElement("button",{onClick:j,disabled:f,style:{padding:"12px 20px",borderRadius:"6px",border:"none",background:f?"#666":"#e53e3e",color:"#fff",cursor:f?"not-allowed":"pointer",fontSize:"16px",fontWeight:"bold",transition:"all 0.2s ease",flex:1},onMouseEnter:X=>{f||(X.target.style.background="#ff6b6b")},onMouseLeave:X=>{f||(X.target.style.background="#e53e3e")}},f?"Processing...":m===5?i?"Update Profile":"Complete Registration":"Next"))),r.createElement("style",{jsx:!0},`
               .player-registration-modal {
          max-height: 95vh !important;
          height: auto !important;
        }
        
        .player-registration-modal .draggable-modal {
          max-height: 95vh !important;
          height: auto !important;
        }
        
        .player-registration-modal .modal-content {
          max-height: 70vh !important;
          overflow-y: auto !important;
        }
       
       /* Custom scrollbar */
       .player-registration-modal .modal-content::-webkit-scrollbar {
         width: 6px;
       }
       
       .player-registration-modal .modal-content::-webkit-scrollbar-thumb {
         background: #e53e3e;
         border-radius: 3px;
       }
       
               .player-registration-modal .modal-content::-webkit-scrollbar-track {
          background: rgba(255,255,255,0.1);
          border-radius: 3px;
        }
        
                 /* Custom dropdown styling for dark theme */
         .player-registration-modal select option {
           background: #222 !important;
           color: #fff !important;
           border: none !important;
           font-size: 14px !important;
           padding: 4px 8px !important;
         }
        
        .player-registration-modal select:focus {
          outline: none !important;
          border-color: #e53e3e !important;
          box-shadow: 0 0 0 2px rgba(229, 62, 62, 0.2) !important;
        }
     `)):null}const up=async(t,a)=>{const e=await fetch(`${ke}/api/matches/status/${encodeURIComponent(t)}/${a}`);if(!e.ok)throw new Error("Failed to fetch matches by status");return e.json()},w7=async(t,a,e,n="")=>{const i=await fetch(`${ke}/api/matches/${t}/complete`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({winner:a,score:e,notes:n})});if(!i.ok){const l=await i.json();throw new Error(l.error||"Failed to complete match")}return i.json()},S7=async(t,a="")=>{const e=await fetch(`${ke}/api/matches/${t}/cancel`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:a})});if(!e.ok){const n=await e.json();throw new Error(n.error||"Failed to cancel match")}return e.json()},C7=async t=>{const a=await fetch(`${ke}/api/matches/stats/${encodeURIComponent(t)}`);if(!a.ok)throw new Error("Failed to fetch match statistics");return a.json()},_7=(t,a,e)=>{const[n,i]=v.useState([]),[l,c]=v.useState([]),[u,m]=v.useState(!0),[h,f]=v.useState(null),[y,b]=v.useState(null),w=v.useRef(null),E=v.useRef(null),_=v.useCallback(async(I=!1)=>{E.current&&E.current.abort(),E.current=new AbortController;try{I||m(!0);const[N,k]=await Promise.all([up(a,"scheduled"),up(a,"completed")]),M=N.filter(z=>z.player1Id===t||z.player2Id===t).map(z=>{const G=z.player1Id===t,K=G?z.player1Id:z.player2Id,ie=G?z.player2Id:z.player1Id,H=new Date(z.scheduledDate),Z=H.toISOString().split("T")[0],O=H.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return{...z,player:K,opponent:ie,senderName:z.player1Id,receiverName:z.player2Id,date:Z,time:O,gameType:z.gameType||"8 ball",raceLength:z.raceLength||5,type:"scheduled"}}),T=k.filter(z=>z.player1Id===t||z.player2Id===t).map(z=>{const G=z.player1Id===t,K=G?z.player1Id:z.player2Id,ie=G?z.player2Id:z.player1Id,H=new Date(z.scheduledDate),Z=H.toISOString().split("T")[0],O=H.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return{...z,player:K,opponent:ie,senderName:z.player1Id,receiverName:z.player2Id,date:Z,time:O,gameType:z.gameType||"8 ball",raceLength:z.raceLength||5,type:"completed"}});let q=[];try{const z=await Ga.getPendingProposals(t,a),G=await Ga.getSentProposals(t,a);q=[...z,...G].filter(Z=>Z.status==="confirmed"&&(Z.senderName===t||Z.receiverName===t));const ie=q.map(Z=>{const O=Z.senderName===t,R=O?Z.senderName:Z.receiverName,A=O?Z.receiverName:Z.senderName;return{_id:Z._id,type:"proposal",status:"confirmed",player1Id:Z.senderName,player2Id:Z.receiverName,player:R,opponent:A,senderName:Z.senderName,receiverName:Z.receiverName,scheduledDate:Z.date?new Date(Z.date):new Date,date:Z.date,time:Z.time,location:Z.location,message:Z.message,gameType:Z.gameType,raceLength:Z.raceLength,completed:Z.completed||!1,winner:Z.winner||null}}),H=[...M,...ie];H.sort((Z,O)=>new Date(Z.scheduledDate)-new Date(O.scheduledDate)),T.sort((Z,O)=>new Date(O.completedDate)-new Date(Z.completedDate)),E.current.signal.aborted||(i(H),c(T),f(null),b(new Date))}catch(z){console.warn("Error fetching confirmed proposals:",z),E.current.signal.aborted||(M.sort((G,K)=>new Date(G.scheduledDate)-new Date(K.scheduledDate)),T.sort((G,K)=>new Date(K.completedDate)-new Date(G.completedDate)),i(M),c(T),b(new Date))}}catch(N){if(N.name==="AbortError")return;console.error("Error fetching matches:",N),f(N.message),I||(i([]),c([]))}finally{E.current.signal.aborted||m(!1)}},[t,a,e]);v.useEffect(()=>{if(t&&a)return _(),w.current=setInterval(()=>{_(!0)},3e4),()=>{w.current&&clearInterval(w.current),E.current&&E.current.abort()}},[t,a,e,_]);const S=v.useCallback(()=>{_()},[_]),C=v.useCallback((I,N="add")=>{N==="add"?i(k=>[I,...k]):N==="update"?(i(k=>k.map(M=>M._id===I._id?I:M)),c(k=>k.map(M=>M._id===I._id?I:M))):N==="remove"&&(i(k=>k.filter(M=>M._id!==I._id)),c(k=>k.filter(M=>M._id!==I._id))),b(new Date)},[]);return{matches:n,completedMatches:l,scheduledConfirmedMatches:n,loading:u,error:h,lastUpdate:y,refetch:S,updateMatchLocally:C,markMatchCompleted:I=>{i(N=>N.filter(k=>k._id!==I._id)),c(N=>{const k={...I,completed:!0};return[...N,k]}),b(new Date)},updateCompletedMatch:I=>{c(N=>N.map(k=>k._id===I._id?I:k)),b(new Date)}}},I7=t=>{const[a,e]=v.useState(null),[n,i]=v.useState(null),[l,c]=v.useState(!0),[u,m]=v.useState(null),[h,f]=v.useState(null),y=v.useRef(null),b=v.useRef(null),w=v.useCallback(async(_=!1)=>{if(t){b.current&&b.current.abort(),b.current=new AbortController;try{_||c(!0),console.log("useSeasonData - Fetching season data for division:",t);const[S,C]=await Promise.all([Ls.getCurrentSeason(t),Ls.getCurrentPhaseAndWeek(t)]);console.log("useSeasonData - Season result:",S),console.log("useSeasonData - Phase result:",C),b.current.signal.aborted||(e((S==null?void 0:S.season)||null),i(C),m(null),f(new Date))}catch(S){if(S.name==="AbortError")return;console.error("Error fetching season data:",S),m(S.message),_||(e(null),i(null))}finally{b.current.signal.aborted||c(!1)}}},[t]);v.useEffect(()=>{if(t)return w(),y.current=setInterval(()=>{w(!0)},5*60*1e3),()=>{y.current&&clearInterval(y.current),b.current&&b.current.abort()}},[t,w]);const E=v.useCallback(()=>{w()},[w]);return{seasonData:a,currentPhaseInfo:n,loading:l,error:u,lastUpdate:h,refetch:E}},k7=t=>{const[a,e]=v.useState([]),[n,i]=v.useState(!0),[l,c]=v.useState(null),[u,m]=v.useState(null),h=v.useRef(null),f=v.useRef(null),y=v.useCallback(async(w=!1)=>{if(t){f.current&&f.current.abort(),f.current=new AbortController;try{w||i(!0);const E=t.replace(/[^A-Za-z0-9]/g,"_"),_=`${ke}/static/standings_${E}.json`,S=await fetch(_,{signal:f.current.signal});if(!S.ok){console.warn(`Failed to fetch standings: ${S.status} - ${S.statusText}`),w||c(`Failed to fetch standings: ${S.status}`);return}const C=await S.json();if(!Array.isArray(C)){console.error("Standings data is not an array:",C),w||c("Invalid standings data format");return}const I=C.filter(N=>{if(!N||typeof N!="object")return console.warn("Invalid standings entry:",N),!1;if(!N.name||!N.rank)return console.warn("Standings entry missing name or rank:",N),!1;const k=parseInt(N.rank);return isNaN(k)||k<=0?(console.warn("Invalid rank in standings entry:",N),!1):!0});f.current.signal.aborted||(e(I),c(null),m(new Date))}catch(E){if(E.name==="AbortError")return;console.error("Failed to load standings:",E),c(E.message),w||e([])}finally{f.current.signal.aborted||i(!1)}}},[t]);v.useEffect(()=>{if(t)return y(),h.current=setInterval(()=>{y(!0)},10*60*1e3),()=>{h.current&&clearInterval(h.current),f.current&&f.current.abort()}},[t,y]);const b=v.useCallback(()=>{y()},[y]);return{standings:a,loading:n,error:l,lastUpdate:u,refetch:b}},hm={async getAllNotes(){return Ln.get("/api/notes")},async createNote(t){return Ln.post("/api/notes",{text:t})},async deleteNote(t){return Ln.delete(`/api/notes/${t}`)}},N7=()=>{const[t,a]=v.useState([]),[e,n]=v.useState(!0),[i,l]=v.useState(null),[c,u]=v.useState(null),m=v.useRef(null),h=v.useRef(null),f=v.useCallback(async(w=!1)=>{h.current&&h.current.abort(),h.current=new AbortController;try{w||n(!0);const E=await hm.getAllNotes();h.current.signal.aborted||(a(E),l(null),u(new Date))}catch(E){if(E.name==="AbortError")return;console.error("Error fetching notes:",E),l(E.message),w||a([])}finally{h.current.signal.aborted||n(!1)}},[]);v.useEffect(()=>(f(),m.current=setInterval(()=>{f(!0)},2*60*1e3),()=>{m.current&&clearInterval(m.current),h.current&&h.current.abort()}),[f]);const y=v.useCallback(()=>{f()},[f]),b=v.useCallback((w,E="add")=>{E==="add"?a(_=>[w,..._]):E==="update"?a(_=>_.map(S=>S._id===w._id?w:S)):E==="remove"&&a(_=>_.filter(S=>S._id!==w._id)),u(new Date)},[]);return{notes:t,loading:e,error:i,lastUpdate:c,refetch:y,updateNoteLocally:b}},A7=t=>{const[a,e]=v.useState([]),[n,i]=v.useState(!0),[l,c]=v.useState(null),[u,m]=v.useState(null),h=v.useRef(null),f=v.useRef(null),y=v.useCallback(async(w=!1)=>{if(!t){e([]);return}f.current&&f.current.abort(),f.current=new AbortController;try{w||i(!0);let E;t==="FRBCAPL TEST"?E="schedule_FRBCAPL_TEST.json":t==="Singles Test"?E="schedule_Singles_Test.json":E=`schedule_${t.replace(/[^A-Za-z0-9]/g,"_")}.json`;const _=`${ke}/static/${E}`,S=await fetch(_,{signal:f.current.signal});if(!S.ok)throw new Error("Schedule not found");const C=await S.json();f.current.signal.aborted||(console.log("Schedule loaded for",t,":",C.length,"matches"),e(C),c(null),m(new Date))}catch(E){if(E.name==="AbortError")return;console.error("Failed to load schedule for",t,":",E),c(E.message),w||e([])}finally{f.current.signal.aborted||i(!1)}},[t]);v.useEffect(()=>{if(t)return y(),h.current=setInterval(()=>{y(!0)},15*60*1e3),()=>{h.current&&clearInterval(h.current),f.current&&f.current.abort()}},[t,y]);const b=v.useCallback(()=>{y()},[y]);return{scheduledMatches:a,loading:n,error:l,lastUpdate:u,refetch:b}};class D7{async checkAndSendDeadlineReminder(a,e,n){try{const i=await Ls.getCurrentSeason(n);if(!(i!=null&&i.season)){console.log("No current season found for division:",n);return}const l=i.season,c=new Date,u=new Date(l.phase1End);if(c>u){console.log("Phase 1 deadline has passed, no reminder needed");return}const m=Math.ceil((u-c)/(1e3*60*60*24));if(!this.shouldSendReminder(m))return;const f=await this.getUserMatchStatus(e,n);await gN({to_email:a,to_name:e,division:n,daysUntilDeadline:m,completedMatches:f.completedCount,totalRequiredMatches:f.totalRequired,deadlineDate:Ca(u,"EEEE, MMMM d, yyyy"),remainingMatches:f.remainingCount}),console.log(`Deadline reminder sent to ${e} for ${n}`)}catch(i){console.error("Error sending deadline reminder:",i)}}shouldSendReminder(a){return[7,3,1,0].includes(a)}async getUserMatchStatus(a,e){try{return{completedCount:1,totalRequired:6,remainingCount:5}}catch(n){return console.error("Error getting user match status:",n),{completedCount:0,totalRequired:6,remainingCount:6}}}async sendBulkDeadlineReminders(a){try{console.log(`Sending bulk deadline reminders for ${a}`)}catch(e){console.error("Error sending bulk deadline reminders:",e)}}}const M7=new D7,T7={"FRBCAPL TEST":"https://lms.fargorate.com/PublicReport/LeagueReports?leagueId=e05896bb-b0f4-4a80-bf99-b2ca012ceaaa&divisionId=b345a437-3415-4765-b19a-b2f7014f2cfa","Singles Test":"https://lms.fargorate.com/PublicReport/LeagueReports?leagueId=e05896bb-b0f4-4a80-bf99-b2ca012ceaaa&divisionId=9058a0cc-3231-4118-bd91-b305006fe578"};U.shape({name:U.string.isRequired,description:U.string,playerCount:U.number,currentPhase:U.string,totalMatches:U.number,completedMatches:U.number,startDate:U.string,endDate:U.string,status:U.oneOf(["active","completed","pending","inactive"]),logo:U.string,primaryColor:U.string,secondaryColor:U.string}).isRequired,U.func,U.bool,U.bool,U.bool,U.node,U.string,U.object;U.shape({name:U.string.isRequired,email:U.string,phone:U.string,rank:U.number,wins:U.number,losses:U.number,totalMatches:U.number,winPercentage:U.number,currentStreak:U.number,bestStreak:U.number,lastPlayed:U.string,availability:U.string,status:U.oneOf(["active","inactive","suspended","pending"]),avatar:U.string,primaryColor:U.string,secondaryColor:U.string,isOnline:U.bool}).isRequired,U.func,U.bool,U.bool,U.bool,U.node,U.bool,U.bool,U.string,U.object;U.shape({id:U.string.isRequired,player1:U.string.isRequired,player2:U.string.isRequired,player1Score:U.number,player2Score:U.number,status:U.oneOf(["scheduled","in_progress","completed","cancelled"]),date:U.string,time:U.string,location:U.string,division:U.string,phase:U.string,winner:U.string,notes:U.string,primaryColor:U.string,secondaryColor:U.string}).isRequired,U.func,U.bool,U.bool,U.node,U.bool,U.bool,U.string,U.object;const u5=({playerName:t,playerLastName:a,isMobile:e,userPin:n,proposalsLoading:i,matchesLoading:l,notesLoading:c,seasonLoading:u,standingsLoading:m,scheduleLoading:h,onProfileClick:f,styles:y})=>{const b=i||l||c||u||m||h;return r.createElement(r.Fragment,null,r.createElement("div",{style:{textAlign:"center",marginBottom:e?"8px":"16px"}},r.createElement("h1",{className:y.dashboardTitle,style:{fontSize:e?"1.6rem":"2rem",textAlign:"center",margin:0,cursor:"pointer",transition:"all 0.2s ease"},onClick:f,onMouseEnter:w=>{w.target.style.color="#e53e3e",w.target.style.textShadow="0 0 8px rgba(229, 62, 62, 0.5)"},onMouseLeave:w=>{w.target.style.color="",w.target.style.textShadow=""}},"Welcome,",r.createElement("span",{className:y.dashboardUserName,style:{fontSize:e?"1.4rem":"1.8rem"}},t," ",a)),r.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",marginTop:e?"4px":"8px",fontSize:e?"0.7rem":"0.8rem",color:"#888"}},r.createElement("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:b?"#f59e0b":"#10b981",animation:b?"pulse 2s infinite":"none"}}),r.createElement("span",null,b?"Updating...":"Live")),r.createElement("button",{onClick:f,style:{background:"linear-gradient(135deg, #e53e3e, #c53030)",color:"#fff",border:"none",borderRadius:"8px",padding:e?"8px 16px":"10px 20px",fontSize:e?"0.8rem":"0.9rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(229, 62, 62, 0.3)",marginTop:e?"6px":"10px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},onMouseEnter:w=>{w.target.style.background="linear-gradient(135deg, #c53030, #a52a2a)",w.target.style.transform="translateY(-1px)",w.target.style.boxShadow="0 4px 12px rgba(229, 62, 62, 0.4)"},onMouseLeave:w=>{w.target.style.background="linear-gradient(135deg, #e53e3e, #c53030)",w.target.style.transform="translateY(0)",w.target.style.boxShadow="0 2px 8px rgba(229, 62, 62, 0.3)"}}," Profile")),r.createElement("div",{className:y.announcement,style:{fontSize:e?"0.75rem":"1rem",marginBottom:e?"8px":"16px"}},r.createElement("p",null,"This is the BETA version. "),"Matches that are created, scheduled, and confirmed will NOT be played.",r.createElement("br",null),"This is for testing purposes only."),Li.getCurrentAdmin()&&r.createElement("div",{style:{marginBottom:e?12:16,textAlign:"center"}},r.createElement("button",{onClick:()=>window.location.hash="#/tenball-tutorial",style:{background:"linear-gradient(45deg, #4CAF50, #8BC34A)",border:"none",color:"white",padding:e?"10px 16px":"12px 20px",borderRadius:"25px",cursor:"pointer",fontSize:e?"0.9rem":"1rem",fontWeight:"bold",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(76, 175, 80, 0.3)"}},r.createElement("img",{src:Ap,alt:"10-Ball",style:{width:"20px",height:"20px",marginRight:"8px",display:"inline-block",verticalAlign:"text-bottom"}}),"Play 10-Ball Tutorial & Learn Official CSI Rules")),!e&&r.createElement("br",null))};u5.propTypes={playerName:U.string.isRequired,playerLastName:U.string.isRequired,isMobile:U.bool.isRequired,userPin:U.string,proposalsLoading:U.bool,matchesLoading:U.bool,notesLoading:U.bool,seasonLoading:U.bool,standingsLoading:U.bool,scheduleLoading:U.bool,onProfileClick:U.func.isRequired,styles:U.object.isRequired};const m5=({divisions:t,selectedDivision:a,onDivisionChange:e,isMobile:n})=>t.length===0?null:r.createElement("div",{style:{marginBottom:n?8:16,display:"flex",flexDirection:"column",alignItems:n?"flex-start":"center",gap:n?"8px":"12px"}},r.createElement("div",{style:{display:"flex",flexDirection:n?"column":"row",alignItems:n?"flex-start":"center",gap:n?"4px":"12px",width:"100%"}},r.createElement("label",{style:{fontSize:n?"0.9rem":"1rem"}},"Division:",t.length>1?r.createElement("select",{value:a,onChange:e,style:{fontSize:n?"0.9em":"1em",padding:n?6:4,borderRadius:4}},t.map(i=>r.createElement("option",{key:i,value:i},i))):r.createElement("span",{style:{fontWeight:600}},t[0]))));m5.propTypes={divisions:U.arrayOf(U.string).isRequired,selectedDivision:U.string.isRequired,onDivisionChange:U.func.isRequired,isMobile:U.bool.isRequired};const p5=({isMobile:t,styles:a,effectivePhase:e,seasonData:n,completedMatches:i,totalRequiredMatches:l,playerName:c,playerLastName:u,selectedDivision:m,pendingCount:h,sentCount:f,filteredUpcomingMatches:y,currentUser:b,allPlayers:w,showPhase1Rules:E,setShowPhase1Rules:_,setShowPhase1Overview:S,setPlayerStats:C,setTimeLeft:I,setDeadlineStatus:N,setPhase1EndDate:k,onOpenOpponentsModal:M,onOpenCompletedMatchesModal:T,onOpenStandingsModal:q,onOpenDefenseChallengersModal:z,onOpenAllMatchesModal:G,onOpenProposalListModal:K,onOpenSentProposalListModal:ie,onOpenPlayerSearch:H,onMatchClick:Z,onSmartMatchClick:O,onOpenMessageCenter:R,onOpenCalendar:A,simulationRef:F,opponentsModalPortal:Q})=>r.createElement("section",{className:`${a.dashboardSection} ${a.dashboardSectionBox} ${a.matchesSection}`,style:{position:"relative",overflow:"visible",backgroundColor:"rgba(0, 0, 0, .5)",minHeight:t?"650px":"570px",marginBottom:t?"16px":"36px",paddingBottom:"20px"}},r.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},r.createElement("div",{className:a.poolTableContainer,style:{marginBottom:t?"12px":"24px",position:"relative",width:"100%",maxWidth:t?"98%":"600px",height:t?"400px":"auto",display:"flex",justifyContent:"center",alignItems:"center"}},e==="scheduled"&&n&&r.createElement("div",{style:{position:"absolute",top:t?"50px":"35px",left:"0",right:"0",margin:"0 auto",zIndex:100,width:t?"95%":"90%",maxWidth:t?"500px":"1200px",height:t?"150px":"200px",pointerEvents:"auto"}},r.createElement(g7,null,r.createElement(c7,{currentPhase:e,seasonData:n,completedMatches:i,totalRequiredMatches:l,playerName:c,playerLastName:u,selectedDivision:m,onOpenOpponentsModal:M,onOpenCompletedMatchesModal:T,onOpenStandingsModal:q,onOpenAllMatchesModal:G,pendingCount:h,sentCount:f,onOpenProposalListModal:K,onOpenSentProposalListModal:ie,upcomingMatches:y,onMatchClick:Z,isMobile:t,onOpenMessageCenter:R,currentUser:b,allPlayers:w,onSmartMatchClick:O,showPhase1Rules:E,setShowPhase1Rules:_,showPhase1Overview:!1,setShowPhase1Overview:S,setPlayerStats:C,setTimeLeft:I,setDeadlineStatus:N,setPhase1EndDate:k,onOpenCalendar:A}))),e==="challenge"&&r.createElement("div",{style:{position:"absolute",top:t?"50px":"35px",left:"0",right:"0",margin:"0 auto",zIndex:10,width:t?"95%":"90%",maxWidth:t?"500px":"1200px",height:t?"150px":"200px"}},r.createElement(m7,{playerName:c,playerLastName:u,selectedDivision:m,phase:e,isMobile:t,onOpenOpponentsModal:M,onOpenCompletedMatchesModal:T,onOpenStandingsModal:q,onOpenDefenseChallengersModal:z,onOpenAllMatchesModal:G,pendingCount:h,sentCount:f,onOpenProposalListModal:K,onOpenSentProposalListModal:ie,onOpenPlayerSearch:H,upcomingMatches:y,onMatchClick:Z,seasonData:n,completedMatches:i,standings:[]})),t?r.createElement("div",{className:a.simulationContainer,ref:F,style:{width:"100% !important",height:"400px !important",position:"relative",minWidth:"0 !important",maxWidth:"100% !important",minHeight:"400px !important",maxHeight:"400px !important",pointerEvents:e==="scheduled"?"none":"auto"}},r.createElement(Tm,{isRotated:!0})):r.createElement(JE,{aspectWidth:600,aspectHeight:300},r.createElement("div",{className:a.simulationContainer,ref:F,style:{width:"100%",height:"100%",position:"relative",pointerEvents:e==="scheduled"?"none":"auto"}},r.createElement(Tm,null))),Q)));p5.propTypes={isMobile:U.bool.isRequired,styles:U.object.isRequired,effectivePhase:U.string.isRequired,seasonData:U.object,completedMatches:U.array,totalRequiredMatches:U.number,playerName:U.string.isRequired,playerLastName:U.string.isRequired,selectedDivision:U.string.isRequired,pendingCount:U.number,sentCount:U.number,filteredUpcomingMatches:U.array,currentUser:U.object,allPlayers:U.array,showPhase1Rules:U.bool,setShowPhase1Rules:U.func,setShowPhase1Overview:U.func,setPlayerStats:U.func,setTimeLeft:U.func,setDeadlineStatus:U.func,setPhase1EndDate:U.func,onOpenOpponentsModal:U.func.isRequired,onOpenCompletedMatchesModal:U.func.isRequired,onOpenStandingsModal:U.func.isRequired,onOpenDefenseChallengersModal:U.func.isRequired,onOpenAllMatchesModal:U.func.isRequired,onOpenProposalListModal:U.func.isRequired,onOpenSentProposalListModal:U.func.isRequired,onOpenPlayerSearch:U.func.isRequired,onMatchClick:U.func.isRequired,onSmartMatchClick:U.func.isRequired,onOpenMessageCenter:U.func.isRequired,onOpenCalendar:U.func.isRequired,simulationRef:U.object,opponentsModalPortal:U.node};const f5=({notes:t,notesLoading:a,noteError:e,userPin:n,onDeleteNote:i,onClearNotes:l,styles:c})=>r.createElement("section",{className:`${c.dashboardSection} ${c.dashboardSectionBox} ${c.newsUpdatesSection}`},r.createElement("h2",{className:c.dashboardSectionTitle},"News & Updates"),a?r.createElement(CL,{lines:3,height:"16px"}):r.createElement("ul",{className:c.dashboardList},t.length===0?r.createElement("li",{className:c.dashboardNoteItem},"No news yet."):t.map((u,m)=>r.createElement("li",{key:u._id||m,className:c.dashboardNoteItem},r.createElement("span",{style:{flex:1}},u.text),Li.getCurrentAdmin()&&r.createElement("button",{onClick:()=>i(u._id),style:{background:"#e53935",color:"#fff",border:"none",borderRadius:4,padding:"2px 8px",cursor:"pointer",fontSize:"0.95em"},"aria-label":"Delete note",title:"Delete note",type:"button"},"Delete")))),Li.getCurrentAdmin()&&t.length>0&&r.createElement("button",{style:{marginTop:10,background:"#444",color:"#fff",border:"none",borderRadius:5,padding:"4px 14px",cursor:"pointer",fontSize:"0.98em"},onClick:l,type:"button"},"Clear All Notes"),e&&r.createElement("div",{style:{marginTop:10,padding:"10px",background:"#ffebee",color:"#c62828",border:"1px solid #ffcdd2",borderRadius:"4px",fontSize:"0.9em"}},"Error: ",e));f5.propTypes={notes:U.array.isRequired,notesLoading:U.bool.isRequired,noteError:U.string,userPin:U.string,onDeleteNote:U.func.isRequired,onClearNotes:U.func.isRequired,styles:U.object.isRequired};const h5=({userPin:t,loadingPendingRegistrations:a,phaseOverride:e,selectedDivision:n,BACKEND_URL:i,styles:l,onShowRegistrationModal:c,onLoadPendingRegistrations:u,onSetPendingRegistrations:m,onShowPendingRegistrationsModal:h,onCreateTestRegistration:f,onShowNoteModal:y,onGoToAdmin:b,onGoToPlatformAdmin:w,isSuperAdmin:E,onActivatePhase2:_,onSetPhaseOverride:S,onRefreshSeasonData:C})=>Li.getCurrentAdmin()?r.createElement(r.Fragment,null,r.createElement("button",{className:l.dashboardAdminBtn,onClick:c,type:"button",style:{background:"#4CAF50"}},"Register Player"),r.createElement("button",{className:l.dashboardAdminBtn,onClick:async()=>{u(!0);try{const N=await fetch(`${i}/api/users/pending-registrations`);if(N.ok){const k=await N.json();m(k),h(!0)}else alert("Failed to load pending registrations")}catch{alert("Error loading pending registrations")}finally{u(!1)}},type:"button",style:{background:"#FF9800"},disabled:a},a?"Loading...":"Pending Registrations"),r.createElement("button",{className:l.dashboardAdminBtn,onClick:f,type:"button",style:{background:"#9C27B0"}},"Create Test Registration"),r.createElement("button",{className:l.dashboardAdminBtn,onClick:y,type:"button"},"Add Note"),r.createElement("button",{className:l.dashboardAdminBtn,onClick:b,type:"button"},"Admin"),E()&&w&&r.createElement("button",{className:l.dashboardAdminBtn,onClick:w,type:"button",style:{background:"#8B4513"}},"Platform Admin"),r.createElement("button",{className:l.dashboardAdminBtn,onClick:async()=>{if(e==="challenge")S("scheduled");else try{const k=await(await fetch(`${i}/api/seasons/activate-phase2/${encodeURIComponent(n)}`,{method:"POST",headers:{"Content-Type":"application/json"}})).json();k.success?(S("challenge"),alert(" Phase 2 activated successfully! The system will now allow Phase 2 challenges."),n&&C()):alert("Failed to activate Phase 2: "+k.error)}catch(N){alert("Error activating Phase 2: "+N.message)}},type:"button"},e==="challenge"?"Switch to Phase 1 (Scheduled)":"Activate Phase 2 (Challenge)"),e&&r.createElement("button",{className:l.dashboardAdminBtn,onClick:()=>S(null),type:"button",style:{background:"#888"}},"Clear Phase Override")):null;h5.propTypes={userPin:U.string,loadingPendingRegistrations:U.bool,phaseOverride:U.string,selectedDivision:U.string,BACKEND_URL:U.string.isRequired,styles:U.object.isRequired,onShowRegistrationModal:U.func.isRequired,onLoadPendingRegistrations:U.func.isRequired,onSetPendingRegistrations:U.func.isRequired,onShowPendingRegistrationsModal:U.func.isRequired,onCreateTestRegistration:U.func.isRequired,onShowNoteModal:U.func.isRequired,onGoToAdmin:U.func.isRequired,onGoToPlatformAdmin:U.func,isSuperAdmin:U.func.isRequired,onActivatePhase2:U.func.isRequired,onSetPhaseOverride:U.func.isRequired,onRefreshSeasonData:U.func.isRequired};const g5=({showPlayerSearch:t,showAdminPlayerSearch:a,showPlayerAvailability:e,showProposalModal:n,selectedOpponent:i,proposalData:l,fullName:c,senderEmail:u,selectedDivision:m,effectivePhase:h,playerName:f,playerLastName:y,onClosePlayerSearch:b,onCloseAdminPlayerSearch:w,onClosePlayerAvailability:E,onCloseProposalModal:_,onProposeMatch:S,onProposalComplete:C,onUpdateProposalLocally:I,onRefetchMatches:N,onRefetchProposals:k})=>r.createElement(r.Fragment,null,t&&r.createElement(d0,{onClose:b,excludeName:c,senderName:c,senderEmail:u,selectedDivision:m,phase:h,onProposalComplete:b}),a&&r.createElement(d0,{onClose:w,excludeName:null,senderName:c,senderEmail:u,phase:h,onProposalComplete:w}),e&&i&&r.createElement(Dp,{onClose:E,player:i,onProposeMatch:S,selectedDivision:m,phase:h}),n&&l&&r.createElement(zp,{player:l.player,day:l.day,slot:l.slot,selectedDivision:l.selectedDivision,phase:l.phase||h,onClose:_,senderName:`${f} ${y}`,senderEmail:u,onProposalComplete:M=>{_(),M&&I(M,"add"),N(),k()}}));g5.propTypes={showPlayerSearch:U.bool,showAdminPlayerSearch:U.bool,showPlayerAvailability:U.bool,showProposalModal:U.bool,selectedOpponent:U.object,proposalData:U.object,fullName:U.string.isRequired,senderEmail:U.string.isRequired,selectedDivision:U.string.isRequired,effectivePhase:U.string.isRequired,playerName:U.string.isRequired,playerLastName:U.string.isRequired,onClosePlayerSearch:U.func.isRequired,onCloseAdminPlayerSearch:U.func.isRequired,onClosePlayerAvailability:U.func.isRequired,onCloseProposalModal:U.func.isRequired,onProposeMatch:U.func.isRequired,onProposalComplete:U.func.isRequired,onUpdateProposalLocally:U.func.isRequired,onRefetchMatches:U.func.isRequired,onRefetchProposals:U.func.isRequired};const y5=({showStandings:t,showDefenseChallengers:a,modalOpen:e,showNoteModal:n,showProposalListModal:i,showSentProposalListModal:l,showCounterModal:c,showProposalDetailsModal:u,selectedMatch:m,selectedProposal:h,counterProposal:f,newNote:y,noteError:b,proposalNote:w,pendingProposals:E,sentProposals:_,players:S,STANDINGS_URLS:C,onCloseStandings:I,onCloseDefenseChallengers:N,onCloseModal:k,onCloseNoteModal:M,onCloseProposalListModal:T,onCloseSentProposalListModal:q,onCloseCounterModal:z,onCloseProposalDetailsModal:G,onAddNote:K,onUpdateNewNote:ie,onSelectProposal:H,onSelectSentProposal:Z,onConfirmProposal:O,onCounterPropose:R,onSubmitCounterProposal:A,onEditProposal:F,onDeleteProposal:Q,onUpdateProposalLocally:V,onRefetchMatches:P,onRefetchProposals:j,selectedDivision:J,effectivePhase:W,userPin:re,playerName:X,playerLastName:me,senderEmail:Ce,styles:Se,proposalService:st})=>r.createElement(r.Fragment,null,r.createElement(h8,{open:t,onClose:I,standingsUrl:C[J]}),r.createElement(g8,{open:a,onClose:N,playerName:X,playerLastName:me,selectedDivision:J}),r.createElement(L8,{open:e,onClose:k,match:m,onCompleted:ye=>V(ye,"remove"),userPin:re,onMatchUpdated:ye=>V(ye,"update"),senderName:`${X} ${me}`,senderEmail:Ce}),n&&r.createElement("div",{className:Se.modalOverlay,style:{zIndex:99999}},r.createElement("div",{className:Se.modalContent,style:{maxWidth:400,margin:"auto"}},r.createElement("h2",null,"Add News/Note"),r.createElement("textarea",{value:y,onChange:ie,rows:4,style:{width:"100%",marginBottom:12,borderRadius:6,padding:8},placeholder:"Enter your note..."}),b&&r.createElement("div",{style:{color:"red",marginBottom:8}},b),r.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:8}},r.createElement("button",{className:Se.dashboardBtn,onClick:M,type:"button"},"Cancel"),r.createElement("button",{className:Se.dashboardBtn,disabled:!y.trim(),onClick:K,type:"button"},"Add Note")))),i&&r.createElement(Iv,{proposals:E,onSelect:H,onClose:T,type:"received"}),l&&r.createElement(Iv,{proposals:_,onSelect:Z,onClose:q,type:"sent"}),h&&!u&&r.createElement("div",{className:Se.modalOverlay},r.createElement("div",{className:Se.modalContent,style:{maxWidth:420,margin:"auto"}},r.createElement(q8,{proposal:h,userNote:w,setUserNote:ie,onConfirm:O,onClose:G,onCounterPropose:R,phase:W,currentUserName:`${X} ${me}`,currentUserEmail:Ce}))),r.createElement($E,{proposal:f,open:c,onClose:z,onSubmit:A,senderPlayer:S.find(ye=>{var Ze,qe;return`${ye.firstName} ${ye.lastName}`.trim().toLowerCase()===((f==null?void 0:f.senderName)||"").trim().toLowerCase()||((Ze=ye.email)==null?void 0:Ze.toLowerCase())===((qe=f==null?void 0:f.senderEmail)==null?void 0:qe.toLowerCase())}),phase:W,selectedDivision:J}),h&&u&&r.createElement(IL,{proposal:h,open:u,onClose:G,onEdit:F,onDelete:Q,phase:W,currentUserName:`${X} ${me}`,currentUserEmail:Ce}));y5.propTypes={showStandings:U.bool,showDefenseChallengers:U.bool,modalOpen:U.bool,showNoteModal:U.bool,showProposalListModal:U.bool,showSentProposalListModal:U.bool,showCounterModal:U.bool,showProposalDetailsModal:U.bool,selectedMatch:U.object,selectedProposal:U.object,counterProposal:U.object,newNote:U.string,noteError:U.string,proposalNote:U.string,pendingProposals:U.array,sentProposals:U.array,players:U.array,STANDINGS_URLS:U.object.isRequired,onCloseStandings:U.func.isRequired,onCloseDefenseChallengers:U.func.isRequired,onCloseModal:U.func.isRequired,onCloseNoteModal:U.func.isRequired,onCloseProposalListModal:U.func.isRequired,onCloseSentProposalListModal:U.func.isRequired,onCloseCounterModal:U.func.isRequired,onCloseProposalDetailsModal:U.func.isRequired,onAddNote:U.func.isRequired,onUpdateNewNote:U.func.isRequired,onSelectProposal:U.func.isRequired,onSelectSentProposal:U.func.isRequired,onConfirmProposal:U.func.isRequired,onCounterPropose:U.func.isRequired,onSubmitCounterProposal:U.func.isRequired,onEditProposal:U.func.isRequired,onDeleteProposal:U.func.isRequired,onUpdateProposalLocally:U.func.isRequired,onRefetchMatches:U.func.isRequired,onRefetchProposals:U.func.isRequired,selectedDivision:U.string.isRequired,effectivePhase:U.string.isRequired,userPin:U.string,playerName:U.string.isRequired,playerLastName:U.string.isRequired,senderEmail:U.string.isRequired,styles:U.object.isRequired,proposalService:U.object.isRequired};const b5=({showEditProposalModal:t,showChatModal:a,showCompletedModal:e,winnerModalOpen:n,validationModalOpen:i,showSmartMatchmakingModal:l,showUserProfileModal:c,showPhase1Rules:u,showPhase1Overview:m,showRegistrationModal:h,showPendingRegistrationsModal:f,showCalendarModal:y,selectedProposal:b,chatType:w,opponentEmails:E,completedMatches:_,winnerModalPlayers:S,winnerModalMatch:C,matchToValidate:I,selectedOpponentForSmartMatch:N,pendingRegistrations:k,onCloseEditProposalModal:M,onCloseChatModal:T,onCloseCompletedModal:q,onCloseWinnerModal:z,onCloseValidationModal:G,onCloseSmartMatchmakingModal:K,onCloseUserProfileModal:ie,onClosePhase1Rules:H,onClosePhase1Overview:Z,onCloseRegistrationModal:O,onClosePendingRegistrationsModal:R,onCloseCalendarModal:A,onSaveEditProposal:F,onProposalUpdated:Q,onSelectWinner:V,onValidateMatch:P,onRejectMatch:j,onSmartMatchProposalComplete:J,onUserUpdate:W,onRegistrationSuccess:re,onApproveRegistration:X,onRejectRegistration:me,onOpenOpponentsModal:Ce,onMatchClick:Se,onSmartMatchClick:st,selectedDivision:ye,effectivePhase:Ze,userPin:qe,playerName:ct,playerLastName:Qe,senderEmail:Rt,isMobile:pn,currentUser:Pt,players:rn,filteredUpcomingMatches:Gn,phase1EndDate:tn,playerStats:ue,standings:Ke,timeLeft:Ye,deadlineStatus:wt,allPlayers:te,styles:Pe,proposalService:He,seasonService:Ae,seasonData:et,currentPhaseInfo:dt,BACKEND_URL:Jt,markMatchCompleted:Zn,setCompletingMatchId:Hn,updateCompletedMatch:An,refetchMatches:jn,refetchProposals:ka,setPendingRegistrations:Xe})=>r.createElement(r.Fragment,null,b&&t&&r.createElement(AL,{proposal:b,open:t,onClose:M,onSave:F,selectedDivision:ye,phase:Ze,receiverPlayer:rn.find(ut=>{var nn,Na;return`${ut.firstName} ${ut.lastName}`.trim().toLowerCase()===(b.receiverName||"").trim().toLowerCase()||((nn=ut.email)==null?void 0:nn.toLowerCase())===((Na=b.receiverEmail)==null?void 0:Na.toLowerCase())})}),a&&r.createElement("div",{className:Pe.modalOverlay,style:{zIndex:99999}},r.createElement("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"95vw",height:"95vh",maxWidth:"1400px",maxHeight:"900px",background:"#181818",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.5)",display:"flex",flexDirection:"column",overflow:"hidden"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",borderBottom:"1px solid #333",background:"#222",borderRadius:"12px 12px 0 0"}},r.createElement("h2",{style:{margin:0,color:"#ffffff",fontSize:"1.2em"}},w==="league"?"League Chat":"Direct Messages"),r.createElement("button",{onClick:T,style:{background:"none",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px",transition:"background-color 0.2s"},onMouseOver:ut=>ut.target.style.background="#444",onMouseOut:ut=>ut.target.style.background="none",type:"button"},"")),r.createElement("div",{style:{flex:1,overflow:"hidden",position:"relative"}},w==="league"?r.createElement(d5,{userName:`${ct} ${Qe}`,userEmail:Rt,userPin:qe,onClose:T}):r.createElement(g9,{userName:`${ct} ${Qe}`,userEmail:Rt,userPin:qe,selectedDivision:ye,opponentEmails:E,onClose:T})))),e&&r.createElement("div",{className:Pe.modalOverlay},r.createElement("div",{className:Pe.modalContent,style:{maxWidth:800,margin:"auto"}},r.createElement("h2",null,"Completed Matches"),r.createElement("div",{style:{maxHeight:"70vh",overflowY:"auto"}},_.length===0?r.createElement("p",null,"No completed matches yet."):r.createElement("div",{style:{display:"grid",gap:"10px"}},_.map((ut,nn)=>r.createElement("div",{key:ut._id||nn,style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",padding:"15px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("div",null,r.createElement("strong",null,ut.senderName)," vs ",r.createElement("strong",null,ut.receiverName)),r.createElement("div",{style:{color:"#4CAF50"}},"Winner: ",r.createElement("strong",null,ut.winner))),ut.notes&&r.createElement("p",{style:{margin:"5px 0 0 0",color:"#ccc",fontSize:"0.9em"}},"Notes: ",ut.notes))))),r.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:15}},r.createElement("button",{className:Pe.dashboardBtn,onClick:q,type:"button"},"Close")))),r.createElement(U0,{open:n,onClose:z,player1:S.player1,player2:S.player2,onSelect:V}),r.createElement(h7,{isOpen:i,onClose:G,match:I,onValidate:P,onReject:j}),r.createElement(x7,{isOpen:l,onClose:K,player1:Pt,player2:N,upcomingMatches:Gn,isMobile:pn,selectedDivision:ye,phase:Ze,senderName:`${ct} ${Qe}`,senderEmail:Rt,onProposalComplete:J}),r.createElement(v7,{isOpen:c,onClose:ie,currentUser:Pt,isMobile:pn,onUserUpdate:W,availableLocations:["Legends Brews & Cues","Antiques","Rac m","Westside Billiards","Bijou Billiards","Crooked Cue","Back on the Boulevard","Main Street Tavern","Murray Street Darts","My House"]}),r.createElement(y7,{isOpen:u,onClose:H,isMobile:pn}),r.createElement(b7,{isOpen:m,onClose:Z,isMobile:pn,playerName:ct,playerLastName:Qe,completedMatches:_,totalRequiredMatches:0,playerStats:ue,standings:Ke,timeLeft:Ye,deadlineStatus:wt,phase1EndDate:tn,allPlayers:te,selectedDivision:ye}),r.createElement(E7,{isOpen:h,onClose:O,onSuccess:re,isMobile:pn,isAdmin:!0}),f&&r.createElement("div",{className:Pe.modalOverlay,style:{zIndex:99999}},r.createElement("div",{className:Pe.modalContent,style:{maxWidth:800,margin:"auto"}},r.createElement("h2",null,"Pending Registrations"),r.createElement("div",{style:{padding:"20px",maxHeight:"70vh",overflowY:"auto"}},k.length===0?r.createElement("div",{style:{textAlign:"center",color:"#ccc",padding:"40px"}},r.createElement("h3",null,"No Pending Registrations"),r.createElement("p",null,"All registrations have been processed.")):r.createElement("div",{style:{display:"grid",gap:"15px"}},k.sort((ut,nn)=>new Date(ut.registrationDate)-new Date(nn.registrationDate)).map((ut,nn)=>r.createElement("div",{key:ut._id,style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",padding:"15px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"}},r.createElement("div",null,r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"5px"}},r.createElement("span",{style:{background:"#e53e3e",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold",minWidth:"20px",textAlign:"center"}},"#",nn+1),r.createElement("h4",{style:{color:"#e53e3e",margin:"0"}},ut.firstName," ",ut.lastName)),r.createElement("p",{style:{color:"#ccc",margin:"0 0 5px 0"}},ut.email,"  ",ut.phone),r.createElement("p",{style:{color:"#999",margin:"0 0 5px 0",fontSize:"12px"}},"Registered: ",new Date(ut.registrationDate).toLocaleDateString()),r.createElement("p",{style:{color:"#999",margin:"0",fontSize:"12px"}},"Division: ",ut.division||"Not assigned")),r.createElement("div",{style:{display:"flex",gap:"8px",flexDirection:"column",alignItems:"flex-end"}},r.createElement("div",{style:{marginBottom:"10px",textAlign:"right"}},r.createElement("label",{style:{color:"#ccc",fontSize:"12px",display:"block",marginBottom:"2px"}},"Assign Division:"),r.createElement("select",{id:`division-${ut._id}`,defaultValue:ut.division||"",style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"12px",minWidth:"120px"}},r.createElement("option",{value:""},"Select Division"),r.createElement("option",{value:"FRBCAPL TEST"},"FRBCAPL TEST"),r.createElement("option",{value:"Singles Test"},"Singles Test"),r.createElement("option",{value:"Waiting List"},"Waiting List"))),r.createElement("div",{style:{display:"flex",gap:"8px"}},r.createElement("button",{onClick:()=>X(ut),style:{background:"#4CAF50",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"}},"Approve"),r.createElement("button",{onClick:()=>me(ut),style:{background:"#f44336",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"}},"Reject")))),r.createElement("div",{style:{marginTop:"10px"}},r.createElement("h5",{style:{color:"#e53e3e",margin:"0 0 5px 0",fontSize:"14px"}},"Availability:"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"5px",fontSize:"12px"}},Object.entries(ut.availability).map(([Na,En])=>r.createElement("div",{key:Na,style:{color:"#ccc"}},r.createElement("strong",null,Na,":")," ",En.length>0?En.join(", "):"None")))),r.createElement("div",{style:{marginTop:"10px"}},r.createElement("h5",{style:{color:"#e53e3e",margin:"0 0 5px 0",fontSize:"14px"}},"Locations:"),r.createElement("p",{style:{color:"#ccc",margin:"0",fontSize:"12px"}},ut.locations)))))),r.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:15}},r.createElement("button",{className:Pe.dashboardBtn,onClick:R,type:"button"},"Close")))),r.createElement(f7,{isOpen:y,onClose:A,isMobile:pn,phase1EndDate:tn,upcomingMatches:Gn,playerName:ct,playerLastName:Qe,onOpenOpponentsModal:Ce,onMatchClick:Se,onSmartMatchClick:st}));b5.propTypes={showEditProposalModal:U.bool,showChatModal:U.bool,showCompletedModal:U.bool,winnerModalOpen:U.bool,validationModalOpen:U.bool,showSmartMatchmakingModal:U.bool,showUserProfileModal:U.bool,showPhase1Rules:U.bool,showPhase1Overview:U.bool,showRegistrationModal:U.bool,showPendingRegistrationsModal:U.bool,showCalendarModal:U.bool,selectedProposal:U.object,chatType:U.string,opponentEmails:U.array,completedMatches:U.array,winnerModalPlayers:U.object,winnerModalMatch:U.object,matchToValidate:U.object,selectedOpponentForSmartMatch:U.object,pendingRegistrations:U.array,onCloseEditProposalModal:U.func.isRequired,onCloseChatModal:U.func.isRequired,onCloseCompletedModal:U.func.isRequired,onCloseWinnerModal:U.func.isRequired,onCloseValidationModal:U.func.isRequired,onCloseSmartMatchmakingModal:U.func.isRequired,onCloseUserProfileModal:U.func.isRequired,onClosePhase1Rules:U.func.isRequired,onClosePhase1Overview:U.func.isRequired,onCloseRegistrationModal:U.func.isRequired,onClosePendingRegistrationsModal:U.func.isRequired,onCloseCalendarModal:U.func.isRequired,onSaveEditProposal:U.func.isRequired,onProposalUpdated:U.func.isRequired,onSelectWinner:U.func.isRequired,onValidateMatch:U.func.isRequired,onRejectMatch:U.func.isRequired,onSmartMatchProposalComplete:U.func.isRequired,onUserUpdate:U.func.isRequired,onRegistrationSuccess:U.func.isRequired,onApproveRegistration:U.func.isRequired,onRejectRegistration:U.func.isRequired,onOpenOpponentsModal:U.func.isRequired,onMatchClick:U.func.isRequired,onSmartMatchClick:U.func.isRequired,selectedDivision:U.string.isRequired,effectivePhase:U.string.isRequired,userPin:U.string,playerName:U.string.isRequired,playerLastName:U.string.isRequired,senderEmail:U.string.isRequired,isMobile:U.bool.isRequired,currentUser:U.object,players:U.array,filteredUpcomingMatches:U.array,phase1EndDate:U.string,playerStats:U.object,standings:U.array,timeLeft:U.string,deadlineStatus:U.string,allPlayers:U.array,styles:U.object.isRequired,proposalService:U.object.isRequired,seasonService:U.object.isRequired,seasonData:U.object,currentPhaseInfo:U.object,BACKEND_URL:U.string.isRequired,markMatchCompleted:U.func.isRequired,setCompletingMatchId:U.func.isRequired,updateCompletedMatch:U.func.isRequired,refetchMatches:U.func.isRequired,refetchProposals:U.func.isRequired,setPendingRegistrations:U.func.isRequired};function wx(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-");return`${c}-${u}-${l}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),i=a.getFullYear();return`${e}-${n}-${i}`}function R7({playerName:t,playerLastName:a,onOpenChat:e,userPin:n,onGoToAdmin:i,onLogout:l,onScheduleMatch:c,senderEmail:u,onGoToPlatformAdmin:m}){const[h,f]=v.useState([]),[y,b]=v.useState(""),[w,E]=v.useState(!1),[_,S]=v.useState(!1),[C,I]=v.useState(!1),[N,k]=v.useState(null),[M,T]=v.useState(""),[q,z]=v.useState(!1),[G,K]=v.useState(!1),[ie,H]=v.useState(null),[Z,O]=v.useState(!1),[R,A]=v.useState(""),[F,Q]=v.useState(""),[V,P]=v.useState(null),[j,J]=v.useState(!1),[W,re]=v.useState(!1),[X,me]=v.useState(!1),[Ce,Se]=v.useState("scheduled"),[st,ye]=v.useState(!1),[Ze,qe]=v.useState(null),[ct,Qe]=v.useState(!1),[Rt,pn]=v.useState(!1),[Pt,rn]=v.useState(null),[Gn,tn]=v.useState(!1),[ue,Ke]=v.useState(null),[Ye,wt]=v.useState(!1),[te,Pe]=v.useState(null),[He,Ae]=v.useState([]),[et,dt]=v.useState(!1),[Jt,Zn]=v.useState(0),[Hn,An]=v.useState(0),[jn,ka]=v.useState(0),Xe=`${t} ${a}`.trim(),{pendingProposals:ut,sentProposals:nn,loading:Na,refetch:En,updateProposalLocally:La}=i5(Xe,y),Vn=Pt||Ce,{matches:ca,completedMatches:Aa,loading:Ba,refetch:zn,markMatchCompleted:$s,updateCompletedMatch:Co}=_7(Xe,y,Vn),ya=()=>["frbcapl@gmail.com","sslampro@gmail.com"].includes(u.toLowerCase())&&n==="777777",{seasonData:Kt,currentPhaseInfo:wn,loading:Ka}=I7(y),{standings:Gs,loading:Zs}=k7(y),{notes:cs,loading:Vs,refetch:Pr,updateNoteLocally:ds}=N7(),{scheduledMatches:Da,loading:Lr}=A7(y),[us,xr]=v.useState(0),[fn,Bi]=v.useState(0),[Oi,da]=v.useState(!1),[Er,ms]=v.useState(!1),[wr,Qs]=v.useState(""),[ps,fs]=v.useState("all"),[hs,Ma]=v.useState("date"),[gs,Oa]=v.useState(null),[Sr,zi]=v.useState(!1),[Ui,Pl]=v.useState("direct"),[_o,Qn]=v.useState(0),[Io,ne]=v.useState(!1),[L,fe]=v.useState(null),[be,we]=v.useState({player1:"",player2:""}),[Me,De]=v.useState(!1),[Be,mt]=v.useState(null),[$e,pt]=v.useState(!1),[Je,Te]=v.useState(!1),[pe,Ne]=v.useState(!1),[Le,Ue]=v.useState([]),[kt,Lt]=v.useState(!1),[ba,Br]=v.useState(!1),[Nt,We]=v.useState(!1),[Ut,Qt]=v.useState(!1),[Dn,va]=v.useState(null),[hn,sn]=v.useState(null),[Xn,aa]=v.useState("normal"),[Jn,er]=v.useState(null),Mn=v.useRef(null);ss();const Sn=typeof window<"u"&&window.innerWidth<=768||typeof navigator<"u"&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?!0:typeof window<"u"&&window.self!==window.top?window.innerWidth<=768||window.innerHeight<=600:!1;v.useEffect(()=>{(async()=>{try{const _e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);console.log("Device Info:",{userAgent:navigator.userAgent,isMobile:_e,backendUrl:ke,protocol:window.location.protocol,hostname:window.location.hostname}),console.log("Testing backend connection...");const Oe=await fetch(`${ke}/health`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",credentials:"include"});Oe.ok?console.log(" Backend connection successful"):console.error(" Backend connection failed:",Oe.status,Oe.statusText)}catch(_e){console.error(" Backend connection error:",_e),console.error("Error details:",{name:_e.name,message:_e.message,stack:_e.stack})}})()},[]),v.useEffect(()=>{xr(ut.length)},[ut]),v.useEffect(()=>{Bi(nn.length)},[nn]),v.useEffect(()=>{async function Y(){try{const Oe=await(await fetch(`${ke}/api/messages/unread?user=${encodeURIComponent(u)}`)).json();Array.isArray(Oe)&&Qn(Oe.length)}catch(_e){console.error("Failed to fetch unread messages:",_e)}}if(u){Y();const _e=setInterval(Y,3e4);return()=>clearInterval(_e)}},[u]),v.useEffect(()=>{if(!t||!a||!y||Ba||Na)return;const Y=Vn==="challenge"?2:1,Oe=Da.filter(gn=>gn.division===y&&gn.phase===Y&&(gn.player1&&gn.player1.trim().toLowerCase()===Xe.toLowerCase()||gn.player2&&gn.player2.trim().toLowerCase()===Xe.toLowerCase())).length;An(Aa.length);const It=ca.filter(gn=>gn.status==="confirmed"&&(gn.completed===!1||gn.completed===void 0)).length+Aa.length,ft=Math.max(0,Oe-It);Zn(ft),ka(Oe)},[t,a,y,Da,Aa,ca,Ba,Na]);const xa=(()=>{if(!t||!a||!y)return 0;const _e=Da.filter(Oe=>Oe.division===y&&(Oe.player1&&Oe.player1.trim().toLowerCase()===Xe.toLowerCase()||Oe.player2&&Oe.player2.trim().toLowerCase()===Xe.toLowerCase())).length;return _e===0&&Vn==="scheduled"?(console.log("No schedule matches found, using fallback of 6 matches for Phase 1"),6):_e})();v.useEffect(()=>{let Y=!0;async function _e(){try{const Oe=await fetch(`${ke}/api/users/search?approved=true`);if(!Oe.ok)throw new Error("Failed to fetch players from database");const yt=await Oe.json();if(!yt.users||yt.users.length===0){Y&&Ae([]);return}const It=yt.users.map(ft=>({firstName:ft.firstName||"",lastName:ft.lastName||"",email:ft.email||"",phone:ft.phone||"",locations:ft.locations||"",availability:ft.availability||{Mon:[],Tue:[],Wed:[],Thu:[],Fri:[],Sat:[],Sun:[]},pin:ft.pin||"",preferredContacts:ft.preferredContacts||[],division:ft.division||"",divisions:ft.divisions||[]})).filter(ft=>ft.email&&ft.firstName&&ft.lastName);if(Y){Ae(It),Pd(It);const ft=It.find(gn=>gn.firstName===t&&gn.lastName===a);ft&&Ul(ft)}}catch(Oe){console.error("Error loading players:",Oe),Y&&(Ae([]),Pd([]),Ul(null))}}return _e(),()=>{Y=!1}},[]),v.useEffect(()=>{u&&c5.getUser(u).then(Y=>{let _e=[];Array.isArray(Y.divisions)?_e=Y.divisions.map(Oe=>Oe.trim()).filter(Boolean):typeof Y.divisions=="string"?_e=Y.divisions.split(",").map(Oe=>Oe.trim()).filter(Boolean):_e=[],f(_e)}).catch(()=>{f([])})},[u]),v.useEffect(()=>{h.length>0?b(h[0]):b("")},[h]);const za=async()=>{Q("");try{const Y=await hm.createNote(R.trim());ds(Y,"add"),A(""),O(!1)}catch{Q("Failed to add note")}},Cr=async Y=>{if(window.confirm("Delete this note?"))try{await hm.deleteNote(Y),ds({_id:Y},"remove")}catch(_e){console.error("Failed to delete note:",_e)}},Tn=async()=>{if(window.confirm("Are you sure you want to clear all notes?"))try{for(const Y of cs)await hm.deleteNote(Y._id);setNotes([]),Pr()}catch(Y){console.error("Failed to clear notes:",Y)}};async function _r(Y){if(ie)try{await Ga.counterProposal(ie._id,Y),K(!1),H(null),zn(),En()}catch(_e){console.error("Failed to counter proposal:",_e)}}function Xs(){J(!1),P(null)}const ys=Vn==="challenge"?2:1,ko=Da.filter(Y=>Y.division===y&&(!Y.phase||Y.phase===ys)&&(Y.player1&&Y.player1.trim().toLowerCase()===Xe.toLowerCase()||Y.player2&&Y.player2.trim().toLowerCase()===Xe.toLowerCase())),Ll=Array.from(new Set(ko.map(Y=>Y.player1&&Y.player1.trim().toLowerCase()===Xe.toLowerCase()?Y.player2Email||Y.player2EmailAddress||Y.player2Email||Y.player2||null:Y.player2&&Y.player2.trim().toLowerCase()===Xe.toLowerCase()&&(Y.player1Email||Y.player1EmailAddress||Y.player1Email||Y.player1)||null).filter(Boolean)));function Bl(){var Oe,yt;const Y=new Set,_e=[];for(const It of ko){const ft=It.player1&&It.player1.trim().toLowerCase()===Xe.toLowerCase()?It.player2:It.player1;if(Aa.some(Ve=>{var zr,Wi;const Ea=[(zr=Ve.player1Id)==null?void 0:zr.trim().toLowerCase(),(Wi=Ve.player2Id)==null?void 0:Wi.trim().toLowerCase()];return Ve.division===y&&Ea.includes(Xe.toLowerCase())&&Ea.includes(ft==null?void 0:ft.trim().toLowerCase())}))continue;let Or=!1;for(let Ve=0;Ve<ca.length;Ve++){if(Y.has(Ve))continue;const Ea=ca[Ve],zr=[(Oe=Ea.player1Id)==null?void 0:Oe.trim().toLowerCase(),(yt=Ea.player2Id)==null?void 0:yt.trim().toLowerCase()];if(Ea.division===y&&zr.includes(Xe.toLowerCase())&&zr.includes(ft==null?void 0:ft.trim().toLowerCase())){Y.add(Ve),Or=!0;break}}Or||_e.push(It)}return _e}const Fi=Bl().map(Y=>{var yt,It;const _e=Y.player1&&Y.player1.trim().toLowerCase()===Xe.toLowerCase()?(yt=Y.player2)==null?void 0:yt.trim():(It=Y.player1)==null?void 0:It.trim();if(!_e)return null;const Oe=He.find(ft=>`${ft.firstName} ${ft.lastName}`.trim().toLowerCase()===_e.toLowerCase());return{match:Y,player:Oe,opponentName:_e}}).filter(Boolean);function Dd(Y){const _e=Fi.find(yt=>yt.opponentName&&yt.opponentName.trim().toLowerCase()===Y.trim().toLowerCase()),Oe=(_e==null?void 0:_e.player)||He.find(yt=>`${yt.firstName} ${yt.lastName}`.trim().toLowerCase()===Y.trim().toLowerCase());if(!Oe){alert("Player data not found for: "+Y);return}if(Fl){Fp(Oe);return}if(!Oe.email){alert("This opponent does not have an email on file and cannot be proposed a match.");return}Ke(Oe),tn(!0),ye(!1)}function Md(){if(console.log("Smart match button clicked!"),console.log("currentUser:",Ao),console.log("allPlayers:",Ua),console.log("allPlayers length:",Ua==null?void 0:Ua.length),!Ao||!Ua||Ua.length===0){console.log("Player data not available, showing alert"),alert("Player data not available for smart match. Please try again.");return}ye(!0),Js(!0)}function Fp(Y){qp(Y),ye(!1),Js(!1),Rd(!0)}v.useEffect(()=>{if(!u||!t||!y||!Kt||Vn!=="scheduled")return;const Y=async()=>{try{await M7.checkAndSendDeadlineReminder(u,`${t} ${a}`,y)}catch(Oe){console.error("Error checking deadline reminders:",Oe)}};Y();const _e=setInterval(Y,60*60*1e3);return()=>clearInterval(_e)},[u,t,a,y,Kt,Vn]);const Ir=ca.filter(Y=>Y.division===y).filter(Y=>{if(wr){let _e="";if(Y.player1Id&&Y.player2Id?Y.player1Id.trim().toLowerCase()===Xe.trim().toLowerCase()?_e=Y.player2Id:_e=Y.player1Id:Y.senderName&&Y.receiverName&&(Y.senderName.trim().toLowerCase()===Xe.trim().toLowerCase()?_e=Y.receiverName:_e=Y.senderName),!_e.toLowerCase().includes(wr.toLowerCase()))return!1}return!(ps!=="all"&&(ps==="completed"&&Y.status!=="completed"||ps==="pending"&&Y.status!=="pending"||ps==="upcoming"&&Y.status==="completed"))}).sort((Y,_e)=>{switch(hs){case"date":const Oe=Y.scheduledDate?new Date(Y.scheduledDate):new Date(Y.date||0),yt=_e.scheduledDate?new Date(_e.scheduledDate):new Date(_e.date||0);return Oe-yt;case"opponent":let It="",ft="";return Y.player1Id&&Y.player2Id?It=Y.player1Id.trim().toLowerCase()===Xe.trim().toLowerCase()?Y.player2Id:Y.player1Id:Y.senderName&&Y.receiverName&&(It=Y.senderName.trim().toLowerCase()===Xe.trim().toLowerCase()?Y.receiverName:Y.senderName),_e.player1Id&&_e.player2Id?ft=_e.player1Id.trim().toLowerCase()===Xe.trim().toLowerCase()?_e.player2Id:_e.player1Id:_e.senderName&&_e.receiverName&&(ft=_e.senderName.trim().toLowerCase()===Xe.trim().toLowerCase()?_e.receiverName:_e.senderName),It.localeCompare(ft);case"status":const gn={pending:1,confirmed:2,completed:3},Or=gn[Y.status]||0,Ve=gn[_e.status]||0;return Or-Ve;default:return 0}});function Ol(Y){P(Y),J(!0)}const Wp=X&&r.createElement(xn,{open:X,onClose:()=>{me(!1),Qs(""),fs("all"),Ma("date")},title:` All Upcoming Matches (${Ir.length})`,maxWidth:"900px",className:"all-matches-modal"},r.createElement("div",{style:{display:"flex",gap:"8px",flexWrap:Sn?"wrap":"nowrap",alignItems:"center",marginBottom:"8px"}},r.createElement("div",{style:{flex:1,minWidth:Sn?"100%":"200px",position:"relative"}},r.createElement("input",{type:"text",placeholder:"Search by opponent name...",value:wr,onChange:Y=>Qs(Y.target.value),style:{width:"100%",padding:"8px 12px 8px 36px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#fff",fontSize:"0.9rem",outline:"none",transition:"all 0.2s ease"},onFocus:Y=>{Y.target.style.border="1px solid rgba(255, 255, 255, 0.4)",Y.target.style.background="rgba(0, 0, 0, 0.5)"},onBlur:Y=>{Y.target.style.border="1px solid rgba(255, 255, 255, 0.2)",Y.target.style.background="rgba(0, 0, 0, 0.3)"}}),r.createElement("span",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#888",fontSize:"0.9rem"}},"")),r.createElement("select",{value:ps,onChange:Y=>fs(Y.target.value),style:{padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#fff",fontSize:"0.9rem",outline:"none",cursor:"pointer",minWidth:Sn?"100%":"120px"},onFocus:Y=>{Y.target.style.border="1px solid rgba(255, 255, 255, 0.4)"},onBlur:Y=>{Y.target.style.border="1px solid rgba(255, 255, 255, 0.2)"}},r.createElement("option",{value:"all"},"All Matches"),r.createElement("option",{value:"upcoming"},"Upcoming"),r.createElement("option",{value:"completed"},"Completed"),r.createElement("option",{value:"pending"},"Pending")),r.createElement("select",{value:hs,onChange:Y=>Ma(Y.target.value),style:{padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#fff",fontSize:"0.9rem",outline:"none",cursor:"pointer",minWidth:Sn?"100%":"100px"},onFocus:Y=>{Y.target.style.border="1px solid rgba(255, 255, 255, 0.4)"},onBlur:Y=>{Y.target.style.border="1px solid rgba(255, 255, 255, 0.2)"}},r.createElement("option",{value:"date"},"Sort by Date"),r.createElement("option",{value:"opponent"},"Sort by Opponent"),r.createElement("option",{value:"status"},"Sort by Status"))),r.createElement("div",{style:{flex:1,overflowY:"auto",height:"450px",minHeight:"200px"}},Ir.length===0?r.createElement("div",{style:{textAlign:"center",padding:"40px 20px",color:"#888",fontSize:"1.1rem"}},r.createElement("div",{style:{fontSize:"3rem",marginBottom:"16px"}},""),r.createElement("div",{style:{marginBottom:"8px",fontWeight:"bold"}},"No matches found"),r.createElement("div",{style:{fontSize:"0.9rem"}},"You don't have any upcoming matches scheduled.")):r.createElement("div",{style:{display:"grid",gap:"12px",gridTemplateColumns:Sn?"1fr":"repeat(auto-fit, minmax(300px, 1fr))",maxWidth:"100%"}},Ir.map((Y,_e)=>{let Oe="",yt="",It="upcoming";if(Y.player1Id&&Y.player2Id)if(Y.player1Id.trim().toLowerCase()===Xe.trim().toLowerCase()?Oe=Y.player2Id:Oe=Y.player1Id,Y.scheduledDate){const Ve=new Date(Y.scheduledDate);isNaN(Ve.getTime())?yt="[Invalid Date]":yt=wx(Ve.toISOString().split("T")[0])}else yt="[No Date]";else if(Y.senderName&&Y.receiverName&&(Y.senderName.trim().toLowerCase()===Xe.trim().toLowerCase()?Oe=Y.receiverName:Oe=Y.senderName),Y.date){const Ve=Y.date.split("-");if(Ve.length===3){const[Ea,zr,Wi]=Ve,Ld=new Date(`${Ea}-${zr}-${Wi}`);isNaN(Ld.getTime())?yt="[Invalid Date]":yt=wx(Y.date)}else yt="[Invalid Date]"}else yt="[No Date]";Y.status;const ft=Y.status==="completed";ft?It="completed":Y.status==="pending"&&(It="pending");const gn=Ve=>{switch(Ve){case"completed":return"#10b981";case"pending":return"#f59e0b";default:return"var(--accent-red)"}},Or=Ve=>{switch(Ve){case"completed":return"";case"pending":return"";default:return""}};return r.createElement("div",{key:Y._id||_e,style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.04) 100%)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.15)",padding:"12px",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},onMouseEnter:Ve=>{Ve.currentTarget.style.background="linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.06) 100%)",Ve.currentTarget.style.border="1px solid rgba(229, 62, 62, 0.3)",Ve.currentTarget.style.transform="translateY(-2px)",Ve.currentTarget.style.boxShadow="0 8px 24px rgba(229, 62, 62, 0.2)"},onMouseLeave:Ve=>{Ve.currentTarget.style.background="linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.04) 100%)",Ve.currentTarget.style.border="1px solid rgba(255, 255, 255, 0.15)",Ve.currentTarget.style.transform="translateY(0)",Ve.currentTarget.style.boxShadow="none"}},r.createElement("div",{style:{position:"absolute",top:"16px",right:"16px",background:gn(It),color:"#fff",padding:"6px 12px",borderRadius:"16px",fontSize:"0.8rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}},Or(It)," ",It),r.createElement("div",{style:{textAlign:"center",marginBottom:"8px",paddingRight:"100px"}},r.createElement("div",{style:{fontSize:"1.2rem",fontWeight:"700",color:"#fff",textShadow:"0 2px 4px rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",flexWrap:"wrap"}},r.createElement("span",null,t," ",a),r.createElement("span",{style:{color:"var(--accent-red)",fontSize:"1rem",fontWeight:"600"}},"VS"),r.createElement("span",null,Oe||"[Unknown Opponent]"))),r.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"16px",marginBottom:"12px",fontSize:"0.9rem",color:"#ccc"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"rgba(255, 255, 255, 0.1)",padding:"8px 12px",borderRadius:"8px"}}," ",yt),Y.location&&r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"rgba(255, 255, 255, 0.1)",padding:"8px 12px",borderRadius:"8px"}}," ",Y.location)),r.createElement("div",{style:{display:"flex",gap:"8px",justifyContent:"center"}},r.createElement("button",{onClick:()=>Ol(Y),style:{padding:"8px 16px",background:"linear-gradient(135deg, var(--accent-red), var(--accent-red-dark))",border:"none",borderRadius:"8px",color:"#fff",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(229, 62, 62, 0.3)",minWidth:"100px"},onMouseEnter:Ve=>{Ve.target.style.transform="translateY(-1px)",Ve.target.style.boxShadow="0 4px 16px rgba(229, 62, 62, 0.5)"},onMouseLeave:Ve=>{Ve.target.style.transform="translateY(0)",Ve.target.style.boxShadow="0 2px 8px rgba(229, 62, 62, 0.3)"}}," View Details"),!ft&&r.createElement(l5,{className:he.dashboardBtn+" "+he.matchCardDoneBtn,loading:gs===Y._id,loadingText:"Completing...",style:{padding:"8px 16px",fontSize:"0.85rem",fontWeight:"600",background:"linear-gradient(135deg, #6c757d, #5a6268)",border:"none",borderRadius:"8px",color:"#fff",cursor:"pointer",transition:"all 0.2s ease",minWidth:"100px",boxShadow:"0 2px 8px rgba(108, 117, 125, 0.3)"},onMouseEnter:Ve=>{gs!==Y._id&&(Ve.target.style.background="linear-gradient(135deg, #10b981, #059669)",Ve.target.style.transform="translateY(-1px)",Ve.target.style.boxShadow="0 4px 16px rgba(16, 185, 129, 0.5)")},onMouseLeave:Ve=>{gs!==Y._id&&(Ve.target.style.background="linear-gradient(135deg, #6c757d, #5a6268)",Ve.target.style.transform="translateY(0)",Ve.target.style.boxShadow="0 2px 8px rgba(108, 117, 125, 0.3)")},onClick:()=>{let Ve="",Ea="";Y.player1Id&&Y.player2Id?(Ve=Y.player1Id,Ea=Y.player2Id):Y.type==="scheduled"?(Ve=Y.player1,Ea=Y.player2):(Ve=Y.senderName,Ea=Y.receiverName),fe(Y),we({player1:Ve,player2:Ea}),ne(!0)},type:"button"}," Mark as Complete")))}))),r.createElement("div",{style:{padding:"8px 0 0",borderTop:"1px solid rgba(255, 255, 255, 0.1)",marginTop:"8px",textAlign:"center"}},r.createElement("div",{style:{fontSize:"0.9rem",color:"#888"}},"Showing ",Ir.length," match",Ir.length!==1?"es":""))),Td=[...ca.filter(Y=>{var _e,Oe;return Y.division===y&&[(_e=Y.player1Id)==null?void 0:_e.trim().toLowerCase(),(Oe=Y.player2Id)==null?void 0:Oe.trim().toLowerCase()].includes(Xe.toLowerCase())}),...Aa.filter(Y=>{var _e,Oe;return Y.division===y&&[(_e=Y.player1Id)==null?void 0:_e.trim().toLowerCase(),(Oe=Y.player2Id)==null?void 0:Oe.trim().toLowerCase()].includes(Xe.toLowerCase())})];Array.from(new Set(Td.map(Y=>Y._id))).map(Y=>Td.find(_e=>_e._id===Y)).length;const[Hp,zl]=v.useState(!1),[jp,Rd]=v.useState(!1),[Ao,Ul]=v.useState(null),[Ua,Pd]=v.useState([]),[Yp,qp]=v.useState(null),[Fl,Js]=v.useState(!1);[...ut.filter(Y=>Y.status==="pending"&&Y.receiverName===Xe),...nn.filter(Y=>Y.status==="countered"&&Y.senderName===Xe)],[...nn.filter(Y=>Y.status==="pending"&&Y.senderName===Xe),...ut.filter(Y=>Y.status==="countered"&&Y.receiverName===Xe)],console.log(" Dashboard: showOpponents state:",st),console.log(" Dashboard: simulationRef.current:",!!Mn.current);const $p=st&&Mn.current?vd.createPortal(r.createElement("div",{style:{position:"absolute",top:Mn.current.getBoundingClientRect().top+window.scrollY,left:Mn.current.getBoundingClientRect().left+window.scrollX,width:Mn.current.offsetWidth,height:Mn.current.offsetHeight,zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.6)",pointerEvents:"auto"}},r.createElement(KE,{open:st,onClose:()=>ye(!1),opponents:Fi,onOpponentClick:Dd,phase:Vn,selectedCalendarDate:Ze,smartMatchMode:Fl,allPlayers:Ua})),document.body):null;return r.createElement("div",{className:he.dashboardBg,style:{position:"relative"}},r.createElement("style",null,`
          @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
          }
        `),r.createElement("div",{className:he.dashboardFrame,style:{position:"relative",zIndex:1}},r.createElement("div",{className:he.dashboardCard,style:{position:"relative",zIndex:1,padding:Sn?"12px":"20px",margin:Sn?"6px":"16px"}},r.createElement(u5,{playerName:t,playerLastName:a,isMobile:Sn,userPin:n,proposalsLoading:Na,matchesLoading:Ba,notesLoading:Vs,seasonLoading:Ka,standingsLoading:Zs,scheduleLoading:Lr,onProfileClick:()=>pt(!0),styles:he}),r.createElement(m5,{divisions:h,selectedDivision:y,onDivisionChange:Y=>b(Y.target.value),isMobile:Sn}),r.createElement(p5,{isMobile:Sn,styles:he,effectivePhase:Vn,seasonData:Kt,completedMatches:Aa,totalRequiredMatches:xa,playerName:t,playerLastName:a,selectedDivision:y,pendingCount:us,sentCount:fn,filteredUpcomingMatches:Ir,currentUser:Ao,allPlayers:Ua,showPhase1Rules:ba,setShowPhase1Rules:Br,setShowPhase1Overview:We,setPlayerStats:va,setTimeLeft:sn,setDeadlineStatus:aa,setPhase1EndDate:er,onOpenOpponentsModal:Y=>{console.log(" Dashboard: onOpenOpponentsModal called with date:",Y),qe(Y),Y?(console.log(" Dashboard: Setting smart match mode to false"),Js(!1)):(console.log(" Dashboard: Setting smart match mode to true"),Js(!0)),console.log(" Dashboard: Setting showOpponents to true"),ye(!0)},onOpenCompletedMatchesModal:()=>zl(!0),onOpenStandingsModal:()=>E(!0),onOpenDefenseChallengersModal:()=>S(!0),onOpenAllMatchesModal:()=>me(!0),onOpenProposalListModal:()=>I(!0),onOpenSentProposalListModal:()=>z(!0),onOpenPlayerSearch:()=>Qe(!0),onMatchClick:Ol,onSmartMatchClick:Md,onOpenMessageCenter:Y=>{Pl(Y),dt(!0)},onOpenCalendar:()=>Qt(!0),simulationRef:Mn,opponentsModalPortal:$p}),r.createElement(f5,{notes:cs,notesLoading:Vs,noteError:F,userPin:n,onDeleteNote:Cr,onClearNotes:Tn,styles:he}),r.createElement("button",{className:he.dashboardLogoutBtn,onClick:l,type:"button"},"Logout"),r.createElement(h5,{userPin:n,loadingPendingRegistrations:kt,phaseOverride:Pt,selectedDivision:y,BACKEND_URL:ke,styles:he,onShowRegistrationModal:()=>Te(!0),onLoadPendingRegistrations:Lt,onSetPendingRegistrations:Ue,onShowPendingRegistrationsModal:()=>Ne(!0),onCreateTestRegistration:async()=>{try{const Y={firstName:"Test",lastName:"Player",email:`testplayer${Date.now()}@example.com`,phone:"555-1234",textNumber:"555-5678",emergencyContactName:"Emergency Contact",emergencyContactPhone:"555-9999",preferredContacts:["email","text"],availability:{Mon:["6:00 PM - 8:00 PM"],Tue:["8:00 PM - 10:00 PM"],Wed:[],Thu:["4:00 PM - 6:00 PM"],Fri:[],Sat:["2:00 PM - 4:00 PM"],Sun:["10:00 AM - 12:00 PM"]},locations:`Test Pool Hall
Community Center
Sports Bar`,pin:"1234",division:"FRBCAPL TEST",notes:"Test registration created by admin"},_e=await fetch(`${ke}/api/users/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});if(_e.ok){const Oe=await _e.json();alert(` Test registration created successfully!

Player: Test Player
Email: `+Y.email+`

You can now approve this registration.`);const yt=await fetch(`${ke}/api/users/pending-registrations`);if(yt.ok){const It=await yt.json();Ue(It)}}else{const Oe=await _e.json();alert("Failed to create test registration: "+Oe.error)}}catch(Y){console.error("Error creating test registration:",Y),alert("Error creating test registration: "+Y.message)}},onShowNoteModal:()=>O(!0),onGoToAdmin:i,onGoToPlatformAdmin:m,isSuperAdmin:ya,onActivatePhase2:()=>{},onSetPhaseOverride:rn,onRefreshSeasonData:async()=>{try{const[Y,_e]=await Promise.all([Ls.getCurrentSeason(y),Ls.getCurrentPhaseAndWeek(y)]);setSeasonData((Y==null?void 0:Y.season)||null),setCurrentPhaseInfo(_e)}catch(Y){console.error("Error refreshing season data:",Y)}}}))),r.createElement(g5,{showPlayerSearch:ct,showAdminPlayerSearch:Rt,showPlayerAvailability:Gn,showProposalModal:Ye,selectedOpponent:ue,proposalData:te,fullName:Xe,senderEmail:u,selectedDivision:y,effectivePhase:Vn,playerName:t,playerLastName:a,onClosePlayerSearch:()=>Qe(!1),onCloseAdminPlayerSearch:()=>pn(!1),onClosePlayerAvailability:()=>{tn(!1),Ke(null)},onCloseProposalModal:()=>wt(!1),onProposeMatch:(Y,_e)=>{Pe({player:ue,day:Y,slot:_e,selectedDivision:y,phase:Vn}),wt(!0),tn(!1),Ke(null)},onProposalComplete:()=>{},onUpdateProposalLocally:La,onRefetchMatches:zn,onRefetchProposals:En}),r.createElement(y5,{showStandings:w,showDefenseChallengers:_,modalOpen:j,showNoteModal:Z,showProposalListModal:C,showSentProposalListModal:q,showCounterModal:G,showProposalDetailsModal:Oi,selectedMatch:V,selectedProposal:N,counterProposal:ie,newNote:R,noteError:F,proposalNote:M,pendingProposals:ut,sentProposals:nn,players:He,STANDINGS_URLS:T7,onCloseStandings:()=>E(!1),onCloseDefenseChallengers:()=>S(!1),onCloseModal:Xs,onCloseNoteModal:()=>O(!1),onCloseProposalListModal:()=>I(!1),onCloseSentProposalListModal:()=>z(!1),onCloseCounterModal:()=>{K(!1),H(null)},onCloseProposalDetailsModal:()=>{da(!1),k(null)},onAddNote:za,onUpdateNewNote:Y=>A(Y.target.value),onSelectProposal:Y=>{const _e=u&&Y.senderEmail&&u.toLowerCase()===Y.senderEmail.toLowerCase()||`${t} ${a}`.toLowerCase()===(Y.senderName||"").toLowerCase();k(Y),T(""),I(!1),da(_e)},onSelectSentProposal:Y=>{const _e=u&&Y.senderEmail&&u.toLowerCase()===Y.senderEmail.toLowerCase()||`${t} ${a}`.toLowerCase()===(Y.senderName||"").toLowerCase();k(Y),T(""),z(!1),da(_e)},onConfirmProposal:async()=>{await Ga.updateProposalStatus(N._id,"confirmed",M),k(null),T(""),zn(),En()},onCounterPropose:()=>{H(N),K(!0),k(null)},onSubmitCounterProposal:_r,onEditProposal:()=>{N.isCounter?(da(!1),setTimeout(()=>{k(null),H(N),K(!0)},100)):(da(!1),setTimeout(()=>{k(null),ms(!0)},100))},onDeleteProposal:async()=>{if(window.confirm("Are you sure you want to delete this proposal?"))try{await Ga.deleteProposal(N._id),da(!1),k(null),En()}catch(Y){console.error("Error deleting proposal:",Y),alert("Failed to delete proposal")}},onUpdateProposalLocally:La,onRefetchMatches:zn,onRefetchProposals:En,selectedDivision:y,effectivePhase:Vn,userPin:n,playerName:t,playerLastName:a,senderEmail:u,styles:he,proposalService:Ga}),r.createElement(b5,{showEditProposalModal:Er,showChatModal:et,showCompletedModal:Hp,winnerModalOpen:Io,validationModalOpen:Me,showSmartMatchmakingModal:jp,showUserProfileModal:$e,showPhase1Rules:ba,showPhase1Overview:Nt,showRegistrationModal:Je,showPendingRegistrationsModal:pe,showCalendarModal:Ut,selectedProposal:N,chatType:Ui,opponentEmails:Ll,completedMatches:Aa,winnerModalPlayers:be,winnerModalMatch:L,matchToValidate:Be,selectedOpponentForSmartMatch:Yp,pendingRegistrations:Le,onCloseEditProposalModal:()=>ms(!1),onCloseChatModal:()=>dt(!1),onCloseCompletedModal:()=>zl(!1),onCloseWinnerModal:()=>ne(!1),onCloseValidationModal:()=>{De(!1),mt(null)},onCloseSmartMatchmakingModal:()=>Rd(!1),onCloseUserProfileModal:()=>pt(!1),onClosePhase1Rules:()=>Br(!1),onClosePhase1Overview:()=>We(!1),onCloseRegistrationModal:()=>Te(!1),onClosePendingRegistrationsModal:()=>Ne(!1),onCloseCalendarModal:()=>Qt(!1),onSaveEditProposal:Y=>{k(Y),En(),ms(!1)},onProposalUpdated:Y=>{Co(Y),En()},onSelectWinner:async Y=>{if(L){if((wn==null?void 0:wn.phase)==="scheduled"&&Kt&&Ls.hasPhase1DeadlinePassed(Kt)&&!window.confirm(` PHASE 1 DEADLINE HAS PASSED!

You are attempting to complete a match after the Phase 1 deadline. This may affect your standings or eligibility for Phase 2.

Do you want to continue marking this match as completed?`)){ne(!1);return}ne(!1),Oa(L._id);try{const Oe=await(await fetch(`${ke}/api/matches?proposalId=${L._id}`)).json();if(Oe.length>0){const yt=Oe[0]._id;await fetch(`${ke}/api/matches/${yt}/complete`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({winner:Y,score:"TBD",notes:`Completed by ${t} ${a}`})})}else await Ga.markCompleted(L._id,Y);$s({...L,winner:Y}),zn(),En()}catch(_e){console.error("Error completing match:",_e),alert("Failed to mark as completed.")}Oa(null)}},onValidateMatch:async Y=>{console.log("Validating match:",Y),zn()},onRejectMatch:async Y=>{console.log("Rejecting match:",Y),zn()},onSmartMatchProposalComplete:()=>{zn(),En()},onUserUpdate:Y=>{Ul(Y)},onRegistrationSuccess:Y=>{console.log("New player registered by admin:",Y),Te(!1),window.location.reload()},onApproveRegistration:async Y=>{const Oe=document.getElementById(`division-${Y._id}`).value;if(!Oe){alert("Please select a division before approving.");return}const yt={hasPaid:!0,paymentDate:new Date,paymentMethod:"Cash",paymentNotes:"Approved by admin"};try{const It=await fetch(`${ke}/api/users/admin/approve-registration/${Y._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({approvedBy:`${t} ${a}`,paymentInfo:yt,division:Oe})});if(It.ok)alert(`Registration approved successfully!

Player: ${Y.firstName} ${Y.lastName}
Division: ${Oe}`),Ue(ft=>ft.filter(gn=>gn._id!==Y._id));else{const ft=await It.json();alert("Failed to approve: "+ft.error)}}catch(It){console.error("Error approving registration:",It),alert("Error approving registration")}},onRejectRegistration:async Y=>{const _e=prompt("Enter rejection reason (optional):");if(_e!==null)try{const Oe=await fetch(`${ke}/api/users/admin/reject-registration/${Y._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rejectedBy:`${t} ${a}`,notes:_e})});if(Oe.ok)alert("Registration rejected successfully!"),Ue(yt=>yt.filter(It=>It._id!==Y._id));else{const yt=await Oe.json();alert("Failed to reject: "+yt.error)}}catch(Oe){console.error("Error rejecting registration:",Oe),alert("Error rejecting registration")}},onOpenOpponentsModal:Y=>{console.log(" Dashboard: Calendar modal calling onOpenOpponentsModal with date:",Y),qe(Y),Y?(console.log(" Dashboard: Setting smart match mode to false"),Js(!1)):(console.log(" Dashboard: Setting smart match mode to true"),Js(!0)),console.log(" Dashboard: Setting showOpponents to true"),ye(!0),Qt(!1)},onMatchClick:Ol,onSmartMatchClick:Md,selectedDivision:y,effectivePhase:Vn,userPin:n,playerName:t,playerLastName:a,senderEmail:u,isMobile:Sn,currentUser:Ao,players:He,filteredUpcomingMatches:Ir,phase1EndDate:Jn,playerStats:Dn,standings:Gs,timeLeft:hn,deadlineStatus:Xn,allPlayers:Ua,styles:he,proposalService:Ga,seasonService:Ls,seasonData:Kt,currentPhaseInfo:wn,BACKEND_URL:ke,markMatchCompleted:$s,setCompletingMatchId:Oa,updateCompletedMatch:Co,refetchMatches:zn,refetchProposals:En,setPendingRegistrations:Ue}),Wp)}const P7="_adminDashboardRoot_12miy_9",L7="_adminDashboardNav_12miy_25",B7="_navLeft_12miy_45",O7="_navRight_12miy_45",z7="_adminDashboardMainColumn_12miy_89",U7="_banner_12miy_103",F7="_slideIn_12miy_1",W7="_success_12miy_125",H7="_error_12miy_137",j7="_sectionNavigation_12miy_173",Y7="_sectionButton_12miy_193",q7="_active_12miy_231",$7="_sectionContent_12miy_245",G7="_overviewSection_12miy_263",Z7="_quickActions_12miy_301",V7="_quickActionButton_12miy_317",Q7="_workflowContainer_12miy_383",X7="_workflowHeader_12miy_393",J7="_workflowProgress_12miy_427",K7="_workflowSteps_12miy_445",eO="_workflowStepIndicator_12miy_461",tO="_pending_12miy_483",nO="_completed_12miy_505",aO="_stepNumber_12miy_517",rO="_stepInfo_12miy_569",sO="_stepTitle_12miy_577",iO="_stepDescription_12miy_587",oO="_workflowContent_12miy_597",lO="_workflowStep_12miy_445",cO="_stepInstructions_12miy_621",dO="_instructionItem_12miy_637",uO="_stepActions_12miy_675",mO="_workflowButton_12miy_689",pO="_divisionForm_12miy_743",fO="_workflowInput_12miy_757",hO="_workflowNote_12miy_799",gO="_workflowResult_12miy_823",yO="_dataSyncTools_12miy_847",bO="_syncButton_12miy_863",vO="_syncResult_12miy_913",xO="_playerManagementContainer_12miy_941",EO="_tabHeader_12miy_951",wO="_tabButton_12miy_969",SO="_tabContent_12miy_1015",CO="_approvalSection_12miy_1029",_O="_loadingMessage_12miy_1039",IO="_emptyState_12miy_1053",kO="_registrationList_12miy_1075",NO="_registrationCard_12miy_1087",AO="_registrationHeader_12miy_1115",DO="_registrationNumber_12miy_1129",MO="_registrationDetails_12miy_1159",TO="_registrationActions_12miy_1185",RO="_divisionSelect_12miy_1199",PO="_approveButton_12miy_1243",LO="_rejectButton_12miy_1283",BO="_userSearchContainer_12miy_1325",OO="_searchForm_12miy_1335",zO="_searchInput_12miy_1347",UO="_searchButton_12miy_1387",FO="_searchResults_12miy_1425",WO="_userCard_12miy_1437",HO="_userInfo_12miy_1463",jO="_userName_12miy_1475",YO="_userEmail_12miy_1491",qO="_userContactInfo_12miy_1503",$O="_userPhone_12miy_1519",GO="_userTextNumber_12miy_1519",ZO="_userDetails_12miy_1531",VO="_userAvailability_12miy_1561",QO="_availabilityGrid_12miy_1569",XO="_availabilityDay_12miy_1583",JO="_dayLabel_12miy_1597",KO="_timeSlots_12miy_1609",ez="_userActions_12miy_1629",tz="_addButton_12miy_1645",nz="_removeButton_12miy_1695",az="_matchManagementContainer_12miy_1743",rz="_sectionHeader_12miy_1753",sz="_systemStatusContainer_12miy_1797",iz="_statsGrid_12miy_1807",oz="_statCard_12miy_1821",lz="_statNumber_12miy_1849",cz="_statLabel_12miy_1863",dz="_systemActions_12miy_1877",uz="_systemButton_12miy_1891",oe={adminDashboardRoot:P7,adminDashboardNav:L7,navLeft:B7,navRight:O7,adminDashboardMainColumn:z7,banner:U7,slideIn:F7,success:W7,error:H7,sectionNavigation:j7,sectionButton:Y7,active:q7,sectionContent:$7,overviewSection:G7,quickActions:Z7,quickActionButton:V7,workflowContainer:Q7,workflowHeader:X7,workflowProgress:J7,workflowSteps:K7,workflowStepIndicator:eO,pending:tO,completed:nO,stepNumber:aO,stepInfo:rO,stepTitle:sO,stepDescription:iO,workflowContent:oO,workflowStep:lO,stepInstructions:cO,instructionItem:dO,stepActions:uO,workflowButton:mO,divisionForm:pO,workflowInput:fO,workflowNote:hO,workflowResult:gO,dataSyncTools:yO,syncButton:bO,syncResult:vO,playerManagementContainer:xO,tabHeader:EO,tabButton:wO,tabContent:SO,approvalSection:CO,loadingMessage:_O,emptyState:IO,registrationList:kO,registrationCard:NO,registrationHeader:AO,registrationNumber:DO,registrationDetails:MO,registrationActions:TO,divisionSelect:RO,approveButton:PO,rejectButton:LO,userSearchContainer:BO,searchForm:OO,searchInput:zO,searchButton:UO,searchResults:FO,userCard:WO,userInfo:HO,userName:jO,userEmail:YO,userContactInfo:qO,userPhone:$O,userTextNumber:GO,userDetails:ZO,userAvailability:VO,availabilityGrid:QO,availabilityDay:XO,dayLabel:JO,timeSlots:KO,userActions:ez,addButton:tz,removeButton:nz,matchManagementContainer:az,sectionHeader:rz,systemStatusContainer:sz,statsGrid:iz,statCard:oz,statNumber:lz,statLabel:cz,systemActions:dz,systemButton:uz};function mz(t){if(!t)return"N/A";if(t.includes("-")&&t.length===10){const[l,c,u]=t.split("-"),m=new Date(parseInt(l),parseInt(c)-1,parseInt(u)),h=String(m.getMonth()+1).padStart(2,"0"),f=String(m.getDate()).padStart(2,"0"),y=m.getFullYear();return`${h}-${f}-${y}`}let a;if(t.includes("-"))a=new Date(t);else if(t.includes("/")){const l=t.split("/");if(l.length===3){const[c,u,m]=l;a=new Date(m,c-1,u)}else return t}else return t;if(isNaN(a.getTime()))return t;const e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),i=a.getFullYear();return`${e}-${n}-${i}`}const Sx=ke;function pz({open:t,onClose:a}){const[e,n]=v.useState([]),[i,l]=v.useState(!0);v.useEffect(()=>{t&&(l(!0),fetch(`${Sx}/admin/unentered-matches`).then(u=>u.json()).then(u=>{n(u),l(!1)}))},[t]);const c=u=>{fetch(`${Sx}/admin/mark-lms-entered/${u}`,{method:"PATCH"}).then(m=>m.json()).then(()=>n(e.filter(m=>m._id!==u)))};return t?r.createElement(xn,{open:t,onClose:a,title:"Confirmed Challenge Matches Needing LMS Entry",maxWidth:"520px"},i?r.createElement("div",{style:{color:"#fff",textAlign:"center",padding:"2rem"}},"Loading unentered matches..."):e.length===0?r.createElement("div",{style:{color:"#fff",textAlign:"center",padding:"2rem"}},"All matches are entered!"):r.createElement("ul",{style:{padding:0,listStyle:"none"}},e.map(u=>r.createElement("li",{key:u._id,style:{marginBottom:12,background:"#222",borderRadius:8,padding:"12px 14px",display:"flex",alignItems:"center",justifyContent:"space-between",borderLeft:"4px solid #c00"}},r.createElement("span",null,r.createElement("span",{style:{color:"#fff"}},r.createElement("b",null,mz(u.date)),"  ",r.createElement("span",{style:{color:"#c00"}},u.senderName)," vs ",r.createElement("span",{style:{color:"#c00"}},u.receiverName),u.location&&r.createElement("span",{style:{color:"#fff"}}," @ ",u.location))),r.createElement("button",{style:{marginLeft:16,background:"#c00",color:"#fff",border:"none",borderRadius:5,padding:"7px 14px",fontWeight:"bold",cursor:"pointer",fontSize:"1em",transition:"background 0.2s"},onClick:()=>c(u._id)},"Mark as Entered"))))):null}const fz=({division:t,isAdmin:a=!1})=>{const[e,n]=v.useState([]),[i,l]=v.useState([]),[c,u]=v.useState(!0),[m,h]=v.useState(null),[f,y]=v.useState(null),[b,w]=v.useState(!1),[E,_]=v.useState(!1),[S,C]=v.useState(""),[I,N]=v.useState(""),[k,M]=v.useState(""),[T,q]=v.useState("");v.useEffect(()=>{t&&(z(),G())},[t]);const z=async()=>{try{u(!0);const[O,R]=await Promise.all([up(t,"scheduled"),up(t,"completed")]);n(O),l(R)}catch(O){console.error("Error loading matches:",O)}finally{u(!1)}},G=async()=>{try{const O=await C7(t);h(O)}catch(O){console.error("Error loading match stats:",O)}},K=async()=>{if(!(!f||!S||!I))try{await w7(f._id,S,I,k),w(!1),y(null),C(""),N(""),M(""),z(),G()}catch(O){console.error("Error completing match:",O),alert("Failed to complete match: "+O.message)}},ie=async()=>{if(f)try{await S7(f._id,T),_(!1),y(null),q(""),z(),G()}catch(O){console.error("Error cancelling match:",O),alert("Failed to cancel match: "+O.message)}},H=O=>new Date(O).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),Z=O=>O.status==="completed"?" Completed":O.status==="cancelled"?" Cancelled":" Scheduled";return c?r.createElement("div",{className:he.loading},"Loading matches..."):r.createElement("div",{className:he.matchManager},m&&r.createElement("div",{className:he.matchStats},r.createElement("h3",null,"Match Statistics"),r.createElement("div",{className:he.statsGrid},r.createElement("div",{className:he.statItem},r.createElement("span",{className:he.statNumber},m.total),r.createElement("span",{className:he.statLabel},"Total Matches")),r.createElement("div",{className:he.statItem},r.createElement("span",{className:he.statNumber},m.scheduled),r.createElement("span",{className:he.statLabel},"Scheduled")),r.createElement("div",{className:he.statItem},r.createElement("span",{className:he.statNumber},m.completed),r.createElement("span",{className:he.statLabel},"Completed")))),r.createElement("div",{className:he.matchSection},r.createElement("h3",null,"Scheduled Matches (",e.length,")"),e.length===0?r.createElement("p",{className:he.noMatches},"No scheduled matches"):r.createElement("div",{className:he.matchList},e.map(O=>r.createElement("div",{key:O._id,className:he.matchCard},r.createElement("div",{className:he.matchHeader},r.createElement("span",{className:he.matchStatus},Z(O)),r.createElement("span",{className:he.matchDate},H(O.scheduledDate))),r.createElement("div",{className:he.matchPlayers},r.createElement("span",{className:he.player1},O.player1Id),r.createElement("span",{className:he.vs},"vs"),r.createElement("span",{className:he.player2},O.player2Id)),r.createElement("div",{className:he.matchDetails},r.createElement("span",{className:he.location}," ",O.location),r.createElement("span",{className:he.type}," ",O.type)),a&&r.createElement("div",{className:he.matchActions},r.createElement("button",{className:he.actionButton,onClick:()=>{y(O),w(!0)}},"Complete"),r.createElement("button",{className:`${he.actionButton} ${he.cancelButton}`,onClick:()=>{y(O),_(!0)}},"Cancel")))))),r.createElement("div",{className:he.matchSection},r.createElement("h3",null,"Completed Matches (",i.length,")"),i.length===0?r.createElement("p",{className:he.noMatches},"No completed matches"):r.createElement("div",{className:he.matchList},i.map(O=>r.createElement("div",{key:O._id,className:`${he.matchCard} ${he.completedMatch}`},r.createElement("div",{className:he.matchHeader},r.createElement("span",{className:he.matchStatus},Z(O)),r.createElement("span",{className:he.matchDate},H(O.completedDate))),r.createElement("div",{className:he.matchPlayers},r.createElement("span",{className:`${he.player1} ${O.winner===O.player1Id?he.winner:""}`},O.player1Id),r.createElement("span",{className:he.vs},"vs"),r.createElement("span",{className:`${he.player2} ${O.winner===O.player2Id?he.winner:""}`},O.player2Id)),r.createElement("div",{className:he.matchResult},r.createElement("span",{className:he.winner}," Winner: ",O.winner),r.createElement("span",{className:he.score},"Score: ",O.score)),O.notes&&r.createElement("div",{className:he.matchNotes},r.createElement("span",{className:he.notesLabel},"Notes:"),r.createElement("span",{className:he.notesText},O.notes)))))),b&&f&&r.createElement("div",{className:he.modalOverlay},r.createElement("div",{className:he.modal},r.createElement("h3",null,"Complete Match"),r.createElement("p",null,f.player1Id," vs ",f.player2Id),r.createElement("div",{className:he.formGroup},r.createElement("label",null,"Winner:"),r.createElement("select",{value:S,onChange:O=>C(O.target.value)},r.createElement("option",{value:""},"Select winner"),r.createElement("option",{value:f.player1Id},f.player1Id),r.createElement("option",{value:f.player2Id},f.player2Id))),r.createElement("div",{className:he.formGroup},r.createElement("label",null,"Score:"),r.createElement("input",{type:"text",value:I,onChange:O=>N(O.target.value),placeholder:"e.g., 7-5"})),r.createElement("div",{className:he.formGroup},r.createElement("label",null,"Notes (optional):"),r.createElement("textarea",{value:k,onChange:O=>M(O.target.value),placeholder:"Any additional notes..."})),r.createElement("div",{className:he.modalActions},r.createElement("button",{onClick:K,disabled:!S||!I},"Complete Match"),r.createElement("button",{onClick:()=>w(!1)},"Cancel")))),E&&f&&r.createElement("div",{className:he.modalOverlay},r.createElement("div",{className:he.modal},r.createElement("h3",null,"Cancel Match"),r.createElement("p",null,f.player1Id," vs ",f.player2Id),r.createElement("div",{className:he.formGroup},r.createElement("label",null,"Reason for cancellation:"),r.createElement("textarea",{value:T,onChange:O=>q(O.target.value),placeholder:"Why is this match being cancelled?"})),r.createElement("div",{className:he.modalActions},r.createElement("button",{onClick:ie},"Cancel Match"),r.createElement("button",{onClick:()=>_(!1)},"Keep Match")))))};var v5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cx=r.createContext&&r.createContext(v5),hz=["attr","size","title"];function gz(t,a){if(t==null)return{};var e=yz(t,a),n,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)n=l[i],!(a.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(e[n]=t[n])}return e}function yz(t,a){if(t==null)return{};var e={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(a.indexOf(n)>=0)continue;e[n]=t[n]}return e}function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},mp.apply(this,arguments)}function _x(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,n)}return e}function pp(t){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?_x(Object(e),!0).forEach(function(n){bz(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):_x(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function bz(t,a,e){return a=vz(a),a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function vz(t){var a=xz(t,"string");return typeof a=="symbol"?a:a+""}function xz(t,a){if(typeof t!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var n=e.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function x5(t){return t&&t.map((a,e)=>r.createElement(a.tag,pp({key:e},a.attr),x5(a.child)))}function nt(t){return a=>r.createElement(Ez,mp({attr:pp({},t.attr)},a),x5(t.child))}function Ez(t){var a=e=>{var{attr:n,size:i,title:l}=t,c=gz(t,hz),u=i||e.size||"1em",m;return e.className&&(m=e.className),t.className&&(m=(m?m+" ":"")+t.className),r.createElement("svg",mp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,c,{className:m,style:pp(pp({color:t.color||e.color},e.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),t.children)};return Cx!==void 0?r.createElement(Cx.Consumer,null,e=>a(e)):a(v5)}function wz(t){return nt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(t)}function fp(t){return nt({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}function Sz(t){return nt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M111.4 295.9c-3.5 19.2-17.4 108.7-21.5 134-.3 1.8-1 2.5-3 2.5H12.3c-7.6 0-13.1-6.6-12.1-13.9L58.8 46.6c1.5-9.6 10.1-16.9 20-16.9 152.3 0 165.1-3.7 204 11.4 60.1 23.3 65.6 79.5 44 140.3-21.5 62.6-72.5 89.5-140.1 90.3-43.4.7-69.5-7-75.3 24.2zM357.1 152c-1.8-1.3-2.5-1.8-3 1.3-2 11.4-5.1 22.5-8.8 33.6-39.9 113.8-150.5 103.9-204.5 103.9-6.1 0-10.1 3.3-10.9 9.4-22.6 140.4-27.1 169.7-27.1 169.7-1 7.1 3.5 12.9 10.6 12.9h63.5c8.6 0 15.7-6.3 17.4-14.9.7-5.4-1.1 6.1 14.4-91.3 4.6-22 14.3-19.7 29.3-19.7 71 0 126.4-28.8 142.9-112.3 6.5-34.8 4.6-71.4-23.8-92.6z"},child:[]}]})(t)}function Ig(t){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function mo(t){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function Nl(t){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function u0(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function gr(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function E5(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function Cz(t){return nt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function w5(t){return nt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function _z(t){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function Iz(t){return nt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function kz(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function Ix(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function Nz(t){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function kx(t){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(t)}function Az(t){return nt({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function Dz(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function gm(t){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function Up(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function hp(t){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function Nx(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function Mz(t){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function gl(t){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function Tz(t){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(t)}function Rz(t){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function ry(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function Pz(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(t)}function Lz(t){return nt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(t)}function m0(t){return nt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function Bz(t){return nt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function Oz(t){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(t)}function zz(t){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function Qa(t){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function Uz(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(t)}function lo(t){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function Fz(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Wz(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"},child:[]}]})(t)}function Ax(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function fr(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function p0(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(t)}function jc(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(t)}function Hz(t){return nt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Al(t){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function hd(t){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(t)}function Dx(t){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(t)}function jz(t){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208H432c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function id(t){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function Yz(t){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function gd(t){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function qz({backendUrl:t}){const[a,e]=v.useState({enabled:!1,sheetId:"",sheetName:"Player Backup",apiKey:"",backupFrequency:"weekly",autoBackup:!0}),[n,i]=v.useState(!1),[l,c]=v.useState(""),[u,m]=v.useState(""),[h,f]=v.useState(null),[y,b]=v.useState(null),[w,E]=v.useState(1),[_,S]=v.useState(!1);v.useEffect(()=>{C(),I()},[]);const C=async()=>{try{const R=await fetch(`${t}/api/league-config`);if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const A=await R.json();if(A.success&&A.config){const F=A.config.googleSheetsBackup||{};e({enabled:F.enabled||!1,sheetId:F.sheetId||"",sheetName:F.sheetName||"Player Backup",apiKey:F.apiKey==="***CONFIGURED***"?"":F.apiKey||"",backupFrequency:F.backupFrequency||"weekly",autoBackup:F.autoBackup!==void 0?F.autoBackup:!0}),F.sheetId&&F.apiKey==="***CONFIGURED***"&&f(Q=>({...Q,enabled:F.enabled,sheetId:F.sheetId,sheetName:F.sheetName,configured:!0,frequency:F.backupFrequency,autoBackup:F.autoBackup,lastBackup:F.lastBackupDate}))}}catch(R){console.error("Error loading config:",R)}},I=async()=>{try{const R=await fetch(`${t}/api/league-config/backup/status`);if(R.ok){const A=await R.json();A.success&&f(A.backup)}}catch(R){console.error("Error loading backup status:",R)}},N=(R,A)=>{m(R),c(A),setTimeout(()=>c(""),5e3)},k=(R,A)=>{e(F=>({...F,[R]:A})),(R==="sheetId"||R==="apiKey")&&b(null)},M=async()=>{if(!a.sheetId||!a.apiKey){N("error","Please fill in both fields first");return}i(!0),b(null);try{const A=await(await fetch(`${t}/api/league-config/backup/test-connection`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sheetId:a.sheetId,apiKey:a.apiKey})})).json();A.success?(b({success:!0,message:" Great! Connection successful!"}),N("success","Connection successful!")):(b({success:!1,message:` Connection failed: ${A.error}`}),N("error",`Connection failed: ${A.error}`))}catch{b({success:!1,message:"Connection test failed - please check your internet"}),N("error","Connection test failed")}i(!1)},T=async()=>{if(!a.sheetId||!a.apiKey){N("error","Please fill in both fields");return}if(!(y!=null&&y.success)){N("error","Please test the connection first");return}i(!0);try{const A=await(await fetch(`${t}/api/league-config/backup/configure`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();A.success?(N("success"," Backup setup complete!"),I(),E(4)):N("error",`Setup failed: ${A.error}`)}catch{N("error","Failed to save configuration")}i(!1)},q=async()=>{i(!0);try{const A=await(await fetch(`${t}/api/league-config/backup/run`,{method:"POST"})).json();A.success?(N("success",` Backup completed! ${A.count} players backed up.`),I()):N("error",`Backup failed: ${A.error}`)}catch{N("error","Backup failed")}i(!1)},z=R=>`https://docs.google.com/spreadsheets/d/${R}`,G=()=>r.createElement("div",{style:{textAlign:"center",padding:"40px 20px"}},r.createElement("div",{style:{fontSize:"64px",marginBottom:"20px"}},""),r.createElement("h2",{style:{color:"white",marginBottom:"20px"}},"Backup Your League Data"),r.createElement("p",{style:{fontSize:"18px",color:"white",marginBottom:"30px",lineHeight:"1.6",opacity:.9}},"Keep a safe copy of all your player information in Google Sheets.",r.createElement("br",null),"It's free, secure, and takes just a few minutes to set up."),r.createElement("div",{style:{background:"#ffffff",padding:"20px",borderRadius:"12px",marginBottom:"30px",border:"2px solid #e0e0e0",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"15px"}},"What You'll Get:"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"}},r.createElement("div",{style:{textAlign:"center",padding:"15px"}},r.createElement("div",{style:{fontSize:"32px",marginBottom:"10px"}},""),r.createElement("strong",{style:{color:"#1a1a1a"}},"Data Safety"),r.createElement("br",null),r.createElement("small",{style:{color:"#2c2c2c"}},"Backup copy of all player info")),r.createElement("div",{style:{textAlign:"center",padding:"15px"}},r.createElement("div",{style:{fontSize:"32px",marginBottom:"10px"}},""),r.createElement("strong",{style:{color:"#1a1a1a"}},"Easy Viewing"),r.createElement("br",null),r.createElement("small",{style:{color:"#2c2c2c"}},"View data in Google Sheets")),r.createElement("div",{style:{textAlign:"center",padding:"15px"}},r.createElement("div",{style:{fontSize:"32px",marginBottom:"10px"}},""),r.createElement("strong",{style:{color:"#1a1a1a"}},"Auto Backup"),r.createElement("br",null),r.createElement("small",{style:{color:"#2c2c2c"}},"Keeps data up to date")))),r.createElement("div",{style:{background:"#f8f9fa",padding:"25px",borderRadius:"12px",marginBottom:"30px",border:"2px solid #e0e0e0",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"}},r.createElement(Uz,null)," Frequently Asked Questions"),r.createElement("div",{style:{display:"grid",gap:"15px"}},r.createElement("div",{style:{padding:"15px",background:"#ffffff",borderRadius:"8px",border:"1px solid #e0e0e0"}},r.createElement("strong",{style:{color:"#1a1a1a",display:"block",marginBottom:"8px"}},"Q: Is this free to use?"),r.createElement("span",{style:{color:"#2c2c2c"}},"A: Yes! Google Sheets is completely free. You only need a Google account.")),r.createElement("div",{style:{padding:"15px",background:"#ffffff",borderRadius:"8px",border:"1px solid #e0e0e0"}},r.createElement("strong",{style:{color:"#1a1a1a",display:"block",marginBottom:"8px"}},"Q: How often does it backup?"),r.createElement("span",{style:{color:"#2c2c2c"}},"A: By default, it backs up weekly, but you can run manual backups anytime.")),r.createElement("div",{style:{padding:"15px",background:"#ffffff",borderRadius:"8px",border:"1px solid #e0e0e0"}},r.createElement("strong",{style:{color:"#1a1a1a",display:"block",marginBottom:"8px"}},"Q: Is my data secure?"),r.createElement("span",{style:{color:"#2c2c2c"}},"A: Yes! Your API key only works with your specific Google Sheet and is stored securely.")),r.createElement("div",{style:{padding:"15px",background:"#ffffff",borderRadius:"8px",border:"1px solid #e0e0e0"}},r.createElement("strong",{style:{color:"#1a1a1a",display:"block",marginBottom:"8px"}},"Q: What if I change my mind?"),r.createElement("span",{style:{color:"#2c2c2c"}},"A: You can disable backup anytime, and your Google Sheet will remain as a backup copy.")))),r.createElement("button",{onClick:()=>E(2),style:{padding:"15px 30px",background:"#007bff",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",margin:"0 auto"}},"Get Started ",r.createElement(mo,null))),K=()=>r.createElement("div",{style:{padding:"30px 20px"}},r.createElement("div",{style:{textAlign:"center",marginBottom:"30px"}},r.createElement("h2",{style:{color:"white",marginBottom:"10px"}},"Step 1: Create a Google Sheet"),r.createElement("p",{style:{color:"white",fontSize:"16px",opacity:.9}},"First, let's create a place to store your backup data")),r.createElement("div",{style:{background:"#ffffff",padding:"25px",borderRadius:"12px",marginBottom:"30px",border:"2px solid #e0e0e0",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"}},r.createElement(fp,null)," Create Your Google Sheet"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"20px",alignItems:"center"}},r.createElement("div",null,r.createElement("p",{style:{marginBottom:"15px",color:"#1a1a1a"}},r.createElement("strong",null,"1.")," Go to ",r.createElement("a",{href:"https://sheets.google.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"underline"}},"Google Sheets")),r.createElement("p",{style:{marginBottom:"15px",color:"#1a1a1a"}},r.createElement("strong",null,"2."),' Click "Blank" to create a new sheet'),r.createElement("p",{style:{marginBottom:"15px",color:"#1a1a1a"}},r.createElement("strong",null,"3."),' Give it a name like "League Backup" or "Player Data"'),r.createElement("p",{style:{color:"#1a1a1a"}},r.createElement("strong",null,"4.")," Copy the Sheet ID from the URL (we'll show you how)")),r.createElement("div",{style:{textAlign:"center"}},r.createElement("div",{style:{fontSize:"48px",marginBottom:"10px"}},""),r.createElement("button",{onClick:()=>window.open("https://sheets.google.com","_blank"),style:{padding:"10px 20px",background:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"}},"Open Google Sheets")))),r.createElement("div",{style:{background:"#fff8dc",padding:"20px",borderRadius:"12px",marginBottom:"30px",border:"2px solid #ffd700"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"15px"}},"How to Find Your Sheet ID:"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",alignItems:"center"}},r.createElement("div",null,r.createElement("p",{style:{marginBottom:"10px",color:"#1a1a1a"}},r.createElement("strong",null,"Look at your Google Sheet URL:")),r.createElement("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"6px",border:"1px solid #dee2e6",fontFamily:"monospace",fontSize:"14px",wordBreak:"break-all",color:"#1a1a1a"}},"https://docs.google.com/spreadsheets/d/",r.createElement("span",{style:{background:"#ffeb3b",padding:"2px 4px",borderRadius:"3px"}},"1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms"),"/edit"),r.createElement("p",{style:{marginTop:"10px",color:"#2c2c2c",fontSize:"14px"}},"Copy the highlighted part (the long string of letters and numbers)")),r.createElement("div",{style:{textAlign:"center"}},r.createElement("div",{style:{fontSize:"32px",marginBottom:"10px"}},""),r.createElement("p",{style:{color:"#2c2c2c",fontSize:"14px"}},"It's the part between ",r.createElement("code",{style:{background:"#f0f0f0",padding:"2px 4px",borderRadius:"3px"}},"/d/")," and ",r.createElement("code",{style:{background:"#f0f0f0",padding:"2px 4px",borderRadius:"3px"}},"/edit"))))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold",color:"#1a1a1a"}},"Paste Your Sheet ID Here:"),r.createElement("input",{type:"text",value:a.sheetId,onChange:R=>k("sheetId",R.target.value),placeholder:"Example: 1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms",style:{width:"100%",padding:"15px",border:"2px solid #ddd",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",color:"#1a1a1a",backgroundColor:"#ffffff"}}),a.sheetId&&r.createElement("div",{style:{marginTop:"10px",fontSize:"14px",color:"#2c2c2c"}},r.createElement("a",{href:z(a.sheetId),target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"underline"}}," Open this sheet to verify"))),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("button",{onClick:()=>E(1),style:{padding:"12px 24px",background:"#6c757d",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(Ig,null)," Back"),r.createElement("button",{onClick:()=>E(3),disabled:!a.sheetId,style:{padding:"12px 24px",background:a.sheetId?"#007bff":"#ccc",color:"white",border:"none",borderRadius:"6px",cursor:a.sheetId?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:"8px"}},"Next ",r.createElement(mo,null)))),ie=()=>r.createElement("div",{style:{padding:"30px 20px"}},r.createElement("div",{style:{textAlign:"center",marginBottom:"30px"}},r.createElement("h2",{style:{color:"white",marginBottom:"10px"}},"Step 2: Get Your API Key"),r.createElement("p",{style:{color:"white",fontSize:"16px",opacity:.9}},"This allows the app to write to your Google Sheet (it's free and secure)")),r.createElement("div",{style:{background:"#ffffff",padding:"25px",borderRadius:"12px",marginBottom:"30px",border:"2px solid #e0e0e0",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"20px"}},"Getting Your API Key (Takes 2 Minutes):"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"20px",alignItems:"center"}},r.createElement("div",null,r.createElement("ol",{style:{margin:0,paddingLeft:"20px",lineHeight:"2"}},r.createElement("li",{style:{marginBottom:"10px",color:"#1a1a1a"}},r.createElement("strong",null,"Go to")," ",r.createElement("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"underline"}},"Google Cloud Console")),r.createElement("li",{style:{marginBottom:"10px",color:"#1a1a1a"}},r.createElement("strong",null,'Click "Create Project"')," (or select an existing one)"),r.createElement("li",{style:{marginBottom:"10px",color:"#1a1a1a"}},r.createElement("strong",null,'Search for "Google Sheets API"'),' and click "Enable"'),r.createElement("li",{style:{marginBottom:"10px",color:"#1a1a1a"}},r.createElement("strong",null,'Go to "Credentials"'),'  "Create Credentials"  "API Key"'),r.createElement("li",{style:{color:"#1a1a1a"}},r.createElement("strong",null,"Copy the API key")," (it looks like: AIzaSyC...)"))),r.createElement("div",{style:{textAlign:"center"}},r.createElement("div",{style:{fontSize:"48px",marginBottom:"10px"}},""),r.createElement("button",{onClick:()=>window.open("https://console.cloud.google.com/apis/credentials","_blank"),style:{padding:"10px 20px",background:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"}},"Open Google Cloud Console")))),r.createElement("div",{style:{background:"#e8f5e8",padding:"20px",borderRadius:"12px",marginBottom:"30px",border:"2px solid #28a745"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"15px"}}," Don't Worry About Security:"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#1a1a1a"}},r.createElement("li",null,"Your API key only works with your specific Google Sheet"),r.createElement("li",null,"It can't access any other files or data"),r.createElement("li",null,"It's stored securely and encrypted"),r.createElement("li",null,"You can delete it anytime from Google Cloud Console"))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold",color:"#1a1a1a"}},"Paste Your API Key Here:"),r.createElement("div",{style:{position:"relative"}},r.createElement("input",{type:_?"text":"password",value:a.apiKey,onChange:R=>k("apiKey",R.target.value),placeholder:"Example: AIzaSyC...",style:{width:"100%",padding:"15px",paddingRight:"50px",border:"2px solid #ddd",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",color:"#1a1a1a",backgroundColor:"#ffffff"}}),r.createElement("button",{onClick:()=>S(!_),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#666"}},_?r.createElement(Mz,null):r.createElement(gl,null)))),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("button",{onClick:()=>E(2),style:{padding:"12px 24px",background:"#6c757d",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(Ig,null)," Back"),r.createElement("button",{onClick:()=>E(4),disabled:!a.sheetId||!a.apiKey,style:{padding:"12px 24px",background:a.sheetId&&a.apiKey?"#007bff":"#ccc",color:"white",border:"none",borderRadius:"6px",cursor:a.sheetId&&a.apiKey?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:"8px"}},"Test & Save ",r.createElement(mo,null)))),H=()=>r.createElement("div",{style:{padding:"30px 20px"}},r.createElement("div",{style:{textAlign:"center",marginBottom:"30px"}},r.createElement("h2",{style:{color:"white",marginBottom:"10px"}},"Step 3: Test & Save"),r.createElement("p",{style:{color:"white",fontSize:"16px",opacity:.9}},"Let's make sure everything works before saving")),r.createElement("div",{style:{background:"#ffffff",padding:"25px",borderRadius:"12px",marginBottom:"30px",border:"2px solid #e0e0e0",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"20px"}},"Your Setup Summary:"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"}},r.createElement("div",null,r.createElement("strong",{style:{color:"#1a1a1a"}},"Sheet ID:"),r.createElement("br",null),r.createElement("code",{style:{background:"#f8f9fa",padding:"5px 8px",borderRadius:"4px",fontSize:"14px",wordBreak:"break-all",color:"#1a1a1a",border:"1px solid #dee2e6"}},a.sheetId||"Not set")),r.createElement("div",null,r.createElement("strong",{style:{color:"#1a1a1a"}},"API Key:"),r.createElement("br",null),r.createElement("code",{style:{background:"#f8f9fa",padding:"5px 8px",borderRadius:"4px",fontSize:"14px",color:"#1a1a1a",border:"1px solid #dee2e6"}},a.apiKey?`${a.apiKey.substring(0,10)}...`:"Not set")))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("button",{onClick:M,disabled:n||!a.sheetId||!a.apiKey,style:{width:"100%",padding:"15px",background:"#17a2b8",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",opacity:n||!a.sheetId||!a.apiKey?.6:1}},n?r.createElement(jc,{style:{animation:"spin 1s linear infinite"}}):r.createElement(jc,null),n?"Testing Connection...":"Test Connection"),y&&r.createElement("div",{style:{marginTop:"15px",padding:"15px",borderRadius:"8px",background:y.success?"#d4edda":"#f8d7da",color:y.success?"#155724":"#721c24",border:`1px solid ${y.success?"#c3e6cb":"#f5c6cb"}`,display:"flex",alignItems:"center",gap:"10px"}},y.success?r.createElement(gr,null):r.createElement(hp,null),y.message)),(y==null?void 0:y.success)&&r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("button",{onClick:T,disabled:n,style:{width:"100%",padding:"15px",background:"#28a745",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",opacity:n?.6:1}},n?r.createElement(jc,{style:{animation:"spin 1s linear infinite"}}):r.createElement(gr,null),n?"Saving...":"Save Configuration")),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("button",{onClick:()=>E(3),style:{padding:"12px 24px",background:"#6c757d",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(Ig,null)," Back"),(h==null?void 0:h.configured)&&r.createElement("button",{onClick:()=>E(5),style:{padding:"12px 24px",background:"#007bff",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}},"Next ",r.createElement(mo,null)))),Z=()=>r.createElement("div",{style:{padding:"30px 20px",textAlign:"center"}},r.createElement("div",{style:{fontSize:"64px",marginBottom:"20px"}},""),r.createElement("h2",{style:{color:"#1a1a1a",marginBottom:"20px"}},"Setup Complete!"),r.createElement("p",{style:{fontSize:"18px",color:"#2c2c2c",marginBottom:"30px",lineHeight:"1.6"}},"Your Google Sheets backup is now configured and ready to use."),r.createElement("div",{style:{background:"#e8f5e8",padding:"25px",borderRadius:"12px",marginBottom:"30px",border:"2px solid #28a745"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"20px"}}," What's Working Now:"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px"}},r.createElement("div",null,r.createElement("div",{style:{fontSize:"32px",marginBottom:"10px"}},""),r.createElement("strong",{style:{color:"#1a1a1a"}},"Auto Backup"),r.createElement("br",null),r.createElement("small",{style:{color:"#2c2c2c"}},"Your data will be backed up automatically")),r.createElement("div",null,r.createElement("div",{style:{fontSize:"32px",marginBottom:"10px"}},""),r.createElement("strong",{style:{color:"#1a1a1a"}},"Easy Viewing"),r.createElement("br",null),r.createElement("small",{style:{color:"#2c2c2c"}},"View your data in Google Sheets anytime")),r.createElement("div",null,r.createElement("div",{style:{fontSize:"32px",marginBottom:"10px"}},""),r.createElement("strong",{style:{color:"#1a1a1a"}},"Data Safety"),r.createElement("br",null),r.createElement("small",{style:{color:"#2c2c2c"}},"Your data is now safely backed up")))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("button",{onClick:q,disabled:n,style:{padding:"15px 30px",background:"#007bff",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",margin:"0 auto"}},n?r.createElement(jc,{style:{animation:"spin 1s linear infinite"}}):r.createElement(jc,null),n?"Running Backup...":"Run Your First Backup"),r.createElement("p",{style:{marginTop:"10px",color:"#2c2c2c",fontSize:"14px"}},"This will copy all your current player data to your Google Sheet")),(h==null?void 0:h.sheetId)&&r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("a",{href:z(h.sheetId),target:"_blank",rel:"noopener noreferrer",style:{padding:"12px 24px",background:"#28a745",color:"white",textDecoration:"none",borderRadius:"6px",display:"inline-flex",alignItems:"center",gap:"8px",fontSize:"16px"}},r.createElement(Nx,null)," View Your Backup Sheet")),r.createElement("div",{style:{background:"#fff8dc",padding:"20px",borderRadius:"12px",border:"2px solid #ffd700",textAlign:"left"}},r.createElement("h4",{style:{color:"#1a1a1a",marginBottom:"15px"}}," What Happens Next:"),r.createElement("ul",{style:{margin:0,paddingLeft:"20px",color:"#1a1a1a",lineHeight:"1.6"}},r.createElement("li",null,"Your data will be backed up automatically"),r.createElement("li",null,"You can view your data anytime in Google Sheets"),r.createElement("li",null,"You can run manual backups whenever you want"),r.createElement("li",null,"Your data is safe and secure")))),O=()=>r.createElement("div",{style:{background:"#ffffff",padding:"16px",borderRadius:"8px",marginBottom:"20px",border:"2px solid #e0e0e0",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},r.createElement("h4",{style:{margin:"0 0 10px 0",display:"flex",alignItems:"center",gap:"8px",color:"#1a1a1a"}},r.createElement(ry,null)," Current Status"),h?r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",fontSize:"14px",color:"#1a1a1a"}},r.createElement("div",null,r.createElement("strong",null,"Status:")," ",h.enabled?" Enabled":" Disabled"),r.createElement("div",null,r.createElement("strong",null,"Last Backup:")," ",h.lastBackup?new Date(h.lastBackup).toLocaleString():"Never"),h.sheetId&&r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement("strong",null,"Sheet:")," ",h.sheetName||"Player Backup"),r.createElement("div",null,r.createElement("strong",null,"Sheet ID:")," ",h.sheetId.substring(0,20),"..."))):r.createElement("div",{style:{color:"#2c2c2c",fontStyle:"italic"}},"No backup configured"),r.createElement("div",{style:{marginTop:"15px",display:"flex",gap:"10px",flexWrap:"wrap",justifyContent:"center"}},(h==null?void 0:h.sheetId)&&r.createElement("a",{href:z(h.sheetId),target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"none",display:"inline-flex",alignItems:"center",gap:"5px",padding:"8px 12px",border:"1px solid #007bff",borderRadius:"4px",fontSize:"14px"}},r.createElement(Nx,null)," View Backup Sheet"),r.createElement("button",{onClick:()=>E(5),disabled:!(h!=null&&h.configured),style:{padding:"8px 12px",background:h!=null&&h.configured?"#007bff":"#ccc",color:"white",border:"none",borderRadius:"4px",cursor:h!=null&&h.configured?"pointer":"not-allowed",fontSize:"14px",opacity:h!=null&&h.configured?1:.6}},"Manage Backup Settings")));return r.createElement("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"20px"}},r.createElement("style",null,`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `),r.createElement("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"20px",borderRadius:"12px",marginBottom:"20px"}},r.createElement("h2",{style:{margin:"0 0 10px 0",display:"flex",alignItems:"center",gap:"10px",color:"white"}},r.createElement(fp,null)," Google Sheets Backup"),r.createElement("p",{style:{margin:0,opacity:.9,color:"white"}},"Keep your league data safe with automatic Google Sheets backup")),l&&r.createElement("div",{style:{padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",background:u==="success"?"#d4edda":"#f8d7da",color:u==="success"?"#155724":"#721c24",border:`1px solid ${u==="success"?"#c3e6cb":"#f5c6cb"}`}},l),(h==null?void 0:h.configured)&&O(),w===1&&G(),w===2&&K(),w===3&&ie(),w===4&&H(),w===5&&Z())}function $z({backendUrl:t}){const[a,e]=v.useState([]),[n,i]=v.useState(!0),[l,c]=v.useState(null),[u,m]=v.useState({name:"",address:"",notes:""}),[h,f]=v.useState(""),[y,b]=v.useState("");v.useEffect(()=>{w()},[]);const w=async()=>{try{i(!0);const N=await fetch(`${t}/api/locations`);if(!N.ok)throw new Error("Failed to load locations");const k=await N.json();e(k.locations||[])}catch(N){f("Failed to load locations: "+N.message)}finally{i(!1)}},E=async()=>{if(!u.name.trim()){f("Location name is required");return}try{const N=await fetch(`${t}/api/locations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!N.ok)throw new Error("Failed to add location");const k=await N.json();e([...a,k.location]),m({name:"",address:"",notes:""}),b("Location added successfully!"),setTimeout(()=>b(""),3e3)}catch(N){f("Failed to add location: "+N.message)}},_=async(N,k)=>{try{const M=await fetch(`${t}/api/locations/${N}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!M.ok)throw new Error("Failed to update location");const T=await M.json();e(a.map(q=>q._id===N?T.location:q)),c(null),b("Location updated successfully!"),setTimeout(()=>b(""),3e3)}catch(M){f("Failed to update location: "+M.message)}},S=async N=>{if(window.confirm("Are you sure you want to delete this location? This will affect any players who have selected this location."))try{if(!(await fetch(`${t}/api/locations/${N}`,{method:"DELETE"})).ok)throw new Error("Failed to delete location");e(a.filter(M=>M._id!==N)),b("Location deleted successfully!"),setTimeout(()=>b(""),3e3)}catch(k){f("Failed to delete location: "+k.message)}},C=N=>{c(N._id)},I=()=>{c(null)};return n?r.createElement("div",{style:{textAlign:"center",padding:"20px"}},r.createElement("div",{style:{fontSize:"18px",color:"#ccc"}},"Loading locations...")):r.createElement("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"}},r.createElement("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",borderRadius:"12px",marginBottom:"20px",color:"white"}},r.createElement("h2",{style:{margin:"0 0 10px 0",display:"flex",alignItems:"center",gap:"10px"}},r.createElement(m0,null)," Location Management"),r.createElement("p",{style:{margin:0,opacity:.9}},"Manage predefined locations that players can select during registration. Players can also add custom locations if needed.")),y&&r.createElement("div",{style:{background:"rgba(76, 175, 80, 0.2)",border:"1px solid #4CAF50",color:"#4CAF50",padding:"12px",borderRadius:"6px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(E5,null)," ",y),h&&r.createElement("div",{style:{background:"rgba(244, 67, 54, 0.2)",border:"1px solid #f44336",color:"#f44336",padding:"12px",borderRadius:"6px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(hp,null)," ",h),r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid rgba(255,255,255,0.1)"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"15px",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(Qa,null)," Add New Location"),r.createElement("div",{style:{display:"grid",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold"}},"Location Name *"),r.createElement("input",{type:"text",value:u.name,onChange:N=>m({...u,name:N.target.value}),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"16px"},placeholder:"e.g., Pool Hall A, Community Center"})),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold"}},"Address (Optional)"),r.createElement("input",{type:"text",value:u.address,onChange:N=>m({...u,address:N.target.value}),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"16px"},placeholder:"e.g., 123 Main St, City, State"})),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold"}},"Notes (Optional)"),r.createElement("textarea",{value:u.notes,onChange:N=>m({...u,notes:N.target.value}),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"16px",minHeight:"80px",resize:"vertical"},placeholder:"Additional information about this location..."})),r.createElement("button",{onClick:E,style:{padding:"12px 20px",borderRadius:"6px",border:"none",background:"#e53e3e",color:"#fff",cursor:"pointer",fontSize:"16px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px",justifyContent:"center"}},r.createElement(Qa,null)," Add Location"))),r.createElement("div",{style:{background:"rgba(255,255,255,0.05)",padding:"20px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"}},r.createElement("h3",{style:{color:"#e53e3e",marginBottom:"15px"}},"Existing Locations (",a.length,")"),a.length===0?r.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#ccc"}},r.createElement(m0,{style:{fontSize:"48px",marginBottom:"15px",opacity:.5}}),r.createElement("p",null,"No locations added yet. Add your first location above!")):r.createElement("div",{style:{display:"grid",gap:"15px"}},a.map(N=>r.createElement("div",{key:N._id,style:{background:"rgba(0,0,0,0.3)",padding:"15px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.1)"}},l===N._id?r.createElement(Zz,{location:N,onSave:k=>_(N._id,k),onCancel:I}):r.createElement(Gz,{location:N,onEdit:()=>C(N),onDelete:()=>S(N._id)}))))))}function Gz({location:t,onEdit:a,onDelete:e}){return r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("div",{style:{flex:1}},r.createElement("h4",{style:{color:"#fff",margin:"0 0 5px 0",fontSize:"18px"}},t.name),t.address&&r.createElement("p",{style:{color:"#ccc",margin:"0 0 5px 0",fontSize:"14px"}}," ",t.address),t.notes&&r.createElement("p",{style:{color:"#999",margin:0,fontSize:"13px"}}," ",t.notes)),r.createElement("div",{style:{display:"flex",gap:"8px"}},r.createElement("button",{onClick:a,style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #666",background:"transparent",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"}},r.createElement(gm,null)," Edit"),r.createElement("button",{onClick:e,style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #f44336",background:"transparent",color:"#f44336",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"}},r.createElement(Al,null)," Delete")))}function Zz({location:t,onSave:a,onCancel:e}){const[n,i]=v.useState({name:t.name,address:t.address||"",notes:t.notes||""}),l=()=>{if(!n.name.trim()){alert("Location name is required");return}a(n)};return r.createElement("div",{style:{display:"grid",gap:"10px"}},r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold"}},"Location Name *"),r.createElement("input",{type:"text",value:n.name,onChange:c=>i({...n,name:c.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"14px"}})),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold"}},"Address"),r.createElement("input",{type:"text",value:n.address,onChange:c=>i({...n,address:c.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"14px"}})),r.createElement("div",null,r.createElement("label",{style:{display:"block",marginBottom:"5px",color:"#fff",fontWeight:"bold"}},"Notes"),r.createElement("textarea",{value:n.notes,onChange:c=>i({...n,notes:c.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #444",background:"#222",color:"#fff",fontSize:"14px",minHeight:"60px",resize:"vertical"}})),r.createElement("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"}},r.createElement("button",{onClick:e,style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #666",background:"transparent",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"}},r.createElement(Hz,null)," Cancel"),r.createElement("button",{onClick:l,style:{padding:"8px 12px",borderRadius:"4px",border:"none",background:"#4CAF50",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"}},r.createElement(lo,null)," Save")))}function Vz(){const[t,a]=v.useState({registrationFee:30,weeklyDues:10,totalWeeks:10,participationFee:100,phase1Weeks:6,penaltyStructure:{strike1:5,strike2:10,strike3:0},paymentMethods:{venmo:{enabled:!0,username:"",displayName:"Venmo",instructions:"Send payment to @username"},cashapp:{enabled:!0,username:"",displayName:"Cash App",instructions:"Send payment to $username"},creditCard:{enabled:!1,processor:"square",displayName:"Credit/Debit Card",instructions:"Pay online using the link below",paymentLink:"",squareAppId:"",squareLocationId:""},applePay:{enabled:!1,displayName:"Apple Pay",instructions:"Pay using Apple Pay",paymentLink:""},googlePay:{enabled:!1,displayName:"Google Pay",instructions:"Pay using Google Pay",paymentLink:""},cash:{enabled:!0,displayName:"Cash",instructions:"Pay in person to league administrator"},check:{enabled:!1,displayName:"Check",instructions:"Make check payable to [Payee Name]",payeeName:"",mailingAddress:""}},additionalInstructions:"",contactInfo:{adminName:"",adminEmail:"",adminPhone:""},currentSession:{name:"Current Session",startDate:"",endDate:"",isActive:!0}}),[e,n]=v.useState(!0),[i,l]=v.useState(!1),[c,u]=v.useState(""),[m,h]=v.useState({type:"",text:""}),[f,y]=v.useState({feeStructure:!1,penaltyStructure:!1,paymentMethods:!1,additionalInstructions:!1,contactInfo:!1});v.useEffect(()=>{b()},[]);const b=async()=>{try{const k=await fetch(`${ke}/api/payment-config`);if(k.ok){const M=await k.json();if(M.config){const T={...M.config,penaltyStructure:{strike1:5,strike2:10,strike3:0,...M.config.penaltyStructure},currentSession:{name:"Current Session",startDate:"",endDate:"",isActive:!0,...M.config.currentSession}};a(T)}}}catch(k){console.error("Error loading payment config:",k),h({type:"error",text:"Failed to load payment configuration"})}finally{n(!1)}},w=async()=>{l(!0),h({type:"",text:""});try{(await fetch(`${ke}/api/payment-config`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?h({type:"success",text:"Payment configuration saved successfully!"}):h({type:"error",text:"Failed to save payment configuration"})}catch(k){console.error("Error saving payment config:",k),h({type:"error",text:"Error saving payment configuration"})}finally{l(!1)}},E=async(k,M)=>{u(k),h({type:"",text:""});try{if((await fetch(`${ke}/api/payment-config`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,...M})})).ok){h({type:"success",text:`${k} saved successfully!`});let q=null;k==="Fee Structure"?q="feeStructure":k==="Penalty Structure"?q="penaltyStructure":k==="Payment Methods"?q="paymentMethods":k==="Additional Instructions"?q="additionalInstructions":k==="Contact Information"&&(q="contactInfo"),q&&y(z=>({...z,[q]:!1}))}else h({type:"error",text:`Failed to save ${k}`})}catch(T){console.error(`Error saving ${k}:`,T),h({type:"error",text:`Error saving ${k}`})}finally{u("")}},_=(k,M,T)=>{a(q=>({...q,paymentMethods:{...q.paymentMethods,[k]:{...q.paymentMethods[k],[M]:T}}}))},S=(k,M)=>{a(T=>({...T,contactInfo:{...T.contactInfo,[k]:M}}))},C=k=>{switch(k){case"venmo":return r.createElement(Bz,null);case"cashapp":return r.createElement(Az,null);case"paypal":return r.createElement(Sz,null);case"creditCard":return r.createElement(kx,null);case"applePay":return r.createElement(wz,null);case"googlePay":return r.createElement(fp,null);case"cash":return r.createElement(Oz,null);case"check":return r.createElement(E5,null);default:return r.createElement(kx,null)}},I=k=>{y(M=>({...M,[k]:!M[k]}))},N=k=>{y(M=>({...M,[k]:!1})),b()};return e?r.createElement("div",{style:{textAlign:"center",padding:"20px"}},r.createElement(fr,{style:{animation:"spin 1s linear infinite"}}),r.createElement("p",null,"Loading payment configuration...")):r.createElement("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"}},r.createElement("h2",{style:{color:"#e53e3e",marginBottom:"20px",textAlign:"center"}}," Payment Configuration"),m.text&&r.createElement("div",{style:{padding:"10px 15px",borderRadius:"6px",marginBottom:"20px",background:m.type==="success"?"rgba(76, 175, 80, 0.2)":"rgba(229, 62, 62, 0.2)",border:`1px solid ${m.type==="success"?"#4CAF50":"#e53e3e"}`,color:m.type==="success"?"#4CAF50":"#e53e3e",display:"flex",alignItems:"center",gap:"10px"}},m.type==="success"?r.createElement(gr,null):r.createElement(Up,null),m.text),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"}},r.createElement("h3",{style:{color:"#fff",margin:0}},"League Fee Structure"),r.createElement("button",{onClick:()=>I("feeStructure"),style:{padding:"6px 12px",borderRadius:"4px",border:"none",background:f.feeStructure?"#ff9800":"#4CAF50",color:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:"bold"}},f.feeStructure?" Cancel Edit":" Edit")),r.createElement("div",{style:{padding:"15px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:f.feeStructure?"rgba(76, 175, 80, 0.05)":"rgba(255,255,255,0.02)",opacity:f.feeStructure?1:.8}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Registration Fee ($)"),r.createElement("input",{type:"number",value:t.registrationFee,onChange:k=>a(M=>({...M,registrationFee:Number(k.target.value)})),disabled:!f.feeStructure,style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.feeStructure?"#222":"#333",color:f.feeStructure?"#fff":"#888",cursor:f.feeStructure?"text":"not-allowed"},min:"0",step:"0.01"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Weekly Dues ($)"),r.createElement("input",{type:"number",value:t.weeklyDues,onChange:k=>a(M=>({...M,weeklyDues:Number(k.target.value)})),disabled:!f.feeStructure,style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.feeStructure?"#222":"#333",color:f.feeStructure?"#fff":"#888",cursor:f.feeStructure?"text":"not-allowed"},min:"0",step:"0.01"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Total Weeks"),r.createElement("input",{type:"number",value:t.totalWeeks,onChange:k=>a(M=>({...M,totalWeeks:Number(k.target.value)})),disabled:!f.feeStructure,style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.feeStructure?"#222":"#333",color:f.feeStructure?"#fff":"#888",cursor:f.feeStructure?"text":"not-allowed"},min:"1"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Participation Fee ($)"),r.createElement("div",{style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#333",color:"#4CAF50",fontWeight:"bold",textAlign:"center"}},"$",t.registrationFee+t.weeklyDues*t.totalWeeks,r.createElement("div",{style:{fontSize:"12px",color:"#888",marginTop:"2px"}},"Auto-calculated: $",t.registrationFee," + ($",t.weeklyDues,"  ",t.totalWeeks,")"))))),r.createElement("div",{style:{marginTop:"10px",padding:"10px",background:"rgba(76, 175, 80, 0.1)",borderRadius:"6px",border:"1px solid #4CAF50"}},r.createElement("div",{style:{color:"#4CAF50",fontSize:"14px"}},r.createElement("strong",null,"Total Session Cost:")," $",t.registrationFee+t.weeklyDues*t.totalWeeks,"(",t.registrationFee," + ",t.weeklyDues,"  ",t.totalWeeks," weeks)")),f.feeStructure&&r.createElement("div",{style:{marginTop:"15px",textAlign:"center",display:"flex",gap:"10px",justifyContent:"center"}},r.createElement("button",{onClick:()=>E("Fee Structure",{registrationFee:t.registrationFee,weeklyDues:t.weeklyDues,totalWeeks:t.totalWeeks,participationFee:t.registrationFee+t.weeklyDues*t.totalWeeks}),disabled:c==="Fee Structure",style:{padding:"8px 20px",borderRadius:"6px",border:"none",background:c==="Fee Structure"?"#666":"#4CAF50",color:"#fff",cursor:c==="Fee Structure"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},c==="Fee Structure"?r.createElement(fr,{style:{animation:"spin 1s linear infinite"}}):r.createElement(lo,null),c==="Fee Structure"?"Saving...":"Save Fee Structure"),r.createElement("button",{onClick:()=>N("feeStructure"),disabled:c==="Fee Structure",style:{padding:"8px 20px",borderRadius:"6px",border:"1px solid #666",background:"transparent",color:"#ccc",cursor:c==="Fee Structure"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"}},"Cancel"))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"}},r.createElement("h3",{style:{color:"#fff",margin:0}},"Penalty Structure"),r.createElement("button",{onClick:()=>I("penaltyStructure"),style:{padding:"6px 12px",borderRadius:"4px",border:"none",background:f.penaltyStructure?"#ff9800":"#4CAF50",color:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:"bold"}},f.penaltyStructure?" Cancel Edit":" Edit")),r.createElement("div",{style:{padding:"15px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:f.penaltyStructure?"rgba(76, 175, 80, 0.05)":"rgba(255,255,255,0.02)",opacity:f.penaltyStructure?1:.8}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"1st Strike Fine ($)"),r.createElement("input",{type:"number",value:t.penaltyStructure.strike1,onChange:k=>a(M=>({...M,penaltyStructure:{...M.penaltyStructure,strike1:Number(k.target.value)}})),disabled:!f.penaltyStructure,style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.penaltyStructure?"#222":"#333",color:f.penaltyStructure?"#fff":"#888",cursor:f.penaltyStructure?"text":"not-allowed"},min:"0",step:"0.01"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"2nd Strike Fine ($)"),r.createElement("input",{type:"number",value:t.penaltyStructure.strike2,onChange:k=>a(M=>({...M,penaltyStructure:{...M.penaltyStructure,strike2:Number(k.target.value)}})),disabled:!f.penaltyStructure,style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.penaltyStructure?"#222":"#333",color:f.penaltyStructure?"#fff":"#888",cursor:f.penaltyStructure?"text":"not-allowed"},min:"0",step:"0.01"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"3rd Strike Fine ($)"),r.createElement("input",{type:"number",value:t.penaltyStructure.strike3,onChange:k=>a(M=>({...M,penaltyStructure:{...M.penaltyStructure,strike3:Number(k.target.value)}})),disabled:!f.penaltyStructure,style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.penaltyStructure?"#222":"#333",color:f.penaltyStructure?"#fff":"#888",cursor:f.penaltyStructure?"text":"not-allowed"},min:"0",step:"0.01"})))),f.penaltyStructure&&r.createElement("div",{style:{marginTop:"15px",textAlign:"center",display:"flex",gap:"10px",justifyContent:"center"}},r.createElement("button",{onClick:()=>E("Penalty Structure",{penaltyStructure:t.penaltyStructure}),disabled:c==="Penalty Structure",style:{padding:"8px 20px",borderRadius:"6px",border:"none",background:c==="Penalty Structure"?"#666":"#4CAF50",color:"#fff",cursor:c==="Penalty Structure"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},c==="Penalty Structure"?r.createElement(fr,{style:{animation:"spin 1s linear infinite"}}):r.createElement(lo,null),c==="Penalty Structure"?"Saving...":"Save Penalty Structure"),r.createElement("button",{onClick:()=>N("penaltyStructure"),disabled:c==="Penalty Structure",style:{padding:"8px 20px",borderRadius:"6px",border:"1px solid #666",background:"transparent",color:"#ccc",cursor:c==="Penalty Structure"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"}},"Cancel"))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"}},r.createElement("h3",{style:{color:"#fff",margin:0}},"Payment Methods"),r.createElement("button",{onClick:()=>I("paymentMethods"),style:{padding:"6px 12px",borderRadius:"4px",border:"none",background:f.paymentMethods?"#ff9800":"#4CAF50",color:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:"bold"}},f.paymentMethods?" Cancel Edit":" Edit")),r.createElement("div",{style:{padding:"15px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:f.paymentMethods?"rgba(76, 175, 80, 0.05)":"rgba(255,255,255,0.02)",opacity:f.paymentMethods?1:.8}},Object.entries(t.paymentMethods).map(([k,M])=>r.createElement("div",{key:k,style:{marginBottom:"20px",padding:"15px",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",background:"rgba(255,255,255,0.02)"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"}},C(k),r.createElement("h4",{style:{color:"#fff",margin:0,flex:1}},M.displayName),r.createElement("label",{style:{display:"flex",alignItems:"center",gap:"5px"}},r.createElement("input",{type:"checkbox",checked:M.enabled,onChange:T=>_(k,"enabled",T.target.checked),disabled:!f.paymentMethods,style:{cursor:f.paymentMethods?"pointer":"not-allowed"}}),r.createElement("span",{style:{color:"#fff",fontSize:"14px"}},"Enabled"))),M.enabled&&r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"10px"}},k==="venmo"&&r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Venmo Username"),r.createElement("input",{type:"text",value:M.username,onChange:T=>_(k,"username",T.target.value),disabled:!f.paymentMethods,placeholder:"@username",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.paymentMethods?"#222":"#333",color:f.paymentMethods?"#fff":"#888",cursor:f.paymentMethods?"text":"not-allowed"}})),k==="cashapp"&&r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Cash App Username"),r.createElement("input",{type:"text",value:M.username,onChange:T=>_(k,"username",T.target.value),disabled:!f.paymentMethods,placeholder:"$username",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.paymentMethods?"#222":"#333",color:f.paymentMethods?"#fff":"#888",cursor:f.paymentMethods?"text":"not-allowed"}})),(k==="creditCard"||k==="applePay"||k==="googlePay")&&r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Payment Link"),r.createElement("input",{type:"url",value:M.paymentLink,onChange:T=>_(k,"paymentLink",T.target.value),disabled:!f.paymentMethods,placeholder:"https://...",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.paymentMethods?"#222":"#333",color:f.paymentMethods?"#fff":"#888",cursor:f.paymentMethods?"text":"not-allowed"}})),k==="check"&&r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Payee Name"),r.createElement("input",{type:"text",value:M.payeeName,onChange:T=>_(k,"payeeName",T.target.value),disabled:!f.paymentMethods,placeholder:"Pay to the order of...",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.paymentMethods?"#222":"#333",color:f.paymentMethods?"#fff":"#888",cursor:f.paymentMethods?"text":"not-allowed"}})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Mailing Address"),r.createElement("textarea",{value:M.mailingAddress,onChange:T=>_(k,"mailingAddress",T.target.value),disabled:!f.paymentMethods,placeholder:"Mailing address for checks...",rows:"3",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.paymentMethods?"#222":"#333",color:f.paymentMethods?"#fff":"#888",cursor:f.paymentMethods?"text":"not-allowed",resize:"vertical"}}))),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Instructions"),r.createElement("textarea",{value:M.instructions,onChange:T=>_(k,"instructions",T.target.value),disabled:!f.paymentMethods,placeholder:"Payment instructions...",rows:"2",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.paymentMethods?"#222":"#333",color:f.paymentMethods?"#fff":"#888",cursor:f.paymentMethods?"text":"not-allowed",resize:"vertical"}})))))),f.paymentMethods&&r.createElement("div",{style:{marginTop:"15px",textAlign:"center",display:"flex",gap:"10px",justifyContent:"center"}},r.createElement("button",{onClick:()=>E("Payment Methods",{paymentMethods:t.paymentMethods}),disabled:c==="Payment Methods",style:{padding:"8px 20px",borderRadius:"6px",border:"none",background:c==="Payment Methods"?"#666":"#4CAF50",color:"#fff",cursor:c==="Payment Methods"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},c==="Payment Methods"?r.createElement(fr,{style:{animation:"spin 1s linear infinite"}}):r.createElement(lo,null),c==="Payment Methods"?"Saving...":"Save Payment Methods"),r.createElement("button",{onClick:()=>N("paymentMethods"),disabled:c==="Payment Methods",style:{padding:"8px 20px",borderRadius:"6px",border:"1px solid #666",background:"transparent",color:"#ccc",cursor:c==="Payment Methods"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"}},"Cancel"))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"}},r.createElement("h3",{style:{color:"#fff",margin:0}},"Additional Instructions"),r.createElement("button",{onClick:()=>I("additionalInstructions"),style:{padding:"6px 12px",borderRadius:"4px",border:"none",background:f.additionalInstructions?"#ff9800":"#4CAF50",color:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:"bold"}},f.additionalInstructions?" Cancel Edit":" Edit")),r.createElement("div",{style:{padding:"15px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:f.additionalInstructions?"rgba(76, 175, 80, 0.05)":"rgba(255,255,255,0.02)",opacity:f.additionalInstructions?1:.8}},r.createElement("textarea",{value:t.additionalInstructions,onChange:k=>a(M=>({...M,additionalInstructions:k.target.value})),disabled:!f.additionalInstructions,placeholder:"Enter any additional payment instructions or notes for players...",rows:"4",style:{width:"100%",padding:"12px",borderRadius:"6px",border:"1px solid #444",background:f.additionalInstructions?"#222":"#333",color:f.additionalInstructions?"#fff":"#888",cursor:f.additionalInstructions?"text":"not-allowed",resize:"vertical",fontFamily:"inherit"}})),f.additionalInstructions&&r.createElement("div",{style:{marginTop:"15px",textAlign:"center",display:"flex",gap:"10px",justifyContent:"center"}},r.createElement("button",{onClick:()=>E("Additional Instructions",{additionalInstructions:t.additionalInstructions}),disabled:c==="Additional Instructions",style:{padding:"8px 20px",borderRadius:"6px",border:"none",background:c==="Additional Instructions"?"#666":"#4CAF50",color:"#fff",cursor:c==="Additional Instructions"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},c==="Additional Instructions"?r.createElement(fr,{style:{animation:"spin 1s linear infinite"}}):r.createElement(lo,null),c==="Additional Instructions"?"Saving...":"Save Additional Instructions"),r.createElement("button",{onClick:()=>N("additionalInstructions"),disabled:c==="Additional Instructions",style:{padding:"8px 20px",borderRadius:"6px",border:"1px solid #666",background:"transparent",color:"#ccc",cursor:c==="Additional Instructions"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"}},"Cancel"))),r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"}},r.createElement("h3",{style:{color:"#fff",margin:0}},"Contact Information"),r.createElement("button",{onClick:()=>I("contactInfo"),style:{padding:"6px 12px",borderRadius:"4px",border:"none",background:f.contactInfo?"#ff9800":"#4CAF50",color:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:"bold"}},f.contactInfo?" Cancel Edit":" Edit")),r.createElement("div",{style:{padding:"15px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:f.contactInfo?"rgba(76, 175, 80, 0.05)":"rgba(255,255,255,0.02)",opacity:f.contactInfo?1:.8}},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Admin Name"),r.createElement("input",{type:"text",value:t.contactInfo.adminName,onChange:k=>S("adminName",k.target.value),disabled:!f.contactInfo,placeholder:"League Administrator Name",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.contactInfo?"#222":"#333",color:f.contactInfo?"#fff":"#888",cursor:f.contactInfo?"text":"not-allowed"}})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Admin Email"),r.createElement("input",{type:"email",value:t.contactInfo.adminEmail,onChange:k=>S("adminEmail",k.target.value),disabled:!f.contactInfo,placeholder:"admin@example.com",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.contactInfo?"#222":"#333",color:f.contactInfo?"#fff":"#888",cursor:f.contactInfo?"text":"not-allowed"}})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Admin Phone"),r.createElement("input",{type:"tel",value:t.contactInfo.adminPhone,onChange:k=>S("adminPhone",k.target.value),disabled:!f.contactInfo,placeholder:"(555) 123-4567",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:f.contactInfo?"#222":"#333",color:f.contactInfo?"#fff":"#888",cursor:f.contactInfo?"text":"not-allowed"}})))),f.contactInfo&&r.createElement("div",{style:{marginTop:"15px",textAlign:"center",display:"flex",gap:"10px",justifyContent:"center"}},r.createElement("button",{onClick:()=>E("Contact Information",{contactInfo:t.contactInfo}),disabled:c==="Contact Information",style:{padding:"8px 20px",borderRadius:"6px",border:"none",background:c==="Contact Information"?"#666":"#4CAF50",color:"#fff",cursor:c==="Contact Information"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},c==="Contact Information"?r.createElement(fr,{style:{animation:"spin 1s linear infinite"}}):r.createElement(lo,null),c==="Contact Information"?"Saving...":"Save Contact Information"),r.createElement("button",{onClick:()=>N("contactInfo"),disabled:c==="Contact Information",style:{padding:"8px 20px",borderRadius:"6px",border:"1px solid #666",background:"transparent",color:"#ccc",cursor:c==="Contact Information"?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"}},"Cancel"))),r.createElement("div",{style:{marginTop:"40px",padding:"20px",border:"2px solid rgba(76, 175, 80, 0.3)",borderRadius:"12px",background:"rgba(76, 175, 80, 0.05)",textAlign:"center"}},r.createElement("h3",{style:{color:"#4CAF50",marginBottom:"15px"}}," Save All Changes"),r.createElement("p",{style:{color:"#ccc",marginBottom:"20px",fontSize:"14px"}},"Use this button to save all configuration changes at once, or use the individual save buttons for each section above."),r.createElement("button",{onClick:w,disabled:i,style:{padding:"12px 30px",borderRadius:"8px",border:"none",background:i?"#666":"linear-gradient(135deg, #4CAF50, #45a049)",color:"#fff",cursor:i?"not-allowed":"pointer",fontSize:"16px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"10px",margin:"0 auto",boxShadow:i?"none":"0 4px 15px rgba(76, 175, 80, 0.3)",transition:"all 0.2s ease"},onMouseEnter:k=>{i||(k.target.style.transform="translateY(-2px)",k.target.style.boxShadow="0 6px 20px rgba(76, 175, 80, 0.4)")},onMouseLeave:k=>{i||(k.target.style.transform="translateY(0)",k.target.style.boxShadow="0 4px 15px rgba(76, 175, 80, 0.3)")}},i?r.createElement(fr,{style:{animation:"spin 1s linear infinite"}}):r.createElement(lo,null),i?"Saving All Changes...":"Save All Configuration")))}function Qz(){const[t,a]=v.useState([]),[e,n]=v.useState(!0),[i,l]=v.useState(""),[c,u]=v.useState("all"),[m,h]=v.useState(null),[f,y]=v.useState(!1),[b,w]=v.useState(!1),[E,_]=v.useState(!1),[S,C]=v.useState({amount:"",paymentType:"weekly_dues",paymentMethod:"cash",notes:"",date:new Date().toISOString().split("T")[0]}),[I,N]=v.useState({amount:"",reason:"",strikeLevel:"1",notes:"",date:new Date().toISOString().split("T")[0]}),[k,M]=v.useState({registrationFee:30,weeklyDues:10,totalWeeks:10,penaltyStructure:{strike1:5,strike2:10,strike3:0}});v.useEffect(()=>{T(),q()},[]);const T=async()=>{n(!0);try{console.log(" Loading players..."),console.log(" API URL:",`${ke}/api/users/search?approved=true`);const R=await fetch(`${ke}/api/users/search?approved=true&t=${Date.now()}`);if(R.ok){const A=await R.json();console.log(" Loaded players data:",A.users.length,"players");const F=A.users.find(J=>J.firstName==="Beta"&&J.lastName==="Test User");if(F)console.log(" Raw Beta Test User data from API:",{id:F._id,firstName:F.firstName,lastName:F.lastName,paymentHistory:F.paymentHistory,paymentHistoryLength:F.paymentHistory?F.paymentHistory.length:"undefined"});else{console.log(" Beta Test User not found in raw data"),console.log("Available users:",A.users.map(W=>`${W.firstName} ${W.lastName}`)),console.log(" All users with IDs:",A.users.map(W=>({id:W._id,name:`${W.firstName} ${W.lastName}`,email:W.email})));const J=A.users.filter(W=>!W.firstName||!W.lastName||W.firstName.trim()===""||W.lastName.trim()==="");J.length>0&&(console.log(" Users with empty names found:",J.length),J.forEach((W,re)=>{console.log(`   ${re+1}. ID: ${W._id}`),console.log(`      Email: ${W.email||"No email"}`),console.log(`      First Name: "${W.firstName||"EMPTY"}"`),console.log(`      Last Name: "${W.lastName||"EMPTY"}"`)}))}const Q=A.users.filter(J=>J.paymentHistory&&J.paymentHistory.length>0);console.log(" Users with payment history:",Q.length),Q.length>0&&console.log(" First user with payments:",{name:`${Q[0].firstName} ${Q[0].lastName}`,paymentHistory:Q[0].paymentHistory});const V=A.users.find(J=>J.email==="frbcapl@gmail.com");V?(console.log(" Found frbcapl@gmail.com user:",{id:V._id,name:`${V.firstName} ${V.lastName}`,email:V.email,paymentHistory:V.paymentHistory,paymentHistoryLength:V.paymentHistory?V.paymentHistory.length:0}),console.log(" Full frbcapl user object:",V),console.log(" frbcapl user keys:",Object.keys(V)),console.log(" frbcapl paymentHistory field:",V.paymentHistory),console.log(" frbcapl paymentHistory type:",typeof V.paymentHistory)):console.log(" frbcapl@gmail.com user not found");const P=A.users.filter(J=>J.firstName&&J.lastName&&J.firstName.trim()&&J.lastName.trim()).map(J=>{const W={...J,paymentHistory:J.paymentHistory||[],penalties:J.penalties||[]};return W.currentBalance=z(W),W.paymentStatus=G(W),W}),j=P.find(J=>J.firstName==="Beta"&&J.lastName==="Test User");j&&(console.log(" Beta Test User found in loaded data:"),console.log("Payment history length:",j.paymentHistory.length),console.log("Payment history:",j.paymentHistory),console.log("Calculated balance:",j.currentBalance),console.log("Payment status:",j.paymentStatus)),a(P),console.log(" Players loaded and processed")}else console.error(" Failed to load players:",R.status)}catch(R){console.error("Error loading players:",R)}finally{n(!1)}},q=async()=>{try{const R=await fetch(`${ke}/api/payment-config`);if(R.ok){const A=await R.json();A.config&&M({registrationFee:A.config.registrationFee||30,weeklyDues:A.config.weeklyDues||10,totalWeeks:A.config.totalWeeks||10,penaltyStructure:A.config.penaltyStructure||{strike1:5,strike2:10,strike3:0}})}}catch(R){console.error("Error loading fee config:",R)}},z=R=>{if(!k)return console.warn("feeConfig not loaded yet for balance calculation."),0;const A=(k.registrationFee||0)+(k.weeklyDues||0)*(k.totalWeeks||0),F=(R.paymentHistory||[]).reduce((P,j)=>j.paymentType==="registration_fee"||j.paymentType==="weekly_dues"||j.paymentType==="participation_fee"||j.paymentType==="penalty"?P+(j.amount||0):P,0),Q=(R.penalties||[]).reduce((P,j)=>P+(j.amount||0),0),V=A-F+Q;return console.log(`Balance for ${R.firstName} ${R.lastName}: Expected=${A}, Paid=${F}, Penalties=${Q}, Balance=${V}`),V},G=R=>{const A=z(R);return A<=0?"paid":A<=20?"partial":"overdue"},K=t.filter(R=>{var Q,V,P;const A=((Q=R.firstName)==null?void 0:Q.toLowerCase().includes(i.toLowerCase()))||((V=R.lastName)==null?void 0:V.toLowerCase().includes(i.toLowerCase()))||((P=R.email)==null?void 0:P.toLowerCase().includes(i.toLowerCase())),F=c==="all"||R.paymentStatus===c;return A&&F}),ie=async()=>{if(!(!m||!S.amount))try{console.log("Adding payment for player:",m._id),console.log("Payment data:",S);const R=await fetch(`${ke}/api/users/${m._id}/add-payment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(console.log("Response status:",R.status),R.ok){const A=await R.json();console.log("Payment added successfully:",A),console.log(" Payment result details:",{success:A.success,message:A.message,payment:A.payment,user:A.user}),y(!1),C({amount:"",paymentType:"weekly_dues",paymentMethod:"cash",notes:"",date:new Date().toISOString().split("T")[0]}),console.log(" Reloading players after payment..."),await T(),console.log(" Players reloaded after payment"),alert("Payment added successfully!")}else{const A=await R.json();console.error("Payment failed:",A);const F=A.message||A.error||"Unknown error";alert(`Error adding payment: ${F}`)}}catch(R){console.error("Error adding payment:",R),alert(`Error adding payment: ${R.message}`)}},H=async()=>{if(!(!m||!I.amount))try{(await fetch(`${ke}/api/users/${m._id}/add-penalty`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)})).ok&&(w(!1),N({amount:"",reason:"",strikeLevel:"1",notes:"",date:new Date().toISOString().split("T")[0]}),T())}catch(R){console.error("Error adding penalty:",R)}},Z=R=>{switch(R){case"paid":return"#4CAF50";case"partial":return"#FF9800";case"overdue":return"#f44336";default:return"#666"}},O=R=>{switch(R){case"paid":return r.createElement(gr,null);case"partial":return r.createElement(kz,null);case"overdue":return r.createElement(hp,null);default:return r.createElement(Yz,null)}};return e?r.createElement("div",{style:{textAlign:"center",padding:"20px"}},r.createElement("div",{style:{animation:"spin 1s linear infinite"}},""),r.createElement("p",null,"Loading payment data...")):r.createElement("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"}},r.createElement("h2",{style:{color:"#e53e3e",marginBottom:"20px",textAlign:"center"}}," Payment Tracker"),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"30px"}},r.createElement("div",{style:{padding:"15px",background:"rgba(76, 175, 80, 0.1)",borderRadius:"8px",border:"1px solid #4CAF50",textAlign:"center"}},r.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#4CAF50"}},t.filter(R=>R.paymentStatus==="paid").length),r.createElement("div",{style:{color:"#fff"}},"Fully Paid")),r.createElement("div",{style:{padding:"15px",background:"rgba(255, 152, 0, 0.1)",borderRadius:"8px",border:"1px solid #FF9800",textAlign:"center"}},r.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#FF9800"}},t.filter(R=>R.paymentStatus==="partial").length),r.createElement("div",{style:{color:"#fff"}},"Partial Payment")),r.createElement("div",{style:{padding:"15px",background:"rgba(244, 67, 54, 0.1)",borderRadius:"8px",border:"1px solid #f44336",textAlign:"center"}},r.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#f44336"}},t.filter(R=>R.paymentStatus==="overdue").length),r.createElement("div",{style:{color:"#fff"}},"Overdue")),r.createElement("div",{style:{padding:"15px",background:"rgba(102, 102, 102, 0.1)",borderRadius:"8px",border:"1px solid #666",textAlign:"center"}},r.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#666"}},"$",t.reduce((R,A)=>R+Math.max(0,A.currentBalance),0).toFixed(2)),r.createElement("div",{style:{color:"#fff"}},"Total Outstanding"))),r.createElement("div",{style:{display:"flex",gap:"15px",marginBottom:"20px",flexWrap:"wrap"}},r.createElement("div",{style:{flex:"1",minWidth:"200px"}},r.createElement("input",{type:"text",placeholder:"Search players...",value:i,onChange:R=>l(R.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"}})),r.createElement("select",{value:c,onChange:R=>u(R.target.value),style:{padding:"10px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",minWidth:"150px"}},r.createElement("option",{value:"all"},"All Status"),r.createElement("option",{value:"paid"},"Fully Paid"),r.createElement("option",{value:"partial"},"Partial Payment"),r.createElement("option",{value:"overdue"},"Overdue")),r.createElement("button",{onClick:()=>{},style:{padding:"10px 15px",borderRadius:"6px",border:"none",background:"#4CAF50",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(Dz,null)," Export")),r.createElement("div",{style:{display:"grid",gap:"15px"}},K.map(R=>r.createElement("div",{key:R._id,style:{padding:"15px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"}},r.createElement("div",{style:{flex:"1",minWidth:"200px"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"5px"}},r.createElement("span",{style:{color:Z(R.paymentStatus),fontSize:"18px"}},O(R.paymentStatus)),r.createElement("h4",{style:{color:"#fff",margin:0}},R.firstName," ",R.lastName)),r.createElement("div",{style:{color:"#ccc",fontSize:"14px"}},R.email,"  ",R.phone||"No phone")),r.createElement("div",{style:{textAlign:"center",minWidth:"120px"}},r.createElement("div",{style:{fontSize:"18px",fontWeight:"bold",color:R.currentBalance>0?"#f44336":"#4CAF50"}},"$",R.currentBalance.toFixed(2)),r.createElement("div",{style:{color:"#ccc",fontSize:"12px"}},R.currentBalance>0?"Owed":"Paid")),r.createElement("div",{style:{display:"flex",gap:"8px"}},r.createElement("button",{onClick:()=>{h(R),y(!0)},style:{padding:"8px 12px",borderRadius:"4px",border:"none",background:"#4CAF50",color:"#fff",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"5px"}},r.createElement(Qa,null)," Payment"),r.createElement("button",{onClick:()=>{h(R),w(!0)},style:{padding:"8px 12px",borderRadius:"4px",border:"none",background:"#f44336",color:"#fff",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"5px"}},r.createElement(hp,null)," Penalty"),r.createElement("button",{onClick:()=>{h(R),_(!0)},style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #666",background:"transparent",color:"#fff",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"5px"}},r.createElement(gl,null)," Details"))))),f&&m&&r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"flex-start",justifyContent:"center",zIndex:9999,padding:"20px",overflowY:"auto"}},r.createElement("div",{style:{background:"#333",padding:"20px",borderRadius:"8px",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto",margin:"auto"}},r.createElement("h3",{style:{color:"#fff",marginBottom:"20px"}},"Add Payment - ",m.firstName," ",m.lastName),r.createElement("div",{style:{display:"grid",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Payment Type"),r.createElement("select",{value:S.paymentType,onChange:R=>{const A=R.target.value;let F=0;A==="registration_fee"?F=k.registrationFee:A==="weekly_dues"?F=k.weeklyDues:A==="participation_fee"&&(F=k.registrationFee+k.weeklyDues*k.totalWeeks),C(Q=>({...Q,paymentType:A,amount:F}))},style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"}},r.createElement("option",{value:"registration_fee"},"Registration Fee ($",k.registrationFee,")"),r.createElement("option",{value:"weekly_dues"},"Weekly Dues ($",k.weeklyDues,")"),r.createElement("option",{value:"participation_fee"},"Participation Fee ($",k.registrationFee+k.weeklyDues*k.totalWeeks,")"),r.createElement("option",{value:"penalty"},"Penalty Payment"),r.createElement("option",{value:"other"},"Other"))),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Amount ($)"),r.createElement("input",{type:"number",value:S.amount,onChange:R=>C(A=>({...A,amount:R.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"},step:"0.01"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Payment Method"),r.createElement("select",{value:S.paymentMethod,onChange:R=>C(A=>({...A,paymentMethod:R.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"}},r.createElement("option",{value:"cash"},"Cash"),r.createElement("option",{value:"venmo"},"Venmo"),r.createElement("option",{value:"credit_card"},"Credit/Debit Card"),r.createElement("option",{value:"check"},"Check"))),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Date"),r.createElement("input",{type:"date",value:S.date,onChange:R=>C(A=>({...A,date:R.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"}})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Notes"),r.createElement("textarea",{value:S.notes,onChange:R=>C(A=>({...A,notes:R.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",minHeight:"60px",resize:"vertical"},placeholder:"Optional notes about this payment..."}))),r.createElement("div",{style:{display:"flex",gap:"10px",marginTop:"20px"}},r.createElement("button",{onClick:ie,style:{padding:"10px 20px",borderRadius:"6px",border:"none",background:"#4CAF50",color:"#fff",cursor:"pointer",flex:"1"}},"Add Payment"),r.createElement("button",{onClick:()=>y(!1),style:{padding:"10px 20px",borderRadius:"6px",border:"1px solid #666",background:"transparent",color:"#fff",cursor:"pointer",flex:"1"}},"Cancel")))),b&&m&&r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"flex-start",justifyContent:"center",zIndex:9999,padding:"20px",overflowY:"auto"}},r.createElement("div",{style:{background:"#333",padding:"20px",borderRadius:"8px",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto",margin:"auto"}},r.createElement("h3",{style:{color:"#fff",marginBottom:"20px"}},"Add Penalty - ",m.firstName," ",m.lastName),r.createElement("div",{style:{display:"grid",gap:"15px"}},r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Strike Level"),r.createElement("select",{value:I.strikeLevel,onChange:R=>{const A=R.target.value;N(F=>({...F,strikeLevel:A,amount:A==="1"?k.penaltyStructure.strike1:A==="2"?k.penaltyStructure.strike2:A==="3"?k.penaltyStructure.strike3:0}))},style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"}},r.createElement("option",{value:"1"},"Strike 1 - $",k.penaltyStructure.strike1," fine"),r.createElement("option",{value:"2"},"Strike 2 - $",k.penaltyStructure.strike2," fine"),r.createElement("option",{value:"3"},"Strike 3 - ",k.penaltyStructure.strike3>0?`$${k.penaltyStructure.strike3} fine`:"Removal"))),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Fine Amount ($)"),r.createElement("input",{type:"number",value:I.amount,onChange:R=>N(A=>({...A,amount:R.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"},step:"0.01"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Reason"),r.createElement("input",{type:"text",value:I.reason,onChange:R=>N(A=>({...A,reason:R.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"},placeholder:"Reason for penalty..."})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Date"),r.createElement("input",{type:"date",value:I.date,onChange:R=>N(A=>({...A,date:R.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"}})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Notes"),r.createElement("textarea",{value:I.notes,onChange:R=>N(A=>({...A,notes:R.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",minHeight:"60px",resize:"vertical"},placeholder:"Additional details about the penalty..."}))),r.createElement("div",{style:{display:"flex",gap:"10px",marginTop:"20px"}},r.createElement("button",{onClick:H,style:{padding:"10px 20px",borderRadius:"6px",border:"none",background:"#f44336",color:"#fff",cursor:"pointer",flex:"1"}},"Add Penalty"),r.createElement("button",{onClick:()=>w(!1),style:{padding:"10px 20px",borderRadius:"6px",border:"1px solid #666",background:"transparent",color:"#fff",cursor:"pointer",flex:"1"}},"Cancel")))),E&&m&&r.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"flex-start",justifyContent:"center",zIndex:9999,padding:"20px",overflowY:"auto"}},r.createElement("div",{style:{background:"#333",padding:"20px",borderRadius:"8px",maxWidth:"800px",width:"90%",maxHeight:"80vh",overflow:"auto",margin:"auto"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}},r.createElement("h3",{style:{color:"#fff",margin:0}},"Payment Details - ",m.firstName," ",m.lastName),r.createElement("button",{onClick:()=>_(!1),style:{background:"none",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer"}},"")),r.createElement("div",{style:{marginBottom:"20px",padding:"15px",background:"#222",borderRadius:"6px"}},r.createElement("h4",{style:{color:"#fff",marginBottom:"10px"}},"Player Information"),r.createElement("div",{style:{color:"#ccc",fontSize:"14px"}},r.createElement("div",null,"Email: ",m.email),r.createElement("div",null,"Phone: ",m.phone||"Not provided"),r.createElement("div",null,"Current Balance: ",r.createElement("span",{style:{color:m.currentBalance>0?"#f44336":"#4CAF50",fontWeight:"bold"}},"$",m.currentBalance.toFixed(2))),r.createElement("div",null,"Payment Status: ",r.createElement("span",{style:{color:Z(m.paymentStatus)}},m.paymentStatus.toUpperCase())))),r.createElement("div",{style:{marginBottom:"20px"}},r.createElement("h4",{style:{color:"#fff",marginBottom:"10px"}},"Payment History"),console.log(" Details Modal - selectedPlayer:",m),console.log(" Details Modal - paymentHistory:",m.paymentHistory),m.paymentHistory&&m.paymentHistory.length>0?r.createElement("div",{style:{maxHeight:"300px",overflowY:"auto"}},m.paymentHistory.map((R,A)=>r.createElement("div",{key:A,style:{padding:"10px",marginBottom:"8px",background:"#222",borderRadius:"4px",border:"1px solid #444"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("div",{style:{color:"#fff",fontWeight:"bold"}},"$",R.amount," - ",R.paymentType.replace("_"," ").toUpperCase()),r.createElement("div",{style:{color:"#ccc",fontSize:"12px"}},new Date(R.date||R.timestamp).toLocaleDateString())),r.createElement("div",{style:{color:"#ccc",fontSize:"12px",marginTop:"5px"}},"Method: ",R.paymentMethod,"  ",R.notes&&`Notes: ${R.notes}`)))):r.createElement("div",{style:{color:"#ccc",fontStyle:"italic"}},"No payment history found.")),r.createElement("div",null,r.createElement("h4",{style:{color:"#fff",marginBottom:"10px"}},"Penalties"),m.penalties&&m.penalties.length>0?r.createElement("div",{style:{maxHeight:"200px",overflowY:"auto"}},m.penalties.map((R,A)=>r.createElement("div",{key:A,style:{padding:"10px",marginBottom:"8px",background:"#222",borderRadius:"4px",border:"1px solid #f44336"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("div",{style:{color:"#f44336",fontWeight:"bold"}},"$",R.amount," - ",R.reason),r.createElement("div",{style:{color:"#ccc",fontSize:"12px"}},new Date(R.date||R.timestamp).toLocaleDateString())),r.createElement("div",{style:{color:"#ccc",fontSize:"12px",marginTop:"5px"}},"Strike Level: ",R.strikeLevel,"  ",R.notes&&`Notes: ${R.notes}`)))):r.createElement("div",{style:{color:"#ccc",fontStyle:"italic"}},"No penalties found.")))))}function Xz(){const[t,a]=v.useState({phase1Weeks:6,currentSession:{name:"Current Session",startDate:"",endDate:"",isActive:!0}}),[e,n]=v.useState(!0),[i,l]=v.useState(!1),[c,u]=v.useState({type:"",text:""}),[m,h]=v.useState("phases"),[f,y]=v.useState([]),[b,w]=v.useState(""),[E,_]=v.useState([]),[S,C]=v.useState([]),[I,N]=v.useState({}),[k,M]=v.useState("");v.useEffect(()=>{T(),q(),z()},[]);const T=async()=>{try{const H=await fetch(`${ke}/api/payment-config`);if(H.ok){const Z=await H.json();Z.config&&a({phase1Weeks:Z.config.phase1Weeks||6,currentSession:{name:"Current Session",startDate:"",endDate:"",isActive:!0,...Z.config.currentSession}})}}catch(H){console.error("Error loading league config:",H),u({type:"error",text:"Failed to load league configuration"})}finally{n(!1)}},q=async()=>{try{const H=await fetch(`${ke}/admin/divisions`);if(H.ok){const Z=await H.json();y(Z),Z.length>0&&w(Z[0].name)}}catch(H){console.error("Error loading divisions:",H)}},z=async()=>{try{const H=await fetch(`${ke}/api/users`);if(H.ok){const Z=await H.json();_(Z.filter(O=>O.isApproved)),C(Z.filter(O=>O.isApproved&&(!O.divisions||O.divisions.length===0)))}}catch(H){console.error("Error loading players:",H)}},G=async(H,Z)=>{try{(await fetch(`${ke}/admin/user/${H}/add-division`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:Z})})).ok?(u({type:"success",text:"Player added to division successfully!"}),z()):u({type:"error",text:"Failed to add player to division"})}catch(O){console.error("Error adding player to division:",O),u({type:"error",text:"Error adding player to division"})}},K=async(H,Z)=>{try{(await fetch(`${ke}/admin/user/${H}/remove-division`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:Z})})).ok?(u({type:"success",text:"Player removed from division successfully!"}),z()):u({type:"error",text:"Failed to remove player from division"})}catch(O){console.error("Error removing player from division:",O),u({type:"error",text:"Error removing player from division"})}};if(e)return r.createElement("div",{style:{textAlign:"center",padding:"20px"}},r.createElement(fr,{style:{animation:"spin 1s linear infinite"}}),r.createElement("p",null,"Loading league configuration..."));const ie=()=>{switch(m){case"phases":return r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"}},r.createElement(Nl,{style:{color:"#4CAF50"}}),r.createElement("h3",{style:{color:"#fff",margin:0}},"Phase Configuration")),r.createElement("div",{style:{padding:"20px",background:"rgba(76, 175, 80, 0.1)",borderRadius:"8px",border:"1px solid #4CAF50",textAlign:"center"}},r.createElement(ry,{style:{fontSize:"48px",color:"#4CAF50",marginBottom:"15px"}}),r.createElement("p",{style:{color:"#4CAF50",margin:0,fontSize:"16px"}},"Phase configuration is now part of the division creation process.",r.createElement("br",null),'Use the "Divisions" tab to create new divisions with phase settings.')));case"rosters":return r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"}},r.createElement(id,{style:{color:"#4CAF50"}}),r.createElement("h3",{style:{color:"#fff",margin:0}},"Player Rosters")),r.createElement("div",{style:{padding:"15px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.02)"}},r.createElement("div",{style:{marginBottom:"20px"}},r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Select Division"),r.createElement("select",{value:b,onChange:H=>w(H.target.value),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"}},r.createElement("option",{value:""},"Choose a division..."),f.map(H=>r.createElement("option",{key:H._id,value:H.name},H.name)))),b&&r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"}},r.createElement("div",null,r.createElement("h4",{style:{color:"#fff",marginBottom:"15px"}},"Players in ",b),r.createElement("div",{style:{maxHeight:"400px",overflowY:"auto"}},E.filter(H=>H.divisions&&H.divisions.includes(b)).length===0?r.createElement("p",{style:{color:"#888",textAlign:"center"}},"No players in this division"):E.filter(H=>H.divisions&&H.divisions.includes(b)).map(H=>r.createElement("div",{key:H._id,style:{padding:"10px",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"6px",background:"rgba(255,255,255,0.02)",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("div",null,r.createElement("p",{style:{color:"#fff",margin:"0 0 5px 0"}},H.firstName," ",H.lastName),r.createElement("p",{style:{color:"#888",margin:0,fontSize:"12px"}},H.email)),r.createElement("button",{onClick:()=>K(H._id,b),style:{padding:"4px 8px",borderRadius:"4px",border:"none",background:"#e53e3e",color:"#fff",cursor:"pointer",fontSize:"12px"}},r.createElement(jz,null)))))),r.createElement("div",null,r.createElement("h4",{style:{color:"#fff",marginBottom:"15px"}},"Available Players"),r.createElement("div",{style:{maxHeight:"400px",overflowY:"auto"}},S.length===0?r.createElement("p",{style:{color:"#888",textAlign:"center"}},"No available players"):S.map(H=>r.createElement("div",{key:H._id,style:{padding:"10px",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"6px",background:"rgba(255,255,255,0.02)",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("div",null,r.createElement("p",{style:{color:"#fff",margin:"0 0 5px 0"}},H.firstName," ",H.lastName),r.createElement("p",{style:{color:"#888",margin:0,fontSize:"12px"}},H.email)),r.createElement("button",{onClick:()=>G(H._id,b),style:{padding:"4px 8px",borderRadius:"4px",border:"none",background:"#4CAF50",color:"#fff",cursor:"pointer",fontSize:"12px"}},r.createElement(id,null)))))))));case"standings":return r.createElement("div",{style:{marginBottom:"30px"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"}},r.createElement(hd,{style:{color:"#4CAF50"}}),r.createElement("h3",{style:{color:"#fff",margin:0}},"Standings Tracking")),r.createElement("div",{style:{padding:"15px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.02)"}},r.createElement("div",{style:{marginBottom:"20px"}},r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px"}},"Select Division"),r.createElement("select",{value:k,onChange:H=>M(H.target.value),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff"}},r.createElement("option",{value:""},"Choose a division..."),f.map(H=>r.createElement("option",{key:H._id,value:H.name},H.name)))),k&&r.createElement("div",null,r.createElement("h4",{style:{color:"#fff",marginBottom:"15px"}},"Standings for ",k),r.createElement("div",{style:{padding:"15px",background:"rgba(76, 175, 80, 0.1)",borderRadius:"6px",border:"1px solid #4CAF50",textAlign:"center"}},r.createElement(u0,{style:{fontSize:"48px",color:"#4CAF50",marginBottom:"10px"}}),r.createElement("p",{style:{color:"#4CAF50",margin:0}},"Standings tracking will be integrated with CSI LMS data.",r.createElement("br",null),'Use the "Divisions" tab to sync standings from CSI LMS.')))));default:return null}};return r.createElement("div",{style:{padding:"20px",maxWidth:"1000px",margin:"0 auto"}},r.createElement("h2",{style:{color:"#e53e3e",marginBottom:"20px",textAlign:"center"}}," League Management"),c.text&&r.createElement("div",{style:{padding:"10px 15px",borderRadius:"6px",marginBottom:"20px",background:c.type==="success"?"rgba(76, 175, 80, 0.2)":"rgba(229, 62, 62, 0.2)",border:`1px solid ${c.type==="success"?"#4CAF50":"#e53e3e"}`,color:c.type==="success"?"#4CAF50":"#e53e3e",display:"flex",alignItems:"center",gap:"10px"}},c.type==="success"?r.createElement(gr,null):r.createElement(Up,null),c.text),r.createElement("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",flexWrap:"wrap"}},r.createElement("button",{onClick:()=>h("phases"),style:{padding:"10px 20px",borderRadius:"6px",border:"none",background:m==="phases"?"#4CAF50":"#333",color:"#fff",cursor:"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(Nl,null)," Phase Configuration"),r.createElement("button",{onClick:()=>h("rosters"),style:{padding:"10px 20px",borderRadius:"6px",border:"none",background:m==="rosters"?"#4CAF50":"#333",color:"#fff",cursor:"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(id,null)," Player Rosters"),r.createElement("button",{onClick:()=>h("standings"),style:{padding:"10px 20px",borderRadius:"6px",border:"none",background:m==="standings"?"#4CAF50":"#333",color:"#fff",cursor:"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"}},r.createElement(hd,null)," Standings Tracking")),ie())}const Jz=void 0,Mx="frbcaplgmailcom";function Kz({backendUrl:t,onComplete:a}){const[e,n]=v.useState(1),[i,l]=v.useState({name:"",description:"",scheduleUrl:"",standingsUrl:"",seasonStart:"",phase1Weeks:6,phase2Weeks:4,totalWeeks:10}),[c,u]=v.useState(!1),[m,h]=v.useState(""),f=[{id:1,title:"Create Division in CSI LMS",description:"First, create the division in the CSI LMS software",instructions:["1. Log into CSI LMS at https://lms.fargorate.com","2. Navigate to League Management","3. Create a new division with your desired name","4. Set up the division settings and rules","5. Make sure the division is active and ready for players"],completed:!1},{id:2,title:"Get Division URLs",description:"Copy the schedule and standings URLs from CSI LMS",instructions:["1. In CSI LMS, go to the division you just created","2. Click on the 'Reports' link in the navigation","3. Click the 'Schedule' button","4. Copy the URL from the schedule report page","5. Click the 'Teams' button","6. Copy the URL from the teams report page","7. Both URLs should look like: https://lms.fargorate.com/PublicReport/LeagueReports?..."],completed:!1},{id:3,title:"Configure Phase Settings",description:"Set up the division's phase structure and session dates",instructions:["1. Set the total number of weeks for the session","2. Configure how many weeks Phase 1 should last","3. Phase 2 weeks will be calculated automatically","4. Set the session start date","5. Review the calculated phase dates"],completed:!1},{id:4,title:"Add Division to App",description:"Create the division in your app with the URLs",instructions:["1. Enter the division name (exactly as in CSI LMS)","2. Add a description (optional)","3. Paste the schedule URL from CSI LMS","4. Paste the standings URL from CSI LMS","5. Click 'Create Division'"],completed:!1},{id:5,title:"Test Data Sync",description:"Verify the division is working correctly",instructions:["1. Click 'Update Schedule' to sync match data","2. Click 'Update Standings' to sync player rankings","3. Verify data appears correctly in the app","4. Test the division in the main dashboard"],completed:!1}],y=(E,_)=>{l(S=>({...S,[E]:_}))},b=async()=>{u(!0),h("");try{const E=await fetch(`${t}/api/seasons`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.name,division:i.name,description:i.description,scheduleUrl:i.scheduleUrl,standingsUrl:i.standingsUrl,seasonStart:i.seasonStart})}),_=await E.json();if(E.ok){try{const S=await fetch(`${t}/admin/divisions`);if(S.ok){const I=(await S.json()).find(N=>N.name===i.name);I&&await fetch(`${t}/api/division-config/${I._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({phase1Weeks:i.phase1Weeks,phase2Weeks:i.phase2Weeks,totalWeeks:i.totalWeeks,currentSession:{name:`${i.name} Session`,startDate:i.seasonStart,endDate:null,isActive:!0}})})}}catch(S){console.error("Error saving phase configuration:",S)}h(" Division created successfully with phase configuration!"),n(5),a&&a()}else h(" "+(_.error||"Failed to create division."))}catch(E){h(" Failed to create division: "+E.message)}u(!1)},w=()=>{switch(e){case 1:return r.createElement("div",{className:oe.workflowStep},r.createElement("div",{className:oe.stepInstructions},f[0].instructions.map((E,_)=>r.createElement("div",{key:_,className:oe.instructionItem},E))),r.createElement("div",{className:oe.stepActions},r.createElement("button",{className:oe.workflowButton,onClick:()=>n(2)},r.createElement(mo,null)," I've Created the Division in CSI LMS")));case 2:return r.createElement("div",{className:oe.workflowStep},r.createElement("div",{className:oe.stepInstructions},f[1].instructions.map((E,_)=>r.createElement("div",{key:_,className:oe.instructionItem},E))),r.createElement("div",{className:oe.stepActions},r.createElement("button",{className:oe.workflowButton,onClick:()=>n(3)},r.createElement(mo,null)," I Have the URLs Ready")));case 3:return r.createElement("div",{className:oe.workflowStep},r.createElement("div",{className:oe.stepInstructions},f[2].instructions.map((E,_)=>r.createElement("div",{key:_,className:oe.instructionItem},E))),r.createElement("div",{className:oe.divisionForm},r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"15px"}},r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px",fontSize:"14px"}},"Total Weeks"),r.createElement("input",{type:"number",value:i.totalWeeks,onChange:E=>{const _=Number(E.target.value),S=i.phase1Weeks,C=Math.max(1,_-S);y("totalWeeks",_),y("phase2Weeks",C)},className:oe.workflowInput,min:"2",max:"40"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px",fontSize:"14px"}},"Phase 1 Weeks"),r.createElement("input",{type:"number",value:i.phase1Weeks,onChange:E=>{const _=Number(E.target.value);if(y("phase1Weeks",_),i.totalWeeks){const S=Math.max(1,i.totalWeeks-_);y("phase2Weeks",S)}},className:oe.workflowInput,min:"1",max:"20"}))),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"15px"}},r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px",fontSize:"14px"}},"Phase 2 Weeks"),r.createElement("input",{type:"number",value:i.phase2Weeks,onChange:E=>{const _=Number(E.target.value);y("phase2Weeks",_);const S=i.phase1Weeks+_;y("totalWeeks",S)},className:oe.workflowInput,min:"1",max:"20"})),r.createElement("div",null,r.createElement("label",{style:{color:"#fff",display:"block",marginBottom:"5px",fontSize:"14px"}},"Session Start Date"),r.createElement("input",{type:"date",value:i.seasonStart,onChange:E=>y("seasonStart",E.target.value),className:oe.workflowInput}))),i.seasonStart&&r.createElement("div",{style:{marginTop:"15px",padding:"15px",background:"rgba(76, 175, 80, 0.1)",borderRadius:"6px",border:"1px solid #4CAF50"}},r.createElement("div",{style:{color:"#4CAF50",fontSize:"14px"}},r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px"}},r.createElement(ry,null),r.createElement("strong",null,"Calculated Session Dates:")),r.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"10px"}},r.createElement("div",null,r.createElement("strong",null,"Phase 1:"),r.createElement("br",null),new Date(i.seasonStart).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})," to ",(()=>{const E=new Date(i.seasonStart),_=new Date(E);return _.setDate(E.getDate()+i.phase1Weeks*6-1),_.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})()),r.createElement("div",null,r.createElement("strong",null,"Phase 2:"),r.createElement("br",null),(()=>{const E=new Date(i.seasonStart),_=new Date(E);return _.setDate(E.getDate()+i.phase1Weeks*6),_.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})()," to ",(()=>{const E=new Date(i.seasonStart),_=new Date(E);return _.setDate(E.getDate()+i.phase1Weeks*6+i.phase2Weeks*6-1),_.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})())),r.createElement("div",{style:{marginTop:"10px",fontSize:"12px",opacity:.8}},"Total Session Length: ",i.totalWeeks," weeks (",i.phase1Weeks," weeks Phase 1 + ",i.phase2Weeks," weeks Phase 2)"))),r.createElement("button",{className:oe.workflowButton,onClick:()=>n(4),disabled:!i.seasonStart},r.createElement(mo,null)," Continue to Division Setup")));case 4:return r.createElement("div",{className:oe.workflowStep},r.createElement("div",{className:oe.stepInstructions},f[3].instructions.map((E,_)=>r.createElement("div",{key:_,className:oe.instructionItem},E))),r.createElement("div",{className:oe.divisionForm},r.createElement("input",{type:"text",placeholder:"Division Name (exactly as in CSI LMS)",value:i.name,onChange:E=>y("name",E.target.value),className:oe.workflowInput}),r.createElement("input",{type:"text",placeholder:"Description (optional)",value:i.description,onChange:E=>y("description",E.target.value),className:oe.workflowInput}),r.createElement("input",{type:"url",placeholder:"Schedule URL from CSI LMS",value:i.scheduleUrl,onChange:E=>y("scheduleUrl",E.target.value),className:oe.workflowInput}),r.createElement("input",{type:"url",placeholder:"Standings URL from CSI LMS",value:i.standingsUrl,onChange:E=>y("standingsUrl",E.target.value),className:oe.workflowInput}),r.createElement("button",{className:oe.workflowButton,onClick:b,disabled:c||!i.name||!i.scheduleUrl||!i.standingsUrl},c?"Creating...":"Create Division")),m&&r.createElement("div",{className:oe.workflowResult},m));case 5:return r.createElement("div",{className:oe.workflowStep},r.createElement("div",{className:oe.stepInstructions},f[4].instructions.map((E,_)=>r.createElement("div",{key:_,className:oe.instructionItem},E))),r.createElement("div",{className:oe.stepActions},r.createElement(eU,{backendUrl:t,divisionName:i.name}),r.createElement("button",{className:oe.workflowButton,onClick:()=>{n(1),l({name:"",description:"",scheduleUrl:"",standingsUrl:"",seasonStart:"",phase1Weeks:6,phase2Weeks:4,totalWeeks:10}),h("")}},r.createElement(Qa,null)," Create Another Division")));default:return null}};return r.createElement("div",{className:oe.workflowContainer},r.createElement("div",{className:oe.workflowHeader},r.createElement("h3",null,r.createElement(Qa,null)," Create New Division"),r.createElement("div",{className:oe.workflowProgress},"Step ",e," of ",f.length)),r.createElement("div",{className:oe.workflowSteps},f.map((E,_)=>r.createElement("div",{key:E.id,className:`${oe.workflowStepIndicator} ${e>E.id?oe.completed:e===E.id?oe.active:oe.pending}`},r.createElement("div",{className:oe.stepNumber},E.id),r.createElement("div",{className:oe.stepInfo},r.createElement("div",{className:oe.stepTitle},E.title),r.createElement("div",{className:oe.stepDescription},E.description))))),r.createElement("div",{className:oe.workflowContent},w()))}function eU({backendUrl:t,divisionName:a}){const[e,n]=v.useState(!1),[i,l]=v.useState(""),c=async u=>{n(!0),l("");try{const h=await fetch(`${t}${u==="schedule"?"/admin/update-schedule":"/admin/update-standings"}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:a})}),f=await h.json();h.ok?l(` ${u==="schedule"?"Schedule":"Standings"} updated successfully!`):l(` Failed to update ${u}: ${f.error||"Unknown error"}`)}catch(m){l(` Failed to update ${u}: ${m.message}`)}n(!1)};return r.createElement("div",{className:oe.dataSyncTools},r.createElement("button",{className:oe.syncButton,onClick:()=>c("schedule"),disabled:e},r.createElement(p0,null)," Update Schedule"),r.createElement("button",{className:oe.syncButton,onClick:()=>c("standings"),disabled:e},r.createElement(p0,null)," Update Standings"),i&&r.createElement("div",{className:oe.syncResult},i))}function tU({backendUrl:t}){const[a,e]=v.useState("approve"),[n,i]=v.useState([]),[l,c]=v.useState([]),[u,m]=v.useState(!1);v.useEffect(()=>{h(),f()},[]);const h=async()=>{m(!0);try{const E=await fetch(`${t}/api/users/pending-registrations`);if(E.ok){const _=await E.json();i(_.sort((S,C)=>new Date(S.registrationDate)-new Date(C.registrationDate)))}}catch(E){console.error("Error fetching pending registrations:",E)}m(!1)},f=async()=>{try{const E=await fetch(`${t}/api/users/pending-payment`);if(E.ok){const _=await E.json();c(_.users||[])}}catch(E){console.error("Error fetching pending payments:",E)}},y=async(E,_,S)=>{try{const C=await fetch(`${t}/api/users/${E}/confirm-payment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentMethod:_||"Admin Confirmed",paymentNotes:S||""})});if(C.ok){const I=await C.json();alert(`Payment confirmed! PIN: ${I.user.pin}`),f()}else alert("Failed to confirm payment")}catch(C){console.error("Error confirming payment:",C),alert("Error confirming payment")}},b=async(E,_)=>{try{(await fetch(`${t}/api/users/admin/approve-registration/${E}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({approvedBy:"Admin",paymentInfo:{hasPaid:!0,paymentDate:new Date,paymentMethod:"Cash",paymentNotes:"Approved by admin"},division:_})})).ok?h():alert("Failed to approve registration")}catch(S){console.error("Error approving registration:",S),alert("Error approving registration")}},w=async(E,_)=>{try{(await fetch(`${t}/api/users/admin/reject-registration/${E}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rejectedBy:"Admin",notes:_})})).ok?h():alert("Failed to reject registration")}catch(S){console.error("Error rejecting registration:",S),alert("Error rejecting registration")}};return r.createElement("div",{className:oe.playerManagementContainer},r.createElement("div",{className:oe.tabHeader},r.createElement("button",{className:`${oe.tabButton} ${a==="approve"?oe.active:""}`,onClick:()=>e("approve")},r.createElement(id,null)," Approve New Players (",n.length,")"),r.createElement("button",{className:`${oe.tabButton} ${a==="payments"?oe.active:""}`,onClick:()=>e("payments")},r.createElement(gr,null)," Pending Payments (",l.length,")"),r.createElement("button",{className:`${oe.tabButton} ${a==="manage"?oe.active:""}`,onClick:()=>e("manage")},r.createElement(gd,null)," Manage Existing Players")),r.createElement("div",{className:oe.tabContent},a==="approve"&&r.createElement("div",{className:oe.approvalSection},u?r.createElement("div",{className:oe.loadingMessage},"Loading pending registrations..."):n.length===0?r.createElement("div",{className:oe.emptyState},r.createElement(gr,null)," No pending registrations"):r.createElement("div",{className:oe.registrationList},n.map((E,_)=>r.createElement("div",{key:E._id,className:oe.registrationCard},r.createElement("div",{className:oe.registrationHeader},r.createElement("span",{className:oe.registrationNumber},"#",_+1),r.createElement("h4",null,E.firstName," ",E.lastName)),r.createElement("div",{className:oe.registrationDetails},r.createElement("p",null,r.createElement("strong",null,"Email:")," ",E.email),r.createElement("p",null,r.createElement("strong",null,"Phone:")," ",E.phone),r.createElement("p",null,r.createElement("strong",null,"Registered:")," ",new Date(E.registrationDate).toLocaleDateString())),r.createElement("div",{className:oe.registrationActions},r.createElement("select",{id:`division-${E._id}`,className:oe.divisionSelect},r.createElement("option",{value:""},"Select Division"),r.createElement("option",{value:"FRBCAPL TEST"},"FRBCAPL TEST"),r.createElement("option",{value:"Singles Test"},"Singles Test"),r.createElement("option",{value:"Waiting List"},"Waiting List")),r.createElement("button",{className:oe.approveButton,onClick:()=>{const S=document.getElementById(`division-${E._id}`).value;if(!S){alert("Please select a division before approving.");return}b(E._id,S)}},r.createElement(gr,null)," Approve"),r.createElement("button",{className:oe.rejectButton,onClick:()=>{const S=prompt("Enter rejection reason (optional):");S!==null&&w(E._id,S)}},r.createElement(Al,null)," Reject")))))),a==="payments"&&r.createElement("div",{className:oe.paymentSection},l.length===0?r.createElement("div",{className:oe.emptyState},r.createElement(gr,null)," No pending payments"):r.createElement("div",{className:oe.paymentList},l.map((E,_)=>r.createElement("div",{key:E._id,className:oe.paymentCard},r.createElement("div",{className:oe.paymentHeader},r.createElement("span",{className:oe.paymentNumber},"#",_+1),r.createElement("h4",null,E.firstName," ",E.lastName)),r.createElement("div",{className:oe.paymentDetails},r.createElement("p",null,r.createElement("strong",null,"Email:")," ",E.email),r.createElement("p",null,r.createElement("strong",null,"Registered:")," ",new Date(E.registrationDate).toLocaleDateString()),r.createElement("p",null,r.createElement("strong",null,"Status:")," ",r.createElement("span",{className:oe.pendingStatus},"Payment Pending"))),r.createElement("div",{className:oe.paymentActions},r.createElement("select",{id:`payment-method-${E._id}`,className:oe.paymentMethodSelect},r.createElement("option",{value:"Cash"},"Cash"),r.createElement("option",{value:"Venmo"},"Venmo"),r.createElement("option",{value:"Cash App"},"Cash App"),r.createElement("option",{value:"PayPal"},"PayPal"),r.createElement("option",{value:"Credit Card"},"Credit Card"),r.createElement("option",{value:"Apple Pay"},"Apple Pay"),r.createElement("option",{value:"Google Pay"},"Google Pay"),r.createElement("option",{value:"Check"},"Check"),r.createElement("option",{value:"Admin Confirmed"},"Admin Confirmed")),r.createElement("button",{className:oe.confirmPaymentButton,onClick:()=>{const S=document.getElementById(`payment-method-${E._id}`).value,C=prompt("Payment notes (optional):");C!==null&&y(E._id,S,C)}},r.createElement(gr,null)," Confirm Payment")))))),a==="manage"&&r.createElement("div",{className:oe.manageSection},r.createElement(nU,{backendUrl:t}))))}function nU({backendUrl:t}){const[a,e]=v.useState(""),[n,i]=v.useState([]),[l,c]=v.useState([]),[u,m]=v.useState({});v.useEffect(()=>{fetch(`${t}/admin/divisions`).then(w=>w.json()).then(w=>c(w.map(E=>E.name))).catch(()=>c([]))},[t]);const h=async w=>{if(w.preventDefault(),!!a.trim())try{const _=await(await fetch(`${t}/admin/search-users?query=${encodeURIComponent(a)}`)).json();i(_),m({})}catch{i([]),alert("Search failed")}},f=async(w,E)=>{try{await fetch(`${t}/admin/user/${w}/add-division`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:E})}),h({preventDefault:()=>{}})}catch{alert("Failed to add user to division")}},y=async(w,E)=>{try{await fetch(`${t}/admin/user/${w}/remove-division`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:E})}),h({preventDefault:()=>{}})}catch{alert("Failed to remove user from division")}},b=(w,E)=>{m(_=>({..._,[w]:E}))};return r.createElement("div",{className:oe.userSearchContainer},r.createElement("form",{onSubmit:h,className:oe.searchForm},r.createElement("input",{type:"text",placeholder:"Search by name or email...",value:a,onChange:w=>e(w.target.value),className:oe.searchInput}),r.createElement("button",{type:"submit",className:oe.searchButton},r.createElement(Fz,null)," Search")),n.length>0&&r.createElement("div",{className:oe.searchResults},n.map(w=>{var E,_;return r.createElement("div",{key:w._id,className:oe.userCard},r.createElement("div",{className:oe.userInfo},r.createElement("h4",{className:oe.userName},w.firstName&&w.lastName?`${w.firstName} ${w.lastName}`:w.name||w.email||"Unknown User"),r.createElement("div",{className:oe.userContactInfo},r.createElement("p",{className:oe.userEmail},r.createElement("strong",null,"Email:")," ",w.email),r.createElement("p",{className:oe.userPhone},r.createElement("strong",null,"Phone:")," ",w.phone||"Not provided"),w.textNumber&&r.createElement("p",{className:oe.userTextNumber},r.createElement("strong",null,"Text:")," ",w.textNumber)),r.createElement("div",{className:oe.userDetails},r.createElement("p",null,r.createElement("strong",null,"Current Divisions:")," ",((E=w.divisions)==null?void 0:E.join(", "))||"None"),w.locations&&r.createElement("p",null,r.createElement("strong",null,"Playing Locations:")," ",w.locations),w.availability&&r.createElement("div",{className:oe.userAvailability},r.createElement("p",null,r.createElement("strong",null,"Availability:")),r.createElement("div",{className:oe.availabilityGrid},Object.entries(w.availability).map(([S,C])=>C&&C.length>0&&r.createElement("div",{key:S,className:oe.availabilityDay},r.createElement("span",{className:oe.dayLabel},S,":"),r.createElement("span",{className:oe.timeSlots},C.join(", ")))))),w.emergencyContactName&&r.createElement("p",null,r.createElement("strong",null,"Emergency Contact:")," ",w.emergencyContactName," (",w.emergencyContactPhone,")"),w.notes&&r.createElement("p",null,r.createElement("strong",null,"Notes:")," ",w.notes))),r.createElement("div",{className:oe.userActions},r.createElement("select",{value:u[w._id]||"",onChange:S=>b(w._id,S.target.value),className:oe.divisionSelect},r.createElement("option",{value:""},"Select Division"),l.map(S=>r.createElement("option",{key:S,value:S},S))),r.createElement("button",{onClick:()=>f(w._id,u[w._id]),disabled:!u[w._id],className:oe.addButton},r.createElement(Qa,null)," Add to Division"),(_=w.divisions)==null?void 0:_.map(S=>r.createElement("button",{key:S,onClick:()=>y(w._id,S),className:oe.removeButton},r.createElement(Al,null)," Remove from ",S))))})))}function aU({backendUrl:t}){const[a,e]=v.useState([]),[n,i]=v.useState("");return v.useEffect(()=>{fetch(`${t}/admin/divisions`).then(l=>l.json()).then(l=>{const c=l.map(u=>u.name);e(c),i(c[0]||"")}).catch(()=>e([]))},[t]),r.createElement("div",{className:oe.matchManagementContainer},r.createElement("div",{className:oe.sectionHeader},r.createElement("h3",null,r.createElement(Nl,null)," Match Management"),r.createElement("select",{value:n,onChange:l=>i(l.target.value),className:oe.divisionSelect},a.map(l=>r.createElement("option",{key:l,value:l},l)))),n&&r.createElement(fz,{division:n,isAdmin:!0}))}function rU({backendUrl:t}){const[a,e]=v.useState(!1),[n,i]=v.useState({});v.useEffect(()=>{l()},[]);const l=async()=>{try{const[c,u]=await Promise.all([fetch(`${t}/api/users`),fetch(`${t}/admin/divisions`)]),m=await c.json(),h=await u.json();i({totalUsers:m.length,activeUsers:m.filter(f=>f.isActive).length,pendingRegistrations:m.filter(f=>!f.isApproved).length,totalDivisions:h.length})}catch(c){console.error("Error fetching system stats:",c)}};return r.createElement("div",{className:oe.systemStatusContainer},r.createElement("div",{className:oe.statsGrid},r.createElement("div",{className:oe.statCard},r.createElement("div",{className:oe.statNumber},n.totalUsers||0),r.createElement("div",{className:oe.statLabel},"Total Users")),r.createElement("div",{className:oe.statCard},r.createElement("div",{className:oe.statNumber},n.activeUsers||0),r.createElement("div",{className:oe.statLabel},"Active Users")),r.createElement("div",{className:oe.statCard},r.createElement("div",{className:oe.statNumber},n.pendingRegistrations||0),r.createElement("div",{className:oe.statLabel},"Pending Approvals")),r.createElement("div",{className:oe.statCard},r.createElement("div",{className:oe.statNumber},n.totalDivisions||0),r.createElement("div",{className:oe.statLabel},"Divisions"))),r.createElement("div",{className:oe.systemActions},r.createElement("button",{className:oe.systemButton,onClick:()=>e(!0)},r.createElement(Iz,null)," View Unentered LMS Matches"),r.createElement("button",{className:oe.systemButton,onClick:l},r.createElement(p0,null)," Refresh Stats")),r.createElement(pz,{open:a,onClose:()=>e(!1)}))}function sU(){const[t,a]=v.useState(null),[e,n]=v.useState([]),[i,l]=v.useState(null),[c,u]=v.useState([]),[m,h]=v.useState(!1),[f,y]=v.useState(null),[b,w]=v.useState("overview"),E=ss();v.useEffect(()=>{const C=new ay(Jz);return C.connectUser({id:Mx,name:"Admin"},C.devToken(Mx)),a(C),()=>C.disconnectUser()},[]),v.useEffect(()=>{if(!t)return;(async()=>{try{const I=await t.queryChannels({});n(I)}catch(I){console.error("Error fetching channels:",I)}})()},[t]),v.useEffect(()=>{if(!i)return;(async()=>{h(!0);try{const I=await i.getMessages();u(I.messages)}catch(I){console.error("Error fetching messages:",I)}h(!1)})()},[i]);const _=(C,I)=>{y({type:C,message:I}),setTimeout(()=>y(null),5e3)};if(!t)return r.createElement("div",null,"Loading admin dashboard...");const S=()=>{switch(b){case"overview":return r.createElement("div",{className:oe.overviewSection},r.createElement("h2",null,"Welcome to Admin Dashboard"),r.createElement("p",null,"Select a section below to manage your league:"),r.createElement("div",{className:oe.quickActions},r.createElement("button",{className:oe.quickActionButton,onClick:()=>w("divisions")},r.createElement(Qa,null)," Create New Division"),r.createElement("button",{className:oe.quickActionButton,onClick:()=>w("players")},r.createElement(id,null)," Manage Players"),r.createElement("button",{className:oe.quickActionButton,onClick:()=>w("matches")},r.createElement(Nl,null)," Match Management"),r.createElement("button",{className:oe.quickActionButton,onClick:()=>w("system")},r.createElement(Ix,null)," System Status")));case"divisions":return r.createElement(Kz,{backendUrl:ke,onComplete:()=>_("success","Division created successfully!")});case"players":return r.createElement(tU,{backendUrl:ke});case"matches":return r.createElement(aU,{backendUrl:ke});case"system":return r.createElement(rU,{backendUrl:ke});case"backup":return r.createElement(qz,{backendUrl:ke});case"locations":return r.createElement($z,{backendUrl:ke});case"payments":return r.createElement(Vz,null);case"payment-tracker":return r.createElement(Qz,null);case"league-management":return r.createElement(Xz,null);default:return null}};return r.createElement("div",{className:oe.adminDashboardRoot},r.createElement("div",{className:oe.adminDashboardNav},r.createElement("div",{className:oe.navLeft},r.createElement("button",{onClick:()=>{E("/"),window.location.reload()}}," User Dashboard"),r.createElement("button",{onClick:()=>E("/chat")}," Back to Chat")),r.createElement("div",{className:oe.navRight},r.createElement("button",{onClick:()=>{localStorage.clear(),E("/"),window.location.reload()}}," Logout"))),r.createElement("div",{className:oe.adminDashboardMainColumn},f&&r.createElement("div",{className:`${oe.banner} ${oe[f.type]}`},f.type==="success"?r.createElement(gr,null):r.createElement(Up,null),f.message),r.createElement("div",{className:oe.sectionNavigation},r.createElement("button",{className:`${oe.sectionButton} ${b==="overview"?oe.active:""}`,onClick:()=>w("overview")}," Overview"),r.createElement("button",{className:`${oe.sectionButton} ${b==="divisions"?oe.active:""}`,onClick:()=>w("divisions")},r.createElement(Qa,null)," Divisions"),r.createElement("button",{className:`${oe.sectionButton} ${b==="players"?oe.active:""}`,onClick:()=>w("players")},r.createElement(gd,null)," Players"),r.createElement("button",{className:`${oe.sectionButton} ${b==="matches"?oe.active:""}`,onClick:()=>w("matches")},r.createElement(Nl,null)," Matches"),r.createElement("button",{className:`${oe.sectionButton} ${b==="system"?oe.active:""}`,onClick:()=>w("system")},r.createElement(Ix,null)," System"),r.createElement("button",{className:`${oe.sectionButton} ${b==="backup"?oe.active:""}`,onClick:()=>w("backup")},r.createElement(fp,null)," Backup"),r.createElement("button",{className:`${oe.sectionButton} ${b==="locations"?oe.active:""}`,onClick:()=>w("locations")},r.createElement(m0,null)," Locations"),r.createElement("button",{className:`${oe.sectionButton} ${b==="payments"?oe.active:""}`,onClick:()=>w("payments")}," Payments"),r.createElement("button",{className:`${oe.sectionButton} ${b==="payment-tracker"?oe.active:""}`,onClick:()=>w("payment-tracker")}," Payment Tracker"),r.createElement("button",{className:`${oe.sectionButton} ${b==="league-management"?oe.active:""}`,onClick:()=>w("league-management")}," League Management")),r.createElement("div",{className:oe.sectionContent},S())))}function iU(){const[t,a]=v.useState("overview"),[e,n]=v.useState(!1),[i,l]=v.useState(""),[c,u]=v.useState(""),[m,h]=v.useState(null),[f,y]=v.useState([]),[b,w]=v.useState([]),[E,_]=v.useState([]),S=()=>{const W=Li.getCurrentAdmin();if(!W)throw new Error("No authenticated admin found");return{email:W.email,pin:W.pin}},[C,I]=v.useState(!1),[N,k]=v.useState(!1),[M,T]=v.useState(!1),[q,z]=v.useState(!1),[G,K]=v.useState({leagueId:"",name:"",description:"",adminEmail:"",adminName:"",operatorEmail:""}),[ie,H]=v.useState({email:"",firstName:"",lastName:"",phone:"",password:""}),[Z,O]=v.useState({email:"",firstName:"",lastName:"",phone:"",password:"",role:"admin",permissions:{canCreateLeagues:!1,canDeleteLeagues:!1,canManageLeagueOperators:!1,canViewAllLeagueData:!1,canManageBilling:!1,canViewSystemLogs:!1}});v.useEffect(()=>{R()},[]);const R=async()=>{n(!0);try{const{email:W,pin:re}=S(),X={"Content-Type":"application/json","x-admin-email":W,"x-admin-pin":re},[me,Ce,Se,st]=await Promise.all([fetch(`${ke}/api/platform/stats`,{headers:X}),fetch(`${ke}/api/platform/leagues`,{headers:X}),fetch(`${ke}/api/platform/operators`,{headers:X}),fetch(`${ke}/api/platform/admins`,{headers:X})]);if(me.ok){const ye=await me.json();h(ye)}else console.error("Stats response error:",me.status,await me.text());if(Ce.ok){const ye=await Ce.json();y(ye.leagues||[])}else console.error("Leagues response error:",Ce.status,await Ce.text());if(Se.ok){const ye=await Se.json();w(ye.operators||[])}else console.error("Operators response error:",Se.status,await Se.text());if(st.ok){const ye=await st.json();_(ye.admins||[])}else console.error("Admins response error:",st.status,await st.text())}catch{l("Failed to load dashboard data")}finally{n(!1)}},A=async W=>{W.preventDefault(),n(!0),l("");try{const{email:re,pin:X}=S(),me=await fetch(`${ke}/api/platform/leagues`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...G,adminEmail:re,adminPin:X})}),Ce=await me.json();me.ok?(u("League created successfully!"),I(!1),K({leagueId:"",name:"",description:"",adminEmail:"",adminName:"",operatorEmail:""}),R()):l(Ce.message||"Failed to create league")}catch{l("Network error. Please try again.")}finally{n(!1)}},F=async W=>{W.preventDefault(),n(!0),l("");try{const{email:re,pin:X}=S(),me=await fetch(`${ke}/api/platform/operators`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...ie,adminEmail:re,adminPin:X})}),Ce=await me.json();me.ok?(u("Operator created successfully!"),k(!1),H({email:"",firstName:"",lastName:"",phone:"",password:""}),R()):l(Ce.message||"Failed to create operator")}catch{l("Network error. Please try again.")}finally{n(!1)}},Q=async W=>{W.preventDefault(),n(!0),l("");try{const{email:re,pin:X}=S(),me=await fetch(`${ke}/api/platform/admins`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...Z,adminEmail:re,adminPin:X})}),Ce=await me.json();me.ok?(u("Admin created successfully!"),T(!1),O({email:"",firstName:"",lastName:"",phone:"",password:"",role:"admin",permissions:{canCreateLeagues:!1,canDeleteLeagues:!1,canManageLeagueOperators:!1,canViewAllLeagueData:!1,canManageBilling:!1,canViewSystemLogs:!1}}),R()):l(Ce.message||"Failed to create admin")}catch{l("Network error. Please try again.")}finally{n(!1)}},V=()=>r.createElement("div",{className:"overview-section"},r.createElement("h2",null,"Platform Overview"),m&&r.createElement("div",{className:"stats-grid"},r.createElement("div",{className:"stat-card"},r.createElement(hd,{className:"stat-icon"}),r.createElement("div",{className:"stat-content"},r.createElement("h3",null,m.stats.leagues.total),r.createElement("p",null,"Total Leagues"))),r.createElement("div",{className:"stat-card"},r.createElement(gd,{className:"stat-icon"}),r.createElement("div",{className:"stat-content"},r.createElement("h3",null,m.stats.operators),r.createElement("p",null,"League Operators"))),r.createElement("div",{className:"stat-card"},r.createElement(Dx,{className:"stat-icon"}),r.createElement("div",{className:"stat-content"},r.createElement("h3",null,m.stats.admins),r.createElement("p",null,"Platform Admins"))),r.createElement("div",{className:"stat-card"},r.createElement(u0,{className:"stat-icon"}),r.createElement("div",{className:"stat-content"},r.createElement("h3",null,m.stats.leagues.active),r.createElement("p",null,"Active Leagues")))),r.createElement("div",{className:"quick-actions"},r.createElement("h3",null,"Quick Actions"),r.createElement("div",{className:"action-buttons"},r.createElement("button",{onClick:()=>I(!0),className:"btn-primary"},r.createElement(Qa,null)," Create New League"),r.createElement("button",{onClick:()=>k(!0),className:"btn-secondary"},r.createElement(Dx,null)," Add League Operator"),r.createElement("button",{onClick:()=>T(!0),className:"btn-secondary"},r.createElement(Ax,null)," Add Platform Admin")))),P=()=>r.createElement("div",{className:"leagues-section"},r.createElement("div",{className:"section-header"},r.createElement("h2",null,"League Management"),r.createElement("button",{onClick:()=>I(!0),className:"btn-primary"},r.createElement(Qa,null)," Create League")),r.createElement("div",{className:"leagues-grid"},f.map(W=>r.createElement("div",{key:W.leagueId,className:"league-card"},r.createElement("div",{className:"league-header"},r.createElement("h3",null,W.name),r.createElement("span",{className:`status-badge ${W.subscription.status}`},W.subscription.status)),r.createElement("div",{className:"league-details"},r.createElement("p",null,r.createElement("strong",null,"ID:")," ",W.leagueId),r.createElement("p",null,r.createElement("strong",null,"Admin:")," ",W.adminEmail),r.createElement("p",null,r.createElement("strong",null,"Plan:")," ",W.subscription.plan),r.createElement("p",null,r.createElement("strong",null,"Created:")," ",new Date(W.createdAt).toLocaleDateString())),r.createElement("div",{className:"league-actions"},r.createElement("button",{className:"btn-small"},r.createElement(gl,null)," View Details"),r.createElement("button",{className:"btn-small"},r.createElement(gm,null)," Edit"),r.createElement("button",{className:"btn-small btn-danger"},r.createElement(Al,null)," Delete")))))),j=()=>r.createElement("div",{className:"operators-section"},r.createElement("div",{className:"section-header"},r.createElement("h2",null,"League Operators"),r.createElement("button",{onClick:()=>k(!0),className:"btn-primary"},r.createElement(Qa,null)," Add Operator")),r.createElement("div",{className:"operators-grid"},b.map(W=>r.createElement("div",{key:W._id,className:"operator-card"},r.createElement("div",{className:"operator-header"},r.createElement("h3",null,W.firstName," ",W.lastName),r.createElement("span",{className:"status-badge active"},"Active")),r.createElement("div",{className:"operator-details"},r.createElement("p",null,r.createElement("strong",null,"Email:")," ",W.email),r.createElement("p",null,r.createElement("strong",null,"Leagues:")," ",W.assignedLeagues.length),r.createElement("p",null,r.createElement("strong",null,"Last Login:")," ",W.lastLoginAt?new Date(W.lastLoginAt).toLocaleDateString():"Never")),r.createElement("div",{className:"operator-actions"},r.createElement("button",{className:"btn-small"},r.createElement(gl,null)," View Details"),r.createElement("button",{className:"btn-small"},r.createElement(gm,null)," Edit"),r.createElement("button",{onClick:()=>z(!0),className:"btn-small"},r.createElement(Pz,null)," Assign League")))))),J=()=>r.createElement("div",{className:"admins-section"},r.createElement("div",{className:"section-header"},r.createElement("h2",null,"Platform Admins"),r.createElement("button",{onClick:()=>T(!0),className:"btn-primary"},r.createElement(Qa,null)," Add Admin")),r.createElement("div",{className:"admins-grid"},E.map(W=>r.createElement("div",{key:W._id,className:"admin-card"},r.createElement("div",{className:"admin-header"},r.createElement("h3",null,W.firstName," ",W.lastName),r.createElement("span",{className:`role-badge ${W.role}`},W.role)),r.createElement("div",{className:"admin-details"},r.createElement("p",null,r.createElement("strong",null,"Email:")," ",W.email),r.createElement("p",null,r.createElement("strong",null,"Role:")," ",W.role),r.createElement("p",null,r.createElement("strong",null,"Last Login:")," ",W.lastLoginAt?new Date(W.lastLoginAt).toLocaleDateString():"Never")),r.createElement("div",{className:"admin-actions"},r.createElement("button",{className:"btn-small"},r.createElement(gl,null)," View Details"),r.createElement("button",{className:"btn-small"},r.createElement(gm,null)," Edit"),r.createElement("button",{className:"btn-small btn-danger"},r.createElement(Al,null)," Delete"))))));return r.createElement("div",{className:"platform-admin-dashboard"},i&&r.createElement("div",{className:"error-message"},r.createElement(Up,null)," ",i),c&&r.createElement("div",{className:"success-message"},r.createElement(gr,null)," ",c),r.createElement("div",{className:"dashboard-header"},r.createElement("h1",null,"Platform Administration"),r.createElement("div",{className:"header-actions"},r.createElement("button",{onClick:R,className:"btn-secondary",disabled:e},e?r.createElement(fr,{className:"spinner"}):r.createElement(Wz,null)," Refresh"))),r.createElement("div",{className:"dashboard-tabs"},r.createElement("button",{className:`tab ${t==="overview"?"active":""}`,onClick:()=>a("overview")},r.createElement(u0,null)," Overview"),r.createElement("button",{className:`tab ${t==="leagues"?"active":""}`,onClick:()=>a("leagues")},r.createElement(hd,null)," Leagues"),r.createElement("button",{className:`tab ${t==="operators"?"active":""}`,onClick:()=>a("operators")},r.createElement(gd,null)," Operators"),r.createElement("button",{className:`tab ${t==="admins"?"active":""}`,onClick:()=>a("admins")},r.createElement(Ax,null)," Admins")),r.createElement("div",{className:"dashboard-content"},t==="overview"&&V(),t==="leagues"&&P(),t==="operators"&&j(),t==="admins"&&J()),r.createElement(xn,{isOpen:C,onClose:()=>I(!1),title:"Create New League",maxWidth:"600px"},r.createElement("form",{onSubmit:A},r.createElement("div",{className:"form-group"},r.createElement("label",null,"League ID *"),r.createElement("input",{type:"text",value:G.leagueId,onChange:W=>K({...G,leagueId:W.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"e.g., front-range-pool",required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"League Name *"),r.createElement("input",{type:"text",value:G.name,onChange:W=>K({...G,name:W.target.value}),placeholder:"e.g., Front Range Pool League",required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Description"),r.createElement("textarea",{value:G.description,onChange:W=>K({...G,description:W.target.value}),placeholder:"Brief description of the league"})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Admin Email *"),r.createElement("input",{type:"email",value:G.adminEmail,onChange:W=>K({...G,adminEmail:W.target.value}),placeholder:"admin@league.com",required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Admin Name *"),r.createElement("input",{type:"text",value:G.adminName,onChange:W=>K({...G,adminName:W.target.value}),placeholder:"John Doe",required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Assign Operator (Optional)"),r.createElement("input",{type:"email",value:G.operatorEmail,onChange:W=>K({...G,operatorEmail:W.target.value}),placeholder:"operator@league.com"})),r.createElement("div",{className:"form-actions"},r.createElement("button",{type:"button",onClick:()=>I(!1),className:"btn-secondary"},"Cancel"),r.createElement("button",{type:"submit",className:"btn-primary",disabled:e},e?r.createElement(fr,{className:"spinner"}):"Create League")))),r.createElement(xn,{isOpen:N,onClose:()=>k(!1),title:"Create League Operator",maxWidth:"500px"},r.createElement("form",{onSubmit:F},r.createElement("div",{className:"form-group"},r.createElement("label",null,"Email *"),r.createElement("input",{type:"email",value:ie.email,onChange:W=>H({...ie,email:W.target.value}),placeholder:"operator@example.com",required:!0})),r.createElement("div",{className:"form-row"},r.createElement("div",{className:"form-group"},r.createElement("label",null,"First Name *"),r.createElement("input",{type:"text",value:ie.firstName,onChange:W=>H({...ie,firstName:W.target.value}),placeholder:"John",required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Last Name *"),r.createElement("input",{type:"text",value:ie.lastName,onChange:W=>H({...ie,lastName:W.target.value}),placeholder:"Doe",required:!0}))),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Phone"),r.createElement("input",{type:"tel",value:ie.phone,onChange:W=>H({...ie,phone:W.target.value}),placeholder:"(555) 123-4567"})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Password *"),r.createElement("input",{type:"password",value:ie.password,onChange:W=>H({...ie,password:W.target.value}),placeholder:"Enter password",required:!0})),r.createElement("div",{className:"form-actions"},r.createElement("button",{type:"button",onClick:()=>k(!1),className:"btn-secondary"},"Cancel"),r.createElement("button",{type:"submit",className:"btn-primary",disabled:e},e?r.createElement(fr,{className:"spinner"}):"Create Operator")))),r.createElement(xn,{isOpen:M,onClose:()=>T(!1),title:"Create Platform Admin",maxWidth:"600px"},r.createElement("form",{onSubmit:Q},r.createElement("div",{className:"form-group"},r.createElement("label",null,"Email *"),r.createElement("input",{type:"email",value:Z.email,onChange:W=>O({...Z,email:W.target.value}),placeholder:"admin@platform.com",required:!0})),r.createElement("div",{className:"form-row"},r.createElement("div",{className:"form-group"},r.createElement("label",null,"First Name *"),r.createElement("input",{type:"text",value:Z.firstName,onChange:W=>O({...Z,firstName:W.target.value}),placeholder:"Admin",required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Last Name *"),r.createElement("input",{type:"text",value:Z.lastName,onChange:W=>O({...Z,lastName:W.target.value}),placeholder:"User",required:!0}))),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Phone"),r.createElement("input",{type:"tel",value:Z.phone,onChange:W=>O({...Z,phone:W.target.value}),placeholder:"(555) 123-4567"})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Password *"),r.createElement("input",{type:"password",value:Z.password,onChange:W=>O({...Z,password:W.target.value}),placeholder:"Enter password",required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Role *"),r.createElement("select",{value:Z.role,onChange:W=>O({...Z,role:W.target.value}),required:!0},r.createElement("option",{value:"admin"},"Admin"),r.createElement("option",{value:"support"},"Support"))),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Permissions"),r.createElement("div",{className:"permissions-grid"},Object.entries(Z.permissions).map(([W,re])=>r.createElement("label",{key:W,className:"permission-checkbox"},r.createElement("input",{type:"checkbox",checked:re,onChange:X=>O({...Z,permissions:{...Z.permissions,[W]:X.target.checked}})}),W.replace(/([A-Z])/g," $1").replace(/^./,X=>X.toUpperCase()))))),r.createElement("div",{className:"form-actions"},r.createElement("button",{type:"button",onClick:()=>T(!1),className:"btn-secondary"},"Cancel"),r.createElement("button",{type:"submit",className:"btn-primary",disabled:e},e?r.createElement(fr,{className:"spinner"}):"Create Admin")))),r.createElement("style",{jsx:!0},`
        .platform-admin-dashboard {
          padding: 20px;
          max-width: 1200px;
          margin: 0 auto;
        }

        .dashboard-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 30px;
          padding-bottom: 20px;
          border-bottom: 2px solid #e0e0e0;
        }

        .dashboard-tabs {
          display: flex;
          gap: 10px;
          margin-bottom: 30px;
          border-bottom: 1px solid #e0e0e0;
        }

        .tab {
          padding: 12px 24px;
          border: none;
          background: none;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 8px;
          border-bottom: 3px solid transparent;
          transition: all 0.3s ease;
        }

        .tab.active {
          border-bottom-color: #007bff;
          color: #007bff;
        }

        .tab:hover {
          background: #f8f9fa;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 20px;
          margin-bottom: 30px;
        }

        .stat-card {
          background: white;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
          display: flex;
          align-items: center;
          gap: 15px;
        }

        .stat-icon {
          font-size: 2rem;
          color: #007bff;
        }

        .stat-content h3 {
          margin: 0;
          font-size: 2rem;
          color: #333;
        }

        .stat-content p {
          margin: 5px 0 0 0;
          color: #666;
        }

        .quick-actions {
          background: white;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .action-buttons {
          display: flex;
          gap: 15px;
          flex-wrap: wrap;
        }

        .section-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
        }

        .leagues-grid,
        .operators-grid,
        .admins-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
          gap: 20px;
        }

        .league-card,
        .operator-card,
        .admin-card {
          background: white;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .league-header,
        .operator-header,
        .admin-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 15px;
        }

        .status-badge,
        .role-badge {
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 0.8rem;
          font-weight: 500;
        }

        .status-badge.active { background: #d4edda; color: #155724; }
        .status-badge.trial { background: #fff3cd; color: #856404; }
        .status-badge.expired { background: #f8d7da; color: #721c24; }

        .role-badge.admin { background: #cce5ff; color: #004085; }
        .role-badge.support { background: #d1ecf1; color: #0c5460; }

        .league-details,
        .operator-details,
        .admin-details {
          margin-bottom: 15px;
        }

        .league-details p,
        .operator-details p,
        .admin-details p {
          margin: 5px 0;
          font-size: 0.9rem;
        }

        .league-actions,
        .operator-actions,
        .admin-actions {
          display: flex;
          gap: 10px;
          flex-wrap: wrap;
        }

        .btn-primary,
        .btn-secondary,
        .btn-small {
          padding: 10px 20px;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 0.9rem;
          transition: all 0.3s ease;
        }

        .btn-primary {
          background: #007bff;
          color: white;
        }

        .btn-primary:hover:not(:disabled) {
          background: #0056b3;
        }

        .btn-secondary {
          background: #6c757d;
          color: white;
        }

        .btn-secondary:hover:not(:disabled) {
          background: #545b62;
        }

        .btn-small {
          padding: 6px 12px;
          font-size: 0.8rem;
        }

        .btn-danger {
          background: #dc3545;
          color: white;
        }

        .btn-danger:hover {
          background: #c82333;
        }

        .btn-primary:disabled,
        .btn-secondary:disabled {
          background: #ccc;
          cursor: not-allowed;
        }

        .form-group {
          margin-bottom: 15px;
        }

        .form-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 15px;
        }

        .form-group label {
          display: block;
          margin-bottom: 5px;
          font-weight: 500;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
          width: 100%;
          padding: 10px;
          border: 1px solid #ddd;
          border-radius: 4px;
          font-size: 14px;
        }

        .permissions-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 10px;
        }

        .permission-checkbox {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 0.9rem;
        }

        .form-actions {
          display: flex;
          gap: 15px;
          justify-content: flex-end;
          margin-top: 20px;
          padding-top: 20px;
          border-top: 1px solid #e0e0e0;
        }

        .error-message,
        .success-message {
          padding: 10px;
          margin-bottom: 20px;
          border-radius: 4px;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .error-message {
          background: #fee;
          color: #c33;
          border: 1px solid #fcc;
        }

        .success-message {
          background: #efe;
          color: #363;
          border: 1px solid #cfc;
        }

        .spinner {
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
          .dashboard-header {
            flex-direction: column;
            gap: 15px;
            align-items: stretch;
          }

          .dashboard-tabs {
            flex-wrap: wrap;
          }

          .tab {
            flex: 1;
            min-width: 120px;
          }

          .stats-grid {
            grid-template-columns: 1fr;
          }

          .leagues-grid,
          .operators-grid,
          .admins-grid {
            grid-template-columns: 1fr;
          }

          .action-buttons {
            flex-direction: column;
          }

          .form-row {
            grid-template-columns: 1fr;
          }

          .permissions-grid {
            grid-template-columns: 1fr;
          }
        }
      `))}const oU="_simplePoolGame_1kwr6_1",lU="_tableContainer_1kwr6_11",cU="_tableCanvas_1kwr6_22",dU="_aimingInstructions_1kwr6_35",uU="_instructions_1kwr6_47",mU="_controls_1kwr6_52",pU="_shootButton_1kwr6_70",fU="_buttonRow_1kwr6_105",hU="_resetAimButton_1kwr6_111",gU="_powerControl_1kwr6_145",yU="_gameInfo_1kwr6_274",bU="_resetButton_1kwr6_291",vU="_pushOutModal_1kwr6_710",xU="_pushOutContent_1kwr6_723",EU="_pushOutButtons_1kwr6_762",wU="_acceptButton_1kwr6_768",SU="_declineButton_1kwr6_769",an={simplePoolGame:oU,tableContainer:lU,tableCanvas:cU,aimingInstructions:dU,instructions:uU,controls:mU,shootButton:pU,buttonRow:fU,resetAimButton:hU,powerControl:gU,gameInfo:yU,resetButton:bU,pushOutModal:vU,pushOutContent:xU,pushOutButtons:EU,acceptButton:wU,declineButton:SU},xo={BREAK:"break",PLAY:"play"};function ao(t){return t===xo.BREAK}function kg(t){return t===xo.PLAY}function CU(t,a){return t===xo.BREAK&&a?xo.PLAY:t}function _U(t,a){return t===xo.BREAK&&a}function Tx(t,a){return t===xo.PLAY&&a}const IU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIHllbGxvdyAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGwxTWFpbiIgY3g9IjMwJSIgY3k9IjMwJSIgcj0iNzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMjUlIiBzdG9wLWNvbG9yPSIjZmZlYjNiIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZkZDgzNSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI3NSUiIHN0b3AtY29sb3I9IiNmNTdmMTciLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2U2NTEwMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBIaWdobGlnaHQgZm9yIGRlcHRoIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDFIaWdobGlnaHQiIGN4PSIyNSUiIGN5PSIyNSUiIHI9IjQ1JSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmOWM0IiBzdG9wLW9wYWNpdHk9IjAuOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiIHN0b3Atb3BhY2l0eT0iMC41Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsMVNwZWN1bGFyIiBjeD0iNDAlIiBjeT0iNDAlIiByPSIyMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMC44Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTaGFkb3cgZ3JhZGllbnQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsMVNoYWRvdyIgY3g9IjcwJSIgY3k9IjcwJSIgcj0iMzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4zIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogIDwvZGVmcz4NCiAgDQogIDwhLS0gTWFpbiBiYWxsIC0tPg0KICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsMU1haW4pIiBzdHJva2U9IiNlNjUxMDAiIHN0cm9rZS13aWR0aD0iMC41Ii8+DQogIA0KICA8IS0tIFByaW1hcnkgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI1IiBmaWxsPSJ1cmwoI2JhbGwxSGlnaGxpZ2h0KSIvPg0KICANCiAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjE0IiBjeT0iMTQiIHI9IjIuNSIgZmlsbD0idXJsKCNiYWxsMVNwZWN1bGFyKSIvPg0KICANCiAgPCEtLSBOdW1iZXIgMSAtIG11Y2ggbGFyZ2VyIGFuZCBtb3JlIHZpc2libGUgLS0+DQogIDx0ZXh0IHg9IjE2IiB5PSIyMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iIzAwMDAwMCI+MTwvdGV4dD4NCiAgDQogIDwhLS0gU3VidGxlIHNoYWRvdyBmb3IgZGVwdGggLS0+DQogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGwxU2hhZG93KSIvPg0KPC9zdmc+IA==",kU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIGJsdWUgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsMk1haW4iIGN4PSIzMCUiIGN5PSIzMCUiIHI9IjcwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjOTBjYWY5Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjI1JSIgc3RvcC1jb2xvcj0iIzQyYTVmNSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiMyMTk2ZjMiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNzUlIiBzdG9wLWNvbG9yPSIjMTk3NmQyIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwZDQ3YTEiLz4NCiAgICA8L3JhZGlhbEdyYWRpZW50Pg0KICAgIA0KICAgIDwhLS0gSGlnaGxpZ2h0IGZvciBkZXB0aCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGwySGlnaGxpZ2h0IiBjeD0iMjUlIiBjeT0iMjUlIiByPSI0NSUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2JiZGVmYiIgc3RvcC1vcGFjaXR5PSIwLjkiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjOTBjYWY5IiBzdG9wLW9wYWNpdHk9IjAuNSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjOTBjYWY5IiBzdG9wLW9wYWNpdHk9IjAiLz4NCiAgICA8L3JhZGlhbEdyYWRpZW50Pg0KICAgIA0KICAgIDwhLS0gU3BlY3VsYXIgaGlnaGxpZ2h0IC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDJTcGVjdWxhciIgY3g9IjQwJSIgY3k9IjQwJSIgcj0iMjAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjZmZmZmZmIiBzdG9wLW9wYWNpdHk9IjAuOCIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjZmZmZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz4NCiAgICA8L3JhZGlhbEdyYWRpZW50Pg0KICAgIA0KICAgIDwhLS0gU2hhZG93IGdyYWRpZW50IC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDJTaGFkb3ciIGN4PSI3MCUiIGN5PSI3MCUiIHI9IjMwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjMDAwMDAwIiBzdG9wLW9wYWNpdHk9IjAuMyIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjMDAwMDAwIiBzdG9wLW9wYWNpdHk9IjAiLz4NCiAgICA8L3JhZGlhbEdyYWRpZW50Pg0KICA8L2RlZnM+DQogIA0KICA8IS0tIE1haW4gYmFsbCAtLT4NCiAgPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTUiIGZpbGw9InVybCgjYmFsbDJNYWluKSIgc3Ryb2tlPSIjMGQ0N2ExIiBzdHJva2Utd2lkdGg9IjAuNSIvPg0KICANCiAgPCEtLSBQcmltYXJ5IGhpZ2hsaWdodCAtLT4NCiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iNSIgZmlsbD0idXJsKCNiYWxsMkhpZ2hsaWdodCkiLz4NCiAgDQogIDwhLS0gU3BlY3VsYXIgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxNCIgY3k9IjE0IiByPSIyLjUiIGZpbGw9InVybCgjYmFsbDJTcGVjdWxhcikiLz4NCiAgDQogIDwhLS0gTnVtYmVyIDIgLSBtdWNoIGxhcmdlciBhbmQgbW9yZSB2aXNpYmxlIC0tPg0KICA8dGV4dCB4PSIxNiIgeT0iMjIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IiNmZmZmZmYiPjI8L3RleHQ+DQogIA0KICA8IS0tIFN1YnRsZSBzaGFkb3cgZm9yIGRlcHRoIC0tPg0KICA8Y2lyY2xlIGN4PSIxOCIgY3k9IjE4IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsMlNoYWRvdykiLz4NCjwvc3ZnPiA=",NU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIHJlZCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGwzTWFpbiIgY3g9IjMwJSIgY3k9IjMwJSIgcj0iNzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmZmNkZDIiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMjUlIiBzdG9wLWNvbG9yPSIjZjQ0MzM2Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2QzMmYyZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI3NSUiIHN0b3AtY29sb3I9IiNiNzFjMWMiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzhlMDAwMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBIaWdobGlnaHQgZm9yIGRlcHRoIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDNIaWdobGlnaHQiIGN4PSIyNSUiIGN5PSIyNSUiIHI9IjQ1JSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZlYmVlIiBzdG9wLW9wYWNpdHk9IjAuOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmNkZDIiIHN0b3Atb3BhY2l0eT0iMC41Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmNkZDIiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsM1NwZWN1bGFyIiBjeD0iNDAlIiBjeT0iNDAlIiByPSIyMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMC44Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTaGFkb3cgZ3JhZGllbnQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsM1NoYWRvdyIgY3g9IjcwJSIgY3k9IjcwJSIgcj0iMzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4zIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogIDwvZGVmcz4NCiAgDQogIDwhLS0gTWFpbiBiYWxsIC0tPg0KICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsM01haW4pIiBzdHJva2U9IiM4ZTAwMDAiIHN0cm9rZS13aWR0aD0iMC41Ii8+DQogIA0KICA8IS0tIFByaW1hcnkgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI1IiBmaWxsPSJ1cmwoI2JhbGwzSGlnaGxpZ2h0KSIvPg0KICANCiAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjE0IiBjeT0iMTQiIHI9IjIuNSIgZmlsbD0idXJsKCNiYWxsM1NwZWN1bGFyKSIvPg0KICANCiAgPCEtLSBOdW1iZXIgMyAtIG11Y2ggbGFyZ2VyIGFuZCBtb3JlIHZpc2libGUgLS0+DQogIDx0ZXh0IHg9IjE2IiB5PSIyMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iI2ZmZmZmZiI+MzwvdGV4dD4NCiAgDQogIDwhLS0gU3VidGxlIHNoYWRvdyBmb3IgZGVwdGggLS0+DQogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGwzU2hhZG93KSIvPg0KPC9zdmc+IA==",AU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIHB1cnBsZSAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw0TWFpbiIgY3g9IjMwJSIgY3k9IjMwJSIgcj0iNzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNlMWJlZTciLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMjUlIiBzdG9wLWNvbG9yPSIjYWI0N2JjIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iIzljMjdiMCIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI3NSUiIHN0b3AtY29sb3I9IiM3YjFmYTIiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzRhMTQ4YyIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBIaWdobGlnaHQgZm9yIGRlcHRoIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDRIaWdobGlnaHQiIGN4PSIyNSUiIGN5PSIyNSUiIHI9IjQ1JSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZjNlNWY1IiBzdG9wLW9wYWNpdHk9IjAuOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNlMWJlZTciIHN0b3Atb3BhY2l0eT0iMC41Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNlMWJlZTciIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsNFNwZWN1bGFyIiBjeD0iNDAlIiBjeT0iNDAlIiByPSIyMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMC44Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTaGFkb3cgZ3JhZGllbnQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsNFNoYWRvdyIgY3g9IjcwJSIgY3k9IjcwJSIgcj0iMzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4zIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogIDwvZGVmcz4NCiAgDQogIDwhLS0gTWFpbiBiYWxsIC0tPg0KICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsNE1haW4pIiBzdHJva2U9IiM0YTE0OGMiIHN0cm9rZS13aWR0aD0iMC41Ii8+DQogIA0KICA8IS0tIFByaW1hcnkgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI1IiBmaWxsPSJ1cmwoI2JhbGw0SGlnaGxpZ2h0KSIvPg0KICANCiAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjE0IiBjeT0iMTQiIHI9IjIuNSIgZmlsbD0idXJsKCNiYWxsNFNwZWN1bGFyKSIvPg0KICANCiAgPCEtLSBOdW1iZXIgNCAtIG11Y2ggbGFyZ2VyIGFuZCBtb3JlIHZpc2libGUgLS0+DQogIDx0ZXh0IHg9IjE2IiB5PSIyMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iI2ZmZmZmZiI+NDwvdGV4dD4NCiAgDQogIDwhLS0gU3VidGxlIHNoYWRvdyBmb3IgZGVwdGggLS0+DQogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGw0U2hhZG93KSIvPg0KPC9zdmc+IA==",DU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIG9yYW5nZSAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw1TWFpbiIgY3g9IjMwJSIgY3k9IjMwJSIgcj0iNzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmZmUwYjIiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMjUlIiBzdG9wLWNvbG9yPSIjZmY5ODAwIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2Y1N2MwMCIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI3NSUiIHN0b3AtY29sb3I9IiNlZjZjMDAiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2U2NTEwMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBIaWdobGlnaHQgZm9yIGRlcHRoIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDVIaWdobGlnaHQiIGN4PSIyNSUiIGN5PSIyNSUiIHI9IjQ1JSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmM2UwIiBzdG9wLW9wYWNpdHk9IjAuOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmUwYjIiIHN0b3Atb3BhY2l0eT0iMC41Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmUwYjIiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsNVNwZWN1bGFyIiBjeD0iNDAlIiBjeT0iNDAlIiByPSIyMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMC44Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTaGFkb3cgZ3JhZGllbnQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsNVNoYWRvdyIgY3g9IjcwJSIgY3k9IjcwJSIgcj0iMzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4zIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogIDwvZGVmcz4NCiAgDQogIDwhLS0gTWFpbiBiYWxsIC0tPg0KICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsNU1haW4pIiBzdHJva2U9IiNlNjUxMDAiIHN0cm9rZS13aWR0aD0iMC41Ii8+DQogIA0KICA8IS0tIFByaW1hcnkgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI1IiBmaWxsPSJ1cmwoI2JhbGw1SGlnaGxpZ2h0KSIvPg0KICANCiAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjE0IiBjeT0iMTQiIHI9IjIuNSIgZmlsbD0idXJsKCNiYWxsNVNwZWN1bGFyKSIvPg0KICANCiAgPCEtLSBOdW1iZXIgNSAtIG11Y2ggbGFyZ2VyIGFuZCBtb3JlIHZpc2libGUgLS0+DQogIDx0ZXh0IHg9IjE2IiB5PSIyMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iIzAwMDAwMCI+NTwvdGV4dD4NCiAgDQogIDwhLS0gU3VidGxlIHNoYWRvdyBmb3IgZGVwdGggLS0+DQogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGw1U2hhZG93KSIvPg0KPC9zdmc+IA==",MU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIGdyZWVuIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDZNYWluIiBjeD0iMzAlIiBjeT0iMzAlIiByPSI3MCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2M4ZTZjOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIyNSUiIHN0b3AtY29sb3I9IiM2NmJiNmEiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjNGNhZjUwIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9Ijc1JSIgc3RvcC1jb2xvcj0iIzM4OGUzYyIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjMWI1ZTIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIEhpZ2hsaWdodCBmb3IgZGVwdGggLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsNkhpZ2hsaWdodCIgY3g9IjI1JSIgY3k9IjI1JSIgcj0iNDUlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNlOGY1ZTgiIHN0b3Atb3BhY2l0eT0iMC45Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2M4ZTZjOSIgc3RvcC1vcGFjaXR5PSIwLjUiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2M4ZTZjOSIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw2U3BlY3VsYXIiIGN4PSI0MCUiIGN5PSI0MCUiIHI9IjIwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmZmZmIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwLjgiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNoYWRvdyBncmFkaWVudCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw2U2hhZG93IiBjeD0iNzAlIiBjeT0iNzAlIiByPSIzMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjMiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgPC9kZWZzPg0KICANCiAgPCEtLSBNYWluIGJhbGwgLS0+DQogIDxjaXJjbGUgY3g9IjE2IiBjeT0iMTYiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGw2TWFpbikiIHN0cm9rZT0iIzFiNWUyMCIgc3Ryb2tlLXdpZHRoPSIwLjUiLz4NCiAgDQogIDwhLS0gUHJpbWFyeSBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjUiIGZpbGw9InVybCgjYmFsbDZIaWdobGlnaHQpIi8+DQogIA0KICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgPGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMi41IiBmaWxsPSJ1cmwoI2JhbGw2U3BlY3VsYXIpIi8+DQogIA0KICA8IS0tIE51bWJlciA2IC0gbXVjaCBsYXJnZXIgYW5kIG1vcmUgdmlzaWJsZSAtLT4NCiAgPHRleHQgeD0iMTYiIHk9IjIyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjZmZmZmZmIj42PC90ZXh0Pg0KICANCiAgPCEtLSBTdWJ0bGUgc2hhZG93IGZvciBkZXB0aCAtLT4NCiAgPGNpcmNsZSBjeD0iMTgiIGN5PSIxOCIgcj0iMTUiIGZpbGw9InVybCgjYmFsbDZTaGFkb3cpIi8+DQo8L3N2Zz4g",TU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIGJyb3duIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDdNYWluIiBjeD0iMzAlIiBjeT0iMzAlIiByPSI3MCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2Q3Y2NjOCIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIyNSUiIHN0b3AtY29sb3I9IiNhMTg4N2YiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjOGQ2ZTYzIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9Ijc1JSIgc3RvcC1jb2xvcj0iIzZkNGM0MSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjM2UyNzIzIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIEhpZ2hsaWdodCBmb3IgZGVwdGggLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsN0hpZ2hsaWdodCIgY3g9IjI1JSIgY3k9IjI1JSIgcj0iNDUlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNlZmViZTkiIHN0b3Atb3BhY2l0eT0iMC45Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2Q3Y2NjOCIgc3RvcC1vcGFjaXR5PSIwLjUiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2Q3Y2NjOCIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw3U3BlY3VsYXIiIGN4PSI0MCUiIGN5PSI0MCUiIHI9IjIwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmZmZmIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwLjgiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNoYWRvdyBncmFkaWVudCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw3U2hhZG93IiBjeD0iNzAlIiBjeT0iNzAlIiByPSIzMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjMiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgPC9kZWZzPg0KICANCiAgPCEtLSBNYWluIGJhbGwgLS0+DQogIDxjaXJjbGUgY3g9IjE2IiBjeT0iMTYiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGw3TWFpbikiIHN0cm9rZT0iIzNlMjcyMyIgc3Ryb2tlLXdpZHRoPSIwLjUiLz4NCiAgDQogIDwhLS0gUHJpbWFyeSBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjUiIGZpbGw9InVybCgjYmFsbDdIaWdobGlnaHQpIi8+DQogIA0KICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgPGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMi41IiBmaWxsPSJ1cmwoI2JhbGw3U3BlY3VsYXIpIi8+DQogIA0KICA8IS0tIE51bWJlciA3IC0gbXVjaCBsYXJnZXIgYW5kIG1vcmUgdmlzaWJsZSAtLT4NCiAgPHRleHQgeD0iMTYiIHk9IjIyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjZmZmZmZmIj43PC90ZXh0Pg0KICANCiAgPCEtLSBTdWJ0bGUgc2hhZG93IGZvciBkZXB0aCAtLT4NCiAgPGNpcmNsZSBjeD0iMTgiIGN5PSIxOCIgcj0iMTUiIGZpbGw9InVybCgjYmFsbDdTaGFkb3cpIi8+DQo8L3N2Zz4g",RU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIGJsYWNrIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDhNYWluIiBjeD0iMzAlIiBjeT0iMzAlIiByPSI3MCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzQyNDI0MiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIyNSUiIHN0b3AtY29sb3I9IiMyMTIxMjEiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjMDAwMDAwIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9Ijc1JSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjMDAwMDAwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIEhpZ2hsaWdodCBmb3IgZGVwdGggLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsOEhpZ2hsaWdodCIgY3g9IjI1JSIgY3k9IjI1JSIgcj0iNDUlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM3NTc1NzUiIHN0b3Atb3BhY2l0eT0iMC45Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iIzQyNDI0MiIgc3RvcC1vcGFjaXR5PSIwLjUiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzQyNDI0MiIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw4U3BlY3VsYXIiIGN4PSI0MCUiIGN5PSI0MCUiIHI9IjIwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmZmZmIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwLjgiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgICANCiAgICA8IS0tIFNoYWRvdyBncmFkaWVudCAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw4U2hhZG93IiBjeD0iNzAlIiBjeT0iNzAlIiByPSIzMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjMiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgPC9yYWRpYWxHcmFkaWVudD4NCiAgPC9kZWZzPg0KICANCiAgPCEtLSBNYWluIGJhbGwgLS0+DQogIDxjaXJjbGUgY3g9IjE2IiBjeT0iMTYiIHI9IjE1IiBmaWxsPSJ1cmwoI2JhbGw4TWFpbikiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIwLjUiLz4NCiAgDQogIDwhLS0gUHJpbWFyeSBoaWdobGlnaHQgLS0+DQogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjUiIGZpbGw9InVybCgjYmFsbDhIaWdobGlnaHQpIi8+DQogIA0KICA8IS0tIFNwZWN1bGFyIGhpZ2hsaWdodCAtLT4NCiAgPGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMi41IiBmaWxsPSJ1cmwoI2JhbGw4U3BlY3VsYXIpIi8+DQogIA0KICA8IS0tIE51bWJlciA4IC0gbXVjaCBsYXJnZXIgYW5kIG1vcmUgdmlzaWJsZSAtLT4NCiAgPHRleHQgeD0iMTYiIHk9IjIyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjZmZmZmZmIj44PC90ZXh0Pg0KICANCiAgPCEtLSBTdWJ0bGUgc2hhZG93IGZvciBkZXB0aCAtLT4NCiAgPGNpcmNsZSBjeD0iMTgiIGN5PSIxOCIgcj0iMTUiIGZpbGw9InVybCgjYmFsbDhTaGFkb3cpIi8+DQo8L3N2Zz4g",PU="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDwhLS0gTWFpbiBiYWxsIGdyYWRpZW50IHdpdGggcmVhbGlzdGljIHllbGxvdyAtLT4NCiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImJhbGw5TWFpbiIgY3g9IjMwJSIgY3k9IjMwJSIgcj0iNzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMjUlIiBzdG9wLWNvbG9yPSIjZmZlYjNiIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI2ZkZDgzNSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI3NSUiIHN0b3AtY29sb3I9IiNmNTdmMTciLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2U2NTEwMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBIaWdobGlnaHQgZm9yIGRlcHRoIC0tPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iYmFsbDlIaWdobGlnaHQiIGN4PSIyNSUiIGN5PSIyNSUiIHI9IjQ1JSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmZmOWM0IiBzdG9wLW9wYWNpdHk9IjAuOSIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiIHN0b3Atb3BhY2l0eT0iMC41Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmY1OWQiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTcGVjdWxhciBoaWdobGlnaHQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsOVNwZWN1bGFyIiBjeD0iNDAlIiBjeT0iNDAlIiByPSIyMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMC44Ii8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBTaGFkb3cgZ3JhZGllbnQgLS0+DQogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJiYWxsOVNoYWRvdyIgY3g9IjcwJSIgY3k9IjcwJSIgcj0iMzAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4zIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMCIvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogICAgDQogICAgPCEtLSBXaGl0ZSBzdHJpcGUgZ3JhZGllbnQgLS0+DQogICAgPGxpbmVhckdyYWRpZW50IGlkPSJiYWxsOVN0cmlwZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmOGY4ZjgiLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIvPg0KICAgIDwvbGluZWFyR3JhZGllbnQ+DQogIDwvZGVmcz4NCiAgDQogIDwhLS0gTWFpbiBiYWxsIC0tPg0KICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsOU1haW4pIiBzdHJva2U9IiNlNjUxMDAiIHN0cm9rZS13aWR0aD0iMC41Ii8+DQogIA0KICA8IS0tIFJlYWxpc3RpYyBjdXJ2ZWQgd2hpdGUgc3RyaXBlIC0tPg0KICA8cGF0aCBkPSJNIDQgOCBBIDggOCAwIDAgMSAxMiA4IEwgMTIgMjQgQSA4IDggMCAwIDEgNCAyNCBaIiBmaWxsPSJ1cmwoI2JhbGw5U3RyaXBlKSIvPg0KICANCiAgPCEtLSBQcmltYXJ5IGhpZ2hsaWdodCAtLT4NCiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iNSIgZmlsbD0idXJsKCNiYWxsOUhpZ2hsaWdodCkiLz4NCiAgDQogIDwhLS0gU3BlY3VsYXIgaGlnaGxpZ2h0IC0tPg0KICA8Y2lyY2xlIGN4PSIxNCIgY3k9IjE0IiByPSIyLjUiIGZpbGw9InVybCgjYmFsbDlTcGVjdWxhcikiLz4NCiAgDQogIDwhLS0gTnVtYmVyIDkgLSBtdWNoIGxhcmdlciBhbmQgbW9yZSB2aXNpYmxlIC0tPg0KICA8dGV4dCB4PSIxNiIgeT0iMjIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IiMwMDAwMDAiPjk8L3RleHQ+DQogIA0KICA8IS0tIFN1YnRsZSBzaGFkb3cgZm9yIGRlcHRoIC0tPg0KICA8Y2lyY2xlIGN4PSIxOCIgY3k9IjE4IiByPSIxNSIgZmlsbD0idXJsKCNiYWxsOVNoYWRvdykiLz4NCjwvc3ZnPiA=",Vt=600,bn=300,rt=15,ot=rt/2,cr=1.3,ol=.9,Yc=30,Ng=160,qc=24.5,Ag=270.18,Rx=Vt*.75,Px=bn/2,Dg=ot*.1,Lx=.7,Bx=.45,Ox=.05,em=.99,Ci=.75,_i=.75,dr=.95,Ii=.3,LU=.8,kn=(...t)=>{},f0=({onGameEnd:t})=>{const a=v.useRef(null),[e,n]=v.useState({balls:[],cueBall:{x:100,y:150,originalX:100,originalY:150,vx:0,vy:0,visible:!0,isMoving:!1,rotation:0,rotationSpeed:0,spinX:0,spinY:0},isAnimating:!1,currentPlayer:1,gamePhase:xo.BREAK,ballInHand:!1,scratchOccurred:!1}),[i,l]=v.useState(!1),[c,u]=v.useState({x:0,y:0}),[m,h]=v.useState(0),[f,y]=v.useState(.5),[b,w]=v.useState(0),[E,_]=v.useState(0),[S,C]=v.useState(!0),[I,N]=v.useState(null),[k,M]=v.useState(null),[T,q]=v.useState(null),[z,G]=v.useState(!1),[K,ie]=v.useState(!1),[H,Z]=v.useState(0),[O,R]=v.useState(!1),[A,F]=v.useState(null),[Q,V]=v.useState(null),[P,j]=v.useState(!1),[J,W]=v.useState(!1),[re,X]=v.useState(!1),[me,Ce]=v.useState(!1),[Se,st]=v.useState(!1),[ye,Ze]=v.useState(!1),[qe,ct]=v.useState(null),[Qe,Rt]=v.useState(!1),[pn,Pt]=v.useState({1:0,2:0}),[rn,Gn]=v.useState(null),[tn,ue]=v.useState(null),[Ke,Ye]=v.useState(!1),[wt,te]=v.useState(null),[Pe,He]=v.useState(!1),[Ae,et]=v.useState(!1),[dt,Jt]=v.useState(!1),[Zn,Hn]=v.useState(!1),[An,jn]=v.useState(null),[ka,Xe]=v.useState(0),[ut,nn]=v.useState([]),[Na,En]=v.useState(!1),La=v.useRef(null),Vn={cue:XE,1:IU,2:kU,3:NU,4:AU,5:DU,6:MU,7:TU,8:RU,9:PU,10:Ap},ca=v.useRef({}),Aa=v.useRef(null),Ba=v.useRef(null),zn=[{x:30,y:24.5,id:"top-left"},{x:570.77,y:24.5,id:"top-right"},{x:30,y:270.18,id:"bottom-left"},{x:570.77,y:270.18,id:"bottom-right"},{x:300.385,y:24.5,id:"top-center"},{x:300.385,y:270.18,id:"bottom-center"}],$s=v.useCallback(ne=>{if(!J)return;const L=a.current.getBoundingClientRect(),fe=L.width/Vt,be=(ne.clientX-L.left)/fe,we=(ne.clientY-L.top)/fe,Me=e.balls.find(Be=>Be.visible&&!Be.pocketed&&Math.sqrt((Be.x-be)**2+(Be.y-we)**2)<ot*1.5);if(Me){F(Me.id);return}const De=zn.find(Be=>Math.sqrt((Be.x-be)**2+(Be.y-we)**2)<60);if(De){V(De.id);return}},[J,e.balls,zn]),Co=v.useCallback((ne,L)=>{const Be=[{x:30,y:24.5,id:"top-left"},{x:570.77,y:24.5,id:"top-right"},{x:30,y:270.18,id:"bottom-left"},{x:570.77,y:270.18,id:"bottom-right"},{x:300.385,y:24.5,id:"top-center"},{x:300.385,y:270.18,id:"bottom-center"}];let mt=null,$e=1/0;return Be.forEach(pt=>{const Je=Math.hypot(ne-pt.x,L-pt.y);Je<$e&&($e=Je,mt=pt)}),mt?mt.id:null},[]),ya=v.useCallback(ne=>{const De=[{x:30,y:24.5,margin:rt*cr,type:"corner"},{x:570.77,y:24.5,margin:rt*cr,type:"corner"},{x:30,y:270.18,margin:rt*cr,type:"corner"},{x:570.77,y:270.18,margin:rt*cr,type:"corner"},{x:300.385,y:24.5,margin:rt*ol,type:"side"},{x:300.385,y:270.18,margin:rt*ol,type:"side"}],Be=ne.x,mt=ne.y,$e=ne.vx??0,pt=ne.vy??0,Je=Math.hypot($e,pt);return De.some(Te=>{const pe=Te.x-Be,Ne=Te.y-mt,Le=Math.hypot(pe,Ne);if(Le>=Te.margin+Dg)return!1;if(Je>0){const Ue=($e*pe+pt*Ne)/(Je*(Le||1)),kt=Te.type==="side"?Lx:Bx,Lt=($e*pe+pt*Ne)/(Le||1);if(Ue<kt||Lt<Ox)return!1}return!0})},[]),Kt=v.useCallback((ne,L)=>ne>=Yc&&ne<=Ng&&L>=qc&&L<=Ag,[]);v.useCallback(()=>{n(ne=>({...ne,scratchOccurred:!0,ballInHand:!0,currentPlayer:ne.currentPlayer===1?2:1,cueBall:{...ne.cueBall,x:100,y:150,vx:0,vy:0,visible:!0,isMoving:!1,rotation:0,rotationSpeed:0}}))},[]);const wn=v.useCallback(()=>{const ne=e.balls.filter(fe=>fe.visible&&!fe.pocketed);if(kn("Visible balls on table:",ne.map(fe=>fe.id).sort((fe,be)=>fe-be)),ne.length===0)return null;const L=ne.reduce((fe,be)=>be.id<fe.id?be:fe);return kn("Lowest numbered ball:",L.id),L},[e.balls]),Ka=v.useCallback(()=>{if(re)return null;const ne=wt||wn();let L=null;if(e.cueBall.visible||(L="scratch"),e.gamePhase==="break"){tn&&tn!==1&&(L="break_wrong_ball_first");const fe=e.balls.filter(we=>we.pocketed&&!we.wasPocketedBeforeShot),be=ka;fe.length===0&&be<4&&(L="break_insufficient_cushions")}return!L&&tn&&ne&&tn!==ne.id&&(kn("Wrong ball first foul - Hit:",tn,"Lowest:",ne.id),kn("Visible balls on table:",e.balls.filter(fe=>fe.visible&&!fe.pocketed).map(fe=>fe.id).sort((fe,be)=>fe-be)),L="wrong_ball_first"),!L&&!Ae&&!re&&e.gamePhase!=="break"&&(L="no_contact"),!L&&Ae&&!Ke&&e.balls.filter(be=>be.pocketed&&!be.wasPocketedBeforeShot).length===0&&(L="no_rail_contact"),kn("Current lowest ball:",ne?ne.id:"none"),L},[re,tn,Ke,Ae,wn,e.balls,wt,e.cueBall.visible,e.gamePhase,ka]),Gs=v.useCallback(()=>{if(e.gamePhase==="break"||re)return[];const ne=e.balls.filter(fe=>fe.pocketed&&!fe.wasPocketedBeforeShot);if(ne.length===0)return[];const L=[];return ne.forEach(fe=>{if(fe.id===A)fe.pocketedPocket!==Q&&(kn("Illegally pocketed ball:",fe.id,"- called ball went in wrong pocket"),L.push(fe));else{const be=ne.find(we=>we.id===A);(!be||be.pocketedPocket!==Q)&&(kn("Illegally pocketed ball:",fe.id,"- not called ball and called ball not legally pocketed"),L.push(fe))}}),L},[e.gamePhase,re,A,Q,e.balls]),Zs=v.useCallback(ne=>{const L=An||e.currentPlayer;window.dispatchEvent(new CustomEvent("gameFoul",{detail:{foulType:ne,player:L}})),ne==="scratch"?window.dispatchEvent(new CustomEvent("scratchFoul",{detail:{player:L}})):ne==="wrong_ball_first"?window.dispatchEvent(new CustomEvent("wrongBallFoul",{detail:{player:L}})):ne==="no_rail_contact"&&window.dispatchEvent(new CustomEvent("noRailFoul",{detail:{player:L}})),window.dispatchEvent(new CustomEvent("ballInHand",{detail:{player:L}})),Pt(fe=>{const be={...fe,[L]:fe[L]+1};return be[L]>=3&&(window.dispatchEvent(new CustomEvent("threeFoul",{detail:{player:L}})),alert(`Player ${L} loses due to 3 consecutive fouls!`)),be}),n(fe=>({...fe,ballInHand:!0,currentPlayer:fe.currentPlayer===1?2:1,scratchOccurred:ne==="scratch"})),ne==="scratch"&&n(fe=>({...fe,cueBall:{...fe.cueBall,visible:!0,x:100,y:150,vx:0,vy:0}})),Gn(ne)},[e.currentPlayer,An]),cs=v.useCallback((ne,L)=>{const fe=e.cueBall;return Math.hypot(ne-fe.x,L-fe.y)<=ot},[e.cueBall]),Vs=v.useCallback((ne,L)=>{(e.ballInHand||e.gamePhase==="break")&&cs(ne,L)&&(l(!0),u({x:ne-e.cueBall.x,y:L-e.cueBall.y}))},[e.ballInHand,e.gamePhase,e.cueBall,cs]),Pr=v.useCallback((ne,L)=>{if(i){const fe=ne-c.x,be=L-c.y;let we,Me;e.gamePhase==="break"?(we=Math.max(Yc+ot,Math.min(Ng-ot,fe)),Me=Math.max(qc+ot,Math.min(Ag-ot,be))):(we=Math.max(30+ot,Math.min(570.77-ot,fe)),Me=Math.max(24.5+ot,Math.min(270.18-ot,be))),n(De=>({...De,cueBall:{...De.cueBall,x:we,y:Me}}))}},[i,c,e.gamePhase]),ds=v.useCallback(()=>{i&&l(!1)},[i]);v.useCallback((ne,L)=>{Kt(ne,L)&&n(fe=>({...fe,cueBall:{...fe.cueBall,x:ne,y:L,vx:0,vy:0,visible:!0,isMoving:!1},ballInHand:!1}))},[Kt]),v.useCallback((ne,L)=>{let fe=null,be=1/0;return zn.forEach(we=>{const Me=Math.hypot(ne-we.x,L-we.y);Me<be&&(be=Me,fe=we)}),fe},[]);const Da=v.useCallback((ne,L,fe,be)=>{const we=ne-fe,Me=L-be,De=Math.sqrt(we*we+Me*Me);if(De<ot*2)return null;const Be=ne-we/De*(ot*2),mt=L-Me/De*(ot*2);return{x:Be,y:mt}},[]);function Lr(ne,L){return ne>=15&&ne<=30&&L>=bn-75&&L<=bn-60}function us(ne,L,fe,be,we){Tx(we,be)&&(ne.fillStyle="rgba(255, 215, 0, 0.2)",ne.fillRect(10,L-80,200,25),ne.strokeStyle="rgba(255, 215, 0, 0.5)",ne.lineWidth=1,ne.strokeRect(10,L-80,200,25),ne.fillStyle="rgba(255, 215, 0, 0.9)",ne.font="12px Arial",ne.textAlign="left",ne.fillText("Push Out Available",15,L-65),ne.fillStyle=fe?"rgba(255, 215, 0, 0.9)":"rgba(255, 255, 255, 0.3)",ne.fillRect(15,L-75,15,15),ne.strokeStyle="rgba(255, 215, 0, 0.8)",ne.lineWidth=2,ne.strokeRect(15,L-75,15,15),fe&&(ne.fillStyle="rgba(255, 215, 0, 0.9)",ne.font="bold 16px Arial",ne.textAlign="center",ne.fillText("",22,L-65)))}function xr(ne,L){ne.setLineDash([]),ne.beginPath(),ne.moveTo(L[0].x,L[0].y);for(let fe=1;fe<L.length;fe++){const be=L[fe];ne.lineTo(be.x,be.y)}ne.stroke()}function fn(ne){let L="rgba(255, 255, 255, 0.8)";z?L="rgba(0, 255, 0, 0.95)":K&&(L="rgba(255, 255, 0, 0.9)"),Math.abs(b)>.1&&(b>0?L="rgba(76, 175, 80, 0.9)":L="rgba(244, 67, 54, 0.9)"),ne.strokeStyle=L,ne.lineWidth=z?4:K?2:3,ne.setLineDash([]),ne.globalAlpha=.9}function Bi(ne){const L=Vt*.3,fe=Vt*.5*ne;return L+fe}function Oi(ne,L){let fe=ne-L;for(;fe>Math.PI;)fe-=Math.PI*2;for(;fe<-Math.PI;)fe+=Math.PI*2;return fe}const da=v.useCallback((ne,L)=>{const Be=[{x:30,y:24.5,id:"top-left"},{x:570.77,y:24.5,id:"top-right"},{x:30,y:270.18,id:"bottom-left"},{x:570.77,y:270.18,id:"bottom-right"},{x:300.385,y:24.5,id:"top-center"},{x:300.385,y:270.18,id:"bottom-center"}];let mt=null,$e=1/0;if(Be.forEach(pt=>{const Je=Math.hypot(ne-pt.x,L-pt.y);Je<$e&&($e=Je,mt=pt)}),mt&&$e<80){const pt=Math.max(0,(80-$e)/80),Je=ne+(mt.x-ne)*pt*.3,Te=L+(mt.y-L)*pt*.3;return{x:Je,y:Te,assisted:!0}}return{x:ne,y:L,assisted:!1}},[]),Er=v.useCallback((ne,L,fe=null,be={})=>{const{ignoreCuePocket:we=!0}=be,Me={},De=.99,Be=16,mt=30.77,$e=570.77,pt=24.5,Je=270.18,Te={1:"#ffff00",2:"#0000ff",3:"#ff0000",4:"#800080",5:"#ffa500",6:"#008000",7:"#8b4513",8:"#000000",9:"#ffff00",10:"#ff0000"};return(()=>{const Ne=new Map;e.balls.forEach(Ue=>{Ue.visible&&!Ue.pocketed&&Ne.set(Ue.id,{id:Ue.id,x:Ue.x,y:Ue.y,vx:0,vy:0,visible:!0,isMoving:!1,trajectory:[{x:Ue.x,y:Ue.y}]})});const Le=fe||e.cueBall;Ne.set("cue",{id:"cue",x:Le.x,y:Le.y,vx:ne,vy:L,visible:!0,isMoving:!0,trajectory:[{x:Le.x,y:Le.y}]});for(let Ue=0;Ue<300;Ue++){const kt=Array.from(Ne.values()).filter(Nt=>Nt.visible);for(let Nt=0;Nt<Be;Nt++)kt.forEach(We=>{if(Math.abs(We.vx)<.03&&Math.abs(We.vy)<.03){We.vx=0,We.vy=0;return}We.vx*=Math.pow(De,1/Be),We.vy*=Math.pow(De,1/Be);let Ut=We.x+We.vx/Be,Qt=We.y+We.vy/Be,Dn=!1;Ut<mt+ot?(We.x=mt+ot,We.vx=Math.abs(We.vx)*.85,Dn=!0):Ut>$e-ot?(We.x=$e-ot,We.vx=-Math.abs(We.vx)*.8,Dn=!0):We.x=Ut,Qt<pt+ot?(We.y=pt+ot,We.vy=Math.abs(We.vy)*.85,Dn=!0):Qt>Je-ot?(We.y=Je-ot,We.vy=-Math.abs(We.vy)*.8,Dn=!0):We.y=Qt;let va=!1;const hn=(mt+$e)/2,sn=[{x:mt,y:pt,margin:rt*cr},{x:$e,y:pt,margin:rt*cr},{x:mt,y:Je,margin:rt*cr},{x:$e,y:Je,margin:rt*cr},{x:hn,y:pt,margin:rt*ol},{x:hn,y:Je,margin:rt*ol}],Xn=We.x,aa=We.y,Jn=We.vx??0,er=We.vy??0,Mn=Math.hypot(Jn,er);let Sn=!1;if(we||(Sn=sn.some(xa=>{const za=xa.x-Xn,Cr=xa.y-aa,Tn=Math.hypot(za,Cr),_r=xa.margin+Dg;if(Tn>=_r)return!1;if(Mn>0){const Xs=(Jn*za+er*Cr)/(Mn*(Tn||1)),ys=xa.x===hn?Lx:Bx,ko=(Jn*za+er*Cr)/(Tn||1);if(Xs<ys||ko<Ox)return!1}return!0})),Sn&&!(we&&We.id==="cue")&&(va=!0),!va&&We.id!=="cue"){const xa=da(We.x,We.y);if(xa.assisted){const za=xa.x-We.x,Cr=xa.y-We.y;Math.sqrt(za*za+Cr*Cr)<5&&(va=!0)}}if(va){We.visible=!1,We.trajectory.push({x:We.x,y:We.y,pocketed:!0});return}We.isMoving&&Math.abs(We.vx)<.03&&Math.abs(We.vy)<.03&&(We.vx=0,We.vy=0,We.isMoving=!1),We.trajectory.push({x:We.x,y:We.y,bounced:Dn})});const Lt=Ne.get("cue");Lt&&Lt.visible&&Ne.forEach((Nt,We)=>{if(We!=="cue"&&Nt.visible){const Ut=Nt.x-Lt.x,Qt=Nt.y-Lt.y,Dn=Math.sqrt(Ut*Ut+Qt*Qt);if(Dn>0&&Dn<rt+.5){const va=rt-Dn+.01,hn=Ut/Dn,sn=Qt/Dn,Xn=Math.max(va/2,.1);Lt.x-=hn*Xn,Lt.y-=sn*Xn,Nt.x+=hn*Xn,Nt.y+=sn*Xn;const aa=Lt.vx-Nt.vx,Jn=Lt.vy-Nt.vy,Mn=-(aa*hn+Jn*sn)||.01;Lt.vx+=Mn*hn,Lt.vy+=Mn*sn,Nt.vx-=Mn*hn,Nt.vy-=Mn*sn,Lt.trajectory.length>0&&(Lt.trajectory[Lt.trajectory.length-1].collision=!0),Nt.trajectory.length>0&&(Nt.trajectory[Nt.trajectory.length-1].collision=!0)}}});const ba=Array.from(Ne.values()).filter(Nt=>Nt.id!=="cue"&&Nt.visible);for(let Nt=0;Nt<ba.length;Nt++)for(let We=Nt+1;We<ba.length;We++){const Ut=ba[Nt],Qt=ba[We],Dn=Qt.x-Ut.x,va=Qt.y-Ut.y,hn=Math.sqrt(Dn*Dn+va*va);if(hn>0&&hn<rt){const sn=rt-hn+.01,Xn=Dn/hn,aa=va/hn;Ut.x-=Xn*(sn/2),Ut.y-=aa*(sn/2),Qt.x+=Xn*(sn/2),Qt.y+=aa*(sn/2);const Jn=Ut.vx-Qt.vx,er=Ut.vy-Qt.vy,Sn=-(Jn*Xn+er*aa)||.01;Ut.vx+=Sn*Xn,Ut.vy+=Sn*aa,Qt.vx-=Sn*Xn,Qt.vy-=Sn*aa,Ut.isMoving=!0,Qt.isMoving=!0,Ut.trajectory.length>0&&(Ut.trajectory[Ut.trajectory.length-1].collision=!0),Qt.trajectory.length>0&&(Qt.trajectory[Qt.trajectory.length-1].collision=!0)}}if(kt.every(Nt=>Math.abs(Nt.vx)<.028&&Math.abs(Nt.vy)<.028))break}Ne.forEach((Ue,kt)=>{Ue.trajectory.length>1&&(Me[kt]={points:Ue.trajectory,color:Te[kt]||"#ffffff"})})})(),Me},[e.balls,e.cueBall,ya]),ms=v.useCallback((ne,L)=>{const fe=L.x-ne.x,be=L.y-ne.y,we=Math.sqrt(fe*fe+be*be);if(we===0||we>=rt)return!1;const Me=rt-we+.01,De=fe/we,Be=be/we;ne.x-=De*(Me/2),ne.y-=Be*(Me/2),L.x+=De*(Me/2),L.y+=Be*(Me/2);const mt=ne.vx-L.vx,$e=ne.vy-L.vy,Je=-(mt*De+$e*Be)||.01;ne.vx+=Je*De,ne.vy+=Je*Be,L.vx-=Je*De,L.vy-=Je*Be;const Te=LU,pe=ne.spinX||0,Ne=ne.spinY||0,Le=L.spinX||0,Ue=L.spinY||0,kt=(pe-Le)*Te*De,Lt=(Ne-Ue)*Te*Be;return ne.spinX=(pe-kt)*.9,ne.spinY=(Ne-Lt)*.9,L.spinX=(Le+kt)*.9,L.spinY=(Ue+Lt)*.9,ne.isMoving=!0,L.isMoving=!0,!0},[]),wr=v.useCallback(()=>{const ne=[],L=Vt*.75,fe=bn/2;function be(){return(Math.random()-.5)*1.5}const we=[{x:L,y:fe},{x:L+rt*.95,y:fe-rt*.48},{x:L+rt*.95,y:fe+rt*.48},{x:L+2*rt*.95,y:fe-rt*.95},{x:L+2*rt*.95,y:fe},{x:L+2*rt*.95,y:fe+rt*.95},{x:L+3*rt*.95,y:fe-rt*1.43},{x:L+3*rt*.95,y:fe-rt*.48},{x:L+3*rt*.95,y:fe+rt*.48},{x:L+3*rt*.95,y:fe+rt*1.43}],Me=[{x:L+3*rt*.95,y:fe-rt*1.43},{x:L+3*rt*.95,y:fe+rt*1.43}],Be=[2,3].sort(()=>Math.random()-.5),$e=[4,5,6,7,8,9].sort(()=>Math.random()-.5);return[1,10,...Be,...$e].forEach((Je,Te)=>{let pe;if(Te===0)pe=we[0];else if(Te===1)pe=we[4];else if(Te===2||Te===3){const Ne=Te-2;pe=Me[Ne]}else pe=[we[1],we[2],we[3],we[5],we[7],we[8]][Te-4];pe&&ne.push({id:Je,x:pe.x+be(),y:pe.y+be(),vx:0,vy:0,visible:!0,pocketed:!1,wasPocketedBeforeShot:!1,isMoving:!1,rotation:0,rotationSpeed:0,spinX:0,spinY:0})}),ne},[]),Qs=v.useCallback(()=>{function Me(){let De=[];for(let Te=0;Te<16;Te++){if(e.cueBall.visible){let pe=e.cueBall.x+e.cueBall.vx/16,Ne=e.cueBall.y+e.cueBall.vy/16;pe<30+ot?(e.cueBall.x=30+ot,e.cueBall.vx=Math.abs(e.cueBall.vx)*Ci*_i,e.cueBall.spinY*=dr,Ae&&Ye(!0)):pe>570.77-ot?(e.cueBall.x=570.77-ot,e.cueBall.vx=-Math.abs(e.cueBall.vx)*Ci*_i,e.cueBall.spinY*=dr,Ae&&Ye(!0)):e.cueBall.x=pe,Ne<24.5+ot?(e.cueBall.y=24.5+ot,e.cueBall.vy=Math.abs(e.cueBall.vy)*Ci*_i,e.cueBall.spinX*=dr,Ae&&Ye(!0)):Ne>270.18-ot?(e.cueBall.y=270.18-ot,e.cueBall.vy=-Math.abs(e.cueBall.vy)*Ci*_i,e.cueBall.spinX*=dr,Ae&&Ye(!0)):e.cueBall.y=Ne,e.cueBall.vx*=Math.pow(em,1/16),e.cueBall.vy*=Math.pow(em,1/16),e.cueBall.vx+=e.cueBall.spinX*Ii,e.cueBall.vy+=e.cueBall.spinY*Ii,e.cueBall.spinX*=Math.pow(dr,1/16),e.cueBall.spinY*=Math.pow(dr,1/16);const Le=Math.sqrt(e.cueBall.vx*e.cueBall.vx+e.cueBall.vy*e.cueBall.vy);Le>.01?(e.cueBall.rotationSpeed=Le/ot,Math.abs(e.cueBall.vx)>Math.abs(e.cueBall.vy)?e.cueBall.rotation+=e.cueBall.rotationSpeed/16*Math.sign(e.cueBall.vx):e.cueBall.rotation+=e.cueBall.rotationSpeed/16*Math.sign(e.cueBall.vy)):e.cueBall.rotationSpeed=0,ya(e.cueBall)&&(e.cueBall.isMoving=!1,e.cueBall.visible=!1),e.cueBall.isMoving&&Math.abs(e.cueBall.vx)<.03&&Math.abs(e.cueBall.vy)<.03&&(e.cueBall.vx=0,e.cueBall.vy=0,e.cueBall.isMoving=!1)}e.balls.forEach(pe=>{if(!pe.visible)return;let Ne=pe.x+pe.vx/16,Le=pe.y+pe.vy/16;Ne<30+ot?(pe.x=30+ot,pe.vx=Math.abs(pe.vx)*Ci*_i,pe.spinY*=dr,Ae&&(kn("Rail contact detected for ball:",pe.id),Ye(!0)),e.gamePhase==="break"&&pe.id!=="cue"&&Xe(kt=>kt+1)):Ne>570.77-ot?(pe.x=570.77-ot,pe.vx=-Math.abs(pe.vx)*Ci*_i,pe.spinY*=dr,Ae&&Ye(!0),e.gamePhase==="break"&&pe.id!=="cue"&&Xe(kt=>kt+1)):pe.x=Ne,Le<24.5+ot?(pe.y=24.5+ot,pe.vy=Math.abs(pe.vy)*Ci*_i,pe.spinX*=dr,Ae&&Ye(!0),e.gamePhase==="break"&&pe.id!=="cue"&&Xe(kt=>kt+1)):Le>270.18-ot?(pe.y=270.18-ot,pe.vy=-Math.abs(pe.vy)*Ci*_i,pe.spinX*=dr,Ae&&Ye(!0),e.gamePhase==="break"&&pe.id!=="cue"&&Xe(kt=>kt+1)):pe.y=Le,pe.vx*=Math.pow(em,1/16),pe.vy*=Math.pow(em,1/16),pe.vx+=pe.spinX*Ii,pe.vy+=pe.spinY*Ii,pe.spinX*=Math.pow(dr,1/16),pe.spinY*=Math.pow(dr,1/16);const Ue=Math.sqrt(pe.vx*pe.vx+pe.vy*pe.vy);Ue>.01?(pe.rotationSpeed=Ue/ot,Math.abs(pe.vx)>Math.abs(pe.vy)?pe.rotation+=pe.rotationSpeed/16*Math.sign(pe.vx):pe.rotation+=pe.rotationSpeed/16*Math.sign(pe.vy)):pe.rotationSpeed=0,ya(pe)&&(pe.isMoving=!1,pe.visible=!1,pe.pocketed=!0,pe.pocketedPocket=Co(pe.x,pe.y),De.includes(pe.id)||De.push(pe.id)),pe.isMoving&&Math.abs(pe.vx)<.03&&Math.abs(pe.vy)<.03&&(pe.vx=0,pe.vy=0,pe.isMoving=!1)}),e.cueBall.visible&&e.balls.forEach(pe=>{if(pe.visible){const Ne=ms(e.cueBall,pe);!dt&&Ne&&e.cueBall.isMoving&&(kn("First contact made with ball:",pe.id),ue(pe.id),et(!0),Jt(!0))}}),e.balls.forEach((pe,Ne)=>{pe.visible&&e.balls.slice(Ne+1).forEach(Le=>{Le.visible&&ms(pe,Le)})})}const Be=e.balls.every(Te=>!Te.isMoving)&&!e.cueBall.isMoving;if(Be&&qe&&(Rt(!0),ct(null)),Be&&re&&!Pe&&!Zn&&An===e.currentPlayer&&(kn("currentPlayer:",e.currentPlayer),kn("cueBall visible:",e.cueBall.visible),e.cueBall.visible?(Hn(!0),X(!1)):(He(!0),Hn(!0),X(!1),Zs("scratch"))),Be&&!re&&e.gamePhase!=="break"&&!Pe&&!Zn&&An===e.currentPlayer&&An!==null&&!ye){kn("currentPlayer:",e.currentPlayer),kn("gamePhase:",e.gamePhase),kn("Checking for fouls - Current player:",e.currentPlayer,"First ball hit:",tn);const Te=Ka();if(Te)kn("Foul detected:",Te,"by player:",e.currentPlayer),He(!0),Hn(!0),F(null),V(null),X(!1),Zs(Te);else{if(!ye){const Ne=Gs();if(Ne.length>0){kn("Illegally pocketed balls detected:",Ne.map(Le=>Le.id)),nn(Ne),En(!0),Hn(!0),F(null),V(null);return}}Hn(!0),F(null),V(null),X(!1),Pt(Ne=>{const Le={...Ne,[An]:0};return kn(`Resetting fouls for player ${An} only. Player 1 fouls: ${Le[1]}, Player 2 fouls: ${Le[2]}`),Le}),e.balls.filter(Ne=>Ne.pocketed&&!Ne.wasPocketedBeforeShot).length===0&&n(Ne=>({...Ne,currentPlayer:Ne.currentPlayer===1?2:1}))}}if(Be&&ye&&!Pe&&!Zn){Hn(!0),Ze(!1);const Te=Ka();Te?(kn("Break foul detected:",Te,"by player:",e.currentPlayer),He(!0),Zs(Te)):e.balls.filter(Ne=>Ne.pocketed&&!Ne.wasPocketedBeforeShot).length===0&&n(Ne=>({...Ne,currentPlayer:Ne.currentPlayer===1?2:1}))}const mt=e.balls.find(Te=>Te.id===10&&Te.pocketed),$e=e.balls.filter(Te=>Te.visible&&!Te.pocketed),pt=$e.length>0?$e.reduce((Te,pe)=>pe.id<Te.id?pe:Te):null;if(Be&&pt&&pt.id===10&&window.dispatchEvent(new CustomEvent("tenBallTarget",{detail:{player:e.currentPlayer}})),Be&&pt&&kg(e.gamePhase)&&window.dispatchEvent(new CustomEvent("lowestBall",{detail:{player:e.currentPlayer,lowestBall:pt.id}})),Be&&kg(e.gamePhase)&&Math.random()<.1&&window.dispatchEvent(new CustomEvent("safetyOpportunity",{detail:{player:e.currentPlayer}})),Be&&mt){const Te=A===10,pe=Q&&mt.pocketedPocket===Q;if(Te&&pe){const Ne=An;t&&t(Ne),window.dispatchEvent(new CustomEvent("gameWinning",{detail:{player:Ne}})),setTimeout(()=>{n(Le=>({...Le,balls:wr(),cueBall:{x:100,y:150,originalX:100,originalY:150,vx:0,vy:0,visible:!0,isMoving:!1},isAnimating:!1,gamePhase:"break",ballInHand:!1,scratchOccurred:!1})),setIsDragging(!1),C(!0),Pt({1:0,2:0}),n(Le=>({...Le,_foulReset:Date.now()})),window.tipManager&&window.tipManager.resetTips&&window.tipManager.resetTips()},2e3)}else{n(Le=>({...Le,balls:Le.balls.map(Ue=>Ue.id===10?{...Ue,pocketed:!1,visible:!0,x:Rx,y:Px,vx:0,vy:0,isMoving:!1}:Ue)}));const Ne=e.balls.find(Le=>Le.id===A&&Le.pocketed&&!Le.wasPocketedBeforeShot);Ne&&Ne.pocketedPocket===Q||n(Le=>({...Le,currentPlayer:Le.currentPlayer===1?2:1})),F(null),V(null)}}const Je=ao(e.gamePhase);kn("Step function - wasBreakPhase:",Je,"allStopped:",Be,"gamePhase:",e.gamePhase),n(Te=>({...Te,isAnimating:!Be,gamePhase:CU(Te.gamePhase,Be)})),_U(e.gamePhase,Be)&&(Ce(!0),st(!1),setTimeout(()=>{window.dispatchEvent(new CustomEvent("pushOutStrategy",{detail:{player:e.currentPlayer}}))},500),setTimeout(()=>{window.dispatchEvent(new CustomEvent("pushOutAvailable",{detail:{player:e.currentPlayer}}))},1e3)),Be||(La.current=requestAnimationFrame(Me))}La.current=requestAnimationFrame(Me)},[e,ya,ms,tn,re,Ka,Zs,qe,Pe,An,Zn,Gs,ye]),ps=v.useCallback(()=>{if(e.isAnimating||!z)return;if(!ao(e.gamePhase)){if(!re){if(!A&&!Q){W(!0),G(!1);return}}}e.cueBall;const ne=f*18,L=E*Math.PI/180,fe=Math.cos(L)*b*Ii*ne*.05,be=Math.sin(L)*b*Ii*ne*.05;ue(null),Ye(!1),Gn(null),He(!1),et(!1),Jt(!1),Hn(!1),jn(e.currentPlayer),Xe(0);const we=e.balls.filter(De=>De.visible&&!De.pocketed),Me=we.length>0?we.reduce((De,Be)=>Be.id<De.id?Be:De):null;te(Me),n(De=>({...De,balls:De.balls.map(Be=>({...Be,wasPocketedBeforeShot:Be.pocketed}))})),n(De=>({...De,cueBall:{...De.cueBall,vx:Math.cos(m)*ne,vy:Math.sin(m)*ne,isMoving:!0,spinX:fe,spinY:be},isAnimating:!0,ballInHand:!1,gamePhase:De.gamePhase})),ao(e.gamePhase)&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("callPocket",{detail:{player:e.currentPlayer}}))},500),ao(e.gamePhase)&&Ze(!0),G(!1),C(!0),N(null),M(null),q(null),re&&ct({ballsPocketed:e.balls.filter(De=>De.pocketed).length,cueBallPosition:{x:e.cueBall.x,y:e.cueBall.y},player:e.currentPlayer}),W(!1),me&&!Se&&e.gamePhase!=="break"&&(st(!0),Ce(!1)),re&&(Ce(!1),st(!0))},[e.isAnimating,z,e.cueBall,f,m,re,A,Q,e.gamePhase,me,Se]),fs=v.useCallback(ne=>{if(e.isAnimating)return;if(ne.button===2){ie(!0);return}const L=a.current.getBoundingClientRect(),fe=L.width/Vt,be=(ne.clientX-L.left)/fe,we=(ne.clientY-L.top)/fe;if(be>=0&&be<=Vt&&we>=0&&we<=bn){if(J){if(kg(e.gamePhase)&&me&&Lr(be,we)){X(!re);return}if(A&&Q||re){if(be>=Vt/2-80&&be<=Vt/2-10&&we>=bn-30&&we<=bn-5){W(!1),G(!0);return}if(be>=Vt/2+10&&be<=Vt/2+80&&we>=bn-30&&we<=bn-5){W(!1),F(null),V(null),X(!1),G(!0);return}}const Be=e.balls.find($e=>$e.visible&&!$e.pocketed&&Math.sqrt((be-$e.x)**2+(we-$e.y)**2)<ot),mt=zn.find($e=>Math.sqrt((be-$e.x)**2+(we-$e.y)**2)<50);if(Be||mt){$s(ne);return}else{W(!1),F(null),V(null),G(!1);return}}if((e.ballInHand||ao(e.gamePhase))&&cs(be,we)){Vs(be,we);return}const De=!z;G(De),De&&!ao(e.gamePhase)&&!re&&W(!0),De||(W(!1),F(null),V(null))}},[e.isAnimating,e.ballInHand,e.gamePhase,cs,Vs,z,J,A,Q,$s,me,re]),hs=v.useCallback(ne=>{i&&ds(),ne.button===2&&(ie(!1),!z&&!e.isAnimating&&(G(!0),e.gamePhase!=="break"&&!re&&W(!0)))},[i,ds,z,e.isAnimating,e.gamePhase,re]),Ma=v.useCallback(ne=>{if(e.isAnimating)return;const L=a.current.getBoundingClientRect(),fe=L.width/Vt,be=(ne.clientX-L.left)/fe,we=(ne.clientY-L.top)/fe;if(i){Pr(be,we);return}if(z&&!(J&&(O||ne.altKey)))return;const Me={x:e.cueBall.x,y:e.cueBall.y},De={x:Math.max(30,Math.min(570,Me.x)),y:Math.max(24,Math.min(270,Me.y))},Be=Math.atan2(we-De.y,be-De.x);let mt=!1,$e=null,pt=1/0;e.balls.forEach(Ne=>{if(Ne.visible&&!Ne.pocketed){const Le=Ne.x-De.x,Ue=Ne.y-De.y,kt=Math.sqrt(Le*Le+Ue*Ue),Lt=Math.atan2(Ue,Le);Math.abs(Be-Lt)<.25&&kt<pt&&(pt=kt,$e=Ne,mt=!0)}});let Je=Be;if(K){let Ne=2e-5;mt&&$e&&(Ne=1e-5*(Math.sqrt(($e.x-De.x)**2+($e.y-De.y)**2)/100));const Le=De.x,Ue=De.y,kt=(be-Le)*Ne,Lt=(we-Ue)*Ne;Je=Math.atan2(Lt,kt)}else if(mt){const Le=De.x,Ue=De.y,kt=(be-Le)*.25,Lt=(we-Ue)*.25;Je=Math.atan2(Lt,kt)}else{const Ne=.9*Math.PI/180;Je=Math.round(Be/Ne)*Ne}if(z&&J&&(O||ne.altKey)){const Ne=Oi(Je,H),Ue=Math.max(-.001,Math.min(.001,Ne));Je=H+Ue}if((Math.abs(Oi(Je,H))>2e-4||!K)&&(h(Je),Z(Je)),mt&&$e){const Ne=Da($e.x,$e.y,De.x,De.y);N(Ne),M($e)}else N(null),M(null)},[e.isAnimating,i,Pr,e.cueBall,e.balls,Da,z,J]),gs=v.useCallback(()=>{},[]);v.useCallback(()=>{C(!0),y(.5),w(0),_(0),q(null),G(!1)},[]),v.useCallback(()=>{const ne=e.cueBall;let L=null,fe=1/0;return e.balls.forEach(be=>{be.visible&&!be.pocketed&&be.id<fe&&(fe=be.id,L=be)}),L?Math.atan2(L.y-ne.y,L.x-ne.x):Math.atan2(bn/2-ne.y,Vt/2-ne.x)},[e.cueBall,e.balls]),v.useEffect(()=>{n(ne=>({...ne,balls:wr()}))},[wr]),v.useEffect(()=>{if(e.isAnimating)return Qs(),()=>{La.current&&cancelAnimationFrame(La.current)}},[e.isAnimating,Qs]),v.useEffect(()=>{const ne=L=>{L.key==="Escape"&&J&&(W(!1),F(null),V(null),G(!1))};return document.addEventListener("keydown",ne),()=>{document.removeEventListener("keydown",ne)}},[J]);const Oa=v.useCallback(()=>{const ne=a.current;if(!ne)return;const L=ne.getContext("2d");if(L.clearRect(0,0,Vt,bn),Aa.current?L.drawImage(Aa.current,0,0,Vt,bn):(L.fillStyle="#0d5c0d",L.fillRect(0,0,Vt,bn)),Ba.current){L.save(),L.globalAlpha=.25;const be=Vt*.305,we=be*(Ba.current.height/Ba.current.width),Me=(Vt-be)/2,De=(bn-we)/2;L.shadowColor="rgba(0, 0, 0, 0.3)",L.shadowBlur=4,L.shadowOffsetX=0,L.shadowOffsetY=1,L.drawImage(Ba.current,Me,De,be,we),L.restore()}ao(e.gamePhase)&&!e.isAnimating&&(L.save(),L.strokeStyle="rgba(255, 0, 0, 0.5)",L.lineWidth=2,L.setLineDash([10,5]),L.strokeRect(Yc,qc,Ng-Yc,Ag-qc),L.fillStyle="rgba(255, 0, 0, 0.8)",L.font="12px Arial",L.fillText("KITCHEN",Yc+10,qc+20),L.restore());const fe=(be,we)=>{if(ca.current[we]){const Me=ca.current[we];L.save(),L.translate(be.x,be.y),L.rotate(be.rotation||0),L.shadowColor="rgba(0, 0, 0, 0.3)",L.shadowBlur=3,L.shadowOffsetX=1,L.shadowOffsetY=1,L.beginPath(),L.arc(0,0,ot,0,2*Math.PI),L.clip(),L.drawImage(Me,-7.5,-7.5,rt,rt),L.shadowColor="transparent",L.globalAlpha=.3,L.fillStyle="rgba(255, 255, 255, 0.8)",L.beginPath(),L.arc(-7.5*.3,-7.5*.3,ot*.4,0,2*Math.PI),L.fill(),L.restore()}else{const Me=new Image;Me.onload=()=>{ca.current[we]=Me,fe(be,we)},Me.src=we}};if(e.balls.forEach(be=>{be.visible&&!be.pocketed&&fe(be,Vn[be.id])}),S&&!e.isAnimating){const be={x:Math.max(30,Math.min(570,e.cueBall.x)),y:Math.max(24,Math.min(270,e.cueBall.y))},we=m,Me=f*18,De=Math.cos(we)*Me,Be=Math.sin(we)*Me,mt=E*Math.PI/180,$e=Math.cos(mt)*b*Ii*Me*.05,pt=Math.sin(mt)*b*Ii*Me*.05,Je=Er(De+$e,Be+pt,be,{ignoreCuePocket:!0});if(Je.cue&&Je.cue.points.length>1){const Te=Je.cue.points.find(pe=>pe.collision);if(Te){kn("Trajectory collision at:",Te.x.toFixed(2),Te.y.toFixed(2));const pe=e.balls.find(Ne=>Ne.visible&&!Ne.pocketed&&Ne.id===1);pe&&kn("Actual ball 1 position:",pe.x.toFixed(2),pe.y.toFixed(2))}}Object.entries(Je).forEach(([Te,pe])=>{const Ne=Te==="cue"?1:3;if(pe.points.length>Ne){if(L.save(),Te==="cue"?fn(L):(L.strokeStyle=pe.color,L.lineWidth=2,L.globalAlpha=.7),Te==="cue"){const Le=pe.points,Ue=Le[0],kt=Le[Le.length-1]||Ue;if(Math.hypot(kt.x-Ue.x,kt.y-Ue.y)<20){const Br=Bi(f);L.beginPath(),L.moveTo(Ue.x,Ue.y),L.lineTo(Ue.x+Math.cos(we)*Br,Ue.y+Math.sin(we)*Br),L.stroke()}else xr(L,Le)}else xr(L,pe.points);L.restore();for(let Le=1;Le<pe.points.length;Le++){const Ue=pe.points[Le];if(Ue.collision&&(L.save(),L.fillStyle=pe.color,L.globalAlpha=.6,L.beginPath(),L.arc(Ue.x,Ue.y,4,0,2*Math.PI),L.fill(),L.restore()),Ue.pocketed){L.save(),L.fillStyle="#00ff00",L.globalAlpha=.8,L.beginPath(),L.arc(Ue.x,Ue.y,6,0,2*Math.PI),L.fill(),L.restore();break}}}else if(Te==="cue"){L.save(),fn(L);const Le=pe.points[0],Ue=Bi(f),kt=Le.x+Math.cos(we)*Ue,Lt=Le.y+Math.sin(we)*Ue;L.beginPath(),L.moveTo(Le.x,Le.y),L.lineTo(kt,Lt),L.stroke(),L.restore()}})}if(T&&!e.isAnimating&&(L.save(),L.strokeStyle="rgba(255, 255, 0, 0.8)",L.lineWidth=3,L.setLineDash([5,5]),L.beginPath(),L.arc(T.x,T.y,25,0,2*Math.PI),L.stroke(),L.restore()),!e.isAnimating&&!z){const mt=[{x:30,y:24.5,margin:rt*cr},{x:570.77,y:24.5,margin:rt*cr},{x:30,y:270.18,margin:rt*cr},{x:570.77,y:270.18,margin:rt*cr},{x:300.385,y:24.5,margin:rt*ol},{x:300.385,y:270.18,margin:rt*ol}],$e=e.cueBall.x+Math.cos(m)*100,pt=e.cueBall.y+Math.sin(m)*100;let Je=null,Te=1/0;if(mt.forEach(pe=>{const Ne=Math.hypot($e-pe.x,pt-pe.y);Ne<Te&&(Te=Ne,Je=pe)}),Je&&Te<120){const pe=Je.margin+Dg;L.save(),L.strokeStyle="rgba(0, 255, 0, 0.18)",L.lineWidth=1.5,L.setLineDash([]),L.beginPath(),L.arc(Je.x,Je.y,pe,0,2*Math.PI),L.stroke(),L.fillStyle="rgba(0, 255, 0, 0.15)",L.beginPath(),L.arc(Je.x,Je.y,2,0,2*Math.PI),L.fill(),L.restore()}}if(J&&!e.isAnimating){if(L.save(),L.fillStyle="rgba(0, 0, 0, 0.4)",L.fillRect(0,0,Vt,bn),L.fillStyle="rgba(255, 215, 0, 0.9)",L.font="bold 16px Arial",L.textAlign="center",L.fillText("CALL YOUR SHOT",Vt/2,30),L.font="14px Arial",L.fillStyle="rgba(255, 255, 255, 0.9)",L.fillText("Click a ball, then click a pocket",Vt/2,50),A&&(L.fillStyle="rgba(0, 255, 0, 0.8)",L.font="bold 14px Arial",L.fillText(`Selected Ball: ${A}`,Vt/2,bn-60)),Q&&(L.fillStyle="rgba(0, 255, 0, 0.8)",L.font="bold 14px Arial",L.fillText(`Selected Pocket: ${Q.replace("-"," ")}`,Vt/2,bn-40)),A){const be=e.balls.find(we=>we.id===A&&we.visible&&!we.pocketed);be&&(L.strokeStyle="rgba(0, 255, 0, 0.8)",L.lineWidth=3,L.setLineDash([5,5]),L.beginPath(),L.arc(be.x,be.y,ot+5,0,2*Math.PI),L.stroke())}if(Q){const be=zn.find(we=>we.id===Q);be&&(L.strokeStyle="rgba(0, 255, 0, 0.8)",L.lineWidth=3,L.setLineDash([5,5]),L.beginPath(),L.arc(be.x,be.y,30,0,2*Math.PI),L.stroke())}kn("Draw function - gamePhase:",e.gamePhase,"pushOutAvailable:",me,"isCallShotMode:",J),us(L,bn,re,me,e.gamePhase),(A&&Q||re)&&(L.fillStyle="rgba(76, 175, 80, 0.9)",L.fillRect(Vt/2-80,bn-30,70,25),L.fillStyle="white",L.font="bold 12px Arial",L.textAlign="center",L.fillText("CONFIRM",Vt/2-45,bn-15),L.fillStyle="rgba(244, 67, 54, 0.9)",L.fillRect(Vt/2+10,bn-30,70,25),L.fillStyle="white",L.font="bold 12px Arial",L.textAlign="center",L.fillText("CANCEL",Vt/2+45,bn-15)),L.restore()}if(e.cueBall.visible){const be=e.cueBall,we=Vn.cue;if(ca.current[we]){const Me=ca.current[we];L.save(),L.translate(be.x,be.y),L.rotate(be.rotation||0),L.beginPath(),L.arc(0,0,ot,0,2*Math.PI),L.clip(),L.drawImage(Me,-7.5,-7.5,rt,rt),b!==0&&!e.isAnimating&&(L.restore(),L.save(),L.strokeStyle=b>0?"rgba(76, 175, 80, 0.8)":"rgba(244, 67, 54, 0.8)",L.lineWidth=3,L.setLineDash([5,5]),L.beginPath(),L.arc(be.x,be.y,ot+5,0,2*Math.PI),L.stroke(),L.strokeStyle=b>0?"rgba(76, 175, 80, 0.9)":"rgba(244, 67, 54, 0.9)",L.lineWidth=2,L.setLineDash([]),L.beginPath(),L.moveTo(be.x,be.y),L.lineTo(be.x+Math.cos(E*Math.PI/180)*(ot+10),be.y+Math.sin(E*Math.PI/180)*(ot+10)),L.stroke()),L.restore()}else{const Me=new Image;Me.onload=()=>{ca.current[we]=Me,Oa()},Me.src=we}}L.globalAlpha=1},[e,S,m,Vn,f,T,z,Er,J,A,Q,zn,me,re]);v.useEffect(()=>{Oa()},[e.isAnimating,S,m,f,T,z,J,A,Q,me,re]),v.useEffect(()=>{const ne=new Image;ne.onload=()=>{Aa.current=ne,Oa()},ne.src=VE},[Oa]),v.useEffect(()=>{const ne=new Image;ne.onload=()=>{Ba.current=ne,Oa()},ne.src=z0},[Oa]),v.useEffect(()=>{const ne=fe=>{fe.altKey&&R(!0)},L=fe=>{fe.altKey||R(!1),fe.key==="Alt"&&R(!1)};return window.addEventListener("keydown",ne),window.addEventListener("keyup",L),()=>{window.removeEventListener("keydown",ne),window.removeEventListener("keyup",L)}},[]);const[Sr,zi]=v.useState(!1),Ui=v.useCallback(ne=>{ne.preventDefault(),zi(!0),console.log("English drag started")},[]),Pl=v.useCallback(ne=>{if(!Sr)return;const L=ne.currentTarget.getBoundingClientRect(),fe=ne.clientX-L.left,be=ne.clientY-L.top,we=fe/L.width,Me=be/L.height,De=.5,Be=.5,mt=Math.sqrt((we-De)**2+(Me-Be)**2),$e=Math.min(mt,.4),pt=Math.min($e/.4,1),Te=(Math.atan2(Me-Be,we-De)*180/Math.PI+360)%360;w(pt),_(Te),console.log(`English updated: ${Math.round(pt*100)}% at ${Math.round(Te)}`)},[Sr]),_o=v.useCallback(()=>{zi(!1),console.log("English drag ended")},[]),Qn=v.useCallback(ne=>{const L=ne%360;return L>=247.5&&L<=292.5?"#4CAF50":L>=67.5&&L<=112.5?"#F44336":L>=157.5&&L<=202.5?"#9C27B0":L>=337.5||L<=22.5?"#FF9800":L>292.5&&L<337.5?"#00BCD4":L>202.5&&L<247.5?"#CDDC39":L>22.5&&L<67.5?"#E91E63":"#FFC107"},[]),Io=v.useCallback(ne=>{const L=ne%360;return L>=247.5&&L<=292.5?"Top Spin":L>=67.5&&L<=112.5?"Back Spin":L>=157.5&&L<=202.5?"Left Spin":L>=337.5||L<=22.5?"Right Spin":L>292.5&&L<337.5?"Top-Right Spin":L>202.5&&L<247.5?"Top-Left Spin":L>22.5&&L<67.5?"Bottom-Right Spin":"Bottom-Left Spin"},[]);return r.createElement("div",{className:an.simplePoolGame},r.createElement("div",{className:an.aimingInstructions},r.createElement("div",{className:an.instructions},r.createElement("strong",null,"How To Aim:"),r.createElement("br",null),"Move mouse to aim  Click table to lock aim  Call Shot  Adjust power  Drag English ball  Click SHOOT",r.createElement("br",null),r.createElement("small",{style:{color:"#888",fontSize:"12px"}}," ",r.createElement("strong",null,"Aim Line Colors:")," White = Aiming  Green = Locked & ready  Yellow = Fine-tuning  Green/Red = English spin  Colored = Object ball paths",r.createElement("br",null)," ",r.createElement("strong",null,"Fine-tuning:")," Hold right-click for precise aiming, release to lock aim",r.createElement("br",null)," ",r.createElement("strong",null,"English:")," Click and drag on the English ball to set spin direction and intensity"))),Tx(e.gamePhase,me)&&r.createElement("div",{style:{alignSelf:"center",margin:"8px 0 14px 0",padding:"6px 14px",background:"rgba(255, 215, 0, 0.95)",color:"#000",fontWeight:700,fontSize:"15px",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.25)"}},"Push Out Available"),r.createElement("div",{className:an.tableContainer},r.createElement("canvas",{ref:a,width:Vt,height:bn,onPointerDown:fs,onPointerUp:hs,onPointerMove:Ma,onPointerLeave:gs,onContextMenu:ne=>ne.preventDefault(),className:an.tableCanvas})),r.createElement("div",{className:an.controls},r.createElement("div",{className:an.powerControl},r.createElement("label",null,"Power: ",Math.round(f*100),"%"),r.createElement("div",{style:{position:"relative",width:"100%",height:"8px",background:"#ffffff",borderRadius:"4px",border:"1px solid #e0e0e0",overflow:"hidden"}},r.createElement("div",{style:{position:"absolute",top:0,left:0,width:`${f*100}%`,height:"100%",background:"#2196F3",borderRadius:"3px"}}),r.createElement("div",{style:{position:"absolute",top:"-4px",left:`${f*100}%`,width:"16px",height:"16px",background:"#2196F3",borderRadius:"50%",border:"1px solid #1976D2",cursor:"pointer",transform:"translateX(-50%)"}}),r.createElement("input",{type:"range",min:"0.1",max:"1",step:"0.01",value:f,onChange:ne=>y(parseFloat(ne.target.value)),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"transparent",outline:"none",cursor:"pointer",opacity:0}}))),r.createElement("div",{className:an.englishControl},r.createElement("label",null,"English: Drag to set spin"),r.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"5px"}},r.createElement("div",{onMouseDown:Ui,onMouseMove:Pl,onMouseUp:_o,onMouseLeave:_o,style:{width:"60px",height:"60px",borderRadius:"50%",border:"2px solid #333",background:"linear-gradient(135deg, #fff 0%, #f0f0f0 100%)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",color:"#333",cursor:Sr?"grabbing":"grab",userSelect:"none"}},b>0?"+":"",Math.round(b*100),"%",b!==0&&r.createElement(r.Fragment,null,r.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:`translate(-50%, -50%) translate(${Math.cos(E*Math.PI/180)*20}px, ${Math.sin(E*Math.PI/180)*20}px)`,width:"8px",height:"8px",borderRadius:"50%",background:Qn(E),border:"1px solid #fff"}}),r.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:`translate(-50%, -50%) rotate(${E}deg)`,width:"2px",height:"20px",background:Qn(E),borderRadius:"1px"}}))),b!==0&&r.createElement("div",{style:{fontSize:"12px",color:Qn(E),fontWeight:"bold"}},Io(E)),b===0&&r.createElement("div",{style:{fontSize:"12px",color:"#666"}},"No Spin"),b!==0&&r.createElement("button",{onClick:()=>{w(0),_(0)},style:{fontSize:"10px",padding:"2px 6px",background:"#666",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",marginLeft:"5px"}},"Reset"))),r.createElement("div",{className:an.shootButton},r.createElement("button",{className:an.shootButton,onClick:ps,disabled:e.isAnimating||!z},z?e.gamePhase==="break"||A&&Q||re?"SHOOT!":"CALL SHOT":"LOCK AIM FIRST")),r.createElement("div",{className:an.gameInfo},r.createElement("span",null,"Player: ",e.currentPlayer),r.createElement("span",null,"Phase: ",e.gamePhase),r.createElement("span",null,"Status: ",e.isAnimating?"Animating":e.ballInHand||e.gamePhase==="break"?i?"Drag Cue Ball to Position":e.gamePhase==="break"?"Click Cue Ball to Move (Kitchen Only)":"Click Cue Ball to Move (Anywhere)":z?"Aim Locked - Ready to Shoot":T?"Pocket assistance active - Click to lock!":"Move Mouse to Aim"),rn&&r.createElement("span",{style:{color:"#ff6b6b",fontWeight:"bold"}},"FOUL: ",rn==="scratch"?"Scratch":rn==="wrong_ball_first"?"Wrong Ball First":rn==="no_rail_contact"?"No Rail Contact":rn),r.createElement("span",null,"Consecutive Fouls P1: ",pn[1]," | P2: ",pn[2])),r.createElement("div",{className:an.buttonRow},r.createElement("button",{className:an.resetAimButton,onClick:()=>{setIsDragging(!1),C(!1),y(.5)},disabled:e.isAnimating},"Reset Aim"),r.createElement("button",{className:an.resetButton,onClick:()=>{n(ne=>({...ne,balls:wr(),cueBall:{x:100,y:150,originalX:100,originalY:150,vx:0,vy:0,visible:!0,isMoving:!1,rotation:0,rotationSpeed:0},isAnimating:!1,gamePhase:"break",ballInHand:!1,scratchOccurred:!1,currentPlayer:1})),C(!0),l(!1),q(null),G(!1),w(0),_(0),Ce(!1),st(!1),X(!1),ct(null),Rt(!1),te(null),console.log("Resetting foul counters via reset button"),Pt({1:0,2:0}),Gn(null),He(!1),Hn(!1),jn(null),Xe(0),nn([]),En(!1),window.tipManager&&window.tipManager.resetTips&&window.tipManager.resetTips()}},"Reset Game"),r.createElement("button",{className:an.resetButton,onClick:()=>{n(ne=>({...ne,ballInHand:!0,currentPlayer:ne.currentPlayer===1?2:1}))},style:{marginLeft:"10px",backgroundColor:"#ff6b6b"}},"Test Ball-in-Hand"))),Qe&&r.createElement("div",{className:an.pushOutModal},r.createElement("div",{className:an.pushOutContent},r.createElement("h3",null,"Push Out Result"),r.createElement("p",null,"Player ",e.currentPlayer===1?2:1,", do you want to accept this push out result?"),r.createElement("div",{className:an.pushOutButtons},r.createElement("button",{onClick:()=>{Rt(!1),n(ne=>({...ne,currentPlayer:ne.currentPlayer===1?2:1}))},className:an.acceptButton},"Accept"),r.createElement("button",{onClick:()=>{Rt(!1)},className:an.declineButton},"Decline")))),Na&&r.createElement("div",{className:an.pushOutModal},r.createElement("div",{className:an.pushOutContent},r.createElement("h3",null,"Illegally Pocketed Balls"),r.createElement("p",null,"Player ",e.currentPlayer===1?2:1,", balls were illegally pocketed:"),r.createElement("ul",null,ut.map(ne=>r.createElement("li",{key:ne.id},"Ball ",ne.id," ",ne.id===10?"(will be spotted)":"(remains pocketed)"))),r.createElement("p",null,"Do you want to:"),r.createElement("div",{className:an.pushOutButtons},r.createElement("button",{onClick:()=>{En(!1),n(L=>({...L,currentPlayer:L.currentPlayer===1?2:1})),ut.find(L=>L.id===10)&&n(L=>({...L,balls:L.balls.map(fe=>fe.id===10?{...fe,pocketed:!1,visible:!0,x:Rx,y:Px}:fe)})),nn([])},className:an.acceptButton},"Accept Table"),r.createElement("button",{onClick:()=>{En(!1),nn([])},className:an.declineButton},"Require Re-Shot")))))},BU="_tutorialRules_use5n_1",OU="_header_use5n_14",zU="_progressContainer_use5n_25",UU="_progressBar_use5n_31",FU="_progressFill_use5n_39",WU="_progressText_use5n_46",HU="_content_use5n_52",jU="_stepContent_use5n_56",YU="_highlightBox_use5n_73",qU="_highlightIcon_use5n_86",$U="_tipSection_use5n_90",GU="_navigation_use5n_110",ZU="_navButton_use5n_119",VU="_disabled_use5n_135",QU="_centerButtons_use5n_145",XU="_skipButton_use5n_153",JU="_nextButton_use5n_171",KU="_startButton_use5n_171",eF="_quickRules_use5n_193",tF="_ruleGrid_use5n_205",nF="_ruleItem_use5n_211",aF="_ruleNumber_use5n_231",Zt={tutorialRules:BU,header:OU,progressContainer:zU,progressBar:UU,progressFill:FU,progressText:WU,content:HU,stepContent:jU,highlightBox:YU,highlightIcon:qU,tipSection:$U,navigation:GU,navButton:ZU,disabled:VU,centerButtons:QU,skipButton:XU,nextButton:JU,startButton:KU,quickRules:eF,ruleGrid:tF,ruleItem:nF,ruleNumber:aF},rF=({step:t,currentStep:a,totalSteps:e,onNext:n,onBack:i,onSkip:l})=>{const c=(a+1)/e*100,u=["Remember: Always hit the lowest numbered ball first!","Call your shots clearly - specify ball and pocket.","The 10-ball is the money ball - pocket it legally to win!","Use the push out strategically to improve your position.","Three consecutive fouls result in loss of game.","Practice your break shot - it sets up the entire game.","Defensive play is just as important as offensive play.","Watch for safety opportunities when you can't make a shot."];return r.createElement("div",{className:Zt.tutorialRules},r.createElement("div",{className:Zt.header},r.createElement("h3",null,"10-Ball Rules Tutorial"),r.createElement("div",{className:Zt.progressContainer},r.createElement("div",{className:Zt.progressBar},r.createElement("div",{className:Zt.progressFill,style:{width:`${c}%`}})),r.createElement("span",{className:Zt.progressText},"Step ",a+1," of ",e))),r.createElement("div",{className:Zt.content},r.createElement("div",{className:Zt.stepContent},r.createElement("h4",null,t.title),r.createElement("p",null,t.content),t.highlight&&r.createElement("div",{className:Zt.highlightBox},r.createElement(Lz,{className:Zt.highlightIcon}),r.createElement("span",null,"This concept will be highlighted on the table"))),r.createElement("div",{className:Zt.tipSection},r.createElement("h5",null," Pro Tip"),r.createElement("p",null,u[a%u.length]))),r.createElement("div",{className:Zt.navigation},r.createElement("button",{className:`${Zt.navButton} ${a===0?Zt.disabled:""}`,onClick:i,disabled:a===0},r.createElement(Cz,null),"Previous"),r.createElement("div",{className:Zt.centerButtons},r.createElement("button",{className:Zt.skipButton,onClick:l},"Skip Tutorial"),a===e-1?r.createElement("button",{className:Zt.startButton,onClick:n},r.createElement(zz,null),"Start Playing"):r.createElement("button",{className:Zt.nextButton,onClick:n},"Next",r.createElement(w5,null)))),r.createElement("div",{className:Zt.quickRules},r.createElement("h5",null,"Quick Reference"),r.createElement("div",{className:Zt.ruleGrid},r.createElement("div",{className:Zt.ruleItem},r.createElement("span",{className:Zt.ruleNumber},"1"),r.createElement("span",null,"Hit lowest ball first")),r.createElement("div",{className:Zt.ruleItem},r.createElement("span",{className:Zt.ruleNumber},"2"),r.createElement("span",null,"Call your shots")),r.createElement("div",{className:Zt.ruleItem},r.createElement("span",{className:Zt.ruleNumber},"3"),r.createElement("span",null,"10-ball wins the game")),r.createElement("div",{className:Zt.ruleItem},r.createElement("span",{className:Zt.ruleNumber},"4"),r.createElement("span",null,"Push out after break")))))},sF="_gameModeSelector_s58nb_29",iF="_header_s58nb_67",oF="_backToDashboardButton_s58nb_113",lF="_modesGrid_s58nb_277",cF="_modeCard_s58nb_291",dF="_recommended_s58nb_333",uF="_recommendedBadge_s58nb_353",mF="_modeIcon_s58nb_379",pF="_modeContent_s58nb_403",fF="_modeArrow_s58nb_441",hF="_whatYoullLearn_s58nb_539",Dr={gameModeSelector:sF,header:iF,backToDashboardButton:oF,modesGrid:lF,modeCard:cF,recommended:dF,recommendedBadge:uF,modeIcon:mF,modeContent:pF,modeArrow:fF,whatYoullLearn:hF},zx=({onModeSelect:t,fromLogin:a=!1})=>{const e=[{id:"tutorial",title:"Interactive Tutorial",description:"Learn the official CSI 10-Ball rules step by step with interactive examples and tips.",icon:Tz,color:"#4CAF50",recommended:!0}];return r.createElement("div",{className:Dr.gameModeSelector,style:{maxWidth:"280px",width:"280px",margin:"0 auto",overflowX:"hidden",boxSizing:"border-box"}},r.createElement("div",{className:Dr.header},!a&&r.createElement("button",{className:Dr.backToDashboardButton,onClick:()=>window.location.href="/dashboard"}," Back to Dashboard"),r.createElement("h2",null,"10-Ball Tutorial"),r.createElement("p",null,"Learn and master the official CSI 10-Ball rules")),r.createElement("div",{className:Dr.modesGrid},e.map(n=>{const i=n.icon;return r.createElement("div",{key:n.id,className:`${Dr.modeCard} ${n.recommended?Dr.recommended:""}`,onClick:()=>t(n.id)},n.recommended&&r.createElement("div",{className:Dr.recommendedBadge},"Recommended"),r.createElement("div",{className:Dr.modeIcon,style:{backgroundColor:n.color}},r.createElement(i,null)),r.createElement("div",{className:Dr.modeContent},r.createElement("h3",null,n.title),r.createElement("p",null,n.description)),r.createElement("div",{className:Dr.modeArrow},""))})),r.createElement("div",{className:Dr.whatYoullLearn},r.createElement("h3",null,"What You'll Learn"),r.createElement("ul",null,r.createElement("li",null,"Official CSI 10-Ball Rules"),r.createElement("li",null,"Break/Push Out Requirements"),r.createElement("li",null,"Call Shot/Ball in Hand Requirements"),r.createElement("li",null,"Illegally Pocketed Balls/Opponent's Option"),r.createElement("li",null,"Foul Detection and Penalties"),r.createElement("li",null,"Advanced Shot Planning"))))},gF="_tipContainer_1z0xf_1",yF="_show_1z0xf_27",bF="_dragging_1z0xf_35",vF="_tipContent_1z0xf_47",xF="_tipHeader_1z0xf_71",EF="_tipIcon_1z0xf_89",wF="_tipTitle_1z0xf_99",SF="_closeButton_1z0xf_113",CF="_tipText_1z0xf_155",Rs={tipContainer:gF,show:yF,dragging:bF,tipContent:vF,tipHeader:xF,tipIcon:EF,tipTitle:wF,closeButton:SF,tipText:CF},_F=({tip:t,isVisible:a,onClose:e})=>{const[n,i]=v.useState(!1),[l,c]=v.useState({x:0,y:0}),[u,m]=v.useState(!1),[h,f]=v.useState({x:0,y:0}),y=v.useRef(null);v.useEffect(()=>{if(a){i(!0);const _=setTimeout(()=>{e()},8e3);return()=>clearTimeout(_)}},[a,e]);const b=_=>{if(_.target.closest("button"))return;m(!0);const S=y.current.getBoundingClientRect();f({x:_.clientX-S.left,y:_.clientY-S.top})},w=_=>{if(!u)return;const S=_.clientX-h.x,C=_.clientY-h.y,I=window.innerWidth-250,N=window.innerHeight-100;c({x:Math.max(0,Math.min(S,I)),y:Math.max(0,Math.min(C,N))})},E=()=>{m(!1)};return v.useEffect(()=>{if(u)return document.addEventListener("mousemove",w),document.addEventListener("mouseup",E),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",E)}},[u,h]),a?r.createElement("div",{ref:y,className:`${Rs.tipContainer} ${n?Rs.show:""} ${u?Rs.dragging:""}`,style:{maxWidth:"250px",width:"250px",minWidth:"250px",top:l.y||20,left:l.x||"50%",transform:l.x?"none":"translateX(-50%)",right:"auto",cursor:u?"grabbing":"grab"},onMouseDown:b},r.createElement("div",{className:Rs.tipContent},r.createElement("div",{className:Rs.tipHeader},r.createElement("span",{className:Rs.tipIcon},""),r.createElement("span",{className:Rs.tipTitle},"Pro Tip"),r.createElement("button",{className:Rs.closeButton,onClick:e},"")),r.createElement("div",{className:Rs.tipText},t))):null},IF=v.forwardRef(({gameState:t,onTipShown:a},e)=>{const[n,i]=v.useState(null),[l,c]=v.useState(!1),[u,m]=v.useState(new Set),h=E=>{b(E)},f=()=>{m(new Set)};v.useImperativeHandle(e,()=>({triggerTip:h,resetTips:f}));const y={breakShot:{title:"Break Shot",tip:"Always hit the lowest numbered ball first! A good break can set up your entire game!"},callShot:{title:"Call Shot",tip:"Be specific about which pocket you're aiming for! If you don't call it, it doesn't count!"},pushOut:{title:"Push Out Opportunity",tip:"Use push out to improve your position when the table is difficult!"},foul:{title:"Foul Committed",tip:"Three consecutive fouls by the same player results in loss of game!"},tenBall:{title:"10-Ball Target",tip:"The 10-ball is the only ball that matters for winning!"},defensive:{title:"Defensive Play",tip:"Sometimes the best shot is the one that leaves your opponent nothing!"},practice:{title:"Keep Learning",tip:"Practice makes perfect - keep playing and learning!"},scratch:{title:"Scratch Foul",tip:"The cue ball went in a pocket! Your opponent gets ball-in-hand."},wrongBall:{title:"Wrong Ball First",tip:"You must hit the lowest numbered ball first! This is a foul."},noRail:{title:"No Rail Contact",tip:"After contact, a ball must hit a rail or be pocketed. This is a foul."},ballInHand:{title:"Ball-in-Hand",tip:"You can place the cue ball anywhere on the table after a foul."},kitchen:{title:"Kitchen Rule",tip:"During break, the cue ball must start in the kitchen (behind the head string)."},threeFoul:{title:"Three Foul Rule",tip:"Three consecutive fouls by the same player results in loss of game!"},pushOutStrategy:{title:"Push Out Strategy",tip:"After a legal break, you can push out to improve position. Opponent then chooses to shoot or pass."},callPocket:{title:"Call Pocket",tip:"You must call both the ball and the pocket for every shot after the break."},lowestBall:{title:"Lowest Ball First",tip:"Always hit the lowest numbered ball on the table first!"},safety:{title:"Safety Shot",tip:"A safety shot is when you don't expect to pocket a ball but leave your opponent in a difficult position."},jumpShot:{title:"Jump Shot",tip:"Jump shots are legal in 10-ball, but be careful not to jump the cue ball off the table!"},gameWinning:{title:"Game Winner",tip:"Legally pocket the 10-ball to win! Remember to call it and the pocket."}},b=E=>{if(u.has(E))return;const _=y[E];_&&(i(_),c(!0),m(S=>new Set([...S,E])),a==null||a(E))},w=()=>{c(!1)};return v.useEffect(()=>{t&&(t.gamePhase==="break"&&!u.has("breakShot")&&(b("breakShot"),window.dispatchEvent(new CustomEvent("kitchenRule"))),t.gamePhase==="play"&&!u.has("callShot")&&b("callShot"))},[t,u]),v.useEffect(()=>{const E=Z=>{u.has("foul")||b("foul")},_=Z=>{u.has("scratch")||b("scratch")},S=Z=>{u.has("wrongBall")||b("wrongBall")},C=Z=>{u.has("noRail")||b("noRail")},I=Z=>{u.has("ballInHand")||b("ballInHand")},N=Z=>{u.has("kitchen")||b("kitchen")},k=Z=>{u.has("threeFoul")||b("threeFoul")},M=Z=>{u.has("pushOut")||b("pushOut")},T=Z=>{u.has("pushOutStrategy")||b("pushOutStrategy")},q=Z=>{u.has("callPocket")||b("callPocket")},z=Z=>{u.has("lowestBall")||b("lowestBall")},G=Z=>{u.has("safety")||b("safety")},K=Z=>{u.has("jumpShot")||b("jumpShot")},ie=Z=>{u.has("tenBall")||b("tenBall")},H=Z=>{u.has("gameWinning")||b("gameWinning")};return window.addEventListener("gameFoul",E),window.addEventListener("scratchFoul",_),window.addEventListener("wrongBallFoul",S),window.addEventListener("noRailFoul",C),window.addEventListener("ballInHand",I),window.addEventListener("kitchenRule",N),window.addEventListener("threeFoul",k),window.addEventListener("pushOutAvailable",M),window.addEventListener("pushOutStrategy",T),window.addEventListener("callPocket",q),window.addEventListener("lowestBall",z),window.addEventListener("safetyOpportunity",G),window.addEventListener("jumpShot",K),window.addEventListener("tenBallTarget",ie),window.addEventListener("gameWinning",H),()=>{window.removeEventListener("gameFoul",E),window.removeEventListener("scratchFoul",_),window.removeEventListener("wrongBallFoul",S),window.removeEventListener("noRailFoul",C),window.removeEventListener("ballInHand",I),window.removeEventListener("kitchenRule",N),window.removeEventListener("threeFoul",k),window.removeEventListener("pushOutAvailable",M),window.removeEventListener("pushOutStrategy",T),window.removeEventListener("callPocket",q),window.removeEventListener("lowestBall",z),window.removeEventListener("safetyOpportunity",G),window.removeEventListener("jumpShot",K),window.removeEventListener("tenBallTarget",ie),window.removeEventListener("gameWinning",H)}},[u]),r.createElement(_F,{tip:n==null?void 0:n.tip,isVisible:l,onClose:w})}),kF="_container_1jm20_1",NF="_backButton_1jm20_53",AF="_tutorialContainer_1jm20_79",ki={container:kF,backButton:NF,tutorialContainer:AF},DF=({fromLogin:t=!1,onBackToLogin:a})=>{const[e,n]=v.useState("menu"),[i,l]=v.useState(0),[c,u]=v.useState(!0),[m,h]=v.useState({player1Score:0,player2Score:0,currentPlayer:1,gamePhase:"break",rules:{callPocket:!0,pushOut:!0,threeFoulRule:!0,jumpShots:!0}}),f=[{title:"The Break Shot",content:"Start the game with a legal break shot. You must break from the kitchen hitting the 1-ball first and drive at least 4 balls to the rails or pocket a ball.",proTip:"A good break can set up your entire game!"},{title:"Welcome to 10-Ball!",content:"10-Ball is a call-shot game where you must hit the lowest numbered ball first and call your shots. The 10-ball is the game-winning ball!",proTip:"Always hit the lowest numbered ball first!"},{title:"Call Shot Rules",content:"After the break, you must call both the ball and the pocket for every shot. If you don't call it, it doesn't count!",proTip:"CSI rules state that you do not have to call obvious shots. Banks, Kicks, and Caroms should always be called. Be specific about which pocket you're aiming for! Make sure your opponent acknowledges your called shot."},{title:"Push Out Option",content:"After a legal break, the incoming player may choose to 'push out' - shoot the cue ball anywhere without hitting any ball. The opponent then chooses to shoot or pass.",proTip:"Use push out to improve your position when the table is difficult!"},{title:"Fouls and Penalties",content:"Common fouls include: scratching (cue ball in pocket), hitting wrong ball first, not hitting any rail after contact, and jumping the cue ball off the table.",proTip:"Three consecutive fouls by the same player results in loss of game!"},{title:"Winning the Game",content:"Legally pocket the 10-ball to win! Yes, you can win with an early ten ball...Remember, you must call the 10-ball and the pocket, and hit the lowest numbered ball first.",proTip:"The 10-ball is the only ball that matters for winning!"},{title:"Strategy Tips",content:"Plan your shots ahead, use defensive play when needed, and always consider your opponent's options after your shot.",proTip:"Sometimes the best shot is the one that leaves your opponent nothing!"},{title:"Ready to Play!",content:"You now know the basics of 10-Ball! Practice these rules and strategies to improve your game.",proTip:"Practice makes perfect - keep playing and learning!"}],y=S=>{n(S),S==="tutorial"&&(l(0),u(!0))},b=()=>{i<f.length-1?l(i+1):n("game")},w=()=>{i>0&&l(i-1)},E=S=>{h(C=>({...C,gamePhase:"end",player1Score:S===1?C.player1Score+1:C.player1Score,player2Score:S===2?C.player2Score+1:C.player2Score}))},_=()=>{switch(e){case"menu":return r.createElement(zx,{onModeSelect:y,fromLogin:t});case"tutorial":return r.createElement("div",{className:ki.tutorialContainer},r.createElement(rF,{step:f[i],currentStep:i,totalSteps:f.length,onNext:b,onBack:w,onSkip:()=>n("game")}),r.createElement(f0,{onGameEnd:E}));case"game":return r.createElement(f0,{onGameEnd:E});default:return r.createElement(zx,{onModeSelect:y})}};return r.createElement("div",{className:ki.container},_(),(e==="game"||e==="tutorial")&&r.createElement(IF,{gameState:m,onTipShown:S=>console.log(`Tip shown: ${S}`),ref:S=>{S&&(window.tipManager=S)}}),e!=="menu"&&!t&&r.createElement("div",{className:ki.navigation},r.createElement("button",{className:ki.backButton,onClick:()=>n("menu")}," Back to Menu")),e!=="menu"&&r.createElement("div",{className:ki.gameInfo},r.createElement("div",{className:ki.scoreBoard},r.createElement("div",{className:ki.playerScore},r.createElement("span",null,"Player 1: ",m.player1Score)),r.createElement("div",{className:ki.playerScore},r.createElement("span",null,"Player 2: ",m.player2Score)))))},MF=""+new URL("bcapl_logo-BvvUeHn5.png",import.meta.url).href,TF=""+new URL("csi_logo-ChVaLM6t.png",import.meta.url).href,RF=""+new URL("usapl_logo-jJ_LE_Bw.png",import.meta.url).href,PF=""+new URL("fargorate-logo-BVCRpqvV.png",import.meta.url).href;function LF(){const[t,a]=v.useState(window.innerWidth),[e,n]=v.useState(window.innerHeight),[i]=v.useState(()=>[0,1,2,3,4,5,6,7].map(N=>{const k=.1+Math.random()*.15,M=Math.random()*Math.PI*2;return{x:Math.random()*t,y:Math.random()*e,vx:Math.cos(M)*k*1.2,vy:Math.sin(M)*k*1.2,baseSize:.8+Math.random()*.4,sizePhase:Math.random()*Math.PI*2,isSizeChanger:!1,speedCategory:"base",lastChange:Date.now(),changeInterval:8e3+Math.random()*12e3,rotationDirection:N>=5?Math.random()>.5?1:-1:0}}));v.useEffect(()=>{const N=()=>{a(window.innerWidth),n(window.innerHeight)};return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);function l(N,k,M){const[T,q]=v.useState(N);v.useRef(null);const z=v.useRef(N);return v.useEffect(()=>{let G,K=Date.now();const ie=()=>{const H=Date.now(),Z=H-K,O=z.current;if(H-O.lastChange>O.changeInterval){const W=M.includes(k)?"fast":"base",re={...O,speedCategory:W,lastChange:H,changeInterval:3e3+Math.random()*6e3};z.current=re,q(re)}if(Math.random()<.003){const J=Math.atan2(O.vy,O.vx),W=(Math.random()-.5)*Math.PI*.3,re=J+W,X=.3+Math.random()*1,me=O.speedCategory==="fast"?.6:.2;O.vx=Math.cos(re)*X*me,O.vy=Math.sin(re)*X*me}let R=O.x+O.vx*(Z/16),A=O.y+O.vy*(Z/16);(R<0||R>t||A<0||A>e)&&(O.edgeShrink||(O.edgeShrink=!0,O.edgeShrinkTime=H));const F=H/1e3;let Q=O.baseSize;const V=Math.sin(F*.07+O.sizePhase)*.1,P=Math.sin(F*.35+O.sizePhase*2)*.05;if(Q=O.baseSize+V+P,Q<O.baseSize*.3&&!O.sizeShrink&&(O.sizeShrink=!0,O.sizeShrinkTime=H),O.edgeShrink){const J=H-O.edgeShrinkTime;if(J<2e3){const re=1-J/2e3;O.edgeOpacity=re,Q=O.baseSize+V+P}else if(J<4e3)O.edgeOpacity=.01,Q=.01;else if(J<4100)R=Math.random()*t,A=Math.random()*e,O.x=R,O.y=A,Q=.01,O.edgeOpacity=.01;else if(J<12500){const re=.01+.99*((J-4100)/8400);Q*=re,O.edgeOpacity=re}else O.edgeShrink=!1,O.edgeOpacity=1}else O.edgeOpacity=1;if(O.sizeShrink){const J=H-O.sizeShrinkTime;if(J<2e3){const re=1-J/2e3;O.sizeOpacity=re}else if(J<4e3)O.sizeOpacity=.01,Q=.01;else if(J<4100)R=Math.random()*t,A=Math.random()*e,O.x=R,O.y=A,Q=.01,O.sizeOpacity=.01;else if(J<12500){const re=.01+.99*((J-4100)/8400);Q*=re,O.sizeOpacity=re}else O.sizeShrink=!1,O.sizeOpacity=1}else O.sizeOpacity=1;let j=O.rotation||0;if(k>=5){const W=(Math.sqrt(O.vx*O.vx+O.vy*O.vy)*2+.3)*(Z/16)*(O.rotationDirection||1);j+=W}z.current={...O,x:R,y:A,size:Q,rotation:j},H-K>100&&(q(z.current),K=H),G=requestAnimationFrame(ie)};return ie(),()=>cancelAnimationFrame(G)},[t,e,M]),T}const[c]=v.useState(()=>{const N=[];for(;N.length<3;){const M=Math.floor(Math.random()*8);N.includes(M)||N.push(M)}const k=[];for(;k.length<3;){const M=Math.floor(Math.random()*8);!k.includes(M)&&!N.includes(M)&&k.push(M)}return i.forEach((M,T)=>{N.includes(T)?(M.speedCategory="fast",M.vx=(Math.random()-.5)*2,M.vy=(Math.random()-.5)*2):(M.speedCategory="base",M.vx=(Math.random()-.5)*.5,M.vy=(Math.random()-.5)*.5),k.includes(T)&&(M.isSizeChanger=!0)}),!0}),[u,m]=v.useState(()=>{const N=[];for(;N.length<3;){const k=Math.floor(Math.random()*8);N.includes(k)||N.push(k)}return N}),h=()=>{const N=[];for(;N.length<3;){const k=Math.floor(Math.random()*8);N.includes(k)||N.push(k)}m(N)};v.useEffect(()=>{const N=setInterval(()=>{h(),console.log("Speed reassignment triggered")},4e3+Math.random()*4e3);return()=>clearInterval(N)},[]);const f=l(i[0],0,u),y=l(i[1],1,u),b=l(i[2],2,u),w=l(i[3],3,u),E=l(i[4],4,u),_=l(i[5],5,u),S=l(i[6],6,u),C=l(i[7],7,u),I=(N,k,M,T,q=!1)=>{const z=q&&N.rotation||0;return{position:"absolute",left:N.x,top:N.y,transform:`translate(-50%, -50%) scale(${N.size}) rotate(${z}deg)`,width:k,height:"auto",opacity:M*(N.edgeOpacity||1)*(N.sizeOpacity||1),zIndex:0,pointerEvents:"none",filter:T,transition:"none"}};return r.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",overflow:"hidden"}},r.createElement("img",{src:z0,alt:"League Logo Background",style:I(f,150,.75,"drop-shadow(0 0 24px rgba(245, 30, 30, 0.2))")}),r.createElement("img",{src:MF,alt:"BCAPL Logo Background",style:I(y,120,.75,"drop-shadow(0 0 18px rgba(245, 30, 30, 0.2))")}),r.createElement("img",{src:TF,alt:"CSI Logo Background",style:I(b,120,.75,"drop-shadow(0 0 12px rgba(245, 30, 30, 0.2))")}),r.createElement("img",{src:RF,alt:"USAPL Logo Background",style:I(w,140,.8,"drop-shadow(0 0 10px rgba(245, 30, 30, 0.2))")}),r.createElement("img",{src:PF,alt:"Fargorate Logo Background",style:I(E,140,.8,"drop-shadow(0 0 10px rgba(245, 30, 30, 0.2))")}),r.createElement("img",{src:Mm,alt:"8 Ball Background",style:I(_,40,.7,"drop-shadow(0 0 10px rgba(245, 30, 30, 0.3))",!0)}),r.createElement("img",{src:QE,alt:"9 Ball Background",style:I(S,40,.7,"drop-shadow(0 0 10px rgba(245, 30, 30, 0.3))",!0)}),r.createElement("img",{src:Ap,alt:"10 Ball Background",style:I(C,40,.7,"drop-shadow(0 0 10px rgba(245, 30, 30, 0.3))",!0)}))}function BF(){const[t,a]=v.useState(!1),[e,n]=v.useState(!1),[i,l]=v.useState(!1),[c,u]=v.useState({width:0,height:0}),[m,h]=v.useState(!1),[f,y]=v.useState("portrait"),b=v.useCallback(()=>{if(typeof window>"u")return!1;const I=window.innerWidth,N=window.innerHeight;u({width:I,height:N});const k=I>N;l(k),y(k?"landscape":"portrait");const M=(()=>{if(I<=768)return!0;if(typeof navigator<"u"){const T=navigator.userAgent.toLowerCase();if(["android","webos","iphone","ipad","ipod","blackberry","iemobile","opera mini","mobile"].some(z=>T.includes(z)))return!0}return"ontouchstart"in window||navigator.maxTouchPoints>0?I<=1024:!1})();a(M),n(I>768&&I<=1024),h("ontouchstart"in window||navigator.maxTouchPoints>0)},[]),w={xs:480,sm:640,md:768,lg:1024,xl:1280,"2xl":1536},E=v.useCallback(()=>{const I=c.width;return I<w.xs?"xs":I<w.sm?"sm":I<w.md?"md":I<w.lg?"lg":I<w.xl?"xl":"2xl"},[c.width]),_={spacing:{xs:t?"4px":"8px",sm:t?"8px":"12px",md:t?"12px":"16px",lg:t?"16px":"24px",xl:t?"24px":"32px"},sizes:{buttonHeight:t?"44px":"36px",inputHeight:t?"44px":"36px",iconSize:t?"1.2rem":"1rem",fontSize:{xs:t?"0.7rem":"0.75rem",sm:t?"0.8rem":"0.875rem",md:t?"0.9rem":"1rem",lg:t?"1rem":"1.125rem",xl:t?"1.1rem":"1.25rem"}},animations:{duration:t?"0.2s":"0.3s",easing:"ease-out",scale:t?.98:.95},styles:{card:{padding:t?"12px":"16px",borderRadius:t?"8px":"12px",marginBottom:t?"8px":"12px"},button:{padding:t?"12px 16px":"10px 20px",fontSize:t?"0.9rem":"1rem",minHeight:t?"44px":"36px"},input:{padding:t?"12px":"10px",fontSize:t?"16px":"14px",minHeight:t?"44px":"36px"}}},S={threshold:80,velocity:.3,calculateSwipe:(I,N,k,M)=>{const T=k-I,q=M-N,z=Math.sqrt(T*T+q*q),G=z/300;return{deltaX:T,deltaY:q,distance:z,velocity:G,direction:Math.abs(T)>Math.abs(q)?T>0?"right":"left":q>0?"down":"up",isHorizontal:Math.abs(T)>Math.abs(q),isValid:z>50&&G>S.velocity}},createSwipeHandler:(I,N,k,M)=>{let T=0,q=0;return{onTouchStart:z=>{T=z.touches[0].clientX,q=z.touches[0].clientY},onTouchEnd:z=>{const G=z.changedTouches[0].clientX,K=z.changedTouches[0].clientY,ie=S.calculateSwipe(T,q,G,K);if(ie.isValid)switch(ie.direction){case"left":I&&I(ie);break;case"right":N&&N(ie);break;case"up":k&&k(ie);break;case"down":M&&M(ie);break}}}}},C={threshold:80,createPullToRefreshHandler:I=>{let N=0,k=0,M=!1;return{onTouchStart:T=>{window.scrollY===0&&(N=T.touches[0].clientY,M=!0)},onTouchMove:T=>{M&&window.scrollY===0&&(k=T.touches[0].clientY,k-N>0&&T.preventDefault())},onTouchEnd:async()=>{M&&(k-N>C.threshold&&await I(),M=!1,N=0,k=0)}}}};return v.useEffect(()=>{b();const I=()=>{b()},N=()=>{setTimeout(b,100)};return window.addEventListener("resize",I),window.addEventListener("orientationchange",N),()=>{window.removeEventListener("resize",I),window.removeEventListener("orientationchange",N)}},[b]),{isMobile:t,isTablet:e,isLandscape:i,screenSize:c,touchCapable:m,orientation:f,breakpoints:w,getBreakpoint:E,mobileUtils:_,swipeUtils:S,pullToRefreshUtils:C,isSmallScreen:c.width<w.md,isMediumScreen:c.width>=w.md&&c.width<w.lg,isLargeScreen:c.width>=w.lg,isIOS:typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),isAndroid:typeof navigator<"u"&&/Android/.test(navigator.userAgent),isSafari:typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),redetect:b}}function OF({activeTab:t,onTabChange:a,onQuickAction:e,pendingCount:n=0,sentCount:i=0,matchesCount:l=0}){const c=[{id:"overview",label:"Home",icon:r.createElement(Rz,null),badge:null},{id:"matches",label:"Matches",icon:r.createElement(Nl,null),badge:l>0?l:null},{id:"proposals",label:"Proposals",icon:r.createElement(gd,null),badge:n>0?n:null},{id:"standings",label:"Standings",icon:r.createElement(hd,null),badge:null},{id:"chat",label:"Chat",icon:r.createElement(Nz,null),badge:null}];return r.createElement("div",{style:{position:"fixed",bottom:0,left:0,right:0,background:"rgba(24, 24, 27, 0.95)",backdropFilter:"blur(20px)",borderTop:"1px solid rgba(255, 255, 255, 0.1)",padding:"8px 0",zIndex:1e3,display:"flex",justifyContent:"space-around",alignItems:"center"}},c.map(u=>r.createElement("button",{key:u.id,onClick:()=>a(u.id),style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"transparent",border:"none",color:t===u.id?"#e53e3e":"#888",padding:"8px 4px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",minHeight:"60px",minWidth:"60px",position:"relative"},onTouchStart:m=>{m.target.style.transform="scale(0.95)"},onTouchEnd:m=>{m.target.style.transform="scale(1)"}},r.createElement("div",{style:{fontSize:"1.2rem",marginBottom:"2px",display:"flex",alignItems:"center",justifyContent:"center"}},u.icon),r.createElement("span",{style:{fontSize:"0.7rem",fontWeight:t===u.id?"600":"400",textAlign:"center"}},u.label),u.badge&&r.createElement("div",{style:{position:"absolute",top:"4px",right:"4px",background:"#e53e3e",color:"#fff",borderRadius:"50%",width:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.6rem",fontWeight:"600",border:"2px solid rgba(24, 24, 27, 0.95)"}},u.badge>99?"99+":u.badge))),r.createElement("button",{onClick:e,style:{position:"absolute",top:"-20px",left:"50%",transform:"translateX(-50%)",background:"linear-gradient(135deg, #e53e3e, #c53030)",color:"#fff",border:"none",borderRadius:"50%",width:"56px",height:"56px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",cursor:"pointer",boxShadow:"0 4px 16px rgba(229, 62, 62, 0.4)",transition:"all 0.2s ease",zIndex:1001},onTouchStart:u=>{u.target.style.transform="translateX(-50%) scale(0.95)"},onTouchEnd:u=>{u.target.style.transform="translateX(-50%) scale(1)"}},r.createElement(Qa,null)))}function Ux({children:t,title:a,subtitle:e,onTap:n,onSwipeLeft:i,onSwipeRight:l,swipeThreshold:c=80,showSwipeActions:u=!0,className:m="",style:h={},...f}){const[y,b]=v.useState(!1),[w,E]=v.useState(0),[_,S]=v.useState(0),[C,I]=v.useState(null),N=v.useRef(null),k=z=>{E(z.touches[0].clientX),S(z.touches[0].clientX),b(!0),I(null)},M=z=>{if(!y)return;const G=z.touches[0].clientX;S(G);const K=G-w;Math.abs(K)>20&&I(K>0?"right":"left")},T=()=>{if(!y)return;const z=_-w;Math.abs(z)>c&&(z>0&&l?l():z<0&&i&&i()),b(!1),E(0),S(0),I(null)},q=()=>{!y&&n&&n()};return r.createElement("div",{ref:N,className:`mobile-optimized-card ${m}`,onTouchStart:k,onTouchMove:M,onTouchEnd:T,onClick:q,style:{position:"relative",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.04) 100%)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.15)",padding:"16px",marginBottom:"12px",cursor:n?"pointer":"default",transition:y?"none":"all 0.3s ease",transform:y?`translateX(${_-w}px)`:"translateX(0)",touchAction:"pan-y",userSelect:"none",WebkitTapHighlightColor:"transparent",...h},...f},u&&r.createElement(r.Fragment,null,r.createElement("div",{style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",opacity:C==="right"?.8:0,transition:"opacity 0.2s ease",color:"#10b981",fontSize:"1.2rem"}},r.createElement(gl,null)),r.createElement("div",{style:{position:"absolute",right:"16px",top:"50%",transform:"translateY(-50%)",opacity:C==="left"?.8:0,transition:"opacity 0.2s ease",color:"#ef4444",fontSize:"1.2rem"}},r.createElement(Al,null))),(a||e)&&r.createElement("div",{style:{marginBottom:"12px"}},a&&r.createElement("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:"600",color:"#fff",lineHeight:"1.3"}},a),e&&r.createElement("p",{style:{margin:"4px 0 0 0",fontSize:"0.85rem",color:"#ccc",opacity:.8,lineHeight:"1.4"}},e)),r.createElement("div",{style:{position:"relative"}},t),n&&r.createElement("div",{style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",color:"#888",fontSize:"0.8rem",opacity:.6}},r.createElement(w5,null)),r.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"12px",background:C==="right"?"linear-gradient(90deg, rgba(16, 185, 129, 0.1) 0%, transparent 50%)":C==="left"?"linear-gradient(90deg, transparent 50%, rgba(239, 68, 68, 0.1) 100%)":"transparent",opacity:Math.abs(_-w)/c,transition:"opacity 0.2s ease",pointerEvents:"none"}}))}function Mg({title:t,subtitle:a,children:e,collapsible:n=!1,defaultCollapsed:i=!1,onToggle:l,className:c="",style:u={},...m}){const[h,f]=r.useState(i),y=()=>{n&&(f(!h),l&&l(!h))};return r.createElement("div",{className:`mobile-section ${c}`,style:{background:"rgba(255, 255, 255, 0.02)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.08)",padding:"16px",marginBottom:"16px",...u},...m},(t||a)&&r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:n&&!h?"12px":"0",cursor:n?"pointer":"default"},onClick:y},r.createElement("div",{style:{flex:1}},t&&r.createElement("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:"600",color:"#fff",lineHeight:"1.3"}},t),a&&r.createElement("p",{style:{margin:"4px 0 0 0",fontSize:"0.85rem",color:"#ccc",opacity:.8,lineHeight:"1.4"}},a)),n&&r.createElement("div",{style:{color:"#888",fontSize:"0.8rem",transition:"transform 0.2s ease",transform:h?"rotate(0deg)":"rotate(180deg)"}},r.createElement(_z,null))),r.createElement("div",{style:{display:n&&h?"none":"block",transition:"all 0.3s ease"}},e))}function zF({children:t,columns:a=2,className:e="",style:n={}}){return r.createElement("div",{className:`mobile-stats-grid ${e}`,style:{display:"grid",gridTemplateColumns:`repeat(${a}, 1fr)`,gap:"12px",...n}},t)}function Fx({title:t,value:a,subtitle:e,icon:n,color:i="#e53e3e",onClick:l,className:c="",style:u={},...m}){return r.createElement("div",{className:`mobile-stat-card ${c}`,onClick:l,style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.02) 100%)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"12px",textAlign:"center",cursor:l?"pointer":"default",transition:"all 0.2s ease",...u},onTouchStart:h=>{l&&(h.target.style.transform="scale(0.98)")},onTouchEnd:h=>{l&&(h.target.style.transform="scale(1)")},...m},n&&r.createElement("div",{style:{fontSize:"1.5rem",color:i,marginBottom:"8px",display:"flex",justifyContent:"center"}},n),r.createElement("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#fff",marginBottom:"4px",lineHeight:"1.2"}},a),r.createElement("div",{style:{fontSize:"0.8rem",color:"#ccc",fontWeight:"500",marginBottom:e?"2px":"0"}},t),e&&r.createElement("div",{style:{fontSize:"0.7rem",color:"#888",lineHeight:"1.3"}},e))}function UF(){const{isMobile:t,isTablet:a,screenSize:e,touchCapable:n,orientation:i,getBreakpoint:l}=BF(),[c,u]=r.useState("overview");return r.createElement("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a1a1a 0%, #2d1b69 100%)",color:"#fff",padding:"16px",paddingBottom:"100px"}},r.createElement(Mg,{title:"Mobile Detection Test"},r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px"}},r.createElement("div",null," Is Mobile: ",r.createElement("strong",null,t?"YES":"NO")),r.createElement("div",null," Is Tablet: ",r.createElement("strong",null,a?"YES":"NO")),r.createElement("div",null," Touch Capable: ",r.createElement("strong",null,n?"YES":"NO")),r.createElement("div",null," Orientation: ",r.createElement("strong",null,i)),r.createElement("div",null," Screen Size: ",r.createElement("strong",null,e.width," x ",e.height)),r.createElement("div",null," Breakpoint: ",r.createElement("strong",null,l())))),r.createElement(Mg,{title:"Touch Interaction Test"},r.createElement(Ux,{title:"Swipe Test Card",subtitle:"Try swiping left or right",onTap:()=>alert("Card tapped!"),onSwipeLeft:()=>alert("Swiped left!"),onSwipeRight:()=>alert("Swiped right!")},r.createElement("div",{style:{padding:"8px 0"}},r.createElement("p",null,"This card supports swipe gestures. Try swiping left or right to see the action indicators."))),r.createElement(Ux,{title:"Tap Test Card",subtitle:"Tap to test touch response",onTap:()=>alert("Touch response working!")},r.createElement("div",{style:{padding:"8px 0"}},r.createElement("p",null,"Tap this card to test touch responsiveness and visual feedback.")))),r.createElement(Mg,{title:"Stats Grid Test"},r.createElement(zF,{columns:2},r.createElement(Fx,{title:"Test Stat 1",value:"42",subtitle:"Sample data",color:"#e53e3e",onClick:()=>alert("Stat 1 clicked!")}),r.createElement(Fx,{title:"Test Stat 2",value:"17",subtitle:"More data",color:"#10b981",onClick:()=>alert("Stat 2 clicked!")}))),r.createElement(OF,{activeTab:c,onTabChange:u,onQuickAction:()=>alert("Quick action!"),pendingCount:3,sentCount:5,matchesCount:12}))}const S5=({isAuthenticated:t,userFirstName:a,userLastName:e,userEmail:n,userPin:i,handleLogout:l})=>{const c=ss(),[u,m]=v.useState(null),h=[{id:"league",name:"League App",description:"Manage league matches, schedules, and standings",icon:"",color:"#4CAF50",status:"active",route:"/league"},{id:"ladder",name:"Ladder App",description:"Challenge-based ladder system with rankings",icon:"",color:"#2196F3",status:"active",route:"/ladder"},{id:"tournament",name:"Tournament App",description:"Tournament brackets and management",icon:"",color:"#FF9800",status:"coming-soon",route:"/tournament"},{id:"stats",name:"Stats App",description:"Player statistics and analytics",icon:"",color:"#9C27B0",status:"coming-soon",route:"/stats"}],f=b=>{b.status==="active"?(m(b),c(b.route)):alert(`${b.name} is coming soon!`)},y=()=>{l(),c("/")};return r.createElement("div",{className:"app-hub-container"},r.createElement("div",{className:"app-hub-header"},r.createElement("div",{className:"hub-title"},r.createElement("h1",null,"Front Range Pool Hub"),r.createElement("p",null,"Choose your pool experience")),t&&r.createElement("div",{className:"user-info"},r.createElement("span",null,"Welcome, ",a," ",e),r.createElement("button",{onClick:y,className:"logout-btn"},"Logout"))),r.createElement("div",{className:"apps-section"},r.createElement("h2",{className:"section-title"},"Available Apps"),r.createElement("div",{className:"apps-grid active-apps"},h.filter(b=>b.status==="active").map(b=>r.createElement("div",{key:b.id,className:`app-card ${b.status}`,onClick:()=>f(b),style:{"--app-color":b.color}},r.createElement("div",{className:"app-icon"},b.icon),r.createElement("div",{className:"app-info"},r.createElement("h3",null,b.name),r.createElement("p",null,b.description),r.createElement("div",{className:"app-status"},r.createElement("span",{className:"status-active"},"Available"))))))),r.createElement("div",{className:"apps-section"},r.createElement("h2",{className:"section-title"},"Coming Soon"),r.createElement("div",{className:"apps-grid coming-soon-apps"},h.filter(b=>b.status==="coming-soon").map(b=>r.createElement("div",{key:b.id,className:`app-card ${b.status}`,onClick:()=>f(b),style:{"--app-color":b.color}},r.createElement("div",{className:"app-icon"},b.icon),r.createElement("div",{className:"app-info"},r.createElement("h3",null,b.name),r.createElement("p",null,b.description),r.createElement("div",{className:"app-status"},r.createElement("span",{className:"status-coming-soon"},"Coming Soon"))))))),r.createElement("div",{className:"hub-footer"},r.createElement("p",null,"More apps coming soon! Stay tuned for updates.")))};function FF({onSuccess:t}){const[a,e]=v.useState(""),[n,i]=v.useState(""),[l,c]=v.useState(!1),[u,m]=v.useState(!1),[h,f]=v.useState(null),y=async()=>{if(!a){i("Please enter your email or PIN.");return}i(""),c(!0),f(null);try{const w=await fetch(`${ke}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:a.trim()})});if(!w.ok)throw new Error(`HTTP error! status: ${w.status}`);const E=await w.json();c(!1),E.success?(i(""),t(`${E.user.firstName} ${E.user.lastName}`.trim(),E.user.email,E.user.pin)):i(E.message||"No user found with that email or PIN. Please try again or contact frbcapl@gmail.com for help.")}catch(w){c(!1),f(w),i("Error verifying login. Please try again later."),console.error("Login verification error:",w)}},b=w=>{w.key==="Enter"&&y()};return h?r.createElement("div",{className:"embedded-login-frame"},r.createElement("div",{className:"pinLoginCard"},r.createElement("h3",{className:"pinLoginSubtitle"},r.createElement("span",{className:"pinLoginLock","aria-hidden":"true"},""),r.createElement("span",{className:"pinOutlineText"},"Login")),r.createElement("p",{className:"pinLoginError"},"Something went wrong. Please refresh the page and try again."))):r.createElement("div",{className:"embedded-login-frame"},r.createElement("div",{className:"simulationOuterWrapper"},r.createElement("div",{className:"simulationContainer"},r.createElement(JE,{aspectWidth:600,aspectHeight:300},r.createElement(Tm,null)))),r.createElement("div",{className:"pinLoginCard"},r.createElement("h3",{className:"pinLoginSubtitle"},r.createElement("span",{className:"pinLoginLock","aria-hidden":"true"},""),r.createElement("span",{className:"pinOutlineText"},"Enter Email or PIN")),r.createElement("div",{className:"inputWrapper"},r.createElement("input",{type:u?"text":"password",value:a,onChange:w=>e(w.target.value),onKeyDown:b,placeholder:"Email or PIN",autoFocus:!0,className:"pinInput","aria-label":"Email or PIN",disabled:l}),r.createElement("button",{type:"button",onClick:()=>m(!u),className:"passwordToggle","aria-label":u?"Hide password":"Show password"},u?"":"")),r.createElement("button",{onClick:y,disabled:l,className:"pinLoginBtn",type:"button"},l?"Verifying...":"Submit"),n&&r.createElement("p",{className:"pinLoginError",role:"alert"},n)))}const WF=({onLoginSuccess:t})=>{const a=[{id:"league",name:"League App",description:"Manage league matches, schedules, and standings",icon:"",color:"#4CAF50",status:"active"},{id:"ladder",name:"Ladder App",description:"Challenge-based ladder system with rankings",icon:"",color:"#2196F3",status:"active"},{id:"tournament",name:"Tournament App",description:"Tournament brackets and management",icon:"",color:"#FF9800",status:"coming-soon"},{id:"stats",name:"Stats App",description:"Player statistics and analytics",icon:"",color:"#9C27B0",status:"coming-soon"}],e=(n,i,l)=>{t(n,i,l)};return r.createElement("div",{className:"logged-out-hub-container"},r.createElement("div",{className:"logged-out-hub-header"},r.createElement("div",{className:"hub-title"},r.createElement("h1",null,"Front Range Pool Hub"),r.createElement("p",null,"Choose your pool experience"))),r.createElement("div",{className:"login-section"},r.createElement(FF,{onSuccess:e}),r.createElement("p",{className:"login-description"},"Login to access league and ladder features. Guest access available for cross-app features.")),r.createElement("div",{className:"apps-section"},r.createElement("h2",{className:"section-title"},"Available Apps"),r.createElement("div",{className:"apps-grid active-apps"},a.filter(n=>n.status==="active").map(n=>r.createElement("div",{key:n.id,className:`app-card ${n.status} logged-out`,style:{"--app-color":n.color}},r.createElement("div",{className:"app-icon"},n.icon),r.createElement("div",{className:"app-info"},r.createElement("h3",null,n.name),r.createElement("p",null,n.description),r.createElement("div",{className:"app-status"},r.createElement("span",{className:"status-login-required"},"Login Required"))))))),r.createElement("div",{className:"apps-section"},r.createElement("h2",{className:"section-title"},"Coming Soon"),r.createElement("div",{className:"apps-grid coming-soon-apps"},a.filter(n=>n.status==="coming-soon").map(n=>r.createElement("div",{key:n.id,className:`app-card ${n.status}`,style:{"--app-color":n.color}},r.createElement("div",{className:"app-icon"},n.icon),r.createElement("div",{className:"app-info"},r.createElement("h3",null,n.name),r.createElement("p",null,n.description),r.createElement("div",{className:"app-status"},r.createElement("span",{className:"status-coming-soon"},"Coming Soon"))))))))},HF=({currentAppName:t,isAdmin:a,isSuperAdmin:e})=>{const n=ss(),i=rs(),l=()=>{n("/hub")},c=()=>{n("/hub")},u=()=>{n("/admin")},m=()=>{n("/admin/players")},h=()=>{n("/platform-admin")};return i.pathname==="/hub"?null:r.createElement("div",{className:"hub-navigation"},r.createElement("div",{className:"nav-content"},r.createElement("div",{className:"nav-left"},r.createElement("button",{onClick:l,className:"hub-btn"}," Front Range Hub"),t&&r.createElement("span",{className:"current-app"}," ",t)),r.createElement("div",{className:"nav-right"},a&&r.createElement(r.Fragment,null,r.createElement("button",{onClick:m,className:"admin-btn"}," Players"),r.createElement("button",{onClick:u,className:"admin-btn"}," Admin")),e&&r.createElement("button",{onClick:h,className:"super-admin-btn"}," Platform Admin"),r.createElement("button",{onClick:c,className:"switch-app-btn"}," Switch App"))))},qr=({appName:t,children:a})=>(v.useEffect(()=>{t&&window.dispatchEvent(new CustomEvent("appNameChange",{detail:t}))},[t]),a),jF=({playerName:t,playerLastName:a,senderEmail:e,userPin:n,onLogout:i,isAdmin:l=!1})=>{const c=ss(),[u,m]=v.useState("main"),[h,f]=v.useState(null),[y,b]=v.useState([]),[w,E]=v.useState(!0),[_,S]=v.useState(null),[C,I]=v.useState(!1),[N,k]=v.useState({email:"",pin:""}),[M,T]=v.useState(!1);v.useEffect(()=>{q()},[]);const q=async()=>{try{E(!0);const A=await(await fetch(`${ke}/api/ladder/ladders/499-under/players`)).json();console.log("Ladder API response:",A),A&&Array.isArray(A)?(b(A),console.log(`Loaded ${A.length} players from ladder`)):console.error("Invalid ladder data format:",A),e?await z(e):f({playerId:"guest",name:`${t} ${a}`,email:null,fargoRate:450,ladder:"499-under",position:"Guest",immunityUntil:null,activeChallenges:[],canChallenge:!1})}catch(R){console.error("Error loading ladder data:",R),f({playerId:"guest",name:`${t} ${a}`,email:e,fargoRate:450,ladder:"499-under",position:"Guest",immunityUntil:null,activeChallenges:[],canChallenge:!1})}finally{E(!1)}},z=async R=>{try{const F=await(await fetch(`${ke}/api/ladder/player-status/${R}`)).json();S(F),F.isLadderPlayer?f({playerId:"ladder",name:`${F.ladderInfo.firstName} ${F.ladderInfo.lastName}`,email:R,fargoRate:F.ladderInfo.fargoRate,ladder:F.ladderInfo.ladderName,position:F.ladderInfo.position,immunityUntil:F.ladderInfo.immunityUntil,activeChallenges:[],canChallenge:F.ladderInfo.isActive,stats:F.ladderInfo.stats}):F.isLeaguePlayer?f({playerId:"league",name:`${F.leagueInfo.firstName} ${F.leagueInfo.lastName}`,email:R,fargoRate:450,ladder:"499-under",position:"League Player - Claim Account",immunityUntil:null,activeChallenges:[],canChallenge:!1,needsClaim:!0}):f({playerId:"unknown",name:`${t} ${a}`,email:R,fargoRate:450,ladder:"499-under",position:"Not Recognized",immunityUntil:null,activeChallenges:[],canChallenge:!1})}catch(A){console.error("Error checking player status:",A)}},G=async R=>{R.preventDefault(),T(!0);try{const F=await(await fetch(`${ke}/api/ladder/claim-account`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)})).json();F.success?(await z(N.email),I(!1),k({email:"",pin:""}),alert("Account claimed successfully!")):alert(F.error||"Failed to claim account")}catch(A){console.error("Error claiming account:",A),alert("Failed to claim account")}finally{T(!1)}},K=()=>{i(),c("/hub")},ie=R=>{m(R)},H=()=>r.createElement("div",{className:"claim-account-modal"},r.createElement("div",{className:"claim-account-content"},r.createElement("h3",null,"Claim Your Ladder Account"),r.createElement("p",null,"Enter your league email and PIN to claim your ladder account"),r.createElement("form",{onSubmit:G},r.createElement("div",{className:"form-group"},r.createElement("label",null,"Email:"),r.createElement("input",{type:"email",value:N.email,onChange:R=>k({...N,email:R.target.value}),placeholder:"Enter your league email",required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"PIN:"),r.createElement("input",{type:"password",value:N.pin,onChange:R=>k({...N,pin:R.target.value}),placeholder:"Enter your league PIN",required:!0})),r.createElement("div",{className:"form-actions"},r.createElement("button",{type:"submit",disabled:M,className:"claim-btn"},M?"Claiming...":"Claim Account"),r.createElement("button",{type:"button",onClick:()=>I(!1),className:"cancel-btn"},"Cancel"))))),Z=()=>r.createElement("div",{className:"ladder-view"},r.createElement("div",{className:"ladder-header-section"},r.createElement("h2",null,"499 & Under Ladder"),r.createElement("p",null,"Current rankings and positions")),r.createElement("div",{className:"ladder-table"},r.createElement("div",{className:"table-header"},r.createElement("div",{className:"header-cell"},"Rank"),r.createElement("div",{className:"header-cell"},"Player"),r.createElement("div",{className:"header-cell"},"FargoRate"),r.createElement("div",{className:"header-cell"},"Wins"),r.createElement("div",{className:"header-cell"},"Losses"),r.createElement("div",{className:"header-cell"},"Status")),y.map((R,A)=>{var F,Q;return r.createElement("div",{key:R._id||A,className:"table-row"},r.createElement("div",{className:"table-cell rank"},"#",R.position),r.createElement("div",{className:"table-cell name"},R.firstName," ",R.lastName,!R.email&&r.createElement("span",{className:"no-account"},"*")),r.createElement("div",{className:"table-cell fargo"},R.fargoRate),r.createElement("div",{className:"table-cell wins"},((F=R.stats)==null?void 0:F.wins)||0),r.createElement("div",{className:"table-cell losses"},((Q=R.stats)==null?void 0:Q.losses)||0),r.createElement("div",{className:"table-cell status"},R.isActive?R.immunityUntil&&new Date(R.immunityUntil)>new Date?r.createElement("span",{className:"immune"},"Immune"):r.createElement("span",{className:"active"},"Active"):r.createElement("span",{className:"inactive"},"Inactive")))})),r.createElement("div",{className:"ladder-legend"},r.createElement("p",null,r.createElement("span",{className:"no-account"},"*")," = Account not claimed yet"),r.createElement("p",null,"Players can claim their accounts to participate in challenges"),r.createElement("p",null,r.createElement("strong",null,"Anyone can view the ladder - no account required!"))),r.createElement("button",{onClick:()=>m("main"),className:"back-btn"}," Back to Main Menu")),O=()=>r.createElement(r.Fragment,null,r.createElement("div",{className:"user-status-card"},r.createElement("div",{className:"status-info"},r.createElement("h3",null,"Your Ladder Status"),r.createElement("div",{className:"status-details"},r.createElement("div",{className:"status-item"},r.createElement("span",{className:"label"},"Ladder:"),r.createElement("span",{className:"value"},(h==null?void 0:h.ladder)==="499-under"?"499 & Under":(h==null?void 0:h.ladder)==="500-549"?"500-549":"550+")),r.createElement("div",{className:"status-item"},r.createElement("span",{className:"label"},"Position:"),r.createElement("span",{className:"value"},h==null?void 0:h.position)),r.createElement("div",{className:"status-item"},r.createElement("span",{className:"label"},"FargoRate:"),r.createElement("span",{className:"value"},h==null?void 0:h.fargoRate)),(h==null?void 0:h.immunityUntil)&&r.createElement("div",{className:"status-item immunity"},r.createElement("span",{className:"label"},"Immunity Until:"),r.createElement("span",{className:"value"},new Date(h.immunityUntil).toLocaleDateString())),(h==null?void 0:h.needsClaim)&&r.createElement("div",{className:"status-item claim-notice"},r.createElement("span",{className:"label"},"Account Status:"),r.createElement("span",{className:"value"},"League Player - Claim your ladder account to participate!")),(h==null?void 0:h.playerId)==="unknown"&&r.createElement("div",{className:"status-item unknown-notice"},r.createElement("span",{className:"label"},"Account Status:"),r.createElement("span",{className:"value"},"Not recognized - Contact admin to be added to league"))),(h==null?void 0:h.needsClaim)&&r.createElement("div",{className:"claim-account-section"},r.createElement("button",{onClick:()=>I(!0),className:"claim-account-btn"},"Claim Your Ladder Account"),r.createElement("p",{className:"claim-info"},"Use your league email and PIN to claim your ladder account")))),r.createElement("div",{className:"ladder-navigation"},r.createElement("div",{className:"nav-grid"},r.createElement("div",{className:"nav-card",onClick:()=>ie("ladders")},r.createElement("div",{className:"nav-icon"},""),r.createElement("h3",null,"View Ladders"),r.createElement("p",null,"See all ladder positions and rankings")),(h==null?void 0:h.canChallenge)&&r.createElement("div",{className:"nav-card",onClick:()=>ie("challenge")},r.createElement("div",{className:"nav-icon"},""),r.createElement("h3",null,"Make Challenge"),r.createElement("p",null,"Call out another player for a match")),(h==null?void 0:h.playerId)==="ladder"&&r.createElement("div",{className:"nav-card",onClick:()=>ie("matches")},r.createElement("div",{className:"nav-icon"},""),r.createElement("h3",null,"My Matches"),r.createElement("p",null,"View your active and past matches")),r.createElement("div",{className:"nav-card",onClick:()=>ie("rules")},r.createElement("div",{className:"nav-icon"},""),r.createElement("h3",null,"Ladder Rules"),r.createElement("p",null,"Read the complete ladder rules")),l&&r.createElement("div",{className:"nav-card admin-card",onClick:()=>c("/ladder/admin")},r.createElement("div",{className:"nav-icon"},""),r.createElement("h3",null,"Ladder Admin"),r.createElement("p",null,"Manage ladder players and settings")))));return w?r.createElement("div",{className:"ladder-app-container"},r.createElement("div",{className:"loading-spinner"},r.createElement("div",{className:"spinner"}),r.createElement("p",null,"Loading ladder data..."))):r.createElement("div",{className:"ladder-app-container"},r.createElement("div",{className:"ladder-header"},r.createElement("div",{className:"ladder-title"},r.createElement("h1",null,"Front Range Pool Ladder"),r.createElement("p",null,"Challenge-based ladder system with rankings")),r.createElement("div",{className:"user-info"},r.createElement("span",null,"Welcome, ",t," ",a),r.createElement("button",{onClick:K,className:"logout-btn"},"Logout"))),u==="ladders"?Z():O(),r.createElement("div",{className:"ladder-footer"},r.createElement("p",null,"Challenge your way to the top! ")),C&&H())},YF=(t,a={})=>{const e=t.trim().split(`
`),n=e[0].split(",").map(c=>c.trim().replace(/"/g,"")),i={position:"Position",firstName:"First Name",lastName:"Last Name",name:"Name",email:"Email",fargoRate:"FargoRate",...a},l=[];for(let c=1;c<e.length;c++){const u=e[c].split(",").map(h=>h.trim().replace(/"/g,"")),m={};n.forEach((h,f)=>{const y=u[f];let b=null;for(const[w,E]of Object.entries(i))if(h.toLowerCase()===E.toLowerCase()){b=w;break}if(b)switch(b){case"position":case"fargoRate":m[b]=parseInt(y)||0;break;case"firstName":case"lastName":case"email":m[b]=y||"";break;case"name":const w=y.split(" ");m.firstName=w[0]||"",m.lastName=w.slice(1).join(" ")||"";break;default:m[b]=y}}),m.email&&l.push(m)}return l},qF=()=>`Position,Name,Email,FargoRate
1,John Doe,john@example.com,485
2,Jane Smith,jane@example.com,472
3,Bob Johnson,bob@example.com,458`,$F=t=>{const a={valid:[],errors:[]};return t.forEach((e,n)=>{const i=[];e.email||i.push("Email is required"),!e.firstName&&!e.name&&i.push("Name is required"),e.email&&!GF(e.email)&&i.push("Invalid email format"),e.fargoRate&&(e.fargoRate<0||e.fargoRate>9999)&&i.push("FargoRate must be between 0 and 9999"),i.length>0?a.errors.push({row:n+1,player:e,errors:i}):a.valid.push(e)}),a},GF=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),ZF=({userEmail:t,userPin:a})=>{var N;const[e,n]=v.useState("499-under"),[i,l]=v.useState([]),[c,u]=v.useState(""),[m,h]=v.useState("json"),[f,y]=v.useState(!1),[b,w]=v.useState(""),E=[{name:"499-under",displayName:"499 & Under"},{name:"500-549",displayName:"500-549"},{name:"550-plus",displayName:"550+"}];v.useEffect(()=>{_()},[e]);const _=async()=>{try{y(!0);const k=await fetch(`${ke}/api/ladder/admin/${e}`);if(k.ok){const M=await k.json();l(M)}else w("Failed to load ladder data")}catch(k){console.error("Error loading ladder data:",k),w("Error loading ladder data")}finally{y(!1)}},S=async()=>{try{y(!0),w("");let k;if(m==="csv")try{const q=YF(c),z=$F(q);if(z.errors.length>0){w(`Validation errors found: ${z.errors.length} errors. Please check your data.`);return}k=z.valid}catch{w("Invalid CSV format. Please check your data.");return}else try{k=JSON.parse(c)}catch{w("Invalid JSON format. Please check your data.");return}const M=await fetch(`${ke}/api/ladder/import`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ladderData:k,ladderName:e})}),T=await M.json();M.ok?(w(`Import completed! Imported: ${T.results.imported}, Skipped: ${T.results.skipped}`),u(""),_()):w(`Import failed: ${T.error}`)}catch(k){console.error("Error importing data:",k),w("Error importing data")}finally{y(!1)}},C=async()=>{try{y(!0),w("");const k=i.map((q,z)=>({email:q.email,position:z+1})),M=await fetch(`${ke}/api/ladder/update-positions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ladderName:e,positions:k})}),T=await M.json();M.ok?(w(`Positions updated! Updated: ${T.results.updated}`),_()):w(`Update failed: ${T.error}`)}catch(k){console.error("Error updating positions:",k),w("Error updating positions")}finally{y(!1)}},I=()=>{const k=[["Position","Name","Email","FargoRate","Status"],...i.map(z=>[z.position,`${z.firstName} ${z.lastName}`,z.email,z.fargoRate,z.isActive?"Active":"Inactive"])].map(z=>z.join(",")).join(`
`),M=new Blob([k],{type:"text/csv"}),T=window.URL.createObjectURL(M),q=document.createElement("a");q.href=T,q.download=`${e}-ladder.csv`,q.click(),window.URL.revokeObjectURL(T)};return r.createElement("div",{className:"ladder-management"},r.createElement("div",{className:"management-header"},r.createElement("h2",null,"Ladder Management"),r.createElement("p",null,"Import and manage ladder data from Google Sheets")),r.createElement("div",{className:"ladder-selector"},r.createElement("label",null,"Select Ladder:"),r.createElement("select",{value:e,onChange:k=>n(k.target.value)},E.map(k=>r.createElement("option",{key:k.name,value:k.name},k.displayName)))),r.createElement("div",{className:"import-section"},r.createElement("h3",null,"Import Data from Google Sheets"),r.createElement("div",{className:"import-instructions"},r.createElement("p",null,r.createElement("strong",null,"Instructions:")),r.createElement("ol",null,r.createElement("li",null,"Export your Google Sheet as CSV"),r.createElement("li",null,"Choose your import format below"),r.createElement("li",null,"Paste the data and click Import")),r.createElement("div",{className:"import-mode-selector"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"csv",checked:m==="csv",onChange:k=>h(k.target.value)}),"CSV Format (from Google Sheets)"),r.createElement("label",null,r.createElement("input",{type:"radio",value:"json",checked:m==="json",onChange:k=>h(k.target.value)}),"JSON Format")),m==="csv"?r.createElement("div",null,r.createElement("p",null,r.createElement("strong",null,"Expected CSV format:")),r.createElement("pre",null,qF()),r.createElement("p",null,"Supported columns: Position, Name, Email, FargoRate")):r.createElement("div",null,r.createElement("p",null,r.createElement("strong",null,"Expected JSON format:")),r.createElement("pre",null,`[
  {
    "firstName": "John",
    "lastName": "Doe", 
    "email": "john@example.com",
    "fargoRate": 485,
    "position": 1
  }
]`))),r.createElement("div",{className:"import-form"},r.createElement("textarea",{value:c,onChange:k=>u(k.target.value),placeholder:m==="csv"?"Paste your CSV data here...":"Paste your JSON data here...",rows:10}),r.createElement("button",{onClick:S,disabled:f||!c.trim(),className:"import-btn"},f?"Importing...":"Import Data"))),r.createElement("div",{className:"ladder-data-section"},r.createElement("div",{className:"section-header"},r.createElement("h3",null,"Current ",(N=E.find(k=>k.name===e))==null?void 0:N.displayName," Ladder"),r.createElement("div",{className:"action-buttons"},r.createElement("button",{onClick:I,className:"export-btn"},"Export to CSV"),r.createElement("button",{onClick:C,disabled:f,className:"update-btn"},f?"Updating...":"Update Positions"))),b&&r.createElement("div",{className:`message ${b.includes("Error")?"error":"success"}`},b),f?r.createElement("div",{className:"loading"},"Loading ladder data..."):r.createElement("div",{className:"ladder-table"},r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Position"),r.createElement("th",null,"Name"),r.createElement("th",null,"Email"),r.createElement("th",null,"FargoRate"),r.createElement("th",null,"Status"),r.createElement("th",null,"Immunity"))),r.createElement("tbody",null,i.map((k,M)=>r.createElement("tr",{key:k._id||M},r.createElement("td",null,k.position),r.createElement("td",null,k.firstName," ",k.lastName),r.createElement("td",null,k.email),r.createElement("td",null,k.fargoRate),r.createElement("td",null,r.createElement("span",{className:`status ${k.isActive?"active":"inactive"}`},k.isActive?"Active":"Inactive")),r.createElement("td",null,k.immunityUntil?new Date(k.immunityUntil).toLocaleDateString():"None"))))),i.length===0&&r.createElement("div",{className:"no-data"},"No players found in this ladder. Import some data to get started!"))))},VF="_container_1xp3p_1",QF="_header_1xp3p_23",XF="_addButton_1xp3p_53",JF="_formOverlay_1xp3p_85",KF="_form_1xp3p_85",eW="_checkboxes_1xp3p_231",tW="_formButtons_1xp3p_269",nW="_playersList_1xp3p_329",aW="_table_1xp3p_337",rW="_status_1xp3p_387",sW="_active_1xp3p_405",iW="_inactive_1xp3p_415",oW="_editButton_1xp3p_425",lW="_deleteButton_1xp3p_427",$n={container:VF,header:QF,addButton:XF,formOverlay:JF,form:KF,checkboxes:eW,formButtons:tW,playersList:nW,table:aW,status:rW,active:sW,inactive:iW,editButton:oW,deleteButton:lW};function cW(){const[t,a]=v.useState([]),[e,n]=v.useState(!0),[i,l]=v.useState(null),[c,u]=v.useState(!1),[m,h]=v.useState({firstName:"",lastName:"",email:"",phone:"",fargoRate:"",location:"",isActive:!0,ladderName:"499-under"}),f=async()=>{try{const C=await(await fetch(`${ke}/api/ladder/players`)).json();Array.isArray(C)?(a(C),console.log(`Loaded ${C.length} ladder players from ladder endpoint`)):(console.error("Invalid response format:",C),a([]))}catch(S){console.error("Error fetching ladder players:",S),a([])}finally{n(!1)}};v.useEffect(()=>{f()},[]);const y=S=>{const{name:C,value:I,type:N,checked:k}=S.target;h(M=>({...M,[C]:N==="checkbox"?k:I}))},b=async S=>{S.preventDefault();try{const I=await(await fetch(`${ke}/api/ladder/player/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json();I.success?(u(!1),h({firstName:"",lastName:"",email:"",phone:"",fargoRate:"",location:"",isActive:!0,ladderName:"499-under"}),f(),alert("Ladder player added successfully!")):alert("Error adding ladder player: "+(I.error||I.message))}catch(C){console.error("Error adding ladder player:",C),alert("Error adding ladder player")}},w=async S=>{S.preventDefault();try{const I=await(await fetch(`${ke}/api/ladder/player/${i.email}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...m,ladderName:"General"})})).json();I.success?(l(null),h({name:"",email:"",phone:"",skillLevel:"",location:"",isActive:!0}),f(),alert("Ladder player updated successfully!")):alert("Error updating ladder player: "+I.message)}catch(C){console.error("Error updating ladder player:",C),alert("Error updating ladder player")}},E=S=>{l(S),h({firstName:S.firstName||"",lastName:S.lastName||"",email:S.email||"",phone:S.phone||"",fargoRate:S.fargoRate||"",location:S.location||"",isActive:S.isActive!==!1,ladderName:S.ladderName||"499-under"})},_=async S=>{if(confirm("Are you sure you want to remove this player from the ladder?"))try{const I=await(await fetch(`${ke}/api/ladder/player/${S}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({ladderName:"General"})})).json();I.success?(f(),alert("Player removed from ladder successfully!")):alert("Error removing player: "+I.message)}catch(C){console.error("Error removing ladder player:",C),alert("Error removing ladder player")}};return e?r.createElement("div",{className:$n.container},"Loading ladder players..."):r.createElement("div",{className:$n.container},r.createElement("div",{className:$n.header},r.createElement("h2",null,"Ladder Player Management"),r.createElement("button",{className:$n.addButton,onClick:()=>u(!0)},"Add New Ladder Player")),c&&r.createElement("div",{className:$n.formOverlay},r.createElement("div",{className:$n.form},r.createElement("h3",null,"Add New Ladder Player"),r.createElement("form",{onSubmit:b},r.createElement("input",{type:"text",name:"firstName",placeholder:"First Name",value:m.firstName,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"lastName",placeholder:"Last Name",value:m.lastName,onChange:y,required:!0}),r.createElement("input",{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"phone",placeholder:"Phone",value:m.phone,onChange:y}),r.createElement("input",{type:"number",name:"fargoRate",placeholder:"Fargo Rate",value:m.fargoRate,onChange:y,required:!0}),r.createElement("select",{name:"ladderName",value:m.ladderName,onChange:y,required:!0},r.createElement("option",{value:"499-under"},"499 & Under"),r.createElement("option",{value:"500-549"},"500-549"),r.createElement("option",{value:"550-plus"},"550+")),r.createElement("input",{type:"text",name:"location",placeholder:"Preferred Location",value:m.location,onChange:y}),r.createElement("div",{className:$n.checkboxes},r.createElement("label",null,r.createElement("input",{type:"checkbox",name:"isActive",checked:m.isActive,onChange:y}),"Active on Ladder")),r.createElement("div",{className:$n.formButtons},r.createElement("button",{type:"submit"},"Add Player"),r.createElement("button",{type:"button",onClick:()=>u(!1)},"Cancel"))))),i&&r.createElement("div",{className:$n.formOverlay},r.createElement("div",{className:$n.form},r.createElement("h3",null,"Edit Ladder Player: ",i.name),r.createElement("form",{onSubmit:w},r.createElement("input",{type:"text",name:"firstName",placeholder:"First Name",value:m.firstName,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"lastName",placeholder:"Last Name",value:m.lastName,onChange:y,required:!0}),r.createElement("input",{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"phone",placeholder:"Phone",value:m.phone,onChange:y}),r.createElement("input",{type:"number",name:"fargoRate",placeholder:"Fargo Rate",value:m.fargoRate,onChange:y,required:!0}),r.createElement("select",{name:"ladderName",value:m.ladderName,onChange:y,required:!0},r.createElement("option",{value:"499-under"},"499 & Under"),r.createElement("option",{value:"500-549"},"500-549"),r.createElement("option",{value:"550-plus"},"550+")),r.createElement("input",{type:"text",name:"location",placeholder:"Preferred Location",value:m.location,onChange:y}),r.createElement("div",{className:$n.checkboxes},r.createElement("label",null,r.createElement("input",{type:"checkbox",name:"isActive",checked:m.isActive,onChange:y}),"Active on Ladder")),r.createElement("div",{className:$n.formButtons},r.createElement("button",{type:"submit"},"Update Player"),r.createElement("button",{type:"button",onClick:()=>l(null)},"Cancel"))))),r.createElement("div",{className:$n.playersList},r.createElement("table",{className:$n.table},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Ladder"),r.createElement("th",null,"Position"),r.createElement("th",null,"Name"),r.createElement("th",null,"Email"),r.createElement("th",null,"Phone"),r.createElement("th",null,"Fargo Rate"),r.createElement("th",null,"Location"),r.createElement("th",null,"Status"),r.createElement("th",null,"Actions"))),r.createElement("tbody",null,t.map((S,C)=>r.createElement("tr",{key:S._id||S.email},r.createElement("td",null,S.ladderName==="499-under"?"499 & Under":S.ladderName==="500-549"?"500-549":S.ladderName==="550-plus"?"550+":S.ladderName),r.createElement("td",null,S.position),r.createElement("td",null,S.firstName," ",S.lastName),r.createElement("td",null,S.email),r.createElement("td",null,S.phone),r.createElement("td",null,S.fargoRate),r.createElement("td",null,S.location),r.createElement("td",null,r.createElement("span",{className:`${$n.status} ${S.isActive?$n.active:$n.inactive}`},S.isActive?"Active":"Inactive")),r.createElement("td",null,r.createElement("button",{className:$n.editButton,onClick:()=>E(S)},"Edit"),r.createElement("button",{className:$n.deleteButton,onClick:()=>_(S.email)},"Remove"))))))))}const dW="_container_1uhx5_1",uW="_header_1uhx5_23",mW="_addButton_1uhx5_53",pW="_formOverlay_1uhx5_85",fW="_form_1uhx5_85",hW="_formRow_1uhx5_145",gW="_checkboxes_1uhx5_201",yW="_formButtons_1uhx5_239",bW="_playersList_1uhx5_299",vW="_table_1uhx5_307",xW="_status_1uhx5_357",EW="_approved_1uhx5_375",wW="_pending_1uhx5_385",SW="_active_1uhx5_395",CW="_inactive_1uhx5_405",_W="_editButton_1uhx5_415",IW="_deleteButton_1uhx5_417",dn={container:dW,header:uW,addButton:mW,formOverlay:pW,form:fW,formRow:hW,checkboxes:gW,formButtons:yW,playersList:bW,table:vW,status:xW,approved:EW,pending:wW,active:SW,inactive:CW,editButton:_W,deleteButton:IW};function kW(){const[t,a]=v.useState([]),[e,n]=v.useState(!0),[i,l]=v.useState(null),[c,u]=v.useState(!1),[m,h]=v.useState({firstName:"",lastName:"",email:"",phone:"",pin:"",division:"",locations:"",isApproved:!0,isActive:!0}),f=async()=>{try{const C=await(await fetch(`${ke}/api/users`)).json();C.success&&a(C.users)}catch(S){console.error("Error fetching players:",S)}finally{n(!1)}};v.useEffect(()=>{f()},[]);const y=S=>{const{name:C,value:I,type:N,checked:k}=S.target;h(M=>({...M,[C]:N==="checkbox"?k:I}))},b=async S=>{S.preventDefault();try{const I=await(await fetch(`${ke}/api/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json();I.success?(u(!1),h({firstName:"",lastName:"",email:"",phone:"",pin:"",division:"",locations:"",isApproved:!0,isActive:!0}),f(),alert("Player added successfully!")):alert("Error adding player: "+I.message)}catch(C){console.error("Error adding player:",C),alert("Error adding player")}},w=async S=>{S.preventDefault();try{const I=await(await fetch(`${ke}/api/users/${i._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json();I.success?(l(null),h({firstName:"",lastName:"",email:"",phone:"",pin:"",division:"",locations:"",isApproved:!0,isActive:!0}),f(),alert("Player updated successfully!")):alert("Error updating player: "+I.message)}catch(C){console.error("Error updating player:",C),alert("Error updating player")}},E=S=>{l(S),h({firstName:S.firstName||"",lastName:S.lastName||"",email:S.email||"",phone:S.phone||"",pin:S.pin||"",division:S.division||"",locations:S.locations||"",isApproved:S.isApproved||!1,isActive:S.isActive||!0})},_=async S=>{if(confirm("Are you sure you want to delete this player?"))try{const I=await(await fetch(`${ke}/api/users/${S}`,{method:"DELETE"})).json();I.success?(f(),alert("Player deleted successfully!")):alert("Error deleting player: "+I.message)}catch(C){console.error("Error deleting player:",C),alert("Error deleting player")}};return e?r.createElement("div",{className:dn.container},"Loading players..."):r.createElement("div",{className:dn.container},r.createElement("div",{className:dn.header},r.createElement("h2",null,"League Player Management"),r.createElement("button",{className:dn.addButton,onClick:()=>u(!0)},"Add New Player")),c&&r.createElement("div",{className:dn.formOverlay},r.createElement("div",{className:dn.form},r.createElement("h3",null,"Add New Player"),r.createElement("form",{onSubmit:b},r.createElement("div",{className:dn.formRow},r.createElement("input",{type:"text",name:"firstName",placeholder:"First Name",value:m.firstName,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"lastName",placeholder:"Last Name",value:m.lastName,onChange:y,required:!0})),r.createElement("input",{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"phone",placeholder:"Phone",value:m.phone,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"pin",placeholder:"PIN",value:m.pin,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"division",placeholder:"Division",value:m.division,onChange:y}),r.createElement("input",{type:"text",name:"locations",placeholder:"Playing Locations",value:m.locations,onChange:y}),r.createElement("div",{className:dn.checkboxes},r.createElement("label",null,r.createElement("input",{type:"checkbox",name:"isApproved",checked:m.isApproved,onChange:y}),"Approved"),r.createElement("label",null,r.createElement("input",{type:"checkbox",name:"isActive",checked:m.isActive,onChange:y}),"Active")),r.createElement("div",{className:dn.formButtons},r.createElement("button",{type:"submit"},"Add Player"),r.createElement("button",{type:"button",onClick:()=>u(!1)},"Cancel"))))),i&&r.createElement("div",{className:dn.formOverlay},r.createElement("div",{className:dn.form},r.createElement("h3",null,"Edit Player: ",i.firstName," ",i.lastName),r.createElement("form",{onSubmit:w},r.createElement("div",{className:dn.formRow},r.createElement("input",{type:"text",name:"firstName",placeholder:"First Name",value:m.firstName,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"lastName",placeholder:"Last Name",value:m.lastName,onChange:y,required:!0})),r.createElement("input",{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"phone",placeholder:"Phone",value:m.phone,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"pin",placeholder:"PIN",value:m.pin,onChange:y,required:!0}),r.createElement("input",{type:"text",name:"division",placeholder:"Division",value:m.division,onChange:y}),r.createElement("input",{type:"text",name:"locations",placeholder:"Playing Locations",value:m.locations,onChange:y}),r.createElement("div",{className:dn.checkboxes},r.createElement("label",null,r.createElement("input",{type:"checkbox",name:"isApproved",checked:m.isApproved,onChange:y}),"Approved"),r.createElement("label",null,r.createElement("input",{type:"checkbox",name:"isActive",checked:m.isActive,onChange:y}),"Active")),r.createElement("div",{className:dn.formButtons},r.createElement("button",{type:"submit"},"Update Player"),r.createElement("button",{type:"button",onClick:()=>l(null)},"Cancel"))))),r.createElement("div",{className:dn.playersList},r.createElement("table",{className:dn.table},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Name"),r.createElement("th",null,"Email"),r.createElement("th",null,"Phone"),r.createElement("th",null,"PIN"),r.createElement("th",null,"Division"),r.createElement("th",null,"Status"),r.createElement("th",null,"Actions"))),r.createElement("tbody",null,t.map(S=>r.createElement("tr",{key:S._id},r.createElement("td",null,S.firstName," ",S.lastName),r.createElement("td",null,S.email),r.createElement("td",null,S.phone),r.createElement("td",null,S.pin),r.createElement("td",null,S.division),r.createElement("td",null,r.createElement("span",{className:`${dn.status} ${S.isApproved?dn.approved:dn.pending}`},S.isApproved?"Approved":"Pending"),r.createElement("span",{className:`${dn.status} ${S.isActive?dn.active:dn.inactive}`},S.isActive?"Active":"Inactive")),r.createElement("td",null,r.createElement("button",{className:dn.editButton,onClick:()=>E(S)},"Edit"),r.createElement("button",{className:dn.deleteButton,onClick:()=>_(S._id)},"Delete"))))))))}function NW({currentAppName:t}){return r.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0 0.5rem 0",position:"static",background:"rgba(0,0,0,0.8)",backdropFilter:"blur(6px)",boxShadow:"0 4px 20px rgba(0,0,0,0.5)",marginTop:"60px"}},r.createElement("span",{className:"app-header-title"},t||"Front Range Pool League"))}function AW({isAuthenticated:t,userFirstName:a,userLastName:e,userEmail:n,userPin:i,handleLoginSuccess:l,handleLogout:c}){return ss(),r.createElement("main",{className:"main-app-content"},t?r.createElement(S5,{isAuthenticated:t,userFirstName:a,userLastName:e,userEmail:n,userPin:i,handleLogout:c}):r.createElement(WF,{onLoginSuccess:l}))}function DW(){const[t,a]=v.useState(!1),[e,n]=v.useState(""),[i,l]=v.useState(""),[c,u]=v.useState(""),[m,h]=v.useState(""),[f,y]=v.useState("");v.useEffect(()=>{localStorage.getItem("isAuthenticated")==="true"&&(n(localStorage.getItem("userFirstName")||""),l(localStorage.getItem("userLastName")||""),u(localStorage.getItem("userEmail")||""),h(localStorage.getItem("userPin")||""),a(!0))},[]),v.useEffect(()=>{const T=q=>{y(q.detail)};return window.addEventListener("appNameChange",T),()=>{window.removeEventListener("appNameChange",T)}},[]);const b=(T,q,z)=>{let G="",K="";if(T){const ie=T.trim().split(" ");G=ie[0],K=ie.slice(1).join(" ")}n(G),l(K),u(q),h(z),a(!0),localStorage.setItem("userFirstName",G),localStorage.setItem("userLastName",K),localStorage.setItem("userEmail",q),localStorage.setItem("userPin",z),localStorage.setItem("isAuthenticated","true")},[w,E]=v.useState(!1),[_,S]=v.useState(!1),[C,I]=v.useState(!1),N=()=>w,k=()=>_;v.useEffect(()=>{(async()=>{if(t&&c&&m){I(!0);try{const q=await Li.isSuperAdmin(c,m);E(q);const z=await Li.isAdmin(c,m);S(z),console.log(" Admin Status Check:",{userEmail:c,isSuperAdmin:q,isAdmin:z})}catch(q){console.log(" Admin check failed:",q.message),E(!1),S(!1)}finally{I(!1)}}})()},[t,c,m]);const M=()=>{n(""),l(""),u(""),h(""),y(""),a(!1),localStorage.removeItem("userFirstName"),localStorage.removeItem("userLastName"),localStorage.removeItem("userEmail"),localStorage.removeItem("userPin"),localStorage.removeItem("isAuthenticated")};return r.createElement(k3,null,r.createElement("div",{style:{position:"relative",minHeight:"100vh",width:"100%",overflowX:"hidden",background:"#000"}},r.createElement(LF,null),r.createElement(HF,{currentAppName:f,isAdmin:_,isSuperAdmin:w}),r.createElement(NW,{currentAppName:f}),r.createElement("div",{style:{position:"relative",zIndex:3,maxWidth:900,margin:"0 auto",width:"100%",background:"none",minHeight:"100vh",paddingTop:"60px"}},r.createElement(n3,null,r.createElement(pa,{path:"/hub",element:t?r.createElement(qr,{appName:"Front Range Pool Hub"},r.createElement("main",{className:"main-app-content"},r.createElement(S5,{isAuthenticated:t,userFirstName:e,userLastName:i,userEmail:c,userPin:m,handleLogout:M}))):r.createElement(Yr,{to:"/"})}),r.createElement(pa,{path:"/league",element:t?r.createElement(qr,{appName:"Front Range Pool League"},r.createElement("main",{className:"main-app-content"},r.createElement(R7,{playerName:e,playerLastName:i,senderEmail:c,onScheduleMatch:()=>{},onOpenChat:()=>window.location.hash="#/league/chat",onLogout:M,userPin:m,onGoToAdmin:()=>{},onGoToPlatformAdmin:()=>navigate("/platform-admin")}))):r.createElement(Yr,{to:"/"})}),r.createElement(pa,{path:"/league/chat",element:t?r.createElement(qr,{appName:"Front Range Pool League - Chat"},r.createElement("main",{className:"main-app-content"},r.createElement(d5,{userName:`${e} ${i}`,userEmail:c,userPin:m}))):r.createElement(Yr,{to:"/"})}),r.createElement(pa,{path:"/ladder",element:t?r.createElement(qr,{appName:"Front Range Pool Ladder"},r.createElement("main",{className:"main-app-content"},r.createElement(jF,{playerName:e,playerLastName:i,senderEmail:c,userPin:m,onLogout:M,isAdmin:_}))):r.createElement(Yr,{to:"/"})}),r.createElement(pa,{path:"/ladder/manage",element:t&&k()?r.createElement(qr,{appName:"Ladder Management"},r.createElement("main",{className:"main-app-content"},r.createElement(ZF,{userEmail:c,userPin:m}))):r.createElement(Yr,{to:"/"})}),r.createElement(pa,{path:"/ladder/admin",element:t&&k()?r.createElement(qr,{appName:"Ladder Player Management"},r.createElement("main",{className:"main-app-content"},r.createElement(cW,null))):r.createElement(Yr,{to:"/"})}),r.createElement(pa,{path:"/admin",element:t&&k()?r.createElement(qr,{appName:"Admin Dashboard"},r.createElement("div",{className:"admin-app-content"},r.createElement(sU,null))):r.createElement(Yr,{to:"/"})}),r.createElement(pa,{path:"/admin/players",element:t&&k()?r.createElement(qr,{appName:"Player Management"},r.createElement("div",{className:"admin-app-content"},r.createElement(kW,null))):r.createElement(Yr,{to:"/"})}),r.createElement(pa,{path:"/platform-admin",element:t&&N()?r.createElement(qr,{appName:"Platform Admin"},r.createElement("div",{className:"platform-admin-app-content"},r.createElement(iU,null))):r.createElement(Yr,{to:"/"})}),r.createElement(pa,{path:"/confirm-match",element:r.createElement(IN,null)}),r.createElement(pa,{path:"/simple-pool",element:r.createElement(f0,null)}),r.createElement(pa,{path:"/tenball-tutorial",element:r.createElement(DF,null)}),r.createElement(pa,{path:"/mobile-test",element:r.createElement(UF,null)}),r.createElement(pa,{path:"/",element:r.createElement(qr,{appName:t?"Front Range Pool Hub":""},r.createElement(AW,{isAuthenticated:t,userFirstName:e,userLastName:i,userEmail:c,userPin:m,handleLoginSuccess:b,handleLogout:M}))}),r.createElement(pa,{path:"*",element:r.createElement(Yr,{to:"/"})})))))}try{aC(async()=>{const{default:t}=await import("./ResizeObserver.es-EPYnRShv.js");return{default:t}},[],import.meta.url).then(({default:t})=>{window.ResizeObserver||(window.ResizeObserver=t)}).catch(()=>{console.warn("ResizeObserver polyfill not available")})}catch(t){console.warn("ResizeObserver polyfill setup failed:",t)}if(typeof window<"u"&&window.self!==window.top){document.documentElement.setAttribute("data-iframe","true"),document.body.setAttribute("data-iframe","true");const a=document.getElementById("root");a&&a.setAttribute("data-iframe","true")}uC.createRoot(document.getElementById("root")).render(r.createElement(r.StrictMode,null,r.createElement(DW,null)));
